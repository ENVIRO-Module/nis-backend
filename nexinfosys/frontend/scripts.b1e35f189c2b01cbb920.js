!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.proj4=e()}(this,function(){"use strict";function t(t,e){if(t[e])return t[e];for(var i,n=Object.keys(t),r=e.toLowerCase().replace(K,""),o=-1;++o<n.length;)if((i=n[o]).toLowerCase().replace(K,"")===r)return t[i]}function e(t){if("string"!=typeof t)throw new Error("not a string");this.text=t.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=Q}function i(t){return new e(t).output()}function n(t,e,i){Array.isArray(e)&&(i.unshift(e),e=null);var n=i.reduce(function(t,e){return r(e,t),t},e?{}:t);e&&(t[e]=n)}function r(t,e){if(Array.isArray(t)){var i=t.shift();if("PARAMETER"===i&&(i=t.shift()),1===t.length)return Array.isArray(t[0])?(e[i]={},void r(t[0],e[i])):void(e[i]=t[0]);if(t.length)if("TOWGS84"!==i){var o;switch(Array.isArray(i)||(e[i]={}),i){case"UNIT":case"PRIMEM":case"VERT_DATUM":return e[i]={name:t[0].toLowerCase(),convert:t[1]},void(3===t.length&&r(t[2],e[i]));case"SPHEROID":case"ELLIPSOID":return e[i]={name:t[0],a:t[1],rf:t[2]},void(4===t.length&&r(t[3],e[i]));case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"EDATUM":case"ENGINEERINGDATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":case"COMPD_CS":case"COMPOUNDCRS":case"ENGINEERINGCRS":case"ENGCRS":case"FITTED_CS":case"LOCAL_DATUM":case"DATUM":return t[0]=["name",t[0]],void n(e,i,t);default:for(o=-1;++o<t.length;)if(!Array.isArray(t[o]))return r(t,e[i]);return n(e,i,t)}}else e[i]=t;else e[i]=!0}else e[t]=!0}function o(t){return t*nt}function s(t){function e(e){return e*(t.to_meter||1)}"GEOGCS"===t.type?t.projName="longlat":"LOCAL_CS"===t.type?(t.projName="identity",t.local=!0):t.projName="object"==typeof t.PROJECTION?Object.keys(t.PROJECTION)[0]:t.PROJECTION,t.UNIT&&(t.units=t.UNIT.name.toLowerCase(),"metre"===t.units&&(t.units="meter"),t.UNIT.convert&&("GEOGCS"===t.type?t.DATUM&&t.DATUM.SPHEROID&&(t.to_meter=t.UNIT.convert*t.DATUM.SPHEROID.a):t.to_meter=t.UNIT.convert));var i=t.GEOGCS;"GEOGCS"===t.type&&(i=t),i&&(t.datumCode=i.DATUM?i.DATUM.name.toLowerCase():i.name.toLowerCase(),"d_"===t.datumCode.slice(0,2)&&(t.datumCode=t.datumCode.slice(2)),"new_zealand_geodetic_datum_1949"!==t.datumCode&&"new_zealand_1949"!==t.datumCode||(t.datumCode="nzgd49"),"wgs_1984"===t.datumCode&&("Mercator_Auxiliary_Sphere"===t.PROJECTION&&(t.sphere=!0),t.datumCode="wgs84"),"_ferro"===t.datumCode.slice(-6)&&(t.datumCode=t.datumCode.slice(0,-6)),"_jakarta"===t.datumCode.slice(-8)&&(t.datumCode=t.datumCode.slice(0,-8)),~t.datumCode.indexOf("belge")&&(t.datumCode="rnb72"),i.DATUM&&i.DATUM.SPHEROID&&(t.ellps=i.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),"international"===t.ellps.toLowerCase().slice(0,13)&&(t.ellps="intl"),t.a=i.DATUM.SPHEROID.a,t.rf=parseFloat(i.DATUM.SPHEROID.rf,10)),i.DATUM&&i.DATUM.TOWGS84&&(t.datum_params=i.DATUM.TOWGS84),~t.datumCode.indexOf("osgb_1936")&&(t.datumCode="osgb36"),~t.datumCode.indexOf("osni_1952")&&(t.datumCode="osni52"),(~t.datumCode.indexOf("tm65")||~t.datumCode.indexOf("geodetic_datum_of_1965"))&&(t.datumCode="ire65"),"ch1903+"===t.datumCode&&(t.datumCode="ch1903"),~t.datumCode.indexOf("israel")&&(t.datumCode="isr93")),t.b&&!isFinite(t.b)&&(t.b=t.a),[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_2","Standard_Parallel_2"],["false_easting","False_Easting"],["false_northing","False_Northing"],["central_meridian","Central_Meridian"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",o],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",o],["x0","false_easting",e],["y0","false_northing",e],["long0","central_meridian",o],["lat0","latitude_of_origin",o],["lat0","standard_parallel_1",o],["lat1","standard_parallel_1",o],["lat2","standard_parallel_2",o],["azimuth","Azimuth"],["alpha","azimuth",o],["srsCode","name"]].forEach(function(e){return function(t,e){var i=e[0],n=e[1];!(i in t)&&n in t&&(t[i]=t[n],3===e.length&&(t[i]=e[2](t[i])))}(t,e)}),t.long0||!t.longc||"Albers_Conic_Equal_Area"!==t.projName&&"Lambert_Azimuthal_Equal_Area"!==t.projName||(t.long0=t.longc),t.lat_ts||!t.lat1||"Stereographic_South_Pole"!==t.projName&&"Polar Stereographic (variant B)"!==t.projName||(t.lat0=o(t.lat1>0?90:-90),t.lat_ts=t.lat1)}function a(t){var e=this;if(2===arguments.length){var i=arguments[1];a[t]="string"==typeof i?"+"===i.charAt(0)?Z(arguments[1]):rt(arguments[1]):i}else if(1===arguments.length){if(Array.isArray(t))return t.map(function(t){Array.isArray(t)?a.apply(e,t):a(t)});if("string"==typeof t){if(t in a)return a[t]}else"EPSG"in t?a["EPSG:"+t.EPSG]=t:"ESRI"in t?a["ESRI:"+t.ESRI]=t:"IAU2000"in t?a["IAU2000:"+t.IAU2000]=t:console.log(t);return}}function h(e){var i=t(e,"authority");if(i){var n=t(i,"epsg");return n&&st.indexOf(n)>-1}}function l(e){var i=t(e,"extension");if(i)return t(i,"proj4")}function d(t){if(!function(t){return"string"==typeof t}(t))return t;if(function(t){return t in a}(t))return a[t];if(function(t){return ot.some(function(e){return t.indexOf(e)>-1})}(t)){var e=rt(t);if(h(e))return a["EPSG:3857"];var i=l(e);return i?Z(i):e}return function(t){return"+"===t[0]}(t)?Z(t):void 0}function u(t){return t}function c(t,e){var i=gt.length;return t.names?(gt[i]=t,t.names.forEach(function(t){pt[t.toLowerCase()]=i}),this):(console.log(e),!0)}function f(e,i){if(!(this instanceof f))return new f(e);i=i||function(t){if(t)throw t};var n=d(e);if("object"==typeof n){var r=f.projections.get(n.projName);if(r){if(n.datumCode&&"none"!==n.datumCode){var o=t(bt,n.datumCode);o&&(n.datum_params=o.towgs84?o.towgs84.split(","):null,n.ellps=o.ellipse,n.datumName=o.datumName?o.datumName:n.datumCode)}n.k0=n.k0||1,n.axis=n.axis||"enu",n.ellps=n.ellps||"wgs84";var s=function(e,i,n,r,o){if(!e){var s=t(vt,r);s||(s=yt),e=s.a,i=s.b,n=s.rf}return n&&!i&&(i=(1-1/n)*e),(0===n||Math.abs(e-i)<q)&&(o=!0,i=e),{a:e,b:i,rf:n,sphere:o}}(n.a,n.b,n.rf,n.ellps,n.sphere),a=function(t,e,i,n){var r=t*t,o=e*e,s=(r-o)/r,a=0;return n?(r=(t*=1-s*(F+s*(z+s*j)))*t,s=0):a=Math.sqrt(s),{es:s,e:a,ep2:(r-o)/o}}(s.a,s.b,0,n.R_A),h=n.datum||function(t,e,i,n,r,o){var s={};return s.datum_type=void 0===t||"none"===t?I:P,e&&(s.datum_params=e.map(parseFloat),0===s.datum_params[0]&&0===s.datum_params[1]&&0===s.datum_params[2]||(s.datum_type=L),s.datum_params.length>3&&(0===s.datum_params[3]&&0===s.datum_params[4]&&0===s.datum_params[5]&&0===s.datum_params[6]||(s.datum_type=O,s.datum_params[3]*=B,s.datum_params[4]*=B,s.datum_params[5]*=B,s.datum_params[6]=s.datum_params[6]/1e6+1))),s.a=i,s.b=n,s.es=r,s.ep2=o,s}(n.datumCode,n.datum_params,s.a,s.b,a.es,a.ep2);at(this,n),at(this,r),this.a=s.a,this.b=s.b,this.rf=s.rf,this.sphere=s.sphere,this.es=a.es,this.e=a.e,this.ep2=a.ep2,this.datum=h,this.init(),i(null,this)}else i(e)}else i(e)}function p(t){return t===L||t===O}function g(t){if("function"==typeof Number.isFinite){if(Number.isFinite(t))return;throw new TypeError("coordinates must be finite numbers")}if("number"!=typeof t||t!=t||!isFinite(t))throw new TypeError("coordinates must be finite numbers")}function m(t,e,i){var n;return Array.isArray(i)&&(i=_t(i)),kt(i),t.datum&&e.datum&&function(t,e){return(t.datum.datum_type===L||t.datum.datum_type===O)&&"WGS84"!==e.datumCode||(e.datum.datum_type===L||e.datum.datum_type===O)&&"WGS84"!==t.datumCode}(t,e)&&(i=m(t,n=new f("WGS84"),i),t=n),"enu"!==t.axis&&(i=xt(t,!1,i)),"longlat"===t.projName?i={x:i.x*H,y:i.y*H}:(t.to_meter&&(i={x:i.x*t.to_meter,y:i.y*t.to_meter}),i=t.inverse(i)),t.from_greenwich&&(i.x+=t.from_greenwich),i=wt(t.datum,e.datum,i),e.from_greenwich&&(i={x:i.x-e.from_greenwich,y:i.y}),"longlat"===e.projName?i={x:i.x*W,y:i.y*W}:(i=e.forward(i),e.to_meter&&(i={x:i.x/e.to_meter,y:i.y/e.to_meter})),"enu"!==e.axis?xt(e,!0,i):i}function v(t,e,i){var n,r,o;return Array.isArray(i)?(n=m(t,e,i),3===i.length?[n.x,n.y,n.z]:[n.x,n.y]):(r=m(t,e,i),2===(o=Object.keys(i)).length?r:(o.forEach(function(t){"x"!==t&&"y"!==t&&(r[t]=i[t])}),r))}function y(t){return t instanceof f?t:t.oProj?t.oProj:f(t)}function b(t,e,i){t=y(t);var n,r=!1;return void 0===e?(e=t,t=St,r=!0):(void 0!==e.x||Array.isArray(e))&&(i=e,e=t,t=St,r=!0),e=y(e),i?v(t,e,i):(n={forward:function(i){return v(t,e,i)},inverse:function(i){return v(e,t,i)}},r&&(n.oProj=e),n)}function w(t,e){return e=e||5,function(t,e){var i="00000"+t.easting,n="00000"+t.northing;return t.zoneNumber+t.zoneLetter+function(t,e,i){var n=C(i);return function(t,e,i){var n=i-1,r=Ct.charCodeAt(n),o=Et.charCodeAt(n),s=r+t-1,a=o+e,h=!1;return s>Lt&&(s=s-Lt+Nt-1,h=!0),(s===At||r<At&&s>At||(s>At||r<At)&&h)&&s++,(s===Dt||r<Dt&&s>Dt||(s>Dt||r<Dt)&&h)&&++s===At&&s++,s>Lt&&(s=s-Lt+Nt-1),a>Tt?(a=a-Tt+Nt-1,h=!0):h=!1,(a===At||o<At&&a>At||(a>At||o<At)&&h)&&a++,(a===Dt||o<Dt&&a>Dt||(a>Dt||o<Dt)&&h)&&++a===At&&a++,a>Tt&&(a=a-Tt+Nt-1),String.fromCharCode(s)+String.fromCharCode(a)}(Math.floor(t/1e5),Math.floor(e/1e5)%20,n)}(t.easting,t.northing,t.zoneNumber)+i.substr(i.length-5,e)+n.substr(n.length-5,e)}(function(t){var e,i,n,r,o,s,a=t.lat,h=t.lon,l=6378137,d=_(a),u=_(h);s=Math.floor((h+180)/6)+1,180===h&&(s=60),a>=56&&a<64&&h>=3&&h<12&&(s=32),a>=72&&a<84&&(h>=0&&h<9?s=31:h>=9&&h<21?s=33:h>=21&&h<33?s=35:h>=33&&h<42&&(s=37)),o=_(6*(s-1)-180+3),e=l/Math.sqrt(1-.00669438*Math.sin(d)*Math.sin(d)),i=Math.tan(d)*Math.tan(d),n=.006739496752268451*Math.cos(d)*Math.cos(d);var c=.9996*e*((r=Math.cos(d)*(u-o))+(1-i+n)*r*r*r/6+(5-18*i+i*i+72*n-.39089081163157013)*r*r*r*r*r/120)+5e5,f=.9996*(l*(.9983242984503243*d-.002514607064228144*Math.sin(2*d)+2639046602129982e-21*Math.sin(4*d)-3.418046101696858e-9*Math.sin(6*d))+e*Math.tan(d)*(r*r/2+(5-i+9*n+4*n*n)*r*r*r*r/24+(61-58*i+i*i+600*n-2.2240339282485886)*r*r*r*r*r*r/720));return a<0&&(f+=1e7),{northing:Math.round(f),easting:Math.round(c),zoneNumber:s,zoneLetter:M(a)}}({lat:t[1],lon:t[0]}),e)}function x(t){var e=S(E(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat]:[(e.left+e.right)/2,(e.top+e.bottom)/2]}function _(t){return t*(Math.PI/180)}function k(t){return t/Math.PI*180}function S(t){var e=t.northing,i=t.easting,n=t.zoneLetter,r=t.zoneNumber;if(r<0||r>60)return null;var o,s,a,h,l,d,u,c,f=6378137,p=(1-Math.sqrt(.99330562))/(1+Math.sqrt(.99330562)),g=i-5e5,m=e;n<"N"&&(m-=1e7),d=6*(r-1)-180+3,c=(u=m/.9996/6367449.145945056)+(3*p/2-27*p*p*p/32)*Math.sin(2*u)+(21*p*p/16-55*p*p*p*p/32)*Math.sin(4*u)+151*p*p*p/96*Math.sin(6*u),o=f/Math.sqrt(1-.00669438*Math.sin(c)*Math.sin(c)),s=Math.tan(c)*Math.tan(c),a=.006739496752268451*Math.cos(c)*Math.cos(c),h=.99330562*f/Math.pow(1-.00669438*Math.sin(c)*Math.sin(c),1.5),l=g/(.9996*o);var v=c-o*Math.tan(c)/h*(l*l/2-(5+3*s+10*a-4*a*a-.06065547077041606)*l*l*l*l/24+(61+90*s+298*a+45*s*s-1.6983531815716497-3*a*a)*l*l*l*l*l*l/720);v=k(v);var y,b=(l-(1+2*s+a)*l*l*l/6+(5-2*a+28*s-3*a*a+.05391597401814761+24*s*s)*l*l*l*l*l/120)/Math.cos(c);if(b=d+k(b),t.accuracy){var w=S({northing:t.northing+t.accuracy,easting:t.easting+t.accuracy,zoneLetter:t.zoneLetter,zoneNumber:t.zoneNumber});y={top:w.lat,right:w.lon,bottom:v,left:b}}else y={lat:v,lon:b};return y}function M(t){var e="Z";return 84>=t&&t>=72?e="X":72>t&&t>=64?e="W":64>t&&t>=56?e="V":56>t&&t>=48?e="U":48>t&&t>=40?e="T":40>t&&t>=32?e="S":32>t&&t>=24?e="R":24>t&&t>=16?e="Q":16>t&&t>=8?e="P":8>t&&t>=0?e="N":0>t&&t>=-8?e="M":-8>t&&t>=-16?e="L":-16>t&&t>=-24?e="K":-24>t&&t>=-32?e="J":-32>t&&t>=-40?e="H":-40>t&&t>=-48?e="G":-48>t&&t>=-56?e="F":-56>t&&t>=-64?e="E":-64>t&&t>=-72?e="D":-72>t&&t>=-80&&(e="C"),e}function C(t){var e=t%Mt;return 0===e&&(e=Mt),e}function E(t){if(t&&0===t.length)throw"MGRSPoint coverting from nothing";for(var e,i=t.length,n=null,r="",o=0;!/[A-Z]/.test(e=t.charAt(o));){if(o>=2)throw"MGRSPoint bad conversion from: "+t;r+=e,o++}var s=parseInt(r,10);if(0===o||o+3>i)throw"MGRSPoint bad conversion from: "+t;var a=t.charAt(o++);if(a<="A"||"B"===a||"Y"===a||a>="Z"||"I"===a||"O"===a)throw"MGRSPoint zone letter "+a+" not handled: "+t;n=t.substring(o,o+=2);for(var h=C(s),l=function(t,e){for(var i=Ct.charCodeAt(h-1),n=1e5,r=!1;i!==t.charCodeAt(0);){if(++i===At&&i++,i===Dt&&i++,i>Lt){if(r)throw"Bad character: "+t;i=Nt,r=!0}n+=1e5}return n}(n.charAt(0)),d=function(t,e){if(t>"V")throw"MGRSPoint given invalid Northing "+t;for(var i=Et.charCodeAt(h-1),n=0,r=!1;i!==t.charCodeAt(0);){if(++i===At&&i++,i===Dt&&i++,i>Tt){if(r)throw"Bad character: "+t;i=Nt,r=!0}n+=1e5}return n}(n.charAt(1));d<N(a);)d+=2e6;var u=i-o;if(u%2!=0)throw"MGRSPoint has to have an even number \nof digits after the zone letter and two 100km letters - front \nhalf for easting meters, second half for \nnorthing meters"+t;var c,f,p,g=u/2,m=0,v=0;return g>0&&(c=1e5/Math.pow(10,g),f=t.substring(o,o+g),m=parseFloat(f)*c,p=t.substring(o+g),v=parseFloat(p)*c),{easting:m+l,northing:v+d,zoneLetter:a,zoneNumber:s,accuracy:c}}function N(t){var e;switch(t){case"C":e=11e5;break;case"D":e=2e6;break;case"E":e=28e5;break;case"F":e=37e5;break;case"G":e=46e5;break;case"H":e=55e5;break;case"J":e=64e5;break;case"K":e=73e5;break;case"L":e=82e5;break;case"M":e=91e5;break;case"N":e=0;break;case"P":e=8e5;break;case"Q":e=17e5;break;case"R":e=26e5;break;case"S":e=35e5;break;case"T":e=44e5;break;case"U":e=53e5;break;case"V":e=62e5;break;case"W":e=7e6;break;case"X":e=79e5;break;default:e=-1}if(e>=0)return e;throw"Invalid zone letter: "+t}function A(t,e,i){if(!(this instanceof A))return new A(t,e,i);if(Array.isArray(t))this.x=t[0],this.y=t[1],this.z=t[2]||0;else if("object"==typeof t)this.x=t.x,this.y=t.y,this.z=t.z||0;else if("string"==typeof t&&void 0===e){var n=t.split(",");this.x=parseFloat(n[0],10),this.y=parseFloat(n[1],10),this.z=parseFloat(n[2],10)||0}else this.x=t,this.y=e,this.z=i||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}function D(t,e,i,n){var r;return t<q?(n.value=Me.AREA_0,r=0):(r=Math.atan2(e,i),Math.abs(r)<=U?n.value=Me.AREA_0:r>U&&r<=R+U?(n.value=Me.AREA_1,r-=R):r>R+U||r<=-(R+U)?(n.value=Me.AREA_2,r=r>=0?r-Y:r+Y):(n.value=Me.AREA_3,r+=R)),r}function T(t,e){var i=t+e;return i<-Y?i+=V:i>+Y&&(i-=V),i}var L=1,O=2,P=4,I=5,B=484813681109536e-20,R=Math.PI/2,F=.16666666666666666,z=.04722222222222222,j=.022156084656084655,q=1e-10,H=.017453292519943295,W=57.29577951308232,U=Math.PI/4,V=2*Math.PI,Y=3.14159265359,G={greenwich:0,lisbon:-9.131906111111,paris:2.337229166667,bogota:-74.080916666667,madrid:-3.687938888889,rome:12.452333333333,bern:7.439583333333,jakarta:106.807719444444,ferro:-17.666666666667,brussels:4.367975,stockholm:18.058277777778,athens:23.7163375,oslo:10.722916666667},X={ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937}},K=/[\s_\-\/\(\)]/g,Z=function(e){var i,n,r,o={},s=e.split("+").map(function(t){return t.trim()}).filter(function(t){return t}).reduce(function(t,e){var i=e.split("=");return i.push(!0),t[i[0].toLowerCase()]=i[1],t},{}),a={proj:"projName",datum:"datumCode",rf:function(t){o.rf=parseFloat(t)},lat_0:function(t){o.lat0=t*H},lat_1:function(t){o.lat1=t*H},lat_2:function(t){o.lat2=t*H},lat_ts:function(t){o.lat_ts=t*H},lon_0:function(t){o.long0=t*H},lon_1:function(t){o.long1=t*H},lon_2:function(t){o.long2=t*H},alpha:function(t){o.alpha=parseFloat(t)*H},lonc:function(t){o.longc=t*H},x_0:function(t){o.x0=parseFloat(t)},y_0:function(t){o.y0=parseFloat(t)},k_0:function(t){o.k0=parseFloat(t)},k:function(t){o.k0=parseFloat(t)},a:function(t){o.a=parseFloat(t)},b:function(t){o.b=parseFloat(t)},r_a:function(){o.R_A=!0},zone:function(t){o.zone=parseInt(t,10)},south:function(){o.utmSouth=!0},towgs84:function(t){o.datum_params=t.split(",").map(function(t){return parseFloat(t)})},to_meter:function(t){o.to_meter=parseFloat(t)},units:function(e){o.units=e;var i=t(X,e);i&&(o.to_meter=i.to_meter)},from_greenwich:function(t){o.from_greenwich=t*H},pm:function(e){var i=t(G,e);o.from_greenwich=(i||parseFloat(e))*H},nadgrids:function(t){"@null"===t?o.datumCode="none":o.nadgrids=t},axis:function(t){3===t.length&&-1!=="ewnsud".indexOf(t.substr(0,1))&&-1!=="ewnsud".indexOf(t.substr(1,1))&&-1!=="ewnsud".indexOf(t.substr(2,1))&&(o.axis=t)}};for(i in s)n=s[i],i in a?"function"==typeof(r=a[i])?r(n):o[r]=n:o[i]=n;return"string"==typeof o.datumCode&&"WGS84"!==o.datumCode&&(o.datumCode=o.datumCode.toLowerCase()),o},Q=1,$=/\s/,J=/[A-Za-z]/,tt=/[A-Za-z84]/,et=/[,\]]/,it=/[\d\.E\-\+]/;e.prototype.readCharicter=function(){var t=this.text[this.place++];if(4!==this.state)for(;$.test(t);){if(this.place>=this.text.length)return;t=this.text[this.place++]}switch(this.state){case Q:return this.neutral(t);case 2:return this.keyword(t);case 4:return this.quoted(t);case 5:return this.afterquote(t);case 3:return this.number(t);case-1:return}},e.prototype.afterquote=function(t){if('"'===t)return this.word+='"',void(this.state=4);if(et.test(t))return this.word=this.word.trim(),void this.afterItem(t);throw new Error("havn't handled \""+t+'" in afterquote yet, index '+this.place)},e.prototype.afterItem=function(t){return","===t?(null!==this.word&&this.currentObject.push(this.word),this.word=null,void(this.state=Q)):"]"===t?(this.level--,null!==this.word&&(this.currentObject.push(this.word),this.word=null),this.state=Q,this.currentObject=this.stack.pop(),void(this.currentObject||(this.state=-1))):void 0},e.prototype.number=function(t){if(!it.test(t)){if(et.test(t))return this.word=parseFloat(this.word),void this.afterItem(t);throw new Error("havn't handled \""+t+'" in number yet, index '+this.place)}this.word+=t},e.prototype.quoted=function(t){'"'!==t?this.word+=t:this.state=5},e.prototype.keyword=function(t){if(tt.test(t))this.word+=t;else{if("["===t){var e=[];return e.push(this.word),this.level++,null===this.root?this.root=e:this.currentObject.push(e),this.stack.push(this.currentObject),this.currentObject=e,void(this.state=Q)}if(!et.test(t))throw new Error("havn't handled \""+t+'" in keyword yet, index '+this.place);this.afterItem(t)}},e.prototype.neutral=function(t){if(J.test(t))return this.word=t,void(this.state=2);if('"'===t)return this.word="",void(this.state=4);if(it.test(t))return this.word=t,void(this.state=3);if(!et.test(t))throw new Error("havn't handled \""+t+'" in neutral yet, index '+this.place);this.afterItem(t)},e.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(-1===this.state)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};var nt=.017453292519943295,rt=function(t){var e=i(t),n=e.shift(),o=e.shift();e.unshift(["name",o]),e.unshift(["type",n]);var a={};return r(e,a),s(a),a};!function(t){t("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),t("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),t("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),t.WGS84=t["EPSG:4326"],t["EPSG:3785"]=t["EPSG:3857"],t.GOOGLE=t["EPSG:3857"],t["EPSG:900913"]=t["EPSG:3857"],t["EPSG:102113"]=t["EPSG:3857"]}(a);var ot=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"],st=["3857","900913","3785","102113"],at=function(t,e){var i,n;if(t=t||{},!e)return t;for(n in e)void 0!==(i=e[n])&&(t[n]=i);return t},ht=function(t,e,i){var n=t*e;return i/Math.sqrt(1-n*n)},lt=function(t){return t<0?-1:1},dt=function(t){return Math.abs(t)<=Y?t:t-lt(t)*V},ut=function(t,e,i){var n=t*i;return n=Math.pow((1-n)/(1+n),.5*t),Math.tan(.5*(R-e))/n},ct=function(t,e){for(var i,n,r=.5*t,o=R-2*Math.atan(e),s=0;s<=15;s++)if(i=t*Math.sin(o),o+=n=R-2*Math.atan(e*Math.pow((1-i)/(1+i),r))-o,Math.abs(n)<=1e-10)return o;return-9999},ft=[{init:function(){var t=this.b/this.a;this.es=1-t*t,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.k0=this.sphere?Math.cos(this.lat_ts):ht(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k0=this.k?this.k:1)},forward:function(t){var e,i,n=t.x,r=t.y;if(r*W>90&&r*W<-90&&n*W>180&&n*W<-180)return null;if(Math.abs(Math.abs(r)-R)<=q)return null;if(this.sphere)e=this.x0+this.a*this.k0*dt(n-this.long0),i=this.y0+this.a*this.k0*Math.log(Math.tan(U+.5*r));else{var o=Math.sin(r),s=ut(this.e,r,o);e=this.x0+this.a*this.k0*dt(n-this.long0),i=this.y0-this.a*this.k0*Math.log(s)}return t.x=e,t.y=i,t},inverse:function(t){var e,i,n=t.x-this.x0,r=t.y-this.y0;if(this.sphere)i=R-2*Math.atan(Math.exp(-r/(this.a*this.k0)));else{var o=Math.exp(-r/(this.a*this.k0));if(-9999===(i=ct(this.e,o)))return null}return e=dt(this.long0+n/(this.a*this.k0)),t.x=e,t.y=i,t},names:["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"]},{init:function(){},forward:u,inverse:u,names:["longlat","identity"]}],pt={},gt=[],mt={start:function(){ft.forEach(c)},add:c,get:function(t){if(!t)return!1;var e=t.toLowerCase();return void 0!==pt[e]&&gt[pt[e]]?gt[pt[e]]:void 0}},vt={MERIT:{a:6378137,rf:298.257,ellipseName:"MERIT 1983"},SGS85:{a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},GRS80:{a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},IAU76:{a:6378140,rf:298.257,ellipseName:"IAU 1976"},airy:{a:6377563.396,b:6356256.91,ellipseName:"Airy 1830"},APL4:{a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},NWL9D:{a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},mod_airy:{a:6377340.189,b:6356034.446,ellipseName:"Modified Airy"},andrae:{a:6377104.43,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},aust_SA:{a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},GRS67:{a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},bessel:{a:6377397.155,rf:299.1528128,ellipseName:"Bessel 1841"},bess_nam:{a:6377483.865,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},clrk66:{a:6378206.4,b:6356583.8,ellipseName:"Clarke 1866"},clrk80:{a:6378249.145,rf:293.4663,ellipseName:"Clarke 1880 mod."},clrk58:{a:6378293.645208759,rf:294.2606763692654,ellipseName:"Clarke 1858"},CPM:{a:6375738.7,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},delmbr:{a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},engelis:{a:6378136.05,rf:298.2566,ellipseName:"Engelis 1985"},evrst30:{a:6377276.345,rf:300.8017,ellipseName:"Everest 1830"},evrst48:{a:6377304.063,rf:300.8017,ellipseName:"Everest 1948"},evrst56:{a:6377301.243,rf:300.8017,ellipseName:"Everest 1956"},evrst69:{a:6377295.664,rf:300.8017,ellipseName:"Everest 1969"},evrstSS:{a:6377298.556,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},fschr60:{a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},fschr60m:{a:6378155,rf:298.3,ellipseName:"Fischer 1960"},fschr68:{a:6378150,rf:298.3,ellipseName:"Fischer 1968"},helmert:{a:6378200,rf:298.3,ellipseName:"Helmert 1906"},hough:{a:6378270,rf:297,ellipseName:"Hough"},intl:{a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},kaula:{a:6378163,rf:298.24,ellipseName:"Kaula 1961"},lerch:{a:6378139,rf:298.257,ellipseName:"Lerch 1979"},mprts:{a:6397300,rf:191,ellipseName:"Maupertius 1738"},new_intl:{a:6378157.5,b:6356772.2,ellipseName:"New International 1967"},plessis:{a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},krass:{a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},SEasia:{a:6378155,b:6356773.3205,ellipseName:"Southeast Asia"},walbeck:{a:6376896,b:6355834.8467,ellipseName:"Walbeck"},WGS60:{a:6378165,rf:298.3,ellipseName:"WGS 60"},WGS66:{a:6378145,rf:298.25,ellipseName:"WGS 66"},WGS7:{a:6378135,rf:298.26,ellipseName:"WGS 72"}},yt=vt.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};vt.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"};var bt={wgs84:{towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},ch1903:{towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},ggrs87:{towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},nad83:{towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},nad27:{nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},potsdam:{towgs84:"606.0,23.0,413.0",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},carthage:{towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},hermannskogel:{towgs84:"653.0,-212.0,449.0",ellipse:"bessel",datumName:"Hermannskogel"},osni52:{towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"},ire65:{towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},rassadiran:{towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},nzgd49:{towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},osgb36:{towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"},s_jtsk:{towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},beduaram:{towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},gunung_segara:{towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},rnb72:{towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"}};(f.projections=mt).start();var wt=function(t,e,i){return function(t,e){return t.datum_type===e.datum_type&&!(t.a!==e.a||Math.abs(t.es-e.es)>5e-11)&&(t.datum_type===L?t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]:t.datum_type!==O||t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]&&t.datum_params[3]===e.datum_params[3]&&t.datum_params[4]===e.datum_params[4]&&t.datum_params[5]===e.datum_params[5]&&t.datum_params[6]===e.datum_params[6])}(t,e)?i:t.datum_type===I||e.datum_type===I?i:t.es!==e.es||t.a!==e.a||p(t.datum_type)||p(e.datum_type)?(i=function(t,e,i){var n,r,o,s=t.x,a=t.y,h=t.z?t.z:0;if(a<-R&&a>-1.001*R)a=-R;else if(a>R&&a<1.001*R)a=R;else{if(a<-R)return{x:-1/0,y:-1/0,z:t.z};if(a>R)return{x:1/0,y:1/0,z:t.z}}return s>Math.PI&&(s-=2*Math.PI),r=Math.sin(a),o=Math.cos(a),{x:((n=i/Math.sqrt(1-e*(r*r)))+h)*o*Math.cos(s),y:(n+h)*o*Math.sin(s),z:(n*(1-e)+h)*r}}(i,t.es,t.a),p(t.datum_type)&&(i=function(t,e,i){if(e===L)return{x:t.x+i[0],y:t.y+i[1],z:t.z+i[2]};if(e===O){var n=i[3],r=i[4],o=i[5],s=i[6];return{x:s*(t.x-o*t.y+r*t.z)+i[0],y:s*(o*t.x+t.y-n*t.z)+i[1],z:s*(-r*t.x+n*t.y+t.z)+i[2]}}}(i,t.datum_type,t.datum_params)),p(e.datum_type)&&(i=function(t,e,i){if(e===L)return{x:t.x-i[0],y:t.y-i[1],z:t.z-i[2]};if(e===O){var n=i[3],r=i[4],o=i[5],s=i[6],a=(t.x-i[0])/s,h=(t.y-i[1])/s,l=(t.z-i[2])/s;return{x:a+o*h-r*l,y:-o*a+h+n*l,z:r*a-n*h+l}}}(i,e.datum_type,e.datum_params)),function(t,e,i,n){var r,o,s,a,h,l,d,u,c,f,p,g,m,v,y,b=t.x,w=t.y,x=t.z?t.z:0;if(r=Math.sqrt(b*b+w*w),o=Math.sqrt(b*b+w*w+x*x),r/i<1e-12){if(v=0,o/i<1e-12)return y=-n,{x:t.x,y:t.y,z:t.z}}else v=Math.atan2(w,b);s=x/o,u=(a=r/o)*(1-e)*(h=1/Math.sqrt(1-e*(2-e)*a*a)),c=s*h,m=0;do{m++,l=e*(d=i/Math.sqrt(1-e*c*c))/(d+(y=r*u+x*c-d*(1-e*c*c))),g=(p=s*(h=1/Math.sqrt(1-l*(2-l)*a*a)))*u-(f=a*(1-l)*h)*c,u=f,c=p}while(g*g>1e-24&&m<30);return{x:v,y:Math.atan(p/Math.abs(f)),z:y}}(i,e.es,e.a,e.b)):i},xt=function(t,e,i){var n,r,o,s=i.x,a=i.y,h=i.z||0,l={};for(o=0;o<3;o++)if(!e||2!==o||void 0!==i.z)switch(0===o?(n=s,r="x"):1===o?(n=a,r="y"):(n=h,r="z"),t.axis[o]){case"e":l[r]=n;break;case"w":l[r]=-n;break;case"n":l[r]=n;break;case"s":l[r]=-n;break;case"u":void 0!==i[r]&&(l.z=n);break;case"d":void 0!==i[r]&&(l.z=-n);break;default:return null}return l},_t=function(t){var e={x:t[0],y:t[1]};return t.length>2&&(e.z=t[2]),t.length>3&&(e.m=t[3]),e},kt=function(t){g(t.x),g(t.y)},St=f("WGS84"),Mt=6,Ct="AJSAJS",Et="AFAFAF",Nt=65,At=73,Dt=79,Tt=86,Lt=90,Ot={forward:w,inverse:function(t){var e=S(E(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat,e.lon,e.lat]:[e.left,e.bottom,e.right,e.top]},toPoint:x};A.fromMGRS=function(t){return new A(x(t))},A.prototype.toMGRS=function(t){return w([this.x,this.y],t)};var Pt,It=.01068115234375,Bt=function(t){var e=[];e[0]=1-t*(.25+t*(.046875+t*(.01953125+t*It))),e[1]=t*(.75-t*(.046875+t*(.01953125+t*It)));var i=t*t;return e[2]=i*(.46875-t*(.013020833333333334+.007120768229166667*t)),e[3]=(i*=t)*(.3645833333333333-.005696614583333333*t),e[4]=i*t*.3076171875,e},Rt=function(t,e,i,n){return n[0]*t-(i*=e)*(n[1]+(e*=e)*(n[2]+e*(n[3]+e*n[4])))},Ft=function(t,e,i){for(var n=1/(1-e),r=t,o=20;o;--o){var s=Math.sin(r),a=1-e*s*s;if(r-=a=(Rt(r,s,Math.cos(r),i)-t)*(a*Math.sqrt(a))*n,Math.abs(a)<q)return r}return r},zt={init:function(){this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.es&&(this.en=Bt(this.es),this.ml0=Rt(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))},forward:function(t){var e,i,n,r=t.y,o=dt(t.x-this.long0),s=Math.sin(r),a=Math.cos(r);if(this.es){var h=a*o,l=Math.pow(h,2),d=this.ep2*Math.pow(a,2),u=Math.pow(d,2),c=Math.abs(a)>q?Math.tan(r):0,f=Math.pow(c,2),p=Math.pow(f,2);e=1-this.es*Math.pow(s,2),h/=Math.sqrt(e);var g=Rt(r,s,a,this.en);i=this.a*(this.k0*h*(1+l/6*(1-f+d+l/20*(5-18*f+p+14*d-58*f*d+l/42*(61+179*p-p*f-479*f)))))+this.x0,n=this.a*(this.k0*(g-this.ml0+s*o*h/2*(1+l/12*(5-f+9*d+4*u+l/30*(61+p-58*f+270*d-330*f*d+l/56*(1385+543*p-p*f-3111*f))))))+this.y0}else{var m=a*Math.sin(o);if(Math.abs(Math.abs(m)-1)<q)return 93;if(i=.5*this.a*this.k0*Math.log((1+m)/(1-m))+this.x0,n=a*Math.cos(o)/Math.sqrt(1-Math.pow(m,2)),(m=Math.abs(n))>=1){if(m-1>q)return 93;n=0}else n=Math.acos(n);r<0&&(n=-n),n=this.a*this.k0*(n-this.lat0)+this.y0}return t.x=i,t.y=n,t},inverse:function(t){var e,i,n,r,o=1/this.a*(t.x-this.x0),s=1/this.a*(t.y-this.y0);if(this.es)if(i=Ft(e=this.ml0+s/this.k0,this.es,this.en),Math.abs(i)<R){var a=Math.sin(i),h=Math.cos(i),l=Math.abs(h)>q?Math.tan(i):0,d=this.ep2*Math.pow(h,2),u=Math.pow(d,2),c=Math.pow(l,2),f=Math.pow(c,2);e=1-this.es*Math.pow(a,2);var p=o*Math.sqrt(e)/this.k0,g=Math.pow(p,2);n=i-(e*=l)*g/(1-this.es)*.5*(1-g/12*(5+3*c-9*d*c+d-4*u-g/30*(61+90*c-252*d*c+45*f+46*d-g/56*(1385+3633*c+4095*f+1574*f*c)))),r=dt(this.long0+p*(1-g/6*(1+2*c+d-g/20*(5+28*c+24*f+8*d*c+6*d-g/42*(61+662*c+1320*f+720*f*c))))/h)}else n=R*lt(s),r=0;else{var m=Math.exp(o/this.k0),v=.5*(m-1/m),y=Math.cos(this.lat0+s/this.k0);e=Math.sqrt((1-Math.pow(y,2))/(1+Math.pow(v,2))),n=Math.asin(e),s<0&&(n=-n),r=0===v&&0===y?0:dt(Math.atan2(v,y)+this.long0)}return t.x=r,t.y=n,t},names:["Transverse_Mercator","Transverse Mercator","tmerc"]},jt=function(t){var e=Math.exp(t);return(e-1/e)/2},qt=function(t,e){t=Math.abs(t),e=Math.abs(e);var i=Math.max(t,e),n=Math.min(t,e)/(i||1);return i*Math.sqrt(1+Math.pow(n,2))},Ht=function(t,e){for(var i,n=2*Math.cos(2*e),r=t.length-1,o=t[r],s=0;--r>=0;)i=n*o-s+t[r],s=o,o=i;return e+i*Math.sin(2*e)},Wt=function(t,e,i){for(var n,r,o=Math.sin(e),s=Math.cos(e),a=jt(i),h=function(t){var e=Math.exp(i);return(e+1/e)/2}(),l=2*s*h,d=-2*o*a,u=t.length-1,c=t[u],f=0,p=0,g=0;--u>=0;)n=p,r=f,c=l*(p=c)-n-d*(f=g)+t[u],g=d*p-r+l*f;return[(l=o*h)*c-(d=s*a)*g,l*g+d*c]},Ut={init:function(){if(void 0===this.es||this.es<=0)throw new Error("incorrect elliptical usage");this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var t=this.es/(1+Math.sqrt(1-this.es)),e=t/(2-t),i=e;this.cgb[0]=e*(2+e*(-2/3+e*(e*(116/45+e*(26/45+e*(-2854/675)))-2))),this.cbg[0]=e*(e*(2/3+e*(4/3+e*(-82/45+e*(32/45+e*(4642/4725)))))-2),this.cgb[1]=(i*=e)*(7/3+e*(e*(-227/45+e*(2704/315+e*(2323/945)))-1.6)),this.cbg[1]=i*(5/3+e*(-16/15+e*(-13/9+e*(904/315+e*(-1522/945))))),this.cgb[2]=(i*=e)*(56/15+e*(-136/35+e*(-1262/105+e*(73814/2835)))),this.cbg[2]=i*(-26/15+e*(34/21+e*(1.6+e*(-12686/2835)))),this.cgb[3]=(i*=e)*(4279/630+e*(-332/35+e*(-399572/14175))),this.cbg[3]=i*(1237/630+e*(e*(-24832/14175)-2.4)),this.cgb[4]=(i*=e)*(4174/315+e*(-144838/6237)),this.cbg[4]=i*(-734/315+e*(109598/31185)),this.cgb[5]=(i*=e)*(601676/22275),this.cbg[5]=i*(444337/155925),i=Math.pow(e,2),this.Qn=this.k0/(1+e)*(1+i*(.25+i*(1/64+i/256))),this.utg[0]=e*(e*(2/3+e*(-37/96+e*(1/360+e*(81/512+e*(-96199/604800)))))-.5),this.gtu[0]=e*(.5+e*(-2/3+e*(5/16+e*(41/180+e*(-127/288+e*(7891/37800)))))),this.utg[1]=i*(-1/48+e*(-1/15+e*(437/1440+e*(-46/105+e*(1118711/3870720))))),this.gtu[1]=i*(13/48+e*(e*(557/1440+e*(281/630+e*(-1983433/1935360)))-.6)),this.utg[2]=(i*=e)*(-17/480+e*(37/840+e*(209/4480+e*(-5569/90720)))),this.gtu[2]=i*(61/240+e*(-103/140+e*(15061/26880+e*(167603/181440)))),this.utg[3]=(i*=e)*(-4397/161280+e*(11/504+e*(830251/7257600))),this.gtu[3]=i*(49561/161280+e*(-179/168+e*(6601661/7257600))),this.utg[4]=(i*=e)*(-4583/161280+e*(108847/3991680)),this.gtu[4]=i*(34729/80640+e*(-3418889/1995840)),this.utg[5]=-.03233083094085698*(i*=e),this.gtu[5]=.6650675310896665*i;var n=Ht(this.cbg,this.lat0);this.Zb=-this.Qn*(n+function(t,e){for(var i,n=2*Math.cos(e),r=t.length-1,o=t[r],s=0;--r>=0;)i=n*o-s+t[r],s=o,o=i;return Math.sin(e)*i}(this.gtu,2*n))},forward:function(t){var e=dt(t.x-this.long0),i=t.y;i=Ht(this.cbg,i);var n=Math.sin(i),r=Math.cos(i),o=Math.sin(e),s=Math.cos(e);i=Math.atan2(n,s*r),e=Math.atan2(o*r,qt(n,r*s)),e=function(t){var e=Math.abs(t);return e=function(t){var e=1+t,i=e-1;return 0===i?t:t*Math.log(e)/i}(e*(1+e/(qt(1,e)+1))),t<0?-e:e}(Math.tan(e));var a,h,l=Wt(this.gtu,2*i,2*e);return i+=l[0],e+=l[1],Math.abs(e)<=2.623395162778?(a=this.a*(this.Qn*e)+this.x0,h=this.a*(this.Qn*i+this.Zb)+this.y0):(a=1/0,h=1/0),t.x=a,t.y=h,t},inverse:function(t){var e,i,n=1/this.a*(t.x-this.x0),r=1/this.a*(t.y-this.y0);if(r=(r-this.Zb)/this.Qn,n/=this.Qn,Math.abs(n)<=2.623395162778){var o=Wt(this.utg,2*r,2*n);r+=o[0],n+=o[1],n=Math.atan(jt(n));var s=Math.sin(r),a=Math.cos(r),h=Math.sin(n),l=Math.cos(n);r=Math.atan2(s*l,qt(h,l*a)),n=Math.atan2(h,l*a),e=dt(n+this.long0),i=Ht(this.cgb,r)}else e=1/0,i=1/0;return t.x=e,t.y=i,t},names:["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc"]},Vt={init:function(){var t=function(t,e){if(void 0===t){if((t=Math.floor(30*(dt(e)+Math.PI)/Math.PI)+1)<0)return 0;if(t>60)return 60}return t}(this.zone,this.long0);if(void 0===t)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(t)-183)*H,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,Ut.init.apply(this),this.forward=Ut.forward,this.inverse=Ut.inverse},names:["Universal Transverse Mercator System","utm"],dependsOn:"etmerc"},Yt=function(t,e){return Math.pow((1-t)/(1+t),e)},Gt={init:function(){var t=Math.sin(this.lat0),e=Math.cos(this.lat0);e*=e,this.rc=Math.sqrt(1-this.es)/(1-this.es*t*t),this.C=Math.sqrt(1+this.es*e*e/(1-this.es)),this.phic0=Math.asin(t/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+U)/(Math.pow(Math.tan(.5*this.lat0+U),this.C)*Yt(this.e*t,this.ratexp))},forward:function(t){var e=t.x,i=t.y;return t.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*i+U),this.C)*Yt(this.e*Math.sin(i),this.ratexp))-R,t.x=this.C*e,t},inverse:function(t){for(var e=t.x/this.C,i=t.y,n=Math.pow(Math.tan(.5*i+U)/this.K,1/this.C),r=20;r>0&&(i=2*Math.atan(n*Yt(this.e*Math.sin(t.y),-.5*this.e))-R,!(Math.abs(i-t.y)<1e-14));--r)t.y=i;return r?(t.x=e,t.y=i,t):null},names:["gauss"]},Xt={init:function(){Gt.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))},forward:function(t){var e,i,n,r;return t.x=dt(t.x-this.long0),Gt.forward.apply(this,[t]),e=Math.sin(t.y),i=Math.cos(t.y),n=Math.cos(t.x),t.x=(r=this.k0*this.R2/(1+this.sinc0*e+this.cosc0*i*n))*i*Math.sin(t.x),t.y=r*(this.cosc0*e-this.sinc0*i*n),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t},inverse:function(t){var e,i,n,r,o;if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,o=Math.sqrt(t.x*t.x+t.y*t.y)){var s=2*Math.atan2(o,this.R2);e=Math.sin(s),i=Math.cos(s),r=Math.asin(i*this.sinc0+t.y*e*this.cosc0/o),n=Math.atan2(t.x*e,o*this.cosc0*i-t.y*this.sinc0*e)}else r=this.phic0,n=0;return t.x=n,t.y=r,Gt.inverse.apply(this,[t]),t.x=dt(t.x+this.long0),t},names:["Stereographic_North_Pole","Oblique_Stereographic","Polar_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"]},Kt={init:function(){this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=q&&(this.k0=.5*(1+lt(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=q&&(this.con=this.lat0>0?1:-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=q&&(this.k0=.5*this.cons*ht(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/ut(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=ht(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-R,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))},forward:function(t){var e,i,n,r,o,s,a=t.x,h=t.y,l=Math.sin(h),d=Math.cos(h),u=dt(a-this.long0);return Math.abs(Math.abs(a-this.long0)-Math.PI)<=q&&Math.abs(h+this.lat0)<=q?(t.x=NaN,t.y=NaN,t):this.sphere?(e=2*this.k0/(1+this.sinlat0*l+this.coslat0*d*Math.cos(u)),t.x=this.a*e*d*Math.sin(u)+this.x0,t.y=this.a*e*(this.coslat0*l-this.sinlat0*d*Math.cos(u))+this.y0,t):(i=2*Math.atan(this.ssfn_(h,l,this.e))-R,r=Math.cos(i),n=Math.sin(i),Math.abs(this.coslat0)<=q?(o=ut(this.e,h*this.con,this.con*l),t.x=this.x0+(s=2*this.a*this.k0*o/this.cons)*Math.sin(a-this.long0),t.y=this.y0-this.con*s*Math.cos(a-this.long0),t):(Math.abs(this.sinlat0)<q?(e=2*this.a*this.k0/(1+r*Math.cos(u)),t.y=e*n):(e=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*n+this.cosX0*r*Math.cos(u))),t.y=e*(this.cosX0*n-this.sinX0*r*Math.cos(u))+this.y0),t.x=e*r*Math.sin(u)+this.x0,t))},inverse:function(t){t.x-=this.x0,t.y-=this.y0;var e,i,n,r,o=Math.sqrt(t.x*t.x+t.y*t.y);if(this.sphere){var s=2*Math.atan(o/(2*this.a*this.k0));return e=this.long0,i=this.lat0,o<=q?(t.x=e,t.y=i,t):(i=Math.asin(Math.cos(s)*this.sinlat0+t.y*Math.sin(s)*this.coslat0/o),e=dt(Math.abs(this.coslat0)<q?this.lat0>0?this.long0+Math.atan2(t.x,-1*t.y):this.long0+Math.atan2(t.x,t.y):this.long0+Math.atan2(t.x*Math.sin(s),o*this.coslat0*Math.cos(s)-t.y*this.sinlat0*Math.sin(s))),t.x=e,t.y=i,t)}if(Math.abs(this.coslat0)<=q){if(o<=q)return i=this.lat0,t.x=e=this.long0,t.y=i,t;t.x*=this.con,t.y*=this.con,i=this.con*ct(this.e,o*this.cons/(2*this.a*this.k0)),e=this.con*dt(this.con*this.long0+Math.atan2(t.x,-1*t.y))}else n=2*Math.atan(o*this.cosX0/(2*this.a*this.k0*this.ms1)),e=this.long0,o<=q?r=this.X0:(r=Math.asin(Math.cos(n)*this.sinX0+t.y*Math.sin(n)*this.cosX0/o),e=dt(this.long0+Math.atan2(t.x*Math.sin(n),o*this.cosX0*Math.cos(n)-t.y*this.sinX0*Math.sin(n)))),i=-1*ct(this.e,Math.tan(.5*(R+r)));return t.x=e,t.y=i,t},names:["stere","Stereographic_South_Pole","Polar Stereographic (variant B)"],ssfn_:function(t,e,i){return e*=i,Math.tan(.5*(R+t))*Math.pow((1-e)/(1+e),.5*i)}},Zt={init:function(){var t=this.lat0;this.lambda0=this.long0;var e=Math.sin(t),i=this.a,n=1/this.rf,r=2*n-Math.pow(n,2),o=this.e=Math.sqrt(r);this.R=this.k0*i*Math.sqrt(1-r)/(1-r*Math.pow(e,2)),this.alpha=Math.sqrt(1+r/(1-r)*Math.pow(Math.cos(t),4)),this.b0=Math.asin(e/this.alpha);var s=Math.log(Math.tan(Math.PI/4+this.b0/2)),a=Math.log(Math.tan(Math.PI/4+t/2)),h=Math.log((1+o*e)/(1-o*e));this.K=s-this.alpha*a+this.alpha*o/2*h},forward:function(t){var e=Math.log(Math.tan(Math.PI/4-t.y/2)),i=this.e/2*Math.log((1+this.e*Math.sin(t.y))/(1-this.e*Math.sin(t.y))),n=2*(Math.atan(Math.exp(-this.alpha*(e+i)+this.K))-Math.PI/4),r=this.alpha*(t.x-this.lambda0),o=Math.atan(Math.sin(r)/(Math.sin(this.b0)*Math.tan(n)+Math.cos(this.b0)*Math.cos(r))),s=Math.asin(Math.cos(this.b0)*Math.sin(n)-Math.sin(this.b0)*Math.cos(n)*Math.cos(r));return t.y=this.R/2*Math.log((1+Math.sin(s))/(1-Math.sin(s)))+this.y0,t.x=this.R*o+this.x0,t},inverse:function(t){for(var e=(t.x-this.x0)/this.R,i=2*(Math.atan(Math.exp((t.y-this.y0)/this.R))-Math.PI/4),n=Math.asin(Math.cos(this.b0)*Math.sin(i)+Math.sin(this.b0)*Math.cos(i)*Math.cos(e)),r=Math.atan(Math.sin(e)/(Math.cos(this.b0)*Math.cos(e)-Math.sin(this.b0)*Math.tan(i))),o=this.lambda0+r/this.alpha,s=0,a=n,h=-1e3,l=0;Math.abs(a-h)>1e-7;){if(++l>20)return;s=1/this.alpha*(Math.log(Math.tan(Math.PI/4+n/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(a))/2)),h=a,a=2*Math.atan(Math.exp(s))-Math.PI/2}return t.x=o,t.y=a,t},names:["somerc"]},Qt={init:function(){this.no_off=this.no_off||!1,this.no_rot=this.no_rot||!1,isNaN(this.k0)&&(this.k0=1);var t=Math.sin(this.lat0),e=Math.cos(this.lat0),i=this.e*t;this.bl=Math.sqrt(1+this.es/(1-this.es)*Math.pow(e,4)),this.al=this.a*this.bl*this.k0*Math.sqrt(1-this.es)/(1-i*i);var n,r,o=ut(this.e,this.lat0,t),s=this.bl/e*Math.sqrt((1-this.es)/(1-i*i));if(s*s<1&&(s=1),isNaN(this.longc)){var a=ut(this.e,this.lat1,Math.sin(this.lat1)),h=ut(this.e,this.lat2,Math.sin(this.lat2));this.el=this.lat0>=0?(s+Math.sqrt(s*s-1))*Math.pow(o,this.bl):(s-Math.sqrt(s*s-1))*Math.pow(o,this.bl);var l=Math.pow(a,this.bl),d=Math.pow(h,this.bl);r=.5*((n=this.el/l)-1/n);var u=(this.el*this.el-d*l)/(this.el*this.el+d*l),c=(d-l)/(d+l),f=dt(this.long1-this.long2);this.long0=.5*(this.long1+this.long2)-Math.atan(u*Math.tan(.5*this.bl*f)/c)/this.bl,this.long0=dt(this.long0);var p=dt(this.long1-this.long0);this.gamma0=Math.atan(Math.sin(this.bl*p)/r),this.alpha=Math.asin(s*Math.sin(this.gamma0))}else n=this.lat0>=0?s+Math.sqrt(s*s-1):s-Math.sqrt(s*s-1),this.el=n*Math.pow(o,this.bl),r=.5*(n-1/n),this.gamma0=Math.asin(Math.sin(this.alpha)/s),this.long0=this.longc-Math.asin(r*Math.tan(this.gamma0))/this.bl;this.uc=this.no_off?0:this.lat0>=0?this.al/this.bl*Math.atan2(Math.sqrt(s*s-1),Math.cos(this.alpha)):-1*this.al/this.bl*Math.atan2(Math.sqrt(s*s-1),Math.cos(this.alpha))},forward:function(t){var e,i,n,r=t.y,o=dt(t.x-this.long0);if(Math.abs(Math.abs(r)-R)<=q)n=r>0?-1:1,i=this.al/this.bl*Math.log(Math.tan(U+n*this.gamma0*.5)),e=-1*n*R*this.al/this.bl;else{var s=ut(this.e,r,Math.sin(r)),a=this.el/Math.pow(s,this.bl),h=.5*(a-1/a),l=.5*(a+1/a),d=Math.sin(this.bl*o),u=(h*Math.sin(this.gamma0)-d*Math.cos(this.gamma0))/l;i=Math.abs(Math.abs(u)-1)<=q?Number.POSITIVE_INFINITY:.5*this.al*Math.log((1-u)/(1+u))/this.bl,e=Math.abs(Math.cos(this.bl*o))<=q?this.al*this.bl*o:this.al*Math.atan2(h*Math.cos(this.gamma0)+d*Math.sin(this.gamma0),Math.cos(this.bl*o))/this.bl}return this.no_rot?(t.x=this.x0+e,t.y=this.y0+i):(e-=this.uc,t.x=this.x0+i*Math.cos(this.alpha)+e*Math.sin(this.alpha),t.y=this.y0+e*Math.cos(this.alpha)-i*Math.sin(this.alpha)),t},inverse:function(t){var e,i;this.no_rot?(i=t.y-this.y0,e=t.x-this.x0):(i=(t.x-this.x0)*Math.cos(this.alpha)-(t.y-this.y0)*Math.sin(this.alpha),e=(t.y-this.y0)*Math.cos(this.alpha)+(t.x-this.x0)*Math.sin(this.alpha),e+=this.uc);var n=Math.exp(-1*this.bl*i/this.al),r=.5*(n-1/n),o=.5*(n+1/n),s=Math.sin(this.bl*e/this.al),a=(s*Math.cos(this.gamma0)+r*Math.sin(this.gamma0))/o,h=Math.pow(this.el/Math.sqrt((1+a)/(1-a)),1/this.bl);return Math.abs(a-1)<q?(t.x=this.long0,t.y=R):Math.abs(a+1)<q?(t.x=this.long0,t.y=-1*R):(t.y=ct(this.e,h),t.x=dt(this.long0-Math.atan2(r*Math.cos(this.gamma0)-s*Math.sin(this.gamma0),Math.cos(this.bl*e/this.al))/this.bl)),t},names:["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","omerc"]},$t={init:function(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<q)){var t=this.b/this.a;this.e=Math.sqrt(1-t*t);var e=Math.sin(this.lat1),i=Math.cos(this.lat1),n=ht(this.e,e,i),r=ut(this.e,this.lat1,e),o=Math.sin(this.lat2),s=Math.cos(this.lat2),a=ht(this.e,o,s),h=ut(this.e,this.lat2,o),l=ut(this.e,this.lat0,Math.sin(this.lat0));this.ns=Math.abs(this.lat1-this.lat2)>q?Math.log(n/a)/Math.log(r/h):e,isNaN(this.ns)&&(this.ns=e),this.f0=n/(this.ns*Math.pow(r,this.ns)),this.rh=this.a*this.f0*Math.pow(l,this.ns),this.title||(this.title="Lambert Conformal Conic")}},forward:function(t){var e=t.x,i=t.y;Math.abs(2*Math.abs(i)-Math.PI)<=q&&(i=lt(i)*(R-2*q));var n,r,o=Math.abs(Math.abs(i)-R);if(o>q)n=ut(this.e,i,Math.sin(i)),r=this.a*this.f0*Math.pow(n,this.ns);else{if((o=i*this.ns)<=0)return null;r=0}var s=this.ns*dt(e-this.long0);return t.x=this.k0*(r*Math.sin(s))+this.x0,t.y=this.k0*(this.rh-r*Math.cos(s))+this.y0,t},inverse:function(t){var e,i,n,r,o,s=(t.x-this.x0)/this.k0,a=this.rh-(t.y-this.y0)/this.k0;this.ns>0?(e=Math.sqrt(s*s+a*a),i=1):(e=-Math.sqrt(s*s+a*a),i=-1);var h=0;if(0!==e&&(h=Math.atan2(i*s,i*a)),0!==e||this.ns>0){if(i=1/this.ns,n=Math.pow(e/(this.a*this.f0),i),-9999===(r=ct(this.e,n)))return null}else r=-R;return o=dt(h/this.ns+this.long0),t.x=o,t.y=r,t},names:["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_2SP","lcc"]},Jt={init:function(){this.a=6377397.155,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.4334234309119251),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq},forward:function(t){var e,i,n,r,o,s,a,h=t.y,l=dt(t.x-this.long0);return e=Math.pow((1+this.e*Math.sin(h))/(1-this.e*Math.sin(h)),this.alfa*this.e/2),i=2*(Math.atan(this.k*Math.pow(Math.tan(h/2+this.s45),this.alfa)/e)-this.s45),n=-l*this.alfa,r=Math.asin(Math.cos(this.ad)*Math.sin(i)+Math.sin(this.ad)*Math.cos(i)*Math.cos(n)),o=Math.asin(Math.cos(i)*Math.sin(n)/Math.cos(r)),s=this.n*o,a=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(r/2+this.s45),this.n),t.y=a*Math.cos(s)/1,t.x=a*Math.sin(s)/1,this.czech||(t.y*=-1,t.x*=-1),t},inverse:function(t){var e,i,n,r,o,s,a,h=t.x;t.x=t.y,t.y=h,this.czech||(t.y*=-1,t.x*=-1),o=Math.sqrt(t.x*t.x+t.y*t.y),r=Math.atan2(t.y,t.x)/Math.sin(this.s0),n=2*(Math.atan(Math.pow(this.ro0/o,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),e=Math.asin(Math.cos(this.ad)*Math.sin(n)-Math.sin(this.ad)*Math.cos(n)*Math.cos(r)),i=Math.asin(Math.cos(n)*Math.sin(r)/Math.cos(e)),t.x=this.long0-i/this.alfa,s=e,a=0;var l=0;do{t.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(e/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(s))/(1-this.e*Math.sin(s)),this.e/2))-this.s45),Math.abs(s-t.y)<1e-10&&(a=1),s=t.y,l+=1}while(0===a&&l<15);return l>=15?null:t},names:["Krovak","krovak"]},te=function(t,e,i,n,r){return t*r-e*Math.sin(2*r)+i*Math.sin(4*r)-n*Math.sin(6*r)},ee=function(t){return 1-.25*t*(1+t/16*(3+1.25*t))},ie=function(t){return.375*t*(1+.25*t*(1+.46875*t))},ne=function(t){return.05859375*t*t*(1+.75*t)},re=function(t){return t*t*t*(35/3072)},oe=function(t,e,i){var n=e*i;return t/Math.sqrt(1-n*n)},se=function(t){return Math.abs(t)<R?t:t-lt(t)*Math.PI},ae=function(t,e,i,n,r){var o,s;o=t/e;for(var a=0;a<15;a++)if(o+=s=(t-(e*o-i*Math.sin(2*o)+n*Math.sin(4*o)-r*Math.sin(6*o)))/(e-2*i*Math.cos(2*o)+4*n*Math.cos(4*o)-6*r*Math.cos(6*o)),Math.abs(s)<=1e-10)return o;return NaN},he={init:function(){this.sphere||(this.e0=ee(this.es),this.e1=ie(this.es),this.e2=ne(this.es),this.e3=re(this.es),this.ml0=this.a*te(this.e0,this.e1,this.e2,this.e3,this.lat0))},forward:function(t){var e,i,n=t.x,r=t.y;if(n=dt(n-this.long0),this.sphere)e=this.a*Math.asin(Math.cos(r)*Math.sin(n)),i=this.a*(Math.atan2(Math.tan(r),Math.cos(n))-this.lat0);else{var o=Math.sin(r),s=Math.cos(r),a=oe(this.a,this.e,o),h=Math.tan(r)*Math.tan(r),l=n*Math.cos(r),d=l*l,u=this.es*s*s/(1-this.es);e=a*l*(1-d*h*(1/6-(8-h+8*u)*d/120)),i=this.a*te(this.e0,this.e1,this.e2,this.e3,r)-this.ml0+a*o/s*d*(.5+(5-h+6*u)*d/24)}return t.x=e+this.x0,t.y=i+this.y0,t},inverse:function(t){t.x-=this.x0,t.y-=this.y0;var e,i,n=t.x/this.a,r=t.y/this.a;if(this.sphere){var o=r+this.lat0;e=Math.asin(Math.sin(o)*Math.cos(n)),i=Math.atan2(Math.tan(n),Math.cos(o))}else{var s=ae(this.ml0/this.a+r,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(s)-R)<=q)return t.x=this.long0,t.y=R,r<0&&(t.y*=-1),t;var a=oe(this.a,this.e,Math.sin(s)),h=a*a*a/this.a/this.a*(1-this.es),l=Math.pow(Math.tan(s),2),d=n*this.a/a,u=d*d;e=s-a*Math.tan(s)/h*d*d*(.5-(1+3*l)*d*d/24),i=d*(1-u*(l/3+(1+3*l)*l*u/15))/Math.cos(s)}return t.x=dt(i+this.long0),t.y=se(e),t},names:["Cassini","Cassini_Soldner","cass"]},le=function(t,e){var i;return t>1e-7?(1-t*t)*(e/(1-(i=t*e)*i)-.5/t*Math.log((1-i)/(1+i))):2*e},de={init:function(){var t,e=Math.abs(this.lat0);if(this.mode=Math.abs(e-R)<q?this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(e)<q?this.EQUIT:this.OBLIQ,this.es>0)switch(this.qp=le(this.e,1),this.mmf=.5/(1-this.es),this.apa=function(t){var e,i=[];return i[0]=.3333333333333333*t,i[0]+=.17222222222222222*(e=t*t),i[1]=.06388888888888888*e,i[0]+=.10257936507936508*(e*=t),i[1]+=.0664021164021164*e,i[2]=.016415012942191543*e,i}(this.es),this.mode){case this.N_POLE:case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),t=Math.sin(this.lat0),this.sinb1=le(this.e,t)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*t*t)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))},forward:function(t){var e,i,n,r,o,s,a,h,l,d,u=t.x,c=t.y;if(u=dt(u-this.long0),this.sphere){if(o=Math.sin(c),d=Math.cos(c),n=Math.cos(u),this.mode===this.OBLIQ||this.mode===this.EQUIT){if((i=this.mode===this.EQUIT?1+d*n:1+this.sinph0*o+this.cosph0*d*n)<=q)return null;e=(i=Math.sqrt(2/i))*d*Math.sin(u),i*=this.mode===this.EQUIT?o:this.cosph0*o-this.sinph0*d*n}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(n=-n),Math.abs(c+this.phi0)<q)return null;i=U-.5*c,e=(i=2*(this.mode===this.S_POLE?Math.cos(i):Math.sin(i)))*Math.sin(u),i*=n}}else{switch(a=0,h=0,l=0,n=Math.cos(u),r=Math.sin(u),o=Math.sin(c),s=le(this.e,o),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(a=s/this.qp,h=Math.sqrt(1-a*a)),this.mode){case this.OBLIQ:l=1+this.sinb1*a+this.cosb1*h*n;break;case this.EQUIT:l=1+h*n;break;case this.N_POLE:l=R+c,s=this.qp-s;break;case this.S_POLE:l=c-R,s=this.qp+s}if(Math.abs(l)<q)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:l=Math.sqrt(2/l),i=this.mode===this.OBLIQ?this.ymf*l*(this.cosb1*a-this.sinb1*h*n):(l=Math.sqrt(2/(1+h*n)))*a*this.ymf,e=this.xmf*l*h*r;break;case this.N_POLE:case this.S_POLE:s>=0?(e=(l=Math.sqrt(s))*r,i=n*(this.mode===this.S_POLE?l:-l)):e=i=0}}return t.x=this.a*e+this.x0,t.y=this.a*i+this.y0,t},inverse:function(t){t.x-=this.x0,t.y-=this.y0;var e,i,n,r,o,s,a,h=t.x/this.a,l=t.y/this.a;if(this.sphere){var d,u=0,c=0;if((i=.5*(d=Math.sqrt(h*h+l*l)))>1)return null;switch(i=2*Math.asin(i),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(c=Math.sin(i),u=Math.cos(i)),this.mode){case this.EQUIT:i=Math.abs(d)<=q?0:Math.asin(l*c/d),h*=c,l=u*d;break;case this.OBLIQ:i=Math.abs(d)<=q?this.phi0:Math.asin(u*this.sinph0+l*c*this.cosph0/d),h*=c*this.cosph0,l=(u-Math.sin(i)*this.sinph0)*d;break;case this.N_POLE:l=-l,i=R-i;break;case this.S_POLE:i-=R}e=0!==l||this.mode!==this.EQUIT&&this.mode!==this.OBLIQ?Math.atan2(h,l):0}else{if(a=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(h/=this.dd,l*=this.dd,(s=Math.sqrt(h*h+l*l))<q)return t.x=0,t.y=this.phi0,t;r=2*Math.asin(.5*s/this.rq),n=Math.cos(r),h*=r=Math.sin(r),this.mode===this.OBLIQ?(o=this.qp*(a=n*this.sinb1+l*r*this.cosb1/s),l=s*this.cosb1*n-l*this.sinb1*r):(o=this.qp*(a=l*r/s),l=s*n)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(l=-l),!(o=h*h+l*l))return t.x=0,t.y=this.phi0,t;a=1-o/this.qp,this.mode===this.S_POLE&&(a=-a)}e=Math.atan2(h,l),i=function(t,e){var i=t+t;return t+e[0]*Math.sin(i)+e[1]*Math.sin(i+i)+e[2]*Math.sin(i+i+i)}(Math.asin(a),this.apa)}return t.x=dt(this.long0+e),t.y=i,t},names:["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"],S_POLE:1,N_POLE:2,EQUIT:3,OBLIQ:4},ue=function(t){return Math.abs(t)>1&&(t=t>1?1:-1),Math.asin(t)},ce={init:function(){Math.abs(this.lat1+this.lat2)<q||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=ht(this.e3,this.sin_po,this.cos_po),this.qs1=le(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=ht(this.e3,this.sin_po,this.cos_po),this.qs2=le(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=le(this.e3,this.sin_po),this.ns0=Math.abs(this.lat1-this.lat2)>q?(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)},forward:function(t){var e=t.x,i=t.y;this.sin_phi=Math.sin(i),this.cos_phi=Math.cos(i);var n=le(this.e3,this.sin_phi),r=this.a*Math.sqrt(this.c-this.ns0*n)/this.ns0,o=this.ns0*dt(e-this.long0),s=r*Math.sin(o)+this.x0,a=this.rh-r*Math.cos(o)+this.y0;return t.x=s,t.y=a,t},inverse:function(t){var e,i,n,r,o;return t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns0>=0?(e=Math.sqrt(t.x*t.x+t.y*t.y),i=1):(e=-Math.sqrt(t.x*t.x+t.y*t.y),i=-1),n=0,0!==e&&(n=Math.atan2(i*t.x,i*t.y)),i=e*this.ns0/this.a,o=this.sphere?Math.asin((this.c-i*i)/(2*this.ns0)):this.phi1z(this.e3,(this.c-i*i)/this.ns0),r=dt(n/this.ns0+this.long0),t.x=r,t.y=o,t},names:["Albers_Conic_Equal_Area","Albers","aea"],phi1z:function(t,e){var i,n,r,o,s=ue(.5*e);if(t<q)return s;for(var a=t*t,h=1;h<=25;h++)if(s+=o=.5*(r=1-(n=t*(i=Math.sin(s)))*n)*r/Math.cos(s)*(e/(1-a)-i/r+.5/t*Math.log((1-n)/(1+n))),Math.abs(o)<=1e-7)return s;return null}},fe={init:function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1},forward:function(t){var e,i,n,r,o,s,a,h=t.y;return n=dt(t.x-this.long0),e=Math.sin(h),i=Math.cos(h),r=Math.cos(n),(o=this.sin_p14*e+this.cos_p14*i*r)>0||Math.abs(o)<=q?(s=this.x0+1*this.a*i*Math.sin(n)/o,a=this.y0+1*this.a*(this.cos_p14*e-this.sin_p14*i*r)/o):(s=this.x0+this.infinity_dist*i*Math.sin(n),a=this.y0+this.infinity_dist*(this.cos_p14*e-this.sin_p14*i*r)),t.x=s,t.y=a,t},inverse:function(t){var e,i,n,r,o,s;return t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,(e=Math.sqrt(t.x*t.x+t.y*t.y))?(r=Math.atan2(e,this.rc),i=Math.sin(r),n=Math.cos(r),s=ue(n*this.sin_p14+t.y*i*this.cos_p14/e),o=Math.atan2(t.x*i,e*this.cos_p14*n-t.y*this.sin_p14*i),o=dt(this.long0+o)):(s=this.phic0,o=0),t.x=o,t.y=s,t},names:["gnom"]},pe={init:function(){this.sphere||(this.k0=ht(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))},forward:function(t){var e,i,n=t.y,r=dt(t.x-this.long0);if(this.sphere)e=this.x0+this.a*r*Math.cos(this.lat_ts),i=this.y0+this.a*Math.sin(n)/Math.cos(this.lat_ts);else{var o=le(this.e,Math.sin(n));e=this.x0+this.a*this.k0*r,i=this.y0+this.a*o*.5/this.k0}return t.x=e,t.y=i,t},inverse:function(t){var e,i;return t.x-=this.x0,t.y-=this.y0,this.sphere?(e=dt(this.long0+t.x/this.a/Math.cos(this.lat_ts)),i=Math.asin(t.y/this.a*Math.cos(this.lat_ts))):(i=function(t,e){var i=1-(1-t*t)/(2*t)*Math.log((1-t)/(1+t));if(Math.abs(Math.abs(e)-i)<1e-6)return e<0?-1*R:R;for(var n,r,o,s,a=Math.asin(.5*e),h=0;h<30;h++)if(r=Math.sin(a),o=Math.cos(a),s=t*r,a+=n=Math.pow(1-s*s,2)/(2*o)*(e/(1-t*t)-r/(1-s*s)+.5/t*Math.log((1-s)/(1+s))),Math.abs(n)<=1e-10)return a;return NaN}(this.e,2*t.y*this.k0/this.a),e=dt(this.long0+t.x/(this.a*this.k0))),t.x=e,t.y=i,t},names:["cea"]},ge={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)},forward:function(t){var e=t.y,i=dt(t.x-this.long0),n=se(e-this.lat0);return t.x=this.x0+this.a*i*this.rc,t.y=this.y0+this.a*n,t},inverse:function(t){var e=t.y;return t.x=dt(this.long0+(t.x-this.x0)/(this.a*this.rc)),t.y=se(this.lat0+(e-this.y0)/this.a),t},names:["Equirectangular","Equidistant_Cylindrical","eqc"]},me={init:function(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=ee(this.es),this.e1=ie(this.es),this.e2=ne(this.es),this.e3=re(this.es),this.ml0=this.a*te(this.e0,this.e1,this.e2,this.e3,this.lat0)},forward:function(t){var e,i,n,r=t.y,o=dt(t.x-this.long0);if(n=o*Math.sin(r),this.sphere)Math.abs(r)<=q?(e=this.a*o,i=-1*this.a*this.lat0):(e=this.a*Math.sin(n)/Math.tan(r),i=this.a*(se(r-this.lat0)+(1-Math.cos(n))/Math.tan(r)));else if(Math.abs(r)<=q)e=this.a*o,i=-1*this.ml0;else{var s=oe(this.a,this.e,Math.sin(r))/Math.tan(r);e=s*Math.sin(n),i=this.a*te(this.e0,this.e1,this.e2,this.e3,r)-this.ml0+s*(1-Math.cos(n))}return t.x=e+this.x0,t.y=i+this.y0,t},inverse:function(t){var e,i,n,r,o,s,a,h,l;if(n=t.x-this.x0,r=t.y-this.y0,this.sphere)if(Math.abs(r+this.a*this.lat0)<=q)e=dt(n/this.a+this.long0),i=0;else{var d;for(a=n*n/this.a/this.a+(s=this.lat0+r/this.a)*s,h=s,o=20;o;--o)if(h+=l=-1*(s*(h*(d=Math.tan(h))+1)-h-.5*(h*h+a)*d)/((h-s)/d-1),Math.abs(l)<=q){i=h;break}e=dt(this.long0+Math.asin(n*Math.tan(h)/this.a)/Math.sin(i))}else if(Math.abs(r+this.ml0)<=q)i=0,e=dt(this.long0+n/this.a);else{var u,c,f,p,g;for(a=n*n/this.a/this.a+(s=(this.ml0+r)/this.a)*s,h=s,o=20;o;--o)if(g=this.e*Math.sin(h),u=Math.sqrt(1-g*g)*Math.tan(h),c=this.a*te(this.e0,this.e1,this.e2,this.e3,h),f=this.e0-2*this.e1*Math.cos(2*h)+4*this.e2*Math.cos(4*h)-6*this.e3*Math.cos(6*h),h-=l=(s*(u*(p=c/this.a)+1)-p-.5*u*(p*p+a))/(this.es*Math.sin(2*h)*(p*p+a-2*s*p)/(4*u)+(s-p)*(u*f-2/Math.sin(2*h))-f),Math.abs(l)<=q){i=h;break}u=Math.sqrt(1-this.es*Math.pow(Math.sin(i),2))*Math.tan(i),e=dt(this.long0+Math.asin(n*u/this.a)/Math.sin(i))}return t.x=e,t.y=i,t},names:["Polyconic","poly"]},ve={init:function(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013},forward:function(t){var e,i=(t.y-this.lat0)/B*1e-5,n=t.x-this.long0,r=1,o=0;for(e=1;e<=10;e++)o+=this.A[e]*(r*=i);var s,a=o,h=n,l=1,d=0,u=0,c=0;for(e=1;e<=6;e++)s=d*a+l*h,u=u+this.B_re[e]*(l=l*a-d*h)-this.B_im[e]*(d=s),c=c+this.B_im[e]*l+this.B_re[e]*d;return t.x=c*this.a+this.x0,t.y=u*this.a+this.y0,t},inverse:function(t){var e,i,n=(t.y-this.y0)/this.a,r=(t.x-this.x0)/this.a,o=1,s=0,a=0,h=0;for(e=1;e<=6;e++)i=s*n+o*r,a=a+this.C_re[e]*(o=o*n-s*r)-this.C_im[e]*(s=i),h=h+this.C_im[e]*o+this.C_re[e]*s;for(var l=0;l<this.iterations;l++){var d,u=a,c=h,f=n,p=r;for(e=2;e<=6;e++)d=c*a+u*h,f+=(e-1)*(this.B_re[e]*(u=u*a-c*h)-this.B_im[e]*(c=d)),p+=(e-1)*(this.B_im[e]*u+this.B_re[e]*c);u=1,c=0;var g=this.B_re[1],m=this.B_im[1];for(e=2;e<=6;e++)d=c*a+u*h,g+=e*(this.B_re[e]*(u=u*a-c*h)-this.B_im[e]*(c=d)),m+=e*(this.B_im[e]*u+this.B_re[e]*c);var v=g*g+m*m;a=(f*g+p*m)/v,h=(p*g-f*m)/v}var y=a,b=h,w=1,x=0;for(e=1;e<=9;e++)x+=this.D[e]*(w*=y);var _=this.lat0+x*B*1e5;return t.x=this.long0+b,t.y=_,t},names:["New_Zealand_Map_Grid","nzmg"]},ye={init:function(){},forward:function(t){var e=t.y,i=dt(t.x-this.long0),n=this.x0+this.a*i,r=this.y0+this.a*Math.log(Math.tan(Math.PI/4+e/2.5))*1.25;return t.x=n,t.y=r,t},inverse:function(t){t.x-=this.x0,t.y-=this.y0;var e=dt(this.long0+t.x/this.a),i=2.5*(Math.atan(Math.exp(.8*t.y/this.a))-Math.PI/4);return t.x=e,t.y=i,t},names:["Miller_Cylindrical","mill"]},be={init:function(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=Bt(this.es)},forward:function(t){var e,i,n=t.x,r=t.y;if(n=dt(n-this.long0),this.sphere){if(this.m)for(var o=this.n*Math.sin(r),s=20;s;--s){var a=(this.m*r+Math.sin(r)-o)/(this.m+Math.cos(r));if(r-=a,Math.abs(a)<q)break}else r=1!==this.n?Math.asin(this.n*Math.sin(r)):r;e=this.a*this.C_x*n*(this.m+Math.cos(r)),i=this.a*this.C_y*r}else{var h=Math.sin(r),l=Math.cos(r);i=this.a*Rt(r,h,l,this.en),e=this.a*n*l/Math.sqrt(1-this.es*h*h)}return t.x=e,t.y=i,t},inverse:function(t){var e,i,n,r;return t.x-=this.x0,n=t.x/this.a,t.y-=this.y0,e=t.y/this.a,this.sphere?(e/=this.C_y,n/=this.C_x*(this.m+Math.cos(e)),this.m?e=ue((this.m*e+Math.sin(e))/this.n):1!==this.n&&(e=ue(Math.sin(e)/this.n)),n=dt(n+this.long0),e=se(e)):(e=Ft(t.y/this.a,this.es,this.en),(r=Math.abs(e))<R?(r=Math.sin(e),i=this.long0+t.x*Math.sqrt(1-this.es*r*r)/(this.a*Math.cos(e)),n=dt(i)):r-q<R&&(n=this.long0)),t.x=n,t.y=e,t},names:["Sinusoidal","sinu"]},we={init:function(){},forward:function(t){for(var e=t.y,i=dt(t.x-this.long0),n=e,r=Math.PI*Math.sin(e);;){var o=-(n+Math.sin(n)-r)/(1+Math.cos(n));if(n+=o,Math.abs(o)<q)break}n/=2,Math.PI/2-Math.abs(e)<q&&(i=0);var s=.900316316158*this.a*i*Math.cos(n)+this.x0,a=1.4142135623731*this.a*Math.sin(n)+this.y0;return t.x=s,t.y=a,t},inverse:function(t){var e,i;t.x-=this.x0,t.y-=this.y0,i=t.y/(1.4142135623731*this.a),Math.abs(i)>.999999999999&&(i=.999999999999),e=Math.asin(i);var n=dt(this.long0+t.x/(.900316316158*this.a*Math.cos(e)));n<-Math.PI&&(n=-Math.PI),n>Math.PI&&(n=Math.PI),i=(2*e+Math.sin(2*e))/Math.PI,Math.abs(i)>1&&(i=1);var r=Math.asin(i);return t.x=n,t.y=r,t},names:["Mollweide","moll"]},xe={init:function(){Math.abs(this.lat1+this.lat2)<q||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=ee(this.es),this.e1=ie(this.es),this.e2=ne(this.es),this.e3=re(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=ht(this.e,this.sinphi,this.cosphi),this.ml1=te(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<q?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=ht(this.e,this.sinphi,this.cosphi),this.ml2=te(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=te(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))},forward:function(t){var e,i=t.x,n=t.y;if(this.sphere)e=this.a*(this.g-n);else{var r=te(this.e0,this.e1,this.e2,this.e3,n);e=this.a*(this.g-r)}var o=this.ns*dt(i-this.long0),s=this.x0+e*Math.sin(o),a=this.y0+this.rh-e*Math.cos(o);return t.x=s,t.y=a,t},inverse:function(t){var e,i,n,r;t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns>=0?(i=Math.sqrt(t.x*t.x+t.y*t.y),e=1):(i=-Math.sqrt(t.x*t.x+t.y*t.y),e=-1);var o=0;return 0!==i&&(o=Math.atan2(e*t.x,e*t.y)),this.sphere?(r=dt(this.long0+o/this.ns),n=se(this.g-i/this.a),t.x=r,t.y=n,t):(n=ae(this.g-i/this.a,this.e0,this.e1,this.e2,this.e3),r=dt(this.long0+o/this.ns),t.x=r,t.y=n,t)},names:["Equidistant_Conic","eqdc"]},_e={init:function(){this.R=this.a},forward:function(t){var e,i,n=t.y,r=dt(t.x-this.long0);Math.abs(n)<=q&&(e=this.x0+this.R*r,i=this.y0);var o=ue(2*Math.abs(n/Math.PI));(Math.abs(r)<=q||Math.abs(Math.abs(n)-R)<=q)&&(e=this.x0,i=n>=0?this.y0+Math.PI*this.R*Math.tan(.5*o):this.y0+Math.PI*this.R*-Math.tan(.5*o));var s=.5*Math.abs(Math.PI/r-r/Math.PI),a=s*s,h=Math.sin(o),l=Math.cos(o),d=l/(h+l-1),u=d*(2/h-1),c=u*u,f=Math.PI*this.R*(s*(d-c)+Math.sqrt(a*(d-c)*(d-c)-(c+a)*(d*d-c)))/(c+a);r<0&&(f=-f),e=this.x0+f;var p=a+d;return f=Math.PI*this.R*(u*p-s*Math.sqrt((c+a)*(a+1)-p*p))/(c+a),i=n>=0?this.y0+f:this.y0-f,t.x=e,t.y=i,t},inverse:function(t){var e,i,n,r,o,s,a,h,l,d,u,c;return t.x-=this.x0,t.y-=this.y0,u=Math.PI*this.R,o=(n=t.x/u)*n+(r=t.y/u)*r,u=3*(r*r/(h=-2*(s=-Math.abs(r)*(1+o))+1+2*r*r+o*o)+(2*(a=s-2*r*r+n*n)*a*a/h/h/h-9*s*a/h/h)/27)/(l=(s-a*a/3/h)/h)/(d=2*Math.sqrt(-l/3)),Math.abs(u)>1&&(u=u>=0?1:-1),c=Math.acos(u)/3,i=t.y>=0?(-d*Math.cos(c+Math.PI/3)-a/3/h)*Math.PI:-(-d*Math.cos(c+Math.PI/3)-a/3/h)*Math.PI,e=Math.abs(n)<q?this.long0:dt(this.long0+Math.PI*(o-1+Math.sqrt(1+2*(n*n-r*r)+o*o))/2/n),t.x=e,t.y=i,t},names:["Van_der_Grinten_I","VanDerGrinten","vandg"]},ke={init:function(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)},forward:function(t){var e,i,n,r,o,s,a,h,l,d,u,c,f,p,g,m,v,y,b,w,x,_,k=t.x,S=t.y,M=Math.sin(t.y),C=Math.cos(t.y),E=dt(k-this.long0);return this.sphere?Math.abs(this.sin_p12-1)<=q?(t.x=this.x0+this.a*(R-S)*Math.sin(E),t.y=this.y0-this.a*(R-S)*Math.cos(E),t):Math.abs(this.sin_p12+1)<=q?(t.x=this.x0+this.a*(R+S)*Math.sin(E),t.y=this.y0+this.a*(R+S)*Math.cos(E),t):(y=this.sin_p12*M+this.cos_p12*C*Math.cos(E),v=(m=Math.acos(y))/Math.sin(m),t.x=this.x0+this.a*v*C*Math.sin(E),t.y=this.y0+this.a*v*(this.cos_p12*M-this.sin_p12*C*Math.cos(E)),t):(e=ee(this.es),i=ie(this.es),n=ne(this.es),r=re(this.es),Math.abs(this.sin_p12-1)<=q?(o=this.a*te(e,i,n,r,R),s=this.a*te(e,i,n,r,S),t.x=this.x0+(o-s)*Math.sin(E),t.y=this.y0-(o-s)*Math.cos(E),t):Math.abs(this.sin_p12+1)<=q?(o=this.a*te(e,i,n,r,R),s=this.a*te(e,i,n,r,S),t.x=this.x0+(o+s)*Math.sin(E),t.y=this.y0+(o+s)*Math.cos(E),t):(a=M/C,h=oe(this.a,this.e,this.sin_p12),l=oe(this.a,this.e,M),d=Math.atan((1-this.es)*a+this.es*h*this.sin_p12/(l*C)),b=0===(u=Math.atan2(Math.sin(E),this.cos_p12*Math.tan(d)-this.sin_p12*Math.cos(E)))?Math.asin(this.cos_p12*Math.sin(d)-this.sin_p12*Math.cos(d)):Math.abs(Math.abs(u)-Math.PI)<=q?-Math.asin(this.cos_p12*Math.sin(d)-this.sin_p12*Math.cos(d)):Math.asin(Math.sin(E)*Math.cos(d)/Math.sin(u)),c=this.e*this.sin_p12/Math.sqrt(1-this.es),f=this.e*this.cos_p12*Math.cos(u)/Math.sqrt(1-this.es),t.x=this.x0+(m=h*b*(1-(w=b*b)*(g=f*f)*(1-g)/6+(x=w*b)/8*(p=c*f)*(1-2*g)+(_=x*b)/120*(g*(4-7*g)-3*c*c*(1-7*g))-_*b/48*p))*Math.sin(u),t.y=this.y0+m*Math.cos(u),t))},inverse:function(t){var e,i,n,r,o,s,a,h,l,d,u,c,f,p,g,m,v,y,b,w,x,_;if(t.x-=this.x0,t.y-=this.y0,this.sphere){if((e=Math.sqrt(t.x*t.x+t.y*t.y))>2*R*this.a)return;return i=e/this.a,n=Math.sin(i),r=Math.cos(i),o=this.long0,Math.abs(e)<=q?s=this.lat0:(s=ue(r*this.sin_p12+t.y*n*this.cos_p12/e),a=Math.abs(this.lat0)-R,o=dt(Math.abs(a)<=q?this.lat0>=0?this.long0+Math.atan2(t.x,-t.y):this.long0-Math.atan2(-t.x,t.y):this.long0+Math.atan2(t.x*n,e*this.cos_p12*r-t.y*this.sin_p12*n))),t.x=o,t.y=s,t}return h=ee(this.es),l=ie(this.es),d=ne(this.es),u=re(this.es),Math.abs(this.sin_p12-1)<=q?(c=this.a*te(h,l,d,u,R),e=Math.sqrt(t.x*t.x+t.y*t.y),s=ae((c-e)/this.a,h,l,d,u),o=dt(this.long0+Math.atan2(t.x,-1*t.y)),t.x=o,t.y=s,t):Math.abs(this.sin_p12+1)<=q?(c=this.a*te(h,l,d,u,R),e=Math.sqrt(t.x*t.x+t.y*t.y),s=ae((e-c)/this.a,h,l,d,u),o=dt(this.long0+Math.atan2(t.x,t.y)),t.x=o,t.y=s,t):(e=Math.sqrt(t.x*t.x+t.y*t.y),g=Math.atan2(t.x,t.y),f=oe(this.a,this.e,this.sin_p12),m=Math.cos(g),b=3*this.es*(1-(y=-(v=this.e*this.cos_p12*m)*v/(1-this.es)))*this.sin_p12*this.cos_p12*m/(1-this.es),_=1-y*(x=(w=e/f)-y*(1+y)*Math.pow(w,3)/6-b*(1+3*y)*Math.pow(w,4)/24)*x/2-w*x*x*x/6,p=Math.asin(this.sin_p12*Math.cos(x)+this.cos_p12*Math.sin(x)*m),o=dt(this.long0+Math.asin(Math.sin(g)*Math.sin(x)/Math.cos(p))),s=Math.atan((1-this.es*_*this.sin_p12/Math.sin(p))*Math.tan(p)/(1-this.es)),t.x=o,t.y=s,t)},names:["Azimuthal_Equidistant","aeqd"]},Se={init:function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)},forward:function(t){var e,i,n,r,o,s,a,h=t.y;return n=dt(t.x-this.long0),e=Math.sin(h),i=Math.cos(h),r=Math.cos(n),((o=this.sin_p14*e+this.cos_p14*i*r)>0||Math.abs(o)<=q)&&(s=1*this.a*i*Math.sin(n),a=this.y0+1*this.a*(this.cos_p14*e-this.sin_p14*i*r)),t.x=s,t.y=a,t},inverse:function(t){var e,i,n,r,o,s,a;return t.x-=this.x0,t.y-=this.y0,e=Math.sqrt(t.x*t.x+t.y*t.y),i=ue(e/this.a),n=Math.sin(i),r=Math.cos(i),s=this.long0,Math.abs(e)<=q?(a=this.lat0,t.x=s,t.y=a,t):(a=ue(r*this.sin_p14+t.y*n*this.cos_p14/e),o=Math.abs(this.lat0)-R,Math.abs(o)<=q?(s=dt(this.lat0>=0?this.long0+Math.atan2(t.x,-t.y):this.long0-Math.atan2(-t.x,t.y)),t.x=s,t.y=a,t):(s=dt(this.long0+Math.atan2(t.x*n,e*this.cos_p14*r-t.y*this.sin_p14*n)),t.x=s,t.y=a,t))},names:["ortho"]},Me={AREA_0:1,AREA_1:2,AREA_2:3,AREA_3:4},Ce={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.face=this.lat0>=R-U/2?5:this.lat0<=-(R-U/2)?6:Math.abs(this.long0)<=U?1:Math.abs(this.long0)<=R+U?this.long0>0?2:4:3,0!==this.es&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)},forward:function(t){var e,i,n,r,o,s,a={x:0,y:0},h={value:0};if(t.x-=this.long0,e=0!==this.es?Math.atan(this.one_minus_f_squared*Math.tan(t.y)):t.y,i=t.x,5===this.face)r=R-e,i>=U&&i<=R+U?(h.value=Me.AREA_0,n=i-R):i>R+U||i<=-(R+U)?(h.value=Me.AREA_1,n=i>0?i-Y:i+Y):i>-(R+U)&&i<=-U?(h.value=Me.AREA_2,n=i+R):(h.value=Me.AREA_3,n=i);else if(6===this.face)r=R+e,i>=U&&i<=R+U?(h.value=Me.AREA_0,n=-i+R):i<U&&i>=-U?(h.value=Me.AREA_1,n=-i):i<-U&&i>=-(R+U)?(h.value=Me.AREA_2,n=-i-R):(h.value=Me.AREA_3,n=i>0?-i+Y:-i-Y);else{var l,d,u,c,f,p;2===this.face?i=T(i,+R):3===this.face?i=T(i,+Y):4===this.face&&(i=T(i,-R)),c=Math.sin(e),f=Math.cos(e),p=Math.sin(i),l=f*Math.cos(i),d=f*p,u=c,1===this.face?n=D(r=Math.acos(l),u,d,h):2===this.face?n=D(r=Math.acos(d),u,-l,h):3===this.face?n=D(r=Math.acos(-l),u,-d,h):4===this.face?n=D(r=Math.acos(-d),u,l,h):(r=n=0,h.value=Me.AREA_0)}return s=Math.atan(12/Y*(n+Math.acos(Math.sin(n)*Math.cos(U))-R)),o=Math.sqrt((1-Math.cos(r))/(Math.cos(s)*Math.cos(s))/(1-Math.cos(Math.atan(1/Math.cos(n))))),h.value===Me.AREA_1?s+=R:h.value===Me.AREA_2?s+=Y:h.value===Me.AREA_3&&(s+=1.5*Y),a.x=o*Math.cos(s),a.y=o*Math.sin(s),a.x=a.x*this.a+this.x0,a.y=a.y*this.a+this.y0,t.x=a.x,t.y=a.y,t},inverse:function(t){var e,i,n,r,o,s,a,h,l,d,u,c,f={lam:0,phi:0},p={value:0};if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,i=Math.atan(Math.sqrt(t.x*t.x+t.y*t.y)),e=Math.atan2(t.y,t.x),t.x>=0&&t.x>=Math.abs(t.y)?p.value=Me.AREA_0:t.y>=0&&t.y>=Math.abs(t.x)?(p.value=Me.AREA_1,e-=R):t.x<0&&-t.x>=Math.abs(t.y)?(p.value=Me.AREA_2,e=e<0?e+Y:e-Y):(p.value=Me.AREA_3,e+=R),l=Y/12*Math.tan(e),o=Math.sin(l)/(Math.cos(l)-1/Math.sqrt(2)),s=Math.atan(o),(a=1-(n=Math.cos(e))*n*(r=Math.tan(i))*r*(1-Math.cos(Math.atan(1/Math.cos(s)))))<-1?a=-1:a>1&&(a=1),5===this.face)h=Math.acos(a),f.phi=R-h,f.lam=p.value===Me.AREA_0?s+R:p.value===Me.AREA_1?s<0?s+Y:s-Y:p.value===Me.AREA_2?s-R:s;else if(6===this.face)h=Math.acos(a),f.phi=h-R,f.lam=p.value===Me.AREA_0?-s+R:p.value===Me.AREA_1?-s:p.value===Me.AREA_2?-s-R:s<0?-s-Y:-s+Y;else{var g,m,v;l=(g=a)*g,m=(l+=(v=l>=1?0:Math.sqrt(1-l)*Math.sin(s))*v)>=1?0:Math.sqrt(1-l),p.value===Me.AREA_1?(l=m,m=-v,v=l):p.value===Me.AREA_2?(m=-m,v=-v):p.value===Me.AREA_3&&(l=m,m=v,v=-l),2===this.face?(l=g,g=-m,m=l):3===this.face?(g=-g,m=-m):4===this.face&&(l=g,g=m,m=-l),f.phi=Math.acos(-v)-R,f.lam=Math.atan2(m,g),2===this.face?f.lam=T(f.lam,-R):3===this.face?f.lam=T(f.lam,-Y):4===this.face&&(f.lam=T(f.lam,+R))}return 0!==this.es&&(d=f.phi<0?1:0,u=Math.tan(f.phi),c=this.b/Math.sqrt(u*u+this.one_minus_f_squared),f.phi=Math.atan(Math.sqrt(this.a*this.a-c*c)/(this.one_minus_f*c)),d&&(f.phi=-f.phi)),f.lam+=this.long0,t.x=f.lam,t.y=f.phi,t},names:["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"]},Ee=[[1,22199e-21,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-9.86701e-7],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,1.8736e-8],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,9.34959e-7],[.7986,-.00755338,-500009e-10,9.35324e-7],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],Ne=[[-520417e-23,.0124,121431e-23,-845284e-16],[.062,.0124,-1.26793e-9,4.22642e-10],[.124,.0124,5.07171e-9,-1.60604e-9],[.186,.0123999,-1.90189e-8,6.00152e-9],[.248,.0124002,7.10039e-8,-2.24e-8],[.31,.0123992,-2.64997e-7,8.35986e-8],[.372,.0124029,9.88983e-7,-3.11994e-7],[.434,.0123893,-369093e-11,-4.35621e-7],[.4958,.0123198,-102252e-10,-3.45523e-7],[.5571,.0121916,-154081e-10,-5.82288e-7],[.6176,.0119938,-241424e-10,-5.25327e-7],[.6769,.011713,-320223e-10,-5.16405e-7],[.7346,.0113541,-397684e-10,-6.09052e-7],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-1.40374e-9],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]],Ae=W/5,De=1/Ae,Te=function(t,e){return t[0]+e*(t[1]+e*(t[2]+e*t[3]))},Le={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"},forward:function(t){var e=dt(t.x-this.long0),i=Math.abs(t.y),n=Math.floor(i*Ae);n<0?n=0:n>=18&&(n=17);var r={x:Te(Ee[n],i=W*(i-De*n))*e,y:Te(Ne[n],i)};return t.y<0&&(r.y=-r.y),r.x=r.x*this.a*.8487+this.x0,r.y=r.y*this.a*1.3523+this.y0,r},inverse:function(t){var e={x:(t.x-this.x0)/(.8487*this.a),y:Math.abs(t.y-this.y0)/(1.3523*this.a)};if(e.y>=1)e.x/=Ee[18][0],e.y=t.y<0?-R:R;else{var i=Math.floor(18*e.y);for(i<0?i=0:i>=18&&(i=17);;)if(Ne[i][0]>e.y)--i;else{if(!(Ne[i+1][0]<=e.y))break;++i}var n=Ne[i],r=5*(e.y-n[0])/(Ne[i+1][0]-n[0]);r=function(t,e,i,n){for(var r=e;n;--n){var o=t(r);if(r-=o,Math.abs(o)<i)break}return r}(function(t){return(Te(n,t)-e.y)/function(t,e){return n[1]+e*(2*n[2]+3*e*n[3])}(0,t)},r,q,100),e.x/=Te(Ee[i],r),e.y=(5*i+r)*H,t.y<0&&(e.y=-e.y)}return e.x=dt(e.x+this.long0),e},names:["Robinson","robin"]};return b.defaultDatum="WGS84",b.Proj=f,b.WGS84=new b.Proj("WGS84"),b.Point=A,b.toPoint=_t,b.defs=a,b.transform=m,b.mgrs=Ot,b.version="2.5.0",(Pt=b).Proj.projections.add(zt),Pt.Proj.projections.add(Ut),Pt.Proj.projections.add(Vt),Pt.Proj.projections.add(Xt),Pt.Proj.projections.add(Kt),Pt.Proj.projections.add(Zt),Pt.Proj.projections.add(Qt),Pt.Proj.projections.add($t),Pt.Proj.projections.add(Jt),Pt.Proj.projections.add(he),Pt.Proj.projections.add(de),Pt.Proj.projections.add(ce),Pt.Proj.projections.add(fe),Pt.Proj.projections.add(pe),Pt.Proj.projections.add(ge),Pt.Proj.projections.add(me),Pt.Proj.projections.add(ve),Pt.Proj.projections.add(ye),Pt.Proj.projections.add(be),Pt.Proj.projections.add(we),Pt.Proj.projections.add(xe),Pt.Proj.projections.add(_e),Pt.Proj.projections.add(ke),Pt.Proj.projections.add(Se),Pt.Proj.projections.add(Ce),Pt.Proj.projections.add(Le),b}),function(t){"function"==typeof define&&define.amd?define(t):t()}(function(){"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}!function(e){if("object"!==t(e.console)){e.console={};for(var i,n,r=e.console,o=function(){},s=["memory"],a="assert,clear,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profiles,profileEnd,show,table,time,timeEnd,timeline,timelineEnd,timeStamp,trace,warn".split(",");i=s.pop();)r[i]||(r[i]={});for(;n=a.pop();)r[n]||(r[n]=o)}var h,l,d,u,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";void 0===e.btoa&&(e.btoa=function(t){var e,i,n,r,o,s=0,a=0,h="",l=[];if(!t)return t;for(;e=(o=t.charCodeAt(s++)<<16|t.charCodeAt(s++)<<8|t.charCodeAt(s++))>>18&63,i=o>>12&63,n=o>>6&63,r=63&o,l[a++]=c.charAt(e)+c.charAt(i)+c.charAt(n)+c.charAt(r),s<t.length;);h=l.join("");var d=t.length%3;return(d?h.slice(0,d-3):h)+"===".slice(d||3)}),void 0===e.atob&&(e.atob=function(t){var e,i,n,r,o,s,a=0,h=0,l=[];if(!t)return t;for(t+="";e=(s=c.indexOf(t.charAt(a++))<<18|c.indexOf(t.charAt(a++))<<12|(r=c.indexOf(t.charAt(a++)))<<6|(o=c.indexOf(t.charAt(a++))))>>16&255,i=s>>8&255,n=255&s,l[h++]=64==r?String.fromCharCode(e):64==o?String.fromCharCode(e,i):String.fromCharCode(e,i,n),a<t.length;);return l.join("")}),Array.prototype.map||(Array.prototype.map=function(t){if(null==this||"function"!=typeof t)throw new TypeError;for(var e=Object(this),i=e.length>>>0,n=new Array(i),r=1<arguments.length?arguments[1]:void 0,o=0;o<i;o++)o in e&&(n[o]=t.call(r,e[o],o,e));return n}),Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),Array.prototype.forEach||(Array.prototype.forEach=function(t,e){if(null==this||"function"!=typeof t)throw new TypeError;for(var i=Object(this),n=i.length>>>0,r=0;r<n;r++)r in i&&t.call(e,i[r],r,i)}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(t){if(null==this)throw new TypeError('"this" is null or not defined');var e=Object(this),i=e.length>>>0;if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var n=arguments[1],r=0;r<i;){var o=e[r];if(t.call(n,o,r,e))return o;r++}},configurable:!0,writable:!0}),Object.keys||(Object.keys=(h=Object.prototype.hasOwnProperty,l=!{toString:null}.propertyIsEnumerable("toString"),u=(d=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"]).length,function(e){if("object"!==t(e)&&("function"!=typeof e||null===e))throw new TypeError;var i,n,r=[];for(i in e)h.call(e,i)&&r.push(i);if(l)for(n=0;n<u;n++)h.call(e,d[n])&&r.push(d[n]);return r})),"function"!=typeof Object.assign&&(Object.assign=function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");t=Object(t);for(var e=1;e<arguments.length;e++){var i=arguments[e];if(null!=i)for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t}),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),String.prototype.trimLeft||(String.prototype.trimLeft=function(){return this.replace(/^\s+/g,"")}),String.prototype.trimRight||(String.prototype.trimRight=function(){return this.replace(/\s+$/g,"")}),Number.isInteger=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||"undefined"!=typeof global&&global||Function('return typeof this === "object" && this.content')()||Function("return this")());var e,i,n,r,o,s,a,h,l,d,u,c,f,p,g,m,v,y,b,w,x,_,k,S,M,C,E,N,A,D,T,L,O,P,I,B,R,F,z,j,q,H,W,U,V,Y,G,X,K,Z,Q,$,J,tt,et,it,nt,rt,ot,st,at,ht=function(e){function i(i){if("object"!==t(i))throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var n={};this.subscribe=function(t,e,i){if(i=i||!1,"string"!=typeof t||"function"!=typeof e||"boolean"!=typeof i)throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");n.hasOwnProperty(t)||(n[t]={});var r=Math.random().toString(35);return n[t][r]=[e,!!i],r},this.unsubscribe=function(t){for(var e in n)if(n[e][t])return delete n[e][t],0===Object.keys(n[e]).length&&delete n[e],!0;return!1},this.publish=function(t){if(n.hasOwnProperty(t)){var r=Array.prototype.slice.call(arguments,1),o=[];for(var s in n[t]){var a=n[t][s];try{a[0].apply(i,r)}catch(t){e.console&&console.error("jsPDF PubSub Error",t.message,t)}a[1]&&o.push(s)}o.length&&o.forEach(this.unsubscribe)}},this.getTopics=function(){return n}}function n(r,o,s,a){var h={},l=[],d=1;"object"===t(r)&&(r=(h=r).orientation,o=h.unit||o,s=h.format||s,a=h.compress||h.compressPdf||a,l=h.filters||(!0===a?["FlateEncode"]:l),d="number"==typeof h.userUnit?Math.abs(h.userUnit):1),o=o||"mm",r=(""+(r||"P")).toLowerCase();var u=h.putOnlyUsedFonts||!0,c={},f={internal:{},__private__:{}};f.__private__.PubSub=i;var p="1.3",g=f.__private__.getPdfVersion=function(){return p},m=(f.__private__.setPdfVersion=function(t){p=t},{a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]}),v=(f.__private__.getPageFormats=function(){return m},f.__private__.getPageFormat=function(t){return m[t]});"string"==typeof s&&(s=v(s)),s=s||v("a4");var y,b=f.f2=f.__private__.f2=function(t){if(isNaN(t))throw new Error("Invalid argument passed to jsPDF.f2");return t.toFixed(2)},w=f.__private__.f3=function(t){if(isNaN(t))throw new Error("Invalid argument passed to jsPDF.f3");return t.toFixed(3)},x="00000000000000000000000000000000",_=f.__private__.getFileId=function(){return x},k=f.__private__.setFileId=function(t){return t=t||"12345678901234567890123456789012".split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),x=t};f.setFileId=function(t){return k(t),this},f.getFileId=function(){return _()};var S=f.__private__.convertDateToPDFDate=function(t){var e=t.getTimezoneOffset(),i=e<0?"+":"-",n=Math.floor(Math.abs(e/60)),r=Math.abs(e%60),o=[i,B(n),"'",B(r),"'"].join("");return["D:",t.getFullYear(),B(t.getMonth()+1),B(t.getDate()),B(t.getHours()),B(t.getMinutes()),B(t.getSeconds()),o].join("")},M=f.__private__.convertPDFDateToDate=function(t){var e=parseInt(t.substr(2,4),10),i=parseInt(t.substr(6,2),10)-1,n=parseInt(t.substr(8,2),10),r=parseInt(t.substr(10,2),10),o=parseInt(t.substr(12,2),10),s=parseInt(t.substr(14,2),10);return parseInt(t.substr(16,2),10),parseInt(t.substr(20,2),10),new Date(e,i,n,r,o,s,0)},C=f.__private__.setCreationDate=function(e){var i;if(void 0===e&&(e=new Date),"object"===t(e)&&"[object Date]"===Object.prototype.toString.call(e))i=S(e);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|\-0[0-9]|\-1[0-1])\'(0[0-9]|[1-5][0-9])\'?$/.test(e))throw new Error("Invalid argument passed to jsPDF.setCreationDate");i=e}return y=i},E=f.__private__.getCreationDate=function(t){var e=y;return"jsDate"===t&&(e=M(y)),e};f.setCreationDate=function(t){return C(t),this},f.getCreationDate=function(t){return E(t)};var N,A,D,T,L,O,P,I,B=f.__private__.padd2=function(t){return("0"+parseInt(t)).slice(-2)},R=!1,F=[],z=[],j=0,q=(f.__private__.setCustomOutputDestination=function(t){A=t},f.__private__.resetCustomOutputDestination=function(t){A=void 0},f.__private__.out=function(t){var e;return t="string"==typeof t?t:t.toString(),(e=void 0===A?R?F[N]:z:A).push(t),R||(j+=t.length+1),e}),H=f.__private__.write=function(t){return q(1===arguments.length?t.toString():Array.prototype.join.call(arguments," "))},W=f.__private__.getArrayBuffer=function(t){for(var e=t.length,i=new ArrayBuffer(e),n=new Uint8Array(i);e--;)n[e]=t.charCodeAt(e);return i},U=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]],V=(f.__private__.getStandardFonts=function(t){return U},h.fontSize||16),Y=(f.__private__.setFontSize=f.setFontSize=function(t){return V=t,this},f.__private__.getFontSize=f.getFontSize=function(){return V}),G=h.R2L||!1,X=(f.__private__.setR2L=f.setR2L=function(t){return G=t,this},f.__private__.getR2L=f.getR2L=function(t){return G},f.__private__.setZoomMode=function(t){if(/^\d*\.?\d*\%$/.test(t))D=t;else if(isNaN(t)){if(-1===[void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(t))throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+t+'" is not recognized.');D=t}else D=parseInt(t,10)}),K=(f.__private__.getZoomMode=function(){return D},f.__private__.setPageMode=function(t){if(-1==[void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(t))throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+t+'" is not recognized.');T=t}),Z=(f.__private__.getPageMode=function(){return T},f.__private__.setLayoutMode=function(t){if(-1==[void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(t))throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+t+'" is not recognized.');L=t}),Q=(f.__private__.getLayoutMode=function(){return L},f.__private__.setDisplayMode=f.setDisplayMode=function(t,e,i){return X(t),Z(e),K(i),this},{title:"",subject:"",author:"",keywords:"",creator:""}),$=(f.__private__.getDocumentProperty=function(t){if(-1===Object.keys(Q).indexOf(t))throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Q[t]},f.__private__.getDocumentProperties=function(t){return Q},f.__private__.setDocumentProperties=f.setProperties=f.setDocumentProperties=function(t){for(var e in Q)Q.hasOwnProperty(e)&&t[e]&&(Q[e]=t[e]);return this},f.__private__.setDocumentProperty=function(t,e){if(-1===Object.keys(Q).indexOf(t))throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Q[t]=e},0),J=[],tt={},et={},it=0,nt=[],rt=[],ot=new i(f),st=h.hotfixes||[],at=f.__private__.newObject=function(){var t=ht();return lt(t,!0),t},ht=f.__private__.newObjectDeferred=function(){return J[++$]=function(){return j},$},lt=function(t,e){return e="boolean"==typeof e&&e,J[t]=j,e&&q(t+" 0 obj"),t},dt=f.__private__.newAdditionalObject=function(){var t={objId:ht(),content:""};return rt.push(t),t},ut=ht(),ct=ht(),ft=f.__private__.decodeColorString=function(t){var e=t.split(" ");if(2===e.length&&("g"===e[1]||"G"===e[1])){var i=parseFloat(e[0]);e=[i,i,i,"r"]}for(var n="#",r=0;r<3;r++)n+=("0"+Math.floor(255*parseFloat(e[r])).toString(16)).slice(-2);return n},pt=f.__private__.encodeColorString=function(e){var i;"string"==typeof e&&(e={ch1:e});var n=e.ch1,r=e.ch2,o=e.ch3,s=e.ch4,a="draw"===e.pdfColorType?["G","RG","K"]:["g","rg","k"];if("string"==typeof n&&"#"!==n.charAt(0)){var h=new RGBColor(n);if(h.ok)n=h.toHex();else if(!/^\d*\.?\d*$/.test(n))throw new Error('Invalid color "'+n+'" passed to jsPDF.encodeColorString.')}if("string"==typeof n&&/^#[0-9A-Fa-f]{3}$/.test(n)&&(n="#"+n[1]+n[1]+n[2]+n[2]+n[3]+n[3]),"string"==typeof n&&/^#[0-9A-Fa-f]{6}$/.test(n)){var l=parseInt(n.substr(1),16);n=l>>16&255,r=l>>8&255,o=255&l}if(void 0===r||void 0===s&&n===r&&r===o)if("string"==typeof n)i=n+" "+a[0];else switch(e.precision){case 2:i=b(n/255)+" "+a[0];break;case 3:default:i=w(n/255)+" "+a[0]}else if(void 0===s||"object"===t(s)){if(s&&!isNaN(s.a)&&0===s.a)return["1.000","1.000","1.000",a[1]].join(" ");if("string"==typeof n)i=[n,r,o,a[1]].join(" ");else switch(e.precision){case 2:i=[b(n/255),b(r/255),b(o/255),a[1]].join(" ");break;default:case 3:i=[w(n/255),w(r/255),w(o/255),a[1]].join(" ")}}else if("string"==typeof n)i=[n,r,o,s,a[2]].join(" ");else switch(e.precision){case 2:i=[b(n/255),b(r/255),b(o/255),b(s/255),a[2]].join(" ");break;case 3:default:i=[w(n/255),w(r/255),w(o/255),w(s/255),a[2]].join(" ")}return i},gt=f.__private__.getFilters=function(){return l},mt=f.__private__.putStream=function(t){var e,i=(t=t||{}).data||"",r=t.filters||gt(),o=t.alreadyAppliedFilters||[],s=t.addLength1||!1,a=i.length;!0===r&&(r=["FlateEncode"]);var h=t.additionalKeyValues||[],l=(e=void 0!==n.API.processDataByFilters?n.API.processDataByFilters(i,r):{data:i,reverseChain:[]}).reverseChain+(Array.isArray(o)?o.join(" "):o.toString());0!==e.data.length&&(h.push({key:"Length",value:e.data.length}),!0===s&&h.push({key:"Length1",value:a})),0!=l.length&&(l.split("/").length-1==1?h.push({key:"Filter",value:l}):h.push({key:"Filter",value:"["+l+"]"})),q("<<");for(var d=0;d<h.length;d++)q("/"+h[d].key+" "+h[d].value);q(">>"),0!==e.data.length&&(q("stream"),q(e.data),q("endstream"))},vt=f.__private__.putPage=function(t){var e=t.number,i=t.data,n=t.objId,r=t.contentsObjId;lt(n,!0),q("<</Type /Page"),q("/Parent "+t.rootDictionaryObjId+" 0 R"),q("/Resources "+t.resourceDictionaryObjId+" 0 R"),q("/MediaBox ["+parseFloat(b(t.mediaBox.bottomLeftX))+" "+parseFloat(b(t.mediaBox.bottomLeftY))+" "+b(t.mediaBox.topRightX)+" "+b(t.mediaBox.topRightY)+"]"),null!==t.cropBox&&q("/CropBox ["+b(t.cropBox.bottomLeftX)+" "+b(t.cropBox.bottomLeftY)+" "+b(t.cropBox.topRightX)+" "+b(t.cropBox.topRightY)+"]"),null!==t.bleedBox&&q("/BleedBox ["+b(t.bleedBox.bottomLeftX)+" "+b(t.bleedBox.bottomLeftY)+" "+b(t.bleedBox.topRightX)+" "+b(t.bleedBox.topRightY)+"]"),null!==t.trimBox&&q("/TrimBox ["+b(t.trimBox.bottomLeftX)+" "+b(t.trimBox.bottomLeftY)+" "+b(t.trimBox.topRightX)+" "+b(t.trimBox.topRightY)+"]"),null!==t.artBox&&q("/ArtBox ["+b(t.artBox.bottomLeftX)+" "+b(t.artBox.bottomLeftY)+" "+b(t.artBox.topRightX)+" "+b(t.artBox.topRightY)+"]"),"number"==typeof t.userUnit&&1!==t.userUnit&&q("/UserUnit "+t.userUnit),ot.publish("putPage",{objId:n,pageContext:nt[e],pageNumber:e,page:i}),q("/Contents "+r+" 0 R"),q(">>"),q("endobj");var o=i.join("\n");return lt(r,!0),mt({data:o,filters:gt()}),q("endobj"),n},yt=f.__private__.putPages=function(){var t,e,i=[];for(t=1;t<=it;t++)nt[t].objId=ht(),nt[t].contentsObjId=ht();for(t=1;t<=it;t++)i.push(vt({number:t,data:F[t],objId:nt[t].objId,contentsObjId:nt[t].contentsObjId,mediaBox:nt[t].mediaBox,cropBox:nt[t].cropBox,bleedBox:nt[t].bleedBox,trimBox:nt[t].trimBox,artBox:nt[t].artBox,userUnit:nt[t].userUnit,rootDictionaryObjId:ut,resourceDictionaryObjId:ct}));lt(ut,!0),q("<</Type /Pages");var n="/Kids [";for(e=0;e<it;e++)n+=i[e]+" 0 R ";q(n+"]"),q("/Count "+it),q(">>"),q("endobj"),ot.publish("postPutPages")},bt=function(t,e,i){et.hasOwnProperty(e)||(et[e]={}),et[e][i]=t},wt=function(t,e,i,n,r){r=r||!1;var o="F"+(Object.keys(tt).length+1).toString(10),s={id:o,postScriptName:t,fontName:e,fontStyle:i,encoding:n,isStandardFont:r,metadata:{}};return ot.publish("addFont",{font:s,instance:this}),void 0!==o&&(tt[o]=s,bt(o,e,i)),o},xt=f.__private__.pdfEscape=f.pdfEscape=function(t,e){return function(t,e){var i,n,r,o,s,a,h,l,d;if(r=(e=e||{}).sourceEncoding||"Unicode",s=e.outputEncoding,(e.autoencode||s)&&tt[O].metadata&&tt[O].metadata[r]&&tt[O].metadata[r].encoding&&(o=tt[O].metadata[r].encoding,!s&&tt[O].encoding&&(s=tt[O].encoding),!s&&o.codePages&&(s=o.codePages[0]),"string"==typeof s&&(s=o[s]),s)){for(h=!1,a=[],i=0,n=t.length;i<n;i++)(l=s[t.charCodeAt(i)])?a.push(String.fromCharCode(l)):a.push(t[i]),a[i].charCodeAt(0)>>8&&(h=!0);t=a.join("")}for(i=t.length;void 0===h&&0!==i;)t.charCodeAt(i-1)>>8&&(h=!0),i--;if(!h)return t;for(a=e.noBOM?[]:[254,255],i=0,n=t.length;i<n;i++){if((d=(l=t.charCodeAt(i))>>8)>>8)throw new Error("Character at position "+i+" of string '"+t+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");a.push(d),a.push(l-(d<<8))}return String.fromCharCode.apply(void 0,a)}(t,e).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},_t=f.__private__.beginPage=function(t,e){var i,n="string"==typeof e&&e.toLowerCase();if("string"==typeof t&&(i=v(t.toLowerCase()))&&(t=i[0],e=i[1]),Array.isArray(t)&&(e=t[1],t=t[0]),(isNaN(t)||isNaN(e))&&(t=s[0],e=s[1]),n){switch(n.substr(0,1)){case"l":t<e&&(n="s");break;case"p":e<t&&(n="s")}"s"===n&&(i=t,t=e,e=i)}(14400<t||14400<e)&&(console.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),t=Math.min(14400,t),e=Math.min(14400,e)),s=[t,e],R=!0,F[++it]=[],nt[it]={objId:0,contentsObjId:0,userUnit:Number(d),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(t),topRightY:Number(e)}},Mt(it)},kt=function(){_t.apply(this,arguments),Ut(Wt),q($t),0!==re&&q(re+" J"),0!==se&&q(se+" j"),ot.publish("addPage",{pageNumber:it})},Mt=function(t){0<t&&t<=it&&(N=t)},Ct=f.__private__.getNumberOfPages=f.getNumberOfPages=function(){return F.length-1},Et=function(t,e,i){var n,r=void 0;return i=i||{},e=void 0!==e?e:tt[O].fontStyle,n=(t=void 0!==t?t:tt[O].fontName).toLowerCase(),void 0!==et[n]&&void 0!==et[n][e]?r=et[n][e]:void 0!==et[t]&&void 0!==et[t][e]?r=et[t][e]:!1===i.disableWarning&&console.warn("Unable to look up font label for font '"+t+"', '"+e+"'. Refer to getFontList() for available fonts."),r||i.noFallback||null==(r=et.times[e])&&(r=et.times.normal),r},Nt=f.__private__.putInfo=function(){for(var t in at(),q("<<"),q("/Producer (jsPDF "+n.version+")"),Q)Q.hasOwnProperty(t)&&Q[t]&&q("/"+t.substr(0,1).toUpperCase()+t.substr(1)+" ("+xt(Q[t])+")");q("/CreationDate ("+y+")"),q(">>"),q("endobj")},At=f.__private__.putCatalog=function(t){var e=(t=t||{}).rootDictionaryObjId||ut;switch(at(),q("<<"),q("/Type /Catalog"),q("/Pages "+e+" 0 R"),D||(D="fullwidth"),D){case"fullwidth":q("/OpenAction [3 0 R /FitH null]");break;case"fullheight":q("/OpenAction [3 0 R /FitV null]");break;case"fullpage":q("/OpenAction [3 0 R /Fit]");break;case"original":q("/OpenAction [3 0 R /XYZ null null 1]");break;default:var i=""+D;"%"===i.substr(i.length-1)&&(D=parseInt(D)/100),"number"==typeof D&&q("/OpenAction [3 0 R /XYZ null null "+b(D)+"]")}switch(L||(L="continuous"),L){case"continuous":q("/PageLayout /OneColumn");break;case"single":q("/PageLayout /SinglePage");break;case"two":case"twoleft":q("/PageLayout /TwoColumnLeft");break;case"tworight":q("/PageLayout /TwoColumnRight")}T&&q("/PageMode /"+T),ot.publish("putCatalog"),q(">>"),q("endobj")},Dt=f.__private__.putTrailer=function(){q("trailer"),q("<<"),q("/Size "+($+1)),q("/Root "+$+" 0 R"),q("/Info "+($-1)+" 0 R"),q("/ID [ <"+x+"> <"+x+"> ]"),q(">>")},Tt=f.__private__.putHeader=function(){q("%PDF-"+p),q("%ºß¬à")},Lt=f.__private__.putXRef=function(){var t=1,e="0000000000";for(q("xref"),q("0 "+($+1)),q("0000000000 65535 f "),t=1;t<=$;t++)q("function"==typeof J[t]?(e+J[t]()).slice(-10)+" 00000 n ":void 0!==J[t]?(e+J[t]).slice(-10)+" 00000 n ":"0000000000 00000 n ")},Ot=f.__private__.buildDocument=function(){R=!1,j=$=0,z=[],J=[],rt=[],ut=ht(),ct=ht(),ot.publish("buildDocument"),Tt(),yt(),function(){ot.publish("putAdditionalObjects");for(var t=0;t<rt.length;t++){var e=rt[t];lt(e.objId,!0),q(e.content),q("endobj")}ot.publish("postPutAdditionalObjects")}(),function(){for(var t in tt)tt.hasOwnProperty(t)&&(!1===u||!0===u&&c.hasOwnProperty(t))&&(ot.publish("putFont",{font:e=tt[t],out:q,newObject:at,putStream:mt}),!0!==e.isAlreadyPutted&&(e.objectNumber=at(),q("<<"),q("/Type /Font"),q("/BaseFont /"+e.postScriptName),q("/Subtype /Type1"),"string"==typeof e.encoding&&q("/Encoding /"+e.encoding),q("/FirstChar 32"),q("/LastChar 255"),q(">>"),q("endobj")));var e}(),ot.publish("putResources"),lt(ct,!0),q("<<"),function(){for(var t in q("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),q("/Font <<"),tt)tt.hasOwnProperty(t)&&(!1===u||!0===u&&c.hasOwnProperty(t))&&q("/"+t+" "+tt[t].objectNumber+" 0 R");q(">>"),q("/XObject <<"),ot.publish("putXobjectDict"),q(">>")}(),q(">>"),q("endobj"),ot.publish("postPutResources"),Nt(),At();var t=j;return Lt(),Dt(),q("startxref"),q(""+t),q("%%EOF"),R=!0,z.join("\n")},Pt=f.__private__.getBlob=function(t){return new Blob([W(t)],{type:"application/pdf"})},It=f.output=f.__private__.output=((I=function(t,i){i=i||{};var n=Ot();switch("string"==typeof i?i={filename:i}:i.filename=i.filename||"generated.pdf",t){case void 0:return n;case"save":f.save(i.filename);break;case"arraybuffer":return W(n);case"blob":return Pt(n);case"bloburi":case"bloburl":if(void 0!==e.URL&&"function"==typeof e.URL.createObjectURL)return e.URL&&e.URL.createObjectURL(Pt(n))||void 0;console.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":return"data:application/pdf;filename="+i.filename+";base64,"+btoa(n);case"dataurlnewwindow":var r='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring")+'"></iframe></body></html>',o=e.open();if(null!==o&&o.document.write(r),o||"undefined"==typeof safari)return o;case"datauri":case"dataurl":return e.document.location.href="data:application/pdf;filename="+i.filename+";base64,"+btoa(n);default:return null}}).foo=function(){try{return I.apply(this,arguments)}catch(r){var t=r.stack||"";~t.indexOf(" at ")&&(t=t.split(" at ")[1]);var i="Error in function "+t.split("\n")[0].split("<")[0]+": "+r.message;if(!e.console)throw new Error(i);e.console.error(i,r),e.alert&&alert(i)}},(I.foo.bar=I).foo),Bt=function(t){return!0===Array.isArray(st)&&-1<st.indexOf(t)};switch(o){case"pt":P=1;break;case"mm":P=72/25.4;break;case"cm":P=72/2.54;break;case"in":P=72;break;case"px":P=1==Bt("px_scaling")?.75:96/72;break;case"pc":case"em":P=12;break;case"ex":P=6;break;default:throw new Error("Invalid unit: "+o)}C(),k();var Rt=f.__private__.getPageInfo=function(t){if(isNaN(t)||t%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:nt[t].objId,pageNumber:t,pageContext:nt[t]}},Ft=f.__private__.getPageInfoByObjId=function(t){for(var e in nt)if(nt[e].objId===t)break;if(isNaN(t)||t%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");return Rt(e)},zt=f.__private__.getCurrentPageInfo=function(){return{objId:nt[N].objId,pageNumber:N,pageContext:nt[N]}};f.addPage=function(){return kt.apply(this,arguments),this},f.setPage=function(){return Mt.apply(this,arguments),this},f.insertPage=function(t){return this.addPage(),this.movePage(N,t),this},f.movePage=function(t,e){if(e<t){for(var i=F[t],n=nt[t],r=t;e<r;r--)F[r]=F[r-1],nt[r]=nt[r-1];F[e]=i,nt[e]=n,this.setPage(e)}else if(t<e){for(i=F[t],n=nt[t],r=t;r<e;r++)F[r]=F[r+1],nt[r]=nt[r+1];F[e]=i,nt[e]=n,this.setPage(e)}return this},f.deletePage=function(){return(function(t){0<t&&t<=it&&(F.splice(t,1),--it<N&&(N=it),this.setPage(N))}).apply(this,arguments),this},f.__private__.text=f.text=function(e,i,n,r){var o;"number"!=typeof e||"number"!=typeof i||"string"!=typeof n&&!Array.isArray(n)||(o=n,n=i,i=e,e=o);var s=arguments[3],a=arguments[4],h=arguments[5];if("object"===t(s)&&null!==s||("string"==typeof a&&(h=a,a=null),"string"==typeof s&&(h=s,s=null),"number"==typeof s&&(a=s,s=null),r={flags:s,angle:a,align:h}),(s=s||{}).noBOM=s.noBOM||!0,s.autoencode=s.autoencode||!0,isNaN(i)||isNaN(n)||null==e)throw new Error("Invalid arguments passed to jsPDF.text");if(0===e.length)return f;var l,d="",u="number"==typeof r.lineHeightFactor?r.lineHeightFactor:Ht,f=r.scope||this;function p(t){for(var e,i=t.concat(),n=[],r=i.length;r--;)"string"==typeof(e=i.shift())?n.push(e):Array.isArray(t)&&1===e.length?n.push(e[0]):n.push([e[0],e[1],e[2]]);return n}function g(t,e){var i;if("string"==typeof t)i=e(t)[0];else if(Array.isArray(t)){for(var n,r,o=t.concat(),s=[],a=o.length;a--;)"string"==typeof(n=o.shift())?s.push(e(n)[0]):Array.isArray(n)&&"string"===n[0]&&(r=e(n[0],n[1],n[2]),s.push([r[0],r[1],r[2]]));i=s}return i}var m=!1,v=!0;if("string"==typeof e)m=!0;else if(Array.isArray(e)){for(var y,x=e.concat(),_=[],k=x.length;k--;)("string"!=typeof(y=x.shift())||Array.isArray(y)&&"string"!=typeof y[0])&&(v=!1);m=v}if(!1===m)throw new Error('Type of text must be string or Array. "'+e+'" is not recognized.');var S=tt[O].encoding;"WinAnsiEncoding"!==S&&"StandardEncoding"!==S||(e=g(e,function(t,e,i){return[(n=t,n=n.split("\t").join(Array(r.TabLen||9).join(" ")),xt(n,s)),e,i];var n})),"string"==typeof e&&(e=e.match(/[\r?\n]/)?e.split(/\r\n|\r|\n/g):[e]);var M=V/f.internal.scaleFactor,C=M*(Ht-1);switch(r.baseline){case"bottom":n-=C;break;case"top":n+=M-C;break;case"hanging":n+=M-2*C;break;case"middle":n+=M/2-C}0<(H=r.maxWidth||0)&&("string"==typeof e?e=f.splitTextToSize(e,H):"[object Array]"===Object.prototype.toString.call(e)&&(e=f.splitTextToSize(e.join(" "),H)));var E={text:e,x:i,y:n,options:r,mutex:{pdfEscape:xt,activeFontKey:O,fonts:tt,activeFontSize:V}};ot.publish("preProcessText",E),e=E.text,a=(r=E.options).angle;var N=f.internal.scaleFactor,A=[];if(a){a*=Math.PI/180;var D=Math.cos(a),T=Math.sin(a);A=[b(D),b(T),b(-1*T),b(D)]}void 0!==(j=r.charSpace)&&(d+=w(j*N)+" Tc\n");var L=-1,P=void 0!==r.renderingMode?r.renderingMode:r.stroke,I=f.internal.getCurrentPageInfo().pageContext;switch(P){case 0:case!1:case"fill":L=0;break;case 1:case!0:case"stroke":L=1;break;case 2:case"fillThenStroke":L=2;break;case 3:case"invisible":L=3;break;case 4:case"fillAndAddForClipping":L=4;break;case 5:case"strokeAndAddPathForClipping":L=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":L=6;break;case 7:case"addToPathForClipping":L=7}var B=void 0!==I.usedRenderingMode?I.usedRenderingMode:-1;-1!==L?d+=L+" Tr\n":-1!==B&&(d+="0 Tr\n"),-1!==L&&(I.usedRenderingMode=L),h=r.align||"left";var R=V*u,F=f.internal.pageSize.getWidth(),z=(N=f.internal.scaleFactor,tt[O]),j=r.charSpace||ie,H=r.maxWidth||0,W=(s={},[]);if("[object Array]"===Object.prototype.toString.call(e)){var U,Y;_=p(e),"left"!==h&&(Y=_.map(function(t){return f.getStringUnitWidth(t,{font:z,charSpace:j,fontSize:V})*V/N})),Math.max.apply(Math,Y);var X,K=0;if("right"===h){i-=Y[0],e=[];var Z=0;for(k=_.length;Z<k;Z++)U=0===Z?(X=Xt(i),Kt(n)):(X=(K-Y[Z])*N,-R),e.push([_[Z],X,U]),K=Y[Z]}else if("center"===h)for(i-=Y[0]/2,e=[],Z=0,k=_.length;Z<k;Z++)U=0===Z?(X=Xt(i),Kt(n)):(X=(K-Y[Z])/2*N,-R),e.push([_[Z],X,U]),K=Y[Z];else if("left"===h)for(e=[],Z=0,k=_.length;Z<k;Z++)U=0===Z?Kt(n):-R,X=0===Z?Xt(i):0,e.push(_[Z]);else{if("justify"!==h)throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(e=[],H=0!==H?H:F,Z=0,k=_.length;Z<k;Z++)U=0===Z?Kt(n):-R,X=0===Z?Xt(i):0,Z<k-1&&W.push(((H-Y[Z])/(_[Z].split(" ").length-1)*N).toFixed(2)),e.push([_[Z],X,U])}}!0===("boolean"==typeof r.R2L?r.R2L:G)&&(e=g(e,function(t,e,i){return[t.split("").reverse().join(""),e,i]})),ot.publish("postProcessText",E={text:e,x:i,y:n,options:r,mutex:{pdfEscape:xt,activeFontKey:O,fonts:tt,activeFontSize:V}}),l=E.mutex.isHex,_=p(e=E.text),e=[];var Q,$,J,et=0,it=(k=_.length,"");for(Z=0;Z<k;Z++)it="",Array.isArray(_[Z])?(Q=parseFloat(_[Z][1]),$=parseFloat(_[Z][2]),J=(l?"<":"(")+_[Z][0]+(l?">":")"),et=1):(Q=Xt(i),$=Kt(n),J=(l?"<":"(")+_[Z]+(l?">":")")),void 0!==W&&void 0!==W[Z]&&(it=W[Z]+" Tw\n"),e.push(0!==A.length&&0===Z?it+A.join(" ")+" "+Q.toFixed(2)+" "+$.toFixed(2)+" Tm\n"+J:1===et||0===et&&0===Z?it+Q.toFixed(2)+" "+$.toFixed(2)+" Td\n"+J:it+J);e=e.join(0===et?" Tj\nT* ":" Tj\n"),e+=" Tj\n";var nt="BT\n/"+O+" "+V+" Tf\n"+(V*u).toFixed(2)+" TL\n"+te+"\n";return nt+=d,nt+=e,q(nt+="ET"),c[O]=!0,f},f.__private__.lstext=f.lstext=function(t,e,i,n){return console.warn("jsPDF.lstext is deprecated"),this.text(t,e,i,{charSpace:n})},f.__private__.clip=f.clip=function(t){q("evenodd"===t?"W*":"W"),q("n")},f.__private__.clip_fixed=f.clip_fixed=function(t){console.log("clip_fixed is deprecated"),f.clip(t)};var jt=f.__private__.isValidStyle=function(t){var e=!1;return-1!==[void 0,null,"S","F","DF","FD","f","f*","B","B*"].indexOf(t)&&(e=!0),e},qt=f.__private__.getStyle=function(t){var e="S";return"F"===t?e="f":"FD"===t||"DF"===t?e="B":"f"!==t&&"f*"!==t&&"B"!==t&&"B*"!==t||(e=t),e};f.__private__.line=f.line=function(t,e,i,n){if(isNaN(t)||isNaN(e)||isNaN(i)||isNaN(n))throw new Error("Invalid arguments passed to jsPDF.line");return this.lines([[i-t,n-e]],t,e)},f.__private__.lines=f.lines=function(t,e,i,n,r,o){var s,a,h,l,d,u,c,f,p,g,m,v;if("number"==typeof t&&(v=i,i=e,e=t,t=v),n=n||[1,1],o=o||!1,isNaN(e)||isNaN(i)||!Array.isArray(t)||!Array.isArray(n)||!jt(r)||"boolean"!=typeof o)throw new Error("Invalid arguments passed to jsPDF.lines");for(q(w(Xt(e))+" "+w(Kt(i))+" m "),s=n[0],a=n[1],l=t.length,g=e,m=i,h=0;h<l;h++)2===(d=t[h]).length?(m=d[1]*a+m,q(w(Xt(g=d[0]*s+g))+" "+w(Kt(m))+" l")):(u=d[0]*s+g,c=d[1]*a+m,f=d[2]*s+g,p=d[3]*a+m,g=d[4]*s+g,m=d[5]*a+m,q(w(Xt(u))+" "+w(Kt(c))+" "+w(Xt(f))+" "+w(Kt(p))+" "+w(Xt(g))+" "+w(Kt(m))+" c"));return o&&q(" h"),null!==r&&q(qt(r)),this},f.__private__.rect=f.rect=function(t,e,i,n,r){if(isNaN(t)||isNaN(e)||isNaN(i)||isNaN(n)||!jt(r))throw new Error("Invalid arguments passed to jsPDF.rect");return q([b(Xt(t)),b(Kt(e)),b(i*P),b(-n*P),"re"].join(" ")),null!==r&&q(qt(r)),this},f.__private__.triangle=f.triangle=function(t,e,i,n,r,o,s){if(isNaN(t)||isNaN(e)||isNaN(i)||isNaN(n)||isNaN(r)||isNaN(o)||!jt(s))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[i-t,n-e],[r-i,o-n],[t-r,e-o]],t,e,[1,1],s,!0),this},f.__private__.roundedRect=f.roundedRect=function(t,e,i,n,r,o,s){if(isNaN(t)||isNaN(e)||isNaN(i)||isNaN(n)||isNaN(r)||isNaN(o)||!jt(s))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var a=4/3*(Math.SQRT2-1);return this.lines([[i-2*r,0],[r*a,0,r,o-o*a,r,o],[0,n-2*o],[0,o*a,-r*a,o,-r,o],[2*r-i,0],[-r*a,0,-r,-o*a,-r,-o],[0,2*o-n],[0,-o*a,r*a,-o,r,-o]],t+r,e,[1,1],s),this},f.__private__.ellipse=f.ellipse=function(t,e,i,n,r){if(isNaN(t)||isNaN(e)||isNaN(i)||isNaN(n)||!jt(r))throw new Error("Invalid arguments passed to jsPDF.ellipse");var o=4/3*(Math.SQRT2-1)*i,s=4/3*(Math.SQRT2-1)*n;return q([b(Xt(t+i)),b(Kt(e)),"m",b(Xt(t+i)),b(Kt(e-s)),b(Xt(t+o)),b(Kt(e-n)),b(Xt(t)),b(Kt(e-n)),"c"].join(" ")),q([b(Xt(t-o)),b(Kt(e-n)),b(Xt(t-i)),b(Kt(e-s)),b(Xt(t-i)),b(Kt(e)),"c"].join(" ")),q([b(Xt(t-i)),b(Kt(e+s)),b(Xt(t-o)),b(Kt(e+n)),b(Xt(t)),b(Kt(e+n)),"c"].join(" ")),q([b(Xt(t+o)),b(Kt(e+n)),b(Xt(t+i)),b(Kt(e+s)),b(Xt(t+i)),b(Kt(e)),"c"].join(" ")),null!==r&&q(qt(r)),this},f.__private__.circle=f.circle=function(t,e,i,n){if(isNaN(t)||isNaN(e)||isNaN(i)||!jt(n))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(t,e,i,i,n)},f.setFont=function(t,e){return O=Et(t,e,{disableWarning:!1}),this},f.setFontStyle=f.setFontType=function(t){return O=Et(void 0,t),this},f.__private__.getFontList=f.getFontList=function(){var t,e,i,n={};for(t in et)if(et.hasOwnProperty(t))for(e in n[t]=i=[],et[t])et[t].hasOwnProperty(e)&&i.push(e);return n},f.addFont=function(t,e,i,n){wt.call(this,t,e,i,n=n||"Identity-H")};var Ht,Wt=h.lineWidth||.200025,Ut=f.__private__.setLineWidth=f.setLineWidth=function(t){return q((t*P).toFixed(2)+" w"),this},Vt=(f.__private__.setLineDash=n.API.setLineDash=function(t,e){if(t=t||[],e=e||0,isNaN(e)||!Array.isArray(t))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return t=t.map(function(t){return(t*P).toFixed(3)}).join(" "),e=parseFloat((e*P).toFixed(3)),q("["+t+"] "+e+" d"),this},f.__private__.getLineHeight=f.getLineHeight=function(){return V*Ht}),Yt=(Vt=f.__private__.getLineHeight=f.getLineHeight=function(){return V*Ht},f.__private__.setLineHeightFactor=f.setLineHeightFactor=function(t){return"number"==typeof(t=t||1.15)&&(Ht=t),this}),Gt=f.__private__.getLineHeightFactor=f.getLineHeightFactor=function(){return Ht};Yt(h.lineHeight);var Xt=f.__private__.getHorizontalCoordinate=function(t){return t*P},Kt=f.__private__.getVerticalCoordinate=function(t){return nt[N].mediaBox.topRightY-nt[N].mediaBox.bottomLeftY-t*P},Zt=f.__private__.getHorizontalCoordinateString=function(t){return b(t*P)},Qt=f.__private__.getVerticalCoordinateString=function(t){return b(nt[N].mediaBox.topRightY-nt[N].mediaBox.bottomLeftY-t*P)},$t=h.strokeColor||"0 G",Jt=(f.__private__.getStrokeColor=f.getDrawColor=function(){return ft($t)},f.__private__.setStrokeColor=f.setDrawColor=function(t,e,i,n){return $t=pt({ch1:t,ch2:e,ch3:i,ch4:n,pdfColorType:"draw",precision:2}),q($t),this},h.fillColor||"0 g"),te=(f.__private__.getFillColor=f.getFillColor=function(){return ft(Jt)},f.__private__.setFillColor=f.setFillColor=function(t,e,i,n){return Jt=pt({ch1:t,ch2:e,ch3:i,ch4:n,pdfColorType:"fill",precision:2}),q(Jt),this},h.textColor||"0 g"),ee=f.__private__.getTextColor=f.getTextColor=function(){return ft(te)},ie=(f.__private__.setTextColor=f.setTextColor=function(t,e,i,n){return te=pt({ch1:t,ch2:e,ch3:i,ch4:n,pdfColorType:"text",precision:3}),this},h.charSpace||0),ne=f.__private__.getCharSpace=f.getCharSpace=function(){return ie},re=(f.__private__.setCharSpace=f.setCharSpace=function(t){if(isNaN(t))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return ie=t,this},0);f.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},f.__private__.setLineCap=f.setLineCap=function(t){var e=f.CapJoinStyles[t];if(void 0===e)throw new Error("Line cap style of '"+t+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return q((re=e)+" J"),this};var oe,se=0;for(var ae in f.__private__.setLineJoin=f.setLineJoin=function(t){var e=f.CapJoinStyles[t];if(void 0===e)throw new Error("Line join style of '"+t+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return q((se=e)+" j"),this},f.__private__.setMiterLimit=f.setMiterLimit=function(t){if(t=t||0,isNaN(t))throw new Error("Invalid argument passed to jsPDF.setMiterLimit");return oe=parseFloat(b(t*P)),q(oe+" M"),this},f.save=function(t,i){if(t=t||"generated.pdf",(i=i||{}).returnPromise=i.returnPromise||!1,!1!==i.returnPromise)return new Promise(function(i,n){try{var r=St(Pt(Ot()),t);"function"==typeof St.unload&&e.setTimeout&&setTimeout(St.unload,911),i(r)}catch(i){n(i.message)}});St(Pt(Ot()),t),"function"==typeof St.unload&&e.setTimeout&&setTimeout(St.unload,911)},n.API)n.API.hasOwnProperty(ae)&&("events"===ae&&n.API.events.length?function(t,e){var i,n;for(n=e.length-1;-1!==n;n--)t.subscribe.apply(t,[e[n][0]].concat("function"==typeof(i=e[n][1])?[i]:i))}(ot,n.API.events):f[ae]=n.API[ae]);return f.internal={pdfEscape:xt,getStyle:qt,getFont:function(){return tt[Et.apply(f,arguments)]},getFontSize:Y,getCharSpace:ne,getTextColor:ee,getLineHeight:Vt,getLineHeightFactor:Gt,write:H,getHorizontalCoordinate:Xt,getVerticalCoordinate:Kt,getCoordinateString:Zt,getVerticalCoordinateString:Qt,collections:{},newObject:at,newAdditionalObject:dt,newObjectDeferred:ht,newObjectDeferredBegin:lt,getFilters:gt,putStream:mt,events:ot,scaleFactor:P,pageSize:{getWidth:function(){return(nt[N].mediaBox.topRightX-nt[N].mediaBox.bottomLeftX)/P},setWidth:function(t){nt[N].mediaBox.topRightX=t*P+nt[N].mediaBox.bottomLeftX},getHeight:function(){return(nt[N].mediaBox.topRightY-nt[N].mediaBox.bottomLeftY)/P},setHeight:function(t){nt[N].mediaBox.topRightY=t*P+nt[N].mediaBox.bottomLeftY}},output:It,getNumberOfPages:Ct,pages:F,out:q,f2:b,f3:w,getPageInfo:Rt,getPageInfoByObjId:Ft,getCurrentPageInfo:zt,getPDFVersion:g,hasHotfix:Bt},Object.defineProperty(f.internal.pageSize,"width",{get:function(){return(nt[N].mediaBox.topRightX-nt[N].mediaBox.bottomLeftX)/P},set:function(t){nt[N].mediaBox.topRightX=t*P+nt[N].mediaBox.bottomLeftX},enumerable:!0,configurable:!0}),Object.defineProperty(f.internal.pageSize,"height",{get:function(){return(nt[N].mediaBox.topRightY-nt[N].mediaBox.bottomLeftY)/P},set:function(t){nt[N].mediaBox.topRightY=t*P+nt[N].mediaBox.bottomLeftY},enumerable:!0,configurable:!0}),function(t){for(var e=0,i=U.length;e<i;e++){var n=wt(t[e][0],t[e][1],t[e][2],U[e][3],!0);c[n]=!0;var r=t[e][0].split("-");bt(n,r[0],r[1]||"")}ot.publish("addFonts",{fonts:tt,dictionary:et})}(U),O="F1",kt(s,r),ot.publish("initialized"),f}return n.API={events:[]},n.version="1.5.3","function"==typeof define&&define.amd?define("jsPDF",function(){return n}):"undefined"!=typeof module&&module.exports?(module.exports=n,module.exports.jsPDF=n):e.jsPDF=n,n}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||"undefined"!=typeof global&&global||Function('return typeof this === "object" && this.content')()||Function("return this")());(function(e,i){var n,r=1,o=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},s=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},a=function(t){if(isNaN(t))throw new Error("Invalid argument passed to jsPDF.f2");return t.toFixed(2)},h=function(t){if(isNaN(t))throw new Error("Invalid argument passed to jsPDF.f2");return t.toFixed(5)};e.__acroform__={};var l=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},d=function(t){return t*r},u=function(t){return t/r},c=function(t){var e=new P,i=X.internal.getHeight(t)||0,n=X.internal.getWidth(t)||0;return e.BBox=[0,0,Number(a(n)),Number(a(i))],e},f=e.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},p=e.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},g=e.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return 0==(t&1<<e)?0:1},m=e.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return g(t,e-1)},v=e.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return f(t,e-1)},y=e.__acroform__.clearBitForPdf=function(t,e,i){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return p(t,e-1)},b=e.__acroform__.calculateCoordinates=function(t){var e=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,n=t[0],r=t[1],o=t[2],s=t[3],h={};return h.lowerLeft_X=e(n)||0,h.lowerLeft_Y=i(r+s)||0,h.upperRight_X=e(n+o)||0,h.upperRight_Y=i(r)||0,[Number(a(h.lowerLeft_X)),Number(a(h.lowerLeft_Y)),Number(a(h.upperRight_X)),Number(a(h.upperRight_Y))]},w=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],i=x(t,t.V||t.DV),r=n.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(n.__private__.encodeColorString(t.color)),e.push("/"+r+" "+a(i.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(i.text),e.push("ET"),e.push("Q"),e.push("EMC");var o=new c(t);return o.stream=e.join("\n"),o}},x=function(t,e){var i=t.maxFontSize||12,r={text:"",fontSize:""},s=(e=")"==(e="("==e.substr(0,1)?e.substr(1):e).substr(e.length-1)?e.substr(0,e.length-1):e).split(" "),h=(n.__private__.encodeColorString(t.color),i),l=X.internal.getHeight(t)||0;l=l<0?-l:l;var d=X.internal.getWidth(t)||0;d=d<0?-d:d;var u=function(e,i,n){return e+1<s.length&&_(i+" "+s[e+1],t,n).width<=d-4};h++;t:for(;;){e="";var c=_("3",t,--h).height,f=t.multiline?l-h:(l-c)/2,p=-2,g=f+=2,m=0,v=0,y=0;if(h<=0){e="(...) Tj\n",e+="% Width of Text: "+_(e,t,h=12).width+", FieldWidth:"+d+"\n";break}y=_(s[0]+" ",t,h).width;var b="",w=0;for(var x in s)if(s.hasOwnProperty(x)){b=" "==(b+=s[x]+" ").substr(b.length-1)?b.substr(0,b.length-1):b;var k=parseInt(x);y=_(b+" ",t,h).width;var S=u(k,b,h),M=x>=s.length-1;if(S&&!M){b+=" ";continue}if(S||M){if(M)v=k;else if(t.multiline&&l<(c+2)*(w+2)+2)continue t}else{if(!t.multiline)continue t;if(l<(c+2)*(w+2)+2)continue t;v=k}for(var C="",E=m;E<=v;E++)C+=s[E]+" ";switch(C=" "==C.substr(C.length-1)?C.substr(0,C.length-1):C,y=_(C,t,h).width,t.textAlign){case"right":p=d-y-2;break;case"center":p=(d-y)/2;break;case"left":default:p=2}e+=a(p)+" "+a(g)+" Td\n",e+="("+o(C)+") Tj\n",e+=-a(p)+" 0 Td\n",g=-(h+2),y=0,m=v+1,w++,b=""}break}return r.text=e,r.fontSize=h,r},_=function(t,e,i){var r=n.internal.getFont(e.fontName,e.fontStyle),o=n.getStringUnitWidth(t,{font:r,fontSize:parseFloat(i),charSpace:0})*parseFloat(i);return{height:n.getStringUnitWidth("3",{font:r,fontSize:parseFloat(i),charSpace:0})*parseFloat(i)*1.5,width:o}},k={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},S=function(){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var t=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var e in t)if(t.hasOwnProperty(e)){var i=t[e];i.objId=void 0,i.hasAnnotation&&M.call(n,i)}},M=function(t){var e={type:"reference",object:t};void 0===n.internal.getPageInfo(t.page).pageContext.annotations.find(function(t){return t.type===e.type&&t.object===e.object})&&n.internal.getPageInfo(t.page).pageContext.annotations.push(e)},C=function(){if(void 0===n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")},E=function(){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0},N=function(e){var i=!e;for(var r in e||(n.internal.newObjectDeferredBegin(n.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),n.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),e=e||n.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(e.hasOwnProperty(r)){var o=e[r],s=[],a=o.Rect;if(o.Rect&&(o.Rect=b.call(this,o.Rect)),n.internal.newObjectDeferredBegin(o.objId,!0),o.DA=X.createDefaultAppearanceStream(o),"object"===t(o)&&"function"==typeof o.getKeyValueListForStream&&(s=o.getKeyValueListForStream()),o.Rect=a,o.hasAppearanceStream&&!o.appearanceStreamContent){var h=w.call(this,o);s.push({key:"AP",value:"<</N "+h+">>"}),n.internal.acroformPlugin.xForms.push(h)}if(o.appearanceStreamContent){var l="";for(var d in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(d)){var u=o.appearanceStreamContent[d];if(l+="/"+d+" ",l+="<<",1<=Object.keys(u).length||Array.isArray(u))for(var r in u){var c;u.hasOwnProperty(r)&&("function"==typeof(c=u[r])&&(c=c.call(this,o)),l+="/"+r+" "+c+" ",0<=n.internal.acroformPlugin.xForms.indexOf(c)||n.internal.acroformPlugin.xForms.push(c))}else"function"==typeof(c=u)&&(c=c.call(this,o)),l+="/"+r+" "+c,0<=n.internal.acroformPlugin.xForms.indexOf(c)||n.internal.acroformPlugin.xForms.push(c);l+=">>"}s.push({key:"AP",value:"<<\n"+l+">>"})}n.internal.putStream({additionalKeyValues:s}),n.internal.out("endobj")}i&&A.call(this,n.internal.acroformPlugin.xForms)},A=function(e){for(var i in e)if(e.hasOwnProperty(i)){var r=i,o=e[i];n.internal.newObjectDeferredBegin(o&&o.objId,!0),"object"===t(o)&&"function"==typeof o.putStream&&o.putStream(),delete e[r]}},D=function(){if(void 0!==this.internal&&(void 0===this.internal.acroformPlugin||!1===this.internal.acroformPlugin.isInitialized)){if(n=this,B.FieldNum=0,this.internal.acroformPlugin=JSON.parse(JSON.stringify(k)),this.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");r=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new I,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",E),n.internal.events.subscribe("buildDocument",S),n.internal.events.subscribe("putCatalog",C),n.internal.events.subscribe("postPutPages",N),n.internal.acroformPlugin.isInitialized=!0}},T=e.__acroform__.arrayToPdfArray=function(e){if(Array.isArray(e)){for(var i="[",n=0;n<e.length;n++)switch(0!==n&&(i+=" "),t(e[n])){case"boolean":case"number":case"object":i+=e[n].toString();break;case"string":"/"!==e[n].substr(0,1)?i+="("+o(e[n].toString())+")":i+=e[n].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},L=function(t){return(t=t||"").toString(),"("+o(t)+")"},O=function(){var t;Object.defineProperty(this,"objId",{configurable:!0,get:function(){if(t||(t=n.internal.newObjectDeferred()),!t)throw new Error("AcroFormPDFObject: Couldn't create Object ID");return t},set:function(e){t=e}})};O.prototype.toString=function(){return this.objId+" 0 R"},O.prototype.putStream=function(){var t=this.getKeyValueListForStream();n.internal.putStream({data:this.stream,additionalKeyValues:t}),n.internal.out("endobj")},O.prototype.getKeyValueListForStream=function(){return function(t){var e=[],i=Object.getOwnPropertyNames(t).filter(function(t){return"content"!=t&&"appearanceStreamContent"!=t&&"_"!=t.substring(0,1)});for(var n in i)if(!1===Object.getOwnPropertyDescriptor(t,i[n]).configurable){var r=i[n],o=t[r];o&&(Array.isArray(o)?e.push({key:r,value:T(o)}):o instanceof O?e.push({key:r,value:o.objId+" 0 R"}):"function"!=typeof o&&e.push({key:r,value:o}))}return e}(this)};var P=function(){O.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writeable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writeable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writeable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,writeable:!0,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writeable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(e){t=e.trim()},get:function(){return t||null}})};l(P,O);var I=function(){O.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return 0<e.length?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t)return"("+t+")"},set:function(e){t=e}})};l(I,O);var B=function t(){O.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(t){if(isNaN(t))throw new Error('Invalid value "'+t+'" for attribute F supplied.');e=t}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return Boolean(m(e,3))},set:function(t){this.F=!0===Boolean(t)?v(e,3):y(e,3)}});var i=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return i},set:function(t){if(isNaN(t))throw new Error('Invalid value "'+t+'" for attribute Ff supplied.');i=t}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(0!==n.length)return n},set:function(t){n=void 0!==t?t:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:u(n[0])},set:function(t){n[0]=d(t)}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:u(n[1])},set:function(t){n[1]=d(t)}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:u(n[2])},set:function(t){n[2]=d(t)}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:u(n[3])},set:function(t){n[3]=d(t)}});var r="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return r},set:function(t){switch(t){case"/Btn":case"/Tx":case"/Ch":case"/Sig":r=t;break;default:throw new Error('Invalid value "'+t+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof U)return;a="FieldObject"+t.FieldNum++}return"("+o(a)+")"},set:function(t){a=t.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(t){a=t}});var h="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return h},set:function(t){h=t}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(t){l=t}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return u(c)},set:function(t){c=d(t)}});var f=50;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u(f)},set:function(t){f=d(t)}});var p="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return p},set:function(t){p=t}});var g="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!g||this instanceof U||this instanceof Y))return L(g)},set:function(t){t=t.toString(),g=t}});var b=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(b)return this instanceof q==0?L(b):b},set:function(t){t=t.toString(),b=this instanceof q==0?"("===t.substr(0,1)?s(t.substr(1,t.length-2)):s(t):t}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof q==1?s(b.substr(1,b.length-1)):b},set:function(t){t=t.toString(),b=this instanceof q==1?"/"+t:t}});var w=null;Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(w)return this instanceof q==0?L(w):w},set:function(t){t=t.toString(),w=this instanceof q==0?"("===t.substr(0,1)?s(t.substr(1,t.length-2)):s(t):t}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof q==1?s(w.substr(1,w.length-1)):w},set:function(t){t=t.toString(),w=this instanceof q==1?"/"+t:t}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var x,_=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,writeable:!0,get:function(){return _},set:function(t){t=Boolean(t),_=t}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,writeable:!0,get:function(){if(x)return x},set:function(t){x=t}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return Boolean(m(this.Ff,1))},set:function(t){this.Ff=!0===Boolean(t)?v(this.Ff,1):y(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return Boolean(m(this.Ff,2))},set:function(t){this.Ff=!0===Boolean(t)?v(this.Ff,2):y(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return Boolean(m(this.Ff,3))},set:function(t){this.Ff=!0===Boolean(t)?v(this.Ff,3):y(this.Ff,3)}});var k=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(null!==k)return k},set:function(t){if(-1===[0,1,2].indexOf(t))throw new Error('Invalid value "'+t+'" for attribute Q supplied.');k=t}}),Object.defineProperty(this,"textAlign",{get:function(){var t="left";switch(k){case 0:default:t="left";break;case 1:t="center";break;case 2:t="right"}return t},configurable:!0,enumerable:!0,set:function(t){switch(t){case"right":case 2:k=2;break;case"center":case 1:k=1;break;case"left":case 0:default:k=0}}})};l(B,O);var R=function(){B.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){t=e}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return T(e)},set:function(t){var i,n;n=[],"string"==typeof(i=t)&&(n=function(t,e,i){i||(i=1);for(var n,r=[];n=e.exec(t);)r.push(n[i]);return r}(i,/\((.*?)\)/g)),e=n}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,i){for(i=i||!1,t=(t=t||"").toString();-1!==e.indexOf(t)&&(e.splice(e.indexOf(t),1),!1!==i););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return Boolean(m(this.Ff,18))},set:function(t){this.Ff=!0===Boolean(t)?v(this.Ff,18):y(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return Boolean(m(this.Ff,19))},set:function(t){!0===this.combo&&(this.Ff=!0===Boolean(t)?v(this.Ff,19):y(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return Boolean(m(this.Ff,20))},set:function(t){!0===Boolean(t)?(this.Ff=v(this.Ff,20),e.sort()):this.Ff=y(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(m(this.Ff,22))},set:function(t){this.Ff=!0===Boolean(t)?v(this.Ff,22):y(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(m(this.Ff,23))},set:function(t){this.Ff=!0===Boolean(t)?v(this.Ff,23):y(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return Boolean(m(this.Ff,27))},set:function(t){this.Ff=!0===Boolean(t)?v(this.Ff,27):y(this.Ff,27)}}),this.hasAppearanceStream=!1};l(R,B);var F=function(){R.call(this),this.fontName="helvetica",this.combo=!1};l(F,R);var z=function(){F.call(this),this.combo=!0};l(z,F);var j=function(){z.call(this),this.edit=!0};l(j,z);var q=function(){B.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return Boolean(m(this.Ff,15))},set:function(t){this.Ff=!0===Boolean(t)?v(this.Ff,15):y(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return Boolean(m(this.Ff,16))},set:function(t){this.Ff=!0===Boolean(t)?v(this.Ff,16):y(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return Boolean(m(this.Ff,17))},set:function(t){this.Ff=!0===Boolean(t)?v(this.Ff,17):y(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return Boolean(m(this.Ff,26))},set:function(t){this.Ff=!0===Boolean(t)?v(this.Ff,26):y(this.Ff,26)}});var e,i={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){if(0!==Object.keys(i).length){var t,e=[];for(t in e.push("<<"),i)e.push("/"+t+" ("+i[t]+")");return e.push(">>"),e.join("\n")}},set:function(e){"object"===t(e)&&(i=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return i.CA||""},set:function(t){"string"==typeof t&&(i.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(t){e="/"+t}})};l(q,B);var H=function(){q.call(this),this.pushButton=!0};l(H,q);var W=function(){q.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=void 0!==e?e:[]}})};l(W,q);var U=function(){var e,i;B.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return i},set:function(t){i=t}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t,e=[];for(t in e.push("<<"),r)e.push("/"+t+" ("+r[t]+")");return e.push(">>"),e.join("\n")},set:function(e){"object"===t(e)&&(r=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(t){"string"==typeof t&&(r.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(t){n="/"+t}}),this.optionName=name,this.caption="l",this.appearanceState="Off",this._AppearanceType=X.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(name)};l(U,B),W.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t&&"getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var i=this.Kids[e];i.appearanceStreamContent=t.createAppearanceStream(i.optionName),i.caption=t.getCA()}},W.prototype.createOption=function(t){var e=new U;return e.Parent=this,e.optionName=t,this.Kids.push(e),K.call(this,e),e};var V=function(){q.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=X.CheckBox.createAppearanceStream()};l(V,q);var Y=function(){B.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return Boolean(m(this.Ff,13))},set:function(t){this.Ff=!0===Boolean(t)?v(this.Ff,13):y(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(m(this.Ff,21))},set:function(t){this.Ff=!0===Boolean(t)?v(this.Ff,21):y(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(m(this.Ff,23))},set:function(t){this.Ff=!0===Boolean(t)?v(this.Ff,23):y(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return Boolean(m(this.Ff,24))},set:function(t){this.Ff=!0===Boolean(t)?v(this.Ff,24):y(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return Boolean(m(this.Ff,25))},set:function(t){this.Ff=!0===Boolean(t)?v(this.Ff,25):y(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return Boolean(m(this.Ff,26))},set:function(t){this.Ff=!0===Boolean(t)?v(this.Ff,26):y(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};l(Y,B);var G=function(){Y.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return Boolean(m(this.Ff,14))},set:function(t){this.Ff=!0===Boolean(t)?v(this.Ff,14):y(this.Ff,14)}}),this.password=!0};l(G,Y);var X={CheckBox:{createAppearanceStream:function(){return{N:{On:X.CheckBox.YesNormal},D:{On:X.CheckBox.YesPushDown,Off:X.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=c(t),i=[],r=n.internal.getFont(t.fontName,t.fontStyle).id,o=n.__private__.encodeColorString(t.color),s=x(t,t.caption);return i.push("0.749023 g"),i.push("0 0 "+a(X.internal.getWidth(t))+" "+a(X.internal.getHeight(t))+" re"),i.push("f"),i.push("BMC"),i.push("q"),i.push("0 0 1 rg"),i.push("/"+r+" "+a(s.fontSize)+" Tf "+o),i.push("BT"),i.push(s.text),i.push("ET"),i.push("Q"),i.push("EMC"),e.stream=i.join("\n"),e},YesNormal:function(t){var e=c(t),i=n.internal.getFont(t.fontName,t.fontStyle).id,r=n.__private__.encodeColorString(t.color),o=[],s=X.internal.getHeight(t),h=X.internal.getWidth(t),l=x(t,t.caption);return o.push("1 g"),o.push("0 0 "+a(h)+" "+a(s)+" re"),o.push("f"),o.push("q"),o.push("0 0 1 rg"),o.push("0 0 "+a(h-1)+" "+a(s-1)+" re"),o.push("W"),o.push("n"),o.push("0 g"),o.push("BT"),o.push("/"+i+" "+a(l.fontSize)+" Tf "+r),o.push(l.text),o.push("ET"),o.push("Q"),e.stream=o.join("\n"),e},OffPushDown:function(t){var e=c(t),i=[];return i.push("0.749023 g"),i.push("0 0 "+a(X.internal.getWidth(t))+" "+a(X.internal.getHeight(t))+" re"),i.push("f"),e.stream=i.join("\n"),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:X.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=X.RadioButton.Circle.YesNormal,e.D[t]=X.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=c(t),i=[],n=X.internal.getWidth(t)<=X.internal.getHeight(t)?X.internal.getWidth(t)/4:X.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var r=Number((n*X.internal.Bezier_C).toFixed(5));return i.push("q"),i.push("1 0 0 1 "+h(X.internal.getWidth(t)/2)+" "+h(X.internal.getHeight(t)/2)+" cm"),i.push(n+" 0 m"),i.push(n+" "+r+" "+r+" "+n+" 0 "+n+" c"),i.push("-"+r+" "+n+" -"+n+" "+r+" -"+n+" 0 c"),i.push("-"+n+" -"+r+" -"+r+" -"+n+" 0 -"+n+" c"),i.push(r+" -"+n+" "+n+" -"+r+" "+n+" 0 c"),i.push("f"),i.push("Q"),e.stream=i.join("\n"),e},YesPushDown:function(t){var e=c(t),i=[],n=X.internal.getWidth(t)<=X.internal.getHeight(t)?X.internal.getWidth(t)/4:X.internal.getHeight(t)/4,r=(n=Number((.9*n).toFixed(5)),Number((2*n).toFixed(5))),o=Number((r*X.internal.Bezier_C).toFixed(5)),s=Number((n*X.internal.Bezier_C).toFixed(5));return i.push("0.749023 g"),i.push("q"),i.push("1 0 0 1 "+h(X.internal.getWidth(t)/2)+" "+h(X.internal.getHeight(t)/2)+" cm"),i.push(r+" 0 m"),i.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),i.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),i.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),i.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),i.push("f"),i.push("Q"),i.push("0 g"),i.push("q"),i.push("1 0 0 1 "+h(X.internal.getWidth(t)/2)+" "+h(X.internal.getHeight(t)/2)+" cm"),i.push(n+" 0 m"),i.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),i.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),i.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),i.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),i.push("f"),i.push("Q"),e.stream=i.join("\n"),e},OffPushDown:function(t){var e=c(t),i=[],n=X.internal.getWidth(t)<=X.internal.getHeight(t)?X.internal.getWidth(t)/4:X.internal.getHeight(t)/4,r=(n=Number((.9*n).toFixed(5)),Number((2*n).toFixed(5))),o=Number((r*X.internal.Bezier_C).toFixed(5));return i.push("0.749023 g"),i.push("q"),i.push("1 0 0 1 "+h(X.internal.getWidth(t)/2)+" "+h(X.internal.getHeight(t)/2)+" cm"),i.push(r+" 0 m"),i.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),i.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),i.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),i.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),i.push("f"),i.push("Q"),e.stream=i.join("\n"),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:X.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=X.RadioButton.Cross.YesNormal,e.D[t]=X.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=c(t),i=[],n=X.internal.calculateCross(t);return i.push("q"),i.push("1 1 "+a(X.internal.getWidth(t)-2)+" "+a(X.internal.getHeight(t)-2)+" re"),i.push("W"),i.push("n"),i.push(a(n.x1.x)+" "+a(n.x1.y)+" m"),i.push(a(n.x2.x)+" "+a(n.x2.y)+" l"),i.push(a(n.x4.x)+" "+a(n.x4.y)+" m"),i.push(a(n.x3.x)+" "+a(n.x3.y)+" l"),i.push("s"),i.push("Q"),e.stream=i.join("\n"),e},YesPushDown:function(t){var e=c(t),i=X.internal.calculateCross(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+a(X.internal.getWidth(t))+" "+a(X.internal.getHeight(t))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+a(X.internal.getWidth(t)-2)+" "+a(X.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(a(i.x1.x)+" "+a(i.x1.y)+" m"),n.push(a(i.x2.x)+" "+a(i.x2.y)+" l"),n.push(a(i.x4.x)+" "+a(i.x4.y)+" m"),n.push(a(i.x3.x)+" "+a(i.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join("\n"),e},OffPushDown:function(t){var e=c(t),i=[];return i.push("0.749023 g"),i.push("0 0 "+a(X.internal.getWidth(t))+" "+a(X.internal.getHeight(t))+" re"),i.push("f"),e.stream=i.join("\n"),e}}},createDefaultAppearanceStream:function(t){var e=n.internal.getFont(t.fontName,t.fontStyle).id,i=n.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+i}};X.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=X.internal.getWidth(t),i=X.internal.getHeight(t),n=Math.min(e,i);return{x1:{x:(e-n)/2,y:(i-n)/2+n},x2:{x:(e-n)/2+n,y:(i-n)/2},x3:{x:(e-n)/2,y:(i-n)/2},x4:{x:(e-n)/2+n,y:(i-n)/2+n}}}},X.internal.getWidth=function(e){var i=0;return"object"===t(e)&&(i=d(e.Rect[2])),i},X.internal.getHeight=function(e){var i=0;return"object"===t(e)&&(i=d(e.Rect[3])),i};var K=e.addField=function(t){if(D.call(this),!(t instanceof B))throw new Error("Invalid argument passed to jsPDF.addField.");return(function(t){n.internal.acroformPlugin.printedOut&&(n.internal.acroformPlugin.printedOut=!1,n.internal.acroformPlugin.acroFormDictionaryRoot=null),n.internal.acroformPlugin.acroFormDictionaryRoot||D.call(n),n.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t)}).call(this,t),t.page=n.internal.getCurrentPageInfo().pageNumber,this};e.addButton=function(t){if(t instanceof q==0)throw new Error("Invalid argument passed to jsPDF.addButton.");return K.call(this,t)},e.addTextField=function(t){if(t instanceof Y==0)throw new Error("Invalid argument passed to jsPDF.addTextField.");return K.call(this,t)},e.addChoiceField=function(t){if(t instanceof R==0)throw new Error("Invalid argument passed to jsPDF.addChoiceField.");return K.call(this,t)},"object"==t(i)&&void 0===i.ChoiceField&&void 0===i.ListBox&&void 0===i.ComboBox&&void 0===i.EditBox&&void 0===i.Button&&void 0===i.PushButton&&void 0===i.RadioButton&&void 0===i.CheckBox&&void 0===i.TextField&&void 0===i.PasswordField?(i.ChoiceField=R,i.ListBox=F,i.ComboBox=z,i.EditBox=j,i.Button=q,i.PushButton=H,i.RadioButton=W,i.CheckBox=V,i.TextField=Y,i.PasswordField=G,i.AcroForm={Appearance:X}):console.warn("AcroForm-Classes are not populated into global-namespace, because the class-Names exist already."),e.AcroFormChoiceField=R,e.AcroFormListBox=F,e.AcroFormComboBox=z,e.AcroFormEditBox=j,e.AcroFormButton=q,e.AcroFormPushButton=H,e.AcroFormRadioButton=W,e.AcroFormCheckBox=V,e.AcroFormTextField=Y,e.AcroFormPasswordField=G,e.AcroFormAppearance=X,e.AcroForm={ChoiceField:R,ListBox:F,ComboBox:z,EditBox:j,Button:q,PushButton:H,RadioButton:W,CheckBox:V,TextField:Y,PasswordField:G,Appearance:X}})((window.tmp=ht).API,"undefined"!=typeof window&&window||"undefined"!=typeof global&&global),function(e){var i="addImage_",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=e.getImageFileTypeByImageData=function(t,i){var r,o;i=i||"UNKNOWN";var s,a,h,l="UNKNOWN";for(h in e.isArrayBufferView(t)&&(t=e.arrayBufferToBinaryString(t)),n)for(s=n[h],r=0;r<s.length;r+=1){for(a=!0,o=0;o<s[r].length;o+=1)if(void 0!==s[r][o]&&s[r][o]!==t.charCodeAt(o)){a=!1;break}if(!0===a){l=h;break}}return"UNKNOWN"===l&&"UNKNOWN"!==i&&(console.warn('FileType of Image not recognized. Processing image as "'+i+'".'),l=i),l},o=function t(e){for(var i=this.internal.newObject(),n=this.internal.write,r=this.internal.putStream,o=(0,this.internal.getFilters)();-1!==o.indexOf("FlateEncode");)o.splice(o.indexOf("FlateEncode"),1);e.n=i;var s=[];if(s.push({key:"Type",value:"/XObject"}),s.push({key:"Subtype",value:"/Image"}),s.push({key:"Width",value:e.w}),s.push({key:"Height",value:e.h}),e.cs===this.color_spaces.INDEXED?s.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(e.pal.length/3-1)+" "+("smask"in e?i+2:i+1)+" 0 R]"}):(s.push({key:"ColorSpace",value:"/"+e.cs}),e.cs===this.color_spaces.DEVICE_CMYK&&s.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),s.push({key:"BitsPerComponent",value:e.bpc}),"dp"in e&&s.push({key:"DecodeParms",value:"<<"+e.dp+">>"}),"trns"in e&&e.trns.constructor==Array){for(var a="",h=0,l=e.trns.length;h<l;h++)a+=e.trns[h]+" "+e.trns[h]+" ";s.push({key:"Mask",value:"["+a+"]"})}if("smask"in e&&s.push({key:"SMask",value:i+1+" 0 R"}),r({data:e.data,additionalKeyValues:s,alreadyAppliedFilters:void 0!==e.f?["/"+e.f]:void 0}),n("endobj"),"smask"in e){var d={w:e.w,h:e.h,cs:"DeviceGray",bpc:e.bpc,dp:"/Predictor "+e.p+" /Colors 1 /BitsPerComponent "+e.bpc+" /Columns "+e.w,data:e.smask};"f"in e&&(d.f=e.f),t.call(this,d)}e.cs===this.color_spaces.INDEXED&&(this.internal.newObject(),r({data:this.arrayBufferToBinaryString(new Uint8Array(e.pal))}),n("endobj"))},s=function(){var t=this.internal.collections[i+"images"];for(var e in t)o.call(this,t[e])},a=function(){var t,e=this.internal.collections[i+"images"],n=this.internal.write;for(var r in e)n("/I"+(t=e[r]).i,t.n,"0","R")},h=function(t){return"function"==typeof e["process"+t.toUpperCase()]},l=function(e){return"object"===t(e)&&1===e.nodeType},d=function(t,i){if("IMG"===t.nodeName&&t.hasAttribute("src")){var n=""+t.getAttribute("src");if(0===n.indexOf("data:image/"))return unescape(n);var r=e.loadFile(n);if(void 0!==r)return btoa(r)}if("CANVAS"===t.nodeName){var o=t;return t.toDataURL("image/jpeg",1)}(o=document.createElement("canvas")).width=t.clientWidth||t.width,o.height=t.clientHeight||t.height;var s=o.getContext("2d");if(!s)throw"addImage requires canvas to be supported by browser.";return s.drawImage(t,0,0,o.width,o.height),o.toDataURL("png"==(""+i).toLowerCase()?"image/png":"image/jpeg")},u=function(t,e){var i;if(e)for(var n in e)if(t===e[n].alias){i=e[n];break}return i};e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"},e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"},e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},e.sHashCode=function(t){var e,i=0;if(0===(t=t||"").length)return i;for(e=0;e<t.length;e++)i=(i<<5)-i+t.charCodeAt(e),i|=0;return i},e.isString=function(t){return"string"==typeof t},e.validateStringAsBase64=function(t){(t=t||"").toString().trim();var e=!0;return 0===t.length&&(e=!1),t.length%4!=0&&(e=!1),!1===/^[A-Za-z0-9+\/]+$/.test(t.substr(0,t.length-2))&&(e=!1),!1===/^[A-Za-z0-9\/][A-Za-z0-9+\/]|[A-Za-z0-9+\/]=|==$/.test(t.substr(-2))&&(e=!1),e},e.extractInfoFromBase64DataURI=function(t){return/^data:([\w]+?\/([\w]+?));\S*;*base64,(.+)$/g.exec(t)},e.extractImageFromDataUrl=function(t){var e=(t=t||"").split("base64,"),i=null;if(2===e.length){var n=/^data:(\w*\/\w*);*(charset=[\w=-]*)*;*$/.exec(e[0]);Array.isArray(n)&&(i={mimeType:n[1],charset:n[2],data:e[1]})}return i},e.supportsArrayBuffer=function(){return"undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array},e.isArrayBuffer=function(t){return!!this.supportsArrayBuffer()&&t instanceof ArrayBuffer},e.isArrayBufferView=function(t){return!!this.supportsArrayBuffer()&&"undefined"!=typeof Uint32Array&&(t instanceof Int8Array||t instanceof Uint8Array||"undefined"!=typeof Uint8ClampedArray&&t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array)},e.binaryStringToUint8Array=function(t){for(var e=t.length,i=new Uint8Array(e),n=0;n<e;n++)i[n]=t.charCodeAt(n);return i},e.arrayBufferToBinaryString=function(t){if("function"==typeof atob)return atob(this.arrayBufferToBase64(t))},e.arrayBufferToBase64=function(t){for(var e,i="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=new Uint8Array(t),o=r.byteLength,s=o%3,a=o-s,h=0;h<a;h+=3)i+=n[(16515072&(e=r[h]<<16|r[h+1]<<8|r[h+2]))>>18]+n[(258048&e)>>12]+n[(4032&e)>>6]+n[63&e];return 1==s?i+=n[(252&(e=r[a]))>>2]+n[(3&e)<<4]+"==":2==s&&(i+=n[(64512&(e=r[a]<<8|r[a+1]))>>10]+n[(1008&e)>>4]+n[(15&e)<<2]+"="),i},e.createImageInfo=function(t,e,i,n,r,o,s,a,h,l,d,u,c){var f={alias:a,w:e,h:i,cs:n,bpc:r,i:s,data:t};return o&&(f.f=o),h&&(f.dp=h),l&&(f.trns=l),d&&(f.pal=d),u&&(f.smask=u),c&&(f.p=c),f},e.addImage=function(n,r,o,c,f,p,g,m,v){var y="";if("string"!=typeof r){var b=p;p=f,f=c,c=o,o=r,r=b}if("object"===t(n)&&!l(n)&&"imageData"in n){var w=n;n=w.imageData,r=w.format||r||"UNKNOWN",o=w.x||o||0,c=w.y||c||0,f=w.w||f,p=w.h||p,g=w.alias||g,m=w.compression||m,v=w.rotation||w.angle||v}var x=this.internal.getFilters();if(void 0===m&&-1!==x.indexOf("FlateEncode")&&(m="SLOW"),"string"==typeof n&&(n=unescape(n)),isNaN(o)||isNaN(c))throw console.error("jsPDF.addImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addImage");var _,k,S,M,C,E,N,A=(function(){var t=this.internal.collections[i+"images"];return t||(this.internal.collections[i+"images"]=t={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",a)),t}).call(this);if(!((_=u(n,A))||(l(n)&&(n=d(n,r)),(null==(N=g)||0===N.length)&&(g="string"==typeof(E=n)?e.sHashCode(E):e.isArrayBufferView(E)?e.sHashCode(e.arrayBufferToBinaryString(E)):null),_=u(g,A)))){if(this.isString(n)&&(""!==(y=this.convertStringToImageData(n))?n=y:void 0!==(y=e.loadFile(n))&&(n=y)),r=this.getImageFileTypeByImageData(n,r),!h(r))throw new Error("addImage does not support files of type '"+r+"', please ensure that a plugin for '"+r+"' support is added.");if(this.supportsArrayBuffer()&&(n instanceof Uint8Array||(k=n,n=this.binaryStringToUint8Array(n))),!(_=this["process"+r.toUpperCase()](n,(C=0,(M=A)&&(C=Object.keys?Object.keys(M).length:function(t){var e=0;for(var i in t)t.hasOwnProperty(i)&&e++;return e}(M)),C),g,((S=m)&&"string"==typeof S&&(S=S.toUpperCase()),S in e.image_compression?S:e.image_compression.NONE),k)))throw new Error("An unknown error occurred whilst processing the image")}return(function(t,e,i,n,r,o,s,a){var h=(function(t,e,i){return t||e||(e=t=-96),t<0&&(t=-1*i.w*72/t/this.internal.scaleFactor),e<0&&(e=-1*i.h*72/e/this.internal.scaleFactor),0===t&&(t=e*i.w/i.h),0===e&&(e=t*i.h/i.w),[t,e]}).call(this,i,n,r),l=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;if(i=h[0],n=h[1],s[o]=r,a){a*=Math.PI/180;var u=Math.cos(a),c=Math.sin(a),f=function(t){return t.toFixed(4)},p=[f(u),f(c),f(-1*c),f(u),0,0,"cm"]}this.internal.write("q"),a?(this.internal.write([1,"0","0",1,l(t),d(e+n),"cm"].join(" ")),this.internal.write(p.join(" ")),this.internal.write([l(i),"0","0",l(n),"0","0","cm"].join(" "))):this.internal.write([l(i),"0","0",l(n),l(t),d(e+n),"cm"].join(" ")),this.internal.write("/I"+r.i+" Do"),this.internal.write("Q")}).call(this,o,c,f,p,_,_.i,A,v),this},e.convertStringToImageData=function(t){var i,n="";if(this.isString(t)){var r;i=null!==(r=this.extractImageFromDataUrl(t))?r.data:t;try{n=atob(i)}catch(t){throw e.validateStringAsBase64(i)?new Error("atob-Error in jsPDF.convertStringToImageData "+t.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertStringToImageData ")}}return n};var c=function(t,e){return t.subarray(e,e+5)};e.processJPEG=function(t,e,i,n,o,s){var a,h=this.decode.DCT_DECODE;if(!this.isString(t)&&!this.isArrayBuffer(t)&&!this.isArrayBufferView(t))return null;if(this.isString(t)&&(a=function(t){var e;if("JPEG"!==r(t))throw new Error("getJpegSize requires a binary string jpeg file");for(var i=256*t.charCodeAt(4)+t.charCodeAt(5),n=4,o=t.length;n<o;){if(255!==t.charCodeAt(n+=i))throw new Error("getJpegSize could not find the size of the image");if(192===t.charCodeAt(n+1)||193===t.charCodeAt(n+1)||194===t.charCodeAt(n+1)||195===t.charCodeAt(n+1)||196===t.charCodeAt(n+1)||197===t.charCodeAt(n+1)||198===t.charCodeAt(n+1)||199===t.charCodeAt(n+1))return e=256*t.charCodeAt(n+5)+t.charCodeAt(n+6),[256*t.charCodeAt(n+7)+t.charCodeAt(n+8),e,t.charCodeAt(n+9)];i=256*t.charCodeAt(n+=2)+t.charCodeAt(n+1)}}(t)),this.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.isArrayBufferView(t)&&(a=function(t){if(65496!=(t[0]<<8|t[1]))throw new Error("Supplied data is not a JPEG");for(var e,i=t.length,n=(t[4]<<8)+t[5],r=4;r<i;){if(n=((e=c(t,r+=n))[2]<<8)+e[3],(192===e[1]||194===e[1])&&255===e[0]&&7<n)return{width:((e=c(t,r+5))[2]<<8)+e[3],height:(e[0]<<8)+e[1],numcomponents:e[4]};r+=2}throw new Error("getJpegSizeFromBytes could not find the size of the image")}(t),t=o||this.arrayBufferToBinaryString(t)),void 0===s)switch(a.numcomponents){case 1:s=this.color_spaces.DEVICE_GRAY;break;case 4:s=this.color_spaces.DEVICE_CMYK;break;default:case 3:s=this.color_spaces.DEVICE_RGB}return this.createImageInfo(t,a.width,a.height,s,8,h,e,i)},e.processJPG=function(){return this.processJPEG.apply(this,arguments)},e.getImageProperties=function(t){var i,n,r="";if(l(t)&&(t=d(t)),this.isString(t)&&(""!==(r=this.convertStringToImageData(t))?t=r:void 0!==(r=e.loadFile(t))&&(t=r)),n=this.getImageFileTypeByImageData(t),!h(n))throw new Error("addImage does not support files of type '"+n+"', please ensure that a plugin for '"+n+"' support is added.");if(this.supportsArrayBuffer()&&(t instanceof Uint8Array||(t=this.binaryStringToUint8Array(t))),!(i=this["process"+n.toUpperCase()](t)))throw new Error("An unknown error occurred whilst processing the image");return{fileType:n,width:i.w,height:i.h,colorSpace:i.cs,compressionMode:i.f,bitsPerComponent:i.bpc}}}(ht.API),e=ht.API,ht.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(t){for(var e=this.internal.getPageInfoByObjId(t.objId),i=t.pageContext.annotations,n=function(t){if(void 0!==t&&""!=t)return!0},r=!1,o=0;o<i.length&&!r;o++)switch((h=i[o]).type){case"link":if(n(h.options.url)||n(h.options.pageNumber)){r=!0;break}case"reference":case"text":case"freetext":r=!0}if(0!=r){this.internal.write("/Annots [");var s=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString;for(o=0;o<i.length;o++){var h;switch((h=i[o]).type){case"reference":this.internal.write(" "+h.object.objId+" 0 R ");break;case"text":var l=this.internal.newAdditionalObject(),d=this.internal.newAdditionalObject(),u=h.title||"Note";g="<</Type /Annot /Subtype /Text "+(f="/Rect ["+s(h.bounds.x)+" "+a(h.bounds.y+h.bounds.h)+" "+s(h.bounds.x+h.bounds.w)+" "+a(h.bounds.y)+"] ")+"/Contents ("+h.contents+")",g+=" /Popup "+d.objId+" 0 R",g+=" /P "+e.objId+" 0 R",l.content=g+=" /T ("+u+") >>";var c=l.objId+" 0 R";g="<</Type /Annot /Subtype /Popup "+(f="/Rect ["+s(h.bounds.x+30)+" "+a(h.bounds.y+h.bounds.h)+" "+s(h.bounds.x+h.bounds.w+30)+" "+a(h.bounds.y)+"] ")+" /Parent "+c,h.open&&(g+=" /Open true"),d.content=g+=" >>",this.internal.write(l.objId,"0 R",d.objId,"0 R");break;case"freetext":var f="/Rect ["+s(h.bounds.x)+" "+a(h.bounds.y)+" "+s(h.bounds.x+h.bounds.w)+" "+a(h.bounds.y+h.bounds.h)+"] ";g="<</Type /Annot /Subtype /FreeText "+f+"/Contents ("+h.contents+")",g+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+(h.color||"#000000")+")",g+=" /Border [0 0 0]",this.internal.write(g+=" >>");break;case"link":if(h.options.name){var p=this.annotations._nameMap[h.options.name];h.options.pageNumber=p.page,h.options.top=p.y}else h.options.top||(h.options.top=0);f="/Rect ["+s(h.x)+" "+a(h.y)+" "+s(h.x+h.w)+" "+a(h.y+h.h)+"] ";var g="";if(h.options.url)g="<</Type /Annot /Subtype /Link "+f+"/Border [0 0 0] /A <</S /URI /URI ("+h.options.url+") >>";else if(h.options.pageNumber)switch(g="<</Type /Annot /Subtype /Link "+f+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(h.options.pageNumber).objId+" 0 R",h.options.magFactor=h.options.magFactor||"XYZ",h.options.magFactor){case"Fit":g+=" /Fit]";break;case"FitH":g+=" /FitH "+h.options.top+"]";break;case"FitV":h.options.left=h.options.left||0,g+=" /FitV "+h.options.left+"]";break;case"XYZ":default:var m=a(h.options.top);h.options.left=h.options.left||0,void 0===h.options.zoom&&(h.options.zoom=0),g+=" /XYZ "+h.options.left+" "+m+" "+h.options.zoom+"]"}""!=g&&this.internal.write(g+=" >>")}}this.internal.write("]")}}]),e.createAnnotation=function(t){var e=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":e.pageContext.annotations.push(t)}},e.link=function(t,e,i,n,r){this.internal.getCurrentPageInfo().pageContext.annotations.push({x:t,y:e,w:i,h:n,options:r,type:"link"})},e.textWithLink=function(t,e,i,n){var r=this.getTextWidth(t),o=this.internal.getLineHeight()/this.internal.scaleFactor;return this.text(t,e,i),this.link(e,(i+=.2*o)-o,r,o,n),r},e.getTextWidth=function(t){var e=this.internal.getFontSize();return this.getStringUnitWidth(t)*e/this.internal.scaleFactor},function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},i={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},r=[1570,1571,1573,1575];t.__arabicParser__={};var o=t.__arabicParser__.isInArabicSubstitutionA=function(t){return void 0!==e[t.charCodeAt(0)]},s=t.__arabicParser__.isArabicLetter=function(t){return"string"==typeof t&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(t)},a=t.__arabicParser__.isArabicEndLetter=function(t){return s(t)&&o(t)&&e[t.charCodeAt(0)].length<=2},h=t.__arabicParser__.isArabicAlfLetter=function(t){return s(t)&&0<=r.indexOf(t.charCodeAt(0))},l=(t.__arabicParser__.arabicLetterHasIsolatedForm=function(t){return s(t)&&o(t)&&1<=e[t.charCodeAt(0)].length},t.__arabicParser__.arabicLetterHasFinalForm=function(t){return s(t)&&o(t)&&2<=e[t.charCodeAt(0)].length}),d=(t.__arabicParser__.arabicLetterHasInitialForm=function(t){return s(t)&&o(t)&&3<=e[t.charCodeAt(0)].length},t.__arabicParser__.arabicLetterHasMedialForm=function(t){return s(t)&&o(t)&&4==e[t.charCodeAt(0)].length}),u=t.__arabicParser__.resolveLigatures=function(t){var e=0,n=i,r=0,o="",s=0;for(e=0;e<t.length;e+=1)void 0!==n[t.charCodeAt(e)]?(s++,"number"==typeof(n=n[t.charCodeAt(e)])&&(r=-1!==(r=c(t.charAt(e),t.charAt(e-s),t.charAt(e+1)))?r:0,o+=String.fromCharCode(n),n=i,s=0),e===t.length-1&&(n=i,o+=t.charAt(e-(s-1)),e-=s-1,s=0)):(n=i,o+=t.charAt(e-s),e-=s,s=0);return o},c=(t.__arabicParser__.isArabicDiacritic=function(t){return void 0!==t&&void 0!==n[t.charCodeAt(0)]},t.__arabicParser__.getCorrectForm=function(t,e,i){return s(t)?!1===o(t)?-1:!l(t)||!s(e)&&!s(i)||!s(i)&&a(e)||a(t)&&!s(e)||a(t)&&h(e)||a(t)&&a(e)?0:d(t)&&s(e)&&!a(e)&&s(i)&&l(i)?3:a(t)||!s(i)?1:2:-1}),f=t.__arabicParser__.processArabic=t.processArabic=function(t){var i=0,n=0,r=0,o="",a="",h="",l=(t=t||"").split("\\s+"),d=[];for(i=0;i<l.length;i+=1){for(d.push(""),n=0;n<l[i].length;n+=1)a=l[i][n-1],h=l[i][n+1],s(o=l[i][n])?(r=c(o,a,h),d[i]+=-1!==r?String.fromCharCode(e[o.charCodeAt(0)][r]):o):d[i]+=o;d[i]=u(d[i])}return d.join(" ")};t.events.push(["preProcessText",function(t){var e=t.text,i=[];if("[object Array]"===Object.prototype.toString.call(e)){var n=0;for(i=[],n=0;n<e.length;n+=1)"[object Array]"===Object.prototype.toString.call(e[n])?i.push([f(e[n][0]),e[n][1],e[n][2]]):i.push([f(e[n])]);t.text=i}else t.text=f(e)}])}(ht.API),ht.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},i=ht.API,(n=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(e){t=e}});var e=150;Object.defineProperty(this,"width",{get:function(){return e},set:function(t){e=isNaN(t)||!1===Number.isInteger(t)||t<0?150:t,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=e+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(t){i=isNaN(t)||!1===Number.isInteger(t)||t<0?300:t,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var n=[];Object.defineProperty(this,"childNodes",{get:function(){return n},set:function(t){n=t}});var r={};Object.defineProperty(this,"style",{get:function(){return r},set:function(t){r=t}}),Object.defineProperty(this,"parentNode",{get:function(){return!1}})}).prototype.getContext=function(t,e){var i;if("2d"!==(t=t||"2d"))return null;for(i in e)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=e[i]);return(this.pdf.context2d._canvas=this).pdf.context2d},n.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},i.events.push(["initialized",function(){this.canvas=new n,this.canvas.pdf=this}]),s={x:void 0,y:void 0,w:void 0,h:void 0,ln:void 0},a=1,h=function(t,e,i,n,r){s={x:t,y:e,w:i,h:n,ln:r}},l=function(){return s},d={left:0,top:0,bottom:0},(r=ht.API).setHeaderFunction=function(t){o=t},r.getTextDimensions=function(t,e){var i=this.table_font_size||this.internal.getFontSize(),n=(this.internal.getFont(),(e=e||{}).scaleFactor||this.internal.scaleFactor),r=0,o=0,s=0;if("string"==typeof t)0!=(r=this.getStringUnitWidth(t)*i)&&(o=1);else{if("[object Array]"!==Object.prototype.toString.call(t))throw new Error("getTextDimensions expects text-parameter to be of type String or an Array of Strings.");for(var a=0;a<t.length;a++)r<(s=this.getStringUnitWidth(t[a])*i)&&(r=s);0!==r&&(o=t.length)}return{w:r/=n,h:Math.max((o*i*this.getLineHeightFactor()-i*(this.getLineHeightFactor()-1))/n,0)}},r.cellAddPage=function(){var t=this.margins||d;this.addPage(),h(t.left,t.top,void 0,void 0),a+=1},r.cellInitialize=function(){s={x:void 0,y:void 0,w:void 0,h:void 0,ln:void 0},a=1},r.cell=function(t,e,i,n,r,o,s){var a=l(),u=!1;if(void 0!==a.ln)if(a.ln===o)t=a.x+a.w,e=a.y;else{var c=this.margins||d;a.y+a.h+n+13>=this.internal.pageSize.getHeight()-c.bottom&&(this.cellAddPage(),u=!0,this.printHeaders&&this.tableHeaderRow&&this.printHeaderRow(o,!0)),e=l().y+l().h,u&&(e=23)}if(void 0!==r[0])if(this.printingHeaderRow?this.rect(t,e,i,n,"FD"):this.rect(t,e,i,n),"right"===s){r instanceof Array||(r=[r]);for(var f=0;f<r.length;f++){var p=r[f],g=this.getStringUnitWidth(p)*this.internal.getFontSize()/this.internal.scaleFactor;this.text(p,t+i-g-3,e+this.internal.getLineHeight()*(f+1))}}else this.text(r,t+3,e+this.internal.getLineHeight());return h(t,e,i,n,o),this},r.arrayMax=function(t,e){var i,n,r,o=t[0];for(i=0,n=t.length;i<n;i+=1)r=t[i],e?-1===e(o,r)&&(o=r):o<r&&(o=r);return o},r.table=function(t,e,i,n,o){if(!i)throw"No data for PDF table";var h,l,u,c,f,p,g,m,v,y=[],b=[],w={},x={},_=[],k=[],S=!1,M=!0,C=12,E=d;if(E.width=this.internal.pageSize.getWidth(),o&&(!0===o.autoSize&&(S=!0),!1===o.printHeaders&&(M=!1),o.fontSize&&(C=o.fontSize),o.css&&void 0!==o.css["font-size"]&&(C=16*o.css["font-size"]),o.margins&&(E=o.margins)),this.lnMod=0,s={x:void 0,y:void 0,w:void 0,h:void 0,ln:void 0},a=1,this.printHeaders=M,this.margins=E,this.setFontSize(C),this.table_font_size=C,null==n)y=Object.keys(i[0]);else if(n[0]&&"string"!=typeof n[0])for(l=0,u=n.length;l<u;l+=1)y.push((h=n[l]).name),b.push(h.prompt),x[h.name]=h.width*(19.049976/25.4);else y=n;if(S)for(v=function(t){return t[h]},l=0,u=y.length;l<u;l+=1){for(w[h=y[l]]=i.map(v),_.push(this.getTextDimensions(b[l]||h,{scaleFactor:1}).w),p=0,c=(f=w[h]).length;p<c;p+=1)_.push(this.getTextDimensions(f[p],{scaleFactor:1}).w);x[h]=r.arrayMax(_),_=[]}if(M){var N=this.calculateLineHeight(y,x,b.length?b:y);for(l=0,u=y.length;l<u;l+=1)k.push([t,e,x[h=y[l]],N,String(b.length?b[l]:h)]);this.setTableHeaderRow(k),this.printHeaderRow(1,!1)}for(l=0,u=i.length;l<u;l+=1)for(N=this.calculateLineHeight(y,x,g=i[l]),p=0,m=y.length;p<m;p+=1)this.cell(t,e,x[h=y[p]],N,g[h],l+2,h.align);return this.lastCellPos=s,this.table_x=t,this.table_y=e,this},r.calculateLineHeight=function(t,e,i){for(var n,r=0,o=0;o<t.length;o++){i[n=t[o]]=this.splitTextToSize(String(i[n]),e[n]-3);var s=this.internal.getLineHeight()*i[n].length+3;r<s&&(r=s)}return r},r.setTableHeaderRow=function(t){this.tableHeaderRow=t},r.printHeaderRow=function(t,e){if(!this.tableHeaderRow)throw"Property tableHeaderRow does not exist.";var i,n,r,s;if(this.printingHeaderRow=!0,void 0!==o){var l=o(this,a);h(l[0],l[1],l[2],l[3],-1)}this.setFontStyle("bold");var d=[];for(r=0,s=this.tableHeaderRow.length;r<s;r+=1)this.setFillColor(200,200,200),i=this.tableHeaderRow[r],e&&(this.margins.top=13,i[1]=this.margins&&this.margins.top||0,d.push(i)),n=[].concat(i),this.cell.apply(this,n.concat(t));0<d.length&&this.setTableHeaderRow(d),this.setFontStyle("normal"),this.printingHeaderRow=!1},function(e,i){var n,r,o,s,a,h=function(t){return this.isStrokeTransparent=(t=t||{}).isStrokeTransparent||!1,this.strokeOpacity=t.strokeOpacity||1,this.strokeStyle=t.strokeStyle||"#000000",this.fillStyle=t.fillStyle||"#000000",this.isFillTransparent=t.isFillTransparent||!1,this.fillOpacity=t.fillOpacity||1,this.font=t.font||"10px sans-serif",this.textBaseline=t.textBaseline||"alphabetic",this.textAlign=t.textAlign||"left",this.lineWidth=t.lineWidth||1,this.lineJoin=t.lineJoin||"miter",this.lineCap=t.lineCap||"butt",this.path=t.path||[],this.transform=void 0!==t.transform?t.transform.clone():new I,this.globalCompositeOperation=t.globalCompositeOperation||"normal",this.globalAlpha=t.globalAlpha||1,this.clip_path=t.clip_path||[],this.currentPoint=t.currentPoint||new O,this.miterLimit=t.miterLimit||10,this.lastPoint=t.lastPoint||new O,this.ignoreClearRect="boolean"!=typeof t.ignoreClearRect||t.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new l(this),n=this.internal.f2,r=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate}]);var l=function(t){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}}),Object.defineProperty(this,"pdf",{get:function(){return t}});var e=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return e},set:function(t){e=Boolean(t)}});var i=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return i},set:function(t){i=Boolean(t)}});var n=0;Object.defineProperty(this,"posX",{get:function(){return n},set:function(t){isNaN(t)||(n=t)}});var r=0;Object.defineProperty(this,"posY",{get:function(){return r},set:function(t){isNaN(t)||(r=t)}});var o=!1;Object.defineProperty(this,"autoPaging",{get:function(){return o},set:function(t){o=Boolean(t)}});var s=0;Object.defineProperty(this,"lastBreak",{get:function(){return s},set:function(t){s=t}});var a=[];Object.defineProperty(this,"pageBreaks",{get:function(){return a},set:function(t){a=t}});var l=new h;Object.defineProperty(this,"ctx",{get:function(){return l},set:function(t){t instanceof h&&(l=t)}}),Object.defineProperty(this,"path",{get:function(){return l.path},set:function(t){l.path=t}});var u=[];Object.defineProperty(this,"ctxStack",{get:function(){return u},set:function(t){u=t}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(t){var e;e=d(t),this.ctx.fillStyle=e.style,this.ctx.isFillTransparent=0===e.a,this.ctx.fillOpacity=e.a,this.pdf.setFillColor(e.r,e.g,e.b,{a:e.a}),this.pdf.setTextColor(e.r,e.g,e.b,{a:e.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(t){var e=d(t);this.ctx.strokeStyle=e.style,this.ctx.isStrokeTransparent=0===e.a,this.ctx.strokeOpacity=e.a,0===e.a?this.pdf.setDrawColor(255,255,255):this.pdf.setDrawColor(e.r,e.g,e.b)}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(t){-1!==["butt","round","square"].indexOf(t)&&(this.ctx.lineCap=t,this.pdf.setLineCap(t))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(t){isNaN(t)||(this.ctx.lineWidth=t,this.pdf.setLineWidth(t))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(t){-1!==["bevel","round","miter"].indexOf(t)&&(this.ctx.lineJoin=t,this.pdf.setLineJoin(t))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(t){isNaN(t)||(this.ctx.miterLimit=t,this.pdf.setMiterLimit(t))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(t){this.ctx.textBaseline=t}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(t){-1!==["right","end","center","left","start"].indexOf(t)&&(this.ctx.textAlign=t)}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(t){var e;if(this.ctx.font=t,null!==(e=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(t))){var i=e[1],n=e[3],r=e[4],o=e[5],s=e[6];r="px"===o?Math.floor(parseFloat(r)):"em"===o?Math.floor(parseFloat(r)*this.pdf.getFontSize()):Math.floor(parseFloat(r)),this.pdf.setFontSize(r);var a="";("bold"===n||700<=parseInt(n,10)||"bold"===i)&&(a="bold"),"italic"===i&&(a+="italic"),0===a.length&&(a="normal");for(var h="",l=s.toLowerCase().replace(/"|'/g,"").split(/\s*,\s*/),d={arial:"Helvetica",verdana:"Helvetica",helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",courier:"Courier",times:"Times",cursive:"Times",fantasy:"Times",serif:"Times"},u=0;u<l.length;u++){if(void 0!==this.pdf.internal.getFont(l[u],a,{noFallback:!0,disableWarning:!0})){h=l[u];break}if("bolditalic"===a&&void 0!==this.pdf.internal.getFont(l[u],"bold",{noFallback:!0,disableWarning:!0}))h=l[u],a="bold";else if(void 0!==this.pdf.internal.getFont(l[u],"normal",{noFallback:!0,disableWarning:!0})){h=l[u],a="normal";break}}if(""===h)for(u=0;u<l.length;u++)if(d[l[u]]){h=d[l[u]];break}this.pdf.setFont(h=""===h?"Times":h,a)}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(t){this.ctx.globalCompositeOperation=t}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(t){this.ctx.globalAlpha=t}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(t){this.ctx.ignoreClearRect=Boolean(t)}})};l.prototype.fill=function(){m.call(this,"fill",!1)},l.prototype.stroke=function(){m.call(this,"stroke",!1)},l.prototype.beginPath=function(){this.path=[{type:"begin"}]},l.prototype.moveTo=function(t,e){if(isNaN(t)||isNaN(e))throw console.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var i=this.ctx.transform.applyToPoint(new O(t,e));this.path.push({type:"mt",x:i.x,y:i.y}),this.ctx.lastPoint=new O(t,e)},l.prototype.closePath=function(){var e=new O(0,0),i=0;for(i=this.path.length-1;-1!==i;i--)if("begin"===this.path[i].type&&"object"===t(this.path[i+1])&&"number"==typeof this.path[i+1].x){e=new O(this.path[i+1].x,this.path[i+1].y),this.path.push({type:"lt",x:e.x,y:e.y});break}"object"===t(this.path[i+2])&&"number"==typeof this.path[i+2].x&&this.path.push(JSON.parse(JSON.stringify(this.path[i+2]))),this.path.push({type:"close"}),this.ctx.lastPoint=new O(e.x,e.y)},l.prototype.lineTo=function(t,e){if(isNaN(t)||isNaN(e))throw console.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var i=this.ctx.transform.applyToPoint(new O(t,e));this.path.push({type:"lt",x:i.x,y:i.y}),this.ctx.lastPoint=new O(i.x,i.y)},l.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),m.call(this,null,!0)},l.prototype.quadraticCurveTo=function(t,e,i,n){if(isNaN(i)||isNaN(n)||isNaN(t)||isNaN(e))throw console.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var r=this.ctx.transform.applyToPoint(new O(i,n)),o=this.ctx.transform.applyToPoint(new O(t,e));this.path.push({type:"qct",x1:o.x,y1:o.y,x:r.x,y:r.y}),this.ctx.lastPoint=new O(r.x,r.y)},l.prototype.bezierCurveTo=function(t,e,i,n,r,o){if(isNaN(r)||isNaN(o)||isNaN(t)||isNaN(e)||isNaN(i)||isNaN(n))throw console.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var s=this.ctx.transform.applyToPoint(new O(r,o)),a=this.ctx.transform.applyToPoint(new O(t,e)),h=this.ctx.transform.applyToPoint(new O(i,n));this.path.push({type:"bct",x1:a.x,y1:a.y,x2:h.x,y2:h.y,x:s.x,y:s.y}),this.ctx.lastPoint=new O(s.x,s.y)},l.prototype.arc=function(t,e,i,n,r,o){if(isNaN(t)||isNaN(e)||isNaN(i)||isNaN(n)||isNaN(r))throw console.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(o=Boolean(o),!this.ctx.transform.isIdentity){var s=this.ctx.transform.applyToPoint(new O(t,e));t=s.x,e=s.y;var a=this.ctx.transform.applyToPoint(new O(0,i)),h=this.ctx.transform.applyToPoint(new O(0,0));i=Math.sqrt(Math.pow(a.x-h.x,2)+Math.pow(a.y-h.y,2))}Math.abs(r-n)>=2*Math.PI&&(n=0,r=2*Math.PI),this.path.push({type:"arc",x:t,y:e,radius:i,startAngle:n,endAngle:r,counterclockwise:o})},l.prototype.arcTo=function(t,e,i,n,r){throw new Error("arcTo not implemented.")},l.prototype.rect=function(t,e,i,n){if(isNaN(t)||isNaN(e)||isNaN(i)||isNaN(n))throw console.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(t,e),this.lineTo(t+i,e),this.lineTo(t+i,e+n),this.lineTo(t,e+n),this.lineTo(t,e),this.lineTo(t+i,e),this.lineTo(t,e)},l.prototype.fillRect=function(t,e,i,n){if(isNaN(t)||isNaN(e)||isNaN(i)||isNaN(n))throw console.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!u.call(this)){var r={};"butt"!==this.lineCap&&(r.lineCap=this.lineCap,this.lineCap="butt"),"miter"!==this.lineJoin&&(r.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(t,e,i,n),this.fill(),r.hasOwnProperty("lineCap")&&(this.lineCap=r.lineCap),r.hasOwnProperty("lineJoin")&&(this.lineJoin=r.lineJoin)}},l.prototype.strokeRect=function(t,e,i,n){if(isNaN(t)||isNaN(e)||isNaN(i)||isNaN(n))throw console.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");c.call(this)||(this.beginPath(),this.rect(t,e,i,n),this.stroke())},l.prototype.clearRect=function(t,e,i,n){if(isNaN(t)||isNaN(e)||isNaN(i)||isNaN(n))throw console.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(t,e,i,n))},l.prototype.save=function(t){t="boolean"!=typeof t||t;for(var e=this.pdf.internal.getCurrentPageInfo().pageNumber,i=0;i<this.pdf.internal.getNumberOfPages();i++)this.pdf.setPage(i+1),this.pdf.internal.out("q");if(this.pdf.setPage(e),t){this.ctx.fontSize=this.pdf.internal.getFontSize();var n=new h(this.ctx);this.ctxStack.push(this.ctx),this.ctx=n}},l.prototype.restore=function(t){t="boolean"!=typeof t||t;for(var e=this.pdf.internal.getCurrentPageInfo().pageNumber,i=0;i<this.pdf.internal.getNumberOfPages();i++)this.pdf.setPage(i+1),this.pdf.internal.out("Q");this.pdf.setPage(e),t&&0!==this.ctxStack.length&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin)},l.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var d=function(t){var e,i,n,r;if(!0===t.isCanvasGradient&&(t=t.getColor()),!t)return{r:0,g:0,b:0,a:0,style:t};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(t))r=n=i=e=0;else{var o=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(t);if(null!==o)e=parseInt(o[1]),i=parseInt(o[2]),n=parseInt(o[3]),r=1;else if(null!==(o=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d\.]+)\s*\)/.exec(t)))e=parseInt(o[1]),i=parseInt(o[2]),n=parseInt(o[3]),r=parseFloat(o[4]);else{if(r=1,"string"==typeof t&&"#"!==t.charAt(0)){var s=new RGBColor(t);t=s.ok?s.toHex():"#000000"}4===t.length?(e=t.substring(1,2),e+=e,i=t.substring(2,3),i+=i,n=t.substring(3,4),n+=n):(e=t.substring(1,3),i=t.substring(3,5),n=t.substring(5,7)),e=parseInt(e,16),i=parseInt(i,16),n=parseInt(n,16)}}return{r:e,g:i,b:n,a:r,style:t}},u=function(){return this.ctx.isFillTransparent||0==this.globalAlpha},c=function(){return Boolean(this.ctx.isStrokeTransparent||0==this.globalAlpha)};l.prototype.fillText=function(t,e,i,n){if(isNaN(e)||isNaN(i)||"string"!=typeof t)throw console.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(n=isNaN(n)?void 0:n,!u.call(this)){i=y.call(this,i);var r=A(this.ctx.transform.rotation),o=this.ctx.transform.scaleX;k.call(this,{text:t,x:e,y:i,scale:o,angle:r,align:this.textAlign,maxWidth:n})}},l.prototype.strokeText=function(t,e,i,n){if(isNaN(e)||isNaN(i)||"string"!=typeof t)throw console.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!c.call(this)){n=isNaN(n)?void 0:n,i=y.call(this,i);var r=A(this.ctx.transform.rotation),o=this.ctx.transform.scaleX;k.call(this,{text:t,x:e,y:i,scale:o,renderingMode:"stroke",angle:r,align:this.textAlign,maxWidth:n})}},l.prototype.measureText=function(t){if("string"!=typeof t)throw console.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var e=this.pdf,i=this.pdf.internal.scaleFactor,n=e.internal.getFontSize(),r=e.getStringUnitWidth(t)*n/e.internal.scaleFactor;return new function(t){var e=(t=t||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return e}}),this}({width:r*=Math.round(96*i/72*1e4)/1e4})},l.prototype.scale=function(t,e){if(isNaN(t)||isNaN(e))throw console.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var i=new I(t,0,0,e,0,0);this.ctx.transform=this.ctx.transform.multiply(i)},l.prototype.rotate=function(t){if(isNaN(t))throw console.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var e=new I(Math.cos(t),Math.sin(t),-Math.sin(t),Math.cos(t),0,0);this.ctx.transform=this.ctx.transform.multiply(e)},l.prototype.translate=function(t,e){if(isNaN(t)||isNaN(e))throw console.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var i=new I(1,0,0,1,t,e);this.ctx.transform=this.ctx.transform.multiply(i)},l.prototype.transform=function(t,e,i,n,r,o){if(isNaN(t)||isNaN(e)||isNaN(i)||isNaN(n)||isNaN(r)||isNaN(o))throw console.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var s=new I(t,e,i,n,r,o);this.ctx.transform=this.ctx.transform.multiply(s)},l.prototype.setTransform=function(t,e,i,n,r,o){t=isNaN(t)?1:t,e=isNaN(e)?0:e,i=isNaN(i)?0:i,n=isNaN(n)?1:n,r=isNaN(r)?0:r,o=isNaN(o)?0:o,this.ctx.transform=new I(t,e,i,n,r,o)},l.prototype.drawImage=function(t,e,i,n,r,o,s,a,h){var l=this.pdf.getImageProperties(t),d=1,u=1,c=1,p=1;void 0!==n&&void 0!==a&&(c=a/n,p=h/r,d=l.width/n*a/n,u=l.height/r*h/r),void 0===o&&(o=e,s=i,i=e=0),void 0!==n&&void 0===a&&(a=n,h=r),void 0===n&&void 0===a&&(a=l.width,h=l.height);for(var m,y=this.ctx.transform.decompose(),b=A(y.rotate.shx),w=new I,x=((w=(w=(w=w.multiply(y.translate)).multiply(y.skew)).multiply(y.scale)).applyToPoint(new O(a,h)),w.applyToRectangle(new P(o-e*c,s-i*p,n*d,r*u))),_=f.call(this,x),k=[],S=0;S<_.length;S+=1)-1===k.indexOf(_[S])&&k.push(_[S]);if(k.sort(),this.autoPaging)for(var M=k[k.length-1],C=k[0];C<M+1;C++){if(this.pdf.setPage(C),0!==this.ctx.clip_path.length){var E=this.path;m=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=g(m,this.posX,-1*this.pdf.internal.pageSize.height*(C-1)+this.posY),v.call(this,"fill",!0),this.path=E}var N=JSON.parse(JSON.stringify(x));N=g([N],this.posX,-1*this.pdf.internal.pageSize.height*(C-1)+this.posY)[0],this.pdf.addImage(t,"jpg",N.x,N.y,N.w,N.h,null,null,b)}else this.pdf.addImage(t,"jpg",x.x,x.y,x.w,x.h,null,null,b)};var f=function(t,e,i){var n=[];switch(e=e||this.pdf.internal.pageSize.width,i=i||this.pdf.internal.pageSize.height,t.type){default:case"mt":case"lt":n.push(Math.floor((t.y+this.posY)/i)+1);break;case"arc":n.push(Math.floor((t.y+this.posY-t.radius)/i)+1),n.push(Math.floor((t.y+this.posY+t.radius)/i)+1);break;case"qct":var r=T(this.ctx.lastPoint.x,this.ctx.lastPoint.y,t.x1,t.y1,t.x,t.y);n.push(Math.floor(r.y/i)+1),n.push(Math.floor((r.y+r.h)/i)+1);break;case"bct":var o=L(this.ctx.lastPoint.x,this.ctx.lastPoint.y,t.x1,t.y1,t.x2,t.y2,t.x,t.y);n.push(Math.floor(o.y/i)+1),n.push(Math.floor((o.y+o.h)/i)+1);break;case"rect":n.push(Math.floor((t.y+this.posY)/i)+1),n.push(Math.floor((t.y+t.h+this.posY)/i)+1)}for(var s=0;s<n.length;s+=1)for(;this.pdf.internal.getNumberOfPages()<n[s];)p.call(this);return n},p=function(){var t=this.fillStyle,e=this.strokeStyle,i=this.font,n=this.lineCap,r=this.lineWidth,o=this.lineJoin;this.pdf.addPage(),this.fillStyle=t,this.strokeStyle=e,this.font=i,this.lineCap=n,this.lineWidth=r,this.lineJoin=o},g=function(t,e,i){for(var n=0;n<t.length;n++)switch(t[n].type){case"bct":t[n].x2+=e,t[n].y2+=i;case"qct":t[n].x1+=e,t[n].y1+=i;case"mt":case"lt":case"arc":default:t[n].x+=e,t[n].y+=i}return t},m=function(t,e){for(var i,n,r=this.fillStyle,o=this.strokeStyle,s=this.lineCap,a=this.lineWidth,h=this.lineJoin,l=JSON.parse(JSON.stringify(this.path)),d=JSON.parse(JSON.stringify(this.path)),u=[],c=0;c<d.length;c++)if(void 0!==d[c].x)for(var m=f.call(this,d[c]),y=0;y<m.length;y+=1)-1===u.indexOf(m[y])&&u.push(m[y]);for(c=0;c<u.length;c++)for(;this.pdf.internal.getNumberOfPages()<u[c];)p.call(this);if(u.sort(),this.autoPaging){var b=u[u.length-1];for(c=u[0];c<b+1;c++){if(this.pdf.setPage(c),this.fillStyle=r,this.strokeStyle=o,this.lineCap=s,this.lineWidth=a,this.lineJoin=h,0!==this.ctx.clip_path.length){var w=this.path;i=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=g(i,this.posX,-1*this.pdf.internal.pageSize.height*(c-1)+this.posY),v.call(this,t,!0),this.path=w}n=JSON.parse(JSON.stringify(l)),this.path=g(n,this.posX,-1*this.pdf.internal.pageSize.height*(c-1)+this.posY),!1!==e&&0!==c||v.call(this,t,e)}}else v.call(this,t,e);this.path=l},v=function(t,e){if(("stroke"!==t||e||!c.call(this))&&("stroke"===t||e||!u.call(this))){for(var i,n=[],r=this.path,o=0;o<r.length;o++){var s=r[o];switch(s.type){case"begin":n.push({begin:!0});break;case"close":n.push({close:!0});break;case"mt":n.push({start:s,deltas:[],abs:[]});break;case"lt":var a=n.length;if(!isNaN(r[o-1].x)){var h=[s.x-r[o-1].x,s.y-r[o-1].y];if(0<a)for(;0<=a;a--)if(!0!==n[a-1].close&&!0!==n[a-1].begin){n[a-1].deltas.push(h),n[a-1].abs.push(s);break}}break;case"bct":n[n.length-1].deltas.push(h=[s.x1-r[o-1].x,s.y1-r[o-1].y,s.x2-r[o-1].x,s.y2-r[o-1].y,s.x-r[o-1].x,s.y-r[o-1].y]);break;case"qct":n[n.length-1].deltas.push(h=[r[o-1].x+2/3*(s.x1-r[o-1].x)-r[o-1].x,r[o-1].y+2/3*(s.y1-r[o-1].y)-r[o-1].y,s.x+2/3*(s.x1-s.x)-r[o-1].x,s.y+2/3*(s.y1-s.y)-r[o-1].y,s.x-r[o-1].x,s.y-r[o-1].y]);break;case"arc":n.push({deltas:[],abs:[],arc:!0}),Array.isArray(n[n.length-1].abs)&&n[n.length-1].abs.push(s)}}for(i=e?null:"stroke"===t?"stroke":"fill",o=0;o<n.length;o++){if(n[o].arc)for(var l=n[o].abs,d=0;d<l.length;d++){var f=l[d];if(void 0!==f.startAngle){var p=A(f.startAngle),g=A(f.endAngle),m=f.x,v=f.y;b.call(this,m,v,f.radius,p,g,f.counterclockwise,i,e)}else S.call(this,f.x,f.y)}n[o].arc||!0===n[o].close||!0===n[o].begin||M.call(this,n[o].deltas,m=n[o].start.x,v=n[o].start.y,null,null)}i&&w.call(this,i),e&&x.call(this)}},y=function(t){var e=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,i=e*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return t-i;case"top":return t+e-i;case"hanging":return t+e-2*i;case"middle":return t+e/2-i;case"ideographic":return t;case"alphabetic":default:return t}};l.prototype.createLinearGradient=function(){var t=function(){};return t.colorStops=[],t.addColorStop=function(t,e){this.colorStops.push([t,e])},t.getColor=function(){return 0===this.colorStops.length?"#000000":this.colorStops[0][1]},t.isCanvasGradient=!0,t},l.prototype.createPattern=function(){return this.createLinearGradient()},l.prototype.createRadialGradient=function(){return this.createLinearGradient()};var b=function(t,e,i,n,r,o,s,a){for(var h=D(n),l=D(r),d=E.call(this,i,h,l,o),u=0;u<d.length;u++){var c=d[u];0===u&&_.call(this,c.x1+t,c.y1+e),C.call(this,t,e,c.x2,c.y2,c.x3,c.y3,c.x4,c.y4)}a?x.call(this):w.call(this,s)},w=function(t){switch(t){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},x=function(){this.pdf.clip()},_=function(t,e){this.pdf.internal.out(r(t)+" "+o(e)+" m")},k=function(t){var e;switch(t.align){case"right":case"end":e="right";break;case"center":e="center";break;case"left":case"start":default:e="left"}var i=this.ctx.transform.applyToPoint(new O(t.x,t.y)),n=this.ctx.transform.decompose(),r=new I;r=(r=(r=r.multiply(n.translate)).multiply(n.skew)).multiply(n.scale);for(var o,s=this.pdf.getTextDimensions(t.text),a=this.ctx.transform.applyToRectangle(new P(t.x,t.y,s.w,s.h)),h=r.applyToRectangle(new P(t.x,t.y-s.h,s.w,s.h)),l=f.call(this,h),d=[],u=0;u<l.length;u+=1)-1===d.indexOf(l[u])&&d.push(l[u]);if(d.sort(),!0===this.autoPaging)for(var c=d[d.length-1],p=d[0];p<c+1;p++){if(this.pdf.setPage(p),0!==this.ctx.clip_path.length){var m=this.path;o=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=g(o,this.posX,-1*this.pdf.internal.pageSize.height*(p-1)+this.posY),v.call(this,"fill",!0),this.path=m}var y=JSON.parse(JSON.stringify(a));if(y=g([y],this.posX,-1*this.pdf.internal.pageSize.height*(p-1)+this.posY)[0],.01<=t.scale){var b=this.pdf.internal.getFontSize();this.pdf.setFontSize(b*t.scale)}this.pdf.text(t.text,y.x,y.y,{angle:t.angle,align:e,renderingMode:t.renderingMode,maxWidth:t.maxWidth}),.01<=t.scale&&this.pdf.setFontSize(b)}else.01<=t.scale&&(b=this.pdf.internal.getFontSize(),this.pdf.setFontSize(b*t.scale)),this.pdf.text(t.text,i.x+this.posX,i.y+this.posY,{angle:t.angle,align:e,renderingMode:t.renderingMode,maxWidth:t.maxWidth}),.01<=t.scale&&this.pdf.setFontSize(b)},S=function(t,e,i,n){n=n||0,this.pdf.internal.out(r(t+(i=i||0))+" "+o(e+n)+" l")},M=function(t,e,i){return this.pdf.lines(t,e,i,null,null)},C=function(t,e,i,r,o,h,l,d){this.pdf.internal.out([n(s(i+t)),n(a(r+e)),n(s(o+t)),n(a(h+e)),n(s(l+t)),n(a(d+e)),"c"].join(" "))},E=function(t,e,i,n){var r=2*Math.PI,o=e;(o<r||r<o)&&(o%=r);var s=i;(s<r||r<s)&&(s%=r);for(var a=[],h=Math.PI/2,l=n?-1:1,d=e,u=Math.min(r,Math.abs(s-o));1e-5<u;){var c=d+l*Math.min(u,h);a.push(N.call(this,t,d,c)),u-=Math.abs(c-d),d=c}return a},N=function(t,e,i){var n=(i-e)/2,r=t*Math.cos(n),o=t*Math.sin(n),s=r,a=-o,h=s*s+a*a,l=h+s*r+a*o,d=4/3*(Math.sqrt(2*h*l)-l)/(s*o-a*r),u=s-d*a,c=a+d*s,f=u,p=-c,g=n+e,m=Math.cos(g),v=Math.sin(g);return{x1:t*Math.cos(e),y1:t*Math.sin(e),x2:u*m-c*v,y2:u*v+c*m,x3:f*m-p*v,y3:f*v+p*m,x4:t*Math.cos(i),y4:t*Math.sin(i)}},A=function(t){return 180*t/Math.PI},D=function(t){return t*Math.PI/180},T=function(t,e,i,n,r,o){var s=t+.5*(i-t),a=e+.5*(n-e),h=r+.5*(i-r),l=o+.5*(n-o),d=Math.min(t,r,s,h),u=Math.max(t,r,s,h),c=Math.min(e,o,a,l),f=Math.max(e,o,a,l);return new P(d,c,u-d,f-c)},L=function(t,e,i,n,r,o,s,a){for(var h,l,d,u,c,f,p,g,m,v,y,b,w,x=i-t,_=n-e,k=r-i,S=o-n,M=s-r,C=a-o,E=0;E<41;E++)g=(f=(l=t+(h=E/40)*x)+h*((u=i+h*k)-l))+h*(u+h*(r+h*M-u)-f),m=(p=(d=e+h*_)+h*((c=n+h*S)-d))+h*(c+h*(o+h*C-c)-p),w=0==E?(b=v=g,y=m):(v=Math.min(v,g),y=Math.min(y,m),b=Math.max(b,g),Math.max(w,m));return new P(Math.round(v),Math.round(y),Math.round(b-v),Math.round(w-y))},O=function(t,e){var i=t||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return i},set:function(t){isNaN(t)||(i=parseFloat(t))}});var n=e||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return n},set:function(t){isNaN(t)||(n=parseFloat(t))}});var r="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return r},set:function(t){r=t.toString()}}),this},P=function(t,e,i,n){O.call(this,t,e),this.type="rect";var r=i||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return r},set:function(t){isNaN(t)||(r=parseFloat(t))}});var o=n||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return o},set:function(t){isNaN(t)||(o=parseFloat(t))}}),this},I=function(t,e,i,n,r,o){var s=[];return Object.defineProperty(this,"sx",{get:function(){return s[0]},set:function(t){s[0]=Math.round(1e5*t)/1e5}}),Object.defineProperty(this,"shy",{get:function(){return s[1]},set:function(t){s[1]=Math.round(1e5*t)/1e5}}),Object.defineProperty(this,"shx",{get:function(){return s[2]},set:function(t){s[2]=Math.round(1e5*t)/1e5}}),Object.defineProperty(this,"sy",{get:function(){return s[3]},set:function(t){s[3]=Math.round(1e5*t)/1e5}}),Object.defineProperty(this,"tx",{get:function(){return s[4]},set:function(t){s[4]=Math.round(1e5*t)/1e5}}),Object.defineProperty(this,"ty",{get:function(){return s[5]},set:function(t){s[5]=Math.round(1e5*t)/1e5}}),Object.defineProperty(this,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(this,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(this,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(this,"isIdentity",{get:function(){return 1===this.sx&&0===this.shy&&0===this.shx&&1===this.sy&&0===this.tx&&0===this.ty}}),this.sx=isNaN(t)?1:t,this.shy=isNaN(e)?0:e,this.shx=isNaN(i)?0:i,this.sy=isNaN(n)?1:n,this.tx=isNaN(r)?0:r,this.ty=isNaN(o)?0:o,this};I.prototype.multiply=function(t){return new I(t.sx*this.sx+t.shy*this.shx,t.sx*this.shy+t.shy*this.sy,t.shx*this.sx+t.sy*this.shx,t.shx*this.shy+t.sy*this.sy,t.tx*this.sx+t.ty*this.shx+this.tx,t.tx*this.shy+t.ty*this.sy+this.ty)},I.prototype.decompose=function(){var t=this.sx,e=this.shy,i=this.shx,n=this.sy,r=this.tx,o=this.ty,s=Math.sqrt(t*t+e*e),a=(t/=s)*i+(e/=s)*n;i-=t*a,n-=e*a;var h=Math.sqrt(i*i+n*n);return a/=h,t*(n/=h)<e*(i/=h)&&(t=-t,e=-e,a=-a,s=-s),{scale:new I(s,0,0,h,0,0),translate:new I(1,0,0,1,r,o),rotate:new I(t,e,-e,t,0,0),skew:new I(1,0,a,1,0,0)}},I.prototype.applyToPoint=function(t){return new O(t.x*this.sx+t.y*this.shx+this.tx,t.x*this.shy+t.y*this.sy+this.ty)},I.prototype.applyToRectangle=function(t){var e=this.applyToPoint(t),i=this.applyToPoint(new O(t.x+t.w,t.y+t.h));return new P(e.x,e.y,i.x-e.x,i.y-e.y)},I.prototype.clone=function(){return new I(this.sx,this.shy,this.shx,this.sy,this.tx,this.ty)}}(ht.API,"undefined"!=typeof self&&self||"undefined"!=typeof window&&window||"undefined"!=typeof global&&global||Function('return typeof this === "object" && this.content')()||Function("return this")()),c=function(t){var e,i,n,r,o,s,a,h,l,d;for(/[^\x00-\xFF]/.test(t),i=[],n=0,r=(t+=e="\0\0\0\0".slice(t.length%4||4)).length;n<r;n+=4)0!==(o=(t.charCodeAt(n)<<24)+(t.charCodeAt(n+1)<<16)+(t.charCodeAt(n+2)<<8)+t.charCodeAt(n+3))?(s=(o=((o=((o=((o=(o-(d=o%85))/85)-(l=o%85))/85)-(h=o%85))/85)-(a=o%85))/85)%85,i.push(s+33,a+33,h+33,l+33,d+33)):i.push(122);return function(t,i){for(var n=e.length;0<n;n--)t.pop()}(i),String.fromCharCode.apply(String,i)+"~>"},f=function(t){var e,i,n,r,o,s=String,a="length",h="charCodeAt",l="slice",d="replace";for(t[l](-2),t=t[l](0,-2)[d](/\s/g,"")[d]("z","!!!!!"),n=[],r=0,o=(t+=e="uuuuu"[l](t[a]%5||5))[a];r<o;r+=5)i=52200625*(t[h](r)-33)+614125*(t[h](r+1)-33)+7225*(t[h](r+2)-33)+85*(t[h](r+3)-33)+(t[h](r+4)-33),n.push(255&i>>24,255&i>>16,255&i>>8,255&i);return function(t,i){for(var n=e[a];0<n;n--)t.pop()}(n),s.fromCharCode.apply(s,n)},p=function(t){for(var e="",i=0;i<t.length;i+=1)e+=("0"+t.charCodeAt(i).toString(16)).slice(-2);return e+">"},g=function(t){var e=new RegExp(/^([0-9A-Fa-f]{2})+$/);if(-1!==(t=t.replace(/\s/g,"")).indexOf(">")&&(t=t.substr(0,t.indexOf(">"))),t.length%2&&(t+="0"),!1===e.test(t))return"";for(var i="",n=0;n<t.length;n+=2)i+=String.fromCharCode("0x"+(t[n]+t[n+1]));return i},m=function(t,e){e=Object.assign({predictor:1,colors:1,bitsPerComponent:8,columns:1},e);for(var i,n,r=[],o=t.length;o--;)r[o]=t.charCodeAt(o);return i=u.adler32cs.from(t),(n=new Deflater(6)).append(new Uint8Array(r)),t=n.flush(),(r=new Uint8Array(t.length+6)).set(new Uint8Array([120,156])),r.set(t,2),r.set(new Uint8Array([255&i,i>>8&255,i>>16&255,i>>24&255]),t.length+2),String.fromCharCode.apply(null,r)},(u=ht.API).processDataByFilters=function(t,e){var i=0,n=t||"",r=[];for("string"==typeof(e=e||[])&&(e=[e]),i=0;i<e.length;i+=1)switch(e[i]){case"ASCII85Decode":case"/ASCII85Decode":n=f(n),r.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":n=c(n),r.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":n=g(n),r.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":n=p(n),r.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":n=m(n),r.push("/FlateDecode");break;default:throw'The filter: "'+e[i]+'" is not implemented'}return{data:n,reverseChain:r.reverse().join(" ")}},(v=ht.API).loadFile=function(t,e,i){var n;e=e||!0,i=i||function(){};try{n=function(t,e,i){var n=new XMLHttpRequest,r=[],o=0,s=function(t){var e=t.length,i=String.fromCharCode;for(o=0;o<e;o+=1)r.push(i(255&t.charCodeAt(o)));return r.join("")};if(n.open("GET",t,!e),n.overrideMimeType("text/plain; charset=x-user-defined"),!1===e&&(n.onload=function(){return s(this.responseText)}),n.send(null),200===n.status)return e?s(n.responseText):void 0;console.warn('Unable to load file "'+t+'"')}(t,e)}catch(t){n=void 0}return n},v.loadImageFile=v.loadFile,y=ht.API,b="undefined"!=typeof window&&window||"undefined"!=typeof global&&global,w=function(e){var i=t(e);return"undefined"===i?"undefined":"string"===i||e instanceof String?"string":"number"===i||e instanceof Number?"number":"function"===i||e instanceof Function?"function":e&&e.constructor===Array?"array":e&&1===e.nodeType?"element":"object"===i?"object":"unknown"},x=function(t,e){var i=document.createElement(t);if(e.className&&(i.className=e.className),e.innerHTML){i.innerHTML=e.innerHTML;for(var n=i.getElementsByTagName("script"),r=n.length;0<r--;null)n[r].parentNode.removeChild(n[r])}for(var o in e.style)i.style[o]=e.style[o];return i},(((_=function t(e){var i=Object.assign(t.convert(Promise.resolve()),JSON.parse(JSON.stringify(t.template))),n=t.convert(Promise.resolve(),i);return(n=n.setProgress(1,t,1,[t])).set(e)}).prototype=Object.create(Promise.prototype)).constructor=_).convert=function(t,e){return t.__proto__=e||_.prototype,t},_.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{}}},_.prototype.from=function(t,e){return this.then(function(){switch(e=e||function(t){switch(w(t)){case"string":return"string";case"element":return"canvas"===t.nodeName.toLowerCase?"canvas":"element";default:return"unknown"}}(t)){case"string":return this.set({src:x("div",{innerHTML:t})});case"element":return this.set({src:t});case"canvas":return this.set({canvas:t});case"img":return this.set({img:t});default:return this.error("Unknown source type.")}})},_.prototype.to=function(t){switch(t){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},_.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var t={position:"relative",display:"inline-block",width:Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:"white"},e=function t(e,i){for(var n=3===e.nodeType?document.createTextNode(e.nodeValue):e.cloneNode(!1),r=e.firstChild;r;r=r.nextSibling)!0!==i&&1===r.nodeType&&"SCRIPT"===r.nodeName||n.appendChild(t(r,i));return 1===e.nodeType&&("CANVAS"===e.nodeName?(n.width=e.width,n.height=e.height,n.getContext("2d").drawImage(e,0,0)):"TEXTAREA"!==e.nodeName&&"SELECT"!==e.nodeName||(n.value=e.value),n.addEventListener("load",function(){n.scrollTop=e.scrollTop,n.scrollLeft=e.scrollLeft},!0)),n}(this.prop.src,this.opt.html2canvas.javascriptEnabled);"BODY"===e.tagName&&(t.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=x("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=x("div",{className:"html2pdf__container",style:t}),this.prop.container.appendChild(e),this.prop.container.firstChild.appendChild(x("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},_.prototype.toCanvas=function(){return this.thenList([function(){return document.body.contains(this.prop.container)||this.toContainer()}]).then(function(){var t=Object.assign({},this.opt.html2canvas);if(delete t.onrendered,this.isHtml2CanvasLoaded())return html2canvas(this.prop.container,t)}).then(function(t){(this.opt.html2canvas.onrendered||function(){})(t),this.prop.canvas=t,document.body.removeChild(this.prop.overlay)})},_.prototype.toContext2d=function(){return this.thenList([function(){return document.body.contains(this.prop.container)||this.toContainer()}]).then(function(){var t=this.opt.jsPDF,e=Object.assign({async:!0,allowTaint:!0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete e.onrendered,t.context2d.autoPaging=!0,t.context2d.posX=this.opt.x,t.context2d.posY=this.opt.y,e.windowHeight=e.windowHeight||0,e.windowHeight=0==e.windowHeight?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):e.windowHeight,this.isHtml2CanvasLoaded())return html2canvas(this.prop.container,e)}).then(function(t){(this.opt.html2canvas.onrendered||function(){})(t),this.prop.canvas=t,document.body.removeChild(this.prop.overlay)})},_.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var t=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=t})},_.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},_.prototype.output=function(t,e,i){return"img"===(i=i||"pdf").toLowerCase()||"image"===i.toLowerCase()?this.outputImg(t,e):this.outputPdf(t,e)},_.prototype.outputPdf=function(t,e){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(t,e)})},_.prototype.outputImg=function(t,e){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(t){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+t+'" is not supported.'}})},_.prototype.isHtml2CanvasLoaded=function(){var t=void 0!==b.html2canvas;return t||console.error("html2canvas not loaded."),t},_.prototype.save=function(t){if(this.isHtml2CanvasLoaded())return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(t?{filename:t}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},_.prototype.doCallback=function(t){if(this.isHtml2CanvasLoaded())return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},_.prototype.set=function(t){if("object"!==w(t))return this;var e=Object.keys(t||{}).map(function(e){if(e in _.template.prop)return function(){this.prop[e]=t[e]};switch(e){case"margin":return this.setMargin.bind(this,t.margin);case"jsPDF":return function(){return this.opt.jsPDF=t.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,t.pageSize);default:return function(){this.opt[e]=t[e]}}},this);return this.then(function(){return this.thenList(e)})},_.prototype.get=function(t,e){return this.then(function(){var i=t in _.template.prop?this.prop[t]:this.opt[t];return e?e(i):i})},_.prototype.setMargin=function(t){return this.then(function(){switch(w(t)){case"number":t=[t,t,t,t];case"array":if(2===t.length&&(t=[t[0],t[1],t[0],t[1]]),4===t.length)break;default:return this.error("Invalid margin array.")}this.opt.margin=t}).then(this.setPageSize)},_.prototype.setPageSize=function(t){function e(t,e){return Math.floor(t*e/72*96)}return this.then(function(){(t=t||ht.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(t.inner={width:t.width-this.opt.margin[1]-this.opt.margin[3],height:t.height-this.opt.margin[0]-this.opt.margin[2]},t.inner.px={width:e(t.inner.width,t.k),height:e(t.inner.height,t.k)},t.inner.ratio=t.inner.height/t.inner.width),this.prop.pageSize=t})},_.prototype.setProgress=function(t,e,i,n){return null!=t&&(this.progress.val=t),null!=e&&(this.progress.state=e),null!=i&&(this.progress.n=i),null!=n&&(this.progress.stack=n),this.progress.ratio=this.progress.val/this.progress.state,this},_.prototype.updateProgress=function(t,e,i,n){return this.setProgress(t?this.progress.val+t:null,e||null,i?this.progress.n+i:null,n?this.progress.stack.concat(n):null)},_.prototype.then=function(t,e){var i=this;return this.thenCore(t,e,function(t,e){return i.updateProgress(null,null,1,[t]),Promise.prototype.then.call(this,function(e){return i.updateProgress(null,t),e}).then(t,e).then(function(t){return i.updateProgress(1),t})})},_.prototype.thenCore=function(t,e,i){i=i||Promise.prototype.then;var n=this;t&&(t=t.bind(n)),e&&(e=e.bind(n));var r=-1!==Promise.toString().indexOf("[native code]")&&"Promise"===Promise.name?n:_.convert(Object.assign({},n),Promise.prototype),o=i.call(r,t,e);return _.convert(o,n.__proto__)},_.prototype.thenExternal=function(t,e){return Promise.prototype.then.call(this,t,e)},_.prototype.thenList=function(t){var e=this;return t.forEach(function(t){e=e.thenCore(t)}),e},_.prototype.catch=function(t){t&&(t=t.bind(this));var e=Promise.prototype.catch.call(this,t);return _.convert(e,this)},_.prototype.catchExternal=function(t){return Promise.prototype.catch.call(this,t)},_.prototype.error=function(t){return this.then(function(){throw new Error(t)})},_.prototype.using=_.prototype.set,_.prototype.saveAs=_.prototype.save,_.prototype.export=_.prototype.output,_.prototype.run=_.prototype.then,ht.getPageSize=function(e,i,n){if("object"===t(e)){var r=e;e=r.orientation,i=r.unit||i,n=r.format||n}i=i||"mm",n=n||"a4",e=(""+(e||"P")).toLowerCase();var o=(""+n).toLowerCase(),s={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(i){case"pt":var a=1;break;case"mm":a=72/25.4;break;case"cm":a=72/2.54;break;case"in":a=72;break;case"px":a=.75;break;case"pc":case"em":a=12;break;case"ex":a=6;break;default:throw"Invalid unit: "+i}if(s.hasOwnProperty(o))var h=s[o][1]/a,l=s[o][0]/a;else try{h=n[1],l=n[0]}catch(e){throw new Error("Invalid format: "+n)}if("p"===e||"portrait"===e){if(e="p",h<l){var d=l;l=h,h=d}}else{if("l"!==e&&"landscape"!==e)throw"Invalid orientation: "+e;e="l",l<h&&(d=l,l=h,h=d)}return{width:l,height:h,unit:i,k:a}},y.html=function(t,e){(e=e||{}).callback=e.callback||function(){},e.html2canvas=e.html2canvas||{},e.html2canvas.canvas=e.html2canvas.canvas||this.canvas,e.jsPDF=e.jsPDF||this;var i=new _(e);return e.worker?i:i.from(t).doCallback()},ht.API.addJS=function(t){return M=t,this.internal.events.subscribe("postPutResources",function(t){k=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(k+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),S=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+M+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){void 0!==k&&void 0!==S&&this.internal.out("/Names <</JavaScript "+k+" 0 R>>")}),this},(C=ht.API).events.push(["postPutResources",function(){var t=this,e=/^(\d+) 0 obj$/;if(0<this.outline.root.children.length)for(var i=t.outline.render().split(/\r\n/),n=0;n<i.length;n++){var r=i[n],o=e.exec(r);null!=o&&t.internal.newObjectDeferredBegin(o[1],!1),t.internal.write(r)}if(this.outline.createNamedDestinations){var s=this.internal.pages.length,a=[];for(n=0;n<s;n++){var h=t.internal.newObject();a.push(h);var l=t.internal.getPageInfo(n+1);t.internal.write("<< /D["+l.objId+" 0 R /XYZ null null null]>> endobj")}var d=t.internal.newObject();for(t.internal.write("<< /Names [ "),n=0;n<a.length;n++)t.internal.write("(page_"+(n+1)+")"+a[n]+" 0 R");t.internal.write(" ] >>","endobj"),t.internal.newObject(),t.internal.write("<< /Dests "+d+" 0 R"),t.internal.write(">>","endobj")}}]),C.events.push(["putCatalog",function(){0<this.outline.root.children.length&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+namesOid+" 0 R"))}]),C.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(t,e,i){var n={title:e,options:i,children:[]};return null==t&&(t=this.root),t.children.push(n),n},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(e){e.id=t.internal.newObjectDeferred();for(var i=0;i<e.children.length;i++)this.genIds_r(e.children[i])},t.outline.renderRoot=function(t){this.objStart(t),this.line("/Type /Outlines"),0<t.children.length&&(this.line("/First "+this.makeRef(t.children[0])),this.line("/Last "+this.makeRef(t.children[t.children.length-1]))),this.line("/Count "+this.count_r({count:0},t)),this.objEnd()},t.outline.renderItems=function(e){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,n=0;n<e.children.length;n++){var r=e.children[n];this.objStart(r),this.line("/Title "+this.makeString(r.title)),this.line("/Parent "+this.makeRef(e)),0<n&&this.line("/Prev "+this.makeRef(e.children[n-1])),n<e.children.length-1&&this.line("/Next "+this.makeRef(e.children[n+1])),0<r.children.length&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1])));var o=this.count=this.count_r({count:0},r);if(0<o&&this.line("/Count "+o),r.options&&r.options.pageNumber){var s=t.internal.getPageInfo(r.options.pageNumber);this.line("/Dest ["+s.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(n=0;n<e.children.length;n++)this.renderItems(r=e.children[n])},t.outline.line=function(t){this.ctx.val+=t+"\r\n"},t.outline.makeRef=function(t){return t.id+" 0 R"},t.outline.makeString=function(e){return"("+t.internal.pdfEscape(e)+")"},t.outline.objStart=function(t){this.ctx.val+="\r\n"+t.id+" 0 obj\r\n<<\r\n"},t.outline.objEnd=function(t){this.ctx.val+=">> \r\nendobj\r\n"},t.outline.count_r=function(t,e){for(var i=0;i<e.children.length;i++)t.count++,this.count_r(t,e.children[i]);return t.count}}]),N=function(){var t="function"==typeof Deflater;if(!t)throw new Error("requires deflate.js for compression");return t},A=function(t,e,i,n){var r=5,o=I;switch(n){case E.image_compression.FAST:r=3,o=P;break;case E.image_compression.MEDIUM:r=6,o=B;break;case E.image_compression.SLOW:r=9,o=R}t=L(t,e,i,o);var s=new Uint8Array(D(r)),a=T(t),h=new Deflater(r),l=h.append(t),d=h.flush(),u=s.length+l.length+d.length,c=new Uint8Array(u+4);return c.set(s),c.set(l,s.length),c.set(d,s.length+l.length),c[u++]=a>>>24&255,c[u++]=a>>>16&255,c[u++]=a>>>8&255,c[u++]=255&a,E.arrayBufferToBinaryString(c)},D=function(t,e){var i=Math.LOG2E*Math.log(32768)-8<<4|8,n=i<<8;return n|=Math.min(3,(e-1&255)>>1)<<6,n|=0,[i,255&(n+=31-n%31)]},T=function(t,e){for(var i,n=1,r=0,o=t.length,s=0;0<o;){for(o-=i=e<o?e:o;r+=n+=t[s++],--i;);n%=65521,r%=65521}return(r<<16|n)>>>0},L=function(t,e,i,n){for(var r,o,s,a=t.length/e,h=new Uint8Array(t.length+a),l=z(),d=0;d<a;d++){if(r=t.subarray(s=d*e,s+e),n)h.set(n(r,i,o),s+d);else{for(var u=0,c=l.length,f=[];u<c;u++)f[u]=l[u](r,i,o);var p=j(f.concat());h.set(f[p],s+d)}o=r}return h},O=function(t,e,i){var n=Array.apply([],t);return n.unshift(0),n},P=function(t,e,i){var n=[],r=0,o=t.length;for(n[0]=1;r<o;r++)n[r+1]=t[r]-(t[r-e]||0)+256&255;return n},I=function(t,e,i){var n=[],r=0,o=t.length;for(n[0]=2;r<o;r++)n[r+1]=t[r]-(i&&i[r]||0)+256&255;return n},B=function(t,e,i){var n=[],r=0,o=t.length;for(n[0]=3;r<o;r++)n[r+1]=t[r]+256-((t[r-e]||0)+(i&&i[r]||0)>>>1)&255;return n},R=function(t,e,i){var n,r=[],o=0,s=t.length;for(r[0]=4;o<s;o++)n=F(t[o-e]||0,i&&i[o]||0,i&&i[o-e]||0),r[o+1]=t[o]-n+256&255;return r},F=function(t,e,i){var n=t+e-i,r=Math.abs(n-t),o=Math.abs(n-e),s=Math.abs(n-i);return r<=o&&r<=s?t:o<=s?e:i},z=function(){return[O,P,I,B,R]},j=function(t){for(var e,i,n,r=0,o=t.length;r<o;)((e=q(t[r].slice(1)))<i||!i)&&(i=e,n=r),r++;return n},q=function(t){for(var e=0,i=t.length,n=0;e<i;)n+=Math.abs(t[e++]);return n},(E=ht.API).processPNG=function(t,e,i,n,r){var o,s,a,h,l,d,u=this.color_spaces.DEVICE_RGB,c=this.decode.FLATE_DECODE,f=8;if(this.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.isArrayBufferView(t)){if("function"!=typeof PNG||"function"!=typeof Dt)throw new Error("PNG support requires png.js and zlib.js");if(t=(o=new PNG(t)).imgData,f=o.bits,u=o.colorSpace,h=o.colors,-1!==[4,6].indexOf(o.colorType)){if(8===o.bits)for(var p,g=(C=32==o.pixelBitlength?new Uint32Array(o.decodePixels().buffer):16==o.pixelBitlength?new Uint16Array(o.decodePixels().buffer):new Uint8Array(o.decodePixels().buffer)).length,m=new Uint8Array(g*o.colors),v=new Uint8Array(g),y=o.pixelBitlength-o.bits,b=0,w=0;b<g;b++){for(x=C[b],p=0;p<y;)m[w++]=x>>>p&255,p+=o.bits;v[b]=x>>>p&255}if(16===o.bits){g=(C=new Uint32Array(o.decodePixels().buffer)).length,m=new Uint8Array(g*(32/o.pixelBitlength)*o.colors),v=new Uint8Array(g*(32/o.pixelBitlength));for(var x,_=1<o.colors,k=w=b=0;b<g;)x=C[b++],m[w++]=x>>>0&255,_&&(m[w++]=x>>>16&255,x=C[b++],m[w++]=x>>>0&255),v[k++]=x>>>16&255;f=8}n!==E.image_compression.NONE&&N()?(t=A(m,o.width*o.colors,o.colors,n),d=A(v,o.width,1,n)):(t=m,d=v,c=null)}if(3===o.colorType&&(u=this.color_spaces.INDEXED,l=o.palette,o.transparency.indexed)){var S=o.transparency.indexed,M=0;for(b=0,g=S.length;b<g;++b)M+=S[b];if((M/=255)==g-1&&-1!==S.indexOf(0))a=[S.indexOf(0)];else if(M!==g){var C=o.decodePixels();for(v=new Uint8Array(C.length),b=0,g=C.length;b<g;b++)v[b]=S[C[b]];d=A(v,o.width,1)}}var D=function(t){var e;switch(n){case E.image_compression.FAST:e=11;break;case E.image_compression.MEDIUM:e=13;break;case E.image_compression.SLOW:e=14;break;default:e=12}return e}();return s=c===this.decode.FLATE_DECODE?"/Predictor "+D+" /Colors "+h+" /BitsPerComponent "+f+" /Columns "+o.width:"/Colors "+h+" /BitsPerComponent "+f+" /Columns "+o.width,(this.isArrayBuffer(t)||this.isArrayBufferView(t))&&(t=this.arrayBufferToBinaryString(t)),(d&&this.isArrayBuffer(d)||this.isArrayBufferView(d))&&(d=this.arrayBufferToBinaryString(d)),this.createImageInfo(t,o.width,o.height,u,f,c,e,i,s,a,l,d,D)}throw new Error("Unsupported PNG image data, try using JPEG instead.")},(H=ht.API).processGIF89A=function(t,e,i,n,r){var o=new Mt(t),s=o.width,a=o.height,h=[];o.decodeAndBlitFrameRGBA(0,h);var l={data:h,width:s,height:a},d=new Et(100).encode(l,100);return H.processJPEG.call(this,d,e,i,n)},H.processGIF87A=H.processGIF89A,(W=ht.API).processBMP=function(t,e,i,n,r){var o=new Nt(t,!1),s=o.width,a=o.height,h={data:o.getData(),width:s,height:a},l=new Et(100).encode(h,100);return W.processJPEG.call(this,l,e,i,n)},ht.API.setLanguage=function(t){return void 0===this.internal.languageSettings&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),void 0!=={af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"FYRO Macedonian",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]&&(this.internal.languageSettings.languageCode=t,!1===this.internal.languageSettings.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},V=(U=ht.API).getCharWidthsArray=function(t,e){var i,n,r,o=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),a=e.charSpace||this.internal.getCharSpace(),h=e.widths?e.widths:o.metadata.Unicode.widths,l=h.fof?h.fof:1,d=e.kerning?e.kerning:o.metadata.Unicode.kerning,u=d.fof?d.fof:1,c=0,f=h[0]||l,p=[];for(i=0,n=t.length;i<n;i++)r=t.charCodeAt(i),p.push("function"==typeof o.metadata.widthOfString?(o.metadata.widthOfGlyph(o.metadata.characterToGlyph(r))+a*(1e3/s)||0)/1e3:(h[r]||f)/l+(d[r]&&d[r][c]||0)/u),c=r;return p},Y=U.getArraySum=function(t){for(var e=t.length,i=0;e;)i+=t[--e];return i},G=U.getStringUnitWidth=function(t,e){var i=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),r=e.charSpace||this.internal.getCharSpace();return"function"==typeof n.metadata.widthOfString?n.metadata.widthOfString(t,i,r)/i:Y(V.apply(this,arguments))},X=function(t,e,i,n){for(var r=[],o=0,s=t.length,a=0;o!==s&&a+e[o]<i;)a+=e[o],o++;r.push(t.slice(0,o));var h=o;for(a=0;o!==s;)a+e[o]>n&&(r.push(t.slice(h,o)),a=0,h=o),a+=e[o],o++;return h!==o&&r.push(t.slice(h,o)),r},K=function(t,e,i){i||(i={});var n,r,o,s,a,h,l=[],d=[l],u=i.textIndent||0,c=0,f=0,p=t.split(" "),g=V.apply(this,[" ",i])[0];if(h=-1===i.lineIndent?p[0].length+2:i.lineIndent||0){var m=Array(h).join(" "),v=[];p.map(function(t){1<(t=t.split(/\s*\n/)).length?v=v.concat(t.map(function(t,e){return(e&&t.length?"\n":"")+t})):v.push(t[0])}),p=v,h=G.apply(this,[m,i])}for(o=0,s=p.length;o<s;o++){var y=0;if(n=p[o],h&&"\n"==n[0]&&(n=n.substr(1),y=1),r=V.apply(this,[n,i]),e<u+c+(f=Y(r))||y){if(e<f){for(a=X.apply(this,[n,r,e-(u+c),e]),l.push(a.shift()),l=[a.pop()];a.length;)d.push([a.shift()]);f=Y(r.slice(n.length-(l[0]?l[0].length:0)))}else l=[n];d.push(l),u=f+h,c=g}else l.push(n),u+=c+f,c=g}if(h)var b=function(t,e){return(e?m:"")+t.join(" ")};else b=function(t){return t.join(" ")};return d.map(b)},U.splitTextToSize=function(t,e,i){var n,r=(i=i||{}).fontSize||this.internal.getFontSize(),o=(function(t){if(t.widths&&t.kerning)return{widths:t.widths,kerning:t.kerning};var e=this.internal.getFont(t.fontName,t.fontStyle),i="Unicode";return e.metadata[i]?{widths:e.metadata[i].widths||{0:1},kerning:e.metadata[i].kerning||{}}:{font:e.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,i);n=Array.isArray(t)?t:t.split(/\r?\n/);var s=1*this.internal.scaleFactor*e/r;o.textIndent=i.textIndent?1*i.textIndent*this.internal.scaleFactor/r:0,o.lineIndent=i.lineIndent;var a,h,l=[];for(a=0,h=n.length;a<h;a++)l=l.concat(K.apply(this,[n[a],s,o]));return l},Z=ht.API,$={codePages:["WinAnsiEncoding"],WinAnsiEncoding:(Q=function(t){for(var e="klmnopqrstuvwxyz",i={},n=0;n<e.length;n++)i[e[n]]="0123456789abcdef"[n];var r,o,s,a,h,l={},d=1,u=l,c=[],f="",p="",g=t.length-1;for(n=1;n!=g;)h=t[n],n+=1,"'"==h?o=o?(a=o.join(""),r):[]:o?o.push(h):"{"==h?(c.push([u,a]),u={},a=r):"}"==h?((s=c.pop())[0][s[1]]=u,a=r,u=s[0]):"-"==h?d=-1:a===r?i.hasOwnProperty(h)?(f+=i[h],a=parseInt(f,16)*d,d=1,f=""):f+=h:i.hasOwnProperty(h)?(p+=i[h],u[a]=parseInt(p,16)*d,d=1,a=r,p=""):p+=h;return l})("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},J={Unicode:{Courier:$,"Courier-Bold":$,"Courier-BoldOblique":$,"Courier-Oblique":$,Helvetica:$,"Helvetica-Bold":$,"Helvetica-BoldOblique":$,"Helvetica-Oblique":$,"Times-Roman":$,"Times-Bold":$,"Times-BoldItalic":$,"Times-Italic":$}},tt={Unicode:{"Courier-Oblique":Q("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":Q("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":Q("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:Q("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":Q("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":Q("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:Q("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:Q("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":Q("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:Q("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":Q("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":Q("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":Q("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":Q("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}},Z.events.push(["addFont",function(t){var e,i,n,r=t.font,o="Unicode";(e=tt[o][r.postScriptName])&&((i=r.metadata[o]?r.metadata[o]:r.metadata[o]={}).widths=e.widths,i.kerning=e.kerning),(n=J[o][r.postScriptName])&&((i=r.metadata[o]?r.metadata[o]:r.metadata[o]={}).encoding=n).codePages&&n.codePages.length&&(r.encoding=n.codePages[0])}]),et=ht,"undefined"!=typeof self&&self||"undefined"!=typeof global&&global||"undefined"!=typeof window&&window||Function("return this")(),et.API.events.push(["addFont",function(t){var e=t.font,i=t.instance;if(void 0!==i&&i.existsFileInVFS(e.postScriptName)){var n=i.getFileFromVFS(e.postScriptName);if("string"!=typeof n)throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+e.postScriptName+"').");e.metadata=et.API.TTFFont.open(e.postScriptName,e.fontName,n,e.encoding),e.metadata.Unicode=e.metadata.Unicode||{encoding:{},kerning:{},widths:[]},e.metadata.glyIdsUsed=[0]}else if(!1===e.isStandardFont)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+e.postScriptName+"').")}]),(it=ht.API).addSvg=function(t,e,i,n,r){if(void 0===e||void 0===i)throw new Error("addSVG needs values for 'x' and 'y'");function o(t){for(var e=parseFloat(t[1]),i=parseFloat(t[2]),n=[],r=3,o=t.length;r<o;)"c"===t[r]?(n.push([parseFloat(t[r+1]),parseFloat(t[r+2]),parseFloat(t[r+3]),parseFloat(t[r+4]),parseFloat(t[r+5]),parseFloat(t[r+6])]),r+=7):"l"===t[r]?(n.push([parseFloat(t[r+1]),parseFloat(t[r+2])]),r+=3):r+=1;return[e,i,n]}var s,a,h,l,d,u,c,f=((a=((c=(h=document).createElement("iframe"),l=".jsPDF_sillysvg_iframe {display:none;position:absolute;}",(u=(d=h).createElement("style")).type="text/css",u.styleSheet?u.styleSheet.cssText=l:u.appendChild(d.createTextNode(l)),d.getElementsByTagName("head")[0].appendChild(u),c.name="childframe",c.setAttribute("width",0),c.setAttribute("height",0),c.setAttribute("frameborder","0"),c.setAttribute("scrolling","no"),c.setAttribute("seamless","seamless"),c.setAttribute("class","jsPDF_sillysvg_iframe"),h.body.appendChild(c),s=c).contentWindow||s.contentDocument).document).write(t),a.close(),a.getElementsByTagName("svg")[0]),p=[1,1],g=parseFloat(f.getAttribute("width")),m=parseFloat(f.getAttribute("height"));g&&m&&(n&&r?p=[n/g,r/m]:n?p=[n/g,n/g]:r&&(p=[r/m,r/m]));var v,y,b,w,x=f.childNodes;for(v=0,y=x.length;v<y;v++)(b=x[v]).tagName&&"PATH"===b.tagName.toUpperCase()&&((w=o(b.getAttribute("d").split(" ")))[0]=w[0]*p[0]+e,w[1]=w[1]*p[1]+i,this.lines.call(this,w[2],w[0],w[1],p));return this},it.addSVG=it.addSvg,it.addSvgAsImage=function(t,e,i,n,r,o,s,a){if(isNaN(e)||isNaN(i))throw console.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(r))throw console.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var h=document.createElement("canvas");h.width=n,h.height=r;var l=h.getContext("2d");return l.fillStyle="#fff",l.fillRect(0,0,h.width,h.height),canvg(h,t,{ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0,ignoreClear:!0}),this.addImage(h.toDataURL("image/jpeg",1),e,i,n,r,s,a),this},ht.API.putTotalPages=function(t){var e,i;i=parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var r=0;r<this.internal.pages[n].length;r++)this.internal.pages[n][r]=this.internal.pages[n][r].replace(e,i);return this},ht.API.viewerPreferences=function(e,i){var n;e=e||{},i=i||!1;var r,o,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(s),h=[],l=0,d=0,u=0,c=!0;function f(t,e){var i,n=!1;for(i=0;i<t.length;i+=1)t[i]===e&&(n=!0);return n}if(void 0===this.internal.viewerpreferences&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,"reset"===e||!0===i){var p=a.length;for(u=0;u<p;u+=1)n[a[u]].value=n[a[u]].defaultValue,n[a[u]].explicitSet=!1}if("object"===t(e))for(r in e)if(o=e[r],f(a,r)&&void 0!==o){if("boolean"===n[r].type&&"boolean"==typeof o)n[r].value=o;else if("name"===n[r].type&&f(n[r].valueSet,o))n[r].value=o;else if("integer"===n[r].type&&Number.isInteger(o))n[r].value=o;else if("array"===n[r].type){for(l=0;l<o.length;l+=1)if(c=!0,1===o[l].length&&"number"==typeof o[l][0])h.push(String(o[l]-1));else if(1<o[l].length){for(d=0;d<o[l].length;d+=1)"number"!=typeof o[l][d]&&(c=!1);!0===c&&h.push([o[l][0]-1,o[l][1]-1].join(" "))}n[r].value="["+h.join(" ")+"]"}else n[r].value=n[r].defaultValue;n[r].explicitSet=!0}return!1===this.internal.viewerpreferences.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){var t,e=[];for(t in n)!0===n[t].explicitSet&&e.push("name"===n[t].type?"/"+t+" /"+n[t].value:"/"+t+" "+n[t].value);0!==e.length&&this.internal.write("/ViewerPreferences\n<<\n"+e.join("\n")+"\n>>")}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},ot=rt=nt="",ht.API.addMetadata=function(t,e){return rt=e||"http://jspdf.default.namespaceuri/",nt=t,this.internal.events.subscribe("postPutResources",function(){if(nt){var t='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+rt+'"><jspdf:metadata>',e=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(t)),n=unescape(encodeURIComponent(nt)),r=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),o=unescape(encodeURIComponent("</x:xmpmeta>")),s=i.length+n.length+r.length+e.length+o.length;ot=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+s+" >>"),this.internal.write("stream"),this.internal.write(e+i+n+r+o),this.internal.write("endstream"),this.internal.write("endobj")}else ot=""}),this.internal.events.subscribe("putCatalog",function(){ot&&this.internal.write("/Metadata "+ot+" 0 R")}),this},function(t,e){var i=t.API,n=i.pdfEscape16=function(t,e){for(var i,n=e.metadata.Unicode.widths,r=["","0","00","000","0000"],o=[""],s=0,a=t.length;s<a;++s){if(i=e.metadata.characterToGlyph(t.charCodeAt(s)),e.metadata.glyIdsUsed.push(i),e.metadata.toUnicode[i]=t.charCodeAt(s),-1==n.indexOf(i)&&(n.push(i),n.push([parseInt(e.metadata.widthOfGlyph(i),10)])),"0"==i)return o.join("");i=i.toString(16),o.push(r[4-i.length],i)}return o.join("")},r=function(t){var e,i,n,r,o,s,a;for(o="/CIDInit /ProcSet findresource begin\n12 dict begin\nbegincmap\n/CIDSystemInfo <<\n  /Registry (Adobe)\n  /Ordering (UCS)\n  /Supplement 0\n>> def\n/CMapName /Adobe-Identity-UCS def\n/CMapType 2 def\n1 begincodespacerange\n<0000><ffff>\nendcodespacerange",n=[],s=0,a=(i=Object.keys(t).sort(function(t,e){return t-e})).length;s<a;s++)e=i[s],100<=n.length&&(o+="\n"+n.length+" beginbfchar\n"+n.join("\n")+"\nendbfchar",n=[]),r=("0000"+t[e].toString(16)).slice(-4),e=("0000"+(+e).toString(16)).slice(-4),n.push("<"+e+"><"+r+">");return n.length&&(o+="\n"+n.length+" beginbfchar\n"+n.join("\n")+"\nendbfchar\n"),o+"endcmap\nCMapName currentdict /CMap defineresource pop\nend\nend"};i.events.push(["putFont",function(e){!function(e,i,n,o){if(e.metadata instanceof t.API.TTFFont&&"Identity-H"===e.encoding){for(var s=e.metadata.Unicode.widths,a=e.metadata.subset.encode(e.metadata.glyIdsUsed,1),h="",l=0;l<a.length;l++)h+=String.fromCharCode(a[l]);var d=n();o({data:h,addLength1:!0}),i("endobj");var u=n();o({data:r(e.metadata.toUnicode),addLength1:!0}),i("endobj");var c=n();i("<<"),i("/Type /FontDescriptor"),i("/FontName /"+e.fontName),i("/FontFile2 "+d+" 0 R"),i("/FontBBox "+t.API.PDFObject.convert(e.metadata.bbox)),i("/Flags "+e.metadata.flags),i("/StemV "+e.metadata.stemV),i("/ItalicAngle "+e.metadata.italicAngle),i("/Ascent "+e.metadata.ascender),i("/Descent "+e.metadata.decender),i("/CapHeight "+e.metadata.capHeight),i(">>"),i("endobj");var f=n();i("<<"),i("/Type /Font"),i("/BaseFont /"+e.fontName),i("/FontDescriptor "+c+" 0 R"),i("/W "+t.API.PDFObject.convert(s)),i("/CIDToGIDMap /Identity"),i("/DW 1000"),i("/Subtype /CIDFontType2"),i("/CIDSystemInfo"),i("<<"),i("/Supplement 0"),i("/Registry (Adobe)"),i("/Ordering ("+e.encoding+")"),i(">>"),i(">>"),i("endobj"),e.objectNumber=n(),i("<<"),i("/Type /Font"),i("/Subtype /Type0"),i("/ToUnicode "+u+" 0 R"),i("/BaseFont /"+e.fontName),i("/Encoding /"+e.encoding),i("/DescendantFonts ["+f+" 0 R]"),i(">>"),i("endobj"),e.isAlreadyPutted=!0}}(e.font,e.out,e.newObject,e.putStream)}]),i.events.push(["putFont",function(e){!function(e,i,n,o){if(e.metadata instanceof t.API.TTFFont&&"WinAnsiEncoding"===e.encoding){for(var s=e.metadata.rawData,a="",h=0;h<s.length;h++)a+=String.fromCharCode(s[h]);var l=n();o({data:a,addLength1:!0}),i("endobj");var d=n();o({data:r(e.metadata.toUnicode),addLength1:!0}),i("endobj");var u=n();for(i("<<"),i("/Descent "+e.metadata.decender),i("/CapHeight "+e.metadata.capHeight),i("/StemV "+e.metadata.stemV),i("/Type /FontDescriptor"),i("/FontFile2 "+l+" 0 R"),i("/Flags 96"),i("/FontBBox "+t.API.PDFObject.convert(e.metadata.bbox)),i("/FontName /"+e.fontName),i("/ItalicAngle "+e.metadata.italicAngle),i("/Ascent "+e.metadata.ascender),i(">>"),i("endobj"),e.objectNumber=n(),h=0;h<e.metadata.hmtx.widths.length;h++)e.metadata.hmtx.widths[h]=parseInt(e.metadata.hmtx.widths[h]*(1e3/e.metadata.head.unitsPerEm));i("<</Subtype/TrueType/Type/Font/ToUnicode "+d+" 0 R/BaseFont/"+e.fontName+"/FontDescriptor "+u+" 0 R/Encoding/"+e.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(e.metadata.hmtx.widths)+">>"),i("endobj"),e.isAlreadyPutted=!0}}(e.font,e.out,e.newObject,e.putStream)}]);var o=function(t){var e,i,r=t.text||"",o=t.x,s=t.y,a=t.options||{},h=t.mutex||{},l=h.pdfEscape,d=h.activeFontKey,u=h.fonts,c="",f=0,p="",g=u[i=d].encoding;if("Identity-H"!==u[i].encoding)return{text:r,x:o,y:s,options:a,mutex:h};for(p=r,i=d,"[object Array]"===Object.prototype.toString.call(r)&&(p=r[0]),f=0;f<p.length;f+=1)u[i].metadata.hasOwnProperty("cmap")&&(e=u[i].metadata.cmap.unicode.codeMap[p[f].charCodeAt(0)]),e?c+=p[f]:p[f].charCodeAt(0)<256&&u[i].metadata.hasOwnProperty("Unicode")?c+=p[f]:c+="";var m="";return parseInt(i.slice(1))<14||"WinAnsiEncoding"===g?m=function(t){for(var e="",i=0;i<t.length;i++)e+=""+t.charCodeAt(i).toString(16);return e}(l(c,i)):"Identity-H"===g&&(m=n(c,u[i])),h.isHex=!0,{text:m,x:o,y:s,options:a,mutex:h}};i.events.push(["postProcessText",function(t){var e=t.text||"",i=[],n={text:e,x:t.x,y:t.y,options:t.options,mutex:t.mutex};if("[object Array]"===Object.prototype.toString.call(e)){var r=0;for(r=0;r<e.length;r+=1)"[object Array]"===Object.prototype.toString.call(e[r])&&3===e[r].length?i.push([o(Object.assign({},n,{text:e[r][0]})).text,e[r][1],e[r][2]]):i.push(o(Object.assign({},n,{text:e[r]})).text);t.text=i}else t.text=o(Object.assign({},n,{text:e})).text}])}(ht,"undefined"!=typeof self&&self||"undefined"!=typeof global&&global||"undefined"!=typeof window&&window||Function("return this")()),at=function(t){return void 0!==t&&(void 0===t.vFS&&(t.vFS={}),!0)},(st=ht.API).existsFileInVFS=function(t){return!!at(this.internal)&&void 0!==this.internal.vFS[t]},st.addFileToVFS=function(t,e){return at(this.internal),this.internal.vFS[t]=e,this},st.getFileFromVFS=function(t){return at(this.internal),void 0!==this.internal.vFS[t]?this.internal.vFS[t]:null},ht.API.addHTML=function(t,e,i,n,r){if("undefined"==typeof html2canvas&&"undefined"==typeof rasterizeHTML)throw new Error("You need either https://github.com/niklasvh/html2canvas or https://github.com/cburgmer/rasterizeHTML.js");"number"!=typeof e&&(n=e,r=i),"function"==typeof n&&(r=n,n=null),"function"!=typeof r&&(r=function(){});var o=this.internal,s=o.scaleFactor,a=o.pageSize.getWidth(),h=o.pageSize.getHeight();if((n=n||{}).onrendered=(function(t){e=parseInt(e)||0,i=parseInt(i)||0;var o=n.dim||{},l=Object.assign({top:0,right:0,bottom:0,left:0,useFor:"content"},n.margin),d=o.h||Math.min(h,t.height/s),u=o.w||Math.min(a,t.width/s)-e,c=n.format||"JPEG",f=n.imageCompression||"SLOW";if(t.height>h-l.top-l.bottom&&n.pagesplit){var p=function(t,e,i,r,o){var s=document.createElement("canvas");s.height=o,s.width=r;var a=s.getContext("2d");return a.mozImageSmoothingEnabled=!1,a.webkitImageSmoothingEnabled=!1,a.msImageSmoothingEnabled=!1,a.imageSmoothingEnabled=!1,a.fillStyle=n.backgroundColor||"#ffffff",a.fillRect(0,0,r,o),a.drawImage(t,e,i,r,o,0,0,r,o),s},g=(function(){for(var n,o,d=0,g=0,m={},v=!1;;){var y;if(g=0,m.top=0!==d?l.top:i,m.left=0!==d?l.left:e,v=(a-l.left-l.right)*s<t.width,"content"===l.useFor?0===d?(n=Math.min((a-l.left)*s,t.width),o=Math.min((h-l.top)*s,t.height-d)):(n=Math.min(a*s,t.width),o=Math.min(h*s,t.height-d),m.top=0):(n=Math.min((a-l.left-l.right)*s,t.width),o=Math.min((h-l.bottom-l.top)*s,t.height-d)),v)for(;;){"content"===l.useFor&&(0===g?n=Math.min((a-l.left)*s,t.width):(n=Math.min(a*s,t.width-g),m.left=0));var b=[y=p(t,g,d,n,o),m.left,m.top,y.width/s,y.height/s,c,null,f];if(this.addImage.apply(this,b),(g+=n)>=t.width)break;this.addPage()}else b=[y=p(t,0,d,n,o),m.left,m.top,y.width/s,y.height/s,c,null,f],this.addImage.apply(this,b);if((d+=o)>=t.height)break;this.addPage()}r(u,d,null,b)}).bind(this);if("CANVAS"===t.nodeName){var m=new Image;m.onload=g,m.src=t.toDataURL("image/png"),t=m}else g()}else{var v=Math.random().toString(35),y=[t,e,i,u,d,c,v,f];this.addImage.apply(this,y),r(u,d,v,y)}}).bind(this),"undefined"!=typeof html2canvas&&!n.rstz)return html2canvas(t,n);if("undefined"==typeof rasterizeHTML)return null;var l="drawDocument";return"string"==typeof t&&(l=/^http/.test(t)?"drawURL":"drawHTML"),n.width=n.width||a*s,rasterizeHTML[l](t,void 0,n).then(function(t){n.onrendered(t.image)},function(t){r(null,t)})},function(e){var i,n,r,o,s,a,h,l,d,u,c,f,p,g,m,v,y,b,w,x;i=function(){return function(e){return t.prototype=e,new t};function t(){}}(),u=function(t){var e,i,n,r,o,s,a;for(i=0,n=t.length,e=void 0,s=r=!1;!r&&i!==n;)(e=t[i]=t[i].trimLeft())&&(r=!0),i++;for(i=n-1;n&&!s&&-1!==i;)(e=t[i]=t[i].trimRight())&&(s=!0),i--;for(o=/\s+$/g,a=!0,i=0;i!==n;)"\u2028"!=t[i]&&(e=t[i].replace(/\s+/g," "),a&&(e=e.trimLeft()),e&&(a=o.test(e)),t[i]=e),i++;return t},f=function(t){var e,i,n;for(e=void 0,i=(n=t.split(",")).shift();!e&&i;)e=r[i.trim().toLowerCase()],i=n.shift();return e},p=function(t){var e;return-1<(t="auto"===t?"0px":t).indexOf("em")&&!isNaN(Number(t.replace("em","")))&&(t=18.719*Number(t.replace("em",""))+"px"),-1<t.indexOf("pt")&&!isNaN(Number(t.replace("pt","")))&&(t=1.333*Number(t.replace("pt",""))+"px"),(e=g[t])?e:void 0!==(e={"xx-small":9,"x-small":11,small:13,medium:16,large:19,"x-large":23,"xx-large":28,auto:0}[t])?g[t]=e/16:(e=parseFloat(t))?g[t]=e/16:(e=t.match(/([\d\.]+)(px)/),g[t]=Array.isArray(e)&&3===e.length?parseFloat(e[1])/16:1)},d=function(t){var e,i,n,r,d;return d=t,r=document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(d,null):d.currentStyle?d.currentStyle:d.style,i=void 0,(e={})["font-family"]=f((n=function(t){return t=t.replace(/-\D/g,function(t){return t.charAt(1).toUpperCase()}),r[t]})("font-family"))||"times",e["font-style"]=o[n("font-style")]||"normal",e["text-align"]=s[n("text-align")]||"left","bold"===(i=a[n("font-weight")]||"normal")&&(e["font-style"]="normal"===e["font-style"]?i:i+e["font-style"]),e["font-size"]=p(n("font-size"))||1,e["line-height"]=p(n("line-height"))||1,e.display="inline"===n("display")?"inline":"block",e["margin-top"]=(i="block"===e.display)&&p(n("margin-top"))||0,e["margin-bottom"]=i&&p(n("margin-bottom"))||0,e["padding-top"]=i&&p(n("padding-top"))||0,e["padding-bottom"]=i&&p(n("padding-bottom"))||0,e["margin-left"]=i&&p(n("margin-left"))||0,e["margin-right"]=i&&p(n("margin-right"))||0,e["padding-left"]=i&&p(n("padding-left"))||0,e["padding-right"]=i&&p(n("padding-right"))||0,e["page-break-before"]=n("page-break-before")||"auto",e.float=h[n("cssFloat")]||"none",e.clear=l[n("clear")]||"none",e.color=n("color"),e},m=function(t,e,i){var n,r,o,s,a;if(o=!1,s=r=void 0,n=i["#"+t.id])if("function"==typeof n)o=n(t,e);else for(r=0,s=n.length;!o&&r!==s;)o=n[r](t,e),r++;if(n=i[t.nodeName],!o&&n)if("function"==typeof n)o=n(t,e);else for(r=0,s=n.length;!o&&r!==s;)o=n[r](t,e),r++;for(a="string"==typeof t.className?t.className.split(" "):[],r=0;r<a.length;r++)if(n=i["."+a[r]],!o&&n)if("function"==typeof n)o=n(t,e);else for(r=0,s=n.length;!o&&r!==s;)o=n[r](t,e),r++;return o},x=function(t,e){var i,n,r,o,s,a,h,l,d;for(i=[],n=[],r=0,d=t.rows[0].cells.length,h=t.clientWidth;r<d;)n[r]={name:(l=t.rows[0].cells[r]).textContent.toLowerCase().replace(/\s+/g,""),prompt:l.textContent.replace(/\r?\n/g,""),width:l.clientWidth/h*e.pdf.internal.pageSize.getWidth()},r++;for(r=1;r<t.rows.length;){for(a=t.rows[r],s={},o=0;o<a.cells.length;)s[n[o].name]=a.cells[o].textContent.replace(/\r?\n/g,""),o++;i.push(s),r++}return{rows:i,headers:n}};var _={SCRIPT:1,STYLE:1,NOSCRIPT:1,OBJECT:1,EMBED:1,SELECT:1},k=1;n=function(e,r,o){var s,a,h,l,u,c,f,p;for(a=e.childNodes,s=void 0,(u="block"===(h=d(e)).display)&&(r.setBlockBoundary(),r.setBlockStyle(h)),l=0,c=a.length;l<c;){if("object"===t(s=a[l])){if(r.executeWatchFunctions(s),1===s.nodeType&&"HEADER"===s.nodeName){var g=s,y=r.pdf.margins_doc.top;r.pdf.internal.events.subscribe("addPage",function(t){r.y=y,n(g,r,o),r.pdf.margins_doc.top=r.y+10,r.y+=10},!1)}if(8===s.nodeType&&"#comment"===s.nodeName)~s.textContent.indexOf("ADD_PAGE")&&(r.pdf.addPage(),r.y=r.pdf.margins_doc.top);else if(1!==s.nodeType||_[s.nodeName])if(3===s.nodeType){var b=s.nodeValue;if(s.nodeValue&&"LI"===s.parentNode.nodeName)if("OL"===s.parentNode.parentNode.nodeName)b=k+++". "+b;else{var w=h["font-size"],S=(3-.75*w)*r.pdf.internal.scaleFactor,M=.75*w*r.pdf.internal.scaleFactor,C=1.74*w/r.pdf.internal.scaleFactor;p=function(t,e){this.pdf.circle(t+S,e+M,C,"FD")}}16&s.ownerDocument.body.compareDocumentPosition(s)&&r.addText(b,h)}else"string"==typeof s&&r.addText(s,h);else{var E;if("IMG"===s.nodeName){var N=s.getAttribute("src");E=v[r.pdf.sHashCode(N)||N]}if(E){r.pdf.internal.pageSize.getHeight()-r.pdf.margins_doc.bottom<r.y+s.height&&r.y>r.pdf.margins_doc.top&&(r.pdf.addPage(),r.y=r.pdf.margins_doc.top,r.executeWatchFunctions(s));var A=d(s),D=r.x,T=12/r.pdf.internal.scaleFactor,L=(A["margin-left"]+A["padding-left"])*T,O=(A["margin-right"]+A["padding-right"])*T,P=(A["margin-top"]+A["padding-top"])*T,I=(A["margin-bottom"]+A["padding-bottom"])*T;r.pdf.addImage(E,D+=void 0!==A.float&&"right"===A.float?r.settings.width-s.width-O:L,r.y+P,s.width,s.height),E=void 0,"right"===A.float||"left"===A.float?(r.watchFunctions.push((function(t,e,i,n){return r.y>=e?(r.x+=t,r.settings.width+=i,!0):!!(n&&1===n.nodeType&&!_[n.nodeName]&&r.x+n.width>r.pdf.margins_doc.left+r.pdf.margins_doc.width)&&(r.x+=t,r.y=e,r.settings.width+=i,!0)}).bind(this,"left"===A.float?-s.width-L-O:0,r.y+s.height+P+I,s.width)),r.watchFunctions.push((function(t,e,i){return!(r.y<t&&e===r.pdf.internal.getNumberOfPages())||1===i.nodeType&&"both"===d(i).clear&&(r.y=t,!0)}).bind(this,r.y+s.height,r.pdf.internal.getNumberOfPages())),r.settings.width-=s.width+L+O,"left"===A.float&&(r.x+=s.width+L+O)):r.y+=s.height+P+I}else if("TABLE"===s.nodeName)f=x(s,r),r.y+=10,r.pdf.table(r.x,r.y,f.rows,f.headers,{autoSize:!1,printHeaders:o.printHeaders,margins:r.pdf.margins_doc,css:d(s)}),r.y=r.pdf.lastCellPos.y+r.pdf.lastCellPos.h+20;else if("OL"===s.nodeName||"UL"===s.nodeName)k=1,m(s,r,o)||n(s,r,o),r.y+=10;else if("LI"===s.nodeName){var B=r.x;r.x+=20/r.pdf.internal.scaleFactor,r.y+=3,m(s,r,o)||n(s,r,o),r.x=B}else"BR"===s.nodeName?(r.y+=h["font-size"]*r.pdf.internal.scaleFactor,r.addText("\u2028",i(h))):m(s,r,o)||n(s,r,o)}}l++}if(o.outY=r.y,u)return r.setBlockBoundary(p)},v={},y=function(t,e,i,n){var r,o=t.getElementsByTagName("img"),s=o.length,a=0;function h(){e.pdf.internal.events.publish("imagesLoaded"),n(r)}function l(t,i,n){if(t){var o=new Image;r=++a,o.crossOrigin="",o.onerror=o.onload=function(){if(o.complete&&(0===o.src.indexOf("data:image/")&&(o.width=i||o.width||0,o.height=n||o.height||0),o.width+o.height)){var r=e.pdf.sHashCode(t)||t;v[r]=v[r]||o}--a||h()},o.src=t}}for(;s--;)l(o[s].getAttribute("src"),o[s].width,o[s].height);return a||h()},b=function(t,e,i){var r=t.getElementsByTagName("footer");if(0<r.length){r=r[0];var o=e.pdf.internal.write,s=e.y;e.pdf.internal.write=function(){},n(r,e,i);var a=Math.ceil(e.y-s)+5;e.y=s,e.pdf.internal.write=o,e.pdf.margins_doc.bottom+=a;for(var h=function(t){var o=void 0!==t?t.pageNumber:1,s=e.y;e.y=e.pdf.internal.pageSize.getHeight()-e.pdf.margins_doc.bottom,e.pdf.margins_doc.bottom-=a;for(var h=r.getElementsByTagName("span"),l=0;l<h.length;++l)-1<(" "+h[l].className+" ").replace(/[\n\t]/g," ").indexOf(" pageCounter ")&&(h[l].innerHTML=o),-1<(" "+h[l].className+" ").replace(/[\n\t]/g," ").indexOf(" totalPages ")&&(h[l].innerHTML="###jsPDFVarTotalPages###");n(r,e,i),e.pdf.margins_doc.bottom+=a,e.y=s},l=r.getElementsByTagName("span"),d=0;d<l.length;++d)-1<(" "+l[d].className+" ").replace(/[\n\t]/g," ").indexOf(" totalPages ")&&e.pdf.internal.events.subscribe("htmlRenderingFinished",e.pdf.putTotalPages.bind(e.pdf,"###jsPDFVarTotalPages###"),!0);e.pdf.internal.events.subscribe("addPage",h,!1),h(),_.FOOTER=1}},w=function(t,e,i,r,o,s){if(!e)return!1;var a,h,l,d;"string"==typeof e||e.parentNode||(e=""+e.innerHTML),"string"==typeof e&&(a=e.replace(/<\/?script[^>]*?>/gi,""),d="jsPDFhtmlText"+Date.now().toString()+(1e3*Math.random()).toFixed(0),(l=document.createElement("div")).style.cssText="position: absolute !important;clip: rect(1px 1px 1px 1px); /* IE6, IE7 */clip: rect(1px, 1px, 1px, 1px);padding:0 !important;border:0 !important;height: 1px !important;width: 1px !important; top:auto;left:-100px;overflow: hidden;",l.innerHTML='<iframe style="height:1px;width:1px" name="'+d+'" />',document.body.appendChild(l),(h=window.frames[d]).document.open(),h.document.writeln(a),h.document.close(),e=h.document.body);var u,f=new c(t,i,r,o);return y.call(this,e,f,o.elementHandlers,function(t){b(e,f,o.elementHandlers),n(e,f,o.elementHandlers),f.pdf.internal.events.publish("htmlRenderingFinished"),u=f.dispose(),"function"==typeof s?s(u):t&&console.error("jsPDF Warning: rendering issues? provide a callback to fromHTML!")}),u||{x:f.x,y:f.y}},(c=function(t,e,i,n){return this.pdf=t,this.x=e,this.y=i,this.settings=n,this.watchFunctions=[],this.init(),this}).prototype.init=function(){return this.paragraph={text:[],style:[]},this.pdf.internal.write("q")},c.prototype.dispose=function(){return this.pdf.internal.write("Q"),{x:this.x,y:this.y,ready:!0}},c.prototype.executeWatchFunctions=function(t){var e=!1,i=[];if(0<this.watchFunctions.length){for(var n=0;n<this.watchFunctions.length;++n)!0===this.watchFunctions[n](t)?e=!0:i.push(this.watchFunctions[n]);this.watchFunctions=i}return e},c.prototype.splitFragmentsIntoLines=function(t,e){var n,r,o,s,a,h,l,d,u,c,f,p,g,m;for(c=this.pdf.internal.scaleFactor,s={},h=l=d=m=a=o=u=r=void 0,p=[f=[]],n=0,g=this.settings.width;t.length;)if(a=t.shift(),m=e.shift(),a)if((o=s[(r=m["font-family"])+(u=m["font-style"])])||(o=this.pdf.internal.getFont(r,u).metadata.Unicode,s[r+u]=o),l=this.pdf.getStringUnitWidth(a,d={widths:o.widths,kerning:o.kerning,fontSize:12*m["font-size"],textIndent:n})*d.fontSize/c,"\u2028"==a)p.push(f=[]);else if(g<n+l){for(h=this.pdf.splitTextToSize(a,g,d),f.push([h.shift(),m]);h.length;)f=[[h.shift(),m]],p.push(f);n=this.pdf.getStringUnitWidth(f[0][0],d)*d.fontSize/c}else f.push([a,m]),n+=l;if(void 0!==m["text-align"]&&("center"===m["text-align"]||"right"===m["text-align"]||"justify"===m["text-align"]))for(var v=0;v<p.length;++v){var y=this.pdf.getStringUnitWidth(p[v][0][0],d)*d.fontSize/c;0<v&&(p[v][0][1]=i(p[v][0][1]));var b=g-y;if("right"===m["text-align"])p[v][0][1]["margin-left"]=b;else if("center"===m["text-align"])p[v][0][1]["margin-left"]=b/2;else if("justify"===m["text-align"]){var w=p[v][0][0].split(" ").length-1;p[v][0][1]["word-spacing"]=b/w,v===p.length-1&&(p[v][0][1]["word-spacing"]=0)}}return p},c.prototype.RenderTextFragment=function(t,e){var i,n;n=0,this.pdf.internal.pageSize.getHeight()-this.pdf.margins_doc.bottom<this.y+this.pdf.internal.getFontSize()&&(this.pdf.internal.write("ET","Q"),this.pdf.addPage(),this.y=this.pdf.margins_doc.top,this.pdf.internal.write("q","BT",this.getPdfColor(e.color),this.pdf.internal.getCoordinateString(this.x),this.pdf.internal.getVerticalCoordinateString(this.y),"Td"),n=Math.max(n,e["line-height"],e["font-size"]),this.pdf.internal.write(0,(-12*n).toFixed(2),"Td")),i=this.pdf.internal.getFont(e["font-family"],e["font-style"]);var r=this.getPdfColor(e.color);r!==this.lastTextColor&&(this.pdf.internal.write(r),this.lastTextColor=r),void 0!==e["word-spacing"]&&0<e["word-spacing"]&&this.pdf.internal.write(e["word-spacing"].toFixed(2),"Tw"),this.pdf.internal.write("/"+i.id,(12*e["font-size"]).toFixed(2),"Tf","("+this.pdf.internal.pdfEscape(t)+") Tj"),void 0!==e["word-spacing"]&&this.pdf.internal.write(0,"Tw")},c.prototype.getPdfColor=function(t){var e,i,n,r=/rgb\s*\(\s*(\d+),\s*(\d+),\s*(\d+\s*)\)/.exec(t);if(null!=r)e=parseInt(r[1]),i=parseInt(r[2]),n=parseInt(r[3]);else{if("string"==typeof t&&"#"!=t.charAt(0)){var o=new RGBColor(t);t=o.ok?o.toHex():"#000000"}e=t.substring(1,3),e=parseInt(e,16),i=t.substring(3,5),i=parseInt(i,16),n=t.substring(5,7),n=parseInt(n,16)}if("string"==typeof e&&/^#[0-9A-Fa-f]{6}$/.test(e)){var s=parseInt(e.substr(1),16);e=s>>16&255,i=s>>8&255,n=255&s}var a=this.f3;return 0===e&&0===i&&0===n||void 0===i?a(e/255)+" g":[a(e/255),a(i/255),a(n/255),"rg"].join(" ")},c.prototype.f3=function(t){return t.toFixed(3)},c.prototype.renderParagraph=function(t){var e,i,n,r,o,s,a,h,l,d,c,f,p;if(n=u(this.paragraph.text),f=this.paragraph.style,this.paragraph={text:[],style:[],blockstyle:{},priorblockstyle:e=this.paragraph.blockstyle},n.join("").trim()){a=this.splitFragmentsIntoLines(n,f),h=s=void 0,i=12/this.pdf.internal.scaleFactor,this.priorMarginBottom=this.priorMarginBottom||0,c=(Math.max((e["margin-top"]||0)-this.priorMarginBottom,0)+(e["padding-top"]||0))*i,d=((e["margin-bottom"]||0)+(e["padding-bottom"]||0))*i,this.priorMarginBottom=e["margin-bottom"]||0,"always"===e["page-break-before"]&&(this.pdf.addPage(),this.y=0,c=((e["margin-top"]||0)+(e["padding-top"]||0))*i),l=this.pdf.internal.write,o=r=void 0,this.y+=c,l("q","BT 0 g",this.pdf.internal.getCoordinateString(this.x),this.pdf.internal.getVerticalCoordinateString(this.y),"Td");for(var g=0;a.length;){for(r=h=0,o=(s=a.shift()).length;r!==o;)s[r][0].trim()&&(h=Math.max(h,s[r][1]["line-height"],s[r][1]["font-size"]),p=7*s[r][1]["font-size"]),r++;var m=0,v=0;for(void 0!==s[0][1]["margin-left"]&&0<s[0][1]["margin-left"]&&(m=(v=this.pdf.internal.getCoordinateString(s[0][1]["margin-left"]))-g,g=v),l(m+Math.max(e["margin-left"]||0,0)*i,(-12*h).toFixed(2),"Td"),r=0,o=s.length;r!==o;)s[r][0]&&this.RenderTextFragment(s[r][0],s[r][1]),r++;if(this.y+=h*i,this.executeWatchFunctions(s[0][1])&&0<a.length){var y=[],b=[];a.forEach(function(t){for(var e=0,i=t.length;e!==i;)t[e][0]&&(y.push(t[e][0]+" "),b.push(t[e][1])),++e}),a=this.splitFragmentsIntoLines(u(y),b),l("ET","Q"),l("q","BT 0 g",this.pdf.internal.getCoordinateString(this.x),this.pdf.internal.getVerticalCoordinateString(this.y),"Td")}}return t&&"function"==typeof t&&t.call(this,this.x-9,this.y-p/2),l("ET","Q"),this.y+=d}},c.prototype.setBlockBoundary=function(t){return this.renderParagraph(t)},c.prototype.setBlockStyle=function(t){return this.paragraph.blockstyle=t},c.prototype.addText=function(t,e){return this.paragraph.text.push(t),this.paragraph.style.push(e)},r={helvetica:"helvetica","sans-serif":"helvetica","times new roman":"times",serif:"times",times:"times",monospace:"courier",courier:"courier"},a={100:"normal",200:"normal",300:"normal",400:"normal",500:"bold",600:"bold",700:"bold",800:"bold",900:"bold",normal:"normal",bold:"bold",bolder:"bold",lighter:"normal"},o={normal:"normal",italic:"italic",oblique:"italic"},s={left:"left",right:"right",center:"center",justify:"justify"},h={none:"none",right:"right",left:"left"},l={none:"none",both:"both"},g={normal:1},e.fromHTML=function(t,e,i,n,r,o){return this.margins_doc=o||{top:0,bottom:0},n||(n={}),n.elementHandlers||(n.elementHandlers={}),w(this,t,isNaN(e)?4:e,isNaN(i)?4:i,n,r)}}(ht.API),("undefined"!=typeof window&&window||"undefined"!=typeof global&&global).html2pdf=function(t,e,i){var n=e.canvas;if(n){var r,o;if((n.pdf=e).annotations={_nameMap:[],createAnnotation:function(t,i){var n,r=e.context2d._wrapX(i.left),o=e.context2d._wrapY(i.top),s=(e.context2d._page(i.top),t.indexOf("#"));n=0<=s?{name:t.substring(s+1)}:{url:t},e.link(r,o,i.right-i.left,i.bottom-i.top,n)},setName:function(t,i){var n=e.context2d._wrapX(i.left),r=e.context2d._wrapY(i.top),o=e.context2d._page(i.top);this._nameMap[t]={page:o,x:n,y:r}}},n.annotations=e.annotations,e.context2d._pageBreakAt=function(t){this.pageBreaks.push(t)},e.context2d._gotoPage=function(t){for(;e.internal.getNumberOfPages()<t;)e.addPage();e.setPage(t)},"string"==typeof t){t=t.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,"");var s,a,h=document.createElement("iframe");document.body.appendChild(h),null!=(s=h.contentDocument)&&null!=s||(s=h.contentWindow.document),s.open(),s.write(t),s.close(),r=s.body,a=s.body||{},t=s.documentElement||{},o=Math.max(a.scrollHeight,a.offsetHeight,t.clientHeight,t.scrollHeight,t.offsetHeight)}else a=(r=t).body||{},o=Math.max(a.scrollHeight,a.offsetHeight,t.clientHeight,t.scrollHeight,t.offsetHeight);var l={async:!0,allowTaint:!0,backgroundColor:"#ffffff",canvas:n,imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1,windowHeight:o=e.internal.pageSize.getHeight(),scrollY:o};e.context2d.pageWrapYEnabled=!0,e.context2d.pageWrapY=e.internal.pageSize.getHeight(),html2canvas(r,l).then(function(t){i&&(h&&h.parentElement.removeChild(h),i(e))})}else alert("jsPDF canvas plugin not installed")},window.tmp=html2pdf,function(t){var e=t.BlobBuilder||t.WebKitBlobBuilder||t.MSBlobBuilder||t.MozBlobBuilder;t.URL=t.URL||t.webkitURL||function(t,e){return(e=document.createElement("a")).href=t,e};var i=t.Blob,n=URL.createObjectURL,r=URL.revokeObjectURL,o=t.Symbol&&t.Symbol.toStringTag,s=!1,a=!1,h=!!t.ArrayBuffer,l=e&&e.prototype.append&&e.prototype.getBlob;try{s=2===new Blob(["ä"]).size,a=2===new Blob([new Uint8Array([1,2])]).size}catch(s){}function d(t){return t.map(function(t){if(t.buffer instanceof ArrayBuffer){var e=t.buffer;if(t.byteLength!==e.byteLength){var i=new Uint8Array(t.byteLength);i.set(new Uint8Array(e,t.byteOffset,t.byteLength)),e=i.buffer}return e}return t})}function u(t,i){i=i||{};var n=new e;return d(t).forEach(function(t){n.append(t)}),i.type?n.getBlob(i.type):n.getBlob()}function c(t,e){return new i(d(t),e||{})}if(t.Blob&&(u.prototype=Blob.prototype,c.prototype=Blob.prototype),o)try{File.prototype[o]="File",Blob.prototype[o]="Blob",FileReader.prototype[o]="FileReader"}catch(s){}function f(){var e=!!t.ActiveXObject||"-ms-scroll-limit"in document.documentElement.style&&"-ms-ime-align"in document.documentElement.style,i=t.XMLHttpRequest&&t.XMLHttpRequest.prototype.send;e&&i&&(XMLHttpRequest.prototype.send=function(t){t instanceof Blob&&this.setRequestHeader("Content-Type",t.type),i.call(this,t)});try{new File([],"")}catch(e){try{var n=new Function('class File extends Blob {constructor(chunks, name, opts) {opts = opts || {};super(chunks, opts || {});this.name = name;this.lastModifiedDate = opts.lastModified ? new Date(opts.lastModified) : new Date;this.lastModified = +this.lastModifiedDate;}};return new File([], ""), File')();t.File=n}catch(e){t.File=n=function(t,e,i){var n=new Blob(t,i),r=i&&void 0!==i.lastModified?new Date(i.lastModified):new Date;return n.name=e,n.lastModifiedDate=r,n.lastModified=+r,n.toString=function(){return"[object File]"},o&&(n[o]="File"),n}}}}s?(f(),t.Blob=a?t.Blob:c):l?(f(),t.Blob=u):function(){function e(t){for(var e=[],i=0;i<t.length;i++){var n=t.charCodeAt(i);n<128?e.push(n):n<2048?e.push(192|n>>6,128|63&n):n<55296||57344<=n?e.push(224|n>>12,128|n>>6&63,128|63&n):(n=65536+((1023&n)<<10|1023&t.charCodeAt(++i)),e.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|63&n))}return e}function i(t){var e,i,n,r,o,s;for(e="",n=t.length,i=0;i<n;)switch((r=t[i++])>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:e+=String.fromCharCode(r);break;case 12:case 13:o=t[i++],e+=String.fromCharCode((31&r)<<6|63&o);break;case 14:o=t[i++],s=t[i++],e+=String.fromCharCode((15&r)<<12|(63&o)<<6|(63&s)<<0)}return e}function o(t){for(var e=new Array(t.byteLength),i=new Uint8Array(t),n=e.length;n--;)e[n]=i[n];return e}function s(t){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=[],n=0;n<t.length;n+=3){var r=t[n],o=n+1<t.length,s=o?t[n+1]:0,a=n+2<t.length,h=a?t[n+2]:0,l=(15&s)<<2|h>>6,d=63&h;a||(d=64,o||(l=64)),i.push(e[r>>2],e[(3&r)<<4|s>>4],e[l],e[d])}return i.join("")}var a=Object.create||function(t){function e(){}return e.prototype=t,new e};if(h)var l=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],d=ArrayBuffer.isView||function(t){return t&&-1<l.indexOf(Object.prototype.toString.call(t))};function u(t,i){for(var n=0,r=(t=t||[]).length;n<r;n++){var s=t[n];t[n]=s instanceof u?s._buffer:"string"==typeof s?e(s):h&&(ArrayBuffer.prototype.isPrototypeOf(s)||d(s))?o(s):h&&(a=s)&&DataView.prototype.isPrototypeOf(a)?o(s.buffer):e(String(s))}var a;this._buffer=[].concat.apply([],t),this.size=this._buffer.length,this.type=i&&i.type||""}function c(t,e,i){var n=u.call(this,t,i=i||{})||this;return n.name=e,n.lastModifiedDate=i.lastModified?new Date(i.lastModified):new Date,n.lastModified=+n.lastModifiedDate,n}if(u.prototype.slice=function(t,e,i){return new u([this._buffer.slice(t||0,e||this._buffer.length)],{type:i})},u.prototype.toString=function(){return"[object Blob]"},(c.prototype=a(u.prototype)).constructor=c,Object.setPrototypeOf)Object.setPrototypeOf(c,u);else try{c.__proto__=u}catch(a){}function f(){if(!(this instanceof f))throw new TypeError("Failed to construct 'FileReader': Please use the 'new' operator, this DOM object constructor cannot be called as a function.");var t=document.createDocumentFragment();this.addEventListener=t.addEventListener,this.dispatchEvent=function(e){var i=this["on"+e.type];"function"==typeof i&&i(e),t.dispatchEvent(e)},this.removeEventListener=t.removeEventListener}function p(t,e,i){if(!(e instanceof u))throw new TypeError("Failed to execute '"+i+"' on 'FileReader': parameter 1 is not of type 'Blob'.");t.result="",setTimeout(function(){this.readyState=f.LOADING,t.dispatchEvent(new Event("load")),t.dispatchEvent(new Event("loadend"))})}c.prototype.toString=function(){return"[object File]"},f.EMPTY=0,f.LOADING=1,f.DONE=2,f.prototype.error=null,f.prototype.onabort=null,f.prototype.onerror=null,f.prototype.onload=null,f.prototype.onloadend=null,f.prototype.onloadstart=null,f.prototype.onprogress=null,f.prototype.readAsDataURL=function(t){p(this,t,"readAsDataURL"),this.result="data:"+t.type+";base64,"+s(t._buffer)},f.prototype.readAsText=function(t){p(this,t,"readAsText"),this.result=i(t._buffer)},f.prototype.readAsArrayBuffer=function(t){p(this,t,"readAsText"),this.result=t._buffer.slice()},f.prototype.abort=function(){},URL.createObjectURL=function(t){return t instanceof u?"data:"+t.type+";base64,"+s(t._buffer):n.call(URL,t)},URL.revokeObjectURL=function(t){r&&r.call(URL,t)};var g=t.XMLHttpRequest&&t.XMLHttpRequest.prototype.send;g&&(XMLHttpRequest.prototype.send=function(t){t instanceof u?(this.setRequestHeader("Content-Type",t.type),g.call(this,i(t._buffer))):g.call(this,t)}),t.FileReader=f,t.File=c,t.Blob=u}()}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||"undefined"!=typeof global&&global||Function('return typeof this === "object" && this.content')()||Function("return this")());var lt,dt,ut,ct,ft,pt,gt,mt,vt,yt,bt,wt,xt,_t,kt,St=St||function(t){if(!(void 0===t||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var e=function(){return t.URL||t.webkitURL||t},i=t.document.createElementNS("http://www.w3.org/1999/xhtml","a"),n="download"in i,r=/constructor/i.test(t.HTMLElement)||t.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent),s=t.setImmediate||t.setTimeout,a=function(t){s(function(){throw t},0)},h=function(t){setTimeout(function(){"string"==typeof t?e().revokeObjectURL(t):t.remove()},4e4)},l=function(t){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob([String.fromCharCode(65279),t],{type:t.type}):t},d=function(d,u,c){c||(d=l(d));var f,p=this,g="application/octet-stream"===d.type,m=function(){!function(t,e,i){for(var n=(e=[].concat(e)).length;n--;){var r=t["on"+e[n]];if("function"==typeof r)try{r.call(t,t)}catch(t){a(t)}}}(p,"writestart progress write writeend".split(" "))};if(p.readyState=p.INIT,n)return f=e().createObjectURL(d),void s(function(){var t,e;i.href=f,i.download=u,t=i,e=new MouseEvent("click"),t.dispatchEvent(e),m(),h(f),p.readyState=p.DONE},0);!function(){if((o||g&&r)&&t.FileReader){var i=new FileReader;return i.onloadend=function(){var e=o?i.result:i.result.replace(/^data:[^;]*;/,"data:attachment/file;");t.open(e,"_blank")||(t.location.href=e),e=void 0,p.readyState=p.DONE,m()},i.readAsDataURL(d),p.readyState=p.INIT}f||(f=e().createObjectURL(d)),g?t.location.href=f:t.open(f,"_blank")||(t.location.href=f),p.readyState=p.DONE,m(),h(f)}()},u=d.prototype;return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(t,e,i){return e=e||t.name||"download",i||(t=l(t)),navigator.msSaveOrOpenBlob(t,e)}:(u.abort=function(){},u.readyState=u.INIT=0,u.WRITING=1,u.DONE=2,u.error=u.onwritestart=u.onprogress=u.onwrite=u.onabort=u.onerror=u.onwriteend=null,function(t,e,i){return new d(t,e||t.name||"download",i)})}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||void 0);function Mt(t){var e=0;if(71!==t[e++]||73!==t[e++]||70!==t[e++]||56!==t[e++]||56!=(t[e++]+1&253)||97!==t[e++])throw"Invalid GIF 87a/89a header.";var i=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,r=t[e++];e++,e++;var o=null;r>>7&&(o=e,e+=3*(1<<1+(7&r)));var s=!0,a=[],h=0,l=null,d=0,u=null;for(this.width=i,this.height=n;s&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(11!==t[e]||78==t[e+1]&&69==t[e+2]&&84==t[e+3]&&83==t[e+4]&&67==t[e+5]&&65==t[e+6]&&80==t[e+7]&&69==t[e+8]&&50==t[e+9]&&46==t[e+10]&&48==t[e+11]&&3==t[e+12]&&1==t[e+13]&&0==t[e+16])e+=14,u=t[e++]|t[e++]<<8,e++;else for(e+=12;0!==(_=t[e++]);)e+=_;break;case 249:if(4!==t[e++]||0!==t[e+4])throw"Invalid graphics extension block.";var c=t[e++];h=t[e++]|t[e++]<<8,l=t[e++],0==(1&c)&&(l=null),d=c>>2&7,e++;break;case 254:for(;0!==(_=t[e++]);)e+=_;break;default:throw"Unknown graphic control label: 0x"+t[e-1].toString(16)}break;case 44:var f=t[e++]|t[e++]<<8,p=t[e++]|t[e++]<<8,g=t[e++]|t[e++]<<8,m=t[e++]|t[e++]<<8,v=t[e++],y=v>>6&1,b=o,w=!1;v>>7&&(w=!0,b=e,e+=3*(1<<1+(7&v)));var x=e;for(e++;;){var _;if(0===(_=t[e++]))break;e+=_}a.push({x:f,y:p,width:g,height:m,has_local_palette:w,palette_offset:b,data_offset:x,data_length:e-x,transparent_index:l,interlaced:!!y,delay:h,disposal:d});break;case 59:s=!1;break;default:throw"Unknown gif block: 0x"+t[e-1].toString(16)}this.numFrames=function(){return a.length},this.loopCount=function(){return u},this.frameInfo=function(t){if(t<0||t>=a.length)throw"Frame index out of range.";return a[t]},this.decodeAndBlitFrameBGRA=function(e,n){var r=this.frameInfo(e),o=r.width*r.height,s=new Uint8Array(o);Ct(t,r.data_offset,s,o);var a=r.palette_offset,h=r.transparent_index;null===h&&(h=256);var l=r.width,d=i-l,u=l,c=4*(r.y*i+r.x),f=4*((r.y+r.height)*i+r.x),p=c,g=4*d;!0===r.interlaced&&(g+=4*(l+d)*7);for(var m=8,v=0,y=s.length;v<y;++v){var b=s[v];if(0===u&&(u=l,f<=(p+=g)&&(g=d+4*(l+d)*(m-1),p=c+(l+d)*(m<<1),m>>=1)),b===h)p+=4;else{var w=t[a+3*b],x=t[a+3*b+1];n[p++]=t[a+3*b+2],n[p++]=x,n[p++]=w,n[p++]=255}--u}},this.decodeAndBlitFrameRGBA=function(e,n){var r=this.frameInfo(e),o=r.width*r.height,s=new Uint8Array(o);Ct(t,r.data_offset,s,o);var a=r.palette_offset,h=r.transparent_index;null===h&&(h=256);var l=r.width,d=i-l,u=l,c=4*(r.y*i+r.x),f=4*((r.y+r.height)*i+r.x),p=c,g=4*d;!0===r.interlaced&&(g+=4*(l+d)*7);for(var m=8,v=0,y=s.length;v<y;++v){var b=s[v];if(0===u&&(u=l,f<=(p+=g)&&(g=d+4*(l+d)*(m-1),p=c+(l+d)*(m<<1),m>>=1)),b===h)p+=4;else{var w=t[a+3*b+1],x=t[a+3*b+2];n[p++]=t[a+3*b],n[p++]=w,n[p++]=x,n[p++]=255}--u}}}function Ct(t,e,i,n){for(var r=t[e++],o=1<<r,s=o+1,a=s+1,h=r+1,l=(1<<h)-1,d=0,u=0,c=0,f=t[e++],p=new Int32Array(4096),g=null;;){for(;d<16&&0!==f;)u|=t[e++]<<d,d+=8,1===f?f=t[e++]:--f;if(d<h)break;var m=u&l;if(u>>=h,d-=h,m!==o){if(m===s)break;for(var v=m<a?m:g,y=0,b=v;o<b;)b=p[b]>>8,++y;var w=b;if(n<c+y+(v!==m?1:0))return void console.log("Warning, gif stream longer than expected.");i[c++]=w;var x=c+=y;for(v!==m&&(i[c++]=w),b=v;y--;)i[--x]=255&(b=p[b]),b>>=8;null!==g&&a<4096&&(p[a++]=g<<8|w,l+1<=a&&h<12&&(++h,l=l<<1|1)),g=m}else a=s+1,l=(1<<(h=r+1))-1,g=null}return c!==n&&console.log("Warning, gif stream shorter than expected."),i}try{exports.GifWriter=function(t,e,i,n){var r=0,o=void 0===(n=void 0===n?{}:n).loop?null:n.loop,s=void 0===n.palette?null:n.palette;if(e<=0||i<=0||65535<e||65535<i)throw"Width/Height invalid.";function a(t){var e=t.length;if(e<2||256<e||e&e-1)throw"Invalid code/color length, must be power of 2 and 2 .. 256.";return e}t[r++]=71,t[r++]=73,t[r++]=70,t[r++]=56,t[r++]=57,t[r++]=97;var h=0,l=0;if(null!==s){for(var d=a(s);d>>=1;)++h;if(d=1<<h,--h,void 0!==n.background){if(d<=(l=n.background))throw"Background index out of range.";if(0===l)throw"Background index explicitly passed as 0."}}if(t[r++]=255&e,t[r++]=e>>8&255,t[r++]=255&i,t[r++]=i>>8&255,t[r++]=(null!==s?128:0)|h,t[r++]=l,t[r++]=0,null!==s)for(var u=0,c=s.length;u<c;++u){var f=s[u];t[r++]=f>>16&255,t[r++]=f>>8&255,t[r++]=255&f}if(null!==o){if(o<0||65535<o)throw"Loop count invalid.";t[r++]=33,t[r++]=255,t[r++]=11,t[r++]=78,t[r++]=69,t[r++]=84,t[r++]=83,t[r++]=67,t[r++]=65,t[r++]=80,t[r++]=69,t[r++]=50,t[r++]=46,t[r++]=48,t[r++]=3,t[r++]=1,t[r++]=255&o,t[r++]=o>>8&255,t[r++]=0}var p=!1;this.addFrame=function(e,i,n,o,h,l){if(!0===p&&(--r,p=!1),e<0||i<0||65535<e||65535<i)throw"x/y invalid.";if(n<=0||o<=0||65535<n||65535<o)throw"Width/Height invalid.";if(h.length<n*o)throw"Not enough pixels for the frame size.";var d=!0,u=(l=void 0===l?{}:l).palette;if(null==u&&(d=!1,u=s),null==u)throw"Must supply either a local or global palette.";for(var c=a(u),f=0;c>>=1;)++f;c=1<<f;var g=void 0===l.delay?0:l.delay,m=void 0===l.disposal?0:l.disposal;if(m<0||3<m)throw"Disposal out of range.";var v=!1,y=0;if(null!=l.transparent&&(v=!0,(y=l.transparent)<0||c<=y))throw"Transparent color index.";if((0!==m||v||0!==g)&&(t[r++]=33,t[r++]=249,t[r++]=4,t[r++]=m<<2|(!0===v?1:0),t[r++]=255&g,t[r++]=g>>8&255,t[r++]=y,t[r++]=0),t[r++]=44,t[r++]=255&e,t[r++]=e>>8&255,t[r++]=255&i,t[r++]=i>>8&255,t[r++]=255&n,t[r++]=n>>8&255,t[r++]=255&o,t[r++]=o>>8&255,t[r++]=!0===d?128|f-1:0,!0===d)for(var b=0,w=u.length;b<w;++b){var x=u[b];t[r++]=x>>16&255,t[r++]=x>>8&255,t[r++]=255&x}r=function(t,e,i,n){t[e++]=i;var r=e++,o=1<<i,s=o-1,a=o+1,h=a+1,l=i+1,d=0,u=0;function c(i){for(;i<=d;)t[e++]=255&u,u>>=8,d-=8,e===r+256&&(t[r]=255,r=e++)}function f(t){u|=t<<d,d+=l,c(8)}var p=n[0]&s,g={};f(o);for(var m=1,v=n.length;m<v;++m){var y=n[m]&s,b=p<<8|y,w=g[b];if(void 0===w){for(u|=p<<d,d+=l;8<=d;)t[e++]=255&u,u>>=8,d-=8,e===r+256&&(t[r]=255,r=e++);4096===h?(f(o),h=a+1,l=i+1,g={}):(1<<l<=h&&++l,g[b]=h++),p=y}else p=w}return f(p),f(a),c(1),r+1===e?t[r]=0:(t[r]=e-r-1,t[e++]=0),e}(t,r,f<2?2:f,h)},this.end=function(){return!1===p&&(t[r++]=59,p=!0),r}},exports.GifReader=Mt}catch(e){}function Et(t){var e,i,n,r,o,s=Math.floor,a=new Array(64),h=new Array(64),l=new Array(64),d=new Array(64),u=new Array(65535),c=new Array(65535),f=new Array(64),p=new Array(64),g=[],m=0,v=7,y=new Array(64),b=new Array(64),w=new Array(64),x=new Array(256),_=new Array(2048),k=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],S=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],M=[0,1,2,3,4,5,6,7,8,9,10,11],C=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],E=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],N=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],A=[0,1,2,3,4,5,6,7,8,9,10,11],D=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],T=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function L(t,e){for(var i=0,n=0,r=new Array,o=1;o<=16;o++){for(var s=1;s<=t[o];s++)r[e[n]]=[],r[e[n]][0]=i,r[e[n]][1]=o,n++,i++;i*=2}return r}function O(t){for(var e=t[0],i=t[1]-1;0<=i;)e&1<<i&&(m|=1<<v),i--,--v<0&&(255==m?(P(255),P(0)):P(m),v=7,m=0)}function P(t){g.push(t)}function I(t){P(t>>8&255),P(255&t)}function B(t,e,i,n,r){for(var o,s=r[0],a=r[240],h=function(t,e){var i,n,r,o,s,a,h,l,d,u,c=0;for(d=0;d<8;++d){var p=(i=t[c])+(l=t[c+7]),g=i-l,m=(n=t[c+1])+(h=t[c+6]),v=n-h,y=(r=t[c+2])+(a=t[c+5]),b=r-a,w=(o=t[c+3])+(s=t[c+4]),x=o-s,_=p+w,k=p-w,S=m+y,M=m-y;t[c]=_+S,t[c+4]=_-S;var C=.707106781*(M+k);t[c+2]=k+C,t[c+6]=k-C;var E=.382683433*((_=x+b)-(M=v+g)),N=.5411961*_+E,A=1.306562965*M+E,D=.707106781*(S=b+v),T=g+D,L=g-D;t[c+5]=L+N,t[c+3]=L-N,t[c+1]=T+A,t[c+7]=T-A,c+=8}for(d=c=0;d<8;++d){var O=(i=t[c])+(l=t[c+56]),P=i-l,I=(n=t[c+8])+(h=t[c+48]),B=n-h,R=(r=t[c+16])+(a=t[c+40]),F=r-a,z=(o=t[c+24])+(s=t[c+32]),j=o-s,q=O+z,H=O-z,W=I+R,U=I-R;t[c]=q+W,t[c+32]=q-W;var V=.707106781*(U+H);t[c+16]=H+V,t[c+48]=H-V;var Y=.382683433*((q=j+F)-(U=B+P)),G=.5411961*q+Y,X=1.306562965*U+Y,K=.707106781*(W=F+B),Z=P+K,Q=P-K;t[c+40]=Q+G,t[c+24]=Q-G,t[c+8]=Z+X,t[c+56]=Z-X,c++}for(d=0;d<64;++d)f[d]=0<(u=t[d]*e[d])?u+.5|0:u-.5|0;return f}(t,e),l=0;l<64;++l)p[k[l]]=h[l];var d=p[0]-i;i=p[0],0==d?O(n[0]):(O(n[c[o=32767+d]]),O(u[o]));for(var g=63;0<g&&0==p[g];g--);if(0==g)return O(s),i;for(var m,v=1;v<=g;){for(var y=v;0==p[v]&&v<=g;++v);var b=v-y;if(16<=b){m=b>>4;for(var w=1;w<=m;++w)O(a);b&=15}O(r[(b<<4)+c[o=32767+p[v]]]),O(u[o]),v++}return 63!=g&&O(s),i}function R(t){t<=0&&(t=1),100<t&&(t=100),o!=t&&(function(t){for(var e=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],i=0;i<64;i++){var n=s((e[i]*t+50)/100);n<1?n=1:255<n&&(n=255),a[k[i]]=n}for(var r=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],o=0;o<64;o++){var u=s((r[o]*t+50)/100);u<1?u=1:255<u&&(u=255),h[k[o]]=u}for(var c=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],f=0,p=0;p<8;p++)for(var g=0;g<8;g++)l[f]=1/(a[k[f]]*c[p]*c[g]*8),d[f]=1/(h[k[f]]*c[p]*c[g]*8),f++}(t<50?Math.floor(5e3/t):Math.floor(200-2*t)),o=t)}this.encode=function(t,o){var s,u;(new Date).getTime(),o&&R(o),g=new Array,m=0,v=7,I(65496),I(65504),I(16),P(74),P(70),P(73),P(70),P(0),P(1),P(1),P(0),I(1),I(1),P(0),P(0),function(){I(65499),I(132),P(0);for(var t=0;t<64;t++)P(a[t]);P(1);for(var e=0;e<64;e++)P(h[e])}(),s=t.width,u=t.height,I(65472),I(17),P(8),I(u),I(s),P(3),P(1),P(17),P(0),P(2),P(17),P(1),P(3),P(17),P(1),function(){I(65476),I(418),P(0);for(var t=0;t<16;t++)P(S[t+1]);for(var e=0;e<=11;e++)P(M[e]);P(16);for(var i=0;i<16;i++)P(C[i+1]);for(var n=0;n<=161;n++)P(E[n]);P(1);for(var r=0;r<16;r++)P(N[r+1]);for(var o=0;o<=11;o++)P(A[o]);P(17);for(var s=0;s<16;s++)P(D[s+1]);for(var a=0;a<=161;a++)P(T[a])}(),I(65498),I(12),P(3),P(1),P(0),P(2),P(17),P(3),P(17),P(0),P(63),P(0);var c=0,f=0,p=0;m=0,v=7,this.encode.displayName="_encode_";for(var x,k,L,F,z,j,q,H,W,U=t.data,V=t.height,Y=4*t.width,G=0;G<V;){for(x=0;x<Y;){for(j=z=Y*G+x,q=-1,W=H=0;W<64;W++)j=z+(H=W>>3)*Y+(q=4*(7&W)),V<=G+H&&(j-=Y*(G+1+H-V)),Y<=x+q&&(j-=x+q-Y+4),k=U[j++],L=U[j++],F=U[j++],y[W]=(_[k]+_[L+256>>0]+_[F+512>>0]>>16)-128,b[W]=(_[k+768>>0]+_[L+1024>>0]+_[F+1280>>0]>>16)-128,w[W]=(_[k+1280>>0]+_[L+1536>>0]+_[F+1792>>0]>>16)-128;c=B(y,l,c,e,n),f=B(b,d,f,i,r),p=B(w,d,p,i,r),x+=32}G+=8}if(0<=v){var X=[];X[1]=v+1,X[0]=(1<<v+1)-1,O(X)}return I(65497),new Uint8Array(g)},(new Date).getTime(),t||(t=50),function(){for(var t=String.fromCharCode,e=0;e<256;e++)x[e]=t(e)}(),e=L(S,M),i=L(N,A),n=L(C,E),r=L(D,T),function(){for(var t=1,e=2,i=1;i<=15;i++){for(var n=t;n<e;n++)c[32767+n]=i,u[32767+n]=[],u[32767+n][1]=i,u[32767+n][0]=n;for(var r=-(e-1);r<=-t;r++)c[32767+r]=i,u[32767+r]=[],u[32767+r][1]=i,u[32767+r][0]=e-1+r;t<<=1,e<<=1}}(),function(){for(var t=0;t<256;t++)_[t]=19595*t,_[t+256>>0]=38470*t,_[t+512>>0]=7471*t+32768,_[t+768>>0]=-11059*t,_[t+1024>>0]=-21709*t,_[t+1280>>0]=32768*t+8421375,_[t+1536>>0]=-27439*t,_[t+1792>>0]=-5329*t}(),R(t),(new Date).getTime()}function Nt(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,-1===["BM","BA","CI","CP","IC","PT"].indexOf(this.flag))throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}window.tmp=Mt,ht.API.adler32cs=(pt="function"==typeof ArrayBuffer&&"function"==typeof Uint8Array,gt=null,mt=function(){if(!pt)return function(){return!1};try{var t={};"function"==typeof t.Buffer&&(gt=t.Buffer)}catch(t){}return function(t){return t instanceof ArrayBuffer||null!==gt&&t instanceof gt}}(),vt=null!==gt?function(t){return new gt(t,"utf8").toString("binary")}:function(t){return unescape(encodeURIComponent(t))},yt=function(t,e){for(var i=65535&t,n=t>>>16,r=0,o=e.length;r<o;r++)n=(n+(i=(i+(255&e.charCodeAt(r)))%65521))%65521;return(n<<16|i)>>>0},bt=function(t,e){for(var i=65535&t,n=t>>>16,r=0,o=e.length;r<o;r++)n=(n+(i=(i+e[r])%65521))%65521;return(n<<16|i)>>>0},xt=(wt={}).Adler32=(((ft=(ct=function(t){if(!(this instanceof ct))throw new TypeError("Constructor cannot called be as a function.");if(!isFinite(t=null==t?1:+t))throw new Error("First arguments needs to be a finite number.");this.checksum=t>>>0}).prototype={}).constructor=ct).from=((lt=function(t){if(!(this instanceof ct))throw new TypeError("Constructor cannot called be as a function.");if(null==t)throw new Error("First argument needs to be a string.");this.checksum=yt(1,t.toString())}).prototype=ft,lt),ct.fromUtf8=((dt=function(t){if(!(this instanceof ct))throw new TypeError("Constructor cannot called be as a function.");if(null==t)throw new Error("First argument needs to be a string.");var e=vt(t.toString());this.checksum=yt(1,e)}).prototype=ft,dt),pt&&(ct.fromBuffer=((ut=function(t){if(!(this instanceof ct))throw new TypeError("Constructor cannot called be as a function.");if(!mt(t))throw new Error("First argument needs to be ArrayBuffer.");var e=new Uint8Array(t);return this.checksum=bt(1,e)}).prototype=ft,ut)),ft.update=function(t){if(null==t)throw new Error("First argument needs to be a string.");return t=t.toString(),this.checksum=yt(this.checksum,t)},ft.updateUtf8=function(t){if(null==t)throw new Error("First argument needs to be a string.");var e=vt(t.toString());return this.checksum=yt(this.checksum,e)},pt&&(ft.updateBuffer=function(t){if(!mt(t))throw new Error("First argument needs to be ArrayBuffer.");var e=new Uint8Array(t);return this.checksum=bt(this.checksum,e)}),ft.clone=function(){return new xt(this.checksum)},ct),wt.from=function(t){if(null==t)throw new Error("First argument needs to be a string.");return yt(1,t.toString())},wt.fromUtf8=function(t){if(null==t)throw new Error("First argument needs to be a string.");var e=vt(t.toString());return yt(1,e)},pt&&(wt.fromBuffer=function(t){if(!mt(t))throw new Error("First argument need to be ArrayBuffer.");var e=new Uint8Array(t);return bt(1,e)}),wt),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(t){var i,n,r,o,s,a,h,l=e,d=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],u=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],c={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},f={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},p=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],g=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),m=!1,v=0;this.__bidiEngine__={};var y=function(t){var e=t.charCodeAt(),i=e>>8,n=f[i];return void 0!==n?l[256*n+(255&e)]:252===i||253===i?"AL":g.test(i)?"L":8===i?"R":"N"},b=function(t){for(var e,i=0;i<t.length;i++){if("L"===(e=y(t.charAt(i))))return!1;if("R"===e)return!0}return!1},w=function(t,e,s,a){var h,l,d,u,c=e[a];switch(c){case"L":case"R":m=!1;break;case"N":case"AN":break;case"EN":m&&(c="AN");break;case"AL":m=!0,c="R";break;case"WS":c="N";break;case"CS":a<1||a+1>=e.length||"EN"!==(h=s[a-1])&&"AN"!==h||"EN"!==(l=e[a+1])&&"AN"!==l?c="N":m&&(l="AN"),c=l===h?l:"N";break;case"ES":c="EN"===(h=0<a?s[a-1]:"B")&&a+1<e.length&&"EN"===e[a+1]?"EN":"N";break;case"ET":if(0<a&&"EN"===s[a-1]){c="EN";break}if(m){c="N";break}for(d=a+1,u=e.length;d<u&&"ET"===e[d];)d++;c=d<u&&"EN"===e[d]?"EN":"N";break;case"NSM":if(r&&!o){for(u=e.length,d=a+1;d<u&&"NSM"===e[d];)d++;if(d<u){var f=t[a];if(h=e[d],(1425<=f&&f<=2303||64286===f)&&("R"===h||"AL"===h)){c="R";break}}}c=a<1||"B"===(h=e[a-1])?"N":s[a-1];break;case"B":i=!(m=!1),c=v;break;case"S":n=!0,c="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":m=!1;break;case"BN":c="N"}return c},x=function(t,e,i){var n=t.split("");return i&&_(n,i,{hiLevel:v}),n.reverse(),e&&e.reverse(),n.join("")},_=function(t,e,r){var o,s,a,h,l,f=-1,p=t.length,g=0,b=[],x=v?u:d,_=[];for(n=i=m=!1,s=0;s<p;s++)_[s]=y(t[s]);for(a=0;a<p;a++){if(l=g,b[a]=w(t,_,b,a),o=240&(g=x[l][c[b[a]]]),e[a]=h=x[g&=15][5],0<o)if(16===o){for(s=f;s<a;s++)e[s]=1;f=-1}else f=-1;if(x[g][6])-1===f&&(f=a);else if(-1<f){for(s=f;s<a;s++)e[s]=h;f=-1}"B"===_[a]&&(e[a]=0),r.hiLevel|=h}n&&function(t,e,i){for(var n=0;n<i;n++)if("S"===t[n]){e[n]=v;for(var r=n-1;0<=r&&"WS"===t[r];r--)e[r]=v}}(_,e,p)},k=function(t,e,n,r,o){if(!(o.hiLevel<t)){if(1===t&&1===v&&!i)return e.reverse(),void(n&&n.reverse());for(var s,a,h,l,d=e.length,u=0;u<d;){if(r[u]>=t){for(h=u+1;h<d&&r[h]>=t;)h++;for(l=u,a=h-1;l<a;l++,a--)s=e[l],e[l]=e[a],e[a]=s,n&&(s=n[l],n[l]=n[a],n[a]=s);u=h}u++}}},S=function(t,e,i){var n=t.split(""),r={hiLevel:v};return i||(i=[]),_(n,i,r),function(t,e,i){if(0!==i.hiLevel&&h)for(var n,r=0;r<t.length;r++)1===e[r]&&0<=(n=p.indexOf(t[r]))&&(t[r]=p[n+1])}(n,i,r),k(2,n,e,i,r),k(1,n,e,i,r),n.join("")};return this.__bidiEngine__.doBidiReorder=function(t,e,i){if(function(t,e){if(e)for(var i=0;i<t.length;i++)e[i]=i;void 0===o&&(o=b(t)),void 0===a&&(a=b(t))}(t,e),r||!s||a)if(r&&s&&o^a)v=o?1:0,t=x(t,e,i);else if(!r&&s&&a)v=o?1:0,t=S(t,e,i),t=x(t,e);else if(!r||o||s||a){if(r&&!s&&o^a)t=x(t,e),t=o?(v=0,S(t,e,i)):(v=1,t=S(t,e,i),x(t,e));else if(r&&o&&!s&&a)v=1,t=S(t,e,i),t=x(t,e);else if(!r&&!s&&o^a){var n=h;o?(v=1,t=S(t,e,i),v=0,h=!1,t=S(t,e,i),h=n):(v=0,t=S(t,e,i),t=x(t,e),h=!(v=1),t=S(t,e,i),h=n,t=x(t,e))}}else v=0,t=S(t,e,i);else v=o?1:0,t=S(t,e,i);return t},this.__bidiEngine__.setOptions=function(t){t&&(r=t.isInputVisual,s=t.isOutputVisual,o=t.isInputRtl,a=t.isOutputRtl,h=t.isSymmetricSwapping)},this.__bidiEngine__.setOptions(t),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],i=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(t){var e=t.text,n=[];if("[object Array]"===Object.prototype.toString.call(e)){var r=0;for(n=[],r=0;r<e.length;r+=1)"[object Array]"===Object.prototype.toString.call(e[r])?n.push([i.doBidiReorder(e[r][0]),e[r][1],e[r][2]]):n.push([i.doBidiReorder(e[r])]);t.text=n}else t.text=i.doBidiReorder(e)}])}(ht),window.tmp=Et,Nt.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,16===this.bitPP&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=0===this.colors?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var i=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:r,green:n,blue:i,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Nt.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP;this.data=new Uint8Array(this.width*this.height*4),this[t]()}catch(t){console.log("bit decode error:"+t)}},Nt.prototype.bit1=function(){var t=Math.ceil(this.width/8),e=t%4,i=0<=this.height?this.height-1:-this.height;for(i=this.height-1;0<=i;i--){for(var n=this.bottom_up?i:this.height-1-i,r=0;r<t;r++)for(var o=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+8*r*4,a=0;a<8&&8*r+a<this.width;a++){var h=this.palette[o>>7-a&1];this.data[s+4*a]=h.blue,this.data[s+4*a+1]=h.green,this.data[s+4*a+2]=h.red,this.data[s+4*a+3]=255}0!=e&&(this.pos+=4-e)}},Nt.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,i=this.height-1;0<=i;i--){for(var n=this.bottom_up?i:this.height-1-i,r=0;r<t;r++){var o=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+2*r*4,a=15&o,h=this.palette[o>>4];if(this.data[s]=h.blue,this.data[s+1]=h.green,this.data[s+2]=h.red,this.data[s+3]=255,2*r+1>=this.width)break;this.data[s+4]=(h=this.palette[a]).blue,this.data[s+4+1]=h.green,this.data[s+4+2]=h.red,this.data[s+4+3]=255}0!=e&&(this.pos+=4-e)}},Nt.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;0<=e;e--){for(var i=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),o=i*this.width*4+4*n;if(r<this.palette.length){var s=this.palette[r];this.data[o]=s.red,this.data[o+1]=s.green,this.data[o+2]=s.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}0!=t&&(this.pos+=4-t)}},Nt.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),i=this.height-1;0<=i;i--){for(var n=this.bottom_up?i:this.height-1-i,r=0;r<this.width;r++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(o&e)/e*255|0,a=(o>>5&e)/e*255|0,h=o>>15?255:0,l=n*this.width*4+4*r;this.data[l]=(o>>10&e)/e*255|0,this.data[l+1]=a,this.data[l+2]=s,this.data[l+3]=h}this.pos+=t}},Nt.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),i=parseInt("111111",2),n=this.height-1;0<=n;n--){for(var r=this.bottom_up?n:this.height-1-n,o=0;o<this.width;o++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&e)/e*255|0,h=(s>>5&i)/i*255|0,l=r*this.width*4+4*o;this.data[l]=(s>>11)/e*255|0,this.data[l+1]=h,this.data[l+2]=a,this.data[l+3]=255}this.pos+=t}},Nt.prototype.bit24=function(){for(var t=this.height-1;0<=t;t--){for(var e=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*i;this.data[s]=o,this.data[s+1]=r,this.data[s+2]=n,this.data[s+3]=255}this.pos+=this.width%4}},Nt.prototype.bit32=function(){for(var t=this.height-1;0<=t;t--)for(var e=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*i;this.data[a]=o,this.data[a+1]=r,this.data[a+2]=n,this.data[a+3]=s}},Nt.prototype.getData=function(){return this.data},window.tmp=Nt,function(t){var e=15,i=573,n=[0,1,2,3,4,4,5,5,6,6,6,6,7,7,7,7,8,8,8,8,8,8,8,8,9,9,9,9,9,9,9,9,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,0,0,16,17,18,18,19,19,20,20,20,20,21,21,21,21,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29];function r(){var t=this;function n(t,e){for(var i=0;i|=1&t,t>>>=1,i<<=1,0<--e;);return i>>>1}t.build_tree=function(r){var o,s,a,h=t.dyn_tree,l=t.stat_desc.static_tree,d=t.stat_desc.elems,u=-1;for(r.heap_len=0,r.heap_max=i,o=0;o<d;o++)0!==h[2*o]?(r.heap[++r.heap_len]=u=o,r.depth[o]=0):h[2*o+1]=0;for(;r.heap_len<2;)h[2*(a=r.heap[++r.heap_len]=u<2?++u:0)]=1,r.depth[a]=0,r.opt_len--,l&&(r.static_len-=l[2*a+1]);for(t.max_code=u,o=Math.floor(r.heap_len/2);1<=o;o--)r.pqdownheap(h,o);for(a=d;o=r.heap[1],r.heap[1]=r.heap[r.heap_len--],r.pqdownheap(h,1),s=r.heap[1],r.heap[--r.heap_max]=o,r.heap[--r.heap_max]=s,h[2*a]=h[2*o]+h[2*s],r.depth[a]=Math.max(r.depth[o],r.depth[s])+1,h[2*o+1]=h[2*s+1]=a,r.heap[1]=a++,r.pqdownheap(h,1),2<=r.heap_len;);r.heap[--r.heap_max]=r.heap[1],function(n){var r,o,s,a,h,l,d=t.dyn_tree,u=t.stat_desc.static_tree,c=t.stat_desc.extra_bits,f=t.stat_desc.extra_base,p=t.stat_desc.max_length,g=0;for(a=0;a<=e;a++)n.bl_count[a]=0;for(d[2*n.heap[n.heap_max]+1]=0,r=n.heap_max+1;r<i;r++)p<(a=d[2*d[2*(o=n.heap[r])+1]+1]+1)&&(a=p,g++),d[2*o+1]=a,o>t.max_code||(n.bl_count[a]++,h=0,f<=o&&(h=c[o-f]),n.opt_len+=(l=d[2*o])*(a+h),u&&(n.static_len+=l*(u[2*o+1]+h)));if(0!==g){do{for(a=p-1;0===n.bl_count[a];)a--;n.bl_count[a]--,n.bl_count[a+1]+=2,n.bl_count[p]--,g-=2}while(0<g);for(a=p;0!==a;a--)for(o=n.bl_count[a];0!==o;)(s=n.heap[--r])>t.max_code||(d[2*s+1]!=a&&(n.opt_len+=(a-d[2*s+1])*d[2*s],d[2*s+1]=a),o--)}}(r),function(t,i,r){var o,s,a,h=[],l=0;for(o=1;o<=e;o++)h[o]=l=l+r[o-1]<<1;for(s=0;s<=i;s++)0!==(a=t[2*s+1])&&(t[2*s]=n(h[a]++,a))}(h,t.max_code,r.bl_count)}}function o(t,e,i,n,r){this.static_tree=t,this.extra_bits=e,this.extra_base=i,this.elems=n,this.max_length=r}function s(t,e,i,n,r){this.good_length=t,this.max_lazy=e,this.nice_length=i,this.max_chain=n,this.func=r}r._length_code=[0,1,2,3,4,5,6,7,8,8,9,9,10,10,11,11,12,12,12,12,13,13,13,13,14,14,14,14,15,15,15,15,16,16,16,16,16,16,16,16,17,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,28],r.base_length=[0,1,2,3,4,5,6,7,8,10,12,14,16,20,24,28,32,40,48,56,64,80,96,112,128,160,192,224,0],r.base_dist=[0,1,2,3,4,6,8,12,16,24,32,48,64,96,128,192,256,384,512,768,1024,1536,2048,3072,4096,6144,8192,12288,16384,24576],r.d_code=function(t){return t<256?n[t]:n[256+(t>>>7)]},r.extra_lbits=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],r.extra_dbits=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],r.extra_blbits=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],r.bl_order=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],o.static_ltree=[12,8,140,8,76,8,204,8,44,8,172,8,108,8,236,8,28,8,156,8,92,8,220,8,60,8,188,8,124,8,252,8,2,8,130,8,66,8,194,8,34,8,162,8,98,8,226,8,18,8,146,8,82,8,210,8,50,8,178,8,114,8,242,8,10,8,138,8,74,8,202,8,42,8,170,8,106,8,234,8,26,8,154,8,90,8,218,8,58,8,186,8,122,8,250,8,6,8,134,8,70,8,198,8,38,8,166,8,102,8,230,8,22,8,150,8,86,8,214,8,54,8,182,8,118,8,246,8,14,8,142,8,78,8,206,8,46,8,174,8,110,8,238,8,30,8,158,8,94,8,222,8,62,8,190,8,126,8,254,8,1,8,129,8,65,8,193,8,33,8,161,8,97,8,225,8,17,8,145,8,81,8,209,8,49,8,177,8,113,8,241,8,9,8,137,8,73,8,201,8,41,8,169,8,105,8,233,8,25,8,153,8,89,8,217,8,57,8,185,8,121,8,249,8,5,8,133,8,69,8,197,8,37,8,165,8,101,8,229,8,21,8,149,8,85,8,213,8,53,8,181,8,117,8,245,8,13,8,141,8,77,8,205,8,45,8,173,8,109,8,237,8,29,8,157,8,93,8,221,8,61,8,189,8,125,8,253,8,19,9,275,9,147,9,403,9,83,9,339,9,211,9,467,9,51,9,307,9,179,9,435,9,115,9,371,9,243,9,499,9,11,9,267,9,139,9,395,9,75,9,331,9,203,9,459,9,43,9,299,9,171,9,427,9,107,9,363,9,235,9,491,9,27,9,283,9,155,9,411,9,91,9,347,9,219,9,475,9,59,9,315,9,187,9,443,9,123,9,379,9,251,9,507,9,7,9,263,9,135,9,391,9,71,9,327,9,199,9,455,9,39,9,295,9,167,9,423,9,103,9,359,9,231,9,487,9,23,9,279,9,151,9,407,9,87,9,343,9,215,9,471,9,55,9,311,9,183,9,439,9,119,9,375,9,247,9,503,9,15,9,271,9,143,9,399,9,79,9,335,9,207,9,463,9,47,9,303,9,175,9,431,9,111,9,367,9,239,9,495,9,31,9,287,9,159,9,415,9,95,9,351,9,223,9,479,9,63,9,319,9,191,9,447,9,127,9,383,9,255,9,511,9,0,7,64,7,32,7,96,7,16,7,80,7,48,7,112,7,8,7,72,7,40,7,104,7,24,7,88,7,56,7,120,7,4,7,68,7,36,7,100,7,20,7,84,7,52,7,116,7,3,8,131,8,67,8,195,8,35,8,163,8,99,8,227,8],o.static_dtree=[0,5,16,5,8,5,24,5,4,5,20,5,12,5,28,5,2,5,18,5,10,5,26,5,6,5,22,5,14,5,30,5,1,5,17,5,9,5,25,5,5,5,21,5,13,5,29,5,3,5,19,5,11,5,27,5,7,5,23,5],o.static_l_desc=new o(o.static_ltree,r.extra_lbits,257,286,e),o.static_d_desc=new o(o.static_dtree,r.extra_dbits,0,30,e),o.static_bl_desc=new o(null,r.extra_blbits,0,19,7);var a=[new s(0,0,0,0,0),new s(4,4,8,4,1),new s(4,5,16,8,1),new s(4,6,32,32,1),new s(4,4,16,16,2),new s(8,16,32,32,2),new s(8,16,128,128,2),new s(8,32,128,256,2),new s(32,128,258,1024,2),new s(32,258,258,4096,2)],h=["need dictionary","stream end","","","stream error","data error","","buffer error","",""];function l(t,e,i,n){var r=t[2*e],o=t[2*i];return r<o||r==o&&n[e]<=n[i]}function d(){var t,e,i,n,s,d,u,c,f,p,g,m,v,y,b,w,x,_,k,S,M,C,E,N,A,D,T,L,O,P,I,B,R,F,z,j,q,H,W,U,V,Y=this,G=new r,X=new r,K=new r;function Z(){var t;for(t=0;t<286;t++)I[2*t]=0;for(t=0;t<30;t++)B[2*t]=0;for(t=0;t<19;t++)R[2*t]=0;I[512]=1,Y.opt_len=Y.static_len=0,j=H=0}function Q(t,e){var i,n,r=-1,o=t[1],s=0,a=7,h=4;for(0===o&&(a=138,h=3),t[2*(e+1)+1]=65535,i=0;i<=e;i++)n=o,o=t[2*(i+1)+1],++s<a&&n==o||(s<h?R[2*n]+=s:0!==n?(n!=r&&R[2*n]++,R[32]++):s<=10?R[34]++:R[36]++,r=n,h=(s=0)===o?(a=138,3):n==o?(a=6,3):(a=7,4))}function $(t){Y.pending_buf[Y.pending++]=t}function J(t){$(255&t),$(t>>>8&255)}function tt(t,e){var i,n=e;16-n<V?(J(U|=(i=t)<<V&65535),U=i>>>16-V,V+=n-16):(U|=t<<V&65535,V+=n)}function et(t,e){var i=2*t;tt(65535&e[i],65535&e[i+1])}function it(t,e){var i,n,r=-1,o=t[1],s=0,a=7,h=4;for(0===o&&(a=138,h=3),i=0;i<=e;i++)if(n=o,o=t[2*(i+1)+1],!(++s<a&&n==o)){if(s<h)for(;et(n,R),0!=--s;);else 0!==n?(n!=r&&(et(n,R),s--),et(16,R),tt(s-3,2)):s<=10?(et(17,R),tt(s-3,3)):(et(18,R),tt(s-11,7));r=n,h=(s=0)===o?(a=138,3):n==o?(a=6,3):(a=7,4)}}function nt(){16==V?(J(U),V=U=0):8<=V&&($(255&U),U>>>=8,V-=8)}function rt(t,e){var i,n,o;if(Y.pending_buf[q+2*j]=t>>>8&255,Y.pending_buf[q+2*j+1]=255&t,Y.pending_buf[F+j]=255&e,j++,0===t?I[2*e]++:(H++,t--,I[2*(r._length_code[e]+256+1)]++,B[2*r.d_code(t)]++),0==(8191&j)&&2<T){for(i=8*j,n=M-x,o=0;o<30;o++)i+=B[2*o]*(5+r.extra_dbits[o]);if(i>>>=3,H<Math.floor(j/2)&&i<Math.floor(n/2))return!0}return j==z-1}function ot(t,e){var i,n,o,s,a=0;if(0!==j)for(;i=Y.pending_buf[q+2*a]<<8&65280|255&Y.pending_buf[q+2*a+1],n=255&Y.pending_buf[F+a],a++,0===i?et(n,t):(et((o=r._length_code[n])+256+1,t),0!==(s=r.extra_lbits[o])&&tt(n-=r.base_length[o],s),et(o=r.d_code(--i),e),0!==(s=r.extra_dbits[o])&&tt(i-=r.base_dist[o],s)),a<j;);et(256,t),W=t[513]}function st(){8<V?J(U):0<V&&$(255&U),V=U=0}function at(t,e,i){var n,r;tt(0+(i?1:0),3),n=t,r=e,st(),W=8,J(r),J(~r),Y.pending_buf.set(c.subarray(n,n+r),Y.pending),Y.pending+=r}function ht(e){(function(t,e,i){var n,s,a=0;0<T?(G.build_tree(Y),X.build_tree(Y),a=function(){var t;for(Q(I,G.max_code),Q(B,X.max_code),K.build_tree(Y),t=18;3<=t&&0===R[2*r.bl_order[t]+1];t--);return Y.opt_len+=3*(t+1)+5+5+4,t}(),(s=Y.static_len+3+7>>>3)<=(n=Y.opt_len+3+7>>>3)&&(n=s)):n=s=e+5,e+4<=n&&-1!=t?at(t,e,i):s==n?(tt(2+(i?1:0),3),ot(o.static_ltree,o.static_dtree)):(tt(4+(i?1:0),3),function(t,e,i){var n;for(tt(t-257,5),tt(e-1,5),tt(i-4,4),n=0;n<i;n++)tt(R[2*r.bl_order[n]+1],3);it(I,t-1),it(B,e-1)}(G.max_code+1,X.max_code+1,a+1),ot(I,B)),Z(),i&&st()})(0<=x?x:-1,M-x,e),x=M,t.flush_pending()}function lt(){var e,i,n,r;do{if(0==(r=f-E-M)&&0===M&&0===E)r=s;else if(-1==r)r--;else if(s+s-262<=M){for(c.set(c.subarray(s,s+s),0),C-=s,M-=s,x-=s,n=e=v;i=65535&g[--n],g[n]=s<=i?i-s:0,0!=--e;);for(n=e=s;i=65535&p[--n],p[n]=s<=i?i-s:0,0!=--e;);r+=s}if(0===t.avail_in)return;e=t.read_buf(c,M+E,r),3<=(E+=e)&&(m=((m=255&c[M])<<w^255&c[M+1])&b)}while(E<262&&0!==t.avail_in)}function dt(t){var e,i,n=A,r=M,o=N,a=s-262<M?M-(s-262):0,h=P,l=u,d=M+258,f=c[r+o-1],g=c[r+o];O<=N&&(n>>=2),E<h&&(h=E);do{if(c[(e=t)+o]==g&&c[e+o-1]==f&&c[e]==c[r]&&c[++e]==c[r+1]){r+=2,e++;do{}while(c[++r]==c[++e]&&c[++r]==c[++e]&&c[++r]==c[++e]&&c[++r]==c[++e]&&c[++r]==c[++e]&&c[++r]==c[++e]&&c[++r]==c[++e]&&c[++r]==c[++e]&&r<d);if(i=258-(d-r),r=d-258,o<i){if(C=t,h<=(o=i))break;f=c[r+o-1],g=c[r+o]}}}while((t=65535&p[t&l])>a&&0!=--n);return o<=E?o:E}function ut(t){return t.total_in=t.total_out=0,t.msg=null,Y.pending=0,Y.pending_out=0,e=113,n=0,G.dyn_tree=I,G.stat_desc=o.static_l_desc,X.dyn_tree=B,X.stat_desc=o.static_d_desc,K.dyn_tree=R,K.stat_desc=o.static_bl_desc,V=U=0,W=8,Z(),function(){var t;for(f=2*s,t=g[v-1]=0;t<v-1;t++)g[t]=0;D=a[T].max_lazy,O=a[T].good_length,P=a[T].nice_length,A=a[T].max_chain,_=N=2,m=S=E=x=M=0}(),0}Y.depth=[],Y.bl_count=[],Y.heap=[],I=[],B=[],R=[],Y.pqdownheap=function(t,e){for(var i=Y.heap,n=i[e],r=e<<1;r<=Y.heap_len&&(r<Y.heap_len&&l(t,i[r+1],i[r],Y.depth)&&r++,!l(t,n,i[r],Y.depth));)i[e]=i[r],e=r,r<<=1;i[e]=n},Y.deflateInit=function(t,e,n,r,o,a){return r||(r=8),o||(o=8),a||(a=0),t.msg=null,-1==e&&(e=6),o<1||9<o||8!=r||n<9||15<n||e<0||9<e||a<0||2<a?-2:(t.dstate=Y,u=(s=1<<(d=n))-1,b=(v=1<<(y=o+7))-1,w=Math.floor((y+3-1)/3),c=new Uint8Array(2*s),p=[],g=[],z=1<<o+6,Y.pending_buf=new Uint8Array(4*z),i=4*z,q=Math.floor(z/2),F=3*z,T=e,L=a,ut(t))},Y.deflateEnd=function(){return 42!=e&&113!=e&&666!=e?-2:(Y.pending_buf=null,c=p=g=null,Y.dstate=null,113==e?-3:0)},Y.deflateParams=function(t,e,i){var n=0;return-1==e&&(e=6),e<0||9<e||i<0||2<i?-2:(a[T].func!=a[e].func&&0!==t.total_in&&(n=t.deflate(1)),T!=e&&(D=a[T=e].max_lazy,O=a[T].good_length,P=a[T].nice_length,A=a[T].max_chain),L=i,n)},Y.deflateSetDictionary=function(t,i,n){var r,o=n,a=0;if(!i||42!=e)return-2;if(o<3)return 0;for(s-262<o&&(a=n-(o=s-262)),c.set(i.subarray(a,a+o),0),x=M=o,m=((m=255&c[0])<<w^255&c[1])&b,r=0;r<=o-3;r++)p[r&u]=g[m=(m<<w^255&c[r+2])&b],g[m]=r;return 0},Y.deflate=function(r,l){var f,y,A,O,P,I;if(4<l||l<0)return-2;if(!r.next_out||!r.next_in&&0!==r.avail_in||666==e&&4!=l)return r.msg=h[4],-2;if(0===r.avail_out)return r.msg=h[7],-5;if(t=r,O=n,n=l,42==e&&(y=8+(d-8<<4)<<8,3<(A=(T-1&255)>>1)&&(A=3),y|=A<<6,0!==M&&(y|=32),e=113,$((I=y+=31-y%31)>>8&255),$(255&I)),0!==Y.pending){if(t.flush_pending(),0===t.avail_out)return n=-1,0}else if(0===t.avail_in&&l<=O&&4!=l)return t.msg=h[7],-5;if(666==e&&0!==t.avail_in)return r.msg=h[7],-5;if(0!==t.avail_in||0!==E||0!=l&&666!=e){switch(P=-1,a[T].func){case 0:P=function(e){var n,r=65535;for(i-5<r&&(r=i-5);;){if(E<=1){if(lt(),0===E&&0==e)return 0;if(0===E)break}if(M+=E,n=x+r,((E=0)===M||n<=M)&&(E=M-n,M=n,ht(!1),0===t.avail_out))return 0;if(s-262<=M-x&&(ht(!1),0===t.avail_out))return 0}return ht(4==e),0===t.avail_out?4==e?2:0:4==e?3:1}(l);break;case 1:P=function(e){for(var i,n=0;;){if(E<262){if(lt(),E<262&&0==e)return 0;if(0===E)break}if(3<=E&&(n=65535&g[m=(m<<w^255&c[M+2])&b],p[M&u]=g[m],g[m]=M),0!==n&&(M-n&65535)<=s-262&&2!=L&&(_=dt(n)),3<=_)if(i=rt(M-C,_-3),E-=_,_<=D&&3<=E){for(_--;m=(m<<w^255&c[++M+2])&b,n=65535&g[m],p[M&u]=g[m],g[m]=M,0!=--_;);M++}else M+=_,_=0,m=((m=255&c[M])<<w^255&c[M+1])&b;else i=rt(0,255&c[M]),E--,M++;if(i&&(ht(!1),0===t.avail_out))return 0}return ht(4==e),0===t.avail_out?4==e?2:0:4==e?3:1}(l);break;case 2:P=function(e){for(var i,n,r=0;;){if(E<262){if(lt(),E<262&&0==e)return 0;if(0===E)break}if(3<=E&&(r=65535&g[m=(m<<w^255&c[M+2])&b],p[M&u]=g[m],g[m]=M),N=_,k=C,_=2,0!==r&&N<D&&(M-r&65535)<=s-262&&(2!=L&&(_=dt(r)),_<=5&&(1==L||3==_&&4096<M-C)&&(_=2)),3<=N&&_<=N){for(n=M+E-3,i=rt(M-1-k,N-3),E-=N-1,N-=2;++M<=n&&(r=65535&g[m=(m<<w^255&c[M+2])&b],p[M&u]=g[m],g[m]=M),0!=--N;);if(S=0,_=2,M++,i&&(ht(!1),0===t.avail_out))return 0}else if(0!==S){if((i=rt(0,255&c[M-1]))&&ht(!1),M++,E--,0===t.avail_out)return 0}else S=1,M++,E--}return 0!==S&&(i=rt(0,255&c[M-1]),S=0),ht(4==e),0===t.avail_out?4==e?2:0:4==e?3:1}(l)}if(2!=P&&3!=P||(e=666),0==P||2==P)return 0===t.avail_out&&(n=-1),0;if(1==P){if(1==l)tt(2,3),et(256,o.static_ltree),nt(),1+W+10-V<9&&(tt(2,3),et(256,o.static_ltree),nt()),W=7;else if(at(0,0,!1),3==l)for(f=0;f<v;f++)g[f]=0;if(t.flush_pending(),0===t.avail_out)return n=-1,0}}return 4!=l?0:1}}function u(){this.next_in_index=0,this.next_out_index=0,this.avail_in=0,this.total_in=0,this.avail_out=0,this.total_out=0}u.prototype={deflateInit:function(t,i){return this.dstate=new d,i||(i=e),this.dstate.deflateInit(this,t,i)},deflate:function(t){return this.dstate?this.dstate.deflate(this,t):-2},deflateEnd:function(){if(!this.dstate)return-2;var t=this.dstate.deflateEnd();return this.dstate=null,t},deflateParams:function(t,e){return this.dstate?this.dstate.deflateParams(this,t,e):-2},deflateSetDictionary:function(t,e){return this.dstate?this.dstate.deflateSetDictionary(this,t,e):-2},read_buf:function(t,e,i){var n=this.avail_in;return i<n&&(n=i),0===n?0:(this.avail_in-=n,t.set(this.next_in.subarray(this.next_in_index,this.next_in_index+n),e),this.next_in_index+=n,this.total_in+=n,n)},flush_pending:function(){var t=this,e=t.dstate.pending;e>t.avail_out&&(e=t.avail_out),0!==e&&(t.next_out.set(t.dstate.pending_buf.subarray(t.dstate.pending_out,t.dstate.pending_out+e),t.next_out_index),t.next_out_index+=e,t.dstate.pending_out+=e,t.total_out+=e,t.avail_out-=e,t.dstate.pending-=e,0===t.dstate.pending&&(t.dstate.pending_out=0))}};var c=t.zip||t;c.Deflater=c._jzlib_Deflater=function(t){var e=new u,i=new Uint8Array(512),n=t?t.level:-1;void 0===n&&(n=-1),e.deflateInit(n),e.next_out=i,this.append=function(t,n){var r,o=[],s=0,a=0,h=0;if(t.length){e.next_in_index=0,e.next_in=t,e.avail_in=t.length;do{if(e.next_out_index=0,e.avail_out=512,0!=e.deflate(0))throw new Error("deflating: "+e.msg);e.next_out_index&&o.push(512==e.next_out_index?new Uint8Array(i):new Uint8Array(i.subarray(0,e.next_out_index))),h+=e.next_out_index,n&&0<e.next_in_index&&e.next_in_index!=s&&(n(e.next_in_index),s=e.next_in_index)}while(0<e.avail_in||0===e.avail_out);return r=new Uint8Array(h),o.forEach(function(t){r.set(t,a),a+=t.length}),r}},this.flush=function(){var t,n,r=[],o=0,s=0;do{if(e.next_out_index=0,e.avail_out=512,1!=(t=e.deflate(4))&&0!=t)throw new Error("deflating: "+e.msg);0<512-e.avail_out&&r.push(new Uint8Array(i.subarray(0,e.next_out_index))),s+=e.next_out_index}while(0<e.avail_in||0===e.avail_out);return e.deflateEnd(),n=new Uint8Array(s),r.forEach(function(t){n.set(t,o),o+=t.length}),n}}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||"undefined"!=typeof global&&global||Function('return typeof this === "object" && this.content')()||Function("return this")()),("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||"undefined"!=typeof global&&global||Function('return typeof this === "object" && this.content')()||Function("return this")()).RGBColor=function(t){var e;t=t||"",this.ok=!1,"#"==t.charAt(0)&&(t=t.substr(1,6)),t=(t=t.replace(/ /g,"")).toLowerCase();var i={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};for(var n in i)t==n&&(t=i[n]);for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(t){return[parseInt(t[1]),parseInt(t[2]),parseInt(t[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}}],o=0;o<r.length;o++){var s=r[o].process,a=r[o].re.exec(t);a&&(e=s(a),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:255<this.r?255:this.r,this.g=this.g<0||isNaN(this.g)?0:255<this.g?255:this.g,this.b=this.b<0||isNaN(this.b)?0:255<this.b?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var t=this.r.toString(16),e=this.g.toString(16),i=this.b.toString(16);return 1==t.length&&(t="0"+t),1==e.length&&(e="0"+e),1==i.length&&(i="0"+i),"#"+t+e+i}},function(t){var e="+".charCodeAt(0),i="/".charCodeAt(0),n="0".charCodeAt(0),r="a".charCodeAt(0),o="A".charCodeAt(0),s="-".charCodeAt(0),a="_".charCodeAt(0),h=function(t){var h=t.charCodeAt(0);return h===e||h===s?62:h===i||h===a?63:h<n?-1:h<n+10?h-n+26+26:h<o+26?h-o:h<r+26?h-r+26:void 0};t.API.TTFFont=function(){function t(t,e,i){var n;if(this.rawData=t,n=this.contents=new d(t),this.contents.pos=4,"ttcf"===n.readString(4)){if(!e)throw new Error("Must specify a font name for TTC files.");throw new Error("Font "+e+" not found in TTC file.")}n.pos=0,this.parse(),this.subset=new A(this),this.registerTTF()}return t.open=function(e,i,n,r){if("string"!=typeof n)throw new Error("Invalid argument supplied in TTFFont.open");return new t(function(t){var e,i,n,r,o,s;if(0<t.length%4)throw new Error("Invalid string. Length must be a multiple of 4");var a=t.length;o="="===t.charAt(a-2)?2:"="===t.charAt(a-1)?1:0,s=new Uint8Array(3*t.length/4-o),n=0<o?t.length-4:t.length;var l=0;function d(t){s[l++]=t}for(i=e=0;e<n;e+=4,i+=3)d((16711680&(r=h(t.charAt(e))<<18|h(t.charAt(e+1))<<12|h(t.charAt(e+2))<<6|h(t.charAt(e+3))))>>16),d((65280&r)>>8),d(255&r);return 2===o?d(255&(r=h(t.charAt(e))<<2|h(t.charAt(e+1))>>4)):1===o&&(d((r=h(t.charAt(e))<<10|h(t.charAt(e+1))<<4|h(t.charAt(e+2))>>2)>>8&255),d(255&r)),s}(n),i,r)},t.prototype.parse=function(){return this.directory=new u(this.contents),this.head=new p(this),this.name=new x(this),this.cmap=new m(this),this.toUnicode=new Map,this.hhea=new v(this),this.maxp=new _(this),this.hmtx=new k(this),this.post=new b(this),this.os2=new y(this),this.loca=new N(this),this.glyf=new M(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var t,e,i,n;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var t,e,i,n;for(n=[],t=0,e=(i=this.bbox).length;t<e;t++)n.push(Math.round(i[t]*this.scaleFactor));return n}).call(this),this.stemV=0,this.post.exists?(e=255&(i=this.post.italic_angle),!0&(t=i>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+e)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=1===(n=this.familyClass)||2===n||3===n||4===n||5===n||7===n,this.isScript=10===this.familyClass,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),0!==this.italicAngle&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(t){var e;return(null!=(e=this.cmap.unicode)?e.codeMap[t]:void 0)||0},t.prototype.widthOfGlyph=function(t){var e;return e=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*e},t.prototype.widthOfString=function(t,e,i){var n,r,o,s,a;for(r=s=o=0,a=(t=""+t).length;0<=a?s<a:a<s;r=0<=a?++s:--s)n=t.charCodeAt(r),o+=this.widthOfGlyph(this.characterToGlyph(n))+i*(1e3/e)||0;return o*(e/1e3)},t.prototype.lineHeight=function(t,e){return null==e&&(e=!1),(this.ascender+(e?this.lineGap:0)-this.decender)/1e3*t},t}();var l,d=function(){function t(t){this.data=null!=t?t:[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(t){return this.data[this.pos++]=t},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},t.prototype.readInt32=function(){var t;return 2147483648<=(t=this.readUInt32())?t-4294967296:t},t.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},t.prototype.readInt16=function(){var t;return 32768<=(t=this.readUInt16())?t-65536:t},t.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},t.prototype.readString=function(t){var e,i,n;for(i=[],e=n=0;0<=t?n<t:t<n;e=0<=t?++n:--n)i[e]=String.fromCharCode(this.readByte());return i.join("")},t.prototype.writeString=function(t){var e,i,n,r;for(r=[],e=i=0,n=t.length;0<=n?i<n:n<i;e=0<=n?++i:--i)r.push(this.writeByte(t.charCodeAt(e)));return r},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(t){return this.writeInt16(t)},t.prototype.readLongLong=function(){var t,e,i,n,r,o,s,a;return t=this.readByte(),e=this.readByte(),i=this.readByte(),n=this.readByte(),r=this.readByte(),o=this.readByte(),s=this.readByte(),a=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^e)+1099511627776*(255^i)+4294967296*(255^n)+16777216*(255^r)+65536*(255^o)+256*(255^s)+(255^a)+1):72057594037927940*t+281474976710656*e+1099511627776*i+4294967296*n+16777216*r+65536*o+256*s+a},t.prototype.writeLongLong=function(t){var e,i;return e=Math.floor(t/4294967296),i=4294967295&t,this.writeByte(e>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e),this.writeByte(i>>24&255),this.writeByte(i>>16&255),this.writeByte(i>>8&255),this.writeByte(255&i)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(t){return this.writeInt32(t)},t.prototype.read=function(t){var e,i;for(e=[],i=0;0<=t?i<t:t<i;0<=t?++i:--i)e.push(this.readByte());return e},t.prototype.write=function(t){var e,i,n;for(n=[],e=0,i=t.length;e<i;e++)n.push(this.writeByte(t[e]));return n},t}(),u=function(){var t;function e(t){var e,i,n;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},i=0,n=this.tableCount;0<=n?i<n:n<i;0<=n?++i:--i)e={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[e.tag]=e}return e.prototype.encode=function(e){var i,n,r,o,s,a,h,l,u,c,f,p;for(p in c=Object.keys(e).length,s=Math.log(2),l=16*Math.floor(Math.log(c)/s),r=Math.floor(l/s),h=16*c-l,(n=new d).writeInt(this.scalarType),n.writeShort(c),n.writeShort(l),n.writeShort(r),n.writeShort(h),a=n.pos+16*c,o=null,f=[],e)for(u=e[p],n.writeString(p),n.writeInt(t(u)),n.writeInt(a),n.writeInt(u.length),f=f.concat(u),"head"===p&&(o=a),a+=u.length;a%4;)f.push(0),a++;return n.write(f),i=2981146554-t(n.data),n.pos=o+8,n.writeUInt32(i),n.data},t=function(t){var e,i,n,r;for(t=S.call(t);t.length%4;)t.push(0);for(i=new d(t),n=e=0,r=t.length;n<r;n+=4)e+=i.readUInt32();return 4294967295&e},e}(),c={}.hasOwnProperty,f=function(t,e){for(var i in e)c.call(e,i)&&(t[i]=e[i]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};l=function(){function t(t){var e;this.file=t,this.exists=!!(e=this.file.directory.tables[this.tag]),e&&(this.offset=e.offset,this.length=e.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var p=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return f(e,l),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var e;return(e=new d).writeInt(this.version),e.writeInt(this.revision),e.writeInt(this.checkSumAdjustment),e.writeInt(this.magicNumber),e.writeShort(this.flags),e.writeShort(this.unitsPerEm),e.writeLongLong(this.created),e.writeLongLong(this.modified),e.writeShort(this.xMin),e.writeShort(this.yMin),e.writeShort(this.xMax),e.writeShort(this.yMax),e.writeShort(this.macStyle),e.writeShort(this.lowestRecPPEM),e.writeShort(this.fontDirectionHint),e.writeShort(t),e.writeShort(this.glyphDataFormat),e.data},e}(),g=function(){function t(t,e){var i,n,r,o,s,a,h,l,d,u,c,f,p,g,m,v,y,b;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=e+t.readInt(),d=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=3===this.platformID&&1===this.encodingID&&4===this.format||0===this.platformID&&4===this.format,this.codeMap={},this.format){case 0:for(a=m=0;m<256;a=++m)this.codeMap[a]=t.readByte();break;case 4:for(c=t.readUInt16(),u=c/2,t.pos+=6,r=function(){var e,i;for(i=[],a=e=0;0<=u?e<u:u<e;a=0<=u?++e:--e)i.push(t.readUInt16());return i}(),t.pos+=2,p=function(){var e,i;for(i=[],a=e=0;0<=u?e<u:u<e;a=0<=u?++e:--e)i.push(t.readUInt16());return i}(),h=function(){var e,i;for(i=[],a=e=0;0<=u?e<u:u<e;a=0<=u?++e:--e)i.push(t.readUInt16());return i}(),l=function(){var e,i;for(i=[],a=e=0;0<=u?e<u:u<e;a=0<=u?++e:--e)i.push(t.readUInt16());return i}(),n=(this.length-t.pos+this.offset)/2,s=function(){var e,i;for(i=[],a=e=0;0<=n?e<n:n<e;a=0<=n?++e:--e)i.push(t.readUInt16());return i}(),a=v=0,b=r.length;v<b;a=++v)for(g=r[a],i=y=f=p[a];f<=g?y<=g:g<=y;i=f<=g?++y:--y)0===l[a]?o=i+h[a]:0!==(o=s[l[a]/2+(i-f)-(u-a)]||0)&&(o+=h[a]),this.codeMap[i]=65535&o}t.pos=d}return t.encode=function(t,e){var i,n,r,o,s,a,h,l,u,c,f,p,g,m,v,y,b,w,x,_,k,S,M,C,E,N,A,D,T,L,O,P,I,B,R,F,z,j,q,H,W,U,V,Y,G;switch(A=new d,o=Object.keys(t).sort(function(t,e){return t-e}),e){case"macroman":for(g=0,m=function(){var t,e;for(e=[],p=t=0;t<256;p=++t)e.push(0);return e}(),y={0:0},r={},D=0,P=o.length;D<P;D++)null==y[U=t[n=o[D]]]&&(y[U]=++g),r[n]={old:t[n],new:y[t[n]]},m[n]=y[t[n]];return A.writeUInt16(1),A.writeUInt16(0),A.writeUInt32(12),A.writeUInt16(0),A.writeUInt16(262),A.writeUInt16(0),A.write(m),{charMap:r,subtable:A.data,maxGlyphID:g+1};case"unicode":for(E=[],u=[],y={},i={},v=h=null,T=b=0,I=o.length;T<I;T++)null==y[w=t[n=o[T]]]&&(y[w]=++b),i[n]={old:w,new:y[w]},s=y[w]-n,null!=v&&s===h||(v&&u.push(v),E.push(n),h=s),v=n;for(v&&u.push(v),u.push(65535),E.push(65535),M=2*(S=E.length),k=2*Math.pow(Math.log(S)/Math.LN2,2),c=Math.log(k/2)/Math.LN2,_=2*S-k,a=[],x=[],f=[],p=L=0,B=E.length;L<B;p=++L){if(l=u[p],65535===(C=E[p])){a.push(0),x.push(0);break}if(32768<=C-(N=i[C].new))for(a.push(0),x.push(2*(f.length+S-p)),n=O=C;C<=l?O<=l:l<=O;n=C<=l?++O:--O)f.push(i[n].new);else a.push(N-C),x.push(0)}for(A.writeUInt16(3),A.writeUInt16(1),A.writeUInt32(12),A.writeUInt16(4),A.writeUInt16(16+8*S+2*f.length),A.writeUInt16(0),A.writeUInt16(M),A.writeUInt16(k),A.writeUInt16(c),A.writeUInt16(_),H=0,R=u.length;H<R;H++)A.writeUInt16(n=u[H]);for(A.writeUInt16(0),W=0,F=E.length;W<F;W++)A.writeUInt16(n=E[W]);for(V=0,z=a.length;V<z;V++)A.writeUInt16(s=a[V]);for(Y=0,j=x.length;Y<j;Y++)A.writeUInt16(x[Y]);for(G=0,q=f.length;G<q;G++)A.writeUInt16(g=f[G]);return{charMap:i,subtable:A.data,maxGlyphID:b+1}}},t}(),m=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return f(e,l),e.prototype.tag="cmap",e.prototype.parse=function(t){var e,i,n;for(t.pos=this.offset,this.version=t.readUInt16(),i=t.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=i?n<i:i<n;0<=i?++n:--n)e=new g(t,this.offset),this.tables.push(e),e.isUnicode&&null==this.unicode&&(this.unicode=e);return!0},e.encode=function(t,e){var i,n;return null==e&&(e="macroman"),i=g.encode(t,e),(n=new d).writeUInt16(0),n.writeUInt16(1),i.table=n.data.concat(i.subtable),i},e}(),v=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return f(e,l),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),y=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return f(e,l),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var e,i;for(i=[],e=0;e<10;++e)i.push(t.readByte());return i}(),this.charRange=function(){var e,i;for(i=[],e=0;e<4;++e)i.push(t.readInt());return i}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),0<this.version&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var e,i;for(i=[],e=0;e<2;++e)i.push(t.readInt());return i}(),1<this.version))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),b=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return f(e,l),e.prototype.tag="post",e.prototype.parse=function(t){var e,i,n,r;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:break;case 131072:for(i=t.readUInt16(),this.glyphNameIndex=[],n=0;0<=i?n<i:i<n;0<=i?++n:--n)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],r=[];t.pos<this.offset+this.length;)e=t.readByte(),r.push(this.names.push(t.readString(e)));return r;case 151552:return i=t.readUInt16(),this.offsets=t.read(i);case 196608:break;case 262144:return this.map=(function(){var e,i,n;for(n=[],e=0,i=this.file.maxp.numGlyphs;0<=i?e<i:i<e;0<=i?++e:--e)n.push(t.readUInt32());return n}).call(this)}},e}(),w=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},x=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return f(e,l),e.prototype.tag="name",e.prototype.parse=function(t){var e,i,n,r,o,s,a,h,l,d,u,c;for(t.pos=this.offset,t.readShort(),e=t.readShort(),s=t.readShort(),i=[],r=l=0;0<=e?l<e:e<l;r=0<=e?++l:--l)i.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+s+t.readShort()});for(a={},r=d=0,u=i.length;d<u;r=++d)t.pos=(n=i[r]).offset,h=t.readString(n.length),o=new w(h,n),null==a[c=n.nameID]&&(a[c]=[]),a[n.nameID].push(o);this.strings=a,this.copyright=a[0],this.fontFamily=a[1],this.fontSubfamily=a[2],this.uniqueSubfamily=a[3],this.fontName=a[4],this.version=a[5];try{this.postscriptName=a[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch(t){this.postscriptName=a[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=a[7],this.manufacturer=a[8],this.designer=a[9],this.description=a[10],this.vendorUrl=a[11],this.designerUrl=a[12],this.license=a[13],this.licenseUrl=a[14],this.preferredFamily=a[15],this.preferredSubfamily=a[17],this.compatibleFull=a[18],this.sampleText=a[19]},e}(),_=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return f(e,l),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),k=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return f(e,l),e.prototype.tag="hmtx",e.prototype.parse=function(t){var e,i,n,r,o,s;for(t.pos=this.offset,this.metrics=[],n=0,o=this.file.hhea.numberOfMetrics;0<=o?n<o:o<n;0<=o?++n:--n)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var e,n;for(n=[],e=0;0<=i?e<i:i<e;0<=i?++e:--e)n.push(t.readInt16());return n}(),this.widths=(function(){var t,e,i,n;for(n=[],t=0,e=(i=this.metrics).length;t<e;t++)n.push(i[t].advance);return n}).call(this),e=this.widths[this.widths.length-1],s=[],r=0;0<=i?r<i:i<r;0<=i?++r:--r)s.push(this.widths.push(e));return s},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),S=[].slice,M=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return f(e,l),e.prototype.tag="glyf",e.prototype.parse=function(t){return this.cache={}},e.prototype.glyphFor=function(t){var e,i,n,r,o,s,a,h,l,u;return(t=t)in this.cache?this.cache[t]:(e=this.file.contents,i=(r=this.file.loca).indexOf(t),0===(n=r.lengthOf(t))?this.cache[t]=null:(e.pos=this.offset+i,o=(s=new d(e.read(n))).readShort(),h=s.readShort(),u=s.readShort(),a=s.readShort(),l=s.readShort(),this.cache[t]=-1===o?new E(s,h,u,a,l):new C(s,o,h,u,a,l),this.cache[t]))},e.prototype.encode=function(t,e,i){var n,r,o,s,a;for(o=[],r=[],s=0,a=e.length;s<a;s++)n=t[e[s]],r.push(o.length),n&&(o=o.concat(n.encode(i)));return r.push(o.length),{table:o,offsets:r}},e}(),C=function(){function t(t,e,i,n,r,o){this.raw=t,this.numberOfContours=e,this.xMin=i,this.yMin=n,this.xMax=r,this.yMax=o,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),E=function(){function t(t,e,i,n,r){var o,s;for(this.raw=t,this.xMin=e,this.yMin=i,this.xMax=n,this.yMax=r,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;s=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readShort()),32&s;)o.pos+=1&s?4:2,128&s?o.pos+=8:64&s?o.pos+=4:8&s&&(o.pos+=2)}return t.prototype.encode=function(t){var e,i,n,r;for(i=new d(S.call(this.raw.data)),e=n=0,r=this.glyphIDs.length;n<r;e=++n)i.pos=this.glyphOffsets[e];return i.data},t}(),N=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return f(e,l),e.prototype.tag="loca",e.prototype.parse=function(t){return t.pos=this.offset,this.offsets=0===this.file.head.indexToLocFormat?(function(){var e,i,n;for(n=[],e=0,i=this.length;e<i;e+=2)n.push(2*t.readUInt16());return n}).call(this):(function(){var e,i,n;for(n=[],e=0,i=this.length;e<i;e+=4)n.push(t.readUInt32());return n}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,e){for(var i=new Uint32Array(this.offsets.length),n=0,r=0,o=0;o<i.length;++o)if(i[o]=n,r<e.length&&e[r]==o){++r,i[o]=n;var s=this.offsets[o+1]-this.offsets[o];0<s&&(n+=s)}for(var a=new Array(4*i.length),h=0;h<i.length;++h)a[4*h+3]=255&i[h],a[4*h+2]=(65280&i[h])>>8,a[4*h+1]=(16711680&i[h])>>16,a[4*h]=(4278190080&i[h])>>24;return a},e}(),A=function(){function t(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var t,e,i,n;for(e in i=this.font.cmap.tables[0].codeMap,t={},n=this.subset)t[e]=i[n[e]];return t},t.prototype.glyphsFor=function(t){var e,i,n,r,o,s,a;for(n={},o=0,s=t.length;o<s;o++)n[r=t[o]]=this.font.glyf.glyphFor(r);for(r in e=[],n)(null!=(i=n[r])?i.compound:void 0)&&e.push.apply(e,i.glyphIDs);if(0<e.length)for(r in a=this.glyphsFor(e))n[r]=i=a[r];return n},t.prototype.encode=function(t,e){var i,n,r,o,s,a,h,l,d,u,c,f,p,g;for(n in i=m.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),u={0:0},g=i.charMap)u[(s=g[n]).old]=s.new;for(c in d=i.maxGlyphID,o)c in u||(u[c]=d++);return h=function(t){var e,i;for(e in i={},t)i[t[e]]=e;return i}(u),l=Object.keys(h).sort(function(t,e){return t-e}),f=function(){var t,e,i;for(i=[],t=0,e=l.length;t<e;t++)i.push(h[l[t]]);return i}(),r=this.font.glyf.encode(o,f,u),a=this.font.loca.encode(r.offsets,f),p={cmap:this.font.cmap.raw(),glyf:r.table,loca:a,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(e)},this.font.os2.exists&&(p["OS/2"]=this.font.os2.raw()),this.font.directory.encode(p)},t}();t.API.PDFObject=function(){var t;function e(){}return t=function(t,e){return(Array(e+1).join("0")+t).slice(-e)},e.convert=function(i){var n,r;if(Array.isArray(i))return"["+function(){var t,n,r;for(r=[],t=0,n=i.length;t<n;t++)r.push(e.convert(i[t]));return r}().join(" ")+"]";if("string"==typeof i)return"/"+i;if(null!=i?i.isString:void 0)return"("+i+")";if(i instanceof Date)return"(D:"+t(i.getUTCFullYear(),4)+t(i.getUTCMonth(),2)+t(i.getUTCDate(),2)+t(i.getUTCHours(),2)+t(i.getUTCMinutes(),2)+t(i.getUTCSeconds(),2)+"Z)";if("[object Object]"!=={}.toString.call(i))return""+i;for(n in r=["<<"],i)r.push("/"+n+" "+e.convert(i[n]));return r.push(">>"),r.join("\n")},e}()}(ht),_t="undefined"!=typeof self&&self||"undefined"!=typeof window&&window||"undefined"!=typeof global&&global||Function('return typeof this === "object" && this.content')()||Function("return this")(),kt=function(){var t,i,n;function r(t){var e,i,n,r,o,s,a,h,l,d,u,c,f;for(this.data=t,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},o=null;;){switch(e=this.readUInt32(),h=(function(){var t,e;for(e=[],t=0;t<4;++t)e.push(String.fromCharCode(this.data[this.pos++]));return e}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(e);break;case"fcTL":o&&this.animation.frames.push(o),this.pos+=4,o={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},r=this.readUInt16(),n=this.readUInt16()||100,o.delay=1e3*r/n,o.disposeOp=this.data[this.pos++],o.blendOp=this.data[this.pos++],o.data=[];break;case"IDAT":case"fdAT":for("fdAT"===h&&(this.pos+=4,e-=4),t=(null!=o?o.data:void 0)||this.imgData,u=0;0<=e?u<e:e<u;0<=e?++u:--u)t.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(i=this.palette.length/3,this.transparency.indexed=this.read(e),this.transparency.indexed.length>i)throw new Error("More transparent colors than palette size");if(0<(l=i-this.transparency.indexed.length))for(c=0;0<=l?c<l:l<c;0<=l?++c:--c)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(e)[0];break;case 2:this.transparency.rgb=this.read(e)}break;case"tEXt":s=(d=this.read(e)).indexOf(0),a=String.fromCharCode.apply(String,d.slice(0,s)),this.text[a]=String.fromCharCode.apply(String,d.slice(s+1));break;case"IEND":return o&&this.animation.frames.push(o),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=4===(f=this.colorType)||6===f,this.pixelBitlength=this.bits*(this.colors+(this.hasAlphaChannel?1:0)),this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=e}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.load=function(t,e,i){var n;return"function"==typeof e&&(i=e),(n=new XMLHttpRequest).open("GET",t,!0),n.responseType="arraybuffer",n.onload=function(){var t;return t=new r(new Uint8Array(n.response||n.mozResponseArrayBuffer)),"function"==typeof(null!=e?e.getContext:void 0)&&t.render(e),"function"==typeof i?i(t):void 0},n.send(null)},r.prototype.read=function(t){var e,i;for(i=[],e=0;0<=t?e<t:t<e;0<=t?++e:--e)i.push(this.data[this.pos++]);return i},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(t){var e=this.pixelBitlength/8,i=new Uint8Array(this.width*this.height*e),n=0,r=this;if(null==t&&(t=this.imgData),0===t.length)return new Uint8Array(0);function o(o,s,a,h){var l,d,u,c,f,p,g,m,v,y,b,w,x,_,k,S,M,C,E,N,A=Math.ceil((r.width-o)/a),D=Math.ceil((r.height-s)/h),T=r.width==A&&r.height==D;for(x=e*A,b=T?i:new Uint8Array(x*D),p=t.length,d=w=0;w<D&&n<p;){switch(t[n++]){case 0:for(c=S=0;S<x;c=S+=1)b[d++]=t[n++];break;case 1:for(c=M=0;M<x;c=M+=1)l=t[n++],f=c<e?0:b[d-e],b[d++]=(l+f)%256;break;case 2:for(c=C=0;C<x;c=C+=1)l=t[n++],u=(c-c%e)/e,b[d++]=((_=w&&b[(w-1)*x+u*e+c%e])+l)%256;break;case 3:for(c=E=0;E<x;c=E+=1)l=t[n++],u=(c-c%e)/e,f=c<e?0:b[d-e],_=w&&b[(w-1)*x+u*e+c%e],b[d++]=(l+Math.floor((f+_)/2))%256;break;case 4:for(c=N=0;N<x;c=N+=1)l=t[n++],u=(c-c%e)/e,0===w?_=k=0:(_=b[(w-1)*x+u*e+c%e],k=u&&b[(w-1)*x+(u-1)*e+c%e]),g=(f=c<e?0:b[d-e])+_-k,m=Math.abs(g-f),v=Math.abs(g-_),y=Math.abs(g-k),b[d++]=(l+(m<=v&&m<=y?f:v<=y?_:k))%256;break;default:throw new Error("Invalid filter algorithm: "+t[n-1])}if(!T){var L=((s+w*h)*r.width+o)*e,O=w*x;for(c=0;c<A;c+=1){for(var P=0;P<e;P+=1)i[L++]=b[O++];L+=(a-1)*e}}w++}}return t=(t=new Dt(t)).getBytes(),1==r.interlaceMethod?(o(0,0,8,8),o(4,0,8,8),o(0,4,4,8),o(2,0,4,4),o(0,2,2,4),o(1,0,2,2),o(0,1,1,2)):o(0,0,1,1),i},r.prototype.decodePalette=function(){var t,e,i,n,r,o,s,a,h;for(i=this.palette,o=this.transparency.indexed||[],r=new Uint8Array((o.length||0)+i.length),n=0,e=s=t=0,a=i.length;s<a;e=s+=3)r[n++]=i[e],r[n++]=i[e+1],r[n++]=i[e+2],r[n++]=null!=(h=o[t++])?h:255;return r},r.prototype.copyToImageData=function(t,e){var i,n,r,o,s,a,h,l,d,u,c;if(n=this.colors,d=null,i=this.hasAlphaChannel,this.palette.length&&(d=null!=(c=this._decodedPalette)?c:this._decodedPalette=this.decodePalette(),n=4,i=!0),l=(r=t.data||t).length,s=d||e,o=a=0,1===n)for(;o<l;)h=d?4*e[o/4]:a,u=s[h++],r[o++]=u,r[o++]=u,r[o++]=u,r[o++]=i?s[h++]:255,a=h;else for(;o<l;)h=d?4*e[o/4]:a,r[o++]=s[h++],r[o++]=s[h++],r[o++]=s[h++],r[o++]=i?s[h++]:255,a=h},r.prototype.decode=function(){var t;return t=new Uint8Array(this.width*this.height*4),this.copyToImageData(t,this.decodePixels()),t};try{i=_t.document.createElement("canvas"),n=i.getContext("2d")}catch(e){return-1}return t=function(t){var e;return n.width=t.width,n.height=t.height,n.clearRect(0,0,t.width,t.height),n.putImageData(t,0,0),(e=new Image).src=i.toDataURL(),e},r.prototype.decodeFrames=function(e){var i,n,r,o,s,a,h,l;if(this.animation){for(l=[],n=s=0,a=(h=this.animation.frames).length;s<a;n=++s)r=e.createImageData((i=h[n]).width,i.height),o=this.decodePixels(new Uint8Array(i.data)),this.copyToImageData(r,o),i.imageData=r,l.push(i.image=t(r));return l}},r.prototype.renderFrame=function(t,e){var i,n,r;return i=(n=this.animation.frames)[e],r=n[e-1],0===e&&t.clearRect(0,0,this.width,this.height),1===(null!=r?r.disposeOp:void 0)?t.clearRect(r.xOffset,r.yOffset,r.width,r.height):2===(null!=r?r.disposeOp:void 0)&&t.putImageData(r.imageData,r.xOffset,r.yOffset),0===i.blendOp&&t.clearRect(i.xOffset,i.yOffset,i.width,i.height),t.drawImage(i.image,i.xOffset,i.yOffset)},r.prototype.animate=function(t){var e,i,n,r,o,s,a=this;return i=0,r=(s=this.animation).numFrames,n=s.frames,o=s.numPlays,(e=function(){var s,h;if(s=i++%r,h=n[s],a.renderFrame(t,s),1<r&&i/r<o)return a.animation._timeout=setTimeout(e,h.delay)})()},r.prototype.stopAnimation=function(){var t;return clearTimeout(null!=(t=this.animation)?t._timeout:void 0)},r.prototype.render=function(t){var e,i;return t._png&&t._png.stopAnimation(),t._png=this,t.width=this.width,t.height=this.height,e=t.getContext("2d"),this.animation?(this.decodeFrames(e),this.animate(e)):(i=e.createImageData(this.width,this.height),this.copyToImageData(i,this.decodePixels()),e.putImageData(i,0,0))},r}(),_t.PNG=kt;var At=function(){function t(){this.pos=0,this.bufferLength=0,this.eof=!1,this.buffer=null}return t.prototype={ensureBuffer:function(t){var e=this.buffer,i=e?e.byteLength:0;if(t<i)return e;for(var n=512;n<t;)n<<=1;for(var r=new Uint8Array(n),o=0;o<i;++o)r[o]=e[o];return this.buffer=r},getByte:function(){for(var t=this.pos;this.bufferLength<=t;){if(this.eof)return null;this.readBlock()}return this.buffer[this.pos++]},getBytes:function(t){var e=this.pos;if(t){this.ensureBuffer(e+t);for(var i=e+t;!this.eof&&this.bufferLength<i;)this.readBlock();var n=this.bufferLength;n<i&&(i=n)}else{for(;!this.eof;)this.readBlock();i=this.bufferLength}return this.pos=i,this.buffer.subarray(e,i)},lookChar:function(){for(var t=this.pos;this.bufferLength<=t;){if(this.eof)return null;this.readBlock()}return String.fromCharCode(this.buffer[this.pos])},getChar:function(){for(var t=this.pos;this.bufferLength<=t;){if(this.eof)return null;this.readBlock()}return String.fromCharCode(this.buffer[this.pos++])},makeSubStream:function(t,e,i){for(var n=t+e;this.bufferLength<=n&&!this.eof;)this.readBlock();return new Stream(this.buffer,t,e,i)},skip:function(t){t||(t=1),this.pos+=t},reset:function(){this.pos=0}},t}(),Dt=function(){if("undefined"!=typeof Uint32Array){var t=new Uint32Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),e=new Uint32Array([3,4,5,6,7,8,9,10,65547,65549,65551,65553,131091,131095,131099,131103,196643,196651,196659,196667,262211,262227,262243,262259,327811,327843,327875,327907,258,258,258]),i=new Uint32Array([1,2,3,4,65541,65543,131081,131085,196625,196633,262177,262193,327745,327777,393345,393409,459009,459137,524801,525057,590849,591361,657409,658433,724993,727041,794625,798721,868353,876545]),n=[new Uint32Array([459008,524368,524304,524568,459024,524400,524336,590016,459016,524384,524320,589984,524288,524416,524352,590048,459012,524376,524312,589968,459028,524408,524344,590032,459020,524392,524328,59e4,524296,524424,524360,590064,459010,524372,524308,524572,459026,524404,524340,590024,459018,524388,524324,589992,524292,524420,524356,590056,459014,524380,524316,589976,459030,524412,524348,590040,459022,524396,524332,590008,524300,524428,524364,590072,459009,524370,524306,524570,459025,524402,524338,590020,459017,524386,524322,589988,524290,524418,524354,590052,459013,524378,524314,589972,459029,524410,524346,590036,459021,524394,524330,590004,524298,524426,524362,590068,459011,524374,524310,524574,459027,524406,524342,590028,459019,524390,524326,589996,524294,524422,524358,590060,459015,524382,524318,589980,459031,524414,524350,590044,459023,524398,524334,590012,524302,524430,524366,590076,459008,524369,524305,524569,459024,524401,524337,590018,459016,524385,524321,589986,524289,524417,524353,590050,459012,524377,524313,589970,459028,524409,524345,590034,459020,524393,524329,590002,524297,524425,524361,590066,459010,524373,524309,524573,459026,524405,524341,590026,459018,524389,524325,589994,524293,524421,524357,590058,459014,524381,524317,589978,459030,524413,524349,590042,459022,524397,524333,590010,524301,524429,524365,590074,459009,524371,524307,524571,459025,524403,524339,590022,459017,524387,524323,589990,524291,524419,524355,590054,459013,524379,524315,589974,459029,524411,524347,590038,459021,524395,524331,590006,524299,524427,524363,590070,459011,524375,524311,524575,459027,524407,524343,590030,459019,524391,524327,589998,524295,524423,524359,590062,459015,524383,524319,589982,459031,524415,524351,590046,459023,524399,524335,590014,524303,524431,524367,590078,459008,524368,524304,524568,459024,524400,524336,590017,459016,524384,524320,589985,524288,524416,524352,590049,459012,524376,524312,589969,459028,524408,524344,590033,459020,524392,524328,590001,524296,524424,524360,590065,459010,524372,524308,524572,459026,524404,524340,590025,459018,524388,524324,589993,524292,524420,524356,590057,459014,524380,524316,589977,459030,524412,524348,590041,459022,524396,524332,590009,524300,524428,524364,590073,459009,524370,524306,524570,459025,524402,524338,590021,459017,524386,524322,589989,524290,524418,524354,590053,459013,524378,524314,589973,459029,524410,524346,590037,459021,524394,524330,590005,524298,524426,524362,590069,459011,524374,524310,524574,459027,524406,524342,590029,459019,524390,524326,589997,524294,524422,524358,590061,459015,524382,524318,589981,459031,524414,524350,590045,459023,524398,524334,590013,524302,524430,524366,590077,459008,524369,524305,524569,459024,524401,524337,590019,459016,524385,524321,589987,524289,524417,524353,590051,459012,524377,524313,589971,459028,524409,524345,590035,459020,524393,524329,590003,524297,524425,524361,590067,459010,524373,524309,524573,459026,524405,524341,590027,459018,524389,524325,589995,524293,524421,524357,590059,459014,524381,524317,589979,459030,524413,524349,590043,459022,524397,524333,590011,524301,524429,524365,590075,459009,524371,524307,524571,459025,524403,524339,590023,459017,524387,524323,589991,524291,524419,524355,590055,459013,524379,524315,589975,459029,524411,524347,590039,459021,524395,524331,590007,524299,524427,524363,590071,459011,524375,524311,524575,459027,524407,524343,590031,459019,524391,524327,589999,524295,524423,524359,590063,459015,524383,524319,589983,459031,524415,524351,590047,459023,524399,524335,590015,524303,524431,524367,590079]),9],r=[new Uint32Array([327680,327696,327688,327704,327684,327700,327692,327708,327682,327698,327690,327706,327686,327702,327694,0,327681,327697,327689,327705,327685,327701,327693,327709,327683,327699,327691,327707,327687,327703,327695,0]),5];return(s.prototype=Object.create(At.prototype)).getBits=function(t){for(var e,i=this.codeSize,n=this.codeBuf,r=this.bytes,s=this.bytesPos;i<t;)void 0===(e=r[s++])&&o("Bad encoding in flate stream"),n|=e<<i,i+=8;return e=n&(1<<t)-1,this.codeBuf=n>>t,this.codeSize=i-=t,this.bytesPos=s,e},s.prototype.getCode=function(t){for(var e=t[0],i=t[1],n=this.codeSize,r=this.codeBuf,s=this.bytes,a=this.bytesPos;n<i;){var h;void 0===(h=s[a++])&&o("Bad encoding in flate stream"),r|=h<<n,n+=8}var l=e[r&(1<<i)-1],d=l>>16,u=65535&l;return(0==n||n<d||0==d)&&o("Bad encoding in flate stream"),this.codeBuf=r>>d,this.codeSize=n-d,this.bytesPos=a,u},s.prototype.generateHuffmanTable=function(t){for(var e=t.length,i=0,n=0;n<e;++n)t[n]>i&&(i=t[n]);for(var r=1<<i,o=new Uint32Array(r),s=1,a=0,h=2;s<=i;++s,a<<=1,h<<=1)for(var l=0;l<e;++l)if(t[l]==s){var d=0,u=a;for(n=0;n<s;++n)d=d<<1|1&u,u>>=1;for(n=d;n<r;n+=h)o[n]=s<<16|l;++a}return[o,i]},s.prototype.readBlock=function(){function s(t,e,i,n,r){for(var o=t.getBits(i)+n;0<o--;)e[p++]=r}var a=this.getBits(3);if(1&a&&(this.eof=!0),0!=(a>>=1)){var h,l;if(1==a)h=n,l=r;else if(2==a){for(var d=this.getBits(5)+257,u=this.getBits(5)+1,c=this.getBits(4)+4,f=Array(t.length),p=0;p<c;)f[t[p++]]=this.getBits(3);for(var g=this.generateHuffmanTable(f),m=0,v=(p=0,d+u),y=new Array(v);p<v;){var b=this.getCode(g);16==b?s(this,y,2,3,m):17==b?s(this,y,3,3,m=0):18==b?s(this,y,7,11,m=0):y[p++]=m=b}h=this.generateHuffmanTable(y.slice(0,d)),l=this.generateHuffmanTable(y.slice(d,v))}else o("Unknown block type in flate stream");for(var w=(L=this.buffer)?L.length:0,x=this.bufferLength;;){var _=this.getCode(h);if(_<256)w<=x+1&&(w=(L=this.ensureBuffer(x+1)).length),L[x++]=_;else{if(256==_)return void(this.bufferLength=x);var k=(_=e[_-=257])>>16;0<k&&(k=this.getBits(k)),m=(65535&_)+k,_=this.getCode(l),0<(k=(_=i[_])>>16)&&(k=this.getBits(k));var S=(65535&_)+k;w<=x+m&&(w=(L=this.ensureBuffer(x+m)).length);for(var M=0;M<m;++M,++x)L[x]=L[x-S]}}}else{var C,E=this.bytes,N=this.bytesPos;void 0===(C=E[N++])&&o("Bad block header in flate stream");var A=C;void 0===(C=E[N++])&&o("Bad block header in flate stream"),A|=C<<8,void 0===(C=E[N++])&&o("Bad block header in flate stream");var D=C;void 0===(C=E[N++])&&o("Bad block header in flate stream"),(D|=C<<8)!=(65535&~A)&&o("Bad uncompressed block length in flate stream"),this.codeBuf=0,this.codeSize=0;var T=this.bufferLength,L=this.ensureBuffer(T+A),O=T+A;this.bufferLength=O;for(var P=T;P<O;++P){if(void 0===(C=E[N++])){this.eof=!0;break}L[P]=C}this.bytesPos=N}},s}function o(t){throw new Error(t)}function s(t){var e=0,i=t[e++],n=t[e++];-1!=i&&-1!=n||o("Invalid header in flate stream"),8!=(15&i)&&o("Unknown compression method in flate stream"),((i<<8)+n)%31!=0&&o("Bad FCHECK in flate stream"),32&n&&o("FDICT bit set in flate stream"),this.bytes=t,this.bytesPos=2,this.codeSize=0,this.codeBuf=0,At.call(this)}}();window.tmp=Dt});try{module.exports=jsPDF}catch(t){}!function(t,e){"function"==typeof define&&define.amd?define(e):"object"==typeof exports?module.exports=e():t.ResizeSensor=e()}("undefined"!=typeof window?window:this,function(){if("undefined"==typeof window)return null;var t=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(t){return window.setTimeout(t,20)};function e(t,e){var i=Object.prototype.toString.call(t),n="[object Array]"===i||"[object NodeList]"===i||"[object HTMLCollection]"===i||"[object Object]"===i||"undefined"!=typeof jQuery&&t instanceof jQuery||"undefined"!=typeof Elements&&t instanceof Elements,r=0,o=t.length;if(n)for(;r<o;r++)e(t[r]);else e(t)}function i(t){if(!t.getBoundingClientRect)return{width:t.offsetWidth,height:t.offsetHeight};var e=t.getBoundingClientRect();return{width:Math.round(e.width),height:Math.round(e.height)}}var n=function(r,o){function s(){var t,e,i=[];this.add=function(t){i.push(t)},this.call=function(n){for(t=0,e=i.length;t<e;t++)i[t].call(this,n)},this.remove=function(n){var r=[];for(t=0,e=i.length;t<e;t++)i[t]!==n&&r.push(i[t]);i=r},this.length=function(){return i.length}}e(r,function(e){!function(e,n){if(e)if(e.resizedAttached)e.resizedAttached.add(n);else{e.resizedAttached=new s,e.resizedAttached.add(n),e.resizeSensor=document.createElement("div"),e.resizeSensor.dir="ltr",e.resizeSensor.className="resize-sensor";var r="pointer-events: none; position: absolute; left: 0px; top: 0px; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden; max-width: 100%;",o="position: absolute; left: 0; top: 0; transition: 0s;";e.resizeSensor.style.cssText=r,e.resizeSensor.innerHTML='<div class="resize-sensor-expand" style="'+r+'"><div style="'+o+'"></div></div><div class="resize-sensor-shrink" style="'+r+'"><div style="'+o+' width: 200%; height: 200%"></div></div>',e.appendChild(e.resizeSensor);var a=window.getComputedStyle(e),h=a?a.getPropertyValue("position"):null;"absolute"!==h&&"relative"!==h&&"fixed"!==h&&(e.style.position="relative");var l,d,u=e.resizeSensor.childNodes[0],c=u.childNodes[0],f=e.resizeSensor.childNodes[1],p=i(e),g=p.width,m=p.height,v=!0,y=0,b=function(){if(v){if(0===e.offsetWidth&&0===e.offsetHeight)return void(y||(y=t(function(){y=0,b()})));v=!1}var i,n;n=e.offsetHeight,c.style.width=(i=e.offsetWidth)+10+"px",c.style.height=n+10+"px",u.scrollLeft=i+10,u.scrollTop=n+10,f.scrollLeft=i+10,f.scrollTop=n+10};e.resizeSensor.resetSensor=b;var w=function(){d=0,l&&(g=p.width,m=p.height,e.resizedAttached&&e.resizedAttached.call(p))},x=function(){p=i(e),(l=p.width!==g||p.height!==m)&&!d&&(d=t(w)),b()},_=function(t,e,i){t.attachEvent?t.attachEvent("on"+e,i):t.addEventListener(e,i)};_(u,"scroll",x),_(f,"scroll",x),t(b)}}(e,o)}),this.detach=function(t){n.detach(r,t)},this.reset=function(){r.resizeSensor.resetSensor()}};if(n.reset=function(t){e(t,function(t){t.resizeSensor.resetSensor()})},n.detach=function(t,i){e(t,function(t){t&&(t.resizedAttached&&"function"==typeof i&&(t.resizedAttached.remove(i),t.resizedAttached.length())||t.resizeSensor&&(t.contains(t.resizeSensor)&&t.removeChild(t.resizeSensor),delete t.resizeSensor,delete t.resizedAttached))})},"undefined"!=typeof MutationObserver){var r=new MutationObserver(function(t){for(var e in t)if(t.hasOwnProperty(e))for(var i=t[e].addedNodes,r=0;r<i.length;r++)i[r].resizeSensor&&n.reset(i[r])});document.addEventListener("DOMContentLoaded",function(t){r.observe(document.body,{childList:!0,subtree:!0})})}return n}),function(t,e){"function"==typeof define&&define.amd?define(["./ResizeSensor.js"],e):"object"==typeof exports?module.exports=e(require("./ResizeSensor.js")):(t.ElementQueries=e(t.ResizeSensor),t.ElementQueries.listen())}("undefined"!=typeof window?window:this,function(t){var e=function(){var e,i={},n=[];function r(t){t||(t=document.documentElement);var e=window.getComputedStyle(t,null).fontSize;return parseFloat(e)||16}function o(t,e){var i=e.split(/\d/),n=i[i.length-1];switch(e=parseFloat(e),n){case"px":return e;case"em":return e*r(t);case"rem":return e*r();case"vw":return e*document.documentElement.clientWidth/100;case"vh":return e*document.documentElement.clientHeight/100;case"vmin":case"vmax":var o=document.documentElement.clientWidth/100,s=document.documentElement.clientHeight/100;return e*(0,Math["vmin"===n?"min":"max"])(o,s);default:return e}}function s(t,e){var n,r,s,a,h,l,d,u;this.element=t;var c=["min-width","min-height","max-width","max-height"];this.call=function(){for(n in s=function(t){if(!t.getBoundingClientRect)return{width:t.offsetWidth,height:t.offsetHeight};var e=t.getBoundingClientRect();return{width:Math.round(e.width),height:Math.round(e.height)}}(this.element),l={},i[e])i[e].hasOwnProperty(n)&&(a=o(this.element,(r=i[e][n]).value),h="width"===r.property?s.width:s.height,d="","min"===r.mode&&h>=a&&(d+=r.value),"max"===r.mode&&h<=a&&(d+=r.value),l[u=r.mode+"-"+r.property]||(l[u]=""),d&&-1===(" "+l[u]+" ").indexOf(" "+d+" ")&&(l[u]+=" "+d));for(var t in c)c.hasOwnProperty(t)&&(l[c[t]]?this.element.setAttribute(c[t],l[c[t]].substr(1)):this.element.removeAttribute(c[t]))}}function a(e,i){e.elementQueriesSetupInformation||(e.elementQueriesSetupInformation=new s(e,i)),e.elementQueriesSensor||(e.elementQueriesSensor=new t(e,function(){e.elementQueriesSetupInformation.call()})),e.elementQueriesSetupInformation.call()}function h(t,r,o,s){if(void 0===i[t]){i[t]=[];var a=n.length;e.innerHTML+="\n"+t+" {animation: 0.1s element-queries;}",e.innerHTML+="\n"+t+" > .resize-sensor {min-width: "+a+"px;}",n.push(t)}i[t].push({mode:r,property:o,value:s})}function l(t){var e;if(document.querySelectorAll&&(e=t?t.querySelectorAll.bind(t):document.querySelectorAll.bind(document)),e||"undefined"==typeof $$||(e=$$),e||"undefined"==typeof jQuery||(e=jQuery),!e)throw"No document.querySelectorAll, jQuery or Mootools's $$ found.";return e}function d(e){var i=[],n=[],r=[],o=0,s=-1,a=[];for(var h in e.children)if(e.children.hasOwnProperty(h)&&e.children[h].tagName&&"img"===e.children[h].tagName.toLowerCase()){i.push(e.children[h]);var l=e.children[h].getAttribute("min-width")||e.children[h].getAttribute("data-min-width"),d=e.children[h].getAttribute("data-src")||e.children[h].getAttribute("url");r.push(d),n.push({minWidth:l}),l?e.children[h].style.display="none":(o=i.length-1,e.children[h].style.display="block")}function u(){var t,h=!1;for(t in i)i.hasOwnProperty(t)&&n[t].minWidth&&e.offsetWidth>n[t].minWidth&&(h=t);if(h||(h=o),s!==h)if(a[h])i[s].style.display="none",i[h].style.display="block",s=h;else{var l=new Image;l.onload=function(){i[h].src=r[h],i[s].style.display="none",i[h].style.display="block",a[h]=!0,s=h},l.src=r[h]}else i[h].src=r[h]}s=o,e.resizeSensorInstance=new t(e,u),u()}var u=/,?[\s\t]*([^,\n]*?)((?:\[[\s\t]*?(?:min|max)-(?:width|height)[\s\t]*?[~$\^]?=[\s\t]*?"[^"]*?"[\s\t]*?])+)([^,\n\s\{]*)/gim,c=/\[[\s\t]*?(min|max)-(width|height)[\s\t]*?[~$\^]?=[\s\t]*?"([^"]*?)"[\s\t]*?]/gim;function f(t){var e,i,n,r;for(t=t.replace(/'/g,'"');null!==(e=u.exec(t));)for(i=e[1]+e[3],n=e[2];null!==(r=c.exec(n));)h(i,r[1],r[2],r[3])}function p(t){var e="";if(t)if("string"==typeof t)-1===(t=t.toLowerCase()).indexOf("min-width")&&-1===t.indexOf("max-width")||f(t);else for(var i=0,n=t.length;i<n;i++)1===t[i].type?-1!==(e=t[i].selectorText||t[i].cssText).indexOf("min-height")||-1!==e.indexOf("max-height")?f(e):-1===e.indexOf("min-width")&&-1===e.indexOf("max-width")||f(e):4===t[i].type?p(t[i].cssRules||t[i].rules):3===t[i].type&&t[i].styleSheet.hasOwnProperty("cssRules")&&p(t[i].styleSheet.cssRules)}var g=!1;this.init=function(){var i="animationstart";void 0!==document.documentElement.style.webkitAnimationName?i="webkitAnimationStart":void 0!==document.documentElement.style.MozAnimationName?i="mozanimationstart":void 0!==document.documentElement.style.OAnimationName&&(i="oanimationstart"),document.body.addEventListener(i,function(e){var i=e.target,r=i&&window.getComputedStyle(i,null),o=r&&r.getPropertyValue("animation-name");if(o&&-1!==o.indexOf("element-queries")){i.elementQueriesSensor=new t(i,function(){i.elementQueriesSetupInformation&&i.elementQueriesSetupInformation.call()});var s=window.getComputedStyle(i.resizeSensor,null).getPropertyValue("min-width");s=parseInt(s.replace("px","")),a(e.target,n[s])}}),g||((e=document.createElement("style")).type="text/css",e.innerHTML="[responsive-image] > img, [data-responsive-image] {overflow: hidden; padding: 0; } [responsive-image] > img, [data-responsive-image] > img {width: 100%;}",e.innerHTML+="\n@keyframes element-queries { 0% { visibility: inherit; } }",document.getElementsByTagName("head")[0].appendChild(e),g=!0);for(var r=0,o=document.styleSheets.length;r<o;r++)try{document.styleSheets[r].href&&0===document.styleSheets[r].href.indexOf("file://")&&console.log("CssElementQueries: unable to parse local css files, "+document.styleSheets[r].href),p(document.styleSheets[r].cssRules||document.styleSheets[r].rules||document.styleSheets[r].cssText)}catch(s){}!function(){for(var t=l()("[data-responsive-image],[responsive-image]"),e=0,i=t.length;e<i;e++)d(t[e])}()},this.findElementQueriesElements=function(t){!function(t){var e=l(t);for(var n in i)if(i.hasOwnProperty(n))for(var r=e(n,t),o=0,s=r.length;o<s;o++)a(r[o],n)}(t)},this.update=function(){this.init()}};return e.update=function(){e.instance.update()},e.detach=function(t){t.elementQueriesSetupInformation?(t.elementQueriesSensor.detach(),delete t.elementQueriesSetupInformation,delete t.elementQueriesSensor):t.resizeSensorInstance&&(t.resizeSensorInstance.detach(),delete t.resizeSensorInstance)},e.init=function(){e.instance||(e.instance=new e),e.instance.init()},e.findElementQueriesElements=function(t){e.instance.findElementQueriesElements(t)},e.listen=function(){!function(t){if(document.addEventListener)document.addEventListener("DOMContentLoaded",t,!1);else if(/KHTML|WebKit|iCab/i.test(navigator.userAgent))var e=setInterval(function(){/loaded|complete/i.test(document.readyState)&&(t(),clearInterval(e))},10);else window.onload=t}(e.init)},e}),function(t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).JSZip=t()}(function(){return function t(e,i,n){function r(s,a){if(!i[s]){if(!e[s]){var h="function"==typeof require&&require;if(!a&&h)return h(s,!0);if(o)return o(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var d=i[s]={exports:{}};e[s][0].call(d.exports,function(t){return r(e[s][1][t]||t)},d,d.exports,t,e,i,n)}return i[s].exports}for(var o="function"==typeof require&&require,s=0;s<n.length;s++)r(n[s]);return r}({1:[function(t,e,i){"use strict";function n(t){if(t){this.data=t,this.length=this.data.length,this.index=0,this.zero=0;for(var e=0;e<this.data.length;e++)t[e]=255&t[e]}}var r=t("./dataReader");(n.prototype=new r).byteAt=function(t){return this.data[this.zero+t]},n.prototype.lastIndexOfSignature=function(t){for(var e=t.charCodeAt(0),i=t.charCodeAt(1),n=t.charCodeAt(2),r=t.charCodeAt(3),o=this.length-4;o>=0;--o)if(this.data[o]===e&&this.data[o+1]===i&&this.data[o+2]===n&&this.data[o+3]===r)return o-this.zero;return-1},n.prototype.readData=function(t){if(this.checkOffset(t),0===t)return[];var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=n},{"./dataReader":6}],2:[function(t,e,i){"use strict";var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(t,e){for(var i,r,o,s,a,h,l,d="",u=0;u<t.length;)s=(i=t.charCodeAt(u++))>>2,a=(3&i)<<4|(r=t.charCodeAt(u++))>>4,h=(15&r)<<2|(o=t.charCodeAt(u++))>>6,l=63&o,isNaN(r)?h=l=64:isNaN(o)&&(l=64),d=d+n.charAt(s)+n.charAt(a)+n.charAt(h)+n.charAt(l);return d},i.decode=function(t,e){var i,r,o,s,a,h,l="",d=0;for(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");d<t.length;)o=n.indexOf(t.charAt(d++)),i=(15&(s=n.indexOf(t.charAt(d++))))<<4|(a=n.indexOf(t.charAt(d++)))>>2,r=(3&a)<<6|(h=n.indexOf(t.charAt(d++))),l+=String.fromCharCode(o<<2|s>>4),64!=a&&(l+=String.fromCharCode(i)),64!=h&&(l+=String.fromCharCode(r));return l}},{}],3:[function(t,e,i){"use strict";function n(){this.compressedSize=0,this.uncompressedSize=0,this.crc32=0,this.compressionMethod=null,this.compressedContent=null}n.prototype={getContent:function(){return null},getCompressedContent:function(){return null}},e.exports=n},{}],4:[function(t,e,i){"use strict";i.STORE={magic:"\0\0",compress:function(t,e){return t},uncompress:function(t){return t},compressInputType:null,uncompressInputType:null},i.DEFLATE=t("./flate")},{"./flate":9}],5:[function(t,e,i){"use strict";var n=t("./utils"),r=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];e.exports=function(t,e){if(void 0===t||!t.length)return 0;var i="string"!==n.getTypeOf(t);void 0===e&&(e=0);var o=0;e^=-1;for(var s=0,a=t.length;s<a;s++)o=i?t[s]:t.charCodeAt(s),e=e>>>8^r[255&(e^o)];return-1^e}},{"./utils":22}],6:[function(t,e,i){"use strict";function n(t){this.data=null,this.length=0,this.index=0,this.zero=0}var r=t("./utils");n.prototype={checkOffset:function(t){this.checkIndex(this.index+t)},checkIndex:function(t){if(this.length<this.zero+t||t<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+t+"). Corrupted zip ?")},setIndex:function(t){this.checkIndex(t),this.index=t},skip:function(t){this.setIndex(this.index+t)},byteAt:function(t){},readInt:function(t){var e,i=0;for(this.checkOffset(t),e=this.index+t-1;e>=this.index;e--)i=(i<<8)+this.byteAt(e);return this.index+=t,i},readString:function(t){return r.transformTo("string",this.readData(t))},readData:function(t){},lastIndexOfSignature:function(t){},readDate:function(){var t=this.readInt(4);return new Date(1980+(t>>25&127),(t>>21&15)-1,t>>16&31,t>>11&31,t>>5&63,(31&t)<<1)}},e.exports=n},{"./utils":22}],7:[function(t,e,i){"use strict";i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!1,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],8:[function(t,e,i){"use strict";var n=t("./utils");i.string2binary=function(t){return n.string2binary(t)},i.string2Uint8Array=function(t){return n.transformTo("uint8array",t)},i.uint8Array2String=function(t){return n.transformTo("string",t)},i.string2Blob=function(t){var e=n.transformTo("arraybuffer",t);return n.arrayBuffer2Blob(e)},i.arrayBuffer2Blob=function(t){return n.arrayBuffer2Blob(t)},i.transformTo=function(t,e){return n.transformTo(t,e)},i.getTypeOf=function(t){return n.getTypeOf(t)},i.checkSupport=function(t){return n.checkSupport(t)},i.MAX_VALUE_16BITS=n.MAX_VALUE_16BITS,i.MAX_VALUE_32BITS=n.MAX_VALUE_32BITS,i.pretty=function(t){return n.pretty(t)},i.findCompression=function(t){return n.findCompression(t)},i.isRegExp=function(t){return n.isRegExp(t)}},{"./utils":22}],9:[function(t,e,i){"use strict";var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,r=t("pako");i.uncompressInputType=n?"uint8array":"array",i.compressInputType=n?"uint8array":"array",i.magic="\b\0",i.compress=function(t,e){return r.deflateRaw(t,{level:e.level||-1})},i.uncompress=function(t){return r.inflateRaw(t)}},{pako:25}],10:[function(t,e,i){"use strict";function n(t,e){return this instanceof n?(this.files={},this.comment=null,this.root="",t&&this.load(t,e),void(this.clone=function(){var t=new n;for(var e in this)"function"!=typeof this[e]&&(t[e]=this[e]);return t})):new n(t,e)}var r=t("./base64");(n.prototype=t("./object")).load=t("./load"),n.support=t("./support"),n.defaults=t("./defaults"),n.utils=t("./deprecatedPublicUtils"),n.base64={encode:function(t){return r.encode(t)},decode:function(t){return r.decode(t)}},n.compressions=t("./compressions"),e.exports=n},{"./base64":2,"./compressions":4,"./defaults":7,"./deprecatedPublicUtils":8,"./load":11,"./object":14,"./support":18}],11:[function(t,e,i){"use strict";var n=t("./base64"),r=t("./utf8"),o=t("./utils"),s=t("./zipEntries");e.exports=function(t,e){var i,a,h,l;for((e=o.extend(e||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:r.utf8decode})).base64&&(t=n.decode(t)),i=(a=new s(t,e)).files,h=0;h<i.length;h++)this.file((l=i[h]).fileNameStr,l.decompressed,{binary:!0,optimizedBinaryString:!0,date:l.date,dir:l.dir,comment:l.fileCommentStr.length?l.fileCommentStr:null,unixPermissions:l.unixPermissions,dosPermissions:l.dosPermissions,createFolders:e.createFolders});return a.zipComment.length&&(this.comment=a.zipComment),this}},{"./base64":2,"./utf8":21,"./utils":22,"./zipEntries":23}],12:[function(t,e,i){(function(t){"use strict";e.exports=function(e,i){return new t(e,i)},e.exports.test=function(e){return t.isBuffer(e)}}).call(this,"undefined"!=typeof Buffer?Buffer:void 0)},{}],13:[function(t,e,i){"use strict";function n(t){this.data=t,this.length=this.data.length,this.index=0,this.zero=0}var r=t("./uint8ArrayReader");(n.prototype=new r).readData=function(t){this.checkOffset(t);var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=n},{"./uint8ArrayReader":19}],14:[function(t,e,i){"use strict";var n=t("./support"),r=t("./utils"),o=t("./crc32"),s=t("./signature"),a=t("./defaults"),h=t("./base64"),l=t("./compressions"),d=t("./compressedObject"),u=t("./nodeBuffer"),c=t("./utf8"),f=t("./stringWriter"),p=t("./uint8ArrayWriter"),g=function(t){if(t._data instanceof d&&(t._data=t._data.getContent(),t.options.binary=!0,t.options.base64=!1,"uint8array"===r.getTypeOf(t._data))){var e=t._data;t._data=new Uint8Array(e.length),0!==e.length&&t._data.set(e,0)}return t._data},m=function(t){var e=g(t);return"string"===r.getTypeOf(e)?!t.options.binary&&n.nodebuffer?u(e,"utf-8"):t.asBinary():e},v=function(t){var e=g(this);return null==e?"":(this.options.base64&&(e=h.decode(e)),e=t&&this.options.binary?C.utf8decode(e):r.transformTo("string",e),t||this.options.binary||(e=r.transformTo("string",C.utf8encode(e))),e)},y=function(t,e,i){this.name=t,this.dir=i.dir,this.date=i.date,this.comment=i.comment,this.unixPermissions=i.unixPermissions,this.dosPermissions=i.dosPermissions,this._data=e,this.options=i,this._initialMetadata={dir:i.dir,date:i.date}};y.prototype={asText:function(){return v.call(this,!0)},asBinary:function(){return v.call(this,!1)},asNodeBuffer:function(){var t=m(this);return r.transformTo("nodebuffer",t)},asUint8Array:function(){var t=m(this);return r.transformTo("uint8array",t)},asArrayBuffer:function(){return this.asUint8Array().buffer}};var b=function(t,e){var i,n="";for(i=0;i<e;i++)n+=String.fromCharCode(255&t),t>>>=8;return n},w=function(t,e,i){var n,o=r.getTypeOf(e);if("string"==typeof(i=function(t){return!0!==(t=t||{}).base64||null!=t.binary||(t.binary=!0),(t=r.extend(t,a)).date=t.date||new Date,null!==t.compression&&(t.compression=t.compression.toUpperCase()),t}(i)).unixPermissions&&(i.unixPermissions=parseInt(i.unixPermissions,8)),i.unixPermissions&&16384&i.unixPermissions&&(i.dir=!0),i.dosPermissions&&16&i.dosPermissions&&(i.dir=!0),i.dir&&(t=_(t)),i.createFolders&&(n=x(t))&&k.call(this,n,!0),i.dir||null==e)i.base64=!1,i.binary=!1,e=null,o=null;else if("string"===o)i.binary&&!i.base64&&!0!==i.optimizedBinaryString&&(e=r.string2binary(e));else{if(i.base64=!1,i.binary=!0,!(o||e instanceof d))throw new Error("The data of '"+t+"' is in an unsupported format !");"arraybuffer"===o&&(e=r.transformTo("uint8array",e))}var s=new y(t,e,i);return this.files[t]=s,s},x=function(t){"/"==t.slice(-1)&&(t=t.substring(0,t.length-1));var e=t.lastIndexOf("/");return e>0?t.substring(0,e):""},_=function(t){return"/"!=t.slice(-1)&&(t+="/"),t},k=function(t,e){return e=void 0!==e&&e,t=_(t),this.files[t]||w.call(this,t,null,{dir:!0,createFolders:e}),this.files[t]},S=function(t,e,i){var n,s=new d;return t._data instanceof d?(s.uncompressedSize=t._data.uncompressedSize,s.crc32=t._data.crc32,0===s.uncompressedSize||t.dir?(e=l.STORE,s.compressedContent="",s.crc32=0):t._data.compressionMethod===e.magic?s.compressedContent=t._data.getCompressedContent():(n=t._data.getContent(),s.compressedContent=e.compress(r.transformTo(e.compressInputType,n),i))):((n=m(t))&&0!==n.length&&!t.dir||(e=l.STORE,n=""),s.uncompressedSize=n.length,s.crc32=o(n),s.compressedContent=e.compress(r.transformTo(e.compressInputType,n),i)),s.compressedSize=s.compressedContent.length,s.compressionMethod=e.magic,s},M=function(t,e,i,n,a,h){var l,d,u,f,p=h!==c.utf8encode,g=r.transformTo("string",h(e.name)),m=r.transformTo("string",c.utf8encode(e.name)),v=e.comment||"",y=r.transformTo("string",h(v)),w=r.transformTo("string",c.utf8encode(v)),x=m.length!==e.name.length,_=w.length!==v.length,k=e.options,S="",M="",C="";f=e._initialMetadata.date!==e.date?e.date:k.date;var E=0,N=0;(u=e._initialMetadata.dir!==e.dir?e.dir:k.dir)&&(E|=16),"UNIX"===a?(N=798,E|=function(t,e){var i=t;return t||(i=u?16893:33204),(65535&i)<<16}(e.unixPermissions)):(N=20,E|=function(t,e){return 63&(t||0)}(e.dosPermissions)),l=f.getHours(),l<<=6,l|=f.getMinutes(),l<<=5,l|=f.getSeconds()/2,d=f.getFullYear()-1980,d<<=4,d|=f.getMonth()+1,d<<=5,d|=f.getDate(),x&&(M=b(1,1)+b(o(g),4)+m,S+="up"+b(M.length,2)+M),_&&(C=b(1,1)+b(this.crc32(y),4)+w,S+="uc"+b(C.length,2)+C);var A="";return A+="\n\0",A+=p||!x&&!_?"\0\0":"\0\b",A+=i.compressionMethod,A+=b(l,2),A+=b(d,2),A+=b(i.crc32,4),A+=b(i.compressedSize,4),A+=b(i.uncompressedSize,4),A+=b(g.length,2),A+=b(S.length,2),{fileRecord:s.LOCAL_FILE_HEADER+A+g+S,dirRecord:s.CENTRAL_FILE_HEADER+b(N,2)+A+b(y.length,2)+"\0\0\0\0"+b(E,4)+b(n,4)+g+S+y,compressedObject:i}},C={load:function(t,e){throw new Error("Load method is not defined. Is the file jszip-load.js included ?")},filter:function(t){var e,i,n,o,s=[];for(e in this.files)this.files.hasOwnProperty(e)&&(o=new y((n=this.files[e]).name,n._data,r.extend(n.options)),i=e.slice(this.root.length,e.length),e.slice(0,this.root.length)===this.root&&t(i,o)&&s.push(o));return s},file:function(t,e,i){if(1===arguments.length){if(r.isRegExp(t)){var n=t;return this.filter(function(t,e){return!e.dir&&n.test(t)})}return this.filter(function(e,i){return!i.dir&&e===t})[0]||null}return w.call(this,t=this.root+t,e,i),this},folder:function(t){if(!t)return this;if(r.isRegExp(t))return this.filter(function(e,i){return i.dir&&t.test(e)});var e=k.call(this,this.root+t),i=this.clone();return i.root=e.name,i},remove:function(t){var e=this.files[t=this.root+t];if(e||("/"!=t.slice(-1)&&(t+="/"),e=this.files[t]),e&&!e.dir)delete this.files[t];else for(var i=this.filter(function(e,i){return i.name.slice(0,t.length)===t}),n=0;n<i.length;n++)delete this.files[i[n].name];return this},generate:function(t){t=r.extend(t||{},{base64:!0,compression:"STORE",compressionOptions:null,type:"base64",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:c.utf8encode}),r.checkSupport(t.type),"darwin"!==t.platform&&"freebsd"!==t.platform&&"linux"!==t.platform&&"sunos"!==t.platform||(t.platform="UNIX"),"win32"===t.platform&&(t.platform="DOS");var e,i,n,o=[],a=0,d=0,u=r.transformTo("string",t.encodeFileName(t.comment||this.comment||""));for(var g in this.files)if(this.files.hasOwnProperty(g)){var m=this.files[g],v=m.options.compression||t.compression.toUpperCase(),y=l[v];if(!y)throw new Error(v+" is not a valid compression method !");var w=S.call(this,m,y,m.options.compressionOptions||t.compressionOptions||{}),x=M.call(this,g,m,w,a,t.platform,t.encodeFileName);a+=x.fileRecord.length+w.compressedSize,d+=x.dirRecord.length,o.push(x)}n=s.CENTRAL_DIRECTORY_END+"\0\0\0\0"+b(o.length,2)+b(o.length,2)+b(d,4)+b(a,4)+b(u.length,2)+u;var _=t.type.toLowerCase();for(e="uint8array"===_||"arraybuffer"===_||"blob"===_||"nodebuffer"===_?new p(a+d+n.length):new f(a+d+n.length),i=0;i<o.length;i++)e.append(o[i].fileRecord),e.append(o[i].compressedObject.compressedContent);for(i=0;i<o.length;i++)e.append(o[i].dirRecord);e.append(n);var k=e.finalize();switch(t.type.toLowerCase()){case"uint8array":case"arraybuffer":case"nodebuffer":return r.transformTo(t.type.toLowerCase(),k);case"blob":return r.arrayBuffer2Blob(r.transformTo("arraybuffer",k),t.mimeType);case"base64":return t.base64?h.encode(k):k;default:return k}},crc32:function(t,e){return o(t,e)},utf8encode:function(t){return r.transformTo("string",c.utf8encode(t))},utf8decode:function(t){return c.utf8decode(t)}};e.exports=C},{"./base64":2,"./compressedObject":3,"./compressions":4,"./crc32":5,"./defaults":7,"./nodeBuffer":12,"./signature":15,"./stringWriter":17,"./support":18,"./uint8ArrayWriter":20,"./utf8":21,"./utils":22}],15:[function(t,e,i){"use strict";i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\b"},{}],16:[function(t,e,i){"use strict";function n(t,e){this.data=t,e||(this.data=o.string2binary(this.data)),this.length=this.data.length,this.index=0,this.zero=0}var r=t("./dataReader"),o=t("./utils");(n.prototype=new r).byteAt=function(t){return this.data.charCodeAt(this.zero+t)},n.prototype.lastIndexOfSignature=function(t){return this.data.lastIndexOf(t)-this.zero},n.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=n},{"./dataReader":6,"./utils":22}],17:[function(t,e,i){"use strict";var n=t("./utils"),r=function(){this.data=[]};r.prototype={append:function(t){t=n.transformTo("string",t),this.data.push(t)},finalize:function(){return this.data.join("")}},e.exports=r},{"./utils":22}],18:[function(t,e,i){(function(t){"use strict";if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,i.nodebuffer=void 0!==t,i.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)i.blob=!1;else{var e=new ArrayBuffer(0);try{i.blob=0===new Blob([e],{type:"application/zip"}).size}catch(r){try{var n=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder);n.append(e),i.blob=0===n.getBlob("application/zip").size}catch(r){i.blob=!1}}}}).call(this,"undefined"!=typeof Buffer?Buffer:void 0)},{}],19:[function(t,e,i){"use strict";function n(t){t&&(this.data=t,this.length=this.data.length,this.index=0,this.zero=0)}var r=t("./arrayReader");(n.prototype=new r).readData=function(t){if(this.checkOffset(t),0===t)return new Uint8Array(0);var e=this.data.subarray(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=n},{"./arrayReader":1}],20:[function(t,e,i){"use strict";var n=t("./utils"),r=function(t){this.data=new Uint8Array(t),this.index=0};r.prototype={append:function(t){0!==t.length&&(t=n.transformTo("uint8array",t),this.data.set(t,this.index),this.index+=t.length)},finalize:function(){return this.data}},e.exports=r},{"./utils":22}],21:[function(t,e,i){"use strict";for(var n=t("./utils"),r=t("./support"),o=t("./nodeBuffer"),s=new Array(256),a=0;a<256;a++)s[a]=a>=252?6:a>=248?5:a>=240?4:a>=224?3:a>=192?2:1;s[254]=s[254]=1;var h=function(t,e){var i;for((e=e||t.length)>t.length&&(e=t.length),i=e-1;i>=0&&128==(192&t[i]);)i--;return i<0?e:0===i?e:i+s[t[i]]>e?i:e},l=function(t){var e,i,r,o,a=t.length,h=new Array(2*a);for(i=0,e=0;e<a;)if((r=t[e++])<128)h[i++]=r;else if((o=s[r])>4)h[i++]=65533,e+=o-1;else{for(r&=2===o?31:3===o?15:7;o>1&&e<a;)r=r<<6|63&t[e++],o--;o>1?h[i++]=65533:r<65536?h[i++]=r:(h[i++]=55296|(r-=65536)>>10&1023,h[i++]=56320|1023&r)}return h.length!==i&&(h.subarray?h=h.subarray(0,i):h.length=i),n.applyFromCharCode(h)};i.utf8encode=function(t){return r.nodebuffer?o(t,"utf-8"):function(t){var e,i,n,o,s,a=t.length,h=0;for(o=0;o<a;o++)55296==(64512&(i=t.charCodeAt(o)))&&o+1<a&&56320==(64512&(n=t.charCodeAt(o+1)))&&(i=65536+(i-55296<<10)+(n-56320),o++),h+=i<128?1:i<2048?2:i<65536?3:4;for(e=r.uint8array?new Uint8Array(h):new Array(h),s=0,o=0;s<h;o++)55296==(64512&(i=t.charCodeAt(o)))&&o+1<a&&56320==(64512&(n=t.charCodeAt(o+1)))&&(i=65536+(i-55296<<10)+(n-56320),o++),i<128?e[s++]=i:i<2048?(e[s++]=192|i>>>6,e[s++]=128|63&i):i<65536?(e[s++]=224|i>>>12,e[s++]=128|i>>>6&63,e[s++]=128|63&i):(e[s++]=240|i>>>18,e[s++]=128|i>>>12&63,e[s++]=128|i>>>6&63,e[s++]=128|63&i);return e}(t)},i.utf8decode=function(t){if(r.nodebuffer)return n.transformTo("nodebuffer",t).toString("utf-8");for(var e=[],i=0,o=(t=n.transformTo(r.uint8array?"uint8array":"array",t)).length;i<o;){var s=h(t,Math.min(i+65536,o));e.push(l(r.uint8array?t.subarray(i,s):t.slice(i,s))),i=s}return e.join("")}},{"./nodeBuffer":12,"./support":18,"./utils":22}],22:[function(t,e,i){"use strict";function n(t){return t}function r(t,e){for(var i=0;i<t.length;++i)e[i]=255&t.charCodeAt(i);return e}function o(t){var e=65536,n=[],r=t.length,o=i.getTypeOf(t),s=0,a=!0;try{switch(o){case"uint8array":String.fromCharCode.apply(null,new Uint8Array(0));break;case"nodebuffer":String.fromCharCode.apply(null,l(0))}}catch(h){a=!1}if(!a){for(var d="",u=0;u<t.length;u++)d+=String.fromCharCode(t[u]);return d}for(;s<r&&e>1;)try{n.push("array"===o||"nodebuffer"===o?String.fromCharCode.apply(null,t.slice(s,Math.min(s+e,r))):String.fromCharCode.apply(null,t.subarray(s,Math.min(s+e,r)))),s+=e}catch(h){e=Math.floor(e/2)}return n.join("")}function s(t,e){for(var i=0;i<t.length;i++)e[i]=t[i];return e}var a=t("./support"),h=t("./compressions"),l=t("./nodeBuffer");i.string2binary=function(t){for(var e="",i=0;i<t.length;i++)e+=String.fromCharCode(255&t.charCodeAt(i));return e},i.arrayBuffer2Blob=function(t,e){i.checkSupport("blob"),e=e||"application/zip";try{return new Blob([t],{type:e})}catch(n){try{var r=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder);return r.append(t),r.getBlob(e)}catch(n){throw new Error("Bug : can't construct the Blob.")}}},i.applyFromCharCode=o;var d={};d.string={string:n,array:function(t){return r(t,new Array(t.length))},arraybuffer:function(t){return d.string.uint8array(t).buffer},uint8array:function(t){return r(t,new Uint8Array(t.length))},nodebuffer:function(t){return r(t,l(t.length))}},d.array={string:o,array:n,arraybuffer:function(t){return new Uint8Array(t).buffer},uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return l(t)}},d.arraybuffer={string:function(t){return o(new Uint8Array(t))},array:function(t){return s(new Uint8Array(t),new Array(t.byteLength))},arraybuffer:n,uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return l(new Uint8Array(t))}},d.uint8array={string:o,array:function(t){return s(t,new Array(t.length))},arraybuffer:function(t){return t.buffer},uint8array:n,nodebuffer:function(t){return l(t)}},d.nodebuffer={string:o,array:function(t){return s(t,new Array(t.length))},arraybuffer:function(t){return d.nodebuffer.uint8array(t).buffer},uint8array:function(t){return s(t,new Uint8Array(t.length))},nodebuffer:n},i.transformTo=function(t,e){if(e||(e=""),!t)return e;i.checkSupport(t);var n=i.getTypeOf(e);return d[n][t](e)},i.getTypeOf=function(t){return"string"==typeof t?"string":"[object Array]"===Object.prototype.toString.call(t)?"array":a.nodebuffer&&l.test(t)?"nodebuffer":a.uint8array&&t instanceof Uint8Array?"uint8array":a.arraybuffer&&t instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(t){if(!a[t.toLowerCase()])throw new Error(t+" is not supported by this browser")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(t){var e,i,n="";for(i=0;i<(t||"").length;i++)n+="\\x"+((e=t.charCodeAt(i))<16?"0":"")+e.toString(16).toUpperCase();return n},i.findCompression=function(t){for(var e in h)if(h.hasOwnProperty(e)&&h[e].magic===t)return h[e];return null},i.isRegExp=function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},i.extend=function(){var t,e,i={};for(t=0;t<arguments.length;t++)for(e in arguments[t])arguments[t].hasOwnProperty(e)&&void 0===i[e]&&(i[e]=arguments[t][e]);return i}},{"./compressions":4,"./nodeBuffer":12,"./support":18}],23:[function(t,e,i){"use strict";function n(t,e){this.files=[],this.loadOptions=e,t&&this.load(t)}var r=t("./stringReader"),o=t("./nodeBufferReader"),s=t("./uint8ArrayReader"),a=t("./arrayReader"),h=t("./utils"),l=t("./signature"),d=t("./zipEntry"),u=t("./support");t("./object"),n.prototype={checkSignature:function(t){var e=this.reader.readString(4);if(e!==t)throw new Error("Corrupted zip or bug : unexpected signature ("+h.pretty(e)+", expected "+h.pretty(t)+")")},isSignature:function(t,e){var i=this.reader.index;this.reader.setIndex(t);var n=this.reader.readString(4)===e;return this.reader.setIndex(i),n},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var t=this.reader.readData(this.zipCommentLength),e=h.transformTo(u.uint8array?"uint8array":"array",t);this.zipComment=this.loadOptions.decodeFileName(e)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.versionMadeBy=this.reader.readString(2),this.versionNeeded=this.reader.readInt(2),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var t,e,i,n=this.zip64EndOfCentralSize-44;0<n;)t=this.reader.readInt(2),e=this.reader.readInt(4),i=this.reader.readString(e),this.zip64ExtensibleData[t]={id:t,length:e,value:i}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var t,e;for(t=0;t<this.files.length;t++)this.reader.setIndex((e=this.files[t]).localHeaderOffset),this.checkSignature(l.LOCAL_FILE_HEADER),e.readLocalPart(this.reader),e.handleUTF8(),e.processAttributes()},readCentralDir:function(){var t;for(this.reader.setIndex(this.centralDirOffset);this.reader.readString(4)===l.CENTRAL_FILE_HEADER;)(t=new d({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(t);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var t=this.reader.lastIndexOfSignature(l.CENTRAL_DIRECTORY_END);if(t<0)throw this.isSignature(0,l.LOCAL_FILE_HEADER)?new Error("Corrupted zip : can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see http://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(t);var e=t;if(this.checkSignature(l.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===h.MAX_VALUE_16BITS||this.diskWithCentralDirStart===h.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===h.MAX_VALUE_16BITS||this.centralDirRecords===h.MAX_VALUE_16BITS||this.centralDirSize===h.MAX_VALUE_32BITS||this.centralDirOffset===h.MAX_VALUE_32BITS){if(this.zip64=!0,(t=this.reader.lastIndexOfSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip : can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(t),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,l.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(l.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip : can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var i=this.centralDirOffset+this.centralDirSize;this.zip64&&(i+=20,i+=12+this.zip64EndOfCentralSize);var n=e-i;if(n>0)this.isSignature(e,l.CENTRAL_FILE_HEADER)||(this.reader.zero=n);else if(n<0)throw new Error("Corrupted zip: missing "+Math.abs(n)+" bytes.")},prepareReader:function(t){var e=h.getTypeOf(t);if(h.checkSupport(e),"string"!==e||u.uint8array)if("nodebuffer"===e)this.reader=new o(t);else if(u.uint8array)this.reader=new s(h.transformTo("uint8array",t));else{if(!u.array)throw new Error("Unexpected error: unsupported type '"+e+"'");this.reader=new a(h.transformTo("array",t))}else this.reader=new r(t,this.loadOptions.optimizedBinaryString)},load:function(t){this.prepareReader(t),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},e.exports=n},{"./arrayReader":1,"./nodeBufferReader":13,"./object":14,"./signature":15,"./stringReader":16,"./support":18,"./uint8ArrayReader":19,"./utils":22,"./zipEntry":24}],24:[function(t,e,i){"use strict";function n(t,e){this.options=t,this.loadOptions=e}var r=t("./stringReader"),o=t("./utils"),s=t("./compressedObject"),a=t("./object"),h=t("./support");n.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},prepareCompressedContent:function(t,e,i){return function(){var n=t.index;t.setIndex(e);var r=t.readData(i);return t.setIndex(n),r}},prepareContent:function(t,e,i,n,r){return function(){var t=o.transformTo(n.uncompressInputType,this.getCompressedContent()),e=n.uncompress(t);if(e.length!==r)throw new Error("Bug : uncompressed data size mismatch");return e}},readLocalPart:function(t){var e,i;if(t.skip(22),this.fileNameLength=t.readInt(2),i=t.readInt(2),this.fileName=t.readData(this.fileNameLength),t.skip(i),-1==this.compressedSize||-1==this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough informations from the central directory (compressedSize == -1 || uncompressedSize == -1)");if(null===(e=o.findCompression(this.compressionMethod)))throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");if(this.decompressed=new s,this.decompressed.compressedSize=this.compressedSize,this.decompressed.uncompressedSize=this.uncompressedSize,this.decompressed.crc32=this.crc32,this.decompressed.compressionMethod=this.compressionMethod,this.decompressed.getCompressedContent=this.prepareCompressedContent(t,t.index,this.compressedSize,e),this.decompressed.getContent=this.prepareContent(t,t.index,this.compressedSize,e,this.uncompressedSize),this.loadOptions.checkCRC32&&(this.decompressed=o.transformTo("string",this.decompressed.getContent()),a.crc32(this.decompressed)!==this.crc32))throw new Error("Corrupted zip : CRC32 mismatch")},readCentralPart:function(t){if(this.versionMadeBy=t.readInt(2),this.versionNeeded=t.readInt(2),this.bitFlag=t.readInt(2),this.compressionMethod=t.readString(2),this.date=t.readDate(),this.crc32=t.readInt(4),this.compressedSize=t.readInt(4),this.uncompressedSize=t.readInt(4),this.fileNameLength=t.readInt(2),this.extraFieldsLength=t.readInt(2),this.fileCommentLength=t.readInt(2),this.diskNumberStart=t.readInt(2),this.internalFileAttributes=t.readInt(2),this.externalFileAttributes=t.readInt(4),this.localHeaderOffset=t.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");this.fileName=t.readData(this.fileNameLength),this.readExtraFields(t),this.parseZIP64ExtraField(t),this.fileComment=t.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var t=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0===t&&(this.dosPermissions=63&this.externalFileAttributes),3===t&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(t){if(this.extraFields[1]){var e=new r(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=e.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=e.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=e.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=e.readInt(4))}},readExtraFields:function(t){var e,i,n,r=t.index;for(this.extraFields=this.extraFields||{};t.index<r+this.extraFieldsLength;)e=t.readInt(2),i=t.readInt(2),n=t.readString(i),this.extraFields[e]={id:e,length:i,value:n}},handleUTF8:function(){var t=h.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=a.utf8decode(this.fileName),this.fileCommentStr=a.utf8decode(this.fileComment);else{var e=this.findExtraFieldUnicodePath();if(null!==e)this.fileNameStr=e;else{var i=o.transformTo(t,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(i)}var n=this.findExtraFieldUnicodeComment();if(null!==n)this.fileCommentStr=n;else{var r=o.transformTo(t,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(r)}}},findExtraFieldUnicodePath:function(){var t=this.extraFields[28789];if(t){var e=new r(t.value);return 1!==e.readInt(1)?null:a.crc32(this.fileName)!==e.readInt(4)?null:a.utf8decode(e.readString(t.length-5))}return null},findExtraFieldUnicodeComment:function(){var t=this.extraFields[25461];if(t){var e=new r(t.value);return 1!==e.readInt(1)?null:a.crc32(this.fileComment)!==e.readInt(4)?null:a.utf8decode(e.readString(t.length-5))}return null}},e.exports=n},{"./compressedObject":3,"./object":14,"./stringReader":16,"./support":18,"./utils":22}],25:[function(t,e,i){"use strict";var n={};(0,t("./lib/utils/common").assign)(n,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),e.exports=n},{"./lib/deflate":26,"./lib/inflate":27,"./lib/utils/common":28,"./lib/zlib/constants":31}],26:[function(t,e,i){"use strict";function n(t){if(!(this instanceof n))return new n(t);this.options=s.assign({level:c,method:p,chunkSize:16384,windowBits:15,memLevel:8,strategy:f,to:""},t||{});var e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var i=o.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(i!==u)throw new Error(h[i]);if(e.header&&o.deflateSetHeader(this.strm,e.header),e.dictionary){var r;if(r="string"==typeof e.dictionary?a.string2buf(e.dictionary):"[object ArrayBuffer]"===d.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,(i=o.deflateSetDictionary(this.strm,r))!==u)throw new Error(h[i]);this._dict_set=!0}}function r(t,e){var i=new n(e);if(i.push(t,!0),i.err)throw i.msg;return i.result}var o=t("./zlib/deflate"),s=t("./utils/common"),a=t("./utils/strings"),h=t("./zlib/messages"),l=t("./zlib/zstream"),d=Object.prototype.toString,u=0,c=-1,f=0,p=8;n.prototype.push=function(t,e){var i,n,r=this.strm,h=this.options.chunkSize;if(this.ended)return!1;n=e===~~e?e:!0===e?4:0,r.input="string"==typeof t?a.string2buf(t):"[object ArrayBuffer]"===d.call(t)?new Uint8Array(t):t,r.next_in=0,r.avail_in=r.input.length;do{if(0===r.avail_out&&(r.output=new s.Buf8(h),r.next_out=0,r.avail_out=h),1!==(i=o.deflate(r,n))&&i!==u)return this.onEnd(i),this.ended=!0,!1;0!==r.avail_out&&(0!==r.avail_in||4!==n&&2!==n)||this.onData("string"===this.options.to?a.buf2binstring(s.shrinkBuf(r.output,r.next_out)):s.shrinkBuf(r.output,r.next_out))}while((r.avail_in>0||0===r.avail_out)&&1!==i);return 4===n?(i=o.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===u):2!==n||(this.onEnd(u),r.avail_out=0,!0)},n.prototype.onData=function(t){this.chunks.push(t)},n.prototype.onEnd=function(t){t===u&&(this.result="string"===this.options.to?this.chunks.join(""):s.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},i.Deflate=n,i.deflate=r,i.deflateRaw=function(t,e){return(e=e||{}).raw=!0,r(t,e)},i.gzip=function(t,e){return(e=e||{}).gzip=!0,r(t,e)}},{"./utils/common":28,"./utils/strings":29,"./zlib/deflate":33,"./zlib/messages":38,"./zlib/zstream":40}],27:[function(t,e,i){"use strict";function n(t){if(!(this instanceof n))return new n(t);this.options=s.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var i=o.inflateInit2(this.strm,e.windowBits);if(i!==h.Z_OK)throw new Error(l[i]);this.header=new u,o.inflateGetHeader(this.strm,this.header)}function r(t,e){var i=new n(e);if(i.push(t,!0),i.err)throw i.msg;return i.result}var o=t("./zlib/inflate"),s=t("./utils/common"),a=t("./utils/strings"),h=t("./zlib/constants"),l=t("./zlib/messages"),d=t("./zlib/zstream"),u=t("./zlib/gzheader"),c=Object.prototype.toString;n.prototype.push=function(t,e){var i,n,r,l,d,u,f=this.strm,p=this.options.chunkSize,g=this.options.dictionary,m=!1;if(this.ended)return!1;n=e===~~e?e:!0===e?h.Z_FINISH:h.Z_NO_FLUSH,f.input="string"==typeof t?a.binstring2buf(t):"[object ArrayBuffer]"===c.call(t)?new Uint8Array(t):t,f.next_in=0,f.avail_in=f.input.length;do{if(0===f.avail_out&&(f.output=new s.Buf8(p),f.next_out=0,f.avail_out=p),(i=o.inflate(f,h.Z_NO_FLUSH))===h.Z_NEED_DICT&&g&&(u="string"==typeof g?a.string2buf(g):"[object ArrayBuffer]"===c.call(g)?new Uint8Array(g):g,i=o.inflateSetDictionary(this.strm,u)),i===h.Z_BUF_ERROR&&!0===m&&(i=h.Z_OK,m=!1),i!==h.Z_STREAM_END&&i!==h.Z_OK)return this.onEnd(i),this.ended=!0,!1;f.next_out&&(0!==f.avail_out&&i!==h.Z_STREAM_END&&(0!==f.avail_in||n!==h.Z_FINISH&&n!==h.Z_SYNC_FLUSH)||("string"===this.options.to?(r=a.utf8border(f.output,f.next_out),l=f.next_out-r,d=a.buf2string(f.output,r),f.next_out=l,f.avail_out=p-l,l&&s.arraySet(f.output,f.output,r,l,0),this.onData(d)):this.onData(s.shrinkBuf(f.output,f.next_out)))),0===f.avail_in&&0===f.avail_out&&(m=!0)}while((f.avail_in>0||0===f.avail_out)&&i!==h.Z_STREAM_END);return i===h.Z_STREAM_END&&(n=h.Z_FINISH),n===h.Z_FINISH?(i=o.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===h.Z_OK):n!==h.Z_SYNC_FLUSH||(this.onEnd(h.Z_OK),f.avail_out=0,!0)},n.prototype.onData=function(t){this.chunks.push(t)},n.prototype.onEnd=function(t){t===h.Z_OK&&(this.result="string"===this.options.to?this.chunks.join(""):s.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},i.Inflate=n,i.inflate=r,i.inflateRaw=function(t,e){return(e=e||{}).raw=!0,r(t,e)},i.ungzip=r},{"./utils/common":28,"./utils/strings":29,"./zlib/constants":31,"./zlib/gzheader":34,"./zlib/inflate":36,"./zlib/messages":38,"./zlib/zstream":40}],28:[function(t,e,i){"use strict";var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;i.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var i=e.shift();if(i){if("object"!=typeof i)throw new TypeError(i+"must be non-object");for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])}}return t},i.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var r={arraySet:function(t,e,i,n,r){if(e.subarray&&t.subarray)t.set(e.subarray(i,i+n),r);else for(var o=0;o<n;o++)t[r+o]=e[i+o]},flattenChunks:function(t){var e,i,n,r,o,s;for(n=0,e=0,i=t.length;e<i;e++)n+=t[e].length;for(s=new Uint8Array(n),r=0,e=0,i=t.length;e<i;e++)s.set(o=t[e],r),r+=o.length;return s}},o={arraySet:function(t,e,i,n,r){for(var o=0;o<n;o++)t[r+o]=e[i+o]},flattenChunks:function(t){return[].concat.apply([],t)}};i.setTyped=function(t){t?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,r)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,o))},i.setTyped(n)},{}],29:[function(t,e,i){"use strict";function n(t,e){if(e<65537&&(t.subarray&&s||!t.subarray&&o))return String.fromCharCode.apply(null,r.shrinkBuf(t,e));for(var i="",n=0;n<e;n++)i+=String.fromCharCode(t[n]);return i}var r=t("./common"),o=!0,s=!0;try{String.fromCharCode.apply(null,[0])}catch(l){o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(l){s=!1}for(var a=new r.Buf8(256),h=0;h<256;h++)a[h]=h>=252?6:h>=248?5:h>=240?4:h>=224?3:h>=192?2:1;a[254]=a[254]=1,i.string2buf=function(t){var e,i,n,o,s,a=t.length,h=0;for(o=0;o<a;o++)55296==(64512&(i=t.charCodeAt(o)))&&o+1<a&&56320==(64512&(n=t.charCodeAt(o+1)))&&(i=65536+(i-55296<<10)+(n-56320),o++),h+=i<128?1:i<2048?2:i<65536?3:4;for(e=new r.Buf8(h),s=0,o=0;s<h;o++)55296==(64512&(i=t.charCodeAt(o)))&&o+1<a&&56320==(64512&(n=t.charCodeAt(o+1)))&&(i=65536+(i-55296<<10)+(n-56320),o++),i<128?e[s++]=i:i<2048?(e[s++]=192|i>>>6,e[s++]=128|63&i):i<65536?(e[s++]=224|i>>>12,e[s++]=128|i>>>6&63,e[s++]=128|63&i):(e[s++]=240|i>>>18,e[s++]=128|i>>>12&63,e[s++]=128|i>>>6&63,e[s++]=128|63&i);return e},i.buf2binstring=function(t){return n(t,t.length)},i.binstring2buf=function(t){for(var e=new r.Buf8(t.length),i=0,n=e.length;i<n;i++)e[i]=t.charCodeAt(i);return e},i.buf2string=function(t,e){var i,r,o,s,h=e||t.length,l=new Array(2*h);for(r=0,i=0;i<h;)if((o=t[i++])<128)l[r++]=o;else if((s=a[o])>4)l[r++]=65533,i+=s-1;else{for(o&=2===s?31:3===s?15:7;s>1&&i<h;)o=o<<6|63&t[i++],s--;s>1?l[r++]=65533:o<65536?l[r++]=o:(l[r++]=55296|(o-=65536)>>10&1023,l[r++]=56320|1023&o)}return n(l,r)},i.utf8border=function(t,e){var i;for((e=e||t.length)>t.length&&(e=t.length),i=e-1;i>=0&&128==(192&t[i]);)i--;return i<0?e:0===i?e:i+a[t[i]]>e?i:e}},{"./common":28}],30:[function(t,e,i){"use strict";e.exports=function(t,e,i,n){for(var r=65535&t|0,o=t>>>16&65535|0,s=0;0!==i;){i-=s=i>2e3?2e3:i;do{o=o+(r=r+e[n++]|0)|0}while(--s);r%=65521,o%=65521}return r|o<<16|0}},{}],31:[function(t,e,i){"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],32:[function(t,e,i){"use strict";var n=function(){for(var t,e=[],i=0;i<256;i++){t=i;for(var n=0;n<8;n++)t=1&t?3988292384^t>>>1:t>>>1;e[i]=t}return e}();e.exports=function(t,e,i,r){var o=n,s=r+i;t^=-1;for(var a=r;a<s;a++)t=t>>>8^o[255&(t^e[a])];return-1^t}},{}],33:[function(t,e,i){"use strict";function n(t,e){return t.msg=E[e],e}function r(t){return(t<<1)-(t>4?9:0)}function o(t){for(var e=t.length;--e>=0;)t[e]=0}function s(t){var e=t.state,i=e.pending;i>t.avail_out&&(i=t.avail_out),0!==i&&(k.arraySet(t.output,e.pending_buf,e.pending_out,i,t.next_out),t.next_out+=i,e.pending_out+=i,t.total_out+=i,t.avail_out-=i,e.pending-=i,0===e.pending&&(e.pending_out=0))}function a(t,e){S._tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,s(t.strm)}function h(t,e){t.pending_buf[t.pending++]=e}function l(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function d(t,e,i,n){var r=t.avail_in;return r>n&&(r=n),0===r?0:(t.avail_in-=r,k.arraySet(e,t.input,t.next_in,r,i),1===t.state.wrap?t.adler=M(t.adler,e,r,i):2===t.state.wrap&&(t.adler=C(t.adler,e,r,i)),t.next_in+=r,t.total_in+=r,r)}function u(t,e){var i,n,r=t.max_chain_length,o=t.strstart,s=t.prev_length,a=t.nice_match,h=t.strstart>t.w_size-V?t.strstart-(t.w_size-V):0,l=t.window,d=t.w_mask,u=t.prev,c=t.strstart+U,f=l[o+s-1],p=l[o+s];t.prev_length>=t.good_match&&(r>>=2),a>t.lookahead&&(a=t.lookahead);do{if(l[(i=e)+s]===p&&l[i+s-1]===f&&l[i]===l[o]&&l[++i]===l[o+1]){o+=2,i++;do{}while(l[++o]===l[++i]&&l[++o]===l[++i]&&l[++o]===l[++i]&&l[++o]===l[++i]&&l[++o]===l[++i]&&l[++o]===l[++i]&&l[++o]===l[++i]&&l[++o]===l[++i]&&o<c);if(n=U-(c-o),o=c-U,n>s){if(t.match_start=e,s=n,n>=a)break;f=l[o+s-1],p=l[o+s]}}}while((e=u[e&d])>h&&0!=--r);return s<=t.lookahead?s:t.lookahead}function c(t){var e,i,n,r,o,s=t.w_size;do{if(r=t.window_size-t.lookahead-t.strstart,t.strstart>=s+(s-V)){k.arraySet(t.window,t.window,s,s,0),t.match_start-=s,t.strstart-=s,t.block_start-=s,e=i=t.hash_size;do{n=t.head[--e],t.head[e]=n>=s?n-s:0}while(--i);e=i=s;do{n=t.prev[--e],t.prev[e]=n>=s?n-s:0}while(--i);r+=s}if(0===t.strm.avail_in)break;if(i=d(t.strm,t.window,t.strstart+t.lookahead,r),t.lookahead+=i,t.lookahead+t.insert>=W)for(t.ins_h=t.window[o=t.strstart-t.insert],t.ins_h=(t.ins_h<<t.hash_shift^t.window[o+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[o+W-1])&t.hash_mask,t.prev[o&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=o,o++,t.insert--,!(t.lookahead+t.insert<W)););}while(t.lookahead<V&&0!==t.strm.avail_in)}function f(t,e){for(var i,n;;){if(t.lookahead<V){if(c(t),t.lookahead<V&&e===N)return X;if(0===t.lookahead)break}if(i=0,t.lookahead>=W&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+W-1])&t.hash_mask,i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==i&&t.strstart-i<=t.w_size-V&&(t.match_length=u(t,i)),t.match_length>=W)if(n=S._tr_tally(t,t.strstart-t.match_start,t.match_length-W),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=W){t.match_length--;do{t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+W-1])&t.hash_mask,i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else n=S._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(n&&(a(t,!1),0===t.strm.avail_out))return X}return t.insert=t.strstart<W-1?t.strstart:W-1,e===A?(a(t,!0),0===t.strm.avail_out?Z:Q):t.last_lit&&(a(t,!1),0===t.strm.avail_out)?X:K}function p(t,e){for(var i,n,r;;){if(t.lookahead<V){if(c(t),t.lookahead<V&&e===N)return X;if(0===t.lookahead)break}if(i=0,t.lookahead>=W&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+W-1])&t.hash_mask,i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=W-1,0!==i&&t.prev_length<t.max_lazy_match&&t.strstart-i<=t.w_size-V&&(t.match_length=u(t,i),t.match_length<=5&&(t.strategy===O||t.match_length===W&&t.strstart-t.match_start>4096)&&(t.match_length=W-1)),t.prev_length>=W&&t.match_length<=t.prev_length){r=t.strstart+t.lookahead-W,n=S._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-W),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=r&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+W-1])&t.hash_mask,i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=W-1,t.strstart++,n&&(a(t,!1),0===t.strm.avail_out))return X}else if(t.match_available){if((n=S._tr_tally(t,0,t.window[t.strstart-1]))&&a(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return X}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(n=S._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<W-1?t.strstart:W-1,e===A?(a(t,!0),0===t.strm.avail_out?Z:Q):t.last_lit&&(a(t,!1),0===t.strm.avail_out)?X:K}function g(t,e){for(var i,n,r,o,s=t.window;;){if(t.lookahead<=U){if(c(t),t.lookahead<=U&&e===N)return X;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=W&&t.strstart>0&&(n=s[r=t.strstart-1])===s[++r]&&n===s[++r]&&n===s[++r]){o=t.strstart+U;do{}while(n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&r<o);t.match_length=U-(o-r),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=W?(i=S._tr_tally(t,1,t.match_length-W),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(i=S._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),i&&(a(t,!1),0===t.strm.avail_out))return X}return t.insert=0,e===A?(a(t,!0),0===t.strm.avail_out?Z:Q):t.last_lit&&(a(t,!1),0===t.strm.avail_out)?X:K}function m(t,e){for(var i;;){if(0===t.lookahead&&(c(t),0===t.lookahead)){if(e===N)return X;break}if(t.match_length=0,i=S._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,i&&(a(t,!1),0===t.strm.avail_out))return X}return t.insert=0,e===A?(a(t,!0),0===t.strm.avail_out?Z:Q):t.last_lit&&(a(t,!1),0===t.strm.avail_out)?X:K}function v(t,e,i,n,r){this.good_length=t,this.max_lazy=e,this.nice_length=i,this.max_chain=n,this.func=r}function y(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=B,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new k.Buf16(2*q),this.dyn_dtree=new k.Buf16(2*(2*z+1)),this.bl_tree=new k.Buf16(2*(2*j+1)),o(this.dyn_ltree),o(this.dyn_dtree),o(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new k.Buf16(H+1),this.heap=new k.Buf16(2*F+1),o(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new k.Buf16(2*F+1),o(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function b(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=I,(e=t.state).pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?Y:G,t.adler=2===e.wrap?0:1,e.last_flush=N,S._tr_init(e),D):n(t,T)}function w(t){var e=b(t);return e===D&&function(t){t.window_size=2*t.w_size,o(t.head),t.max_lazy_match=_[t.level].max_lazy,t.good_match=_[t.level].good_length,t.nice_match=_[t.level].nice_length,t.max_chain_length=_[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=W-1,t.match_available=0,t.ins_h=0}(t.state),e}function x(t,e,i,r,o,s){if(!t)return T;var a=1;if(e===L&&(e=6),r<0?(a=0,r=-r):r>15&&(a=2,r-=16),o<1||o>R||i!==B||r<8||r>15||e<0||e>9||s<0||s>P)return n(t,T);8===r&&(r=9);var h=new y;return t.state=h,h.strm=t,h.wrap=a,h.gzhead=null,h.w_bits=r,h.w_size=1<<h.w_bits,h.w_mask=h.w_size-1,h.hash_bits=o+7,h.hash_size=1<<h.hash_bits,h.hash_mask=h.hash_size-1,h.hash_shift=~~((h.hash_bits+W-1)/W),h.window=new k.Buf8(2*h.w_size),h.head=new k.Buf16(h.hash_size),h.prev=new k.Buf16(h.w_size),h.lit_bufsize=1<<o+6,h.pending_buf_size=4*h.lit_bufsize,h.pending_buf=new k.Buf8(h.pending_buf_size),h.d_buf=1*h.lit_bufsize,h.l_buf=3*h.lit_bufsize,h.level=e,h.strategy=s,h.method=i,w(t)}var _,k=t("../utils/common"),S=t("./trees"),M=t("./adler32"),C=t("./crc32"),E=t("./messages"),N=0,A=4,D=0,T=-2,L=-1,O=1,P=4,I=2,B=8,R=9,F=286,z=30,j=19,q=2*F+1,H=15,W=3,U=258,V=U+W+1,Y=42,G=113,X=1,K=2,Z=3,Q=4;_=[new v(0,0,0,0,function(t,e){var i=65535;for(i>t.pending_buf_size-5&&(i=t.pending_buf_size-5);;){if(t.lookahead<=1){if(c(t),0===t.lookahead&&e===N)return X;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var n=t.block_start+i;if((0===t.strstart||t.strstart>=n)&&(t.lookahead=t.strstart-n,t.strstart=n,a(t,!1),0===t.strm.avail_out))return X;if(t.strstart-t.block_start>=t.w_size-V&&(a(t,!1),0===t.strm.avail_out))return X}return t.insert=0,e===A?(a(t,!0),0===t.strm.avail_out?Z:Q):(t.strstart>t.block_start&&a(t,!1),X)}),new v(4,4,8,4,f),new v(4,5,16,8,f),new v(4,6,32,32,f),new v(4,4,16,16,p),new v(8,16,32,32,p),new v(8,16,128,128,p),new v(8,32,128,256,p),new v(32,128,258,1024,p),new v(32,258,258,4096,p)],i.deflateInit=function(t,e){return x(t,e,B,15,8,0)},i.deflateInit2=x,i.deflateReset=w,i.deflateResetKeep=b,i.deflateSetHeader=function(t,e){return t&&t.state?2!==t.state.wrap?T:(t.state.gzhead=e,D):T},i.deflate=function(t,e){var i,a,d,u;if(!t||!t.state||e>5||e<0)return t?n(t,T):T;if(a=t.state,!t.output||!t.input&&0!==t.avail_in||666===a.status&&e!==A)return n(t,0===t.avail_out?-5:T);if(a.strm=t,i=a.last_flush,a.last_flush=e,a.status===Y)if(2===a.wrap)t.adler=0,h(a,31),h(a,139),h(a,8),a.gzhead?(h(a,(a.gzhead.text?1:0)+(a.gzhead.hcrc?2:0)+(a.gzhead.extra?4:0)+(a.gzhead.name?8:0)+(a.gzhead.comment?16:0)),h(a,255&a.gzhead.time),h(a,a.gzhead.time>>8&255),h(a,a.gzhead.time>>16&255),h(a,a.gzhead.time>>24&255),h(a,9===a.level?2:a.strategy>=2||a.level<2?4:0),h(a,255&a.gzhead.os),a.gzhead.extra&&a.gzhead.extra.length&&(h(a,255&a.gzhead.extra.length),h(a,a.gzhead.extra.length>>8&255)),a.gzhead.hcrc&&(t.adler=C(t.adler,a.pending_buf,a.pending,0)),a.gzindex=0,a.status=69):(h(a,0),h(a,0),h(a,0),h(a,0),h(a,0),h(a,9===a.level?2:a.strategy>=2||a.level<2?4:0),h(a,3),a.status=G);else{var c=B+(a.w_bits-8<<4)<<8;c|=(a.strategy>=2||a.level<2?0:a.level<6?1:6===a.level?2:3)<<6,0!==a.strstart&&(c|=32),c+=31-c%31,a.status=G,l(a,c),0!==a.strstart&&(l(a,t.adler>>>16),l(a,65535&t.adler)),t.adler=1}if(69===a.status)if(a.gzhead.extra){for(d=a.pending;a.gzindex<(65535&a.gzhead.extra.length)&&(a.pending!==a.pending_buf_size||(a.gzhead.hcrc&&a.pending>d&&(t.adler=C(t.adler,a.pending_buf,a.pending-d,d)),s(t),d=a.pending,a.pending!==a.pending_buf_size));)h(a,255&a.gzhead.extra[a.gzindex]),a.gzindex++;a.gzhead.hcrc&&a.pending>d&&(t.adler=C(t.adler,a.pending_buf,a.pending-d,d)),a.gzindex===a.gzhead.extra.length&&(a.gzindex=0,a.status=73)}else a.status=73;if(73===a.status)if(a.gzhead.name){d=a.pending;do{if(a.pending===a.pending_buf_size&&(a.gzhead.hcrc&&a.pending>d&&(t.adler=C(t.adler,a.pending_buf,a.pending-d,d)),s(t),d=a.pending,a.pending===a.pending_buf_size)){u=1;break}u=a.gzindex<a.gzhead.name.length?255&a.gzhead.name.charCodeAt(a.gzindex++):0,h(a,u)}while(0!==u);a.gzhead.hcrc&&a.pending>d&&(t.adler=C(t.adler,a.pending_buf,a.pending-d,d)),0===u&&(a.gzindex=0,a.status=91)}else a.status=91;if(91===a.status)if(a.gzhead.comment){d=a.pending;do{if(a.pending===a.pending_buf_size&&(a.gzhead.hcrc&&a.pending>d&&(t.adler=C(t.adler,a.pending_buf,a.pending-d,d)),s(t),d=a.pending,a.pending===a.pending_buf_size)){u=1;break}u=a.gzindex<a.gzhead.comment.length?255&a.gzhead.comment.charCodeAt(a.gzindex++):0,h(a,u)}while(0!==u);a.gzhead.hcrc&&a.pending>d&&(t.adler=C(t.adler,a.pending_buf,a.pending-d,d)),0===u&&(a.status=103)}else a.status=103;if(103===a.status&&(a.gzhead.hcrc?(a.pending+2>a.pending_buf_size&&s(t),a.pending+2<=a.pending_buf_size&&(h(a,255&t.adler),h(a,t.adler>>8&255),t.adler=0,a.status=G)):a.status=G),0!==a.pending){if(s(t),0===t.avail_out)return a.last_flush=-1,D}else if(0===t.avail_in&&r(e)<=r(i)&&e!==A)return n(t,-5);if(666===a.status&&0!==t.avail_in)return n(t,-5);if(0!==t.avail_in||0!==a.lookahead||e!==N&&666!==a.status){var f=2===a.strategy?m(a,e):3===a.strategy?g(a,e):_[a.level].func(a,e);if(f!==Z&&f!==Q||(a.status=666),f===X||f===Z)return 0===t.avail_out&&(a.last_flush=-1),D;if(f===K&&(1===e?S._tr_align(a):5!==e&&(S._tr_stored_block(a,0,0,!1),3===e&&(o(a.head),0===a.lookahead&&(a.strstart=0,a.block_start=0,a.insert=0))),s(t),0===t.avail_out))return a.last_flush=-1,D}return e!==A?D:a.wrap<=0?1:(2===a.wrap?(h(a,255&t.adler),h(a,t.adler>>8&255),h(a,t.adler>>16&255),h(a,t.adler>>24&255),h(a,255&t.total_in),h(a,t.total_in>>8&255),h(a,t.total_in>>16&255),h(a,t.total_in>>24&255)):(l(a,t.adler>>>16),l(a,65535&t.adler)),s(t),a.wrap>0&&(a.wrap=-a.wrap),0!==a.pending?D:1)},i.deflateEnd=function(t){var e;return t&&t.state?(e=t.state.status)!==Y&&69!==e&&73!==e&&91!==e&&103!==e&&e!==G&&666!==e?n(t,T):(t.state=null,e===G?n(t,-3):D):T},i.deflateSetDictionary=function(t,e){var i,n,r,s,a,h,l,d,u=e.length;if(!t||!t.state)return T;if(2===(s=(i=t.state).wrap)||1===s&&i.status!==Y||i.lookahead)return T;for(1===s&&(t.adler=M(t.adler,e,u,0)),i.wrap=0,u>=i.w_size&&(0===s&&(o(i.head),i.strstart=0,i.block_start=0,i.insert=0),d=new k.Buf8(i.w_size),k.arraySet(d,e,u-i.w_size,i.w_size,0),e=d,u=i.w_size),a=t.avail_in,h=t.next_in,l=t.input,t.avail_in=u,t.next_in=0,t.input=e,c(i);i.lookahead>=W;){n=i.strstart,r=i.lookahead-(W-1);do{i.ins_h=(i.ins_h<<i.hash_shift^i.window[n+W-1])&i.hash_mask,i.prev[n&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=n,n++}while(--r);i.strstart=n,i.lookahead=W-1,c(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=W-1,i.match_available=0,t.next_in=h,t.input=l,t.avail_in=a,i.wrap=s,D},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":28,"./adler32":30,"./crc32":32,"./messages":38,"./trees":39}],34:[function(t,e,i){"use strict";e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],35:[function(t,e,i){"use strict";e.exports=function(t,e){var i,n,r,o,s,a,h,l,d,u,c,f,p,g,m,v,y,b,w,x,_,k,S,M,C;M=t.input,r=(n=t.next_in)+(t.avail_in-5),C=t.output,s=(o=t.next_out)-(e-t.avail_out),a=o+(t.avail_out-257),h=(i=t.state).dmax,l=i.wsize,d=i.whave,u=i.wnext,c=i.window,f=i.hold,p=i.bits,g=i.lencode,m=i.distcode,v=(1<<i.lenbits)-1,y=(1<<i.distbits)-1;t:do{p<15&&(f+=M[n++]<<p,f+=M[n++]<<(p+=8),p+=8),b=g[f&v];e:for(;;){if(f>>>=w=b>>>24,p-=w,0==(w=b>>>16&255))C[o++]=65535&b;else{if(!(16&w)){if(0==(64&w)){b=g[(65535&b)+(f&(1<<w)-1)];continue e}if(32&w){i.mode=12;break t}t.msg="invalid literal/length code",i.mode=30;break t}x=65535&b,(w&=15)&&(p<w&&(f+=M[n++]<<p,p+=8),x+=f&(1<<w)-1,f>>>=w,p-=w),p<15&&(f+=M[n++]<<p,f+=M[n++]<<(p+=8),p+=8),b=m[f&y];i:for(;;){if(f>>>=w=b>>>24,p-=w,!(16&(w=b>>>16&255))){if(0==(64&w)){b=m[(65535&b)+(f&(1<<w)-1)];continue i}t.msg="invalid distance code",i.mode=30;break t}if(_=65535&b,p<(w&=15)&&(f+=M[n++]<<p,(p+=8)<w&&(f+=M[n++]<<p,p+=8)),(_+=f&(1<<w)-1)>h){t.msg="invalid distance too far back",i.mode=30;break t}if(f>>>=w,p-=w,_>(w=o-s)){if((w=_-w)>d&&i.sane){t.msg="invalid distance too far back",i.mode=30;break t}if(k=0,S=c,0===u){if(k+=l-w,w<x){x-=w;do{C[o++]=c[k++]}while(--w);k=o-_,S=C}}else if(u<w){if(k+=l+u-w,(w-=u)<x){x-=w;do{C[o++]=c[k++]}while(--w);if(k=0,u<x){x-=w=u;do{C[o++]=c[k++]}while(--w);k=o-_,S=C}}}else if(k+=u-w,w<x){x-=w;do{C[o++]=c[k++]}while(--w);k=o-_,S=C}for(;x>2;)C[o++]=S[k++],C[o++]=S[k++],C[o++]=S[k++],x-=3;x&&(C[o++]=S[k++],x>1&&(C[o++]=S[k++]))}else{k=o-_;do{C[o++]=C[k++],C[o++]=C[k++],C[o++]=C[k++],x-=3}while(x>2);x&&(C[o++]=C[k++],x>1&&(C[o++]=C[k++]))}break}}break}}while(n<r&&o<a);f&=(1<<(p-=(x=p>>3)<<3))-1,t.next_in=n-=x,t.next_out=o,t.avail_in=n<r?r-n+5:5-(n-r),t.avail_out=o<a?a-o+257:257-(o-a),i.hold=f,i.bits=p}},{}],36:[function(t,e,i){"use strict";function n(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function r(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new f.Buf16(320),this.work=new f.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function o(t){var e;return t&&t.state?(t.total_in=t.total_out=(e=t.state).total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=_,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new f.Buf32(S),e.distcode=e.distdyn=new f.Buf32(M),e.sane=1,e.back=-1,w):x}function s(t){var e;return t&&t.state?((e=t.state).wsize=0,e.whave=0,e.wnext=0,o(t)):x}function a(t,e){var i,n;return t&&t.state?(n=t.state,e<0?(i=0,e=-e):(i=1+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?x:(null!==n.window&&n.wbits!==e&&(n.window=null),n.wrap=i,n.wbits=e,s(t))):x}function h(t,e){var i,n;return t?(n=new r,t.state=n,n.window=null,(i=a(t,e))!==w&&(t.state=null),i):x}function l(t){if(C){var e;for(u=new f.Buf32(512),c=new f.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(v(y,t.lens,0,288,u,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;v(b,t.lens,0,32,c,0,t.work,{bits:5}),C=!1}t.lencode=u,t.lenbits=9,t.distcode=c,t.distbits=5}function d(t,e,i,n){var r,o=t.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new f.Buf8(o.wsize)),n>=o.wsize?(f.arraySet(o.window,e,i-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):((r=o.wsize-o.wnext)>n&&(r=n),f.arraySet(o.window,e,i-n,r,o.wnext),(n-=r)?(f.arraySet(o.window,e,i-n,n,0),o.wnext=n,o.whave=o.wsize):(o.wnext+=r,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=r))),0}var u,c,f=t("../utils/common"),p=t("./adler32"),g=t("./crc32"),m=t("./inffast"),v=t("./inftrees"),y=1,b=2,w=0,x=-2,_=1,k=12,S=852,M=592,C=!0;i.inflateReset=s,i.inflateReset2=a,i.inflateResetKeep=o,i.inflateInit=function(t){return h(t,15)},i.inflateInit2=h,i.inflate=function(t,e){var i,r,o,s,a,h,u,c,S,M,C,E,N,A,D,T,L,O,P,I,B,R,F,z,j=0,q=new f.Buf8(4),H=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return x;(i=t.state).mode===k&&(i.mode=13),a=t.next_out,o=t.output,s=t.next_in,r=t.input,c=i.hold,S=i.bits,M=h=t.avail_in,C=u=t.avail_out,R=w;t:for(;;)switch(i.mode){case _:if(0===i.wrap){i.mode=13;break}for(;S<16;){if(0===h)break t;h--,c+=r[s++]<<S,S+=8}if(2&i.wrap&&35615===c){i.check=0,q[0]=255&c,q[1]=c>>>8&255,i.check=g(i.check,q,2,0),c=0,S=0,i.mode=2;break}if(i.flags=0,i.head&&(i.head.done=!1),!(1&i.wrap)||(((255&c)<<8)+(c>>8))%31){t.msg="incorrect header check",i.mode=30;break}if(8!=(15&c)){t.msg="unknown compression method",i.mode=30;break}if(S-=4,B=8+(15&(c>>>=4)),0===i.wbits)i.wbits=B;else if(B>i.wbits){t.msg="invalid window size",i.mode=30;break}i.dmax=1<<B,t.adler=i.check=1,i.mode=512&c?10:k,c=0,S=0;break;case 2:for(;S<16;){if(0===h)break t;h--,c+=r[s++]<<S,S+=8}if(i.flags=c,8!=(255&i.flags)){t.msg="unknown compression method",i.mode=30;break}if(57344&i.flags){t.msg="unknown header flags set",i.mode=30;break}i.head&&(i.head.text=c>>8&1),512&i.flags&&(q[0]=255&c,q[1]=c>>>8&255,i.check=g(i.check,q,2,0)),c=0,S=0,i.mode=3;case 3:for(;S<32;){if(0===h)break t;h--,c+=r[s++]<<S,S+=8}i.head&&(i.head.time=c),512&i.flags&&(q[0]=255&c,q[1]=c>>>8&255,q[2]=c>>>16&255,q[3]=c>>>24&255,i.check=g(i.check,q,4,0)),c=0,S=0,i.mode=4;case 4:for(;S<16;){if(0===h)break t;h--,c+=r[s++]<<S,S+=8}i.head&&(i.head.xflags=255&c,i.head.os=c>>8),512&i.flags&&(q[0]=255&c,q[1]=c>>>8&255,i.check=g(i.check,q,2,0)),c=0,S=0,i.mode=5;case 5:if(1024&i.flags){for(;S<16;){if(0===h)break t;h--,c+=r[s++]<<S,S+=8}i.length=c,i.head&&(i.head.extra_len=c),512&i.flags&&(q[0]=255&c,q[1]=c>>>8&255,i.check=g(i.check,q,2,0)),c=0,S=0}else i.head&&(i.head.extra=null);i.mode=6;case 6:if(1024&i.flags&&((E=i.length)>h&&(E=h),E&&(i.head&&(B=i.head.extra_len-i.length,i.head.extra||(i.head.extra=new Array(i.head.extra_len)),f.arraySet(i.head.extra,r,s,E,B)),512&i.flags&&(i.check=g(i.check,r,E,s)),h-=E,s+=E,i.length-=E),i.length))break t;i.length=0,i.mode=7;case 7:if(2048&i.flags){if(0===h)break t;E=0;do{B=r[s+E++],i.head&&B&&i.length<65536&&(i.head.name+=String.fromCharCode(B))}while(B&&E<h);if(512&i.flags&&(i.check=g(i.check,r,E,s)),h-=E,s+=E,B)break t}else i.head&&(i.head.name=null);i.length=0,i.mode=8;case 8:if(4096&i.flags){if(0===h)break t;E=0;do{B=r[s+E++],i.head&&B&&i.length<65536&&(i.head.comment+=String.fromCharCode(B))}while(B&&E<h);if(512&i.flags&&(i.check=g(i.check,r,E,s)),h-=E,s+=E,B)break t}else i.head&&(i.head.comment=null);i.mode=9;case 9:if(512&i.flags){for(;S<16;){if(0===h)break t;h--,c+=r[s++]<<S,S+=8}if(c!==(65535&i.check)){t.msg="header crc mismatch",i.mode=30;break}c=0,S=0}i.head&&(i.head.hcrc=i.flags>>9&1,i.head.done=!0),t.adler=i.check=0,i.mode=k;break;case 10:for(;S<32;){if(0===h)break t;h--,c+=r[s++]<<S,S+=8}t.adler=i.check=n(c),c=0,S=0,i.mode=11;case 11:if(0===i.havedict)return t.next_out=a,t.avail_out=u,t.next_in=s,t.avail_in=h,i.hold=c,i.bits=S,2;t.adler=i.check=1,i.mode=k;case k:if(5===e||6===e)break t;case 13:if(i.last){c>>>=7&S,S-=7&S,i.mode=27;break}for(;S<3;){if(0===h)break t;h--,c+=r[s++]<<S,S+=8}switch(i.last=1&c,S-=1,3&(c>>>=1)){case 0:i.mode=14;break;case 1:if(l(i),i.mode=20,6===e){c>>>=2,S-=2;break t}break;case 2:i.mode=17;break;case 3:t.msg="invalid block type",i.mode=30}c>>>=2,S-=2;break;case 14:for(c>>>=7&S,S-=7&S;S<32;){if(0===h)break t;h--,c+=r[s++]<<S,S+=8}if((65535&c)!=(c>>>16^65535)){t.msg="invalid stored block lengths",i.mode=30;break}if(i.length=65535&c,c=0,S=0,i.mode=15,6===e)break t;case 15:i.mode=16;case 16:if(E=i.length){if(E>h&&(E=h),E>u&&(E=u),0===E)break t;f.arraySet(o,r,s,E,a),h-=E,s+=E,u-=E,a+=E,i.length-=E;break}i.mode=k;break;case 17:for(;S<14;){if(0===h)break t;h--,c+=r[s++]<<S,S+=8}if(i.nlen=257+(31&c),S-=5,i.ndist=1+(31&(c>>>=5)),S-=5,i.ncode=4+(15&(c>>>=5)),c>>>=4,S-=4,i.nlen>286||i.ndist>30){t.msg="too many length or distance symbols",i.mode=30;break}i.have=0,i.mode=18;case 18:for(;i.have<i.ncode;){for(;S<3;){if(0===h)break t;h--,c+=r[s++]<<S,S+=8}i.lens[H[i.have++]]=7&c,c>>>=3,S-=3}for(;i.have<19;)i.lens[H[i.have++]]=0;if(i.lencode=i.lendyn,i.lenbits=7,R=v(0,i.lens,0,19,i.lencode,0,i.work,F={bits:i.lenbits}),i.lenbits=F.bits,R){t.msg="invalid code lengths set",i.mode=30;break}i.have=0,i.mode=19;case 19:for(;i.have<i.nlen+i.ndist;){for(;T=(j=i.lencode[c&(1<<i.lenbits)-1])>>>16&255,L=65535&j,!((D=j>>>24)<=S);){if(0===h)break t;h--,c+=r[s++]<<S,S+=8}if(L<16)c>>>=D,S-=D,i.lens[i.have++]=L;else{if(16===L){for(z=D+2;S<z;){if(0===h)break t;h--,c+=r[s++]<<S,S+=8}if(c>>>=D,S-=D,0===i.have){t.msg="invalid bit length repeat",i.mode=30;break}B=i.lens[i.have-1],E=3+(3&c),c>>>=2,S-=2}else if(17===L){for(z=D+3;S<z;){if(0===h)break t;h--,c+=r[s++]<<S,S+=8}S-=D,B=0,E=3+(7&(c>>>=D)),c>>>=3,S-=3}else{for(z=D+7;S<z;){if(0===h)break t;h--,c+=r[s++]<<S,S+=8}S-=D,B=0,E=11+(127&(c>>>=D)),c>>>=7,S-=7}if(i.have+E>i.nlen+i.ndist){t.msg="invalid bit length repeat",i.mode=30;break}for(;E--;)i.lens[i.have++]=B}}if(30===i.mode)break;if(0===i.lens[256]){t.msg="invalid code -- missing end-of-block",i.mode=30;break}if(i.lenbits=9,R=v(y,i.lens,0,i.nlen,i.lencode,0,i.work,F={bits:i.lenbits}),i.lenbits=F.bits,R){t.msg="invalid literal/lengths set",i.mode=30;break}if(i.distbits=6,i.distcode=i.distdyn,R=v(b,i.lens,i.nlen,i.ndist,i.distcode,0,i.work,F={bits:i.distbits}),i.distbits=F.bits,R){t.msg="invalid distances set",i.mode=30;break}if(i.mode=20,6===e)break t;case 20:i.mode=21;case 21:if(h>=6&&u>=258){t.next_out=a,t.avail_out=u,t.next_in=s,t.avail_in=h,i.hold=c,i.bits=S,m(t,C),a=t.next_out,o=t.output,u=t.avail_out,s=t.next_in,r=t.input,h=t.avail_in,c=i.hold,S=i.bits,i.mode===k&&(i.back=-1);break}for(i.back=0;T=(j=i.lencode[c&(1<<i.lenbits)-1])>>>16&255,L=65535&j,!((D=j>>>24)<=S);){if(0===h)break t;h--,c+=r[s++]<<S,S+=8}if(T&&0==(240&T)){for(O=D,P=T,I=L;T=(j=i.lencode[I+((c&(1<<O+P)-1)>>O)])>>>16&255,L=65535&j,!(O+(D=j>>>24)<=S);){if(0===h)break t;h--,c+=r[s++]<<S,S+=8}c>>>=O,S-=O,i.back+=O}if(c>>>=D,S-=D,i.back+=D,i.length=L,0===T){i.mode=26;break}if(32&T){i.back=-1,i.mode=k;break}if(64&T){t.msg="invalid literal/length code",i.mode=30;break}i.extra=15&T,i.mode=22;case 22:if(i.extra){for(z=i.extra;S<z;){if(0===h)break t;h--,c+=r[s++]<<S,S+=8}i.length+=c&(1<<i.extra)-1,c>>>=i.extra,S-=i.extra,i.back+=i.extra}i.was=i.length,i.mode=23;case 23:for(;T=(j=i.distcode[c&(1<<i.distbits)-1])>>>16&255,L=65535&j,!((D=j>>>24)<=S);){if(0===h)break t;h--,c+=r[s++]<<S,S+=8}if(0==(240&T)){for(O=D,P=T,I=L;T=(j=i.distcode[I+((c&(1<<O+P)-1)>>O)])>>>16&255,L=65535&j,!(O+(D=j>>>24)<=S);){if(0===h)break t;h--,c+=r[s++]<<S,S+=8}c>>>=O,S-=O,i.back+=O}if(c>>>=D,S-=D,i.back+=D,64&T){t.msg="invalid distance code",i.mode=30;break}i.offset=L,i.extra=15&T,i.mode=24;case 24:if(i.extra){for(z=i.extra;S<z;){if(0===h)break t;h--,c+=r[s++]<<S,S+=8}i.offset+=c&(1<<i.extra)-1,c>>>=i.extra,S-=i.extra,i.back+=i.extra}if(i.offset>i.dmax){t.msg="invalid distance too far back",i.mode=30;break}i.mode=25;case 25:if(0===u)break t;if(i.offset>(E=C-u)){if((E=i.offset-E)>i.whave&&i.sane){t.msg="invalid distance too far back",i.mode=30;break}N=E>i.wnext?i.wsize-(E-=i.wnext):i.wnext-E,E>i.length&&(E=i.length),A=i.window}else A=o,N=a-i.offset,E=i.length;E>u&&(E=u),u-=E,i.length-=E;do{o[a++]=A[N++]}while(--E);0===i.length&&(i.mode=21);break;case 26:if(0===u)break t;o[a++]=i.length,u--,i.mode=21;break;case 27:if(i.wrap){for(;S<32;){if(0===h)break t;h--,c|=r[s++]<<S,S+=8}if(t.total_out+=C-=u,i.total+=C,C&&(t.adler=i.check=i.flags?g(i.check,o,C,a-C):p(i.check,o,C,a-C)),C=u,(i.flags?c:n(c))!==i.check){t.msg="incorrect data check",i.mode=30;break}c=0,S=0}i.mode=28;case 28:if(i.wrap&&i.flags){for(;S<32;){if(0===h)break t;h--,c+=r[s++]<<S,S+=8}if(c!==(4294967295&i.total)){t.msg="incorrect length check",i.mode=30;break}c=0,S=0}i.mode=29;case 29:R=1;break t;case 30:R=-3;break t;case 31:return-4;case 32:default:return x}return t.next_out=a,t.avail_out=u,t.next_in=s,t.avail_in=h,i.hold=c,i.bits=S,(i.wsize||C!==t.avail_out&&i.mode<30&&(i.mode<27||4!==e))&&d(t,t.output,t.next_out,C-t.avail_out)?(i.mode=31,-4):(C-=t.avail_out,t.total_in+=M-=t.avail_in,t.total_out+=C,i.total+=C,i.wrap&&C&&(t.adler=i.check=i.flags?g(i.check,o,C,t.next_out-C):p(i.check,o,C,t.next_out-C)),t.data_type=i.bits+(i.last?64:0)+(i.mode===k?128:0)+(20===i.mode||15===i.mode?256:0),(0===M&&0===C||4===e)&&R===w&&(R=-5),R)},i.inflateEnd=function(t){if(!t||!t.state)return x;var e=t.state;return e.window&&(e.window=null),t.state=null,w},i.inflateGetHeader=function(t,e){var i;return t&&t.state?0==(2&(i=t.state).wrap)?x:(i.head=e,e.done=!1,w):x},i.inflateSetDictionary=function(t,e){var i,n=e.length;return t&&t.state?0!==(i=t.state).wrap&&11!==i.mode?x:11===i.mode&&p(1,e,n,0)!==i.check?-3:d(t,e,n,n)?(i.mode=31,-4):(i.havedict=1,w):x},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":28,"./adler32":30,"./crc32":32,"./inffast":35,"./inftrees":37}],37:[function(t,e,i){"use strict";var n=t("../utils/common"),r=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],s=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],a=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(t,e,i,h,l,d,u,c){var f,p,g,m,v,y,b,w,x,_=c.bits,k=0,S=0,M=0,C=0,E=0,N=0,A=0,D=0,T=0,L=0,O=null,P=0,I=new n.Buf16(16),B=new n.Buf16(16),R=null,F=0;for(k=0;k<=15;k++)I[k]=0;for(S=0;S<h;S++)I[e[i+S]]++;for(E=_,C=15;C>=1&&0===I[C];C--);if(E>C&&(E=C),0===C)return l[d++]=20971520,l[d++]=20971520,c.bits=1,0;for(M=1;M<C&&0===I[M];M++);for(E<M&&(E=M),D=1,k=1;k<=15;k++)if(D<<=1,(D-=I[k])<0)return-1;if(D>0&&(0===t||1!==C))return-1;for(B[1]=0,k=1;k<15;k++)B[k+1]=B[k]+I[k];for(S=0;S<h;S++)0!==e[i+S]&&(u[B[e[i+S]]++]=S);if(0===t?(O=R=u,y=19):1===t?(O=r,P-=257,R=o,F-=257,y=256):(O=s,R=a,y=-1),L=0,S=0,k=M,v=d,N=E,A=0,g=-1,m=(T=1<<E)-1,1===t&&T>852||2===t&&T>592)return 1;for(;;){b=k-A,u[S]<y?(w=0,x=u[S]):u[S]>y?(w=R[F+u[S]],x=O[P+u[S]]):(w=96,x=0),f=1<<k-A,M=p=1<<N;do{l[v+(L>>A)+(p-=f)]=b<<24|w<<16|x|0}while(0!==p);for(f=1<<k-1;L&f;)f>>=1;if(0!==f?(L&=f-1,L+=f):L=0,S++,0==--I[k]){if(k===C)break;k=e[i+u[S]]}if(k>E&&(L&m)!==g){for(0===A&&(A=E),v+=M,D=1<<(N=k-A);N+A<C&&!((D-=I[N+A])<=0);)N++,D<<=1;if(T+=1<<N,1===t&&T>852||2===t&&T>592)return 1;l[g=L&m]=E<<24|N<<16|v-d|0}}return 0!==L&&(l[v+L]=k-A<<24|64<<16|0),c.bits=E,0}},{"../utils/common":28}],38:[function(t,e,i){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],39:[function(t,e,i){"use strict";function n(t){for(var e=t.length;--e>=0;)t[e]=0}function r(t,e,i,n,r){this.static_tree=t,this.extra_bits=e,this.extra_base=i,this.elems=n,this.max_length=r,this.has_stree=t&&t.length}function o(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function s(t){return t<256?j[t]:j[256+(t>>>7)]}function a(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function h(t,e,i){t.bi_valid>A-i?(t.bi_buf|=e<<t.bi_valid&65535,a(t,t.bi_buf),t.bi_buf=e>>A-t.bi_valid,t.bi_valid+=i-A):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=i)}function l(t,e,i){h(t,i[2*e],i[2*e+1])}function d(t,e){var i=0;do{i|=1&t,t>>>=1,i<<=1}while(--e>0);return i>>>1}function u(t,e,i){var n,r,o=new Array(N+1),s=0;for(n=1;n<=N;n++)o[n]=s=s+i[n-1]<<1;for(r=0;r<=e;r++){var a=t[2*r+1];0!==a&&(t[2*r]=d(o[a]++,a))}}function c(t){var e;for(e=0;e<S;e++)t.dyn_ltree[2*e]=0;for(e=0;e<M;e++)t.dyn_dtree[2*e]=0;for(e=0;e<C;e++)t.bl_tree[2*e]=0;t.dyn_ltree[2*D]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function f(t){t.bi_valid>8?a(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function p(t,e,i,n){var r=2*e,o=2*i;return t[r]<t[o]||t[r]===t[o]&&n[e]<=n[i]}function g(t,e,i){for(var n=t.heap[i],r=i<<1;r<=t.heap_len&&(r<t.heap_len&&p(e,t.heap[r+1],t.heap[r],t.depth)&&r++,!p(e,n,t.heap[r],t.depth));)t.heap[i]=t.heap[r],i=r,r<<=1;t.heap[i]=n}function m(t,e,i){var n,r,o,a,d=0;if(0!==t.last_lit)do{n=t.pending_buf[t.d_buf+2*d]<<8|t.pending_buf[t.d_buf+2*d+1],r=t.pending_buf[t.l_buf+d],d++,0===n?l(t,r,e):(l(t,(o=q[r])+k+1,e),0!==(a=P[o])&&h(t,r-=H[o],a),l(t,o=s(--n),i),0!==(a=I[o])&&h(t,n-=W[o],a))}while(d<t.last_lit);l(t,D,e)}function v(t,e){var i,n,r,o=e.dyn_tree,s=e.stat_desc.static_tree,a=e.stat_desc.has_stree,h=e.stat_desc.elems,l=-1;for(t.heap_len=0,t.heap_max=E,i=0;i<h;i++)0!==o[2*i]?(t.heap[++t.heap_len]=l=i,t.depth[i]=0):o[2*i+1]=0;for(;t.heap_len<2;)o[2*(r=t.heap[++t.heap_len]=l<2?++l:0)]=1,t.depth[r]=0,t.opt_len--,a&&(t.static_len-=s[2*r+1]);for(e.max_code=l,i=t.heap_len>>1;i>=1;i--)g(t,o,i);r=h;do{i=t.heap[1],t.heap[1]=t.heap[t.heap_len--],g(t,o,1),n=t.heap[1],t.heap[--t.heap_max]=i,t.heap[--t.heap_max]=n,o[2*r]=o[2*i]+o[2*n],t.depth[r]=(t.depth[i]>=t.depth[n]?t.depth[i]:t.depth[n])+1,o[2*i+1]=o[2*n+1]=r,t.heap[1]=r++,g(t,o,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],function(t,e){var i,n,r,o,s,a,h=e.dyn_tree,l=e.max_code,d=e.stat_desc.static_tree,u=e.stat_desc.has_stree,c=e.stat_desc.extra_bits,f=e.stat_desc.extra_base,p=e.stat_desc.max_length,g=0;for(o=0;o<=N;o++)t.bl_count[o]=0;for(h[2*t.heap[t.heap_max]+1]=0,i=t.heap_max+1;i<E;i++)(o=h[2*h[2*(n=t.heap[i])+1]+1]+1)>p&&(o=p,g++),h[2*n+1]=o,n>l||(t.bl_count[o]++,s=0,n>=f&&(s=c[n-f]),t.opt_len+=(a=h[2*n])*(o+s),u&&(t.static_len+=a*(d[2*n+1]+s)));if(0!==g){do{for(o=p-1;0===t.bl_count[o];)o--;t.bl_count[o]--,t.bl_count[o+1]+=2,t.bl_count[p]--,g-=2}while(g>0);for(o=p;0!==o;o--)for(n=t.bl_count[o];0!==n;)(r=t.heap[--i])>l||(h[2*r+1]!==o&&(t.opt_len+=(o-h[2*r+1])*h[2*r],h[2*r+1]=o),n--)}}(t,e),u(o,l,t.bl_count)}function y(t,e,i){var n,r,o=-1,s=e[1],a=0,h=7,l=4;for(0===s&&(h=138,l=3),e[2*(i+1)+1]=65535,n=0;n<=i;n++)r=s,s=e[2*(n+1)+1],++a<h&&r===s||(a<l?t.bl_tree[2*r]+=a:0!==r?(r!==o&&t.bl_tree[2*r]++,t.bl_tree[2*T]++):a<=10?t.bl_tree[2*L]++:t.bl_tree[2*O]++,a=0,o=r,0===s?(h=138,l=3):r===s?(h=6,l=3):(h=7,l=4))}function b(t,e,i){var n,r,o=-1,s=e[1],a=0,d=7,u=4;for(0===s&&(d=138,u=3),n=0;n<=i;n++)if(r=s,s=e[2*(n+1)+1],!(++a<d&&r===s)){if(a<u)do{l(t,r,t.bl_tree)}while(0!=--a);else 0!==r?(r!==o&&(l(t,r,t.bl_tree),a--),l(t,T,t.bl_tree),h(t,a-3,2)):a<=10?(l(t,L,t.bl_tree),h(t,a-3,3)):(l(t,O,t.bl_tree),h(t,a-11,7));a=0,o=r,0===s?(d=138,u=3):r===s?(d=6,u=3):(d=7,u=4)}}function w(t,e,i,n){h(t,(_<<1)+(n?1:0),3),function(t,e,i,n){f(t),a(t,i),a(t,~i),x.arraySet(t.pending_buf,t.window,e,i,t.pending),t.pending+=i}(t,e,i)}var x=t("../utils/common"),_=0,k=256,S=k+1+29,M=30,C=19,E=2*S+1,N=15,A=16,D=256,T=16,L=17,O=18,P=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],I=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],B=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],R=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],F=new Array(2*(S+2));n(F);var z=new Array(2*M);n(z);var j=new Array(512);n(j);var q=new Array(256);n(q);var H=new Array(29);n(H);var W=new Array(M);n(W);var U,V,Y,G=!1;i._tr_init=function(t){G||(function(){var t,e,i,n,o,s=new Array(N+1);for(i=0,n=0;n<28;n++)for(H[n]=i,t=0;t<1<<P[n];t++)q[i++]=n;for(q[i-1]=n,o=0,n=0;n<16;n++)for(W[n]=o,t=0;t<1<<I[n];t++)j[o++]=n;for(o>>=7;n<M;n++)for(W[n]=o<<7,t=0;t<1<<I[n]-7;t++)j[256+o++]=n;for(e=0;e<=N;e++)s[e]=0;for(t=0;t<=143;)F[2*t+1]=8,t++,s[8]++;for(;t<=255;)F[2*t+1]=9,t++,s[9]++;for(;t<=279;)F[2*t+1]=7,t++,s[7]++;for(;t<=287;)F[2*t+1]=8,t++,s[8]++;for(u(F,S+1,s),t=0;t<M;t++)z[2*t+1]=5,z[2*t]=d(t,5);U=new r(F,P,k+1,S,N),V=new r(z,I,0,M,N),Y=new r(new Array(0),B,0,C,7)}(),G=!0),t.l_desc=new o(t.dyn_ltree,U),t.d_desc=new o(t.dyn_dtree,V),t.bl_desc=new o(t.bl_tree,Y),t.bi_buf=0,t.bi_valid=0,c(t)},i._tr_stored_block=w,i._tr_flush_block=function(t,e,i,n){var r,o,s=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=function(t){var e,i=4093624447;for(e=0;e<=31;e++,i>>>=1)if(1&i&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<k;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0}(t)),v(t,t.l_desc),v(t,t.d_desc),s=function(t){var e;for(y(t,t.dyn_ltree,t.l_desc.max_code),y(t,t.dyn_dtree,t.d_desc.max_code),v(t,t.bl_desc),e=C-1;e>=3&&0===t.bl_tree[2*R[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),(o=t.static_len+3+7>>>3)<=(r=t.opt_len+3+7>>>3)&&(r=o)):r=o=i+5,i+4<=r&&-1!==e?w(t,e,i,n):4===t.strategy||o===r?(h(t,2+(n?1:0),3),m(t,F,z)):(h(t,4+(n?1:0),3),function(t,e,i,n){var r;for(h(t,e-257,5),h(t,i-1,5),h(t,n-4,4),r=0;r<n;r++)h(t,t.bl_tree[2*R[r]+1],3);b(t,t.dyn_ltree,e-1),b(t,t.dyn_dtree,i-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,s+1),m(t,t.dyn_ltree,t.dyn_dtree)),c(t),n&&f(t)},i._tr_tally=function(t,e,i){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&i,t.last_lit++,0===e?t.dyn_ltree[2*i]++:(t.matches++,e--,t.dyn_ltree[2*(q[i]+k+1)]++,t.dyn_dtree[2*s(e)]++),t.last_lit===t.lit_bufsize-1},i._tr_align=function(t){h(t,2,3),l(t,D,F),function(t){16===t.bi_valid?(a(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}(t)}},{"../utils/common":28}],40:[function(t,e,i){"use strict";e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}]},{},[10])(10)}),function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.vis=e():t.vis=e()}(this,function(){return function(t){function e(n){if(i[n])return i[n].exports;var r=i[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var i={};return e.m=t,e.c=i,e.d=function(t,i,n){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=123)}([function(t,e,i){e.__esModule=!0,e.default=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e,i){e.__esModule=!0;var n=i(169),r=n&&n.__esModule?n:{default:n};e.default=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,r.default)(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}()},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e,i,n){var r=!1;!0===n&&(r=null===e[i]&&void 0!==t[i]),r?delete t[i]:t[i]=e[i]}var o=n(i(77)),s=n(i(29)),a=n(i(8)),h=n(i(6)),l=i(9),d=i(157);e.isNumber=function(t){return t instanceof Number||"number"==typeof t},e.recursiveDOMDelete=function(t){if(t)for(;!0===t.hasChildNodes();)e.recursiveDOMDelete(t.firstChild),t.removeChild(t.firstChild)},e.giveRange=function(t,e,i,n){return e==t?.5:Math.max(0,1/(e-t)*(n-t))},e.isString=function(t){return t instanceof String||"string"==typeof t},e.isDate=function(t){if(t instanceof Date)return!0;if(e.isString(t)){if(u.exec(t))return!0;if(!isNaN(Date.parse(t)))return!0}return!1},e.randomUUID=function(){return d.v4()},e.assignAllKeys=function(t,e){for(var i in t)t.hasOwnProperty(i)&&"object"!==(0,h.default)(t[i])&&(t[i]=e)},e.fillIfDefined=function(t,i){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];for(var o in t)void 0!==i[o]&&(null===i[o]||"object"!==(0,h.default)(i[o])?r(t,i,o,n):"object"===(0,h.default)(t[o])&&e.fillIfDefined(t[o],i[o],n))},e.extend=function(t,e){for(var i=1;i<arguments.length;i++){var n=arguments[i];for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])}return t},e.selectiveExtend=function(t,e,i){if(!Array.isArray(t))throw new Error("Array with property names expected as first argument");for(var n=2;n<arguments.length;n++)for(var r=arguments[n],o=0;o<t.length;o++){var s=t[o];r&&r.hasOwnProperty(s)&&(e[s]=r[s])}return e},e.selectiveDeepExtend=function(t,i,n){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(Array.isArray(n))throw new TypeError("Arrays are not supported by deepExtend");for(var s=0;s<t.length;s++){var a=t[s];if(n.hasOwnProperty(a))if(n[a]&&n[a].constructor===Object)void 0===i[a]&&(i[a]={}),i[a].constructor===Object?e.deepExtend(i[a],n[a],!1,o):r(i,n,a,o);else{if(Array.isArray(n[a]))throw new TypeError("Arrays are not supported by deepExtend");r(i,n,a,o)}}return i},e.selectiveNotDeepExtend=function(t,i,n){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(Array.isArray(n))throw new TypeError("Arrays are not supported by deepExtend");for(var s in n)if(n.hasOwnProperty(s)&&-1===t.indexOf(s))if(n[s]&&n[s].constructor===Object)void 0===i[s]&&(i[s]={}),i[s].constructor===Object?e.deepExtend(i[s],n[s]):r(i,n,s,o);else if(Array.isArray(n[s])){i[s]=[];for(var a=0;a<n[s].length;a++)i[s].push(n[s][a])}else r(i,n,s,o);return i},e.deepExtend=function(t,i){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];for(var s in i)if(i.hasOwnProperty(s)||!0===n)if(i[s]&&i[s].constructor===Object)void 0===t[s]&&(t[s]={}),t[s].constructor===Object?e.deepExtend(t[s],i[s],n):r(t,i,s,o);else if(Array.isArray(i[s])){t[s]=[];for(var a=0;a<i[s].length;a++)t[s].push(i[s][a])}else r(t,i,s,o);return t},e.equalArray=function(t,e){if(t.length!=e.length)return!1;for(var i=0,n=t.length;i<n;i++)if(t[i]!=e[i])return!1;return!0},e.convert=function(t,i){var n;if(void 0!==t){if(null===t)return null;if(!i)return t;if("string"!=typeof i&&!(i instanceof String))throw new Error("Type must be a string");switch(i){case"boolean":case"Boolean":return Boolean(t);case"number":case"Number":return e.isString(t)&&!isNaN(Date.parse(t))?l(t).valueOf():Number(t.valueOf());case"string":case"String":return String(t);case"Date":if(e.isNumber(t))return new Date(t);if(t instanceof Date)return new Date(t.valueOf());if(l.isMoment(t))return new Date(t.valueOf());if(e.isString(t))return(n=u.exec(t))?new Date(Number(n[1])):l(new Date(t)).toDate();throw new Error("Cannot convert object of type "+e.getType(t)+" to type Date");case"Moment":if(e.isNumber(t))return l(t);if(t instanceof Date)return l(t.valueOf());if(l.isMoment(t))return l(t);if(e.isString(t))return n=u.exec(t),l(n?Number(n[1]):t);throw new Error("Cannot convert object of type "+e.getType(t)+" to type Date");case"ISODate":if(e.isNumber(t))return new Date(t);if(t instanceof Date)return t.toISOString();if(l.isMoment(t))return t.toDate().toISOString();if(e.isString(t))return(n=u.exec(t))?new Date(Number(n[1])).toISOString():l(t).format();throw new Error("Cannot convert object of type "+e.getType(t)+" to type ISODate");case"ASPDate":if(e.isNumber(t))return"/Date("+t+")/";if(t instanceof Date)return"/Date("+t.valueOf()+")/";if(e.isString(t))return"/Date("+((n=u.exec(t))?new Date(Number(n[1])).valueOf():new Date(t).valueOf())+")/";throw new Error("Cannot convert object of type "+e.getType(t)+" to type ASPDate");default:throw new Error('Unknown type "'+i+'"')}}};var u=/^\/?Date\((\-?\d+)/i;e.getType=function(t){var e=void 0===t?"undefined":(0,h.default)(t);return"object"==e?null===t?"null":t instanceof Boolean?"Boolean":t instanceof Number?"Number":t instanceof String?"String":Array.isArray(t)?"Array":t instanceof Date?"Date":"Object":"number"==e?"Number":"boolean"==e?"Boolean":"string"==e?"String":void 0===e?"undefined":e},e.copyAndExtendArray=function(t,e){for(var i=[],n=0;n<t.length;n++)i.push(t[n]);return i.push(e),i},e.copyArray=function(t){for(var e=[],i=0;i<t.length;i++)e.push(t[i]);return e},e.getAbsoluteLeft=function(t){return t.getBoundingClientRect().left},e.getAbsoluteRight=function(t){return t.getBoundingClientRect().right},e.getAbsoluteTop=function(t){return t.getBoundingClientRect().top},e.addClassName=function(t,e){var i=t.className.split(" "),n=e.split(" ");i=i.concat(n.filter(function(t){return i.indexOf(t)<0})),t.className=i.join(" ")},e.removeClassName=function(t,e){var i=t.className.split(" "),n=e.split(" ");i=i.filter(function(t){return n.indexOf(t)<0}),t.className=i.join(" ")},e.forEach=function(t,e){var i,n;if(Array.isArray(t))for(i=0,n=t.length;i<n;i++)e(t[i],i,t);else for(i in t)t.hasOwnProperty(i)&&e(t[i],i,t)},e.toArray=function(t){var e=[];for(var i in t)t.hasOwnProperty(i)&&e.push(t[i]);return e},e.updateProperty=function(t,e,i){return t[e]!==i&&(t[e]=i,!0)},e.throttle=function(t){var e=!1;return function(){e||(e=!0,requestAnimationFrame(function(){e=!1,t()}))}},e.addEventListener=function(t,e,i,n){t.addEventListener?(void 0===n&&(n=!1),"mousewheel"===e&&navigator.userAgent.indexOf("Firefox")>=0&&(e="DOMMouseScroll"),t.addEventListener(e,i,n)):t.attachEvent("on"+e,i)},e.removeEventListener=function(t,e,i,n){t.removeEventListener?(void 0===n&&(n=!1),"mousewheel"===e&&navigator.userAgent.indexOf("Firefox")>=0&&(e="DOMMouseScroll"),t.removeEventListener(e,i,n)):t.detachEvent("on"+e,i)},e.preventDefault=function(t){t||(t=window.event),t.preventDefault?t.preventDefault():t.returnValue=!1},e.getTarget=function(t){var e;return t||(t=window.event),t.target?e=t.target:t.srcElement&&(e=t.srcElement),null!=e.nodeType&&3==e.nodeType&&(e=e.parentNode),e},e.hasParent=function(t,e){for(var i=t;i;){if(i===e)return!0;i=i.parentNode}return!1},e.option={},e.option.asBoolean=function(t,e){return"function"==typeof t&&(t=t()),null!=t?0!=t:e||null},e.option.asNumber=function(t,e){return"function"==typeof t&&(t=t()),null!=t?Number(t)||e||null:e||null},e.option.asString=function(t,e){return"function"==typeof t&&(t=t()),null!=t?String(t):e||null},e.option.asSize=function(t,i){return"function"==typeof t&&(t=t()),e.isString(t)?t:e.isNumber(t)?t+"px":i||null},e.option.asElement=function(t,e){return"function"==typeof t&&(t=t()),t||e||null},e.hexToRGB=function(t){t=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(t,e,i,n){return e+e+i+i+n+n});var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:null},e.overrideOpacity=function(t,i){var n;return-1!=t.indexOf("rgba")?t:-1!=t.indexOf("rgb")?"rgba("+(n=t.substr(t.indexOf("(")+1).replace(")","").split(","))[0]+","+n[1]+","+n[2]+","+i+")":null==(n=e.hexToRGB(t))?t:"rgba("+n.r+","+n.g+","+n.b+","+i+")"},e.RGBToHex=function(t,e,i){return"#"+((1<<24)+(t<<16)+(e<<8)+i).toString(16).slice(1)},e.parseColor=function(t){var i;if(!0===e.isString(t)){if(!0===e.isValidRGB(t)){var n=t.substr(4).substr(0,t.length-5).split(",").map(function(t){return parseInt(t)});t=e.RGBToHex(n[0],n[1],n[2])}if(!0===e.isValidHex(t)){var r=e.hexToHSV(t),o={h:r.h,s:.8*r.s,v:Math.min(1,1.02*r.v)},s={h:r.h,s:Math.min(1,1.25*r.s),v:.8*r.v},a=e.HSVToHex(s.h,s.s,s.v),h=e.HSVToHex(o.h,o.s,o.v);i={background:t,border:a,highlight:{background:h,border:a},hover:{background:h,border:a}}}else i={background:t,border:t,highlight:{background:t,border:t},hover:{background:t,border:t}}}else(i={}).background=t.background||void 0,i.border=t.border||void 0,e.isString(t.highlight)?i.highlight={border:t.highlight,background:t.highlight}:(i.highlight={},i.highlight.background=t.highlight&&t.highlight.background||void 0,i.highlight.border=t.highlight&&t.highlight.border||void 0),e.isString(t.hover)?i.hover={border:t.hover,background:t.hover}:(i.hover={},i.hover.background=t.hover&&t.hover.background||void 0,i.hover.border=t.hover&&t.hover.border||void 0);return i},e.RGBToHSV=function(t,e,i){t/=255,e/=255,i/=255;var n=Math.min(t,Math.min(e,i)),r=Math.max(t,Math.max(e,i));return n==r?{h:0,s:0,v:n}:{h:60*((t==n?3:i==n?1:5)-(t==n?e-i:i==n?t-e:i-t)/(r-n))/360,s:(r-n)/r,v:r}};var c=function(t){var e={};return t.split(";").forEach(function(t){if(""!=t.trim()){var i=t.split(":"),n=i[0].trim(),r=i[1].trim();e[n]=r}}),e},f=function(t){return(0,a.default)(t).map(function(e){return e+": "+t[e]}).join("; ")};e.addCssText=function(t,i){var n=c(t.style.cssText),r=c(i),o=e.extend(n,r);t.style.cssText=f(o)},e.removeCssText=function(t,e){var i=c(t.style.cssText),n=c(e);for(var r in n)n.hasOwnProperty(r)&&delete i[r];t.style.cssText=f(i)},e.HSVToRGB=function(t,e,i){var n,r,o,s=Math.floor(6*t),a=6*t-s,h=i*(1-e),l=i*(1-a*e),d=i*(1-(1-a)*e);switch(s%6){case 0:n=i,r=d,o=h;break;case 1:n=l,r=i,o=h;break;case 2:n=h,r=i,o=d;break;case 3:n=h,r=l,o=i;break;case 4:n=d,r=h,o=i;break;case 5:n=i,r=h,o=l}return{r:Math.floor(255*n),g:Math.floor(255*r),b:Math.floor(255*o)}},e.HSVToHex=function(t,i,n){var r=e.HSVToRGB(t,i,n);return e.RGBToHex(r.r,r.g,r.b)},e.hexToHSV=function(t){var i=e.hexToRGB(t);return e.RGBToHSV(i.r,i.g,i.b)},e.isValidHex=function(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)},e.isValidRGB=function(t){return t=t.replace(" ",""),/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/i.test(t)},e.isValidRGBA=function(t){return t=t.replace(" ",""),/rgba\((\d{1,3}),(\d{1,3}),(\d{1,3}),(.{1,3})\)/i.test(t)},e.selectiveBridgeObject=function(t,i){if(null!==i&&"object"===(void 0===i?"undefined":(0,h.default)(i))){for(var n=(0,s.default)(i),r=0;r<t.length;r++)i.hasOwnProperty(t[r])&&"object"==(0,h.default)(i[t[r]])&&(n[t[r]]=e.bridgeObject(i[t[r]]));return n}return null},e.bridgeObject=function(t){if(null!==t&&"object"===(void 0===t?"undefined":(0,h.default)(t))){var i=(0,s.default)(t);if(t instanceof Element)i=t;else for(var n in i=(0,s.default)(t),t)t.hasOwnProperty(n)&&"object"==(0,h.default)(t[n])&&(i[n]=e.bridgeObject(t[n]));return i}return null},e.insertSort=function(t,e){for(var i=0;i<t.length;i++){for(var n=t[i],r=i;r>0&&e(n,t[r-1])<0;r--)t[r]=t[r-1];t[r]=n}return t},e.mergeOptions=function(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=function(t){return null!=t},o=function(t){return null!==t&&"object"===(void 0===t?"undefined":(0,h.default)(t))};if(!o(t))throw new Error("Parameter mergeTarget must be an object");if(!o(e))throw new Error("Parameter options must be an object");if(!r(i))throw new Error("Parameter option must have a value");if(!o(n))throw new Error("Parameter globalOptions must be an object");var a=e[i],l=o(n)&&!function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}(n),d=l?n[i]:void 0,u=d?d.enabled:void 0;if(void 0!==a){if("boolean"==typeof a)return o(t[i])||(t[i]={}),void(t[i].enabled=a);if(null===a&&!o(t[i])){if(!r(d))return;t[i]=(0,s.default)(d)}if(o(a)){var c=!0;void 0!==a.enabled?c=a.enabled:void 0!==u&&(c=d.enabled),function(t,e,i){o(t[i])||(t[i]={});var n=e[i],r=t[i];for(var s in n)n.hasOwnProperty(s)&&(r[s]=n[s])}(t,e,i),t[i].enabled=c}}},e.binarySearchCustom=function(t,e,i,n){for(var r=0,o=0,s=t.length-1;o<=s&&r<1e4;){var a=Math.floor((o+s)/2),h=t[a],l=e(void 0===n?h[i]:h[i][n]);if(0==l)return a;-1==l?o=a+1:s=a-1,r++}return-1},e.binarySearchValue=function(t,e,i,n,r){var o,s,a,h,l=0,d=0,u=t.length-1;for(r=null!=r?r:function(t,e){return t==e?0:t<e?-1:1};d<=u&&l<1e4;){if(h=Math.floor(.5*(u+d)),o=t[Math.max(0,h-1)][i],s=t[h][i],a=t[Math.min(t.length-1,h+1)][i],0==r(s,e))return h;if(r(o,e)<0&&r(s,e)>0)return"before"==n?Math.max(0,h-1):h;if(r(s,e)<0&&r(a,e)>0)return"before"==n?h:Math.min(t.length-1,h+1);r(s,e)<0?d=h+1:u=h-1,l++}return-1},e.easingFunctions={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return t*(2-t)},easeInOutQuad:function(t){return t<.5?2*t*t:(4-2*t)*t-1},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return--t*t*t+1},easeInOutCubic:function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return 1- --t*t*t*t},easeInOutQuart:function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return 1+--t*t*t*t*t},easeInOutQuint:function(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t}},e.getScrollBarWidth=function(){var t=document.createElement("p");t.style.width="100%",t.style.height="200px";var e=document.createElement("div");e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.style.visibility="hidden",e.style.width="200px",e.style.height="150px",e.style.overflow="hidden",e.appendChild(t),document.body.appendChild(e);var i=t.offsetWidth;e.style.overflow="scroll";var n=t.offsetWidth;return i==n&&(n=e.clientWidth),document.body.removeChild(e),i-n},e.topMost=function(t,e){var i=void 0;Array.isArray(e)||(e=[e]);var n=!0,r=!1,s=void 0;try{for(var a,h=(0,o.default)(t);!(n=(a=h.next()).done);n=!0){var l=a.value;if(l){i=l[e[0]];for(var d=1;d<e.length;d++)i&&(i=i[e[d]]);if(void 0!==i)break}}}catch(t){r=!0,s=t}finally{try{!n&&h.return&&h.return()}finally{if(r)throw s}}return i}},function(t,e,i){t.exports={default:i(194),__esModule:!0}},function(t,e,i){e.__esModule=!0;var n=i(6),r=n&&n.__esModule?n:{default:n};e.default=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==(void 0===e?"undefined":(0,r.default)(e))&&"function"!=typeof e?t:e}},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var r=n(i(196)),o=n(i(29)),s=n(i(6));e.default=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":(0,s.default)(e)));t.prototype=(0,o.default)(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(r.default?(0,r.default)(t,e):t.__proto__=e)}},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var r=n(i(142)),o=n(i(144)),s="function"==typeof o.default&&"symbol"==typeof r.default?function(t){return typeof t}:function(t){return t&&"function"==typeof o.default&&t.constructor===o.default&&t!==o.default.prototype?"symbol":typeof t};e.default="function"==typeof o.default&&"symbol"===s(r.default)?function(t){return void 0===t?"undefined":s(t)}:function(t){return t&&"function"==typeof o.default&&t.constructor===o.default&&t!==o.default.prototype?"symbol":void 0===t?"undefined":s(t)}},function(t,e){var i=t.exports={version:"2.5.1"};"number"==typeof __e&&(__e=i)},function(t,e,i){t.exports={default:i(140),__esModule:!0}},function(t,e,i){t.exports="undefined"!=typeof window&&window.moment||i(154)},function(t,e,i){if("undefined"!=typeof window){var n=i(175),r=window.Hammer||i(176);t.exports=n(r,{preventDefault:"mouse"})}else t.exports=function(){return function(){var t=function(){};return{on:t,off:t,destroy:t,emit:t,get:function(e){return{set:t}}}}()}},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(t&&!Array.isArray(t)&&(e=t,t=null),this._options=e||{},this._data={},this.length=0,this._fieldId=this._options.fieldId||"id",this._type={},this._options.type)for(var i=(0,a.default)(this._options.type),n=0,r=i.length;n<r;n++){var o=i[n],s=this._options.type[o];this._type[o]="Date"==s||"ISODate"==s||"ASPDate"==s?"Date":s}this._subscribers={},t&&this.add(t),this.setOptions(e)}var o=n(i(19)),s=n(i(6)),a=n(i(8)),h=i(2),l=i(43);r.prototype.setOptions=function(t){t&&void 0!==t.queue&&(!1===t.queue?this._queue&&(this._queue.destroy(),delete this._queue):(this._queue||(this._queue=l.extend(this,{replace:["add","update","remove"]})),"object"===(0,s.default)(t.queue)&&this._queue.setOptions(t.queue)))},r.prototype.on=function(t,e){var i=this._subscribers[t];i||(this._subscribers[t]=i=[]),i.push({callback:e})},r.prototype.off=function(t,e){var i=this._subscribers[t];i&&(this._subscribers[t]=i.filter(function(t){return t.callback!=e}))},r.prototype._trigger=function(t,e,i){if("*"==t)throw new Error("Cannot trigger event *");var n=[];t in this._subscribers&&(n=n.concat(this._subscribers[t])),"*"in this._subscribers&&(n=n.concat(this._subscribers["*"]));for(var r=0,o=n.length;r<o;r++){var s=n[r];s.callback&&s.callback(t,e,i||null)}},r.prototype.add=function(t,e){var i,n=[];if(Array.isArray(t))for(var r=0,o=t.length;r<o;r++)i=this._addItem(t[r]),n.push(i);else{if(!t||"object"!==(void 0===t?"undefined":(0,s.default)(t)))throw new Error("Unknown dataType");i=this._addItem(t),n.push(i)}return n.length&&this._trigger("add",{items:n},e),n},r.prototype.update=function(t,e){var i=[],n=[],r=[],o=[],a=this,l=a._fieldId,d=function(t){var e=t[l];if(a._data[e]){var s=h.extend({},a._data[e]);e=a._updateItem(t),n.push(e),o.push(t),r.push(s)}else e=a._addItem(t),i.push(e)};if(Array.isArray(t))for(var u=0,c=t.length;u<c;u++)t[u]&&"object"===(0,s.default)(t[u])?d(t[u]):console.warn("Ignoring input item, which is not an object at index "+u);else{if(!t||"object"!==(void 0===t?"undefined":(0,s.default)(t)))throw new Error("Unknown dataType");d(t)}return i.length&&this._trigger("add",{items:i},e),n.length&&this._trigger("update",{items:n,oldData:r,data:o},e),i.concat(n)},r.prototype.get=function(t){var e,i,n,r,o=this,s=h.getType(arguments[0]);"String"==s||"Number"==s?(e=arguments[0],n=arguments[1]):"Array"==s?(i=arguments[0],n=arguments[1]):n=arguments[0],r=n&&n.returnType?-1==["Array","Object"].indexOf(n.returnType)?"Array":n.returnType:"Array";var l,d,u,c,f=n&&n.type||this._options.type,p=n&&n.filter,g=[];if(null!=e)(l=o._getItem(e,f))&&p&&!p(l)&&(l=null);else if(null!=i)for(u=0,c=i.length;u<c;u++)l=o._getItem(i[u],f),p&&!p(l)||g.push(l);else for(u=0,c=(d=(0,a.default)(this._data)).length;u<c;u++)l=o._getItem(d[u],f),p&&!p(l)||g.push(l);if(n&&n.order&&null==e&&this._sort(g,n.order),n&&n.fields){var m=n.fields;if(null!=e)l=this._filterFields(l,m);else for(u=0,c=g.length;u<c;u++)g[u]=this._filterFields(g[u],m)}if("Object"==r){var v,y={};for(u=0,c=g.length;u<c;u++)y[(v=g[u]).id]=v;return y}return null!=e?l:g},r.prototype.getIds=function(t){var e,i,n,r,o=this._data,s=t&&t.filter,h=t&&t.order,l=t&&t.type||this._options.type,d=(0,a.default)(o),u=[];if(s)if(h){for(r=[],e=0,i=d.length;e<i;e++)s(n=this._getItem(d[e],l))&&r.push(n);for(this._sort(r,h),e=0,i=r.length;e<i;e++)u.push(r[e][this._fieldId])}else for(e=0,i=d.length;e<i;e++)s(n=this._getItem(d[e],l))&&u.push(n[this._fieldId]);else if(h){for(r=[],e=0,i=d.length;e<i;e++)r.push(o[d[e]]);for(this._sort(r,h),e=0,i=r.length;e<i;e++)u.push(r[e][this._fieldId])}else for(e=0,i=d.length;e<i;e++)u.push((n=o[d[e]])[this._fieldId]);return u},r.prototype.getDataSet=function(){return this},r.prototype.forEach=function(t,e){var i,n,r,o,s=e&&e.filter,h=e&&e.type||this._options.type,l=(0,a.default)(this._data);if(e&&e.order){var d=this.get(e);for(i=0,n=d.length;i<n;i++)t(r=d[i],o=r[this._fieldId])}else for(i=0,n=l.length;i<n;i++)r=this._getItem(o=l[i],h),s&&!s(r)||t(r,o)},r.prototype.map=function(t,e){var i,n,r,o,s=e&&e.filter,h=e&&e.type||this._options.type,l=[],d=(0,a.default)(this._data);for(i=0,n=d.length;i<n;i++)o=this._getItem(r=d[i],h),s&&!s(o)||l.push(t(o,r));return e&&e.order&&this._sort(l,e.order),l},r.prototype._filterFields=function(t,e){if(!t)return t;var i,n,r={},o=(0,a.default)(t),s=o.length;if(Array.isArray(e))for(i=0;i<s;i++)-1!=e.indexOf(n=o[i])&&(r[n]=t[n]);else for(i=0;i<s;i++)e.hasOwnProperty(n=o[i])&&(r[e[n]]=t[n]);return r},r.prototype._sort=function(t,e){if(h.isString(e)){var i=e;t.sort(function(t,e){var n=t[i],r=e[i];return n>r?1:n<r?-1:0})}else{if("function"!=typeof e)throw new TypeError("Order must be a function or a string");t.sort(e)}},r.prototype.remove=function(t,e){var i,n,r,o,s,a=[],h=[];for(i=0,n=(s=Array.isArray(t)?t:[t]).length;i<n;i++)(o=this._remove(s[i]))&&null!=(r=o[this._fieldId])&&(a.push(r),h.push(o));return a.length&&this._trigger("remove",{items:a,oldData:h},e),a},r.prototype._remove=function(t){var e,i;return h.isNumber(t)||h.isString(t)?i=t:t&&"object"===(void 0===t?"undefined":(0,s.default)(t))&&(i=t[this._fieldId]),void 0!==i&&this._data[i]?(e=this._data[i],delete this._data[i],this.length--,e):null},r.prototype.clear=function(t){var e,i,n=(0,a.default)(this._data),r=[];for(e=0,i=n.length;e<i;e++)r.push(this._data[n[e]]);return this._data={},this.length=0,this._trigger("remove",{items:n,oldData:r},t),n},r.prototype.max=function(t){var e,i,n=this._data,r=(0,a.default)(n),o=null,s=null;for(e=0,i=r.length;e<i;e++){var h=n[r[e]],l=h[t];null!=l&&(!o||l>s)&&(o=h,s=l)}return o},r.prototype.min=function(t){var e,i,n=this._data,r=(0,a.default)(n),o=null,s=null;for(e=0,i=r.length;e<i;e++){var h=n[r[e]],l=h[t];null!=l&&(!o||l<s)&&(o=h,s=l)}return o},r.prototype.distinct=function(t){var e,i,n,r=this._data,o=(0,a.default)(r),s=[],l=this._options.type&&this._options.type[t]||null,d=0;for(e=0,n=o.length;e<n;e++){var u=r[o[e]][t],c=!1;for(i=0;i<d;i++)if(s[i]==u){c=!0;break}c||void 0===u||(s[d]=u,d++)}if(l)for(e=0,n=s.length;e<n;e++)s[e]=h.convert(s[e],l);return s},r.prototype._addItem=function(t){var e=t[this._fieldId];if(null!=e){if(this._data[e])throw new Error("Cannot add item: item with id "+e+" already exists")}else e=h.randomUUID(),t[this._fieldId]=e;var i,n,r={},o=(0,a.default)(t);for(i=0,n=o.length;i<n;i++){var s=o[i];r[s]=h.convert(t[s],this._type[s])}return this._data[e]=r,this.length++,e},r.prototype._getItem=function(t,e){var i,n,r,o=this._data[t];if(!o)return null;var s={},l=(0,a.default)(o);if(e)for(n=0,r=l.length;n<r;n++)s[i=l[n]]=h.convert(o[i],e[i]);else for(n=0,r=l.length;n<r;n++)s[i=l[n]]=o[i];return s[this._fieldId]||(s[this._fieldId]=o.id),s},r.prototype._updateItem=function(t){var e=t[this._fieldId];if(null==e)throw new Error("Cannot update item: item has no id (item: "+(0,o.default)(t)+")");var i=this._data[e];if(!i)throw new Error("Cannot update item: no item with id "+e+" found");for(var n=(0,a.default)(t),r=0,s=n.length;r<s;r++){var l=n[r];i[l]=h.convert(t[l],this._type[l])}return e},t.exports=r},function(t,e,i){function n(t,e){this._data=null,this._ids={},this.length=0,this._options=e||{},this._fieldId="id",this._subscribers={};var i=this;this.listener=function(){i._onEvent.apply(i,arguments)},this.setData(t)}var r=i(8),o=r&&r.__esModule?r:{default:r},s=i(2),a=i(11);n.prototype.setData=function(t){var e,i,n,r;if(this._data){for(this._data.off&&this._data.off("*",this.listener),r=[],i=0,n=(e=this._data.getIds({filter:this._options&&this._options.filter})).length;i<n;i++)r.push(this._data._data[e[i]]);this._ids={},this.length=0,this._trigger("remove",{items:e,oldData:r})}if(this._data=t,this._data){for(this._fieldId=this._options.fieldId||this._data&&this._data.options&&this._data.options.fieldId||"id",i=0,n=(e=this._data.getIds({filter:this._options&&this._options.filter})).length;i<n;i++)this._ids[e[i]]=!0;this.length=e.length,this._trigger("add",{items:e}),this._data.on&&this._data.on("*",this.listener)}},n.prototype.refresh=function(){var t,e,i,n=this._data.getIds({filter:this._options&&this._options.filter}),r=(0,o.default)(this._ids),s={},a=[],h=[],l=[];for(e=0,i=n.length;e<i;e++)s[t=n[e]]=!0,this._ids[t]||(a.push(t),this._ids[t]=!0);for(e=0,i=r.length;e<i;e++)s[t=r[e]]||(h.push(t),l.push(this._data._data[t]),delete this._ids[t]);this.length+=a.length-h.length,a.length&&this._trigger("add",{items:a}),h.length&&this._trigger("remove",{items:h,oldData:l})},n.prototype.get=function(t){var e,i,n,r=this,o=s.getType(arguments[0]);"String"==o||"Number"==o||"Array"==o?(e=arguments[0],i=arguments[1],n=arguments[2]):(i=arguments[0],n=arguments[1]);var a=s.extend({},this._options,i);this._options.filter&&i&&i.filter&&(a.filter=function(t){return r._options.filter(t)&&i.filter(t)});var h=[];return null!=e&&h.push(e),h.push(a),h.push(n),this._data&&this._data.get.apply(this._data,h)},n.prototype.getIds=function(t){var e;if(this._data){var i=this._options.filter;e=this._data.getIds({filter:t&&t.filter?i?function(e){return i(e)&&t.filter(e)}:t.filter:i,order:t&&t.order})}else e=[];return e},n.prototype.map=function(t,e){var i=[];if(this._data){var n=this._options.filter;i=this._data.map(t,{filter:e&&e.filter?n?function(t){return n(t)&&e.filter(t)}:e.filter:n,order:e&&e.order})}else i=[];return i},n.prototype.getDataSet=function(){for(var t=this;t instanceof n;)t=t._data;return t||null},n.prototype._onEvent=function(t,e,i){var n,r,o,s=e&&e.items,a=[],h=[],l=[],d=[],u=[],c=[];if(s&&this._data){switch(t){case"add":for(n=0,r=s.length;n<r;n++)this.get(o=s[n])&&(this._ids[o]=!0,a.push(o));break;case"update":for(n=0,r=s.length;n<r;n++)this.get(o=s[n])?this._ids[o]?(h.push(o),u.push(e.data[n]),d.push(e.oldData[n])):(this._ids[o]=!0,a.push(o)):this._ids[o]&&(delete this._ids[o],l.push(o),c.push(e.oldData[n]));break;case"remove":for(n=0,r=s.length;n<r;n++)this._ids[o=s[n]]&&(delete this._ids[o],l.push(o),c.push(e.oldData[n]))}this.length+=a.length-l.length,a.length&&this._trigger("add",{items:a},i),h.length&&this._trigger("update",{items:h,oldData:d,data:u},i),l.length&&this._trigger("remove",{items:l,oldData:c},i)}},n.prototype.on=a.prototype.on,n.prototype.off=a.prototype.off,n.prototype._trigger=a.prototype._trigger,n.prototype.subscribe=n.prototype.on,n.prototype.unsubscribe=n.prototype.off,t.exports=n},function(t,e,i){var n=i(57)("wks"),r=i(40),o=i(18).Symbol,s="function"==typeof o;(t.exports=function(t){return n[t]||(n[t]=s&&o[t]||(s?o:r)("Symbol."+t))}).store=n},function(t,e,i){e.prepareElements=function(t){for(var e in t)t.hasOwnProperty(e)&&(t[e].redundant=t[e].used,t[e].used=[])},e.cleanupElements=function(t){for(var e in t)if(t.hasOwnProperty(e)&&t[e].redundant){for(var i=0;i<t[e].redundant.length;i++)t[e].redundant[i].parentNode.removeChild(t[e].redundant[i]);t[e].redundant=[]}},e.resetElements=function(t){e.prepareElements(t),e.cleanupElements(t),e.prepareElements(t)},e.getSVGElement=function(t,e,i){var n;return e.hasOwnProperty(t)?e[t].redundant.length>0?(n=e[t].redundant[0],e[t].redundant.shift()):(n=document.createElementNS("http://www.w3.org/2000/svg",t),i.appendChild(n)):(n=document.createElementNS("http://www.w3.org/2000/svg",t),e[t]={used:[],redundant:[]},i.appendChild(n)),e[t].used.push(n),n},e.getDOMElement=function(t,e,i,n){var r;return e.hasOwnProperty(t)?e[t].redundant.length>0?(r=e[t].redundant[0],e[t].redundant.shift()):(r=document.createElement(t),void 0!==n?i.insertBefore(r,n):i.appendChild(r)):(r=document.createElement(t),e[t]={used:[],redundant:[]},void 0!==n?i.insertBefore(r,n):i.appendChild(r)),e[t].used.push(r),r},e.drawPoint=function(t,i,n,r,o,s){var a;if("circle"==n.style?((a=e.getSVGElement("circle",r,o)).setAttributeNS(null,"cx",t),a.setAttributeNS(null,"cy",i),a.setAttributeNS(null,"r",.5*n.size)):((a=e.getSVGElement("rect",r,o)).setAttributeNS(null,"x",t-.5*n.size),a.setAttributeNS(null,"y",i-.5*n.size),a.setAttributeNS(null,"width",n.size),a.setAttributeNS(null,"height",n.size)),void 0!==n.styles&&a.setAttributeNS(null,"style",n.styles),a.setAttributeNS(null,"class",n.className+" vis-point"),s){var h=e.getSVGElement("text",r,o);s.xOffset&&(t+=s.xOffset),s.yOffset&&(i+=s.yOffset),s.content&&(h.textContent=s.content),s.className&&h.setAttributeNS(null,"class",s.className+" vis-label"),h.setAttributeNS(null,"x",t),h.setAttributeNS(null,"y",i)}return a},e.drawBar=function(t,i,n,r,o,s,a,h){if(0!=r){r<0&&(i-=r*=-1);var l=e.getSVGElement("rect",s,a);l.setAttributeNS(null,"x",t-.5*n),l.setAttributeNS(null,"y",i),l.setAttributeNS(null,"width",n),l.setAttributeNS(null,"height",r),l.setAttributeNS(null,"class",o),h&&l.setAttributeNS(null,"style",h)}}},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.printStyle=void 0;var r=n(i(19)),o=n(i(6)),s=n(i(8)),a=n(i(0)),h=n(i(1)),l=i(2),d=!1,u=void 0,c="background: #FFeeee; color: #dd0000",f=function(){function t(){(0,a.default)(this,t)}return(0,h.default)(t,null,[{key:"validate",value:function(e,i,n){d=!1,u=i;var r=i;return void 0!==n&&(r=i[n]),t.parse(e,r,[]),d}},{key:"parse",value:function(e,i,n){for(var r in e)e.hasOwnProperty(r)&&t.check(r,e,i,n)}},{key:"check",value:function(e,i,n,r){if(void 0!==n[e]||void 0!==n.__any__){var o=e,s=!0;void 0===n[e]&&void 0!==n.__any__&&(o="__any__",s="object"===t.getType(i[e]));var a=n[o];s&&void 0!==a.__type__&&(a=a.__type__),t.checkFields(e,i,n,o,a,r)}else t.getSuggestion(e,n,r)}},{key:"checkFields",value:function(e,i,n,r,o,a){var h=function(i){console.log("%c"+i+t.printLocation(a,e),c)},u=t.getType(i[e]),f=o[u];void 0!==f?"array"===t.getType(f)&&-1===f.indexOf(i[e])?(h('Invalid option detected in "'+e+'". Allowed values are:'+t.print(f)+' not "'+i[e]+'". '),d=!0):"object"===u&&"__any__"!==r&&(a=l.copyAndExtendArray(a,e),t.parse(i[e],n[r],a)):void 0===o.any&&(h('Invalid type received for "'+e+'". Expected: '+t.print((0,s.default)(o))+". Received ["+u+'] "'+i[e]+'"'),d=!0)}},{key:"getType",value:function(t){var e=void 0===t?"undefined":(0,o.default)(t);return"object"===e?null===t?"null":t instanceof Boolean?"boolean":t instanceof Number?"number":t instanceof String?"string":Array.isArray(t)?"array":t instanceof Date?"date":void 0!==t.nodeType?"dom":!0===t._isAMomentObject?"moment":"object":"number"===e?"number":"boolean"===e?"boolean":"string"===e?"string":void 0===e?"undefined":e}},{key:"getSuggestion",value:function(e,i,n){var r,o=t.findInOptions(e,i,n,!1),a=t.findInOptions(e,u,[],!0);r=void 0!==o.indexMatch?" in "+t.printLocation(o.path,e,"")+'Perhaps it was incomplete? Did you mean: "'+o.indexMatch+'"?\n\n':a.distance<=4&&o.distance>a.distance?" in "+t.printLocation(o.path,e,"")+"Perhaps it was misplaced? Matching option found at: "+t.printLocation(a.path,a.closestMatch,""):o.distance<=8?'. Did you mean "'+o.closestMatch+'"?'+t.printLocation(o.path,e):". Did you mean one of these: "+t.print((0,s.default)(i))+t.printLocation(n,e),console.log('%cUnknown option detected: "'+e+'"'+r,c),d=!0}},{key:"findInOptions",value:function(e,i,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=1e9,s="",a=[],h=e.toLowerCase(),d=void 0;for(var u in i){var c=void 0;if(void 0!==i[u].__type__&&!0===r){var f=t.findInOptions(e,i[u],l.copyAndExtendArray(n,u));o>f.distance&&(s=f.closestMatch,a=f.path,o=f.distance,d=f.indexMatch)}else-1!==u.toLowerCase().indexOf(h)&&(d=u),o>(c=t.levenshteinDistance(e,u))&&(s=u,a=l.copyArray(n),o=c)}return{closestMatch:s,path:a,distance:o,indexMatch:d}}},{key:"printLocation",value:function(t,e){for(var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Problem value found at: \n",n="\n\n"+i+"options = {\n",r=0;r<t.length;r++){for(var o=0;o<r+1;o++)n+="  ";n+=t[r]+": {\n"}for(var s=0;s<t.length+1;s++)n+="  ";n+=e+"\n";for(var a=0;a<t.length+1;a++){for(var h=0;h<t.length-a;h++)n+="  ";n+="}\n"}return n+"\n\n"}},{key:"print",value:function(t){return(0,r.default)(t).replace(/(\")|(\[)|(\])|(,"__type__")/g,"").replace(/(\,)/g,", ")}},{key:"levenshteinDistance",value:function(t,e){if(0===t.length)return e.length;if(0===e.length)return t.length;var i,n,r=[];for(i=0;i<=e.length;i++)r[i]=[i];for(n=0;n<=t.length;n++)r[0][n]=n;for(i=1;i<=e.length;i++)for(n=1;n<=t.length;n++)r[i][n]=e.charAt(i-1)==t.charAt(n-1)?r[i-1][n-1]:Math.min(r[i-1][n-1]+1,Math.min(r[i][n-1]+1,r[i-1][n]+1));return r[e.length][t.length]}}]),t}();e.default=f,e.printStyle=c},function(t,e,i){function n(t,e){this.options=null,this.props=null}var r=i(2);n.prototype.setOptions=function(t){t&&r.extend(this.options,t)},n.prototype.redraw=function(){return!1},n.prototype.destroy=function(){},n.prototype._isResized=function(){var t=this.props._previousWidth!==this.props.width||this.props._previousHeight!==this.props.height;return this.props._previousWidth=this.props.width,this.props._previousHeight=this.props.height,t},t.exports=n},function(t,e,i){var n=i(18),r=i(7),o=i(80),s=i(26),a=function(t,e,i){var h,l,d,u=t&a.F,c=t&a.G,f=t&a.S,p=t&a.P,g=t&a.B,m=t&a.W,v=c?r:r[e]||(r[e]={}),y=v.prototype,b=c?n:f?n[e]:(n[e]||{}).prototype;for(h in c&&(i=e),i)(l=!u&&b&&void 0!==b[h])&&h in v||(d=l?b[h]:i[h],v[h]=c&&"function"!=typeof b[h]?i[h]:g&&l?o(d,n):m&&b[h]==d?function(t){var e=function(e,i,n){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,i)}return new t(e,i,n)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(d):p&&"function"==typeof d?o(Function.call,d):d,p&&((v.virtual||(v.virtual={}))[h]=d,t&a.R&&y&&!y[h]&&s(y,h,d)))};a.F=1,a.G=2,a.S=4,a.P=8,a.B=16,a.W=32,a.U=64,a.R=128,t.exports=a},function(t,e){var i=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=i)},function(t,e,i){t.exports={default:i(160),__esModule:!0}},function(t,e,i){var n=i(27),r=i(81),o=i(53),s=Object.defineProperty;e.f=i(21)?Object.defineProperty:function(t,e,i){if(n(t),e=o(e,!0),n(i),r)try{return s(t,e,i)}catch(t){}if("get"in i||"set"in i)throw TypeError("Accessors not supported!");return"value"in i&&(t[e]=i.value),t}},function(t,e,i){t.exports=!i(28)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e){var i={}.hasOwnProperty;t.exports=function(t,e){return i.call(t,e)}},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(6)),o=n(i(0)),s=n(i(1)),a=function(){function t(e,i,n){(0,o.default)(this,t),this.body=i,this.labelModule=n,this.setOptions(e),this.top=void 0,this.left=void 0,this.height=void 0,this.width=void 0,this.radius=void 0,this.margin=void 0,this.refreshNeeded=!0,this.boundingBox={top:0,left:0,right:0,bottom:0}}return(0,s.default)(t,[{key:"setOptions",value:function(t){this.options=t}},{key:"_setMargins",value:function(t){this.margin={},this.options.margin&&("object"==(0,r.default)(this.options.margin)?(this.margin.top=this.options.margin.top,this.margin.right=this.options.margin.right,this.margin.bottom=this.options.margin.bottom,this.margin.left=this.options.margin.left):(this.margin.top=this.options.margin,this.margin.right=this.options.margin,this.margin.bottom=this.options.margin,this.margin.left=this.options.margin)),t.adjustSizes(this.margin)}},{key:"_distanceToBorder",value:function(t,e){var i=this.options.borderWidth;return this.resize(t),Math.min(Math.abs(this.width/2/Math.cos(e)),Math.abs(this.height/2/Math.sin(e)))+i}},{key:"enableShadow",value:function(t,e){e.shadow&&(t.shadowColor=e.shadowColor,t.shadowBlur=e.shadowSize,t.shadowOffsetX=e.shadowX,t.shadowOffsetY=e.shadowY)}},{key:"disableShadow",value:function(t,e){e.shadow&&(t.shadowColor="rgba(0,0,0,0)",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0)}},{key:"enableBorderDashes",value:function(t,e){if(!1!==e.borderDashes)if(void 0!==t.setLineDash){var i=e.borderDashes;!0===i&&(i=[5,15]),t.setLineDash(i)}else console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,e.borderDashes=!1}},{key:"disableBorderDashes",value:function(t,e){!1!==e.borderDashes&&(void 0!==t.setLineDash?t.setLineDash([0]):(console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,e.borderDashes=!1))}},{key:"needsRefresh",value:function(t,e){return!0===this.refreshNeeded?(this.refreshNeeded=!1,!0):void 0===this.width||this.labelModule.differentState(t,e)}},{key:"initContextForDraw",value:function(t,e){t.lineWidth=Math.min(this.width,e.borderWidth/this.body.view.scale),t.strokeStyle=e.borderColor,t.fillStyle=e.color}},{key:"performStroke",value:function(t,e){var i=e.borderWidth/this.body.view.scale;t.save(),i>0&&(this.enableBorderDashes(t,e),t.stroke(),this.disableBorderDashes(t,e)),t.restore()}},{key:"performFill",value:function(t,e){this.enableShadow(t,e),t.fill(),this.disableShadow(t,e),this.performStroke(t,e)}},{key:"_addBoundingBoxMargin",value:function(t){this.boundingBox.left-=t,this.boundingBox.top-=t,this.boundingBox.bottom+=t,this.boundingBox.right+=t}},{key:"_updateBoundingBox",value:function(t,e,i,n,r){void 0!==i&&this.resize(i,n,r),this.left=t-this.width/2,this.top=e-this.height/2,this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width}},{key:"updateBoundingBox",value:function(t,e,i,n,r){this._updateBoundingBox(t,e,i,n,r)}},{key:"getDimensionsFromLabel",value:function(t,e,i){this.textSize=this.labelModule.getTextSize(t,e,i);var n=this.textSize.width,r=this.textSize.height;return 0===n&&(n=14,r=14),{width:n,height:r}}}]),t}();e.default=a},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(3)),o=n(i(0)),s=n(i(1)),a=n(i(4)),h=n(i(5)),l=n(i(23)),d=function(t){function e(t,i,n){return(0,o.default)(this,e),(0,a.default)(this,(e.__proto__||(0,r.default)(e)).call(this,t,i,n))}return(0,h.default)(e,l.default),(0,s.default)(e,[{key:"resize",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{size:this.options.size};if(this.needsRefresh(e,i)){this.labelModule.getTextSize(t,e,i);var r=2*n.size;this.width=r,this.height=r,this.radius=.5*this.width}}},{key:"_drawShape",value:function(t,e,i,n,r,o,s,a){this.resize(t,o,s,a),this.left=n-this.width/2,this.top=r-this.height/2,this.initContextForDraw(t,a),t[e](n,r,a.size),this.performFill(t,a),void 0!==this.options.label&&(this.labelModule.calculateLabelSize(t,o,s,n,r,"hanging"),this.labelModule.draw(t,n,r+.5*this.height+.5*this.labelModule.size.height,o,s,"hanging")),this.updateBoundingBox(n,r)}},{key:"updateBoundingBox",value:function(t,e){this.boundingBox.top=e-this.options.size,this.boundingBox.left=t-this.options.size,this.boundingBox.right=t+this.options.size,this.boundingBox.bottom=e+this.options.size,void 0!==this.options.label&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height))}}]),e}();e.default=d},function(t,e,i){var n=i(78),r=i(51);t.exports=function(t){return n(r(t))}},function(t,e,i){var n=i(20),r=i(39);t.exports=i(21)?function(t,e,i){return n.f(t,e,r(1,i))}:function(t,e,i){return t[e]=i,t}},function(t,e,i){var n=i(32);t.exports=function(t){if(!n(t))throw TypeError(t+" is not an object!");return t}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,i){t.exports={default:i(138),__esModule:!0}},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var r=n(i(188)),o=n(i(77));e.default=function(t,e){if(Array.isArray(t))return t;if((0,r.default)(Object(t)))return function(t,e){var i=[],n=!0,r=!1,s=void 0;try{for(var a,h=(0,o.default)(t);!(n=(a=h.next()).done)&&(i.push(a.value),!e||i.length!==e);n=!0);}catch(t){r=!0,s=t}finally{try{!n&&h.return&&h.return()}finally{if(r)throw s}}return i}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(t,e){t.exports={}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,i){var n=i(84),r=i(58);t.exports=Object.keys||function(t){return n(t,r)}},function(t,e,i){function n(t,e,i){this.x=void 0!==t?t:0,this.y=void 0!==e?e:0,this.z=void 0!==i?i:0}n.subtract=function(t,e){var i=new n;return i.x=t.x-e.x,i.y=t.y-e.y,i.z=t.z-e.z,i},n.add=function(t,e){var i=new n;return i.x=t.x+e.x,i.y=t.y+e.y,i.z=t.z+e.z,i},n.avg=function(t,e){return new n((t.x+e.x)/2,(t.y+e.y)/2,(t.z+e.z)/2)},n.crossProduct=function(t,e){var i=new n;return i.x=t.y*e.z-t.z*e.y,i.y=t.z*e.x-t.x*e.z,i.z=t.x*e.y-t.y*e.x,i},n.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},t.exports=n},function(t,e,i){var n,r;n=function(){return function(t){var e,i=t&&t.preventDefault||!1,n=t&&t.container||window,r={},o={keydown:{},keyup:{}},s={};for(e=97;e<=122;e++)s[String.fromCharCode(e)]={code:e-97+65,shift:!1};for(e=65;e<=90;e++)s[String.fromCharCode(e)]={code:e,shift:!0};for(e=0;e<=9;e++)s[""+e]={code:48+e,shift:!1};for(e=1;e<=12;e++)s["F"+e]={code:111+e,shift:!1};for(e=0;e<=9;e++)s["num"+e]={code:96+e,shift:!1};s["num*"]={code:106,shift:!1},s["num+"]={code:107,shift:!1},s["num-"]={code:109,shift:!1},s["num/"]={code:111,shift:!1},s["num."]={code:110,shift:!1},s.left={code:37,shift:!1},s.up={code:38,shift:!1},s.right={code:39,shift:!1},s.down={code:40,shift:!1},s.space={code:32,shift:!1},s.enter={code:13,shift:!1},s.shift={code:16,shift:void 0},s.esc={code:27,shift:!1},s.backspace={code:8,shift:!1},s.tab={code:9,shift:!1},s.ctrl={code:17,shift:!1},s.alt={code:18,shift:!1},s.delete={code:46,shift:!1},s.pageup={code:33,shift:!1},s.pagedown={code:34,shift:!1},s["="]={code:187,shift:!1},s["-"]={code:189,shift:!1},s["]"]={code:221,shift:!1},s["["]={code:219,shift:!1};var a=function(t){l(t,"keydown")},h=function(t){l(t,"keyup")},l=function(t,e){if(void 0!==o[e][t.keyCode]){for(var n=o[e][t.keyCode],r=0;r<n.length;r++)void 0===n[r].shift?n[r].fn(t):1==n[r].shift&&1==t.shiftKey?n[r].fn(t):0==n[r].shift&&0==t.shiftKey&&n[r].fn(t);1==i&&t.preventDefault()}};return r.bind=function(t,e,i){if(void 0===i&&(i="keydown"),void 0===s[t])throw new Error("unsupported key: "+t);void 0===o[i][s[t].code]&&(o[i][s[t].code]=[]),o[i][s[t].code].push({fn:e,shift:s[t].shift})},r.bindAll=function(t,e){for(var i in void 0===e&&(e="keydown"),s)s.hasOwnProperty(i)&&r.bind(i,t,e)},r.getKey=function(t){for(var e in s)if(s.hasOwnProperty(e)){if(1==t.shiftKey&&1==s[e].shift&&t.keyCode==s[e].code)return e;if(0==t.shiftKey&&0==s[e].shift&&t.keyCode==s[e].code)return e;if(t.keyCode==s[e].code&&"shift"==e)return e}return"unknown key, currently not supported"},r.unbind=function(t,e,i){if(void 0===i&&(i="keydown"),void 0===s[t])throw new Error("unsupported key: "+t);if(void 0!==e){var n=[],r=o[i][s[t].code];if(void 0!==r)for(var a=0;a<r.length;a++)r[a].fn==e&&r[a].shift==s[t].shift||n.push(o[i][s[t].code][a]);o[i][s[t].code]=n}else o[i][s[t].code]=[]},r.reset=function(){o={keydown:{},keyup:{}}},r.destroy=function(){o={keydown:{},keyup:{}},n.removeEventListener("keydown",a,!0),n.removeEventListener("keyup",h,!0)},n.addEventListener("keydown",a,!0),n.addEventListener("keyup",h,!0),r}},void 0!==(r=n.apply(e,[]))&&(t.exports=r)},function(t,e,i){e.convertHiddenOptions=function(t,i,n){if(n&&!Array.isArray(n))return e.convertHiddenOptions(t,i,[n]);if(i.hiddenDates=[],n&&1==Array.isArray(n)){for(var r=0;r<n.length;r++)if(void 0===n[r].repeat){var o={};o.start=t(n[r].start).toDate().valueOf(),o.end=t(n[r].end).toDate().valueOf(),i.hiddenDates.push(o)}i.hiddenDates.sort(function(t,e){return t.start-e.start})}},e.updateHiddenDates=function(t,i,n){if(n&&!Array.isArray(n))return e.updateHiddenDates(t,i,[n]);if(n&&void 0!==i.domProps.centerContainer.width){e.convertHiddenOptions(t,i,n);for(var r=t(i.range.start),o=t(i.range.end),s=(i.range.end-i.range.start)/i.domProps.centerContainer.width,a=0;a<n.length;a++)if(void 0!==n[a].repeat){var h=t(n[a].start),l=t(n[a].end);if("Invalid Date"==h._d)throw new Error("Supplied start date is not valid: "+n[a].start);if("Invalid Date"==l._d)throw new Error("Supplied end date is not valid: "+n[a].end);if(l-h>=4*s){var d=0,u=o.clone();switch(n[a].repeat){case"daily":h.day()!=l.day()&&(d=1),h.dayOfYear(r.dayOfYear()),h.year(r.year()),h.subtract(7,"days"),l.dayOfYear(r.dayOfYear()),l.year(r.year()),l.subtract(7-d,"days"),u.add(1,"weeks");break;case"weekly":var c=l.diff(h,"days"),f=h.day();h.date(r.date()),h.month(r.month()),h.year(r.year()),l=h.clone(),h.day(f),l.day(f),l.add(c,"days"),h.subtract(1,"weeks"),l.subtract(1,"weeks"),u.add(1,"weeks");break;case"monthly":h.month()!=l.month()&&(d=1),h.month(r.month()),h.year(r.year()),h.subtract(1,"months"),l.month(r.month()),l.year(r.year()),l.subtract(1,"months"),l.add(d,"months"),u.add(1,"months");break;case"yearly":h.year()!=l.year()&&(d=1),h.year(r.year()),h.subtract(1,"years"),l.year(r.year()),l.subtract(1,"years"),l.add(d,"years"),u.add(1,"years");break;default:return void console.log("Wrong repeat format, allowed are: daily, weekly, monthly, yearly. Given:",n[a].repeat)}for(;h<u;)switch(i.hiddenDates.push({start:h.valueOf(),end:l.valueOf()}),n[a].repeat){case"daily":h.add(1,"days"),l.add(1,"days");break;case"weekly":h.add(1,"weeks"),l.add(1,"weeks");break;case"monthly":h.add(1,"months"),l.add(1,"months");break;case"yearly":h.add(1,"y"),l.add(1,"y");break;default:return void console.log("Wrong repeat format, allowed are: daily, weekly, monthly, yearly. Given:",n[a].repeat)}i.hiddenDates.push({start:h.valueOf(),end:l.valueOf()})}}e.removeDuplicates(i);var p=e.isHidden(i.range.start,i.hiddenDates),g=e.isHidden(i.range.end,i.hiddenDates),m=i.range.start,v=i.range.end;1==p.hidden&&(m=1==i.range.startToFront?p.startDate-1:p.endDate+1),1==g.hidden&&(v=1==i.range.endToFront?g.startDate-1:g.endDate+1),1!=p.hidden&&1!=g.hidden||i.range._applyRange(m,v)}},e.removeDuplicates=function(t){for(var e=t.hiddenDates,i=[],n=0;n<e.length;n++)for(var r=0;r<e.length;r++)n!=r&&1!=e[r].remove&&1!=e[n].remove&&(e[r].start>=e[n].start&&e[r].end<=e[n].end?e[r].remove=!0:e[r].start>=e[n].start&&e[r].start<=e[n].end?(e[n].end=e[r].end,e[r].remove=!0):e[r].end>=e[n].start&&e[r].end<=e[n].end&&(e[n].start=e[r].start,e[r].remove=!0));for(n=0;n<e.length;n++)!0!==e[n].remove&&i.push(e[n]);t.hiddenDates=i,t.hiddenDates.sort(function(t,e){return t.start-e.start})},e.printDates=function(t){for(var e=0;e<t.length;e++)console.log(e,new Date(t[e].start),new Date(t[e].end),t[e].start,t[e].end,t[e].remove)},e.stepOverHiddenDates=function(t,e,i){for(var n=!1,r=e.current.valueOf(),o=0;o<e.hiddenDates.length;o++){var s=e.hiddenDates[o].end;if(r>=e.hiddenDates[o].start&&r<s){n=!0;break}}if(1==n&&r<e._end.valueOf()&&r!=i){var a=t(i),h=t(s);a.year()!=h.year()?e.switchedYear=!0:a.month()!=h.month()?e.switchedMonth=!0:a.dayOfYear()!=h.dayOfYear()&&(e.switchedDay=!0),e.current=h}},e.toScreen=function(t,i,n){var r;if(0==t.body.hiddenDates.length)return r=t.range.conversion(n),(i.valueOf()-r.offset)*r.scale;var o=e.isHidden(i,t.body.hiddenDates);1==o.hidden&&(i=o.startDate);var s=e.getHiddenDurationBetween(t.body.hiddenDates,t.range.start,t.range.end);if(i<t.range.start){r=t.range.conversion(n,s);var a=e.getHiddenDurationBeforeStart(t.body.hiddenDates,i,r.offset);return i=t.options.moment(i).toDate().valueOf(),-(r.offset-(i+=a).valueOf())*r.scale}return i>t.range.end?(i=e.correctTimeForHidden(t.options.moment,t.body.hiddenDates,{start:t.range.start,end:i},i),r=t.range.conversion(n,s),(i.valueOf()-r.offset)*r.scale):(i=e.correctTimeForHidden(t.options.moment,t.body.hiddenDates,t.range,i),r=t.range.conversion(n,s),(i.valueOf()-r.offset)*r.scale)},e.toTime=function(t,i,n){if(0==t.body.hiddenDates.length){var r=t.range.conversion(n);return new Date(i/r.scale+r.offset)}var o=e.getHiddenDurationBetween(t.body.hiddenDates,t.range.start,t.range.end),s=(t.range.end-t.range.start-o)*i/n,a=e.getAccumulatedHiddenDuration(t.body.hiddenDates,t.range,s);return new Date(a+s+t.range.start)},e.getHiddenDurationBetween=function(t,e,i){for(var n=0,r=0;r<t.length;r++){var o=t[r].start,s=t[r].end;o>=e&&s<i&&(n+=s-o)}return n},e.getHiddenDurationBeforeStart=function(t,e,i){for(var n=0,r=0;r<t.length;r++){var o=t[r].start,s=t[r].end;o>=e&&s<=i&&(n+=s-o)}return n},e.correctTimeForHidden=function(t,i,n,r){return(r=t(r).toDate().valueOf())-e.getHiddenDurationBefore(t,i,n,r)},e.getHiddenDurationBefore=function(t,e,i,n){var r=0;n=t(n).toDate().valueOf();for(var o=0;o<e.length;o++){var s=e[o].start,a=e[o].end;s>=i.start&&a<i.end&&n>=a&&(r+=a-s)}return r},e.getAccumulatedHiddenDuration=function(t,e,i){for(var n=0,r=0,o=e.start,s=0;s<t.length;s++){var a=t[s].start,h=t[s].end;if(a>=e.start&&h<e.end){if(r+=a-o,o=h,r>=i)break;n+=h-a}}return n},e.snapAwayFromHidden=function(t,i,n,r){var o=e.isHidden(i,t);return 1==o.hidden?n<0?1==r?o.startDate-(o.endDate-i)-1:o.startDate-1:1==r?o.endDate+(i-o.startDate)+1:o.endDate+1:i},e.isHidden=function(t,e){for(var i=0;i<e.length;i++){var n=e[i].start,r=e[i].end;if(t>=n&&t<r)return{hidden:!0,startDate:n,endDate:r}}return{hidden:!1,startDate:n,endDate:r}}},function(t,e,i){e.onTouch=function(t,e){e.inputHandler=function(t){t.isFirst&&e(t)},t.on("hammer.input",e.inputHandler)},e.onRelease=function(t,e){return e.inputHandler=function(t){t.isFinal&&e(t)},t.on("hammer.input",e.inputHandler)},e.offTouch=function(t,e){t.off("hammer.input",e.inputHandler)},e.offRelease=e.offTouch,e.disablePreventDefaultVertically=function(t){return t.getTouchAction=function(){return["pan-y"]},t}},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e,i){this.id=null,this.parent=null,this.data=t,this.dom=null,this.conversion=e||{},this.options=i||{},this.selected=!1,this.displayed=!1,this.groupShowing=!0,this.dirty=!0,this.top=null,this.right=null,this.left=null,this.width=null,this.height=null,this.editable=null,this._updateEditStatus()}var o=n(i(6)),s=n(i(8)),a=i(10),h=i(2),l=i(9);r.prototype.stack=!0,r.prototype.select=function(){this.selected=!0,this.dirty=!0,this.displayed&&this.redraw()},r.prototype.unselect=function(){this.selected=!1,this.dirty=!0,this.displayed&&this.redraw()},r.prototype.setData=function(t){null!=t.group&&this.data.group!=t.group&&null!=this.parent&&this.parent.itemSet._moveToGroup(this,t.group),this.parent&&(this.parent.stackDirty=!0),null!=t.subgroup&&this.data.subgroup!=t.subgroup&&null!=this.parent&&this.parent.changeSubgroup(this,this.data.subgroup,t.subgroup),this.data=t,this._updateEditStatus(),this.dirty=!0,this.displayed&&this.redraw()},r.prototype.setParent=function(t){this.displayed?(this.hide(),this.parent=t,this.parent&&this.show()):this.parent=t},r.prototype.isVisible=function(t){return!1},r.prototype.show=function(){return!1},r.prototype.hide=function(){return!1},r.prototype.redraw=function(){},r.prototype.repositionX=function(){},r.prototype.repositionY=function(){},r.prototype._repaintDragCenter=function(){if(this.selected&&this.options.editable.updateTime&&!this.dom.dragCenter){var t=this,e=document.createElement("div");e.className="vis-drag-center",e.dragCenterItem=this;var i=new a(e);i.on("tap",function(e){t.parent.itemSet.body.emitter.emit("click",{event:e,item:t.id})}),i.on("doubletap",function(e){e.stopPropagation(),t.parent.itemSet._onUpdateItem(t),t.parent.itemSet.body.emitter.emit("doubleClick",{event:e,item:t.id})}),this.dom.box?this.dom.dragLeft?this.dom.box.insertBefore(e,this.dom.dragLeft):this.dom.box.appendChild(e):this.dom.point&&this.dom.point.appendChild(e),this.dom.dragCenter=e}else!this.selected&&this.dom.dragCenter&&(this.dom.dragCenter.parentNode&&this.dom.dragCenter.parentNode.removeChild(this.dom.dragCenter),this.dom.dragCenter=null)},r.prototype._repaintDeleteButton=function(t){if(this.selected&&((this.options.editable.overrideItems||null==this.editable)&&this.options.editable.remove||!this.options.editable.overrideItems&&null!=this.editable&&this.editable.remove)&&!this.dom.deleteButton){var e=this,i=document.createElement("div");i.className=this.options.rtl?"vis-delete-rtl":"vis-delete",i.title="Delete this item",new a(i).on("tap",function(t){t.stopPropagation(),e.parent.removeFromDataSet(e)}),t.appendChild(i),this.dom.deleteButton=i}else!this.selected&&this.dom.deleteButton&&(this.dom.deleteButton.parentNode&&this.dom.deleteButton.parentNode.removeChild(this.dom.deleteButton),this.dom.deleteButton=null)},r.prototype._repaintOnItemUpdateTimeTooltip=function(t){if(this.options.tooltipOnItemUpdateTime){var e;if(!this.selected||!this.options.editable.updateTime&&!0!==this.data.editable||!1===this.data.editable||this.dom.onItemUpdateTimeTooltip)!this.selected&&this.dom.onItemUpdateTimeTooltip&&(this.dom.onItemUpdateTimeTooltip.parentNode&&this.dom.onItemUpdateTimeTooltip.parentNode.removeChild(this.dom.onItemUpdateTimeTooltip),this.dom.onItemUpdateTimeTooltip=null);else{var i=document.createElement("div");i.className="vis-onUpdateTime-tooltip",t.appendChild(i),this.dom.onItemUpdateTimeTooltip=i}this.dom.onItemUpdateTimeTooltip&&(this.dom.onItemUpdateTimeTooltip.style.visibility=this.parent.itemSet.touchParams.itemIsDragging?"visible":"hidden",this.options.rtl?this.dom.onItemUpdateTimeTooltip.style.right=this.dom.content.style.right:this.dom.onItemUpdateTimeTooltip.style.left=this.dom.content.style.left,("top"==this.options.orientation.item?this.top:this.parent.height-this.top-this.height)+this.parent.top-50<-this.parent.itemSet.body.domProps.scrollTop?(this.dom.onItemUpdateTimeTooltip.style.bottom="",this.dom.onItemUpdateTimeTooltip.style.top=this.height+2+"px"):(this.dom.onItemUpdateTimeTooltip.style.top="",this.dom.onItemUpdateTimeTooltip.style.bottom=this.height+2+"px"),this.options.tooltipOnItemUpdateTime&&this.options.tooltipOnItemUpdateTime.template?e=this.options.tooltipOnItemUpdateTime.template.bind(this)(this.data):(e="start: "+l(this.data.start).format("MM/DD/YYYY hh:mm"),this.data.end&&(e+="<br> end: "+l(this.data.end).format("MM/DD/YYYY hh:mm"))),this.dom.onItemUpdateTimeTooltip.innerHTML=e)}},r.prototype._updateContents=function(t){var e,i,n,r,o=this.parent.itemSet.itemsData.get(this.id),s=this.dom.box||this.dom.point,a=s.getElementsByClassName("vis-item-visible-frame")[0];if(n=this.options.visibleFrameTemplate?(r=this.options.visibleFrameTemplate.bind(this))(o,s):"",a)if(n instanceof Object&&!(n instanceof Element))r(o,a);else if(this._contentToString(this.itemVisibleFrameContent)!==this._contentToString(n)){if(n instanceof Element)a.innerHTML="",a.appendChild(n);else if(null!=n)a.innerHTML=n;else if("background"!=this.data.type||void 0!==this.data.content)throw new Error('Property "content" missing in item '+this.id);this.itemVisibleFrameContent=n}if((e=this.options.template?(i=this.options.template.bind(this))(o,t,this.data):this.data.content)instanceof Object&&!(e instanceof Element))i(o,t);else if(this._contentToString(this.content)!==this._contentToString(e)){if(e instanceof Element)t.innerHTML="",t.appendChild(e);else if(null!=e)t.innerHTML=e;else if("background"!=this.data.type||void 0!==this.data.content)throw new Error('Property "content" missing in item '+this.id);this.content=e}},r.prototype._updateDataAttributes=function(t){if(this.options.dataAttributes&&this.options.dataAttributes.length>0){var e=[];if(Array.isArray(this.options.dataAttributes))e=this.options.dataAttributes;else{if("all"!=this.options.dataAttributes)return;e=(0,s.default)(this.data)}for(var i=0;i<e.length;i++){var n=e[i],r=this.data[n];null!=r?t.setAttribute("data-"+n,r):t.removeAttribute("data-"+n)}}},r.prototype._updateStyle=function(t){this.style&&(h.removeCssText(t,this.style),this.style=null),this.data.style&&(h.addCssText(t,this.data.style),this.style=this.data.style)},r.prototype._contentToString=function(t){return"string"==typeof t?t:t&&"outerHTML"in t?t.outerHTML:t},r.prototype._updateEditStatus=function(){this.options&&("boolean"==typeof this.options.editable?this.editable={updateTime:this.options.editable,updateGroup:this.options.editable,remove:this.options.editable}:"object"===(0,o.default)(this.options.editable)&&(this.editable={},h.selectiveExtend(["updateTime","updateGroup","remove"],this.editable,this.options.editable))),this.options&&this.options.editable&&!0===this.options.editable.overrideItems||this.data&&("boolean"==typeof this.data.editable?this.editable={updateTime:this.data.editable,updateGroup:this.data.editable,remove:this.data.editable}:"object"===(0,o.default)(this.data.editable)&&(this.editable={},h.selectiveExtend(["updateTime","updateGroup","remove"],this.editable,this.data.editable)))},r.prototype.getWidthLeft=function(){return 0},r.prototype.getWidthRight=function(){return 0},r.prototype.getTitle=function(){return this.data.title},t.exports=r},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){var i=0,n=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++i+n).toString(36))}},function(t,e,i){var n=i(51);t.exports=function(t){return Object(n(t))}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,i){function n(t){this.delay=null,this.max=1/0,this._queue=[],this._timeout=null,this._extended=null,this.setOptions(t)}n.prototype.setOptions=function(t){t&&void 0!==t.delay&&(this.delay=t.delay),t&&void 0!==t.max&&(this.max=t.max),this._flushIfNeeded()},n.extend=function(t,e){var i=new n(e);if(void 0!==t.flush)throw new Error("Target object already has a property flush");t.flush=function(){i.flush()};var r=[{name:"flush",original:void 0}];if(e&&e.replace)for(var o=0;o<e.replace.length;o++){var s=e.replace[o];r.push({name:s,original:t[s]}),i.replace(t,s)}return i._extended={object:t,methods:r},i},n.prototype.destroy=function(){if(this.flush(),this._extended){for(var t=this._extended.object,e=this._extended.methods,i=0;i<e.length;i++){var n=e[i];n.original?t[n.name]=n.original:delete t[n.name]}this._extended=null}},n.prototype.replace=function(t,e){var i=this,n=t[e];if(!n)throw new Error("Method "+e+" undefined");t[e]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.queue({args:t,fn:n,context:this})}},n.prototype.queue=function(t){this._queue.push("function"==typeof t?{fn:t}:t),this._flushIfNeeded()},n.prototype._flushIfNeeded=function(){if(this._queue.length>this.max&&this.flush(),clearTimeout(this._timeout),this.queue.length>0&&"number"==typeof this.delay){var t=this;this._timeout=setTimeout(function(){t.flush()},this.delay)}},n.prototype.flush=function(){for(;this._queue.length>0;){var t=this._queue.shift();t.fn.apply(t.context||t.fn,t.args||[])}},t.exports=n},function(t,e){function i(t){if(t)return function(t){for(var e in i.prototype)t[e]=i.prototype[e];return t}(t)}t.exports=i,i.prototype.on=i.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks[t]=this._callbacks[t]||[]).push(e),this},i.prototype.once=function(t,e){function i(){n.off(t,i),e.apply(this,arguments)}var n=this;return this._callbacks=this._callbacks||{},i.fn=e,this.on(t,i),this},i.prototype.off=i.prototype.removeListener=i.prototype.removeAllListeners=i.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var i=this._callbacks[t];if(!i)return this;if(1==arguments.length)return delete this._callbacks[t],this;for(var n,r=0;r<i.length;r++)if((n=i[r])===e||n.fn===e){i.splice(r,1);break}return this},i.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),i=this._callbacks[t];if(i)for(var n=0,r=(i=i.slice(0)).length;n<r;++n)i[n].apply(this,e);return this},i.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks[t]||[]},i.prototype.hasListeners=function(t){return!!this.listeners(t).length}},function(t,e,i){function n(t,e){this.dom={foreground:null,lines:[],majorTexts:[],minorTexts:[],redundant:{lines:[],majorTexts:[],minorTexts:[]}},this.props={range:{start:0,end:0,minimumStep:0},lineTop:0},this.defaultOptions={orientation:{axis:"bottom"},showMinorLabels:!0,showMajorLabels:!0,maxMinorChars:7,format:h.FORMAT,moment:d,timeAxis:null},this.options=s.extend({},this.defaultOptions),this.body=t,this._create(),this.setOptions(e)}var r=i(6),o=r&&r.__esModule?r:{default:r},s=i(2),a=i(16),h=i(66),l=i(36),d=i(9);(n.prototype=new a).setOptions=function(t){t&&(s.selectiveExtend(["showMinorLabels","showMajorLabels","maxMinorChars","hiddenDates","timeAxis","moment","rtl"],this.options,t),s.selectiveDeepExtend(["format"],this.options,t),"orientation"in t&&("string"==typeof t.orientation?this.options.orientation.axis=t.orientation:"object"===(0,o.default)(t.orientation)&&"axis"in t.orientation&&(this.options.orientation.axis=t.orientation.axis)),"locale"in t&&("function"==typeof d.locale?d.locale(t.locale):d.lang(t.locale)))},n.prototype._create=function(){this.dom.foreground=document.createElement("div"),this.dom.background=document.createElement("div"),this.dom.foreground.className="vis-time-axis vis-foreground",this.dom.background.className="vis-time-axis vis-background"},n.prototype.destroy=function(){this.dom.foreground.parentNode&&this.dom.foreground.parentNode.removeChild(this.dom.foreground),this.dom.background.parentNode&&this.dom.background.parentNode.removeChild(this.dom.background),this.body=null},n.prototype.redraw=function(){var t=this.props,e=this.dom.foreground,i=this.dom.background,n="top"==this.options.orientation.axis?this.body.dom.top:this.body.dom.bottom,r=e.parentNode!==n;this._calculateCharSize();var o=this.options.showMajorLabels&&"none"!==this.options.orientation.axis;t.minorLabelHeight=this.options.showMinorLabels&&"none"!==this.options.orientation.axis?t.minorCharHeight:0,t.majorLabelHeight=o?t.majorCharHeight:0,t.height=t.minorLabelHeight+t.majorLabelHeight,t.width=e.offsetWidth,t.minorLineHeight=this.body.domProps.root.height-t.majorLabelHeight-("top"==this.options.orientation.axis?this.body.domProps.bottom.height:this.body.domProps.top.height),t.minorLineWidth=1,t.majorLineHeight=t.minorLineHeight+t.majorLabelHeight,t.majorLineWidth=1;var s=e.nextSibling,a=i.nextSibling;return e.parentNode&&e.parentNode.removeChild(e),i.parentNode&&i.parentNode.removeChild(i),e.style.height=this.props.height+"px",this._repaintLabels(),s?n.insertBefore(e,s):n.appendChild(e),a?this.body.dom.backgroundVertical.insertBefore(i,a):this.body.dom.backgroundVertical.appendChild(i),this._isResized()||r},n.prototype._repaintLabels=function(){var t=this.options.orientation.axis,e=s.convert(this.body.range.start,"Number"),i=s.convert(this.body.range.end,"Number"),n=this.body.util.toTime((this.props.minorCharWidth||10)*this.options.maxMinorChars).valueOf(),r=n-l.getHiddenDurationBefore(this.options.moment,this.body.hiddenDates,this.body.range,n);r-=this.body.util.toTime(0).valueOf();var o=new h(new Date(e),new Date(i),r,this.body.hiddenDates,this.options);o.setMoment(this.options.moment),this.options.format&&o.setFormat(this.options.format),this.options.timeAxis&&o.setScale(this.options.timeAxis),this.step=o;var a=this.dom;a.redundant.lines=a.lines,a.redundant.majorTexts=a.majorTexts,a.redundant.minorTexts=a.minorTexts,a.lines=[],a.majorTexts=[],a.minorTexts=[];var d,c,f,p,g,m,v,y,b,w=0,x=void 0,_=0;for(o.start(),d=o.getCurrent(),f=this.body.util.toScreen(d);o.hasNext()&&_<1e3;){switch(_++,p=o.isMajor(),b=o.getClassName(),y=o.getLabelMinor(),c=f,o.next(),d=o.getCurrent(),o.isMajor(),m=w,w=(f=this.body.util.toScreen(d))-c,o.scale){case"week":g=!0;break;default:g=w>=.4*m}if(this.options.showMinorLabels&&g){var k=this._repaintMinorText(c,y,t,b);k.style.width=w+"px"}p&&this.options.showMajorLabels?(c>0&&(null==x&&(x=c),k=this._repaintMajorText(c,o.getLabelMajor(),t,b)),v=this._repaintMajorLine(c,w,t,b)):g?v=this._repaintMinorLine(c,w,t,b):v&&(v.style.width=parseInt(v.style.width)+w+"px")}if(1e3!==_||u||(console.warn("Something is wrong with the Timeline scale. Limited drawing of grid lines to 1000 lines."),u=!0),this.options.showMajorLabels){var S=this.body.util.toTime(0),M=o.getLabelMajor(S);(null==x||M.length*(this.props.majorCharWidth||10)+10<x)&&this._repaintMajorText(0,M,t,b)}s.forEach(this.dom.redundant,function(t){for(;t.length;){var e=t.pop();e&&e.parentNode&&e.parentNode.removeChild(e)}})},n.prototype._repaintMinorText=function(t,e,i,n){var r=this.dom.redundant.minorTexts.shift();if(!r){var o=document.createTextNode("");(r=document.createElement("div")).appendChild(o),this.dom.foreground.appendChild(r)}return this.dom.minorTexts.push(r),r.innerHTML=e,r.style.top="top"==i?this.props.majorLabelHeight+"px":"0",this.options.rtl?(r.style.left="",r.style.right=t+"px"):r.style.left=t+"px",r.className="vis-text vis-minor "+n,r},n.prototype._repaintMajorText=function(t,e,i,n){var r=this.dom.redundant.majorTexts.shift();if(!r){var o=document.createElement("div");(r=document.createElement("div")).appendChild(o),this.dom.foreground.appendChild(r)}return r.childNodes[0].innerHTML=e,r.className="vis-text vis-major "+n,r.style.top="top"==i?"0":this.props.minorLabelHeight+"px",this.options.rtl?(r.style.left="",r.style.right=t+"px"):r.style.left=t+"px",this.dom.majorTexts.push(r),r},n.prototype._repaintMinorLine=function(t,e,i,n){var r=this.dom.redundant.lines.shift();r||(r=document.createElement("div"),this.dom.background.appendChild(r)),this.dom.lines.push(r);var o=this.props;return r.style.top="top"==i?o.majorLabelHeight+"px":this.body.domProps.top.height+"px",r.style.height=o.minorLineHeight+"px",this.options.rtl?(r.style.left="",r.style.right=t-o.minorLineWidth/2+"px",r.className="vis-grid vis-vertical-rtl vis-minor "+n):(r.style.left=t-o.minorLineWidth/2+"px",r.className="vis-grid vis-vertical vis-minor "+n),r.style.width=e+"px",r},n.prototype._repaintMajorLine=function(t,e,i,n){var r=this.dom.redundant.lines.shift();r||(r=document.createElement("div"),this.dom.background.appendChild(r)),this.dom.lines.push(r);var o=this.props;return r.style.top="top"==i?"0":this.body.domProps.top.height+"px",this.options.rtl?(r.style.left="",r.style.right=t-o.majorLineWidth/2+"px",r.className="vis-grid vis-vertical-rtl vis-major "+n):(r.style.left=t-o.majorLineWidth/2+"px",r.className="vis-grid vis-vertical vis-major "+n),r.style.height=o.majorLineHeight+"px",r.style.width=e+"px",r},n.prototype._calculateCharSize=function(){this.dom.measureCharMinor||(this.dom.measureCharMinor=document.createElement("DIV"),this.dom.measureCharMinor.className="vis-text vis-minor vis-measure",this.dom.measureCharMinor.style.position="absolute",this.dom.measureCharMinor.appendChild(document.createTextNode("0")),this.dom.foreground.appendChild(this.dom.measureCharMinor)),this.props.minorCharHeight=this.dom.measureCharMinor.clientHeight,this.props.minorCharWidth=this.dom.measureCharMinor.clientWidth,this.dom.measureCharMajor||(this.dom.measureCharMajor=document.createElement("DIV"),this.dom.measureCharMajor.className="vis-text vis-major vis-measure",this.dom.measureCharMajor.style.position="absolute",this.dom.measureCharMajor.appendChild(document.createTextNode("0")),this.dom.foreground.appendChild(this.dom.measureCharMajor)),this.props.majorCharHeight=this.dom.measureCharMajor.clientHeight,this.props.majorCharWidth=this.dom.measureCharMajor.clientWidth};var u=!1;t.exports=n},function(t,e,i){function n(t,e){this.body=t,this.defaultOptions={moment:a,locales:h,locale:"en",id:void 0,title:void 0},this.options=o.extend({},this.defaultOptions),this.customTime=e&&e.time?e.time:new Date,this.eventParams={},this.setOptions(e),this._create()}var r=i(10),o=i(2),s=i(16),a=i(9),h=i(98);(n.prototype=new s).setOptions=function(t){t&&o.selectiveExtend(["moment","locale","locales","id"],this.options,t)},n.prototype._create=function(){function t(t){this.body.range._onMouseWheel(t)}var e=document.createElement("div");e["custom-time"]=this,e.className="vis-custom-time "+(this.options.id||""),e.style.position="absolute",e.style.top="0px",e.style.height="100%",this.bar=e;var i=document.createElement("div");i.style.position="relative",i.style.top="0px",i.style.left="-10px",i.style.height="100%",i.style.width="20px",i.addEventListener?(i.addEventListener("mousewheel",t.bind(this),!1),i.addEventListener("DOMMouseScroll",t.bind(this),!1)):i.attachEvent("onmousewheel",t.bind(this)),e.appendChild(i),this.hammer=new r(i),this.hammer.on("panstart",this._onDragStart.bind(this)),this.hammer.on("panmove",this._onDrag.bind(this)),this.hammer.on("panend",this._onDragEnd.bind(this)),this.hammer.get("pan").set({threshold:5,direction:r.DIRECTION_HORIZONTAL})},n.prototype.destroy=function(){this.hide(),this.hammer.destroy(),this.hammer=null,this.body=null},n.prototype.redraw=function(){var t=this.body.dom.backgroundVertical;this.bar.parentNode!=t&&(this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),t.appendChild(this.bar));var e=this.body.util.toScreen(this.customTime),i=this.options.locales[this.options.locale];i||(this.warned||(console.log("WARNING: options.locales['"+this.options.locale+"'] not found. See http://visjs.org/docs/timeline/#Localization"),this.warned=!0),i=this.options.locales.en);var n=this.options.title;return void 0===n?n=(n=i.time+": "+this.options.moment(this.customTime).format("dddd, MMMM Do YYYY, H:mm:ss")).charAt(0).toUpperCase()+n.substring(1):"function"==typeof n&&(n=n.call(this.customTime)),this.bar.style.left=e+"px",this.bar.title=n,!1},n.prototype.hide=function(){this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar)},n.prototype.setCustomTime=function(t){this.customTime=o.convert(t,"Date"),this.redraw()},n.prototype.getCustomTime=function(){return new Date(this.customTime.valueOf())},n.prototype.setCustomTitle=function(t){this.options.title=t},n.prototype._onDragStart=function(t){this.eventParams.dragging=!0,this.eventParams.customTime=this.customTime,t.stopPropagation()},n.prototype._onDrag=function(t){if(this.eventParams.dragging){var e=this.body.util.toScreen(this.eventParams.customTime)+t.deltaX,i=this.body.util.toTime(e);this.setCustomTime(i),this.body.emitter.emit("timechange",{id:this.options.id,time:new Date(this.customTime.valueOf()),event:t}),t.stopPropagation()}},n.prototype._onDragEnd=function(t){this.eventParams.dragging&&(this.body.emitter.emit("timechanged",{id:this.options.id,time:new Date(this.customTime.valueOf()),event:t}),t.stopPropagation())},n.customTimeFromTarget=function(t){for(var e=t.target;e;){if(e.hasOwnProperty("custom-time"))return e["custom-time"];e=e.parentNode}return null},t.exports=n},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(0)),o=n(i(1)),s=i(2),a=i(117).default,h=i(48).default,l=i(193).default,d=i(200).default,u=i(201).default,c=i(202).default,f=i(203).default,p=i(204).default,g=i(205).default,m=i(206).default,v=i(207).default,y=i(208).default,b=i(209).default,w=i(210).default,x=i(211).default,_=i(212).default,k=i(213).default,S=i(15).printStyle,M=function(){function t(e,i,n,o,h,l){(0,r.default)(this,t),this.options=s.bridgeObject(h),this.globalOptions=h,this.defaultOptions=l,this.body=i,this.edges=[],this.id=void 0,this.imagelist=n,this.grouplist=o,this.x=void 0,this.y=void 0,this.baseSize=this.options.size,this.baseFontSize=this.options.font.size,this.predefinedPosition=!1,this.selected=!1,this.hover=!1,this.labelModule=new a(this.body,this.options,!1),this.setOptions(e)}return(0,o.default)(t,[{key:"attachEdge",value:function(t){-1===this.edges.indexOf(t)&&this.edges.push(t)}},{key:"detachEdge",value:function(t){var e=this.edges.indexOf(t);-1!=e&&this.edges.splice(e,1)}},{key:"setOptions",value:function(e){var i=this.options.shape;if(e){if(void 0!==e.id&&(this.id=e.id),void 0===this.id)throw new Error("Node must have an id");return t.checkMass(e,this.id),void 0!==e.x&&(null===e.x?(this.x=void 0,this.predefinedPosition=!1):(this.x=parseInt(e.x),this.predefinedPosition=!0)),void 0!==e.y&&(null===e.y?(this.y=void 0,this.predefinedPosition=!1):(this.y=parseInt(e.y),this.predefinedPosition=!0)),void 0!==e.size&&(this.baseSize=e.size),void 0!==e.value&&(e.value=parseFloat(e.value)),t.parseOptions(this.options,e,!0,this.globalOptions,this.grouplist),this.chooser=h.choosify("node",[e,this.options,this.defaultOptions]),this._load_images(),this.updateLabelModule(e),this.updateShape(i),void 0!==e.hidden||void 0!==e.physics}}},{key:"_load_images",value:function(){if("circularImage"===this.options.shape||"image"===this.options.shape){if(void 0===this.options.image)throw new Error("Option image must be defined for node type '"+this.options.shape+"'");if(void 0===this.imagelist)throw new Error("Internal Error: No images provided");if("string"==typeof this.options.image)this.imageObj=this.imagelist.load(this.options.image,this.options.brokenImage,this.id);else{if(void 0===this.options.image.unselected)throw new Error("No unselected image provided");this.imageObj=this.imagelist.load(this.options.image.unselected,this.options.brokenImage,this.id),this.imageObjAlt=void 0!==this.options.image.selected?this.imagelist.load(this.options.image.selected,this.options.brokenImage,this.id):void 0}}}},{key:"getFormattingValues",value:function(){var t={color:this.options.color.background,borderWidth:this.options.borderWidth,borderColor:this.options.color.border,size:this.options.size,borderDashes:this.options.shapeProperties.borderDashes,borderRadius:this.options.shapeProperties.borderRadius,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y};return this.selected||this.hover?!0===this.chooser?this.selected?(t.borderWidth*=2,t.color=this.options.color.highlight.background,t.borderColor=this.options.color.highlight.border,t.shadow=this.options.shadow.enabled):this.hover&&(t.color=this.options.color.hover.background,t.borderColor=this.options.color.hover.border,t.shadow=this.options.shadow.enabled):"function"==typeof this.chooser&&(this.chooser(t,this.options.id,this.selected,this.hover),!1===t.shadow&&(t.shadowColor===this.options.shadow.color&&t.shadowSize===this.options.shadow.size&&t.shadowX===this.options.shadow.x&&t.shadowY===this.options.shadow.y||(t.shadow=!0))):t.shadow=this.options.shadow.enabled,t}},{key:"updateLabelModule",value:function(e){null!=this.options.label||(this.options.label=""),t.updateGroupOptions(this.options,e,this.grouplist);var i=this.grouplist.get(this.options.group,!1);this.labelModule.update(this.options,[e,this.options,i,this.globalOptions,this.defaultOptions]),void 0!==this.labelModule.baseSize&&(this.baseFontSize=this.labelModule.baseSize)}},{key:"updateShape",value:function(t){if(t===this.options.shape&&this.shape)this.shape.setOptions(this.options,this.imageObj,this.imageObjAlt);else switch(this.options.shape){case"box":this.shape=new l(this.options,this.body,this.labelModule);break;case"circle":this.shape=new d(this.options,this.body,this.labelModule);break;case"circularImage":this.shape=new u(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"database":this.shape=new c(this.options,this.body,this.labelModule);break;case"diamond":this.shape=new f(this.options,this.body,this.labelModule);break;case"dot":this.shape=new p(this.options,this.body,this.labelModule);break;case"ellipse":this.shape=new g(this.options,this.body,this.labelModule);break;case"icon":this.shape=new m(this.options,this.body,this.labelModule);break;case"image":this.shape=new v(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"square":this.shape=new y(this.options,this.body,this.labelModule);break;case"hexagon":this.shape=new b(this.options,this.body,this.labelModule);break;case"star":this.shape=new w(this.options,this.body,this.labelModule);break;case"text":this.shape=new x(this.options,this.body,this.labelModule);break;case"triangle":this.shape=new _(this.options,this.body,this.labelModule);break;case"triangleDown":this.shape=new k(this.options,this.body,this.labelModule);break;default:this.shape=new g(this.options,this.body,this.labelModule)}this.needsRefresh()}},{key:"select",value:function(){this.selected=!0,this.needsRefresh()}},{key:"unselect",value:function(){this.selected=!1,this.needsRefresh()}},{key:"needsRefresh",value:function(){this.shape.refreshNeeded=!0}},{key:"getTitle",value:function(){return this.options.title}},{key:"distanceToBorder",value:function(t,e){return this.shape.distanceToBorder(t,e)}},{key:"isFixed",value:function(){return this.options.fixed.x&&this.options.fixed.y}},{key:"isSelected",value:function(){return this.selected}},{key:"getValue",value:function(){return this.options.value}},{key:"getLabelSize",value:function(){return this.labelModule.size()}},{key:"setValueRange",value:function(t,e,i){if(void 0!==this.options.value){var n=this.options.scaling.customScalingFunction(t,e,i,this.options.value),r=this.options.scaling.max-this.options.scaling.min;!0===this.options.scaling.label.enabled&&(this.options.font.size=this.options.scaling.label.min+n*(this.options.scaling.label.max-this.options.scaling.label.min)),this.options.size=this.options.scaling.min+n*r}else this.options.size=this.baseSize,this.options.font.size=this.baseFontSize;this.updateLabelModule()}},{key:"draw",value:function(t){var e=this.getFormattingValues();this.shape.draw(t,this.x,this.y,this.selected,this.hover,e)}},{key:"updateBoundingBox",value:function(t){this.shape.updateBoundingBox(this.x,this.y,t)}},{key:"resize",value:function(t){var e=this.getFormattingValues();this.shape.resize(t,this.selected,this.hover,e)}},{key:"getItemsOnPoint",value:function(t){var e=[];return this.labelModule.visible()&&h.pointInRect(this.labelModule.getSize(),t)&&e.push({nodeId:this.id,labelId:0}),h.pointInRect(this.shape.boundingBox,t)&&e.push({nodeId:this.id}),e}},{key:"isOverlappingWith",value:function(t){return this.shape.left<t.right&&this.shape.left+this.shape.width>t.left&&this.shape.top<t.bottom&&this.shape.top+this.shape.height>t.top}},{key:"isBoundingBoxOverlappingWith",value:function(t){return this.shape.boundingBox.left<t.right&&this.shape.boundingBox.right>t.left&&this.shape.boundingBox.top<t.bottom&&this.shape.boundingBox.bottom>t.top}}],[{key:"updateGroupOptions",value:function(t,e,i){if(void 0!==i){var n=t.group;if(void 0!==e&&void 0!==e.group&&n!==e.group)throw new Error("updateGroupOptions: group values in options don't match.");if("number"==typeof n||"string"==typeof n&&""!=n){var r=i.get(n);s.selectiveNotDeepExtend(["font"],t,r),t.color=s.parseColor(t.color)}}}},{key:"parseOptions",value:function(e,i){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments[4],a=["color","fixed","shadow"];if(s.selectiveNotDeepExtend(a,e,i,n),t.checkMass(i),s.mergeOptions(e,i,"shadow",r),null!=i.color){var h=s.parseColor(i.color);s.fillIfDefined(e.color,h)}else!0===n&&null===i.color&&(e.color=s.bridgeObject(r.color));null!=i.fixed&&("boolean"==typeof i.fixed?(e.fixed.x=i.fixed,e.fixed.y=i.fixed):(void 0!==i.fixed.x&&"boolean"==typeof i.fixed.x&&(e.fixed.x=i.fixed.x),void 0!==i.fixed.y&&"boolean"==typeof i.fixed.y&&(e.fixed.y=i.fixed.y))),!0===n&&null===i.font&&(e.font=s.bridgeObject(r.font)),t.updateGroupOptions(e,i,o),void 0!==i.scaling&&s.mergeOptions(e.scaling,i.scaling,"label",r.scaling)}},{key:"checkMass",value:function(t,e){if(void 0!==t.mass&&t.mass<=0){var i="";void 0!==e&&(i=" in node id: "+e),console.log("%cNegative or zero mass disallowed"+i+", setting mass to 1.",S),t.mass=1}}}]),t}();e.default=M},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(6)),o=n(i(0)),s=n(i(1)),a=i(2),h=function(){function t(){(0,o.default)(this,t)}return(0,s.default)(t,null,[{key:"choosify",value:function(t,e){var i=["node","edge","label"],n=!0,o=a.topMost(e,"chosen");if("boolean"==typeof o)n=o;else if("object"===(void 0===o?"undefined":(0,r.default)(o))){if(-1===i.indexOf(t))throw new Error("choosify: subOption '"+t+"' should be one of '"+i.join("', '")+"'");var s=a.topMost(e,["chosen",t]);"boolean"!=typeof s&&"function"!=typeof s||(n=s)}return n}},{key:"pointInRect",value:function(t,e,i){if(t.width<=0||t.height<=0)return!1;if(void 0!==i){var n={x:e.x-i.x,y:e.y-i.y};if(0!==i.angle){var r=-i.angle;e={x:Math.cos(r)*n.x-Math.sin(r)*n.y,y:Math.sin(r)*n.x+Math.cos(r)*n.y}}else e=n}return t.left<e.x&&t.x+t.width>e.x&&t.top<e.y&&t.y+t.width>e.y}},{key:"isValidLabel",value:function(t){return"string"==typeof t&&""!==t}}]),t}();e.default=h},function(t,e,i){i(125);for(var n=i(18),r=i(26),o=i(31),s=i(13)("toStringTag"),a="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),h=0;h<a.length;h++){var l=a[h],d=n[l],u=d&&d.prototype;u&&!u[s]&&r(u,s,l),o[l]=o.Array}},function(t,e){var i={}.toString;t.exports=function(t){return i.call(t).slice(8,-1)}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e){t.exports=!0},function(t,e,i){var n=i(32);t.exports=function(t,e){if(!n(t))return t;var i,r;if(e&&"function"==typeof(i=t.toString)&&!n(r=i.call(t)))return r;if("function"==typeof(i=t.valueOf)&&!n(r=i.call(t)))return r;if(!e&&"function"==typeof(i=t.toString)&&!n(r=i.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},function(t,e,i){var n=i(27),r=i(130),o=i(58),s=i(56)("IE_PROTO"),a=function(){},h=function(){var t,e=i(82)("iframe"),n=o.length;for(e.style.display="none",i(134).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),h=t.F;n--;)delete h.prototype[o[n]];return h()};t.exports=Object.create||function(t,e){var i;return null!==t?(a.prototype=n(t),i=new a,a.prototype=null,i[s]=t):i=h(),void 0===e?i:r(i,e)}},function(t,e){var i=Math.ceil,n=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?n:i)(t)}},function(t,e,i){var n=i(57)("keys"),r=i(40);t.exports=function(t){return n[t]||(n[t]=r(t))}},function(t,e,i){var n=i(18),r=n["__core-js_shared__"]||(n["__core-js_shared__"]={});t.exports=function(t){return r[t]||(r[t]={})}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,i){var n=i(20).f,r=i(22),o=i(13)("toStringTag");t.exports=function(t,e,i){t&&!r(t=i?t:t.prototype,o)&&n(t,o,{configurable:!0,value:e})}},function(t,e,i){var n=i(135)(!0);i(79)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,i=this._i;return i>=e.length?{value:void 0,done:!0}:(t=n(e,i),this._i+=t.length,{value:t,done:!1})})},function(t,e,i){e.f=i(13)},function(t,e,i){var n=i(18),r=i(7),o=i(52),s=i(61),a=i(20).f;t.exports=function(t){var e=r.Symbol||(r.Symbol=o?{}:n.Symbol||{});"_"==t.charAt(0)||t in e||a(e,t,{value:s.f(t)})}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){var i=d().hours(0).minutes(0).seconds(0).milliseconds(0),n=i.clone().add(-3,"days").valueOf(),r=i.clone().add(3,"days").valueOf();this.millisecondsPerPixelCache=void 0,void 0===e?(this.start=n,this.end=r):(this.start=e.start||n,this.end=e.end||r),this.rolling=!1,this.body=t,this.deltaDifference=0,this.scaleOffset=0,this.startToFront=!1,this.endToFront=!0,this.defaultOptions={rtl:!1,start:null,end:null,moment:d,direction:"horizontal",moveable:!0,zoomable:!0,min:null,max:null,zoomMin:10,zoomMax:31536e10,rollingMode:{follow:!1,offset:.5}},this.options=l.extend({},this.defaultOptions),this.props={touch:{}},this.animationTimer=null,this.body.emitter.on("panstart",this._onDragStart.bind(this)),this.body.emitter.on("panmove",this._onDrag.bind(this)),this.body.emitter.on("panend",this._onDragEnd.bind(this)),this.body.emitter.on("mousewheel",this._onMouseWheel.bind(this)),this.body.emitter.on("touch",this._onTouch.bind(this)),this.body.emitter.on("pinch",this._onPinch.bind(this)),this.body.dom.rollingModeBtn.addEventListener("click",this.startRolling.bind(this)),this.setOptions(e)}function o(t){if("horizontal"!=t&&"vertical"!=t)throw new TypeError('Unknown direction "'+t+'". Choose "horizontal" or "vertical".')}var s=n(i(8)),a=n(i(19)),h=n(i(6)),l=i(2),d=i(9),u=i(16),c=i(36);(r.prototype=new u).setOptions=function(t){t&&(l.selectiveExtend(["animation","direction","min","max","zoomMin","zoomMax","moveable","zoomable","moment","activate","hiddenDates","zoomKey","rtl","showCurrentTime","rollingMode","horizontalScroll"],this.options,t),t.rollingMode&&t.rollingMode.follow&&this.startRolling(),("start"in t||"end"in t)&&this.setRange(t.start,t.end))},r.prototype.startRolling=function(){var t=this;!function e(){t.stopRolling(),t.rolling=!0;var i=t.end-t.start,n=l.convert(new Date,"Date").valueOf();t.setRange(n-i*t.options.rollingMode.offset,n+i*(1-t.options.rollingMode.offset),{animation:!1}),(i=1/t.conversion(t.body.domProps.center.width).scale/10)<30&&(i=30),i>1e3&&(i=1e3),t.body.dom.rollingModeBtn.style.visibility="hidden",t.currentTimeTimer=setTimeout(e,i)}()},r.prototype.stopRolling=function(){void 0!==this.currentTimeTimer&&(clearTimeout(this.currentTimeTimer),this.rolling=!1,this.body.dom.rollingModeBtn.style.visibility="visible")},r.prototype.setRange=function(t,e,i,n,r){i||(i={}),!0!==i.byUser&&(i.byUser=!1);var o=this,d=null!=t?l.convert(t,"Date").valueOf():null,u=null!=e?l.convert(e,"Date").valueOf():null;if(this._cancelAnimation(),this.millisecondsPerPixelCache=void 0,i.animation){var f=this.start,p=this.end,g="object"===(0,h.default)(i.animation)&&"duration"in i.animation?i.animation.duration:500,m="object"===(0,h.default)(i.animation)&&"easingFunction"in i.animation?i.animation.easingFunction:"easeInOutQuad",v=l.easingFunctions[m];if(!v)throw new Error("Unknown easing function "+(0,a.default)(m)+". Choose from: "+(0,s.default)(l.easingFunctions).join(", "));var y=(new Date).valueOf(),b=!1;return function t(){if(!o.props.touch.dragging){var e=(new Date).valueOf()-y,s=v(e/g),a=e>g;w=o._applyRange(a||null===d?d:f+(d-f)*s,a||null===u?u:p+(u-p)*s),c.updateHiddenDates(o.options.moment,o.body,o.options.hiddenDates),b=b||w;var h={start:new Date(o.start),end:new Date(o.end),byUser:i.byUser,event:i.event};if(r&&r(s,w,a),w&&o.body.emitter.emit("rangechange",h),a){if(b&&(o.body.emitter.emit("rangechanged",h),n))return n()}else o.animationTimer=setTimeout(t,20)}}()}var w=this._applyRange(d,u);if(c.updateHiddenDates(this.options.moment,this.body,this.options.hiddenDates),w){var x={start:new Date(this.start),end:new Date(this.end),byUser:i.byUser,event:i.event};if(this.body.emitter.emit("rangechange",x),clearTimeout(o.timeoutID),o.timeoutID=setTimeout(function(){o.body.emitter.emit("rangechanged",x)},200),n)return n()}},r.prototype.getMillisecondsPerPixel=function(){return void 0===this.millisecondsPerPixelCache&&(this.millisecondsPerPixelCache=(this.end-this.start)/this.body.dom.center.clientWidth),this.millisecondsPerPixelCache},r.prototype._cancelAnimation=function(){this.animationTimer&&(clearTimeout(this.animationTimer),this.animationTimer=null)},r.prototype._applyRange=function(t,e){var i,n=null!=t?l.convert(t,"Date").valueOf():this.start,r=null!=e?l.convert(e,"Date").valueOf():this.end,o=null!=this.options.max?l.convert(this.options.max,"Date").valueOf():null,s=null!=this.options.min?l.convert(this.options.min,"Date").valueOf():null;if(isNaN(n)||null===n)throw new Error('Invalid start "'+t+'"');if(isNaN(r)||null===r)throw new Error('Invalid end "'+e+'"');if(r<n&&(r=n),null!==s&&n<s&&(n+=i=s-n,r+=i,null!=o&&r>o&&(r=o)),null!==o&&r>o&&(n-=i=r-o,r-=i,null!=s&&n<s&&(n=s)),null!==this.options.zoomMin){var a=parseFloat(this.options.zoomMin);a<0&&(a=0),r-n<a&&(this.end-this.start===a&&n>=this.start-.5&&r<=this.end?(n=this.start,r=this.end):(n-=(i=a-(r-n))/2,r+=i/2))}if(null!==this.options.zoomMax){var h=parseFloat(this.options.zoomMax);h<0&&(h=0),r-n>h&&(this.end-this.start===h&&n<this.start&&r>this.end?(n=this.start,r=this.end):(n+=(i=r-n-h)/2,r-=i/2))}var d=this.start!=n||this.end!=r;return n>=this.start&&n<=this.end||r>=this.start&&r<=this.end||this.start>=n&&this.start<=r||this.end>=n&&this.end<=r||this.body.emitter.emit("checkRangedItems"),this.start=n,this.end=r,d},r.prototype.getRange=function(){return{start:this.start,end:this.end}},r.prototype.conversion=function(t,e){return r.conversion(this.start,this.end,t,e)},r.conversion=function(t,e,i,n){return void 0===n&&(n=0),0!=i&&e-t!=0?{offset:t,scale:i/(e-t-n)}:{offset:0,scale:1}},r.prototype._onDragStart=function(t){this.deltaDifference=0,this.previousDelta=0,this.options.moveable&&this._isInsideRange(t)&&this.props.touch.allowDragging&&(this.stopRolling(),this.props.touch.start=this.start,this.props.touch.end=this.end,this.props.touch.dragging=!0,this.body.dom.root&&(this.body.dom.root.style.cursor="move"))},r.prototype._onDrag=function(t){if(t&&this.props.touch.dragging&&this.options.moveable&&this.props.touch.allowDragging){var e=this.options.direction;o(e);var i="horizontal"==e?t.deltaX:t.deltaY;i-=this.deltaDifference;var n=this.props.touch.end-this.props.touch.start;n-=c.getHiddenDurationBetween(this.body.hiddenDates,this.start,this.end);var r,s="horizontal"==e?this.body.domProps.center.width:this.body.domProps.center.height,a=this.props.touch.start+(r=this.options.rtl?i/s*n:-i/s*n),h=this.props.touch.end+r,l=c.snapAwayFromHidden(this.body.hiddenDates,a,this.previousDelta-i,!0),d=c.snapAwayFromHidden(this.body.hiddenDates,h,this.previousDelta-i,!0);if(l!=a||d!=h)return this.deltaDifference+=i,this.props.touch.start=l,this.props.touch.end=d,void this._onDrag(t);this.previousDelta=i,this._applyRange(a,h);var u=new Date(this.start),f=new Date(this.end);this.body.emitter.emit("rangechange",{start:u,end:f,byUser:!0,event:t}),this.body.emitter.emit("panmove")}},r.prototype._onDragEnd=function(t){this.props.touch.dragging&&this.options.moveable&&this.props.touch.allowDragging&&(this.props.touch.dragging=!1,this.body.dom.root&&(this.body.dom.root.style.cursor="auto"),this.body.emitter.emit("rangechanged",{start:new Date(this.start),end:new Date(this.end),byUser:!0,event:t}))},r.prototype._onMouseWheel=function(t){var e=0;if(t.wheelDelta?e=t.wheelDelta/120:t.detail&&(e=-t.detail/3),!(this.options.zoomKey&&!t[this.options.zoomKey]&&this.options.zoomable||!this.options.zoomable&&this.options.moveable)&&this.options.zoomable&&this.options.moveable&&this._isInsideRange(t)&&e){var i,n;if(i=e<0?1-e/5:1/(1+e/5),this.rolling)n=this.start+(this.end-this.start)*this.options.rollingMode.offset;else{var r=this.getPointer({x:t.clientX,y:t.clientY},this.body.dom.center);n=this._pointerToDate(r)}this.zoom(i,n,e,t),t.preventDefault()}},r.prototype._onTouch=function(t){this.props.touch.start=this.start,this.props.touch.end=this.end,this.props.touch.allowDragging=!0,this.props.touch.center=null,this.scaleOffset=0,this.deltaDifference=0,l.preventDefault(t)},r.prototype._onPinch=function(t){if(this.options.zoomable&&this.options.moveable){l.preventDefault(t),this.props.touch.allowDragging=!1,this.props.touch.center||(this.props.touch.center=this.getPointer(t.center,this.body.dom.center)),this.stopRolling();var e=1/(t.scale+this.scaleOffset),i=this._pointerToDate(this.props.touch.center),n=c.getHiddenDurationBetween(this.body.hiddenDates,this.start,this.end),r=c.getHiddenDurationBefore(this.options.moment,this.body.hiddenDates,this,i),o=n-r,s=i-r+(this.props.touch.start-(i-r))*e,a=i+o+(this.props.touch.end-(i+o))*e;this.startToFront=1-e<=0,this.endToFront=e-1<=0;var h=c.snapAwayFromHidden(this.body.hiddenDates,s,1-e,!0),d=c.snapAwayFromHidden(this.body.hiddenDates,a,e-1,!0);h==s&&d==a||(this.props.touch.start=h,this.props.touch.end=d,this.scaleOffset=1-t.scale,s=h,a=d),this.setRange(s,a,{animation:!1,byUser:!0,event:t}),this.startToFront=!1,this.endToFront=!0}},r.prototype._isInsideRange=function(t){var e,i=t.center?t.center.x:t.clientX;e=this.options.rtl?i-l.getAbsoluteLeft(this.body.dom.centerContainer):l.getAbsoluteRight(this.body.dom.centerContainer)-i;var n=this.body.util.toTime(e);return n>=this.start&&n<=this.end},r.prototype._pointerToDate=function(t){var e,i=this.options.direction;return o(i),"horizontal"==i?this.body.util.toTime(t.x).valueOf():(e=this.conversion(this.body.domProps.center.height),t.y/e.scale+e.offset)},r.prototype.getPointer=function(t,e){return this.options.rtl?{x:l.getAbsoluteRight(e)-t.x,y:t.y-l.getAbsoluteTop(e)}:{x:t.x-l.getAbsoluteLeft(e),y:t.y-l.getAbsoluteTop(e)}},r.prototype.zoom=function(t,e,i,n){null==e&&(e=(this.start+this.end)/2);var r=c.getHiddenDurationBetween(this.body.hiddenDates,this.start,this.end),o=c.getHiddenDurationBefore(this.options.moment,this.body.hiddenDates,this,e),s=r-o,a=e-o+(this.start-(e-o))*t,h=e+s+(this.end-(e+s))*t;this.startToFront=!(i>0),this.endToFront=!(-i>0);var l=c.snapAwayFromHidden(this.body.hiddenDates,a,i,!0),d=c.snapAwayFromHidden(this.body.hiddenDates,h,-i,!0);l==a&&d==h||(a=l,h=d),this.setRange(a,h,{animation:!1,byUser:!0,event:n}),this.startToFront=!1,this.endToFront=!0},r.prototype.move=function(t){var e=this.end-this.start,i=this.end+e*t;this.start=this.start+e*t,this.end=i},r.prototype.moveTo=function(t){var e=(this.start+this.end)/2-t;this.setRange(this.start-e,this.end-e,{animation:!1,byUser:!0,event:null})},t.exports=r},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}function r(){}var o=n(i(19)),s=n(i(6)),a=i(44),h=i(10),l=i(37),d=i(2),u=i(45),c=i(97),f=i(36),p=i(46);a(r.prototype),r.prototype._create=function(t){function e(t){this.isActive()&&this.emit("mousewheel",t);var e=0,i=0;if("detail"in t&&(i=-1*t.detail),"wheelDelta"in t&&(i=t.wheelDelta),"wheelDeltaY"in t&&(i=t.wheelDeltaY),"wheelDeltaX"in t&&(e=-1*t.wheelDeltaX),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(e=-1*i,i=0),"deltaY"in t&&(i=-1*t.deltaY),"deltaX"in t&&(e=t.deltaX),this.options.zoomKey&&!t[this.options.zoomKey])if(t.preventDefault(),this.options.verticalScroll&&Math.abs(i)>=Math.abs(e)){var n=this.props.scrollTop+i;this.isActive()&&(this._setScrollTop(n),this._redraw(),this.emit("scroll",t))}else if(this.options.horizontalScroll){var r=(Math.abs(e)>=Math.abs(i)?e:i)/120*(this.range.end-this.range.start)/20;this.range.setRange(this.range.start+r,this.range.end+r,{animation:!1,byUser:!0,event:t})}}function i(t){n.options.verticalScroll&&(t.preventDefault(),n.isActive())&&(n._setScrollTop(-t.target.scrollTop),n._redraw(),n.emit("scrollSide",t))}this.dom={},this.dom.container=t,this.dom.root=document.createElement("div"),this.dom.background=document.createElement("div"),this.dom.backgroundVertical=document.createElement("div"),this.dom.backgroundHorizontal=document.createElement("div"),this.dom.centerContainer=document.createElement("div"),this.dom.leftContainer=document.createElement("div"),this.dom.rightContainer=document.createElement("div"),this.dom.center=document.createElement("div"),this.dom.left=document.createElement("div"),this.dom.right=document.createElement("div"),this.dom.top=document.createElement("div"),this.dom.bottom=document.createElement("div"),this.dom.shadowTop=document.createElement("div"),this.dom.shadowBottom=document.createElement("div"),this.dom.shadowTopLeft=document.createElement("div"),this.dom.shadowBottomLeft=document.createElement("div"),this.dom.shadowTopRight=document.createElement("div"),this.dom.shadowBottomRight=document.createElement("div"),this.dom.rollingModeBtn=document.createElement("div"),this.dom.root.className="vis-timeline",this.dom.background.className="vis-panel vis-background",this.dom.backgroundVertical.className="vis-panel vis-background vis-vertical",this.dom.backgroundHorizontal.className="vis-panel vis-background vis-horizontal",this.dom.centerContainer.className="vis-panel vis-center",this.dom.leftContainer.className="vis-panel vis-left",this.dom.rightContainer.className="vis-panel vis-right",this.dom.top.className="vis-panel vis-top",this.dom.bottom.className="vis-panel vis-bottom",this.dom.left.className="vis-content",this.dom.center.className="vis-content",this.dom.right.className="vis-content",this.dom.shadowTop.className="vis-shadow vis-top",this.dom.shadowBottom.className="vis-shadow vis-bottom",this.dom.shadowTopLeft.className="vis-shadow vis-top",this.dom.shadowBottomLeft.className="vis-shadow vis-bottom",this.dom.shadowTopRight.className="vis-shadow vis-top",this.dom.shadowBottomRight.className="vis-shadow vis-bottom",this.dom.rollingModeBtn.className="vis-rolling-mode-btn",this.dom.root.appendChild(this.dom.background),this.dom.root.appendChild(this.dom.backgroundVertical),this.dom.root.appendChild(this.dom.backgroundHorizontal),this.dom.root.appendChild(this.dom.centerContainer),this.dom.root.appendChild(this.dom.leftContainer),this.dom.root.appendChild(this.dom.rightContainer),this.dom.root.appendChild(this.dom.top),this.dom.root.appendChild(this.dom.bottom),this.dom.root.appendChild(this.dom.bottom),this.dom.root.appendChild(this.dom.rollingModeBtn),this.dom.centerContainer.appendChild(this.dom.center),this.dom.leftContainer.appendChild(this.dom.left),this.dom.rightContainer.appendChild(this.dom.right),this.dom.centerContainer.appendChild(this.dom.shadowTop),this.dom.centerContainer.appendChild(this.dom.shadowBottom),this.dom.leftContainer.appendChild(this.dom.shadowTopLeft),this.dom.leftContainer.appendChild(this.dom.shadowBottomLeft),this.dom.rightContainer.appendChild(this.dom.shadowTopRight),this.dom.rightContainer.appendChild(this.dom.shadowBottomRight),this.props={root:{},background:{},centerContainer:{},leftContainer:{},rightContainer:{},center:{},left:{},right:{},top:{},bottom:{},border:{},scrollTop:0,scrollTopMin:0},this.on("rangechange",(function(){!0===this.initialDrawDone&&this._redraw()}).bind(this)),this.on("rangechanged",(function(){this.initialRangeChangeDone||(this.initialRangeChangeDone=!0)}).bind(this)),this.on("touch",this._onTouch.bind(this)),this.on("panmove",this._onDrag.bind(this));var n=this;this._origRedraw=this._redraw.bind(this),this._redraw=d.throttle(this._origRedraw),this.on("_change",function(t){n.itemSet&&n.itemSet.initialItemSetDrawn&&t&&1==t.queue?n._redraw():n._origRedraw()}),this.hammer=new h(this.dom.root);var r=this.hammer.get("pinch").set({enable:!0});l.disablePreventDefaultVertically(r),this.hammer.get("pan").set({threshold:5,direction:h.DIRECTION_HORIZONTAL}),this.listeners={},["tap","doubletap","press","pinch","pan","panstart","panmove","panend"].forEach(function(t){var e=function(e){n.isActive()&&n.emit(t,e)};n.hammer.on(t,e),n.listeners[t]=e}),l.onTouch(this.hammer,(function(t){n.emit("touch",t)}).bind(this)),l.onRelease(this.hammer,(function(t){n.emit("release",t)}).bind(this)),this.dom.centerContainer.addEventListener?(this.dom.centerContainer.addEventListener("mousewheel",e.bind(this),!1),this.dom.centerContainer.addEventListener("DOMMouseScroll",e.bind(this),!1)):this.dom.centerContainer.attachEvent("onmousewheel",e.bind(this)),this.dom.left.parentNode.addEventListener("scroll",i.bind(this)),this.dom.right.parentNode.addEventListener("scroll",i.bind(this));var o=!1;if(this.dom.center.addEventListener("dragover",(function(t){if(t.preventDefault&&t.preventDefault(),!(!t.target.className.indexOf("vis")>-1||o))return t.dataTransfer.dropEffect="move",o=!0,!1}).bind(this),!1),this.dom.center.addEventListener("drop",(function(t){t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation();try{var e=JSON.parse(t.dataTransfer.getData("text"));if(!e||!e.content)return}catch(t){return!1}return o=!1,t.center={x:t.clientX,y:t.clientY},"item"!==e.target?n.itemSet._onAddItem(t):n.itemSet._onDropObjectOnItem(t),n.emit("drop",n.getEventProperties(t)),!1}).bind(this),!1),this.customTimes=[],this.touch={},this.redrawCount=0,this.initialDrawDone=!1,this.initialRangeChangeDone=!1,!t)throw new Error("No container provided");t.appendChild(this.dom.root)},r.prototype.setOptions=function(t){if(t){if(d.selectiveExtend(["width","height","minHeight","maxHeight","autoResize","start","end","clickToUse","dataAttributes","hiddenDates","locale","locales","moment","rtl","zoomKey","horizontalScroll","verticalScroll"],this.options,t),this.dom.rollingModeBtn.style.visibility="hidden",this.options.rtl&&(this.dom.container.style.direction="rtl",this.dom.backgroundVertical.className="vis-panel vis-background vis-vertical-rtl"),this.options.verticalScroll&&(this.options.rtl?this.dom.rightContainer.className="vis-panel vis-right vis-vertical-scroll":this.dom.leftContainer.className="vis-panel vis-left vis-vertical-scroll"),"object"!==(0,s.default)(this.options.orientation)&&(this.options.orientation={item:void 0,axis:void 0}),"orientation"in t&&("string"==typeof t.orientation?this.options.orientation={item:t.orientation,axis:t.orientation}:"object"===(0,s.default)(t.orientation)&&("item"in t.orientation&&(this.options.orientation.item=t.orientation.item),"axis"in t.orientation&&(this.options.orientation.axis=t.orientation.axis))),"both"===this.options.orientation.axis){if(!this.timeAxis2){var e=this.timeAxis2=new u(this.body);e.setOptions=function(t){var i=t?d.extend({},t):{};i.orientation="top",u.prototype.setOptions.call(e,i)},this.components.push(e)}}else if(this.timeAxis2){var i=this.components.indexOf(this.timeAxis2);-1!==i&&this.components.splice(i,1),this.timeAxis2.destroy(),this.timeAxis2=null}if("function"==typeof t.drawPoints&&(t.drawPoints={onRender:t.drawPoints}),"hiddenDates"in this.options&&f.convertHiddenOptions(this.options.moment,this.body,this.options.hiddenDates),"clickToUse"in t&&(t.clickToUse?this.activator||(this.activator=new c(this.dom.root)):this.activator&&(this.activator.destroy(),delete this.activator)),"showCustomTime"in t)throw new Error("Option `showCustomTime` is deprecated. Create a custom time bar via timeline.addCustomTime(time [, id])");this._initAutoResize()}if(this.components.forEach(function(e){return e.setOptions(t)}),"configure"in t){this.configurator||(this.configurator=this._createConfigurator()),this.configurator.setOptions(t.configure);var n=d.deepExtend({},this.options);this.components.forEach(function(t){d.deepExtend(n,t.options)}),this.configurator.setModuleOptions({global:n})}this._redraw()},r.prototype.isActive=function(){return!this.activator||this.activator.active},r.prototype.destroy=function(){for(var t in this.setItems(null),this.setGroups(null),this.off(),this._stopAutoResize(),this.dom.root.parentNode&&this.dom.root.parentNode.removeChild(this.dom.root),this.dom=null,this.activator&&(this.activator.destroy(),delete this.activator),this.listeners)this.listeners.hasOwnProperty(t)&&delete this.listeners[t];this.listeners=null,this.hammer=null,this.components.forEach(function(t){return t.destroy()}),this.body=null},r.prototype.setCustomTime=function(t,e){var i=this.customTimes.filter(function(t){return e===t.options.id});if(0===i.length)throw new Error("No custom time bar found with id "+(0,o.default)(e));i.length>0&&i[0].setCustomTime(t)},r.prototype.getCustomTime=function(t){var e=this.customTimes.filter(function(e){return e.options.id===t});if(0===e.length)throw new Error("No custom time bar found with id "+(0,o.default)(t));return e[0].getCustomTime()},r.prototype.setCustomTimeTitle=function(t,e){var i=this.customTimes.filter(function(t){return t.options.id===e});if(0===i.length)throw new Error("No custom time bar found with id "+(0,o.default)(e));if(i.length>0)return i[0].setCustomTitle(t)},r.prototype.getEventProperties=function(t){return{event:t}},r.prototype.addCustomTime=function(t,e){var i=void 0!==t?d.convert(t,"Date").valueOf():new Date;if(this.customTimes.some(function(t){return t.options.id===e}))throw new Error("A custom time with id "+(0,o.default)(e)+" already exists");var n=new p(this.body,d.extend({},this.options,{time:i,id:e}));return this.customTimes.push(n),this.components.push(n),this._redraw(),e},r.prototype.removeCustomTime=function(t){var e=this.customTimes.filter(function(e){return e.options.id===t});if(0===e.length)throw new Error("No custom time bar found with id "+(0,o.default)(t));e.forEach((function(t){this.customTimes.splice(this.customTimes.indexOf(t),1),this.components.splice(this.components.indexOf(t),1),t.destroy()}).bind(this))},r.prototype.getVisibleItems=function(){return this.itemSet&&this.itemSet.getVisibleItems()||[]},r.prototype.fit=function(t,e){var i=this.getDataRange();if(null!==i.min||null!==i.max){var n=i.max-i.min,r=new Date(i.min.valueOf()-.01*n),o=new Date(i.max.valueOf()+.01*n);this.range.setRange(r,o,{animation:!t||void 0===t.animation||t.animation},e)}},r.prototype.getDataRange=function(){throw new Error("Cannot invoke abstract method getDataRange")},r.prototype.setWindow=function(t,e,i,n){var r;"function"==typeof arguments[2]&&(n=arguments[2],i={}),1==arguments.length?this.range.setRange((r=arguments[0]).start,r.end,{animation:void 0===r.animation||r.animation}):2==arguments.length&&"function"==typeof arguments[1]?this.range.setRange((r=arguments[0]).start,r.end,{animation:void 0===r.animation||r.animation},n=arguments[1]):this.range.setRange(t,e,{animation:!i||void 0===i.animation||i.animation},n)},r.prototype.moveTo=function(t,e,i){"function"==typeof arguments[1]&&(i=arguments[1],e={});var n=this.range.end-this.range.start,r=d.convert(t,"Date").valueOf(),o=r-n/2,s=r+n/2,a=!e||void 0===e.animation||e.animation;this.range.setRange(o,s,{animation:a},i)},r.prototype.getWindow=function(){var t=this.range.getRange();return{start:new Date(t.start),end:new Date(t.end)}},r.prototype.zoomIn=function(t,e,i){if(!(!t||t<0||t>1)){"function"==typeof arguments[1]&&(i=arguments[1],e={});var n=this.getWindow(),r=n.start.valueOf(),o=n.end.valueOf(),s=o-r,a=s/(1+t),h=(s-a)/2,l=r+h,d=o-h;this.setWindow(l,d,e,i)}},r.prototype.zoomOut=function(t,e,i){if(!(!t||t<0||t>1)){"function"==typeof arguments[1]&&(i=arguments[1],e={});var n=this.getWindow(),r=n.start.valueOf(),o=n.end.valueOf(),s=o-r,a=r-s*t/2,h=o+s*t/2;this.setWindow(a,h,e,i)}},r.prototype.redraw=function(){this._redraw()},r.prototype._redraw=function(){this.redrawCount++;var t=!1,e=this.options,i=this.props,n=this.dom;if(n&&n.container&&0!=n.root.offsetWidth){f.updateHiddenDates(this.options.moment,this.body,this.options.hiddenDates),"top"==e.orientation?(d.addClassName(n.root,"vis-top"),d.removeClassName(n.root,"vis-bottom")):(d.removeClassName(n.root,"vis-top"),d.addClassName(n.root,"vis-bottom")),n.root.style.maxHeight=d.option.asSize(e.maxHeight,""),n.root.style.minHeight=d.option.asSize(e.minHeight,""),n.root.style.width=d.option.asSize(e.width,""),i.border.left=(n.centerContainer.offsetWidth-n.centerContainer.clientWidth)/2,i.border.right=i.border.left,i.border.top=(n.centerContainer.offsetHeight-n.centerContainer.clientHeight)/2,i.border.bottom=i.border.top,i.borderRootHeight=n.root.offsetHeight-n.root.clientHeight,i.borderRootWidth=n.root.offsetWidth-n.root.clientWidth,0===n.centerContainer.clientHeight&&(i.border.left=i.border.top,i.border.right=i.border.left),0===n.root.clientHeight&&(i.borderRootWidth=i.borderRootHeight),i.center.height=n.center.offsetHeight,i.left.height=n.left.offsetHeight,i.right.height=n.right.offsetHeight,i.top.height=n.top.clientHeight||-i.border.top,i.bottom.height=n.bottom.clientHeight||-i.border.bottom;var r=Math.max(i.left.height,i.center.height,i.right.height);n.root.style.height=d.option.asSize(e.height,i.top.height+r+i.bottom.height+i.borderRootHeight+i.border.top+i.border.bottom+"px"),i.root.height=n.root.offsetHeight,i.background.height=i.root.height-i.borderRootHeight;var o=i.root.height-i.top.height-i.bottom.height-i.borderRootHeight;i.centerContainer.height=o,i.leftContainer.height=o,i.rightContainer.height=i.leftContainer.height,i.root.width=n.root.offsetWidth,i.background.width=i.root.width-i.borderRootWidth,this.initialDrawDone||(i.scrollbarWidth=d.getScrollBarWidth()),e.verticalScroll?e.rtl?(i.left.width=n.leftContainer.clientWidth||-i.border.left,i.right.width=n.rightContainer.clientWidth+i.scrollbarWidth||-i.border.right):(i.left.width=n.leftContainer.clientWidth+i.scrollbarWidth||-i.border.left,i.right.width=n.rightContainer.clientWidth||-i.border.right):(i.left.width=n.leftContainer.clientWidth||-i.border.left,i.right.width=n.rightContainer.clientWidth||-i.border.right),this._setDOM();var s=this._updateScrollTop();"top"!=e.orientation.item&&(s+=Math.max(i.centerContainer.height-i.center.height-i.border.top-i.border.bottom,0)),n.center.style.top=s+"px";var a=0==i.scrollTop?"hidden":"",l=i.scrollTop==i.scrollTopMin?"hidden":"";n.shadowTop.style.visibility=a,n.shadowBottom.style.visibility=l,n.shadowTopLeft.style.visibility=a,n.shadowBottomLeft.style.visibility=l,n.shadowTopRight.style.visibility=a,n.shadowBottomRight.style.visibility=l,e.verticalScroll&&(n.rightContainer.className="vis-panel vis-right vis-vertical-scroll",n.leftContainer.className="vis-panel vis-left vis-vertical-scroll",n.shadowTopRight.style.visibility="hidden",n.shadowBottomRight.style.visibility="hidden",n.shadowTopLeft.style.visibility="hidden",n.shadowBottomLeft.style.visibility="hidden",n.left.style.top="0px",n.right.style.top="0px"),(!e.verticalScroll||i.center.height<i.centerContainer.height)&&(n.left.style.top=s+"px",n.right.style.top=s+"px",n.rightContainer.className=n.rightContainer.className.replace(new RegExp("(?:^|\\s)vis-vertical-scroll(?:\\s|$)")," "),n.leftContainer.className=n.leftContainer.className.replace(new RegExp("(?:^|\\s)vis-vertical-scroll(?:\\s|$)")," "),i.left.width=n.leftContainer.clientWidth||-i.border.left,i.right.width=n.rightContainer.clientWidth||-i.border.right,this._setDOM());var u=i.center.height>i.centerContainer.height;if(this.hammer.get("pan").set({direction:u?h.DIRECTION_ALL:h.DIRECTION_HORIZONTAL}),this.components.forEach(function(e){t=e.redraw()||t}),t){if(this.redrawCount<5)return void this.body.emitter.emit("_change");console.log("WARNING: infinite loop in redraw?")}else this.redrawCount=0;this.body.emitter.emit("changed")}},r.prototype._setDOM=function(){var t=this.props,e=this.dom;t.leftContainer.width=t.left.width,t.rightContainer.width=t.right.width;var i=t.root.width-t.left.width-t.right.width-t.borderRootWidth;t.center.width=i,t.centerContainer.width=i,t.top.width=i,t.bottom.width=i,e.background.style.height=t.background.height+"px",e.backgroundVertical.style.height=t.background.height+"px",e.backgroundHorizontal.style.height=t.centerContainer.height+"px",e.centerContainer.style.height=t.centerContainer.height+"px",e.leftContainer.style.height=t.leftContainer.height+"px",e.rightContainer.style.height=t.rightContainer.height+"px",e.background.style.width=t.background.width+"px",e.backgroundVertical.style.width=t.centerContainer.width+"px",e.backgroundHorizontal.style.width=t.background.width+"px",e.centerContainer.style.width=t.center.width+"px",e.top.style.width=t.top.width+"px",e.bottom.style.width=t.bottom.width+"px",e.background.style.left="0",e.background.style.top="0",e.backgroundVertical.style.left=t.left.width+t.border.left+"px",e.backgroundVertical.style.top="0",e.backgroundHorizontal.style.left="0",e.backgroundHorizontal.style.top=t.top.height+"px",e.centerContainer.style.left=t.left.width+"px",e.centerContainer.style.top=t.top.height+"px",e.leftContainer.style.left="0",e.leftContainer.style.top=t.top.height+"px",e.rightContainer.style.left=t.left.width+t.center.width+"px",e.rightContainer.style.top=t.top.height+"px",e.top.style.left=t.left.width+"px",e.top.style.top="0",e.bottom.style.left=t.left.width+"px",e.bottom.style.top=t.top.height+t.centerContainer.height+"px",e.center.style.left="0",e.left.style.left="0",e.right.style.left="0"},r.prototype.repaint=function(){throw new Error("Function repaint is deprecated. Use redraw instead.")},r.prototype.setCurrentTime=function(t){if(!this.currentTime)throw new Error("Option showCurrentTime must be true");this.currentTime.setCurrentTime(t)},r.prototype.getCurrentTime=function(){if(!this.currentTime)throw new Error("Option showCurrentTime must be true");return this.currentTime.getCurrentTime()},r.prototype._toTime=function(t){return f.toTime(this,t,this.props.center.width)},r.prototype._toGlobalTime=function(t){return f.toTime(this,t,this.props.root.width)},r.prototype._toScreen=function(t){return f.toScreen(this,t,this.props.center.width)},r.prototype._toGlobalScreen=function(t){return f.toScreen(this,t,this.props.root.width)},r.prototype._initAutoResize=function(){1==this.options.autoResize?this._startAutoResize():this._stopAutoResize()},r.prototype._startAutoResize=function(){var t=this;this._stopAutoResize(),this._onResize=function(){1==t.options.autoResize?t.dom.root&&(t.dom.root.offsetWidth==t.props.lastWidth&&t.dom.root.offsetHeight==t.props.lastHeight||(t.props.lastWidth=t.dom.root.offsetWidth,t.props.lastHeight=t.dom.root.offsetHeight,t.props.scrollbarWidth=d.getScrollBarWidth(),t.body.emitter.emit("_change"))):t._stopAutoResize()},d.addEventListener(window,"resize",this._onResize),t.dom.root&&(t.props.lastWidth=t.dom.root.offsetWidth,t.props.lastHeight=t.dom.root.offsetHeight),this.watchTimer=setInterval(this._onResize,1e3)},r.prototype._stopAutoResize=function(){this.watchTimer&&(clearInterval(this.watchTimer),this.watchTimer=void 0),this._onResize&&(d.removeEventListener(window,"resize",this._onResize),this._onResize=null)},r.prototype._onTouch=function(t){this.touch.allowDragging=!0,this.touch.initialScrollTop=this.props.scrollTop},r.prototype._onPinch=function(t){this.touch.allowDragging=!1},r.prototype._onDrag=function(t){if(t&&this.touch.allowDragging){var e=t.deltaY,i=this._getScrollTop(),n=this._setScrollTop(this.touch.initialScrollTop+e);this.options.verticalScroll&&(this.dom.left.parentNode.scrollTop=-this.props.scrollTop,this.dom.right.parentNode.scrollTop=-this.props.scrollTop),n!=i&&this.emit("verticalDrag")}},r.prototype._setScrollTop=function(t){return this.props.scrollTop=t,this._updateScrollTop(),this.props.scrollTop},r.prototype._updateScrollTop=function(){var t=Math.min(this.props.centerContainer.height-this.props.center.height,0);return t!=this.props.scrollTopMin&&("top"!=this.options.orientation.item&&(this.props.scrollTop+=t-this.props.scrollTopMin),this.props.scrollTopMin=t),this.props.scrollTop>0&&(this.props.scrollTop=0),this.props.scrollTop<t&&(this.props.scrollTop=t),this.options.verticalScroll&&(this.dom.left.parentNode.scrollTop=-this.props.scrollTop,this.dom.right.parentNode.scrollTop=-this.props.scrollTop),this.props.scrollTop},r.prototype._getScrollTop=function(){return this.props.scrollTop},r.prototype._createConfigurator=function(){throw new Error("Cannot invoke abstract method _createConfigurator")},t.exports=r},function(t,e,i){function n(t,e,i,o,s){this.moment=r,this.current=this.moment(),this._start=this.moment(),this._end=this.moment(),this.autoScale=!0,this.scale="day",this.step=1,this.setRange(t,e,i),this.switchedDay=!1,this.switchedMonth=!1,this.switchedYear=!1,this.hiddenDates=Array.isArray(o)?o:null!=o?[o]:[],this.format=n.FORMAT,this.options=s||{}}var r=i(9),o=i(36),s=i(2);n.FORMAT={minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",week:"w",month:"MMM",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",week:"MMMM YYYY",month:"YYYY",year:""}},n.prototype.setMoment=function(t){this.moment=t,this.current=this.moment(this.current.valueOf()),this._start=this.moment(this._start.valueOf()),this._end=this.moment(this._end.valueOf())},n.prototype.setFormat=function(t){var e=s.deepExtend({},n.FORMAT);this.format=s.deepExtend(e,t)},n.prototype.setRange=function(t,e,i){if(!(t instanceof Date&&e instanceof Date))throw"No legal start or end date in method setRange";this._start=null!=t?this.moment(t.valueOf()):new Date,this._end=null!=e?this.moment(e.valueOf()):new Date,this.autoScale&&this.setMinimumStep(i)},n.prototype.start=function(){this.current=this._start.clone(),this.roundToMinor()},n.prototype.roundToMinor=function(){switch("week"==this.scale&&this.current.weekday(0),this.scale){case"year":this.current.year(this.step*Math.floor(this.current.year()/this.step)),this.current.month(0);case"month":this.current.date(1);case"week":case"day":case"weekday":this.current.hours(0);case"hour":this.current.minutes(0);case"minute":this.current.seconds(0);case"second":this.current.milliseconds(0)}if(1!=this.step)switch(this.scale){case"millisecond":this.current.subtract(this.current.milliseconds()%this.step,"milliseconds");break;case"second":this.current.subtract(this.current.seconds()%this.step,"seconds");break;case"minute":this.current.subtract(this.current.minutes()%this.step,"minutes");break;case"hour":this.current.subtract(this.current.hours()%this.step,"hours");break;case"weekday":case"day":this.current.subtract((this.current.date()-1)%this.step,"day");break;case"week":this.current.subtract(this.current.week()%this.step,"week");break;case"month":this.current.subtract(this.current.month()%this.step,"month");break;case"year":this.current.subtract(this.current.year()%this.step,"year")}},n.prototype.hasNext=function(){return this.current.valueOf()<=this._end.valueOf()},n.prototype.next=function(){var t=this.current.valueOf();switch(this.scale){case"millisecond":this.current.add(this.step,"millisecond");break;case"second":this.current.add(this.step,"second");break;case"minute":this.current.add(this.step,"minute");break;case"hour":this.current.add(this.step,"hour"),this.current.month()<6?this.current.subtract(this.current.hours()%this.step,"hour"):this.current.hours()%this.step!=0&&this.current.add(this.step-this.current.hours()%this.step,"hour");break;case"weekday":case"day":this.current.add(this.step,"day");break;case"week":if(0!==this.current.weekday())this.current.weekday(0),this.current.add(this.step,"week");else if(!1===this.options.showMajorLabels)this.current.add(this.step,"week");else{var e=this.current.clone();e.add(1,"week"),e.isSame(this.current,"month")?this.current.add(this.step,"week"):(this.current.add(this.step,"week"),this.current.date(1))}break;case"month":this.current.add(this.step,"month");break;case"year":this.current.add(this.step,"year")}if(1!=this.step)switch(this.scale){case"millisecond":this.current.milliseconds()>0&&this.current.milliseconds()<this.step&&this.current.milliseconds(0);break;case"second":this.current.seconds()>0&&this.current.seconds()<this.step&&this.current.seconds(0);break;case"minute":this.current.minutes()>0&&this.current.minutes()<this.step&&this.current.minutes(0);break;case"hour":this.current.hours()>0&&this.current.hours()<this.step&&this.current.hours(0);break;case"weekday":case"day":this.current.date()<this.step+1&&this.current.date(1);break;case"week":this.current.week()<this.step&&this.current.week(1);break;case"month":this.current.month()<this.step&&this.current.month(0)}this.current.valueOf()==t&&(this.current=this._end.clone()),this.switchedDay=!1,this.switchedMonth=!1,this.switchedYear=!1,o.stepOverHiddenDates(this.moment,this,t)},n.prototype.getCurrent=function(){return this.current},n.prototype.setScale=function(t){t&&"string"==typeof t.scale&&(this.scale=t.scale,this.step=t.step>0?t.step:1,this.autoScale=!1)},n.prototype.setAutoScale=function(t){this.autoScale=t},n.prototype.setMinimumStep=function(t){null!=t&&(31104e9>t&&(this.scale="year",this.step=1e3),15552e9>t&&(this.scale="year",this.step=500),31104e8>t&&(this.scale="year",this.step=100),15552e8>t&&(this.scale="year",this.step=50),31104e7>t&&(this.scale="year",this.step=10),15552e7>t&&(this.scale="year",this.step=5),31104e6>t&&(this.scale="year",this.step=1),7776e6>t&&(this.scale="month",this.step=3),2592e6>t&&(this.scale="month",this.step=1),432e6>t&&(this.scale="day",this.step=5),1728e5>t&&(this.scale="day",this.step=2),864e5>t&&(this.scale="day",this.step=1),432e5>t&&(this.scale="weekday",this.step=1),144e5>t&&(this.scale="hour",this.step=4),36e5>t&&(this.scale="hour",this.step=1),9e5>t&&(this.scale="minute",this.step=15),6e5>t&&(this.scale="minute",this.step=10),3e5>t&&(this.scale="minute",this.step=5),6e4>t&&(this.scale="minute",this.step=1),15e3>t&&(this.scale="second",this.step=15),1e4>t&&(this.scale="second",this.step=10),5e3>t&&(this.scale="second",this.step=5),1e3>t&&(this.scale="second",this.step=1),200>t&&(this.scale="millisecond",this.step=200),100>t&&(this.scale="millisecond",this.step=100),50>t&&(this.scale="millisecond",this.step=50),10>t&&(this.scale="millisecond",this.step=10),5>t&&(this.scale="millisecond",this.step=5),1>t&&(this.scale="millisecond",this.step=1))},n.snap=function(t,e,i){var n=r(t);if("year"==e){var o=n.year()+Math.round(n.month()/12);n.year(Math.round(o/i)*i),n.month(0),n.date(0),n.hours(0),n.minutes(0),n.seconds(0),n.milliseconds(0)}else if("month"==e)n.date()>15?(n.date(1),n.add(1,"month")):n.date(1),n.hours(0),n.minutes(0),n.seconds(0),n.milliseconds(0);else if("week"==e)n.weekday()>2?(n.weekday(0),n.add(1,"week")):n.weekday(0),n.hours(0),n.minutes(0),n.seconds(0),n.milliseconds(0);else if("day"==e){switch(i){case 5:case 2:n.hours(24*Math.round(n.hours()/24));break;default:n.hours(12*Math.round(n.hours()/12))}n.minutes(0),n.seconds(0),n.milliseconds(0)}else if("weekday"==e){switch(i){case 5:case 2:n.hours(12*Math.round(n.hours()/12));break;default:n.hours(6*Math.round(n.hours()/6))}n.minutes(0),n.seconds(0),n.milliseconds(0)}else if("hour"==e){switch(i){case 4:n.minutes(60*Math.round(n.minutes()/60));break;default:n.minutes(30*Math.round(n.minutes()/30))}n.seconds(0),n.milliseconds(0)}else if("minute"==e){switch(i){case 15:case 10:n.minutes(5*Math.round(n.minutes()/5)),n.seconds(0);break;case 5:n.seconds(60*Math.round(n.seconds()/60));break;default:n.seconds(30*Math.round(n.seconds()/30))}n.milliseconds(0)}else if("second"==e)switch(i){case 15:case 10:n.seconds(5*Math.round(n.seconds()/5)),n.milliseconds(0);break;case 5:n.milliseconds(1e3*Math.round(n.milliseconds()/1e3));break;default:n.milliseconds(500*Math.round(n.milliseconds()/500))}else if("millisecond"==e){var s=i>5?i/2:1;n.milliseconds(Math.round(n.milliseconds()/s)*s)}return n},n.prototype.isMajor=function(){if(1==this.switchedYear)switch(this.scale){case"year":case"month":case"week":case"weekday":case"day":case"hour":case"minute":case"second":case"millisecond":return!0;default:return!1}else if(1==this.switchedMonth)switch(this.scale){case"week":case"weekday":case"day":case"hour":case"minute":case"second":case"millisecond":return!0;default:return!1}else if(1==this.switchedDay)switch(this.scale){case"millisecond":case"second":case"minute":case"hour":return!0;default:return!1}var t=this.moment(this.current);switch(this.scale){case"millisecond":return 0==t.milliseconds();case"second":return 0==t.seconds();case"minute":return 0==t.hours()&&0==t.minutes();case"hour":return 0==t.hours();case"weekday":case"day":case"week":return 1==t.date();case"month":return 0==t.month();case"year":default:return!1}},n.prototype.getLabelMinor=function(t){if(null==t&&(t=this.current),t instanceof Date&&(t=this.moment(t)),"function"==typeof this.format.minorLabels)return this.format.minorLabels(t,this.scale,this.step);var e=this.format.minorLabels[this.scale];switch(this.scale){case"week":if(this.isMajor()&&0!==t.weekday())return"";default:return e&&e.length>0?this.moment(t).format(e):""}},n.prototype.getLabelMajor=function(t){if(null==t&&(t=this.current),t instanceof Date&&(t=this.moment(t)),"function"==typeof this.format.majorLabels)return this.format.majorLabels(t,this.scale,this.step);var e=this.format.majorLabels[this.scale];return e&&e.length>0?this.moment(t).format(e):""},n.prototype.getClassName=function(){function t(t){return t/a%2==0?" vis-even":" vis-odd"}function e(t){return t.isSame(new Date,"day")?" vis-today":t.isSame(r().add(1,"day"),"day")?" vis-tomorrow":t.isSame(r().add(-1,"day"),"day")?" vis-yesterday":""}function i(t){return t.isSame(new Date,"week")?" vis-current-week":""}function n(t){return t.isSame(new Date,"month")?" vis-current-month":""}var r=this.moment,o=this.moment(this.current),s=o.locale?o.locale("en"):o.lang("en"),a=this.step,h=[];switch(this.scale){case"millisecond":h.push(e(s)),h.push(t(s.milliseconds()));break;case"second":h.push(e(s)),h.push(t(s.seconds()));break;case"minute":h.push(e(s)),h.push(t(s.minutes()));break;case"hour":h.push("vis-h"+s.hours()+(4==this.step?"-h"+(s.hours()+4):"")),h.push(e(s)),h.push(t(s.hours()));break;case"weekday":h.push("vis-"+s.format("dddd").toLowerCase()),h.push(e(s)),h.push(i(s)),h.push(t(s.date()));break;case"day":h.push("vis-day"+s.date()),h.push("vis-"+s.format("MMMM").toLowerCase()),h.push(e(s)),h.push(n(s)),h.push(this.step<=2?e(s):""),h.push(this.step<=2?"vis-"+s.format("dddd").toLowerCase():""),h.push(t(s.date()-1));break;case"week":h.push("vis-week"+s.format("w")),h.push(i(s)),h.push(t(s.week()));break;case"month":h.push("vis-"+s.format("MMMM").toLowerCase()),h.push(n(s)),h.push(t(s.month()));break;case"year":h.push("vis-year"+s.year()),h.push(s.isSame(new Date,"year")?" vis-current-year":""),h.push(t(s.year()))}return h.filter(String).join(" ")},t.exports=n},function(t,e,i){function n(t,e){this.body=t,this.defaultOptions={rtl:!1,showCurrentTime:!0,moment:s,locales:a,locale:"en"},this.options=r.extend({},this.defaultOptions),this.offset=0,this._create(),this.setOptions(e)}var r=i(2),o=i(16),s=i(9),a=i(98);(n.prototype=new o)._create=function(){var t=document.createElement("div");t.className="vis-current-time",t.style.position="absolute",t.style.top="0px",t.style.height="100%",this.bar=t},n.prototype.destroy=function(){this.options.showCurrentTime=!1,this.redraw(),this.body=null},n.prototype.setOptions=function(t){t&&r.selectiveExtend(["rtl","showCurrentTime","moment","locale","locales"],this.options,t)},n.prototype.redraw=function(){if(this.options.showCurrentTime){var t=this.body.dom.backgroundVertical;this.bar.parentNode!=t&&(this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),t.appendChild(this.bar),this.start());var e=this.options.moment((new Date).valueOf()+this.offset),i=this.body.util.toScreen(e),n=this.options.locales[this.options.locale];n||(this.warned||(console.log("WARNING: options.locales['"+this.options.locale+"'] not found. See http://visjs.org/docs/timeline/#Localization"),this.warned=!0),n=this.options.locales.en);var r=n.current+" "+n.time+": "+e.format("dddd, MMMM Do YYYY, H:mm:ss");r=r.charAt(0).toUpperCase()+r.substring(1),this.options.rtl?this.bar.style.right=i+"px":this.bar.style.left=i+"px",this.bar.title=r}else this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),this.stop();return!1},n.prototype.start=function(){var t=this;!function e(){t.stop();var i=1/t.body.range.conversion(t.body.domProps.center.width).scale/10;i<30&&(i=30),i>1e3&&(i=1e3),t.redraw(),t.body.emitter.emit("currentTimeTick"),t.currentTimeTimer=setTimeout(e,i)}()},n.prototype.stop=function(){void 0!==this.currentTimeTimer&&(clearTimeout(this.currentTimeTimer),delete this.currentTimeTimer)},n.prototype.setCurrentTime=function(t){var e=r.convert(t,"Date").valueOf(),i=(new Date).valueOf();this.offset=e-i,this.redraw()},n.prototype.getCurrentTime=function(){return new Date((new Date).valueOf()+this.offset)},t.exports=n},function(t,e,i){function n(t,e,i){if(this.groupId=t,this.subgroups={},this.subgroupStack={},this.subgroupStackAll=!1,this.doInnerStack=!1,this.subgroupIndex=0,this.subgroupOrderer=e&&e.subgroupOrder,this.itemSet=i,this.isVisible=null,this.stackDirty=!0,e&&e.nestedGroups&&(this.nestedGroups=e.nestedGroups,this.showNested=0!=e.showNested),e&&e.subgroupStack)if("boolean"==typeof e.subgroupStack)this.doInnerStack=e.subgroupStack,this.subgroupStackAll=e.subgroupStack;else for(var n in e.subgroupStack)this.subgroupStack[n]=e.subgroupStack[n],this.doInnerStack=this.doInnerStack||e.subgroupStack[n];this.nestedInGroup=null,this.dom={},this.props={label:{width:0,height:0}},this.className=null,this.items={},this.visibleItems=[],this.itemsInRange=[],this.orderedItems={byStart:[],byEnd:[]},this.checkRangedItems=!1;var r=this;this.itemSet.body.emitter.on("checkRangedItems",function(){r.checkRangedItems=!0}),this._create(),this.setData(e)}var r=i(8),o=r&&r.__esModule?r:{default:r},s=i(2),a=i(100);n.prototype._create=function(){var t=document.createElement("div");t.className=this.itemSet.options.groupEditable.order?"vis-label draggable":"vis-label",this.dom.label=t;var e=document.createElement("div");e.className="vis-inner",t.appendChild(e),this.dom.inner=e;var i=document.createElement("div");i.className="vis-group",i["timeline-group"]=this,this.dom.foreground=i,this.dom.background=document.createElement("div"),this.dom.background.className="vis-group",this.dom.axis=document.createElement("div"),this.dom.axis.className="vis-group",this.dom.marker=document.createElement("div"),this.dom.marker.style.visibility="hidden",this.dom.marker.style.position="absolute",this.dom.marker.innerHTML="",this.dom.background.appendChild(this.dom.marker)},n.prototype.setData=function(t){var e,i;if((e=this.itemSet.options&&this.itemSet.options.groupTemplate?(i=this.itemSet.options.groupTemplate.bind(this))(t,this.dom.inner):t&&t.content)instanceof Element){for(this.dom.inner.appendChild(e);this.dom.inner.firstChild;)this.dom.inner.removeChild(this.dom.inner.firstChild);this.dom.inner.appendChild(e)}else e instanceof Object?i(t,this.dom.inner):this.dom.inner.innerHTML=null!=e?e:this.groupId||"";if(this.dom.label.title=t&&t.title||"",this.dom.inner.firstChild?s.removeClassName(this.dom.inner,"vis-hidden"):s.addClassName(this.dom.inner,"vis-hidden"),t&&t.nestedGroups){this.nestedGroups&&this.nestedGroups==t.nestedGroups||(this.nestedGroups=t.nestedGroups),void 0===t.showNested&&void 0!==this.showNested||(this.showNested=0!=t.showNested),s.addClassName(this.dom.label,"vis-nesting-group");var n=this.itemSet.options.rtl?"collapsed-rtl":"collapsed";this.showNested?(s.removeClassName(this.dom.label,n),s.addClassName(this.dom.label,"expanded")):(s.removeClassName(this.dom.label,"expanded"),s.addClassName(this.dom.label,n))}else this.nestedGroups&&(this.nestedGroups=null,s.removeClassName(this.dom.label,n=this.itemSet.options.rtl?"collapsed-rtl":"collapsed"),s.removeClassName(this.dom.label,"expanded"),s.removeClassName(this.dom.label,"vis-nesting-group"));t&&t.nestedInGroup&&(s.addClassName(this.dom.label,"vis-nested-group"),this.itemSet.options&&this.itemSet.options.rtl?this.dom.inner.style.paddingRight="30px":this.dom.inner.style.paddingLeft="30px");var r=t&&t.className||null;r!=this.className&&(this.className&&(s.removeClassName(this.dom.label,this.className),s.removeClassName(this.dom.foreground,this.className),s.removeClassName(this.dom.background,this.className),s.removeClassName(this.dom.axis,this.className)),s.addClassName(this.dom.label,r),s.addClassName(this.dom.foreground,r),s.addClassName(this.dom.background,r),s.addClassName(this.dom.axis,r),this.className=r),this.style&&(s.removeCssText(this.dom.label,this.style),this.style=null),t&&t.style&&(s.addCssText(this.dom.label,t.style),this.style=t.style)},n.prototype.getLabelWidth=function(){return this.props.label.width},n.prototype._didMarkerHeightChange=function(){var t=this.dom.marker.clientHeight;if(t!=this.lastMarkerHeight){this.lastMarkerHeight=t;var e={},i=0;if(s.forEach(this.items,function(t,n){t.dirty=!0,t.displayed&&(e[n]=t.redraw(!0),i=e[n].length)}),i>0)for(var n=0;n<i;n++)s.forEach(e,function(t){t[n]()});return!0}},n.prototype._calculateGroupSizeAndPosition=function(){var t=this.dom.foreground.offsetLeft,e=this.dom.foreground.offsetWidth;this.top=this.dom.foreground.offsetTop,this.right=t,this.width=e},n.prototype._redrawItems=function(t,e,i,n){if(t||this.stackDirty||this.isVisible&&!e){var r={},o=null;if("function"==typeof this.itemSet.options.order){var h=this,l={},d=0;if(s.forEach(this.items,function(t,e){t.displayed||(l[e]=t.redraw(!0),d=l[e].length,h.visibleItems.push(t))}),d>0)for(var u=0;u<d;u++)s.forEach(l,function(t){t[u]()});if(s.forEach(this.items,function(t){t.repositionX(!1)}),this.doInnerStack&&this.itemSet.options.stackSubgroups){for(o in this.subgroups)r[o]=this.subgroups[o].items.slice().sort(function(t,e){return h.itemSet.options.order(t.data,e.data)});a.stackSubgroupsWithInnerStack(r,i,this.subgroups)}else{var c=this.orderedItems.byStart.slice().sort(function(t,e){return h.itemSet.options.order(t.data,e.data)});a.stack(c,i,!0)}this.visibleItems=this._updateItemsInRange(this.orderedItems,this.visibleItems,n)}else if(this.visibleItems=this._updateItemsInRange(this.orderedItems,this.visibleItems,n),this.itemSet.options.stack)if(this.doInnerStack&&this.itemSet.options.stackSubgroups){for(o in this.subgroups)r[o]=this.subgroups[o].items;a.stackSubgroupsWithInnerStack(r,i,this.subgroups)}else a.stack(this.visibleItems,i,!0);else a.nostack(this.visibleItems,i,this.subgroups,this.itemSet.options.stackSubgroups);this.stackDirty=!1}},n.prototype._didResize=function(t,e){t=s.updateProperty(this,"height",e)||t;var i=this.dom.inner.clientHeight;return t=s.updateProperty(this.props.label,"width",this.dom.inner.clientWidth)||t,s.updateProperty(this.props.label,"height",i)||t},n.prototype._applyGroupHeight=function(t){this.dom.background.style.height=t+"px",this.dom.foreground.style.height=t+"px",this.dom.label.style.height=t+"px"},n.prototype._updateItemsVerticalPosition=function(t){for(var e=0,i=this.visibleItems.length;e<i;e++){var n=this.visibleItems[e];n.repositionY(t),this.isVisible||"__background__"==this.groupId||n.displayed&&n.hide()}},n.prototype.redraw=function(t,e,i,n){var r,o,s=!1,a=this.isVisible,h=[(function(){i=this._didMarkerHeightChange.bind(this)}).bind(this),this._updateSubGroupHeights.bind(this,e),this._calculateGroupSizeAndPosition.bind(this),(function(){this.isVisible=this._isGroupVisible.bind(this)(t,e)}).bind(this),(function(){this._redrawItems.bind(this)(i,a,e,t)}).bind(this),this._updateSubgroupsSizes.bind(this),(function(){r=this._calculateHeight.bind(this)(e)}).bind(this),this._calculateGroupSizeAndPosition.bind(this),(function(){s=this._didResize.bind(this)(s,r)}).bind(this),(function(){this._applyGroupHeight.bind(this)(r)}).bind(this),(function(){this._updateItemsVerticalPosition.bind(this)(e)}).bind(this),function(){return!this.isVisible&&this.height&&(s=!1),s}];return n?h:(h.forEach(function(t){o=t()}),o)},n.prototype._updateSubGroupHeights=function(t){if((0,o.default)(this.subgroups).length>0){var e=this;this.resetSubgroups(),s.forEach(this.visibleItems,function(i){void 0!==i.data.subgroup&&(e.subgroups[i.data.subgroup].height=Math.max(e.subgroups[i.data.subgroup].height,i.height+t.item.vertical),e.subgroups[i.data.subgroup].visible=!0)})}},n.prototype._isGroupVisible=function(t,e){return this.top<=t.body.domProps.centerContainer.height-t.body.domProps.scrollTop+e.axis&&this.top+this.height+e.axis>=-t.body.domProps.scrollTop},n.prototype._calculateHeight=function(t){var e,i=this.visibleItems;if(i.length>0){var n=i[0].top,r=i[0].top+i[0].height;if(s.forEach(i,function(t){n=Math.min(n,t.top),r=Math.max(r,t.top+t.height)}),n>t.axis){var o=n-t.axis;r-=o,s.forEach(i,function(t){t.top-=o})}e=r+t.item.vertical/2}else e=0;return Math.max(e,this.props.label.height)},n.prototype.show=function(){this.dom.label.parentNode||this.itemSet.dom.labelSet.appendChild(this.dom.label),this.dom.foreground.parentNode||this.itemSet.dom.foreground.appendChild(this.dom.foreground),this.dom.background.parentNode||this.itemSet.dom.background.appendChild(this.dom.background),this.dom.axis.parentNode||this.itemSet.dom.axis.appendChild(this.dom.axis)},n.prototype.hide=function(){var t=this.dom.label;t.parentNode&&t.parentNode.removeChild(t);var e=this.dom.foreground;e.parentNode&&e.parentNode.removeChild(e);var i=this.dom.background;i.parentNode&&i.parentNode.removeChild(i);var n=this.dom.axis;n.parentNode&&n.parentNode.removeChild(n)},n.prototype.add=function(t){this.items[t.id]=t,t.setParent(this),this.stackDirty=!0,void 0!==t.data.subgroup&&(this._addToSubgroup(t),this.orderSubgroups()),-1==this.visibleItems.indexOf(t)&&this._checkIfVisible(t,this.visibleItems,this.itemSet.body.range)},n.prototype._addToSubgroup=function(t,e){null!=(e=e||t.data.subgroup)&&void 0===this.subgroups[e]&&(this.subgroups[e]={height:0,top:0,start:t.data.start,end:t.data.end||t.data.start,visible:!1,index:this.subgroupIndex,items:[],stack:this.subgroupStackAll||this.subgroupStack[e]||!1},this.subgroupIndex++),new Date(t.data.start)<new Date(this.subgroups[e].start)&&(this.subgroups[e].start=t.data.start);var i=t.data.end||t.data.start;new Date(i)>new Date(this.subgroups[e].end)&&(this.subgroups[e].end=i),this.subgroups[e].items.push(t)},n.prototype._updateSubgroupsSizes=function(){var t=this;if(t.subgroups)for(var e in t.subgroups){var i=t.subgroups[e].items[0].data.start,n=(t.subgroups[e].items[0].data.end||t.subgroups[e].items[0].data.start)-1;t.subgroups[e].items.forEach(function(t){new Date(t.data.start)<new Date(i)&&(i=t.data.start);var e=t.data.end||t.data.start;new Date(e)>new Date(n)&&(n=e)}),t.subgroups[e].start=i,t.subgroups[e].end=new Date(n-1)}},n.prototype.orderSubgroups=function(){if(void 0!==this.subgroupOrderer){var t,e=[];if("string"==typeof this.subgroupOrderer){for(t in this.subgroups)e.push({subgroup:t,sortField:this.subgroups[t].items[0].data[this.subgroupOrderer]});e.sort(function(t,e){return t.sortField-e.sortField})}else if("function"==typeof this.subgroupOrderer){for(t in this.subgroups)e.push(this.subgroups[t].items[0].data);e.sort(this.subgroupOrderer)}if(e.length>0)for(var i=0;i<e.length;i++)this.subgroups[e[i].subgroup].index=i}},n.prototype.resetSubgroups=function(){for(var t in this.subgroups)this.subgroups.hasOwnProperty(t)&&(this.subgroups[t].visible=!1,this.subgroups[t].height=0)},n.prototype.remove=function(t){delete this.items[t.id],t.setParent(null),this.stackDirty=!0;var e=this.visibleItems.indexOf(t);-1!=e&&this.visibleItems.splice(e,1),void 0!==t.data.subgroup&&(this._removeFromSubgroup(t),this.orderSubgroups())},n.prototype._removeFromSubgroup=function(t,e){if(null!=(e=e||t.data.subgroup)){var i=this.subgroups[e];if(i){var n=i.items.indexOf(t);n>=0&&(i.items.splice(n,1),i.items.length?this._updateSubgroupsSizes():delete this.subgroups[e])}}},n.prototype.removeFromDataSet=function(t){this.itemSet.removeItem(t.id)},n.prototype.order=function(){for(var t=s.toArray(this.items),e=[],i=[],n=0;n<t.length;n++)void 0!==t[n].data.end&&i.push(t[n]),e.push(t[n]);this.orderedItems={byStart:e,byEnd:i},a.orderByStart(this.orderedItems.byStart),a.orderByEnd(this.orderedItems.byEnd)},n.prototype._updateItemsInRange=function(t,e,i){var n=[],r={},o=(i.end-i.start)/4,a=i.start-o,h=i.end+o,l=function(t){return t<a?-1:t<=h?0:1};if(e.length>0)for(var d=0;d<e.length;d++)this._checkIfVisibleWithReference(e[d],n,r,i);var u=s.binarySearchCustom(t.byStart,l,"data","start");if(this._traceVisible(u,t.byStart,n,r,function(t){return t.data.start<a||t.data.start>h}),1==this.checkRangedItems)for(this.checkRangedItems=!1,d=0;d<t.byEnd.length;d++)this._checkIfVisibleWithReference(t.byEnd[d],n,r,i);else{var c=s.binarySearchCustom(t.byEnd,l,"data","end");this._traceVisible(c,t.byEnd,n,r,function(t){return t.data.end<a||t.data.end>h})}var f={},p=0;for(d=0;d<n.length;d++){var g=n[d];g.displayed||(f[d]=g.redraw(!0),p=f[d].length)}if(p>0)for(var m=0;m<p;m++)s.forEach(f,function(t){t[m]()});for(d=0;d<n.length;d++)n[d].repositionX();return n},n.prototype._traceVisible=function(t,e,i,n,r){if(-1!=t){var o,s;for(o=t;o>=0&&!r(s=e[o]);o--)void 0===n[s.id]&&(n[s.id]=!0,i.push(s));for(o=t+1;o<e.length&&!r(s=e[o]);o++)void 0===n[s.id]&&(n[s.id]=!0,i.push(s))}},n.prototype._checkIfVisible=function(t,e,i){t.isVisible(i)?(t.displayed||t.show(),t.repositionX(),e.push(t)):t.displayed&&t.hide()},n.prototype._checkIfVisibleWithReference=function(t,e,i,n){t.isVisible(n)?void 0===i[t.id]&&(i[t.id]=!0,e.push(t)):t.displayed&&t.hide()},n.prototype.changeSubgroup=function(t,e,i){this._removeFromSubgroup(t,e),this._addToSubgroup(t,i),this.orderSubgroups()},t.exports=n},function(t,e,i){function n(t,e,i){s.call(this,t,e,i),this.width=0,this.height=0,this.top=0,this.left=0}var r=i(29),o=r&&r.__esModule?r:{default:r},s=i(68);(n.prototype=(0,o.default)(s.prototype)).redraw=function(t,e,i){this.visibleItems=this._updateItemsInRange(this.orderedItems,this.visibleItems,t),this.width=this.dom.background.offsetWidth,this.dom.background.style.height="0";for(var n=0,r=this.visibleItems.length;n<r;n++)this.visibleItems[n].repositionY(e);return!1},n.prototype.show=function(){this.dom.background.parentNode||this.itemSet.dom.background.appendChild(this.dom.background)},t.exports=n},function(t,e,i){function n(t,e,i){if(this.props={content:{width:0}},this.overflow=!1,this.options=i,t){if(null==t.start)throw new Error('Property "start" missing in item '+t.id);if(null==t.end)throw new Error('Property "end" missing in item '+t.id)}r.call(this,t,e,i)}var r=i(38);(n.prototype=new r(null,null,null)).baseClassName="vis-item vis-range",n.prototype.isVisible=function(t){return this.data.start<t.end&&this.data.end>t.start},n.prototype._createDomElement=function(){this.dom||(this.dom={},this.dom.box=document.createElement("div"),this.dom.frame=document.createElement("div"),this.dom.frame.className="vis-item-overflow",this.dom.box.appendChild(this.dom.frame),this.dom.visibleFrame=document.createElement("div"),this.dom.visibleFrame.className="vis-item-visible-frame",this.dom.box.appendChild(this.dom.visibleFrame),this.dom.content=document.createElement("div"),this.dom.content.className="vis-item-content",this.dom.frame.appendChild(this.dom.content),this.dom.box["timeline-item"]=this,this.dirty=!0)},n.prototype._appendDomElement=function(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.box.parentNode){var t=this.parent.dom.foreground;if(!t)throw new Error("Cannot redraw item: parent has no foreground container element");t.appendChild(this.dom.box)}this.displayed=!0},n.prototype._updateDirtyDomComponents=function(){this.dirty&&(this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.box),this._updateStyle(this.dom.box),this.dom.box.className=this.baseClassName+(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(this.editable.updateTime||this.editable.updateGroup?" vis-editable":" vis-readonly"),this.dom.content.style.maxWidth="none")},n.prototype._getDomComponentsSizes=function(){return this.overflow="hidden"!==window.getComputedStyle(this.dom.frame).overflow,{content:{width:this.dom.content.offsetWidth},box:{height:this.dom.box.offsetHeight}}},n.prototype._updateDomComponentsSizes=function(t){this.props.content.width=t.content.width,this.height=t.box.height,this.dom.content.style.maxWidth="",this.dirty=!1},n.prototype._repaintDomAdditionals=function(){this._repaintOnItemUpdateTimeTooltip(this.dom.box),this._repaintDeleteButton(this.dom.box),this._repaintDragCenter(),this._repaintDragLeft(),this._repaintDragRight()},n.prototype.redraw=function(t){var e,i,n=[this._createDomElement.bind(this),this._appendDomElement.bind(this),this._updateDirtyDomComponents.bind(this),(function(){this.dirty&&(e=this._getDomComponentsSizes.bind(this)())}).bind(this),(function(){this.dirty&&this._updateDomComponentsSizes.bind(this)(e)}).bind(this),this._repaintDomAdditionals.bind(this)];return t?n:(n.forEach(function(t){i=t()}),i)},n.prototype.show=function(){this.displayed||this.redraw()},n.prototype.hide=function(){if(this.displayed){var t=this.dom.box;t.parentNode&&t.parentNode.removeChild(t),this.displayed=!1}},n.prototype.repositionX=function(t){var e,i,n=this.parent.width,r=this.conversion.toScreen(this.data.start),o=this.conversion.toScreen(this.data.end),s=void 0===this.data.align?this.options.align:this.data.align;!1===this.data.limitSize||void 0!==t&&!0!==t||(r<-n&&(r=-n),o>2*n&&(o=2*n));var a=Math.max(o-r+.5,1);switch(this.overflow?(this.options.rtl?this.right=r:this.left=r,this.width=a+this.props.content.width,i=this.props.content.width):(this.options.rtl?this.right=r:this.left=r,this.width=a,i=Math.min(o-r,this.props.content.width)),this.options.rtl?this.dom.box.style.right=this.right+"px":this.dom.box.style.left=this.left+"px",this.dom.box.style.width=a+"px",s){case"left":this.options.rtl?this.dom.content.style.right="0":this.dom.content.style.left="0";break;case"right":this.options.rtl?this.dom.content.style.right=Math.max(a-i,0)+"px":this.dom.content.style.left=Math.max(a-i,0)+"px";break;case"center":this.options.rtl?this.dom.content.style.right=Math.max((a-i)/2,0)+"px":this.dom.content.style.left=Math.max((a-i)/2,0)+"px";break;default:e=this.overflow?o>0?Math.max(-r,0):-i:r<0?-r:0,this.options.rtl?this.dom.content.style.right=e+"px":(this.dom.content.style.left=e+"px",this.dom.content.style.width="calc(100% - "+e+"px)")}},n.prototype.repositionY=function(){this.dom.box.style.top="top"==this.options.orientation.item?this.top+"px":this.parent.height-this.top-this.height+"px"},n.prototype._repaintDragLeft=function(){if((this.selected||this.options.itemsAlwaysDraggable.range)&&this.options.editable.updateTime&&!this.dom.dragLeft){var t=document.createElement("div");t.className="vis-drag-left",t.dragLeftItem=this,this.dom.box.appendChild(t),this.dom.dragLeft=t}else this.selected||this.options.itemsAlwaysDraggable.range||!this.dom.dragLeft||(this.dom.dragLeft.parentNode&&this.dom.dragLeft.parentNode.removeChild(this.dom.dragLeft),this.dom.dragLeft=null)},n.prototype._repaintDragRight=function(){if((this.selected||this.options.itemsAlwaysDraggable.range)&&this.options.editable.updateTime&&!this.dom.dragRight){var t=document.createElement("div");t.className="vis-drag-right",t.dragRightItem=this,this.dom.box.appendChild(t),this.dom.dragRight=t}else this.selected||this.options.itemsAlwaysDraggable.range||!this.dom.dragRight||(this.dom.dragRight.parentNode&&this.dom.dragRight.parentNode.removeChild(this.dom.dragRight),this.dom.dragRight=null)},t.exports=n},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(19)),o=n(i(6)),s=n(i(0)),a=n(i(1)),h=i(2),l=i(179).default,d=function(){function t(e,i,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;(0,s.default)(this,t),this.parent=e,this.changedOptions=[],this.container=i,this.allowCreation=!1,this.options={},this.initialized=!1,this.popupCounter=0,this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},h.extend(this.options,this.defaultOptions),this.configureOptions=n,this.moduleOptions={},this.domElements=[],this.popupDiv={},this.popupLimit=5,this.popupHistory={},this.colorPicker=new l(r),this.wrapper=void 0}return(0,a.default)(t,[{key:"setOptions",value:function(t){if(void 0!==t){this.popupHistory={},this._removePopup();var e=!0;"string"==typeof t?this.options.filter=t:t instanceof Array?this.options.filter=t.join():"object"===(void 0===t?"undefined":(0,o.default)(t))?(void 0!==t.container&&(this.options.container=t.container),void 0!==t.filter&&(this.options.filter=t.filter),void 0!==t.showButton&&(this.options.showButton=t.showButton),void 0!==t.enabled&&(e=t.enabled)):"boolean"==typeof t?(this.options.filter=!0,e=t):"function"==typeof t&&(this.options.filter=t,e=!0),!1===this.options.filter&&(e=!1),this.options.enabled=e}this._clean()}},{key:"setModuleOptions",value:function(t){this.moduleOptions=t,!0===this.options.enabled&&(this._clean(),void 0!==this.options.container&&(this.container=this.options.container),this._create())}},{key:"_create",value:function(){var t=this;this._clean(),this.changedOptions=[];var e=this.options.filter,i=0,n=!1;for(var r in this.configureOptions)this.configureOptions.hasOwnProperty(r)&&(this.allowCreation=!1,n=!1,"function"==typeof e?n=(n=e(r,[]))||this._handleObject(this.configureOptions[r],[r],!0):!0!==e&&-1===e.indexOf(r)||(n=!0),!1!==n&&(this.allowCreation=!0,i>0&&this._makeItem([]),this._makeHeader(r),this._handleObject(this.configureOptions[r],[r])),i++);if(!0===this.options.showButton){var o=document.createElement("div");o.className="vis-configuration vis-config-button",o.innerHTML="generate options",o.onclick=function(){t._printOptions()},o.onmouseover=function(){o.className="vis-configuration vis-config-button hover"},o.onmouseout=function(){o.className="vis-configuration vis-config-button"},this.optionsContainer=document.createElement("div"),this.optionsContainer.className="vis-configuration vis-config-option-container",this.domElements.push(this.optionsContainer),this.domElements.push(o)}this._push()}},{key:"_push",value:function(){this.wrapper=document.createElement("div"),this.wrapper.className="vis-configuration-wrapper",this.container.appendChild(this.wrapper);for(var t=0;t<this.domElements.length;t++)this.wrapper.appendChild(this.domElements[t]);this._showPopupIfNeeded()}},{key:"_clean",value:function(){for(var t=0;t<this.domElements.length;t++)this.wrapper.removeChild(this.domElements[t]);void 0!==this.wrapper&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[],this._removePopup()}},{key:"_getValue",value:function(t){for(var e=this.moduleOptions,i=0;i<t.length;i++){if(void 0===e[t[i]]){e=void 0;break}e=e[t[i]]}return e}},{key:"_makeItem",value:function(t){if(!0===this.allowCreation){var e=document.createElement("div");e.className="vis-configuration vis-config-item vis-config-s"+t.length;for(var i=arguments.length,n=Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];return n.forEach(function(t){e.appendChild(t)}),this.domElements.push(e),this.domElements.length}return 0}},{key:"_makeHeader",value:function(t){var e=document.createElement("div");e.className="vis-configuration vis-config-header",e.innerHTML=t,this._makeItem([],e)}},{key:"_makeLabel",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=document.createElement("div");return n.className="vis-configuration vis-config-label vis-config-s"+e.length,n.innerHTML=!0===i?"<i><b>"+t+":</b></i>":t+":",n}},{key:"_makeDropdown",value:function(t,e,i){var n=document.createElement("select");n.className="vis-configuration vis-config-select";var r=0;void 0!==e&&-1!==t.indexOf(e)&&(r=t.indexOf(e));for(var o=0;o<t.length;o++){var s=document.createElement("option");s.value=t[o],o===r&&(s.selected="selected"),s.innerHTML=t[o],n.appendChild(s)}var a=this;n.onchange=function(){a._update(this.value,i)};var h=this._makeLabel(i[i.length-1],i);this._makeItem(i,h,n)}},{key:"_makeRange",value:function(t,e,i){var n=t[0],r=t[1],o=t[2],s=t[3],a=document.createElement("input");a.className="vis-configuration vis-config-range";try{a.type="range",a.min=r,a.max=o}catch(t){}a.step=s;var h="",l=0;void 0!==e?(e<0&&1.2*e<r?(a.min=Math.ceil(1.2*e),l=a.min,h="range increased"):e/1.2<r&&(a.min=Math.ceil(e/1.2),l=a.min,h="range increased"),1.2*e>o&&1!==o&&(a.max=Math.ceil(1.2*e),l=a.max,h="range increased"),a.value=e):a.value=n;var d=document.createElement("input");d.className="vis-configuration vis-config-rangeinput",d.value=a.value;var u=this;a.onchange=function(){d.value=this.value,u._update(Number(this.value),i)},a.oninput=function(){d.value=this.value};var c=this._makeLabel(i[i.length-1],i),f=this._makeItem(i,c,a,d);""!==h&&this.popupHistory[f]!==l&&(this.popupHistory[f]=l,this._setupPopup(h,f))}},{key:"_setupPopup",value:function(t,e){var i=this;if(!0===this.initialized&&!0===this.allowCreation&&this.popupCounter<this.popupLimit){var n=document.createElement("div");n.id="vis-configuration-popup",n.className="vis-configuration-popup",n.innerHTML=t,n.onclick=function(){i._removePopup()},this.popupCounter+=1,this.popupDiv={html:n,index:e}}}},{key:"_removePopup",value:function(){void 0!==this.popupDiv.html&&(this.popupDiv.html.parentNode.removeChild(this.popupDiv.html),clearTimeout(this.popupDiv.hideTimeout),clearTimeout(this.popupDiv.deleteTimeout),this.popupDiv={})}},{key:"_showPopupIfNeeded",value:function(){var t=this;if(void 0!==this.popupDiv.html){var e=this.domElements[this.popupDiv.index].getBoundingClientRect();this.popupDiv.html.style.left=e.left+"px",this.popupDiv.html.style.top=e.top-30+"px",document.body.appendChild(this.popupDiv.html),this.popupDiv.hideTimeout=setTimeout(function(){t.popupDiv.html.style.opacity=0},1500),this.popupDiv.deleteTimeout=setTimeout(function(){t._removePopup()},1800)}}},{key:"_makeCheckbox",value:function(t,e,i){var n=document.createElement("input");n.type="checkbox",n.className="vis-configuration vis-config-checkbox",n.checked=t,void 0!==e&&(n.checked=e,e!==t&&("object"===(void 0===t?"undefined":(0,o.default)(t))?e!==t.enabled&&this.changedOptions.push({path:i,value:e}):this.changedOptions.push({path:i,value:e})));var r=this;n.onchange=function(){r._update(this.checked,i)};var s=this._makeLabel(i[i.length-1],i);this._makeItem(i,s,n)}},{key:"_makeTextInput",value:function(t,e,i){var n=document.createElement("input");n.type="text",n.className="vis-configuration vis-config-text",n.value=e,e!==t&&this.changedOptions.push({path:i,value:e});var r=this;n.onchange=function(){r._update(this.value,i)};var o=this._makeLabel(i[i.length-1],i);this._makeItem(i,o,n)}},{key:"_makeColorField",value:function(t,e,i){var n=this,r=t[1],o=document.createElement("div");"none"!==(e=void 0===e?r:e)?(o.className="vis-configuration vis-config-colorBlock",o.style.backgroundColor=e):o.className="vis-configuration vis-config-colorBlock none",e=void 0===e?r:e,o.onclick=function(){n._showColorPicker(e,o,i)};var s=this._makeLabel(i[i.length-1],i);this._makeItem(i,s,o)}},{key:"_showColorPicker",value:function(t,e,i){var n=this;e.onclick=function(){},this.colorPicker.insertTo(e),this.colorPicker.show(),this.colorPicker.setColor(t),this.colorPicker.setUpdateCallback(function(t){var r="rgba("+t.r+","+t.g+","+t.b+","+t.a+")";e.style.backgroundColor=r,n._update(r,i)}),this.colorPicker.setCloseCallback(function(){e.onclick=function(){n._showColorPicker(t,e,i)}})}},{key:"_handleObject",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=!1,r=this.options.filter,o=!1;for(var s in t)if(t.hasOwnProperty(s)){n=!0;var a=t[s],l=h.copyAndExtendArray(e,s);if("function"==typeof r&&!1===(n=r(s,e))&&!(a instanceof Array)&&"string"!=typeof a&&"boolean"!=typeof a&&a instanceof Object&&(this.allowCreation=!1,n=this._handleObject(a,l,!0),this.allowCreation=!1===i),!1!==n){o=!0;var d=this._getValue(l);if(a instanceof Array)this._handleArray(a,d,l);else if("string"==typeof a)this._makeTextInput(a,d,l);else if("boolean"==typeof a)this._makeCheckbox(a,d,l);else if(a instanceof Object){var u=!0;if(-1!==e.indexOf("physics")&&this.moduleOptions.physics.solver!==s&&(u=!1),!0===u)if(void 0!==a.enabled){var c=h.copyAndExtendArray(l,"enabled"),f=this._getValue(c);if(!0===f){var p=this._makeLabel(s,l,!0);this._makeItem(l,p),o=this._handleObject(a,l)||o}else this._makeCheckbox(a,f,l)}else{var g=this._makeLabel(s,l,!0);this._makeItem(l,g),o=this._handleObject(a,l)||o}}else console.error("dont know how to handle",a,s,l)}}return o}},{key:"_handleArray",value:function(t,e,i){"string"==typeof t[0]&&"color"===t[0]?(this._makeColorField(t,e,i),t[1]!==e&&this.changedOptions.push({path:i,value:e})):"string"==typeof t[0]?(this._makeDropdown(t,e,i),t[0]!==e&&this.changedOptions.push({path:i,value:e})):"number"==typeof t[0]&&(this._makeRange(t,e,i),t[0]!==e&&this.changedOptions.push({path:i,value:Number(e)}))}},{key:"_update",value:function(t,e){var i=this._constructOptions(t,e);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",i),this.initialized=!0,this.parent.setOptions(i)}},{key:"_constructOptions",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=i;t="false"!==(t="true"===t||t)&&t;for(var r=0;r<e.length;r++)"global"!==e[r]&&(void 0===n[e[r]]&&(n[e[r]]={}),r!==e.length-1?n=n[e[r]]:n[e[r]]=t);return i}},{key:"_printOptions",value:function(){var t=this.getOptions();this.optionsContainer.innerHTML="<pre>var options = "+(0,r.default)(t,null,2)+"</pre>"}},{key:"getOptions",value:function(){for(var t={},e=0;e<this.changedOptions.length;e++)this._constructOptions(this.changedOptions[e].value,this.changedOptions[e].path,t);return t}}]),t}();e.default=d},function(t,e,i){function n(t,e){}function r(t,e){return{style:(e=void 0===e?{}:e).style||t.options.drawPoints.style,styles:e.styles||t.options.drawPoints.styles,size:e.size||t.options.drawPoints.size,className:e.className||t.className}}var o=i(6),s=o&&o.__esModule?o:{default:o},a=i(14);n.draw=function(t,e,i,n){n=n||0;for(var o=function(t,e){var i=void 0;return t.options&&t.options.drawPoints&&t.options.drawPoints.onRender&&"function"==typeof t.options.drawPoints.onRender&&(i=t.options.drawPoints.onRender),e.group.options&&e.group.options.drawPoints&&e.group.options.drawPoints.onRender&&"function"==typeof e.group.options.drawPoints.onRender&&(i=e.group.options.drawPoints.onRender),i}(i,e),h=0;h<t.length;h++)if(o){var l=o(t[h],e);!0!==l&&"object"!==(void 0===l?"undefined":(0,s.default)(l))||a.drawPoint(t[h].screen_x+n,t[h].screen_y,r(e,l),i.svgElements,i.svg,t[h].label)}else a.drawPoint(t[h].screen_x+n,t[h].screen_y,r(e),i.svgElements,i.svg,t[h].label)},n.drawIcon=function(t,e,i,n,o,s){var h=.5*o,l=a.getSVGElement("rect",s.svgElements,s.svg);l.setAttributeNS(null,"x",e),l.setAttributeNS(null,"y",i-h),l.setAttributeNS(null,"width",n),l.setAttributeNS(null,"height",2*h),l.setAttributeNS(null,"class","vis-outline"),a.drawPoint(e+.5*n,i,r(t),s.svgElements,s.svg)},t.exports=n},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(3)),o=n(i(0)),s=n(i(1)),a=n(i(4)),h=n(i(5)),l=n(i(23)),d=function(t){function e(t,i,n){(0,o.default)(this,e);var s=(0,a.default)(this,(e.__proto__||(0,r.default)(e)).call(this,t,i,n));return s.labelOffset=0,s.selected=!1,s}return(0,h.default)(e,l.default),(0,s.default)(e,[{key:"setOptions",value:function(t,e,i){this.options=t,void 0===e&&void 0===i||this.setImages(e,i)}},{key:"setImages",value:function(t,e){e&&this.selected?(this.imageObj=e,this.imageObjAlt=t):(this.imageObj=t,this.imageObjAlt=e)}},{key:"switchImages",value:function(t){var e=t&&!this.selected||!t&&this.selected;if(this.selected=t,void 0!==this.imageObjAlt&&e){var i=this.imageObj;this.imageObj=this.imageObjAlt,this.imageObjAlt=i}}},{key:"_resizeImage",value:function(){var t,e;if(!1===this.options.shapeProperties.useImageSize){var i=1,n=1;this.imageObj.width&&this.imageObj.height&&(this.imageObj.width>this.imageObj.height?i=this.imageObj.width/this.imageObj.height:n=this.imageObj.height/this.imageObj.width),t=2*this.options.size*i,e=2*this.options.size*n}else t=this.imageObj.width,e=this.imageObj.height;this.width=t,this.height=e,this.radius=.5*this.width}},{key:"_drawRawCircle",value:function(t,e,i,n){this.initContextForDraw(t,n),t.circle(e,i,n.size),this.performFill(t,n)}},{key:"_drawImageAtPosition",value:function(t,e){if(0!=this.imageObj.width){t.globalAlpha=1,this.enableShadow(t,e);var i=1;!0===this.options.shapeProperties.interpolation&&(i=this.imageObj.width/this.width/this.body.view.scale),this.imageObj.drawImageAtPosition(t,i,this.left,this.top,this.width,this.height),this.disableShadow(t,e)}}},{key:"_drawImageLabel",value:function(t,e,i,n,r){var o,s=0;if(void 0!==this.height){s=.5*this.height;var a=this.labelModule.getTextSize(t,n,r);a.lineCount>=1&&(s+=a.height/2)}o=i+s,this.options.label&&(this.labelOffset=s),this.labelModule.draw(t,e,o,n,r,"hanging")}}]),e}();e.default=d},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(19)),o=n(i(6)),s=n(i(29)),a=n(i(0)),h=n(i(1)),l=i(2),d=i(117).default,u=i(48).default,c=i(215).default,f=i(217).default,p=i(218).default,g=i(219).default,m=function(){function t(e,i,n,r){if((0,a.default)(this,t),void 0===i)throw new Error("No body provided");this.options=l.bridgeObject(n),this.globalOptions=n,this.defaultOptions=r,this.body=i,this.id=void 0,this.fromId=void 0,this.toId=void 0,this.selected=!1,this.hover=!1,this.labelDirty=!0,this.baseWidth=this.options.width,this.baseFontSize=this.options.font.size,this.from=void 0,this.to=void 0,this.edgeType=void 0,this.connected=!1,this.labelModule=new d(this.body,this.options,!0),this.setOptions(e)}return(0,h.default)(t,[{key:"setOptions",value:function(e){if(e){t.parseOptions(this.options,e,!0,this.globalOptions),void 0!==e.id&&(this.id=e.id),void 0!==e.from&&(this.fromId=e.from),void 0!==e.to&&(this.toId=e.to),void 0!==e.title&&(this.title=e.title),void 0!==e.value&&(e.value=parseFloat(e.value)),this.chooser=u.choosify("edge",[e,this.options,this.defaultOptions]),this.updateLabelModule(e);var i=this.updateEdgeType();return this._setInteractionWidths(),this.connect(),void 0===e.hidden&&void 0===e.physics||(i=!0),i}}},{key:"getFormattingValues",value:function(){var t=this.options.color.inherit,e={toArrow:!0===this.options.arrows.to||!0===this.options.arrows.to.enabled,toArrowScale:this.options.arrows.to.scaleFactor,toArrowType:this.options.arrows.to.type,middleArrow:!0===this.options.arrows.middle||!0===this.options.arrows.middle.enabled,middleArrowScale:this.options.arrows.middle.scaleFactor,middleArrowType:this.options.arrows.middle.type,fromArrow:!0===this.options.arrows.from||!0===this.options.arrows.from.enabled,fromArrowScale:this.options.arrows.from.scaleFactor,fromArrowType:this.options.arrows.from.type,arrowStrikethrough:this.options.arrowStrikethrough,color:t?void 0:this.options.color.color,inheritsColor:t,opacity:this.options.color.opacity,hidden:this.options.hidden,length:this.options.length,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y,dashes:this.options.dashes,width:this.options.width};if(this.selected||this.hover)if(!0===this.chooser){if(this.selected){var i=this.options.selectionWidth;"function"==typeof i?e.width=i(e.width):"number"==typeof i&&(e.width+=i),e.width=Math.max(e.width,.3/this.body.view.scale),e.color=this.options.color.highlight,e.shadow=this.options.shadow.enabled}else if(this.hover){var n=this.options.hoverWidth;"function"==typeof n?e.width=n(e.width):"number"==typeof n&&(e.width+=n),e.width=Math.max(e.width,.3/this.body.view.scale),e.color=this.options.color.hover,e.shadow=this.options.shadow.enabled}}else"function"==typeof this.chooser&&(this.chooser(e,this.options.id,this.selected,this.hover),void 0!==e.color&&(e.inheritsColor=!1),!1===e.shadow&&(e.shadowColor===this.options.shadow.color&&e.shadowSize===this.options.shadow.size&&e.shadowX===this.options.shadow.x&&e.shadowY===this.options.shadow.y||(e.shadow=!0)));else e.shadow=this.options.shadow.enabled,e.width=Math.max(e.width,.3/this.body.view.scale);return e}},{key:"updateLabelModule",value:function(t){this.labelModule.update(this.options,[t,this.options,this.globalOptions,this.defaultOptions]),void 0!==this.labelModule.baseSize&&(this.baseFontSize=this.labelModule.baseSize)}},{key:"updateEdgeType",value:function(){var t=this.options.smooth,e=!1,i=!0;return void 0!==this.edgeType&&((this.edgeType instanceof f&&!0===t.enabled&&"dynamic"===t.type||this.edgeType instanceof c&&!0===t.enabled&&"cubicBezier"===t.type||this.edgeType instanceof p&&!0===t.enabled&&"dynamic"!==t.type&&"cubicBezier"!==t.type||this.edgeType instanceof g&&!1===t.type.enabled)&&(i=!1),!0===i&&(e=this.cleanup())),!0===i?!0===t.enabled?"dynamic"===t.type?(e=!0,this.edgeType=new f(this.options,this.body,this.labelModule)):this.edgeType="cubicBezier"===t.type?new c(this.options,this.body,this.labelModule):new p(this.options,this.body,this.labelModule):this.edgeType=new g(this.options,this.body,this.labelModule):this.edgeType.setOptions(this.options),e}},{key:"connect",value:function(){this.disconnect(),this.from=this.body.nodes[this.fromId]||void 0,this.to=this.body.nodes[this.toId]||void 0,this.connected=void 0!==this.from&&void 0!==this.to,!0===this.connected?(this.from.attachEdge(this),this.to.attachEdge(this)):(this.from&&this.from.detachEdge(this),this.to&&this.to.detachEdge(this)),this.edgeType.connect()}},{key:"disconnect",value:function(){this.from&&(this.from.detachEdge(this),this.from=void 0),this.to&&(this.to.detachEdge(this),this.to=void 0),this.connected=!1}},{key:"getTitle",value:function(){return this.title}},{key:"isSelected",value:function(){return this.selected}},{key:"getValue",value:function(){return this.options.value}},{key:"setValueRange",value:function(t,e,i){if(void 0!==this.options.value){var n=this.options.scaling.customScalingFunction(t,e,i,this.options.value),r=this.options.scaling.max-this.options.scaling.min;!0===this.options.scaling.label.enabled&&(this.options.font.size=this.options.scaling.label.min+n*(this.options.scaling.label.max-this.options.scaling.label.min)),this.options.width=this.options.scaling.min+n*r}else this.options.width=this.baseWidth,this.options.font.size=this.baseFontSize;this._setInteractionWidths(),this.updateLabelModule()}},{key:"_setInteractionWidths",value:function(){this.edgeType.hoverWidth="function"==typeof this.options.hoverWidth?this.options.hoverWidth(this.options.width):this.options.hoverWidth+this.options.width,this.edgeType.selectionWidth="function"==typeof this.options.selectionWidth?this.options.selectionWidth(this.options.width):this.options.selectionWidth+this.options.width}},{key:"draw",value:function(t){var e=this.getFormattingValues();if(!e.hidden){var i=this.edgeType.getViaNode(),n={};this.edgeType.fromPoint=this.edgeType.from,this.edgeType.toPoint=this.edgeType.to,e.fromArrow&&(n.from=this.edgeType.getArrowData(t,"from",i,this.selected,this.hover,e),!1===e.arrowStrikethrough&&(this.edgeType.fromPoint=n.from.core)),e.toArrow&&(n.to=this.edgeType.getArrowData(t,"to",i,this.selected,this.hover,e),!1===e.arrowStrikethrough&&(this.edgeType.toPoint=n.to.core)),e.middleArrow&&(n.middle=this.edgeType.getArrowData(t,"middle",i,this.selected,this.hover,e)),this.edgeType.drawLine(t,e,this.selected,this.hover,i),this.drawArrows(t,n,e),this.drawLabel(t,i)}}},{key:"drawArrows",value:function(t,e,i){i.fromArrow&&this.edgeType.drawArrowHead(t,i,this.selected,this.hover,e.from),i.middleArrow&&this.edgeType.drawArrowHead(t,i,this.selected,this.hover,e.middle),i.toArrow&&this.edgeType.drawArrowHead(t,i,this.selected,this.hover,e.to)}},{key:"drawLabel",value:function(t,e){if(void 0!==this.options.label){var i=this.from,n=this.to;if(this.labelModule.differentState(this.selected,this.hover)&&this.labelModule.getTextSize(t,this.selected,this.hover),i.id!=n.id){this.labelModule.pointToSelf=!1;var r=this.edgeType.getPoint(.5,e);t.save();var o=this._getRotation(t);0!=o.angle&&(t.translate(o.x,o.y),t.rotate(o.angle)),this.labelModule.draw(t,r.x,r.y,this.selected,this.hover),t.restore()}else{this.labelModule.pointToSelf=!0;var s,a,h=this.options.selfReferenceSize;i.shape.width>i.shape.height?(s=i.x+.5*i.shape.width,a=i.y-h):(s=i.x+h,a=i.y-.5*i.shape.height),r=this._pointOnCircle(s,a,h,.125),this.labelModule.draw(t,r.x,r.y,this.selected,this.hover)}}}},{key:"getItemsOnPoint",value:function(t){var e=[];if(this.labelModule.visible()){var i=this._getRotation();u.pointInRect(this.labelModule.getSize(),t,i)&&e.push({edgeId:this.id,labelId:0})}return this.isOverlappingWith({left:t.x,top:t.y})&&e.push({edgeId:this.id}),e}},{key:"isOverlappingWith",value:function(t){return!!this.connected&&this.edgeType.getDistanceToEdge(this.from.x,this.from.y,this.to.x,this.to.y,t.left,t.top)<10}},{key:"_getRotation",value:function(t){var e=this.edgeType.getViaNode(),i=this.edgeType.getPoint(.5,e);void 0!==t&&this.labelModule.calculateLabelSize(t,this.selected,this.hover,i.x,i.y);var n={x:i.x,y:this.labelModule.size.yLine,angle:0};if(!this.labelModule.visible())return n;if("horizontal"===this.options.font.align)return n;var r=this.from.x-this.to.x,o=Math.atan2(this.from.y-this.to.y,r);return(o<-1&&r<0||o>0&&r<0)&&(o+=Math.PI),n.angle=o,n}},{key:"_pointOnCircle",value:function(t,e,i,n){var r=2*n*Math.PI;return{x:t+i*Math.cos(r),y:e-i*Math.sin(r)}}},{key:"select",value:function(){this.selected=!0}},{key:"unselect",value:function(){this.selected=!1}},{key:"cleanup",value:function(){return this.edgeType.cleanup()}},{key:"remove",value:function(){this.cleanup(),this.disconnect(),delete this.body.edges[this.id]}},{key:"endPointsValid",value:function(){return void 0!==this.body.nodes[this.fromId]&&void 0!==this.body.nodes[this.toId]}}],[{key:"parseOptions",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],h=["arrowStrikethrough","id","from","hidden","hoverWidth","labelHighlightBold","length","line","opacity","physics","scaling","selectionWidth","selfReferenceSize","to","title","value","width","font","chosen","widthConstraint"];if(l.selectiveDeepExtend(h,t,e,i),t.label=u.isValidLabel(e.label)?e.label:void 0,l.mergeOptions(t,e,"smooth",n),l.mergeOptions(t,e,"shadow",n),null!=e.dashes?t.dashes=e.dashes:!0===i&&null===e.dashes&&(t.dashes=(0,s.default)(n.dashes)),null!=e.scaling?(void 0!==e.scaling.min&&(t.scaling.min=e.scaling.min),void 0!==e.scaling.max&&(t.scaling.max=e.scaling.max),l.mergeOptions(t.scaling,e.scaling,"label",n.scaling)):!0===i&&null===e.scaling&&(t.scaling=(0,s.default)(n.scaling)),null!=e.arrows)if("string"==typeof e.arrows){var d=e.arrows.toLowerCase();t.arrows.to.enabled=-1!=d.indexOf("to"),t.arrows.middle.enabled=-1!=d.indexOf("middle"),t.arrows.from.enabled=-1!=d.indexOf("from")}else{if("object"!==(0,o.default)(e.arrows))throw new Error("The arrow newOptions can only be an object or a string. Refer to the documentation. You used:"+(0,r.default)(e.arrows));l.mergeOptions(t.arrows,e.arrows,"to",n.arrows),l.mergeOptions(t.arrows,e.arrows,"middle",n.arrows),l.mergeOptions(t.arrows,e.arrows,"from",n.arrows)}else!0===i&&null===e.arrows&&(t.arrows=(0,s.default)(n.arrows));if(null!=e.color){var c=e.color,f=t.color;if(a)l.deepExtend(f,n.color,!1,i);else for(var p in f)f.hasOwnProperty(p)&&delete f[p];if(l.isString(f))f.color=f,f.highlight=f,f.hover=f,f.inherit=!1,void 0===c.opacity&&(f.opacity=1);else{var g=!1;void 0!==c.color&&(f.color=c.color,g=!0),void 0!==c.highlight&&(f.highlight=c.highlight,g=!0),void 0!==c.hover&&(f.hover=c.hover,g=!0),void 0!==c.inherit&&(f.inherit=c.inherit),void 0!==c.opacity&&(f.opacity=Math.min(1,Math.max(0,c.opacity))),!0===g?f.inherit=!1:void 0===f.inherit&&(f.inherit="from")}}else!0===i&&null===e.color&&(t.color=l.bridgeObject(n.color));!0===i&&null===e.font&&(t.font=l.bridgeObject(n.font))}}]),t}();e.default=m},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(3)),o=n(i(0)),s=n(i(1)),a=n(i(4)),h=n(i(5)),l=n(i(118)),d=function(t){function e(t,i,n){return(0,o.default)(this,e),(0,a.default)(this,(e.__proto__||(0,r.default)(e)).call(this,t,i,n))}return(0,h.default)(e,l.default),(0,s.default)(e,[{key:"_findBorderPositionBezier",value:function(t,e){var i,n,r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this._getViaCoordinates(),s=0,a=0,h=1,l=this.to,d=!1;for(t.id===this.from.id&&(l=this.from,d=!0);a<=h&&s<10;){var u=.5*(a+h);if(i=this.getPoint(u,o),n=Math.atan2(l.y-i.y,l.x-i.x),r=l.distanceToBorder(e,n)-Math.sqrt(Math.pow(i.x-l.x,2)+Math.pow(i.y-l.y,2)),Math.abs(r)<.2)break;r<0?!1===d?a=u:h=u:!1===d?h=u:a=u,s++}return i.t=u,i}},{key:"_getDistanceToBezierEdge",value:function(t,e,i,n,r,o,s){var a=1e9,h=void 0,l=void 0,d=void 0,u=void 0,c=void 0,f=t,p=e;for(l=1;l<10;l++)d=.1*l,u=Math.pow(1-d,2)*t+2*d*(1-d)*s.x+Math.pow(d,2)*i,c=Math.pow(1-d,2)*e+2*d*(1-d)*s.y+Math.pow(d,2)*n,l>0&&(a=(h=this._getDistanceToLine(f,p,u,c,r,o))<a?h:a),f=u,p=c;return a}},{key:"_bezierCurve",value:function(t,e,i,n){var r=void 0!==i&&void 0!==i.x,o=void 0!==n&&void 0!==n.x;t.beginPath(),t.moveTo(this.fromPoint.x,this.fromPoint.y),r&&o?t.bezierCurveTo(i.x,i.y,n.x,n.y,this.toPoint.x,this.toPoint.y):r?t.quadraticCurveTo(i.x,i.y,this.toPoint.x,this.toPoint.y):t.lineTo(this.toPoint.x,this.toPoint.y),this.enableShadow(t,e),t.stroke(),this.disableShadow(t,e)}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}}]),e}();e.default=d},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(0)),o=n(i(1)),s=i(2),a=function(){function t(){(0,r.default)(this,t)}return(0,o.default)(t,null,[{key:"getRange",value:function(t){var e,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=1e9,r=-1e9,o=1e9,s=-1e9;if(i.length>0)for(var a=0;a<i.length;a++)o>(e=t[i[a]]).shape.boundingBox.left&&(o=e.shape.boundingBox.left),s<e.shape.boundingBox.right&&(s=e.shape.boundingBox.right),n>e.shape.boundingBox.top&&(n=e.shape.boundingBox.top),r<e.shape.boundingBox.bottom&&(r=e.shape.boundingBox.bottom);return 1e9===o&&-1e9===s&&1e9===n&&-1e9===r&&(n=0,r=0,o=0,s=0),{minX:o,maxX:s,minY:n,maxY:r}}},{key:"getRangeCore",value:function(t){var e,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=1e9,r=-1e9,o=1e9,s=-1e9;if(i.length>0)for(var a=0;a<i.length;a++)o>(e=t[i[a]]).x&&(o=e.x),s<e.x&&(s=e.x),n>e.y&&(n=e.y),r<e.y&&(r=e.y);return 1e9===o&&-1e9===s&&1e9===n&&-1e9===r&&(n=0,r=0,o=0,s=0),{minX:o,maxX:s,minY:n,maxY:r}}},{key:"findCenter",value:function(t){return{x:.5*(t.maxX+t.minX),y:.5*(t.maxY+t.minY)}}},{key:"cloneOptions",value:function(t,e){var i={};return void 0===e||"node"===e?(s.deepExtend(i,t.options,!0),i.x=t.x,i.y=t.y,i.amountOfConnections=t.edges.length):s.deepExtend(i,t.options,!0),i}}]),t}();e.default=a},function(t,e,i){t.exports={default:i(124),__esModule:!0}},function(t,e,i){var n=i(50);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==n(t)?t.split(""):Object(t)}},function(t,e,i){var n=i(52),r=i(17),o=i(83),s=i(26),a=i(22),h=i(31),l=i(129),d=i(59),u=i(85),c=i(13)("iterator"),f=!([].keys&&"next"in[].keys()),p=function(){return this};t.exports=function(t,e,i,g,m,v,y){l(i,e,g);var b,w,x,_=function(t){if(!f&&t in C)return C[t];switch(t){case"keys":case"values":return function(){return new i(this,t)}}return function(){return new i(this,t)}},k=e+" Iterator",S="values"==m,M=!1,C=t.prototype,E=C[c]||C["@@iterator"]||m&&C[m],N=E||_(m),A=m?S?_("entries"):N:void 0,D="Array"==e&&C.entries||E;if(D&&(x=u(D.call(new t)))!==Object.prototype&&x.next&&(d(x,k,!0),n||a(x,c)||s(x,c,p)),S&&E&&"values"!==E.name&&(M=!0,N=function(){return E.call(this)}),n&&!y||!f&&!M&&C[c]||s(C,c,N),h[e]=N,h[k]=p,m)if(b={values:S?N:_("values"),keys:v?N:_("keys"),entries:A},y)for(w in b)w in C||o(C,w,b[w]);else r(r.P+r.F*(f||M),e,b);return b}},function(t,e,i){var n=i(128);t.exports=function(t,e,i){if(n(t),void 0===e)return t;switch(i){case 1:return function(i){return t.call(e,i)};case 2:return function(i,n){return t.call(e,i,n)};case 3:return function(i,n,r){return t.call(e,i,n,r)}}return function(){return t.apply(e,arguments)}}},function(t,e,i){t.exports=!i(21)&&!i(28)(function(){return 7!=Object.defineProperty(i(82)("div"),"a",{get:function(){return 7}}).a})},function(t,e,i){var n=i(32),r=i(18).document,o=n(r)&&n(r.createElement);t.exports=function(t){return o?r.createElement(t):{}}},function(t,e,i){t.exports=i(26)},function(t,e,i){var n=i(22),r=i(25),o=i(131)(!1),s=i(56)("IE_PROTO");t.exports=function(t,e){var i,a=r(t),h=0,l=[];for(i in a)i!=s&&n(a,i)&&l.push(i);for(;e.length>h;)n(a,i=e[h++])&&(~o(l,i)||l.push(i));return l}},function(t,e,i){var n=i(22),r=i(41),o=i(56)("IE_PROTO"),s=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=r(t),n(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?s:null}},function(t,e,i){var n=i(50),r=i(13)("toStringTag"),o="Arguments"==n(function(){return arguments}());t.exports=function(t){var e,i,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(i=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),r))?i:o?n(e):"Object"==(s=n(e))&&"function"==typeof e.callee?"Arguments":s}},function(t,e,i){var n=i(17),r=i(7),o=i(28);t.exports=function(t,e){var i=(r.Object||{})[t]||Object[t],s={};s[t]=e(i),n(n.S+n.F*o(function(){i(1)}),"Object",s)}},function(t,e,i){var n=i(84),r=i(58).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,r)}},function(t,e,i){var n=i(42),r=i(39),o=i(25),s=i(53),a=i(22),h=i(81),l=Object.getOwnPropertyDescriptor;e.f=i(21)?l:function(t,e){if(t=o(t),e=s(e,!0),h)try{return l(t,e)}catch(t){}if(a(t,e))return r(!n.f.call(t,e),t[e])}},function(t,e,i){t.exports={default:i(162),__esModule:!0}},function(t,e,i){t.exports=function(t,e){this.x=void 0!==t?t:0,this.y=void 0!==e?e:0}},function(t,e,i){function n(t,e){if(void 0===t)throw new Error("No container element defined");if(this.container=t,this.visible=!e||null==e.visible||e.visible,this.visible){this.frame=document.createElement("DIV"),this.frame.style.width="100%",this.frame.style.position="relative",this.container.appendChild(this.frame),this.frame.prev=document.createElement("INPUT"),this.frame.prev.type="BUTTON",this.frame.prev.value="Prev",this.frame.appendChild(this.frame.prev),this.frame.play=document.createElement("INPUT"),this.frame.play.type="BUTTON",this.frame.play.value="Play",this.frame.appendChild(this.frame.play),this.frame.next=document.createElement("INPUT"),this.frame.next.type="BUTTON",this.frame.next.value="Next",this.frame.appendChild(this.frame.next),this.frame.bar=document.createElement("INPUT"),this.frame.bar.type="BUTTON",this.frame.bar.style.position="absolute",this.frame.bar.style.border="1px solid red",this.frame.bar.style.width="100px",this.frame.bar.style.height="6px",this.frame.bar.style.borderRadius="2px",this.frame.bar.style.MozBorderRadius="2px",this.frame.bar.style.border="1px solid #7F7F7F",this.frame.bar.style.backgroundColor="#E5E5E5",this.frame.appendChild(this.frame.bar),this.frame.slide=document.createElement("INPUT"),this.frame.slide.type="BUTTON",this.frame.slide.style.margin="0px",this.frame.slide.value=" ",this.frame.slide.style.position="relative",this.frame.slide.style.left="-100px",this.frame.appendChild(this.frame.slide);var i=this;this.frame.slide.onmousedown=function(t){i._onMouseDown(t)},this.frame.prev.onclick=function(t){i.prev(t)},this.frame.play.onclick=function(t){i.togglePlay(t)},this.frame.next.onclick=function(t){i.next(t)}}this.onChangeCallback=void 0,this.values=[],this.index=void 0,this.playTimeout=void 0,this.playInterval=1e3,this.playLoop=!0}var r=i(2);n.prototype.prev=function(){var t=this.getIndex();t>0&&this.setIndex(--t)},n.prototype.next=function(){var t=this.getIndex();t<this.values.length-1&&this.setIndex(++t)},n.prototype.playNext=function(){var t=new Date,e=this.getIndex();e<this.values.length-1?this.setIndex(++e):this.playLoop&&this.setIndex(e=0);var i=new Date,n=Math.max(this.playInterval-(i-t),0),r=this;this.playTimeout=setTimeout(function(){r.playNext()},n)},n.prototype.togglePlay=function(){void 0===this.playTimeout?this.play():this.stop()},n.prototype.play=function(){this.playTimeout||(this.playNext(),this.frame&&(this.frame.play.value="Stop"))},n.prototype.stop=function(){clearInterval(this.playTimeout),this.playTimeout=void 0,this.frame&&(this.frame.play.value="Play")},n.prototype.setOnChangeCallback=function(t){this.onChangeCallback=t},n.prototype.setPlayInterval=function(t){this.playInterval=t},n.prototype.getPlayInterval=function(){return this.playInterval},n.prototype.setPlayLoop=function(t){this.playLoop=t},n.prototype.onChange=function(){void 0!==this.onChangeCallback&&this.onChangeCallback()},n.prototype.redraw=function(){if(this.frame){this.frame.bar.style.top=this.frame.clientHeight/2-this.frame.bar.offsetHeight/2+"px",this.frame.bar.style.width=this.frame.clientWidth-this.frame.prev.clientWidth-this.frame.play.clientWidth-this.frame.next.clientWidth-30+"px";var t=this.indexToLeft(this.index);this.frame.slide.style.left=t+"px"}},n.prototype.setValues=function(t){this.values=t,this.values.length>0?this.setIndex(0):this.index=void 0},n.prototype.setIndex=function(t){if(!(t<this.values.length))throw new Error("Index out of range");this.index=t,this.redraw(),this.onChange()},n.prototype.getIndex=function(){return this.index},n.prototype.get=function(){return this.values[this.index]},n.prototype._onMouseDown=function(t){if(t.which?1===t.which:1===t.button){this.startClientX=t.clientX,this.startSlideX=parseFloat(this.frame.slide.style.left),this.frame.style.cursor="move";var e=this;this.onmousemove=function(t){e._onMouseMove(t)},this.onmouseup=function(t){e._onMouseUp(t)},r.addEventListener(document,"mousemove",this.onmousemove),r.addEventListener(document,"mouseup",this.onmouseup),r.preventDefault(t)}},n.prototype.leftToIndex=function(t){var e=parseFloat(this.frame.bar.style.width)-this.frame.slide.clientWidth-10,i=Math.round((t-3)/e*(this.values.length-1));return i<0&&(i=0),i>this.values.length-1&&(i=this.values.length-1),i},n.prototype.indexToLeft=function(t){var e=parseFloat(this.frame.bar.style.width)-this.frame.slide.clientWidth-10;return t/(this.values.length-1)*e+3},n.prototype._onMouseMove=function(t){var e=this.leftToIndex(this.startSlideX+(t.clientX-this.startClientX));this.setIndex(e),r.preventDefault()},n.prototype._onMouseUp=function(t){this.frame.style.cursor="auto",r.removeEventListener(document,"mousemove",this.onmousemove),r.removeEventListener(document,"mouseup",this.onmouseup),r.preventDefault()},t.exports=n},function(t,e,i){function n(t,e,i,n){this._start=0,this._end=0,this._step=1,this.prettyStep=!0,this.precision=5,this._current=0,this.setRange(t,e,i,n)}n.prototype.isNumeric=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},n.prototype.setRange=function(t,e,i,n){if(!this.isNumeric(t))throw new Error("Parameter 'start' is not numeric; value: "+t);if(!this.isNumeric(e))throw new Error("Parameter 'end' is not numeric; value: "+t);if(!this.isNumeric(i))throw new Error("Parameter 'step' is not numeric; value: "+t);this._start=t||0,this._end=e||0,this.setStep(i,n)},n.prototype.setStep=function(t,e){void 0===t||t<=0||(void 0!==e&&(this.prettyStep=e),this._step=!0===this.prettyStep?n.calculatePrettyStep(t):t)},n.calculatePrettyStep=function(t){var e=function(t){return Math.log(t)/Math.LN10},i=Math.pow(10,Math.round(e(t))),n=2*Math.pow(10,Math.round(e(t/2))),r=5*Math.pow(10,Math.round(e(t/5))),o=i;return Math.abs(n-t)<=Math.abs(o-t)&&(o=n),Math.abs(r-t)<=Math.abs(o-t)&&(o=r),o<=0&&(o=1),o},n.prototype.getCurrent=function(){return parseFloat(this._current.toPrecision(this.precision))},n.prototype.getStep=function(){return this._step},n.prototype.start=function(t){void 0===t&&(t=!1),this._current=this._start-this._start%this._step,t&&this.getCurrent()<this._start&&this.next()},n.prototype.next=function(){this._current+=this._step},n.prototype.end=function(){return this._current>this._end},t.exports=n},function(t,e,i){function n(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}function r(t,e){return void 0===t||""===t?e:t+function(t){return void 0===t||""===t||"string"!=typeof t?t:t.charAt(0).toUpperCase()+t.slice(1)}(e)}function o(t,e,i,n){for(var o,s=0;s<i.length;++s)e[r(n,o=i[s])]=t[o]}function s(t,e,i,n){for(var o,s=0;s<i.length;++s)void 0!==t[o=i[s]]&&(e[r(n,o)]=t[o])}function a(t,e){void 0!==t.backgroundColor&&function(t,e){var i="white",n="gray",r=1;if("string"==typeof t)i=t,n="none",r=0;else{if("object"!==(void 0===t?"undefined":(0,d.default)(t)))throw new Error("Unsupported type of backgroundColor");void 0!==t.fill&&(i=t.fill),void 0!==t.stroke&&(n=t.stroke),void 0!==t.strokeWidth&&(r=t.strokeWidth)}e.frame.style.backgroundColor=i,e.frame.style.borderColor=n,e.frame.style.borderWidth=r+"px",e.frame.style.borderStyle="solid"}(t.backgroundColor,e),function(t,e){void 0!==t&&(void 0===e.dataColor&&(e.dataColor={}),"string"==typeof t?(e.dataColor.fill=t,e.dataColor.stroke=t):(t.fill&&(e.dataColor.fill=t.fill),t.stroke&&(e.dataColor.stroke=t.stroke),void 0!==t.strokeWidth&&(e.dataColor.strokeWidth=t.strokeWidth)))}(t.dataColor,e),function(t,e){if(void 0!==t){var i;if("string"==typeof t){if(-1===(i=function(t){var e=g[t];return void 0===e?-1:e}(t)))throw new Error("Style '"+t+"' is invalid")}else{if(!function(t){var e=!1;for(var i in p)if(p[i]===t){e=!0;break}return e}(t))throw new Error("Style '"+t+"' is invalid");i=t}e.style=i}}(t.style,e),function(t,e){void 0===t?void 0===y.showLegend&&(e.showLegend=e.style===p.DOTCOLOR||e.style===p.DOTSIZE):e.showLegend=t}(t.showLegend,e),h(t.cameraPosition,e),void 0!==t.tooltip&&(e.showTooltip=t.tooltip),null!=t.onclick&&(e.onclick_callback=t.onclick),void 0!==t.tooltipStyle&&u.selectiveDeepExtend(["tooltipStyle"],e,t)}function h(t,e){var i=t;void 0!==i&&(void 0===e.camera&&(e.camera=new c),e.camera.setArmRotation(i.horizontal,i.vertical),e.camera.setArmLength(i.distance))}var l=i(6),d=l&&l.__esModule?l:{default:l},u=i(2),c=i(95),f=i(34),p={BAR:0,BARCOLOR:1,BARSIZE:2,DOT:3,DOTLINE:4,DOTCOLOR:5,DOTSIZE:6,GRID:7,LINE:8,SURFACE:9},g={dot:p.DOT,"dot-line":p.DOTLINE,"dot-color":p.DOTCOLOR,"dot-size":p.DOTSIZE,line:p.LINE,grid:p.GRID,surface:p.SURFACE,bar:p.BAR,"bar-color":p.BARCOLOR,"bar-size":p.BARSIZE},m=["width","height","filterLabel","legendLabel","xLabel","yLabel","zLabel","xValueLabel","yValueLabel","zValueLabel","showXAxis","showYAxis","showZAxis","showGrid","showPerspective","showShadow","keepAspectRatio","verticalRatio","dotSizeRatio","dotSizeMinFraction","dotSizeMaxFraction","showAnimationControls","animationInterval","animationPreload","animationAutoStart","axisColor","gridColor","xCenter","yCenter"],v=["xBarWidth","yBarWidth","valueMin","valueMax","xMin","xMax","xStep","yMin","yMax","yStep","zMin","zMax","zStep"],y=void 0;t.exports.STYLE=p,t.exports.setDefaults=function(t,e){if(void 0===t||n(t))throw new Error("No DEFAULTS passed");if(void 0===e)throw new Error("No dst passed");y=t,o(t,e,m),o(t,e,v,"default"),a(t,e),e.margin=10,e.showGrayBottom=!1,e.showTooltip=!1,e.onclick_callback=null,e.eye=new f(0,0,-1)},t.exports.setOptions=function(t,e){if(void 0!==t){if(void 0===e)throw new Error("No dst passed");if(void 0===y||n(y))throw new Error("DEFAULTS not set for module Settings");s(t,e,m),s(t,e,v,"default"),a(t,e)}},t.exports.setCameraPosition=h},function(t,e,i){function n(){this.armLocation=new s,this.armRotation={},this.armRotation.horizontal=0,this.armRotation.vertical=0,this.armLength=1.7,this.cameraOffset=new s,this.offsetMultiplier=.6,this.cameraLocation=new s,this.cameraRotation=new s(.5*Math.PI,0,0),this.calculateCameraOrientation()}var r=i(165),o=r&&r.__esModule?r:{default:r},s=i(34);n.prototype.setOffset=function(t,e){var i=Math.abs,n=o.default,r=this.armLength*this.offsetMultiplier;i(t)>r&&(t=n(t)*r),i(e)>r&&(e=n(e)*r),this.cameraOffset.x=t,this.cameraOffset.y=e,this.calculateCameraOrientation()},n.prototype.getOffset=function(){return this.cameraOffset},n.prototype.setArmLocation=function(t,e,i){this.armLocation.x=t,this.armLocation.y=e,this.armLocation.z=i,this.calculateCameraOrientation()},n.prototype.setArmRotation=function(t,e){void 0!==t&&(this.armRotation.horizontal=t),void 0!==e&&(this.armRotation.vertical=e,this.armRotation.vertical<0&&(this.armRotation.vertical=0),this.armRotation.vertical>.5*Math.PI&&(this.armRotation.vertical=.5*Math.PI)),void 0===t&&void 0===e||this.calculateCameraOrientation()},n.prototype.getArmRotation=function(){var t={};return t.horizontal=this.armRotation.horizontal,t.vertical=this.armRotation.vertical,t},n.prototype.setArmLength=function(t){void 0!==t&&(this.armLength=t,this.armLength<.71&&(this.armLength=.71),this.armLength>5&&(this.armLength=5),this.setOffset(this.cameraOffset.x,this.cameraOffset.y),this.calculateCameraOrientation())},n.prototype.getArmLength=function(){return this.armLength},n.prototype.getCameraLocation=function(){return this.cameraLocation},n.prototype.getCameraRotation=function(){return this.cameraRotation},n.prototype.calculateCameraOrientation=function(){this.cameraLocation.x=this.armLocation.x-this.armLength*Math.sin(this.armRotation.horizontal)*Math.cos(this.armRotation.vertical),this.cameraLocation.y=this.armLocation.y-this.armLength*Math.cos(this.armRotation.horizontal)*Math.cos(this.armRotation.vertical),this.cameraLocation.z=this.armLocation.z+this.armLength*Math.sin(this.armRotation.vertical),this.cameraRotation.x=Math.PI/2-this.armRotation.vertical,this.cameraRotation.y=0,this.cameraRotation.z=-this.armRotation.horizontal;var t=this.cameraRotation.x,e=this.cameraRotation.z,i=this.cameraOffset.x,n=this.cameraOffset.y,r=Math.sin,o=Math.cos;this.cameraLocation.x=this.cameraLocation.x+i*o(e)+n*-r(e)*o(t),this.cameraLocation.y=this.cameraLocation.y+i*r(e)+n*o(e)*o(t),this.cameraLocation.z=this.cameraLocation.z+n*r(t)},t.exports=n},function(t,e,i){function n(t,e,i){this.dataGroup=t,this.column=e,this.graph=i,this.index=void 0,this.value=void 0,this.values=t.getDistinctValues(this.column),this.values.length>0&&this.selectValue(0),this.dataPoints=[],this.loaded=!1,this.onLoadCallback=void 0,i.animationPreload?(this.loaded=!1,this.loadInBackground()):this.loaded=!0}var r=i(12);n.prototype.isLoaded=function(){return this.loaded},n.prototype.getLoadedProgress=function(){for(var t=this.values.length,e=0;this.dataPoints[e];)e++;return Math.round(e/t*100)},n.prototype.getLabel=function(){return this.graph.filterLabel},n.prototype.getColumn=function(){return this.column},n.prototype.getSelectedValue=function(){if(void 0!==this.index)return this.values[this.index]},n.prototype.getValues=function(){return this.values},n.prototype.getValue=function(t){if(t>=this.values.length)throw new Error("Index out of range");return this.values[t]},n.prototype._getDataPoints=function(t){if(void 0===t&&(t=this.index),void 0===t)return[];var e;if(this.dataPoints[t])e=this.dataPoints[t];else{var i={};i.column=this.column,i.value=this.values[t];var n=new r(this.dataGroup.getDataSet(),{filter:function(t){return t[i.column]==i.value}}).get();e=this.dataGroup._getDataPoints(n),this.dataPoints[t]=e}return e},n.prototype.setOnLoadCallback=function(t){this.onLoadCallback=t},n.prototype.selectValue=function(t){if(t>=this.values.length)throw new Error("Index out of range");this.index=t,this.value=this.values[t]},n.prototype.loadInBackground=function(t){void 0===t&&(t=0);var e=this.graph.frame;if(t<this.values.length){void 0===e.progress&&(e.progress=document.createElement("DIV"),e.progress.style.position="absolute",e.progress.style.color="gray",e.appendChild(e.progress));var i=this.getLoadedProgress();e.progress.innerHTML="Loading animation... "+i+"%",e.progress.style.bottom="60px",e.progress.style.left="10px";var n=this;setTimeout(function(){n.loadInBackground(t+1)},10),this.loaded=!1}else this.loaded=!0,void 0!==e.progress&&(e.removeChild(e.progress),e.progress=void 0),this.onLoadCallback&&this.onLoadCallback()},t.exports=n},function(t,e,i){function n(t){this.active=!1,this.dom={container:t},this.dom.overlay=document.createElement("div"),this.dom.overlay.className="vis-overlay",this.dom.container.appendChild(this.dom.overlay),this.hammer=s(this.dom.overlay),this.hammer.on("tap",this._onTapOverlay.bind(this));var e=this;["tap","doubletap","press","pinch","pan","panstart","panmove","panend"].forEach(function(t){e.hammer.on(t,function(t){t.stopPropagation()})}),document&&document.body&&(this.onClick=function(i){(function(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1})(i.target,t)||e.deactivate()},document.body.addEventListener("click",this.onClick)),void 0!==this.keycharm&&this.keycharm.destroy(),this.keycharm=r(),this.escListener=this.deactivate.bind(this)}var r=i(35),o=i(44),s=i(10),a=i(2);o(n.prototype),n.current=null,n.prototype.destroy=function(){this.deactivate(),this.dom.overlay.parentNode.removeChild(this.dom.overlay),this.onClick&&document.body.removeEventListener("click",this.onClick),this.hammer.destroy(),this.hammer=null},n.prototype.activate=function(){n.current&&n.current.deactivate(),n.current=this,this.active=!0,this.dom.overlay.style.display="none",a.addClassName(this.dom.container,"vis-active"),this.emit("change"),this.emit("activate"),this.keycharm.bind("esc",this.escListener)},n.prototype.deactivate=function(){this.active=!1,this.dom.overlay.style.display="",a.removeClassName(this.dom.container,"vis-active"),this.keycharm.unbind("esc",this.escListener),this.emit("change"),this.emit("deactivate")},n.prototype._onTapOverlay=function(t){this.activate(),t.stopPropagation()},t.exports=n},function(t,e,i){e.en={current:"current",time:"time"},e.en_EN=e.en,e.en_US=e.en,e.it={current:"attuale",time:"tempo"},e.it_IT=e.it,e.it_CH=e.it,e.nl={current:"huidige",time:"tijd"},e.nl_NL=e.nl,e.nl_BE=e.nl,e.de={current:"Aktuelle",time:"Zeit"},e.de_DE=e.de,e.fr={current:"actuel",time:"heure"},e.fr_FR=e.fr,e.fr_CA=e.fr,e.fr_BE=e.fr,e.es={current:"corriente",time:"hora"},e.es_ES=e.es},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){this.body=t,this.defaultOptions={type:null,orientation:{item:"bottom"},align:"auto",stack:!0,stackSubgroups:!0,groupOrderSwap:function(t,e,i){var n=e.order;e.order=t.order,t.order=n},groupOrder:"order",selectable:!0,multiselect:!1,itemsAlwaysDraggable:{item:!1,range:!1},editable:{updateTime:!1,updateGroup:!1,add:!1,remove:!1,overrideItems:!1},groupEditable:{order:!1,add:!1,remove:!1},snap:u.snap,onDropObjectOnItem:function(t,e,i){i(e)},onAdd:function(t,e){e(t)},onUpdate:function(t,e){e(t)},onMove:function(t,e){e(t)},onRemove:function(t,e){e(t)},onMoving:function(t,e){e(t)},onAddGroup:function(t,e){e(t)},onMoveGroup:function(t,e){e(t)},onRemoveGroup:function(t,e){e(t)},margin:{item:{horizontal:10,vertical:10},axis:20},showTooltips:!0,tooltip:{followMouse:!1,overflowMethod:"flip"},tooltipOnItemUpdateTime:!1},this.options=h.extend({},this.defaultOptions),this.options.rtl=e.rtl,this.itemOptions={type:{start:"Date",end:"Date"}},this.conversion={toScreen:t.util.toScreen,toTime:t.util.toTime},this.dom={},this.props={},this.hammer=null;var i=this;this.itemsData=null,this.groupsData=null,this.itemListeners={add:function(t,e,n){i._onAdd(e.items)},update:function(t,e,n){i._onUpdate(e.items)},remove:function(t,e,n){i._onRemove(e.items)}},this.groupListeners={add:function(t,e,n){if(i._onAddGroups(e.items),i.groupsData&&i.groupsData.length>0){var r=i.groupsData.getDataSet();r.get().forEach(function(t){if(t.nestedGroups){0!=t.showNested&&(t.showNested=!0);var e=[];t.nestedGroups.forEach(function(i){var n=r.get(i);n&&(n.nestedInGroup=t.id,0==t.showNested&&(n.visible=!1),e=e.concat(n))}),r.update(e,n)}})}},update:function(t,e,n){i._onUpdateGroups(e.items)},remove:function(t,e,n){i._onRemoveGroups(e.items)}},this.items={},this.groups={},this.groupIds=[],this.selection=[],this.popup=null,this.touchParams={},this.groupTouchParams={},this._create(),this.setOptions(e)}var o=n(i(29)),s=n(i(6)),a=i(10),h=i(2),l=i(11),d=i(12),u=i(66),c=i(16),f=i(68),p=i(69),g=i(101),m=i(102),v=i(70),y=i(103),b=i(104).default,w="__ungrouped__",x="__background__";r.prototype=new c,r.types={background:y,box:g,range:v,point:m},r.prototype._create=function(){var t=document.createElement("div");t.className="vis-itemset",t["timeline-itemset"]=this,this.dom.frame=t;var e=document.createElement("div");e.className="vis-background",t.appendChild(e),this.dom.background=e;var i=document.createElement("div");i.className="vis-foreground",t.appendChild(i),this.dom.foreground=i;var n=document.createElement("div");n.className="vis-axis",this.dom.axis=n;var r=document.createElement("div");r.className="vis-labelset",this.dom.labelSet=r,this._updateUngrouped();var o=new p(x,null,this);o.show(),this.groups[x]=o,this.hammer=new a(this.body.dom.centerContainer),this.hammer.on("hammer.input",(function(t){t.isFirst&&this._onTouch(t)}).bind(this)),this.hammer.on("panstart",this._onDragStart.bind(this)),this.hammer.on("panmove",this._onDrag.bind(this)),this.hammer.on("panend",this._onDragEnd.bind(this)),this.hammer.get("pan").set({threshold:5,direction:a.DIRECTION_HORIZONTAL}),this.hammer.on("tap",this._onSelectItem.bind(this)),this.hammer.on("press",this._onMultiSelectItem.bind(this)),this.hammer.on("doubletap",this._onAddItem.bind(this)),this.groupHammer=new a(this.options.rtl?this.body.dom.rightContainer:this.body.dom.leftContainer),this.groupHammer.on("tap",this._onGroupClick.bind(this)),this.groupHammer.on("panstart",this._onGroupDragStart.bind(this)),this.groupHammer.on("panmove",this._onGroupDrag.bind(this)),this.groupHammer.on("panend",this._onGroupDragEnd.bind(this)),this.groupHammer.get("pan").set({threshold:5,direction:a.DIRECTION_VERTICAL}),this.body.dom.centerContainer.addEventListener("mouseover",this._onMouseOver.bind(this)),this.body.dom.centerContainer.addEventListener("mouseout",this._onMouseOut.bind(this)),this.body.dom.centerContainer.addEventListener("mousemove",this._onMouseMove.bind(this)),this.body.dom.centerContainer.addEventListener("contextmenu",this._onDragEnd.bind(this)),this.body.dom.centerContainer.addEventListener("mousewheel",this._onMouseWheel.bind(this)),this.show()},r.prototype.setOptions=function(t){t&&(h.selectiveExtend(["type","rtl","align","order","stack","stackSubgroups","selectable","multiselect","multiselectPerGroup","groupOrder","dataAttributes","template","groupTemplate","visibleFrameTemplate","hide","snap","groupOrderSwap","showTooltips","tooltip","tooltipOnItemUpdateTime"],this.options,t),"itemsAlwaysDraggable"in t&&("boolean"==typeof t.itemsAlwaysDraggable?(this.options.itemsAlwaysDraggable.item=t.itemsAlwaysDraggable,this.options.itemsAlwaysDraggable.range=!1):"object"===(0,s.default)(t.itemsAlwaysDraggable)&&(h.selectiveExtend(["item","range"],this.options.itemsAlwaysDraggable,t.itemsAlwaysDraggable),this.options.itemsAlwaysDraggable.item||(this.options.itemsAlwaysDraggable.range=!1))),"orientation"in t&&("string"==typeof t.orientation?this.options.orientation.item="top"===t.orientation?"top":"bottom":"object"===(0,s.default)(t.orientation)&&"item"in t.orientation&&(this.options.orientation.item=t.orientation.item)),"margin"in t&&("number"==typeof t.margin?(this.options.margin.axis=t.margin,this.options.margin.item.horizontal=t.margin,this.options.margin.item.vertical=t.margin):"object"===(0,s.default)(t.margin)&&(h.selectiveExtend(["axis"],this.options.margin,t.margin),"item"in t.margin&&("number"==typeof t.margin.item?(this.options.margin.item.horizontal=t.margin.item,this.options.margin.item.vertical=t.margin.item):"object"===(0,s.default)(t.margin.item)&&h.selectiveExtend(["horizontal","vertical"],this.options.margin.item,t.margin.item)))),"editable"in t&&("boolean"==typeof t.editable?(this.options.editable.updateTime=t.editable,this.options.editable.updateGroup=t.editable,this.options.editable.add=t.editable,this.options.editable.remove=t.editable,this.options.editable.overrideItems=!1):"object"===(0,s.default)(t.editable)&&h.selectiveExtend(["updateTime","updateGroup","add","remove","overrideItems"],this.options.editable,t.editable)),"groupEditable"in t&&("boolean"==typeof t.groupEditable?(this.options.groupEditable.order=t.groupEditable,this.options.groupEditable.add=t.groupEditable,this.options.groupEditable.remove=t.groupEditable):"object"===(0,s.default)(t.groupEditable)&&h.selectiveExtend(["order","add","remove"],this.options.groupEditable,t.groupEditable)),["onDropObjectOnItem","onAdd","onUpdate","onRemove","onMove","onMoving","onAddGroup","onMoveGroup","onRemoveGroup"].forEach((function(e){var i=t[e];if(i){if(!(i instanceof Function))throw new Error("option "+e+" must be a function "+e+"(item, callback)");this.options[e]=i}}).bind(this)),this.markDirty())},r.prototype.markDirty=function(t){this.groupIds=[],t&&t.refreshItems&&h.forEach(this.items,function(t){t.dirty=!0,t.displayed&&t.redraw()})},r.prototype.destroy=function(){this.hide(),this.setItems(null),this.setGroups(null),this.hammer=null,this.body=null,this.conversion=null},r.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame),this.dom.axis.parentNode&&this.dom.axis.parentNode.removeChild(this.dom.axis),this.dom.labelSet.parentNode&&this.dom.labelSet.parentNode.removeChild(this.dom.labelSet)},r.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame),this.dom.axis.parentNode||this.body.dom.backgroundVertical.appendChild(this.dom.axis),this.dom.labelSet.parentNode||(this.options.rtl?this.body.dom.right.appendChild(this.dom.labelSet):this.body.dom.left.appendChild(this.dom.labelSet))},r.prototype.setSelection=function(t){var e,i,n,r;for(null==t&&(t=[]),Array.isArray(t)||(t=[t]),e=0,i=this.selection.length;e<i;e++)(r=this.items[n=this.selection[e]])&&r.unselect();for(this.selection=[],e=0,i=t.length;e<i;e++)(r=this.items[n=t[e]])&&(this.selection.push(n),r.select())},r.prototype.getSelection=function(){return this.selection.concat([])},r.prototype.getVisibleItems=function(){var t,e,i=this.body.range.getRange();this.options.rtl?(t=this.body.util.toScreen(i.start),e=this.body.util.toScreen(i.end)):(e=this.body.util.toScreen(i.start),t=this.body.util.toScreen(i.end));var n=[];for(var r in this.groups)if(this.groups.hasOwnProperty(r))for(var o=this.groups[r],s=o.isVisible?o.visibleItems:[],a=0;a<s.length;a++){var h=s[a];this.options.rtl?h.right<e&&h.right+h.width>t&&n.push(h.id):h.left<t&&h.left+h.width>e&&n.push(h.id)}return n},r.prototype._deselect=function(t){for(var e=this.selection,i=0,n=e.length;i<n;i++)if(e[i]==t){e.splice(i,1);break}},r.prototype.redraw=function(){var t=this.options.margin,e=this.body.range,i=h.option.asSize,n=this.options,r=n.orientation.item,o=!1,s=this.dom.frame;this.props.top=this.body.domProps.top.height+this.body.domProps.border.top,this.options.rtl?this.props.right=this.body.domProps.right.width+this.body.domProps.border.right:this.props.left=this.body.domProps.left.width+this.body.domProps.border.left,s.className="vis-itemset",o=this._orderGroups()||o;var a=e.end-e.start,l=a!=this.lastVisibleInterval||this.props.width!=this.props.lastWidth||e.start!=this.lastRangeStart||n.stack!=this.lastStack||n.stackSubgroups!=this.lastStackSubgroups;this.lastVisibleInterval=a,this.lastRangeStart=e.start,this.lastStack=n.stack,this.lastStackSubgroups=n.stackSubgroups,this.props.lastWidth=this.props.width;var d=this._firstGroup(),u={item:t.item,axis:t.axis},c={item:t.item,axis:t.item.vertical/2},f=0,p=t.axis+t.item.vertical;this.groups[x].redraw(e,c,l);var g={},m=0;if(h.forEach(this.groups,function(t,i){i!==x&&(g[i]=t.redraw(e,t==d?u:c,l,!0),m=g[i].length)}),m>0){for(var v={},y=0;y<m;y++)h.forEach(g,function(t,e){v[e]=t[y]()});h.forEach(this.groups,function(t,e){e!==x&&(o=v[e]||o,f+=t.height)}),f=Math.max(f,p)}return f=Math.max(f,p),s.style.height=i(f),this.props.width=s.offsetWidth,this.props.height=f,this.dom.axis.style.top=i("top"==r?this.body.domProps.top.height+this.body.domProps.border.top:this.body.domProps.top.height+this.body.domProps.centerContainer.height),this.options.rtl?this.dom.axis.style.right="0":this.dom.axis.style.left="0",this.initialItemSetDrawn=!0,o=this._isResized()||o},r.prototype._firstGroup=function(){return this.groups[this.groupIds["top"==this.options.orientation.item?0:this.groupIds.length-1]]||this.groups[w]||null},r.prototype._updateUngrouped=function(){var t,e,i=this.groups[w];if(this.groupsData){if(i)for(e in i.hide(),delete this.groups[w],this.items)if(this.items.hasOwnProperty(e)){(t=this.items[e]).parent&&t.parent.remove(t);var n=this._getGroupId(t.data),r=this.groups[n];r&&r.add(t)||t.hide()}}else if(!i){for(e in i=new f(null,null,this),this.groups[w]=i,this.items)this.items.hasOwnProperty(e)&&i.add(t=this.items[e]);i.show()}},r.prototype.getLabelSet=function(){return this.dom.labelSet},r.prototype.setItems=function(t){var e,i=this,n=this.itemsData;if(t){if(!(t instanceof l||t instanceof d))throw new TypeError("Data must be an instance of DataSet or DataView");this.itemsData=t}else this.itemsData=null;if(n&&(h.forEach(this.itemListeners,function(t,e){n.off(e,t)}),e=n.getIds(),this._onRemove(e)),this.itemsData){var r=this.id;h.forEach(this.itemListeners,function(t,e){i.itemsData.on(e,t,r)}),e=this.itemsData.getIds(),this._onAdd(e),this._updateUngrouped()}this.body.emitter.emit("_change",{queue:!0})},r.prototype.getItems=function(){return this.itemsData},r.prototype.setGroups=function(t){var e,i=this;if(this.groupsData&&(h.forEach(this.groupListeners,function(t,e){i.groupsData.off(e,t)}),e=this.groupsData.getIds(),this.groupsData=null,this._onRemoveGroups(e)),t){if(!(t instanceof l||t instanceof d))throw new TypeError("Data must be an instance of DataSet or DataView");this.groupsData=t}else this.groupsData=null;if(this.groupsData){var n=this.groupsData;this.groupsData instanceof d&&(n=this.groupsData.getDataSet()),n.get().forEach(function(t){t.nestedGroups&&t.nestedGroups.forEach(function(e){var i=n.get(e);i.nestedInGroup=t.id,0==t.showNested&&(i.visible=!1),n.update(i)})});var r=this.id;h.forEach(this.groupListeners,function(t,e){i.groupsData.on(e,t,r)}),e=this.groupsData.getIds(),this._onAddGroups(e)}this._updateUngrouped(),this._order(),this.body.emitter.emit("_change",{queue:!0})},r.prototype.getGroups=function(){return this.groupsData},r.prototype.removeItem=function(t){var e=this.itemsData.get(t),i=this.itemsData.getDataSet();e&&this.options.onRemove(e,function(e){e&&i.remove(t)})},r.prototype._getType=function(t){return t.type||this.options.type||(t.end?"range":"box")},r.prototype._getGroupId=function(t){return"background"==this._getType(t)&&null==t.group?x:this.groupsData?t.group:w},r.prototype._onAdd=r.prototype._onUpdate=function(t){var e=this;t.forEach((function(t){var i,n=e.itemsData.get(t,e.itemOptions),o=e.items[t],s=n?e._getType(n):null,a=r.types[s];if(o&&(a&&o instanceof a?e._updateItem(o,n):(i=o.selected,e._removeItem(o),o=null)),!o&&n){if(!a)throw"rangeoverflow"==s?new TypeError('Item type "rangeoverflow" is deprecated. Use css styling instead: .vis-item.vis-range .vis-item-content {overflow: visible;}'):new TypeError('Unknown item type "'+s+'"');(o=new a(n,e.conversion,e.options)).id=t,e._addItem(o),i&&(this.selection.push(t),o.select())}}).bind(this)),this._order(),this.body.emitter.emit("_change",{queue:!0})},r.prototype._onRemove=function(t){var e=0,i=this;t.forEach(function(t){var n=i.items[t];n&&(e++,i._removeItem(n))}),e&&(this._order(),this.body.emitter.emit("_change",{queue:!0}))},r.prototype._order=function(){h.forEach(this.groups,function(t){t.order()})},r.prototype._onUpdateGroups=function(t){this._onAddGroups(t)},r.prototype._onAddGroups=function(t){var e=this;t.forEach(function(t){var i=e.groupsData.get(t),n=e.groups[t];if(n)n.setData(i);else{if(t==w||t==x)throw new Error("Illegal group id. "+t+" is a reserved id.");var r=(0,o.default)(e.options);for(var s in h.extend(r,{height:null}),n=new f(t,i,e),e.groups[t]=n,e.items)if(e.items.hasOwnProperty(s)){var a=e.items[s];a.data.group==t&&n.add(a)}n.order(),n.show()}}),this.body.emitter.emit("_change",{queue:!0})},r.prototype._onRemoveGroups=function(t){var e=this.groups;t.forEach(function(t){var i=e[t];i&&(i.hide(),delete e[t])}),this.markDirty(),this.body.emitter.emit("_change",{queue:!0})},r.prototype._orderGroups=function(){if(this.groupsData){var t=this.groupsData.getIds({order:this.options.groupOrder});t=this._orderNestedGroups(t);var e=!h.equalArray(t,this.groupIds);if(e){var i=this.groups;t.forEach(function(t){i[t].hide()}),t.forEach(function(t){i[t].show()}),this.groupIds=t}return e}return!1},r.prototype._orderNestedGroups=function(t){var e=[];return t.forEach(function(t){var i=this.groupsData.get(t);if(i.nestedInGroup||e.push(t),i.nestedGroups){var n=this.groupsData.get({filter:function(e){return e.nestedInGroup==t},order:this.options.groupOrder}).map(function(t){return t.id});e=e.concat(n)}},this),e},r.prototype._addItem=function(t){this.items[t.id]=t;var e=this._getGroupId(t.data),i=this.groups[e];i?i&&i.data&&i.data.showNested&&(t.groupShowing=!0):t.groupShowing=!1,i&&i.add(t)},r.prototype._updateItem=function(t,e){t.setData(e);var i=this._getGroupId(t.data),n=this.groups[i];n?n&&n.data&&n.data.showNested&&(t.groupShowing=!0):t.groupShowing=!1},r.prototype._removeItem=function(t){t.hide(),delete this.items[t.id];var e=this.selection.indexOf(t.id);-1!=e&&this.selection.splice(e,1),t.parent&&t.parent.remove(t)},r.prototype._constructByEndArray=function(t){for(var e=[],i=0;i<t.length;i++)t[i]instanceof v&&e.push(t[i]);return e},r.prototype._onTouch=function(t){this.touchParams.item=this.itemFromTarget(t),this.touchParams.dragLeftItem=t.target.dragLeftItem||!1,this.touchParams.dragRightItem=t.target.dragRightItem||!1,this.touchParams.itemProps=null},r.prototype._getGroupIndex=function(t){for(var e=0;e<this.groupIds.length;e++)if(t==this.groupIds[e])return e},r.prototype._onDragStart=function(t){if(!this.touchParams.itemIsDragging){var e,i=this.touchParams.item||null,n=this;if(i&&(i.selected||this.options.itemsAlwaysDraggable.item)){if(this.options.editable.overrideItems&&!this.options.editable.updateTime&&!this.options.editable.updateGroup)return;if(null!=i.editable&&!i.editable.updateTime&&!i.editable.updateGroup&&!this.options.editable.overrideItems)return;var r=this.touchParams.dragLeftItem,o=this.touchParams.dragRightItem;if(this.touchParams.itemIsDragging=!0,this.touchParams.selectedItem=i,r)e={item:r,initialX:t.center.x,dragLeft:!0,data:this._cloneItemData(i.data)},this.touchParams.itemProps=[e];else if(o)e={item:o,initialX:t.center.x,dragRight:!0,data:this._cloneItemData(i.data)},this.touchParams.itemProps=[e];else if(this.options.editable.add&&(t.srcEvent.ctrlKey||t.srcEvent.metaKey))this._onDragStartAddItem(t);else{this.groupIds.length<1&&this.redraw();var s=this._getGroupIndex(i.data.group),a=this.options.itemsAlwaysDraggable.item&&!i.selected?[i.id]:this.getSelection();this.touchParams.itemProps=a.map((function(e){var i=n.items[e],r=n._getGroupIndex(i.data.group);return{item:i,initialX:t.center.x,groupOffset:s-r,data:this._cloneItemData(i.data)}}).bind(this))}t.stopPropagation()}else this.options.editable.add&&(t.srcEvent.ctrlKey||t.srcEvent.metaKey)&&this._onDragStartAddItem(t)}},r.prototype._onDragStartAddItem=function(t){var e,i,n=this.options.snap||null;this.options.rtl?i=(e=h.getAbsoluteRight(this.dom.frame))-t.center.x+10:(e=h.getAbsoluteLeft(this.dom.frame),i=t.center.x-e-10);var r=this.body.util.toTime(i),o=this.body.util.getScale(),s=this.body.util.getStep(),a=n?n(r,o,s):r,l={type:"range",start:a,end:a,content:"new item"},d=h.randomUUID();l[this.itemsData._fieldId]=d;var u=this.groupFromTarget(t);u&&(l.group=u.groupId);var c=new v(l,this.conversion,this.options);c.id=d,c.data=this._cloneItemData(l),this._addItem(c),this.touchParams.selectedItem=c;var f={item:c,initialX:t.center.x,data:c.data};this.options.rtl?f.dragLeft=!0:f.dragRight=!0,this.touchParams.itemProps=[f],t.stopPropagation()},r.prototype._onDrag=function(t){if(this.touchParams.itemProps){t.stopPropagation();var e,i=this,n=this.options.snap||null;e=this.options.rtl?this.body.dom.root.offsetLeft+this.body.domProps.right.width:this.body.dom.root.offsetLeft+this.body.domProps.left.width;var r=this.body.util.getScale(),o=this.body.util.getStep(),s=this.touchParams.selectedItem,a=(this.options.editable.overrideItems||null==s.editable)&&this.options.editable.updateGroup||!this.options.editable.overrideItems&&null!=s.editable&&s.editable.updateGroup,l=null;if(a&&s&&null!=s.data.group){var d=i.groupFromTarget(t);d&&(l=this._getGroupIndex(d.groupId))}this.touchParams.itemProps.forEach((function(d){var u,c,f,p,g,m=i.body.util.toTime(t.center.x-e),v=i.body.util.toTime(d.initialX-e);u=this.options.rtl?-(m-v):m-v;var y=this._cloneItemData(d.item.data);if(null==d.item.editable||d.item.editable.updateTime||d.item.editable.updateGroup||i.options.editable.overrideItems){if((this.options.editable.overrideItems||null==s.editable)&&this.options.editable.updateTime||!this.options.editable.overrideItems&&null!=s.editable&&s.editable.updateTime)if(d.dragLeft)this.options.rtl?null!=y.end&&(f=h.convert(d.data.end,"Date"),g=new Date(f.valueOf()+u),y.end=n?n(g,r,o):g):null!=y.start&&(c=h.convert(d.data.start,"Date"),p=new Date(c.valueOf()+u),y.start=n?n(p,r,o):p);else if(d.dragRight)this.options.rtl?null!=y.start&&(c=h.convert(d.data.start,"Date"),p=new Date(c.valueOf()+u),y.start=n?n(p,r,o):p):null!=y.end&&(f=h.convert(d.data.end,"Date"),g=new Date(f.valueOf()+u),y.end=n?n(g,r,o):g);else if(null!=y.start)if(c=h.convert(d.data.start,"Date").valueOf(),p=new Date(c+u),null!=y.end){var b=(f=h.convert(d.data.end,"Date")).valueOf()-c.valueOf();y.start=n?n(p,r,o):p,y.end=new Date(y.start.valueOf()+b)}else y.start=n?n(p,r,o):p;if(a&&!d.dragLeft&&!d.dragRight&&null!=l&&null!=y.group){var w=l-d.groupOffset;w=Math.max(0,w),w=Math.min(i.groupIds.length-1,w),y.group=i.groupIds[w]}y=this._cloneItemData(y),i.options.onMoving(y,(function(t){t&&d.item.setData(this._cloneItemData(t,"Date"))}).bind(this))}}).bind(this)),this.body.emitter.emit("_change")}},r.prototype._moveToGroup=function(t,e){var i=this.groups[e];if(i&&i.groupId!=t.data.group){var n=t.parent;n.remove(t),n.order(),t.data.group=i.groupId,i.add(t),i.order()}},r.prototype._onDragEnd=function(t){if(this.touchParams.itemIsDragging=!1,this.touchParams.itemProps){t.stopPropagation();var e=this,i=this.itemsData.getDataSet(),n=this.touchParams.itemProps;this.touchParams.itemProps=null,n.forEach((function(t){var n=t.item.id;if(null!=e.itemsData.get(n,e.itemOptions)){var r=this._cloneItemData(t.item.data);e.options.onMove(r,function(r){r?(r[i._fieldId]=n,i.update(r)):(t.item.setData(t.data),e.body.emitter.emit("_change"))})}else e.options.onAdd(t.item.data,function(i){e._removeItem(t.item),i&&e.itemsData.getDataSet().add(i),e.body.emitter.emit("_change")})}).bind(this))}},r.prototype._onGroupClick=function(t){var e=this.groupFromTarget(t);if(e&&e.nestedGroups){var i=this.groupsData.getDataSet(),n=i.get(e.groupId);null==n.showNested&&(n.showNested=!0),n.showNested=!n.showNested;var r=i.get(e.nestedGroups).map(function(t){return t.visible=n.showNested,t});i.update(r.concat(n)),n.showNested?(h.removeClassName(e.dom.label,"collapsed"),h.addClassName(e.dom.label,"expanded")):(h.removeClassName(e.dom.label,"expanded"),h.addClassName(e.dom.label,this.options.rtl?"collapsed-rtl":"collapsed"))}},r.prototype._onGroupDragStart=function(t){this.options.groupEditable.order&&(this.groupTouchParams.group=this.groupFromTarget(t),this.groupTouchParams.group&&(t.stopPropagation(),this.groupTouchParams.originalOrder=this.groupsData.getIds({order:this.options.groupOrder})))},r.prototype._onGroupDrag=function(t){if(this.options.groupEditable.order&&this.groupTouchParams.group){t.stopPropagation();var e=this.groupsData;this.groupsData instanceof d&&(e=this.groupsData.getDataSet());var i=this.groupFromTarget(t);if(i&&i.height!=this.groupTouchParams.group.height){var n=i.top<this.groupTouchParams.group.top,r=t.center?t.center.y:t.clientY,o=h.getAbsoluteTop(i.dom.foreground),s=this.groupTouchParams.group.height;if(n){if(o+s<r)return}else if(o+i.height-s>r)return}if(i&&i!=this.groupTouchParams.group){var a=e.get(i.groupId),l=e.get(this.groupTouchParams.group.groupId);l&&a&&(this.options.groupOrderSwap(l,a,e),e.update(l),e.update(a));var u=e.getIds({order:this.options.groupOrder});if(!h.equalArray(u,this.groupTouchParams.originalOrder))for(var c=this.groupTouchParams.originalOrder,f=this.groupTouchParams.group.groupId,p=Math.min(c.length,u.length),g=0,m=0,v=0;g<p;){for(;g+m<p&&g+v<p&&u[g+m]==c[g+v];)g++;if(g+m>=p)break;if(u[g+m]==f)m=1;else if(c[g+v]==f)v=1;else{var y=u.indexOf(c[g+v]),b=e.get(u[g+m]),w=e.get(c[g+v]);this.options.groupOrderSwap(b,w,e),e.update(b),e.update(w);var x=u[g+m];u[g+m]=c[g+v],u[y]=x,g++}}}}},r.prototype._onGroupDragEnd=function(t){if(this.options.groupEditable.order&&this.groupTouchParams.group){t.stopPropagation();var e=this,i=e.groupTouchParams.group.groupId,n=e.groupsData.getDataSet(),r=h.extend({},n.get(i));e.options.onMoveGroup(r,function(t){if(t)t[n._fieldId]=i,n.update(t);else{var r=n.getIds({order:e.options.groupOrder});if(!h.equalArray(r,e.groupTouchParams.originalOrder))for(var o=e.groupTouchParams.originalOrder,s=Math.min(o.length,r.length),a=0;a<s;){for(;a<s&&r[a]==o[a];)a++;if(a>=s)break;var l=r.indexOf(o[a]),d=n.get(r[a]),u=n.get(o[a]);e.options.groupOrderSwap(d,u,n),n.update(d),n.update(u);var c=r[a];r[a]=o[a],r[l]=c,a++}}}),e.body.emitter.emit("groupDragged",{groupId:i})}},r.prototype._onSelectItem=function(t){if(this.options.selectable){if(t.srcEvent&&(t.srcEvent.ctrlKey||t.srcEvent.metaKey)||t.srcEvent&&t.srcEvent.shiftKey)return void this._onMultiSelectItem(t);var e=this.getSelection(),i=this.itemFromTarget(t);this.setSelection(i?[i.id]:[]);var n=this.getSelection();(n.length>0||e.length>0)&&this.body.emitter.emit("select",{items:n,event:t})}},r.prototype._onMouseOver=function(t){var e=this.itemFromTarget(t);if(e&&e!==this.itemFromRelatedTarget(t)){var i=e.getTitle();if(this.options.showTooltips&&i){null==this.popup&&(this.popup=new b(this.body.dom.root,this.options.tooltip.overflowMethod||"flip")),this.popup.setText(i);var n=this.body.dom.centerContainer;this.popup.setPosition(t.clientX-h.getAbsoluteLeft(n)+n.offsetLeft,t.clientY-h.getAbsoluteTop(n)+n.offsetTop),this.popup.show()}else null!=this.popup&&this.popup.hide();this.body.emitter.emit("itemover",{item:e.id,event:t})}},r.prototype._onMouseOut=function(t){var e=this.itemFromTarget(t);e&&e!==this.itemFromRelatedTarget(t)&&(null!=this.popup&&this.popup.hide(),this.body.emitter.emit("itemout",{item:e.id,event:t}))},r.prototype._onMouseMove=function(t){if(this.itemFromTarget(t)&&this.options.showTooltips&&this.options.tooltip.followMouse&&this.popup&&!this.popup.hidden){var e=this.body.dom.centerContainer;this.popup.setPosition(t.clientX-h.getAbsoluteLeft(e)+e.offsetLeft,t.clientY-h.getAbsoluteTop(e)+e.offsetTop),this.popup.show()}},r.prototype._onMouseWheel=function(t){this.touchParams.itemIsDragging&&this._onDragEnd(t)},r.prototype._onUpdateItem=function(t){if(this.options.selectable&&this.options.editable.add){var e=this;if(t){var i=e.itemsData.get(t.id);this.options.onUpdate(i,function(t){t&&e.itemsData.getDataSet().update(t)})}}},r.prototype._onDropObjectOnItem=function(t){var e=this.itemFromTarget(t),i=JSON.parse(t.dataTransfer.getData("text"));this.options.onDropObjectOnItem(i,e)},r.prototype._onAddItem=function(t){if(this.options.selectable&&this.options.editable.add){var e,i,n=this,r=this.options.snap||null;this.options.rtl?i=(e=h.getAbsoluteRight(this.dom.frame))-t.center.x:(e=h.getAbsoluteLeft(this.dom.frame),i=t.center.x-e);var o,s,a=this.body.util.toTime(i),l=this.body.util.getScale(),d=this.body.util.getStep();"drop"==t.type?((s=JSON.parse(t.dataTransfer.getData("text"))).content=s.content?s.content:"new item",s.start=s.start?s.start:r?r(a,l,d):a,s.type=s.type||"box",s[this.itemsData._fieldId]=s.id||h.randomUUID(),"range"!=s.type||s.end||(o=this.body.util.toTime(i+this.props.width/5),s.end=r?r(o,l,d):o)):((s={start:r?r(a,l,d):a,content:"new item"})[this.itemsData._fieldId]=h.randomUUID(),"range"===this.options.type&&(o=this.body.util.toTime(i+this.props.width/5),s.end=r?r(o,l,d):o));var u=this.groupFromTarget(t);u&&(s.group=u.groupId),s=this._cloneItemData(s),this.options.onAdd(s,function(e){e&&(n.itemsData.getDataSet().add(e),"drop"==t.type&&n.setSelection([e.id]))})}},r.prototype._onMultiSelectItem=function(t){if(this.options.selectable){var e=this.itemFromTarget(t);if(e){var i=this.options.multiselect?this.getSelection():[];if(t.srcEvent&&t.srcEvent.shiftKey&&this.options.multiselect){var n=this.itemsData.get(e.id).group,o=void 0;this.options.multiselectPerGroup&&i.length>0&&(o=this.itemsData.get(i[0]).group),this.options.multiselectPerGroup&&null!=o&&o!=n||i.push(e.id);var s=r._getItemRange(this.itemsData.get(i,this.itemOptions));if(!this.options.multiselectPerGroup||o==n)for(var a in i=[],this.items)if(this.items.hasOwnProperty(a)){var h=this.items[a],l=h.data.start;!(l>=s.min&&(void 0!==h.data.end?h.data.end:l)<=s.max)||this.options.multiselectPerGroup&&o!=this.itemsData.get(h.id).group||h instanceof y||i.push(h.id)}}else{var d=i.indexOf(e.id);-1==d?i.push(e.id):i.splice(d,1)}this.setSelection(i),this.body.emitter.emit("select",{items:this.getSelection(),event:t})}}},r._getItemRange=function(t){var e=null,i=null;return t.forEach(function(t){(null==i||t.start<i)&&(i=t.start),null!=t.end?(null==e||t.end>e)&&(e=t.end):(null==e||t.start>e)&&(e=t.start)}),{min:i,max:e}},r.prototype.itemFromElement=function(t){for(var e=t;e;){if(e.hasOwnProperty("timeline-item"))return e["timeline-item"];e=e.parentNode}return null},r.prototype.itemFromTarget=function(t){return this.itemFromElement(t.target)},r.prototype.itemFromRelatedTarget=function(t){return this.itemFromElement(t.relatedTarget)},r.prototype.groupFromTarget=function(t){var e=t.center?t.center.y:t.clientY,i=this.groupIds;i.length<=0&&this.groupsData&&(i=this.groupsData.getIds({order:this.options.groupOrder}));for(var n=0;n<i.length;n++){var r=this.groups[i[n]],o=r.dom.foreground,s=h.getAbsoluteTop(o);if(e>s&&e<s+o.offsetHeight)return r;if("top"===this.options.orientation.item){if(n===this.groupIds.length-1&&e>s)return r}else if(0===n&&e<s+o.offset)return r}return null},r.itemSetFromTarget=function(t){for(var e=t.target;e;){if(e.hasOwnProperty("timeline-itemset"))return e["timeline-itemset"];e=e.parentNode}return null},r.prototype._cloneItemData=function(t,e){var i=h.extend({},t);return e||(e=this.itemsData.getDataSet()._options.type),null!=i.start&&(i.start=h.convert(i.start,e&&e.start||"Date")),null!=i.end&&(i.end=h.convert(i.end,e&&e.end||"Date")),i},t.exports=r},function(t,e,i){e.orderByStart=function(t){t.sort(function(t,e){return t.data.start-e.data.start})},e.orderByEnd=function(t){t.sort(function(t,e){return("end"in t.data?t.data.end:t.data.start)-("end"in e.data?e.data.end:e.data.start)})},e.stack=function(t,i,n){if(n)for(var r=0;r<t.length;r++)t[r].top=null;for(r=0;r<t.length;r++){var o=t[r];if(o.stack&&null===o.top){o.top=i.axis;do{for(var s=null,a=0,h=t.length;a<h;a++){var l=t[a];if(null!==l.top&&l!==o&&l.stack&&e.collision(o,l,i.item,l.options.rtl)){s=l;break}}null!=s&&(o.top=s.top+s.height+i.item.vertical)}while(s)}}},e.substack=function(t,i,n){for(var r=0;r<t.length;r++)t[r].top=null;var o=n.height;for(r=0;r<t.length;r++){var s=t[r];if(s.stack&&null===s.top){s.top=s.baseTop;do{for(var a=null,h=0,l=t.length;h<l;h++){var d=t[h];if(null!==d.top&&d!==s&&e.collision(s,d,i.item,d.options.rtl)){a=d;break}}null!=a&&(s.top=a.top+a.height+i.item.vertical),s.top+s.height>o&&(o=s.top+s.height)}while(a)}}n.height=o-n.top+.5*i.item.vertical},e.nostack=function(t,i,n,r){for(var o=0;o<t.length;o++)if(null==t[o].data.subgroup)t[o].top=i.item.vertical;else if(void 0!==t[o].data.subgroup&&r){var s=0;for(var a in n)n.hasOwnProperty(a)&&1==n[a].visible&&n[a].index<n[t[o].data.subgroup].index&&(n[t[o].data.subgroup].top=s+=n[a].height);t[o].top=s+.5*i.item.vertical}r||e.stackSubgroups(t,i,n)},e.stackSubgroups=function(t,i,n){for(var r in n)if(n.hasOwnProperty(r)){n[r].top=0;do{var o=null;for(var s in n)if(null!==n[s].top&&s!==r&&n[r].index>n[s].index&&e.collisionByTimes(n[r],n[s])){o=n[s];break}null!=o&&(n[r].top=o.top+o.height)}while(o)}for(var a=0;a<t.length;a++)void 0!==t[a].data.subgroup&&(t[a].top=n[t[a].data.subgroup].top+.5*i.item.vertical)},e.stackSubgroupsWithInnerStack=function(t,i,n){var r=!1,o=[];for(var s in n)n[s].hasOwnProperty("index")?o[n[s].index]=s:o.push(s);for(var a=0;a<o.length;a++)if(n.hasOwnProperty(s=o[a])){for(var h in r=r||n[s].stack,n[s].top=0,n)n[h].visible&&n[s].index>n[h].index&&(n[s].top+=n[h].height);for(var l=t[s],d=0;d<l.length;d++)void 0!==l[d].data.subgroup&&(l[d].top=n[l[d].data.subgroup].top+.5*i.item.vertical,n[s].stack&&(l[d].baseTop=l[d].top));r&&n[s].stack&&e.substack(t[s],i,n[s])}},e.collision=function(t,e,i,n){return n?t.right-i.horizontal+.001<e.right+e.width&&t.right+t.width+i.horizontal-.001>e.right&&t.top-i.vertical+.001<e.top+e.height&&t.top+t.height+i.vertical-.001>e.top:t.left-i.horizontal+.001<e.left+e.width&&t.left+t.width+i.horizontal-.001>e.left&&t.top-i.vertical+.001<e.top+e.height&&t.top+t.height+i.vertical-.001>e.top},e.collisionByTimes=function(t,e){return t.start<=e.start&&t.end>=e.start&&t.top<e.top+e.height&&t.top+t.height>e.top||e.start<=t.start&&e.end>=t.start&&e.top<t.top+t.height&&e.top+e.height>t.top}},function(t,e,i){function n(t,e,i){if(this.props={dot:{width:0,height:0},line:{width:0,height:0}},this.options=i,t&&null==t.start)throw new Error('Property "start" missing in item '+t);r.call(this,t,e,i)}var r=i(38);(n.prototype=new r(null,null,null)).isVisible=function(t){var e=this.options.align,i=this.width*t.getMillisecondsPerPixel();return"right"==e?this.data.start.getTime()>t.start&&this.data.start.getTime()-i<t.end:"left"==e?this.data.start.getTime()+i>t.start&&this.data.start.getTime()<t.end:this.data.start.getTime()+i/2>t.start&&this.data.start.getTime()-i/2<t.end},n.prototype._createDomElement=function(){this.dom||(this.dom={},this.dom.box=document.createElement("DIV"),this.dom.content=document.createElement("DIV"),this.dom.content.className="vis-item-content",this.dom.box.appendChild(this.dom.content),this.dom.line=document.createElement("DIV"),this.dom.line.className="vis-line",this.dom.dot=document.createElement("DIV"),this.dom.dot.className="vis-dot",this.dom.box["timeline-item"]=this,this.dirty=!0)},n.prototype._appendDomElement=function(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.box.parentNode){var t=this.parent.dom.foreground;if(!t)throw new Error("Cannot redraw item: parent has no foreground container element");t.appendChild(this.dom.box)}if(!this.dom.line.parentNode){var e=this.parent.dom.background;if(!e)throw new Error("Cannot redraw item: parent has no background container element");e.appendChild(this.dom.line)}if(!this.dom.dot.parentNode){var i=this.parent.dom.axis;if(!e)throw new Error("Cannot redraw item: parent has no axis container element");i.appendChild(this.dom.dot)}this.displayed=!0},n.prototype._updateDirtyDomComponents=function(){if(this.dirty){this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.box),this._updateStyle(this.dom.box);var t=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(this.editable.updateTime||this.editable.updateGroup?" vis-editable":" vis-readonly");this.dom.box.className="vis-item vis-box"+t,this.dom.line.className="vis-item vis-line"+t,this.dom.dot.className="vis-item vis-dot"+t}},n.prototype._getDomComponentsSizes=function(){return{previous:{right:this.dom.box.style.right,left:this.dom.box.style.left},dot:{height:this.dom.dot.offsetHeight,width:this.dom.dot.offsetWidth},line:{width:this.dom.line.offsetWidth},box:{width:this.dom.box.offsetWidth,height:this.dom.box.offsetHeight}}},n.prototype._updateDomComponentsSizes=function(t){this.options.rtl?this.dom.box.style.right="0px":this.dom.box.style.left="0px",this.props.dot.height=t.dot.height,this.props.dot.width=t.dot.width,this.props.line.width=t.line.width,this.width=t.box.width,this.height=t.box.height,this.options.rtl?this.dom.box.style.right=t.previous.right:this.dom.box.style.left=t.previous.left,this.dirty=!1},n.prototype._repaintDomAdditionals=function(){this._repaintOnItemUpdateTimeTooltip(this.dom.box),this._repaintDragCenter(),this._repaintDeleteButton(this.dom.box)},n.prototype.redraw=function(t){var e,i,n=[this._createDomElement.bind(this),this._appendDomElement.bind(this),this._updateDirtyDomComponents.bind(this),(function(){this.dirty&&(e=this._getDomComponentsSizes())}).bind(this),(function(){this.dirty&&this._updateDomComponentsSizes.bind(this)(e)}).bind(this),this._repaintDomAdditionals.bind(this)];return t?n:(n.forEach(function(t){i=t()}),i)},n.prototype.show=function(){this.displayed||this.redraw()},n.prototype.hide=function(){if(this.displayed){var t=this.dom;t.box.parentNode&&t.box.parentNode.removeChild(t.box),t.line.parentNode&&t.line.parentNode.removeChild(t.line),t.dot.parentNode&&t.dot.parentNode.removeChild(t.dot),this.displayed=!1}},n.prototype.repositionX=function(){var t=this.conversion.toScreen(this.data.start),e=this.options.align;"right"==e?this.options.rtl?(this.right=t-this.width,this.dom.box.style.right=this.right+"px",this.dom.line.style.right=t-this.props.line.width+"px",this.dom.dot.style.right=t-this.props.line.width/2-this.props.dot.width/2+"px"):(this.left=t-this.width,this.dom.box.style.left=this.left+"px",this.dom.line.style.left=t-this.props.line.width+"px",this.dom.dot.style.left=t-this.props.line.width/2-this.props.dot.width/2+"px"):"left"==e?this.options.rtl?(this.right=t,this.dom.box.style.right=this.right+"px",this.dom.line.style.right=t+"px",this.dom.dot.style.right=t+this.props.line.width/2-this.props.dot.width/2+"px"):(this.left=t,this.dom.box.style.left=this.left+"px",this.dom.line.style.left=t+"px",this.dom.dot.style.left=t+this.props.line.width/2-this.props.dot.width/2+"px"):this.options.rtl?(this.right=t-this.width/2,this.dom.box.style.right=this.right+"px",this.dom.line.style.right=t-this.props.line.width+"px",this.dom.dot.style.right=t-this.props.dot.width/2+"px"):(this.left=t-this.width/2,this.dom.box.style.left=this.left+"px",this.dom.line.style.left=t-this.props.line.width/2+"px",this.dom.dot.style.left=t-this.props.dot.width/2+"px")},n.prototype.repositionY=function(){var t=this.dom.box,e=this.dom.line,i=this.dom.dot;if("top"==this.options.orientation.item)t.style.top=(this.top||0)+"px",e.style.top="0",e.style.height=this.parent.top+this.top+1+"px",e.style.bottom="";else{var n=this.parent.itemSet.props.height,r=n-this.parent.top-this.parent.height+this.top;t.style.top=(this.parent.height-this.top-this.height||0)+"px",e.style.top=n-r+"px",e.style.bottom="0"}i.style.top=-this.props.dot.height/2+"px"},n.prototype.getWidthLeft=function(){return this.width/2},n.prototype.getWidthRight=function(){return this.width/2},t.exports=n},function(t,e,i){function n(t,e,i){if(this.props={dot:{top:0,width:0,height:0},content:{height:0,marginLeft:0,marginRight:0}},this.options=i,t&&null==t.start)throw new Error('Property "start" missing in item '+t);r.call(this,t,e,i)}var r=i(38);(n.prototype=new r(null,null,null)).isVisible=function(t){var e=this.width*t.getMillisecondsPerPixel();return this.data.start.getTime()+e>t.start&&this.data.start<t.end},n.prototype._createDomElement=function(){this.dom||(this.dom={},this.dom.point=document.createElement("div"),this.dom.content=document.createElement("div"),this.dom.content.className="vis-item-content",this.dom.point.appendChild(this.dom.content),this.dom.dot=document.createElement("div"),this.dom.point.appendChild(this.dom.dot),this.dom.point["timeline-item"]=this,this.dirty=!0)},n.prototype._appendDomElement=function(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.point.parentNode){var t=this.parent.dom.foreground;if(!t)throw new Error("Cannot redraw item: parent has no foreground container element");t.appendChild(this.dom.point)}this.displayed=!0},n.prototype._updateDirtyDomComponents=function(){if(this.dirty){this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.point),this._updateStyle(this.dom.point);var t=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(this.editable.updateTime||this.editable.updateGroup?" vis-editable":" vis-readonly");this.dom.point.className="vis-item vis-point"+t,this.dom.dot.className="vis-item vis-dot"+t}},n.prototype._getDomComponentsSizes=function(){return{dot:{width:this.dom.dot.offsetWidth,height:this.dom.dot.offsetHeight},content:{width:this.dom.content.offsetWidth,height:this.dom.content.offsetHeight},point:{width:this.dom.point.offsetWidth,height:this.dom.point.offsetHeight}}},n.prototype._updateDomComponentsSizes=function(t){this.props.dot.width=t.dot.width,this.props.dot.height=t.dot.height,this.props.content.height=t.content.height,this.options.rtl?this.dom.content.style.marginRight=2*this.props.dot.width+"px":this.dom.content.style.marginLeft=2*this.props.dot.width+"px",this.width=t.point.width,this.height=t.point.height,this.dom.dot.style.top=(this.height-this.props.dot.height)/2+"px",this.options.rtl?this.dom.dot.style.right=this.props.dot.width/2+"px":this.dom.dot.style.left=this.props.dot.width/2+"px",this.dirty=!1},n.prototype._repaintDomAdditionals=function(){this._repaintOnItemUpdateTimeTooltip(this.dom.point),this._repaintDragCenter(),this._repaintDeleteButton(this.dom.point)},n.prototype.redraw=function(t){var e,i,n=[this._createDomElement.bind(this),this._appendDomElement.bind(this),this._updateDirtyDomComponents.bind(this),(function(){this.dirty&&(e=this._getDomComponentsSizes())}).bind(this),(function(){this.dirty&&this._updateDomComponentsSizes.bind(this)(e)}).bind(this),this._repaintDomAdditionals.bind(this)];return t?n:(n.forEach(function(t){i=t()}),i)},n.prototype.show=function(){this.displayed||this.redraw()},n.prototype.hide=function(){this.displayed&&(this.dom.point.parentNode&&this.dom.point.parentNode.removeChild(this.dom.point),this.displayed=!1)},n.prototype.repositionX=function(){var t=this.conversion.toScreen(this.data.start);this.options.rtl?(this.right=t-this.props.dot.width,this.dom.point.style.right=this.right+"px"):(this.left=t-this.props.dot.width,this.dom.point.style.left=this.left+"px")},n.prototype.repositionY=function(){this.dom.point.style.top="top"==this.options.orientation.item?this.top+"px":this.parent.height-this.top-this.height+"px"},n.prototype.getWidthLeft=function(){return this.props.dot.width},n.prototype.getWidthRight=function(){return this.props.dot.width},t.exports=n},function(t,e,i){function n(t,e,i){if(this.props={content:{width:0}},this.overflow=!1,t){if(null==t.start)throw new Error('Property "start" missing in item '+t.id);if(null==t.end)throw new Error('Property "end" missing in item '+t.id)}r.call(this,t,e,i)}var r=i(38),o=i(69),s=i(70);(n.prototype=new r(null,null,null)).baseClassName="vis-item vis-background",n.prototype.stack=!1,n.prototype.isVisible=function(t){return this.data.start<t.end&&this.data.end>t.start},n.prototype._createDomElement=function(){this.dom||(this.dom={},this.dom.box=document.createElement("div"),this.dom.frame=document.createElement("div"),this.dom.frame.className="vis-item-overflow",this.dom.box.appendChild(this.dom.frame),this.dom.content=document.createElement("div"),this.dom.content.className="vis-item-content",this.dom.frame.appendChild(this.dom.content),this.dirty=!0)},n.prototype._appendDomElement=function(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.box.parentNode){var t=this.parent.dom.background;if(!t)throw new Error("Cannot redraw item: parent has no background container element");t.appendChild(this.dom.box)}this.displayed=!0},n.prototype._updateDirtyDomComponents=function(){this.dirty&&(this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.content),this._updateStyle(this.dom.box),this.dom.box.className=this.baseClassName+(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":""))},n.prototype._getDomComponentsSizes=function(){return this.overflow="hidden"!==window.getComputedStyle(this.dom.content).overflow,{content:{width:this.dom.content.offsetWidth}}},n.prototype._updateDomComponentsSizes=function(t){this.props.content.width=t.content.width,this.height=0,this.dirty=!1},n.prototype._repaintDomAdditionals=function(){},n.prototype.redraw=function(t){var e,i,n=[this._createDomElement.bind(this),this._appendDomElement.bind(this),this._updateDirtyDomComponents.bind(this),(function(){this.dirty&&(e=this._getDomComponentsSizes.bind(this)())}).bind(this),(function(){this.dirty&&this._updateDomComponentsSizes.bind(this)(e)}).bind(this),this._repaintDomAdditionals.bind(this)];return t?n:(n.forEach(function(t){i=t()}),i)},n.prototype.show=s.prototype.show,n.prototype.hide=s.prototype.hide,n.prototype.repositionX=s.prototype.repositionX,n.prototype.repositionY=function(t){var e,i=this.options.orientation.item;if(void 0!==this.data.subgroup){var n=this.data.subgroup;this.dom.box.style.height=this.parent.subgroups[n].height+"px",this.dom.box.style.top="top"==i?this.parent.top+this.parent.subgroups[n].top+"px":this.parent.top+this.parent.height-this.parent.subgroups[n].top-this.parent.subgroups[n].height+"px",this.dom.box.style.bottom=""}else this.parent instanceof o?(e=Math.max(this.parent.height,this.parent.itemSet.body.domProps.center.height,this.parent.itemSet.body.domProps.centerContainer.height),this.dom.box.style.bottom="bottom"==i?"0":"",this.dom.box.style.top="top"==i?"0":""):(e=this.parent.height,this.dom.box.style.top=this.parent.top+"px",this.dom.box.style.bottom="");this.dom.box.style.height=e+"px"},t.exports=n},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(0)),o=n(i(1)),s=function(){function t(e,i){(0,r.default)(this,t),this.container=e,this.overflowMethod=i||"cap",this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement("div"),this.frame.className="vis-tooltip",this.container.appendChild(this.frame)}return(0,o.default)(t,[{key:"setPosition",value:function(t,e){this.x=parseInt(t),this.y=parseInt(e)}},{key:"setText",value:function(t){t instanceof Element?(this.frame.innerHTML="",this.frame.appendChild(t)):this.frame.innerHTML=t}},{key:"show",value:function(t){if(void 0===t&&(t=!0),!0===t){var e=this.frame.clientHeight,i=this.frame.clientWidth,n=this.frame.parentNode.clientHeight,r=this.frame.parentNode.clientWidth,o=0,s=0;if("flip"==this.overflowMethod){var a=!1,h=!0;this.y-e<this.padding&&(h=!1),this.x+i>r-this.padding&&(a=!0),o=a?this.x-i:this.x,s=h?this.y-e:this.y}else(s=this.y-e)+e+this.padding>n&&(s=n-e-this.padding),s<this.padding&&(s=this.padding),(o=this.x)+i+this.padding>r&&(o=r-i-this.padding),o<this.padding&&(o=this.padding);this.frame.style.left=o+"px",this.frame.style.top=s+"px",this.frame.style.visibility="visible",this.hidden=!1}else this.hide()}},{key:"hide",value:function(){this.hidden=!0,this.frame.style.left="0",this.frame.style.top="0",this.frame.style.visibility="hidden"}},{key:"destroy",value:function(){this.frame.parentNode.removeChild(this.frame)}}]),t}();e.default=s},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n="string",r="boolean",o="number",s="object";e.allOptions={configure:{enabled:{boolean:r},filter:{boolean:r,function:"function"},container:{dom:"dom"},__type__:{object:s,boolean:r,function:"function"}},align:{string:n},rtl:{boolean:r,undefined:"undefined"},rollingMode:{follow:{boolean:r},offset:{number:o,undefined:"undefined"},__type__:{object:s}},verticalScroll:{boolean:r,undefined:"undefined"},horizontalScroll:{boolean:r,undefined:"undefined"},autoResize:{boolean:r},throttleRedraw:{number:o},clickToUse:{boolean:r},dataAttributes:{string:n,array:"array"},editable:{add:{boolean:r,undefined:"undefined"},remove:{boolean:r,undefined:"undefined"},updateGroup:{boolean:r,undefined:"undefined"},updateTime:{boolean:r,undefined:"undefined"},overrideItems:{boolean:r,undefined:"undefined"},__type__:{boolean:r,object:s}},end:{number:o,date:"date",string:n,moment:"moment"},format:{minorLabels:{millisecond:{string:n,undefined:"undefined"},second:{string:n,undefined:"undefined"},minute:{string:n,undefined:"undefined"},hour:{string:n,undefined:"undefined"},weekday:{string:n,undefined:"undefined"},day:{string:n,undefined:"undefined"},week:{string:n,undefined:"undefined"},month:{string:n,undefined:"undefined"},year:{string:n,undefined:"undefined"},__type__:{object:s,function:"function"}},majorLabels:{millisecond:{string:n,undefined:"undefined"},second:{string:n,undefined:"undefined"},minute:{string:n,undefined:"undefined"},hour:{string:n,undefined:"undefined"},weekday:{string:n,undefined:"undefined"},day:{string:n,undefined:"undefined"},week:{string:n,undefined:"undefined"},month:{string:n,undefined:"undefined"},year:{string:n,undefined:"undefined"},__type__:{object:s,function:"function"}},__type__:{object:s}},moment:{function:"function"},groupOrder:{string:n,function:"function"},groupEditable:{add:{boolean:r,undefined:"undefined"},remove:{boolean:r,undefined:"undefined"},order:{boolean:r,undefined:"undefined"},__type__:{boolean:r,object:s}},groupOrderSwap:{function:"function"},height:{string:n,number:o},hiddenDates:{start:{date:"date",number:o,string:n,moment:"moment"},end:{date:"date",number:o,string:n,moment:"moment"},repeat:{string:n},__type__:{object:s,array:"array"}},itemsAlwaysDraggable:{item:{boolean:r,undefined:"undefined"},range:{boolean:r,undefined:"undefined"},__type__:{boolean:r,object:s}},limitSize:{boolean:r},locale:{string:n},locales:{__any__:{any:"any"},__type__:{object:s}},margin:{axis:{number:o},item:{horizontal:{number:o,undefined:"undefined"},vertical:{number:o,undefined:"undefined"},__type__:{object:s,number:o}},__type__:{object:s,number:o}},max:{date:"date",number:o,string:n,moment:"moment"},maxHeight:{number:o,string:n},maxMinorChars:{number:o},min:{date:"date",number:o,string:n,moment:"moment"},minHeight:{number:o,string:n},moveable:{boolean:r},multiselect:{boolean:r},multiselectPerGroup:{boolean:r},onAdd:{function:"function"},onDropObjectOnItem:{function:"function"},onUpdate:{function:"function"},onMove:{function:"function"},onMoving:{function:"function"},onRemove:{function:"function"},onAddGroup:{function:"function"},onMoveGroup:{function:"function"},onRemoveGroup:{function:"function"},onInitialDrawComplete:{function:"function"},order:{function:"function"},orientation:{axis:{string:n,undefined:"undefined"},item:{string:n,undefined:"undefined"},__type__:{string:n,object:s}},selectable:{boolean:r},showCurrentTime:{boolean:r},showMajorLabels:{boolean:r},showMinorLabels:{boolean:r},stack:{boolean:r},stackSubgroups:{boolean:r},snap:{function:"function",null:"null"},start:{date:"date",number:o,string:n,moment:"moment"},template:{function:"function"},groupTemplate:{function:"function"},visibleFrameTemplate:{string:n,function:"function"},showTooltips:{boolean:r},tooltip:{followMouse:{boolean:r},overflowMethod:{string:["cap","flip"]},__type__:{object:s}},tooltipOnItemUpdateTime:{template:{function:"function"},__type__:{boolean:r,object:s}},timeAxis:{scale:{string:n,undefined:"undefined"},step:{number:o,undefined:"undefined"},__type__:{object:s}},type:{string:n},width:{string:n,number:o},zoomable:{boolean:r},zoomKey:{string:["ctrlKey","altKey","metaKey",""]},zoomMax:{number:o},zoomMin:{number:o},__type__:{object:s}},e.configureOptions={global:{align:["center","left","right"],direction:!1,autoResize:!0,clickToUse:!1,editable:{add:!1,remove:!1,updateGroup:!1,updateTime:!1},end:"",format:{minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",week:"w",month:"MMM",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",week:"MMMM YYYY",month:"YYYY",year:""}},groupsDraggable:!1,height:"",locale:"",margin:{axis:[20,0,100,1],item:{horizontal:[10,0,100,1],vertical:[10,0,100,1]}},max:"",maxHeight:"",maxMinorChars:[7,0,20,1],min:"",minHeight:"",moveable:!1,multiselect:!1,multiselectPerGroup:!1,orientation:{axis:["both","bottom","top"],item:["bottom","top"]},selectable:!0,showCurrentTime:!1,showMajorLabels:!0,showMinorLabels:!0,stack:!0,stackSubgroups:!0,start:"",showTooltips:!0,tooltip:{followMouse:!1,overflowMethod:"flip"},tooltipOnItemUpdateTime:!1,type:["box","point","range","background"],width:"100%",zoomable:!0,zoomKey:["ctrlKey","altKey","metaKey",""],zoomMax:[31536e10,10,31536e10,1],zoomMin:[10,10,31536e10,1]}}},function(t,e,i){function n(t,e){this.id=s.randomUUID(),this.body=t,this.defaultOptions={yAxisOrientation:"left",defaultGroup:"default",sort:!0,sampling:!0,stack:!1,graphHeight:"400px",shaded:{enabled:!1,orientation:"bottom"},style:"line",barChart:{width:50,sideBySide:!1,align:"center"},interpolation:{enabled:!0,parametrization:"centripetal",alpha:.5},drawPoints:{enabled:!0,size:6,style:"square"},dataAxis:{},legend:{},groups:{visibility:{}}},this.options=s.extend({},this.defaultOptions),this.dom={},this.props={},this.hammer=null,this.groups={},this.abortedGraphUpdate=!1,this.updateSVGheight=!1,this.updateSVGheightOnResize=!1,this.forceGraphUpdate=!0;var i=this;this.itemsData=null,this.groupsData=null,this.itemListeners={add:function(t,e,n){i._onAdd(e.items)},update:function(t,e,n){i._onUpdate(e.items)},remove:function(t,e,n){i._onRemove(e.items)}},this.groupListeners={add:function(t,e,n){i._onAddGroups(e.items)},update:function(t,e,n){i._onUpdateGroups(e.items)},remove:function(t,e,n){i._onRemoveGroups(e.items)}},this.items={},this.selection=[],this.lastStart=this.body.range.start,this.touchParams={},this.svgElements={},this.setOptions(e),this.groupsUsingDefaultStyles=[0],this.body.emitter.on("rangechanged",function(){i.lastStart=i.body.range.start,i.svg.style.left=s.option.asSize(-i.props.width),i.forceGraphUpdate=!0,i.redraw.call(i)}),this._create(),this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups}}var r=i(6),o=r&&r.__esModule?r:{default:r},s=i(2),a=i(14),h=i(11),l=i(12),d=i(16),u=i(107),c=i(109),f=i(112),p=i(110),g=i(111),m=i(72);(n.prototype=new d)._create=function(){var t=document.createElement("div");t.className="vis-line-graph",this.dom.frame=t,this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="relative",this.svg.style.height=(""+this.options.graphHeight).replace("px","")+"px",this.svg.style.display="block",t.appendChild(this.svg),this.options.dataAxis.orientation="left",this.yAxisLeft=new u(this.body,this.options.dataAxis,this.svg,this.options.groups),this.options.dataAxis.orientation="right",this.yAxisRight=new u(this.body,this.options.dataAxis,this.svg,this.options.groups),delete this.options.dataAxis.orientation,this.legendLeft=new f(this.body,this.options.legend,"left",this.options.groups),this.legendRight=new f(this.body,this.options.legend,"right",this.options.groups),this.show()},n.prototype.setOptions=function(t){t&&(void 0===t.graphHeight&&void 0!==t.height?(this.updateSVGheight=!0,this.updateSVGheightOnResize=!0):void 0!==this.body.domProps.centerContainer.height&&void 0!==t.graphHeight&&parseInt((t.graphHeight+"").replace("px",""))<this.body.domProps.centerContainer.height&&(this.updateSVGheight=!0),s.selectiveDeepExtend(["sampling","defaultGroup","stack","height","graphHeight","yAxisOrientation","style","barChart","dataAxis","sort","groups"],this.options,t),s.mergeOptions(this.options,t,"interpolation"),s.mergeOptions(this.options,t,"drawPoints"),s.mergeOptions(this.options,t,"shaded"),s.mergeOptions(this.options,t,"legend"),t.interpolation&&"object"==(0,o.default)(t.interpolation)&&t.interpolation.parametrization&&("uniform"==t.interpolation.parametrization?this.options.interpolation.alpha=0:"chordal"==t.interpolation.parametrization?this.options.interpolation.alpha=1:(this.options.interpolation.parametrization="centripetal",this.options.interpolation.alpha=.5)),this.yAxisLeft&&void 0!==t.dataAxis&&(this.yAxisLeft.setOptions(this.options.dataAxis),this.yAxisRight.setOptions(this.options.dataAxis)),this.legendLeft&&void 0!==t.legend&&(this.legendLeft.setOptions(this.options.legend),this.legendRight.setOptions(this.options.legend)),this.groups.hasOwnProperty("__ungrouped__")&&this.groups.__ungrouped__.setOptions(t)),this.dom.frame&&(this.forceGraphUpdate=!0,this.body.emitter.emit("_change",{queue:!0}))},n.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame)},n.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame)},n.prototype.setItems=function(t){var e,i=this,n=this.itemsData;if(t){if(!(t instanceof h||t instanceof l))throw new TypeError("Data must be an instance of DataSet or DataView");this.itemsData=t}else this.itemsData=null;if(n&&(s.forEach(this.itemListeners,function(t,e){n.off(e,t)}),e=n.getIds(),this._onRemove(e)),this.itemsData){var r=this.id;s.forEach(this.itemListeners,function(t,e){i.itemsData.on(e,t,r)}),e=this.itemsData.getIds(),this._onAdd(e)}},n.prototype.setGroups=function(t){var e,i=this;if(this.groupsData){s.forEach(this.groupListeners,function(t,e){i.groupsData.off(e,t)}),e=this.groupsData.getIds(),this.groupsData=null;for(var n=0;n<e.length;n++)this._removeGroup(e[n])}if(t){if(!(t instanceof h||t instanceof l))throw new TypeError("Data must be an instance of DataSet or DataView");this.groupsData=t}else this.groupsData=null;if(this.groupsData){var r=this.id;s.forEach(this.groupListeners,function(t,e){i.groupsData.on(e,t,r)}),e=this.groupsData.getIds(),this._onAddGroups(e)}},n.prototype._onUpdate=function(t){this._updateAllGroupData(t)},n.prototype._onAdd=function(t){this._onUpdate(t)},n.prototype._onRemove=function(t){this._onUpdate(t)},n.prototype._onUpdateGroups=function(t){this._updateAllGroupData(null,t)},n.prototype._onAddGroups=function(t){this._onUpdateGroups(t)},n.prototype._onRemoveGroups=function(t){for(var e=0;e<t.length;e++)this._removeGroup(t[e]);this.forceGraphUpdate=!0,this.body.emitter.emit("_change",{queue:!0})},n.prototype._removeGroup=function(t){this.groups.hasOwnProperty(t)&&("right"==this.groups[t].options.yAxisOrientation?(this.yAxisRight.removeGroup(t),this.legendRight.removeGroup(t),this.legendRight.redraw()):(this.yAxisLeft.removeGroup(t),this.legendLeft.removeGroup(t),this.legendLeft.redraw()),delete this.groups[t])},n.prototype._updateGroup=function(t,e){this.groups.hasOwnProperty(e)?(this.groups[e].update(t),"right"==this.groups[e].options.yAxisOrientation?(this.yAxisRight.updateGroup(e,this.groups[e]),this.legendRight.updateGroup(e,this.groups[e]),this.yAxisLeft.removeGroup(e),this.legendLeft.removeGroup(e)):(this.yAxisLeft.updateGroup(e,this.groups[e]),this.legendLeft.updateGroup(e,this.groups[e]),this.yAxisRight.removeGroup(e),this.legendRight.removeGroup(e))):(this.groups[e]=new c(t,e,this.options,this.groupsUsingDefaultStyles),"right"==this.groups[e].options.yAxisOrientation?(this.yAxisRight.addGroup(e,this.groups[e]),this.legendRight.addGroup(e,this.groups[e])):(this.yAxisLeft.addGroup(e,this.groups[e]),this.legendLeft.addGroup(e,this.groups[e]))),this.legendLeft.redraw(),this.legendRight.redraw()},n.prototype._updateAllGroupData=function(t,e){if(null!=this.itemsData){var i={},n=this.itemsData.get(),r=this.itemsData._fieldId,o={};t&&t.map(function(t){o[t]=t});for(var a={},h=0;h<n.length;h++){var l=n[h],d=l.group;null!=d||(d="__ungrouped__"),a.hasOwnProperty(d)?a[d]++:a[d]=1}var u={};if(!e&&t)for(d in this.groups)if(this.groups.hasOwnProperty(d)){var c=(m=this.groups[d]).getItems();i[d]=c.filter(function(t){return u[t[r]]=t[r],t[r]!==o[t[r]]});var f=a[d];a[d]-=i[d].length,i[d].length<f&&(i[d][f-1]={})}for(h=0;h<n.length;h++)if(null!=(d=(l=n[h]).group)||(d="__ungrouped__"),e||!t||l[r]===o[l[r]]||!u.hasOwnProperty(l[r])){i.hasOwnProperty(d)||(i[d]=new Array(a[d]));var p=s.bridgeObject(l);p.x=s.convert(l.x,"Date"),p.end=s.convert(l.end,"Date"),p.orginalY=l.y,p.y=Number(l.y),p[r]=l[r];var g=i[d].length-a[d]--;i[d][g]=p}for(d in this.groups)this.groups.hasOwnProperty(d)&&(i.hasOwnProperty(d)||(i[d]=new Array(0)));for(d in i)if(i.hasOwnProperty(d))if(0==i[d].length)this.groups.hasOwnProperty(d)&&this._removeGroup(d);else{var m=void 0;null!=this.groupsData&&(m=this.groupsData.get(d)),null==m&&(m={id:d,content:this.options.defaultGroup+d}),this._updateGroup(m,d),this.groups[d].setItems(i[d])}this.forceGraphUpdate=!0,this.body.emitter.emit("_change",{queue:!0})}},n.prototype.redraw=function(){var t=!1;this.props.width=this.dom.frame.offsetWidth,this.props.height=this.body.domProps.centerContainer.height-this.body.domProps.border.top-this.body.domProps.border.bottom,t=this._isResized()||t;var e=this.body.range.end-this.body.range.start,i=e!=this.lastVisibleInterval;return this.lastVisibleInterval=e,1==t&&(this.svg.style.width=s.option.asSize(3*this.props.width),this.svg.style.left=s.option.asSize(-this.props.width),-1==(this.options.height+"").indexOf("%")&&1!=this.updateSVGheightOnResize||(this.updateSVGheight=!0)),1==this.updateSVGheight?(this.options.graphHeight!=this.props.height+"px"&&(this.options.graphHeight=this.props.height+"px",this.svg.style.height=this.props.height+"px"),this.updateSVGheight=!1):this.svg.style.height=(""+this.options.graphHeight).replace("px","")+"px",1==t||1==i||1==this.abortedGraphUpdate||1==this.forceGraphUpdate?(t=this._updateGraph()||t,this.forceGraphUpdate=!1):0!=this.lastStart&&0!=this.props.width&&(this.svg.style.left=-this.props.width-this.props.width/(this.body.range.end-this.body.range.start)*(this.body.range.start-this.lastStart)+"px"),this.legendLeft.redraw(),this.legendRight.redraw(),t},n.prototype._getSortedGroupIds=function(){var t=[];for(var e in this.groups)if(this.groups.hasOwnProperty(e)){var i=this.groups[e];1!=i.visible||void 0!==this.options.groups.visibility[e]&&1!=this.options.groups.visibility[e]||t.push({id:e,zIndex:i.options.zIndex})}s.insertSort(t,function(t,e){var i=t.zIndex,n=e.zIndex;return void 0===i&&(i=0),void 0===n&&(n=0),i==n?0:i<n?-1:1});for(var n=new Array(t.length),r=0;r<t.length;r++)n[r]=t[r].id;return n},n.prototype._updateGraph=function(){if(a.prepareElements(this.svgElements),0!=this.props.width&&null!=this.itemsData){var t,e,i={},n=this.body.util.toGlobalTime(-this.body.domProps.root.width),r=this.body.util.toGlobalTime(2*this.body.domProps.root.width),o=this._getSortedGroupIds();if(o.length>0){var s={};for(this._getRelevantData(o,s,n,r),this._applySampling(o,s),e=0;e<o.length;e++)this._convertXcoordinates(s[o[e]]);if(this._getYRanges(o,s,i),1==this._updateYAxis(o,i))return a.cleanupElements(this.svgElements),this.abortedGraphUpdate=!0,!0;this.abortedGraphUpdate=!1;var h=void 0;for(e=0;e<o.length;e++)t=this.groups[o[e]],!0===this.options.stack&&"line"===this.options.style&&(null!=t.options.excludeFromStacking&&t.options.excludeFromStacking||(null!=h&&(this._stack(s[t.id],s[h.id]),1==t.options.shaded.enabled&&"group"!==t.options.shaded.orientation&&("top"==t.options.shaded.orientation&&"group"!==h.options.shaded.orientation?(h.options.shaded.orientation="group",h.options.shaded.groupId=t.id):(t.options.shaded.orientation="group",t.options.shaded.groupId=h.id))),h=t)),this._convertYcoordinates(s[o[e]],t);var l={};for(e=0;e<o.length;e++)if("line"===(t=this.groups[o[e]]).options.style&&1==t.options.shaded.enabled){var d=s[o[e]];if(null==d||0==d.length)continue;if(l.hasOwnProperty(o[e])||(l[o[e]]=g.calcPath(d,t)),"group"===t.options.shaded.orientation){var u=t.options.shaded.groupId;if(-1===o.indexOf(u)){console.log(t.id+": Unknown shading group target given:"+u);continue}l.hasOwnProperty(u)||(l[u]=g.calcPath(s[u],this.groups[u])),g.drawShading(l[o[e]],t,l[u],this.framework)}else g.drawShading(l[o[e]],t,void 0,this.framework)}for(p.draw(o,s,this.framework),e=0;e<o.length;e++)if(t=this.groups[o[e]],s[o[e]].length>0)switch(t.options.style){case"line":l.hasOwnProperty(o[e])||(l[o[e]]=g.calcPath(s[o[e]],t)),g.draw(l[o[e]],t,this.framework);case"point":case"points":"point"!=t.options.style&&"points"!=t.options.style&&1!=t.options.drawPoints.enabled||m.draw(s[o[e]],t,this.framework)}}}return a.cleanupElements(this.svgElements),!1},n.prototype._stack=function(t,e){var i,n,r,o;i=0;for(var s=0;s<t.length;s++){r=void 0,o=void 0;for(var a=i;a<e.length;a++){if(e[a].x===t[s].x){r=e[a],o=e[a],i=a;break}if(e[a].x>t[s].x){o=e[a],r=0==a?o:e[a-1],i=a;break}}void 0===o&&(r=e[e.length-1],o=e[e.length-1]),t[s].y=0==(n=o.x-r.x)?t[s].orginalY+o.y:t[s].orginalY+(o.y-r.y)/n*(t[s].x-r.x)+r.y}},n.prototype._getRelevantData=function(t,e,i,n){var r,o,a;if(t.length>0)for(o=0;o<t.length;o++){var h=(r=this.groups[t[o]]).getItems();if(1==r.options.sort){var l=function(t,e){return t.getTime()==e.getTime()?0:t<e?-1:1},d=Math.max(0,s.binarySearchValue(h,i,"x","before",l)),u=Math.min(h.length,s.binarySearchValue(h,n,"x","after",l)+1);u<=0&&(u=h.length);var c=new Array(u-d);for(a=d;a<u;a++)c[a-d]=r.itemsData[a];e[t[o]]=c}else e[t[o]]=r.itemsData}},n.prototype._applySampling=function(t,e){if(t.length>0)for(var i=0;i<t.length;i++)if(1==this.groups[t[i]].options.sampling){var n=e[t[i]];if(n.length>0){var r,o=n.length,s=o/(this.body.util.toGlobalScreen(n[n.length-1].x)-this.body.util.toGlobalScreen(n[0].x));r=Math.min(Math.ceil(.2*o),Math.max(1,Math.round(s)));for(var a=new Array(o),h=0;h<o;h+=r)a[Math.round(h/r)]=n[h];e[t[i]]=a.splice(0,Math.round(o/r))}}},n.prototype._getYRanges=function(t,e,i){var n,r,o,s,a=[],h=[];if(t.length>0){for(o=0;o<t.length;o++)s=this.groups[t[o]].options,(n=e[t[o]]).length>0&&(r=this.groups[t[o]],!0===s.stack&&"bar"===s.style?"left"===s.yAxisOrientation?a=a.concat(n):h=h.concat(n):i[t[o]]=r.getYRange(n,t[o]));p.getStackedYRange(a,i,t,"__barStackLeft","left"),p.getStackedYRange(h,i,t,"__barStackRight","right")}},n.prototype._updateYAxis=function(t,e){var i,n,r=!1,o=!1,s=!1,a=1e9,h=1e9,l=-1e9,d=-1e9;if(t.length>0){for(var u=0;u<t.length;u++){var c=this.groups[t[u]];c&&"right"!=c.options.yAxisOrientation?(o=!0,a=1e9,l=-1e9):c&&c.options.yAxisOrientation&&(s=!0,h=1e9,d=-1e9)}for(u=0;u<t.length;u++)e.hasOwnProperty(t[u])&&!0!==e[t[u]].ignore&&(i=e[t[u]].min,n=e[t[u]].max,"right"!=e[t[u]].yAxisOrientation?(o=!0,a=a>i?i:a,l=l<n?n:l):(s=!0,h=h>i?i:h,d=d<n?n:d));1==o&&this.yAxisLeft.setRange(a,l),1==s&&this.yAxisRight.setRange(h,d)}r=this._toggleAxisVisiblity(o,this.yAxisLeft)||r,r=this._toggleAxisVisiblity(s,this.yAxisRight)||r,1==s&&1==o?(this.yAxisLeft.drawIcons=!0,this.yAxisRight.drawIcons=!0):(this.yAxisLeft.drawIcons=!1,this.yAxisRight.drawIcons=!1),this.yAxisRight.master=!o,this.yAxisRight.masterAxis=this.yAxisLeft,0==this.yAxisRight.master?(this.yAxisLeft.lineOffset=1==s?this.yAxisRight.width:0,r=this.yAxisLeft.redraw()||r,r=this.yAxisRight.redraw()||r):r=this.yAxisRight.redraw()||r;var f=["__barStackLeft","__barStackRight","__lineStackLeft","__lineStackRight"];for(u=0;u<f.length;u++)-1!=t.indexOf(f[u])&&t.splice(t.indexOf(f[u]),1);return r},n.prototype._toggleAxisVisiblity=function(t,e){var i=!1;return 0==t?e.dom.frame.parentNode&&0==e.hidden&&(e.hide(),i=!0):e.dom.frame.parentNode||1!=e.hidden||(e.show(),i=!0),i},n.prototype._convertXcoordinates=function(t){for(var e=this.body.util.toScreen,i=0;i<t.length;i++)t[i].screen_x=e(t[i].x)+this.props.width,t[i].screen_y=t[i].y,t[i].screen_end=null!=t[i].end?e(t[i].end)+this.props.width:void 0},n.prototype._convertYcoordinates=function(t,e){var i=this.yAxisLeft,n=Number(this.svg.style.height.replace("px",""));"right"==e.options.yAxisOrientation&&(i=this.yAxisRight);for(var r=0;r<t.length;r++)t[r].screen_y=Math.round(i.convertValue(t[r].y));e.setZeroPosition(Math.min(n,i.convertValue(0)))},t.exports=n},function(t,e,i){function n(t,e,i,n){this.id=s.randomUUID(),this.body=t,this.defaultOptions={orientation:"left",showMinorLabels:!0,showMajorLabels:!0,icons:!1,majorLinesOffset:7,minorLinesOffset:4,labelOffsetX:10,labelOffsetY:2,iconWidth:20,width:"40px",visible:!0,alignZeros:!0,left:{range:{min:void 0,max:void 0},format:function(t){return""+parseFloat(t.toPrecision(3))},title:{text:void 0,style:void 0}},right:{range:{min:void 0,max:void 0},format:function(t){return""+parseFloat(t.toPrecision(3))},title:{text:void 0,style:void 0}}},this.linegraphOptions=n,this.linegraphSVG=i,this.props={},this.DOMelements={lines:{},labels:{},title:{}},this.dom={},this.scale=void 0,this.range={start:0,end:0},this.options=s.extend({},this.defaultOptions),this.conversionFactor=1,this.setOptions(e),this.width=Number((""+this.options.width).replace("px","")),this.minWidth=this.width,this.height=this.linegraphSVG.getBoundingClientRect().height,this.hidden=!1,this.stepPixels=25,this.zeroCrossing=-1,this.amountOfSteps=-1,this.lineOffset=0,this.master=!0,this.masterAxis=null,this.svgElements={},this.iconsRemoved=!1,this.groups={},this.amountOfGroups=0,this._create(),this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups};var r=this;this.body.emitter.on("verticalDrag",function(){r.dom.lineContainer.style.top=r.body.domProps.scrollTop+"px"})}var r=i(8),o=r&&r.__esModule?r:{default:r},s=i(2),a=i(14),h=i(16),l=i(108);(n.prototype=new h).addGroup=function(t,e){this.groups.hasOwnProperty(t)||(this.groups[t]=e),this.amountOfGroups+=1},n.prototype.updateGroup=function(t,e){this.groups.hasOwnProperty(t)||(this.amountOfGroups+=1),this.groups[t]=e},n.prototype.removeGroup=function(t){this.groups.hasOwnProperty(t)&&(delete this.groups[t],this.amountOfGroups-=1)},n.prototype.setOptions=function(t){if(t){var e=!1;this.options.orientation!=t.orientation&&void 0!==t.orientation&&(e=!0),s.selectiveDeepExtend(["orientation","showMinorLabels","showMajorLabels","icons","majorLinesOffset","minorLinesOffset","labelOffsetX","labelOffsetY","iconWidth","width","visible","left","right","alignZeros"],this.options,t),this.minWidth=Number((""+this.options.width).replace("px","")),!0===e&&this.dom.frame&&(this.hide(),this.show())}},n.prototype._create=function(){this.dom.frame=document.createElement("div"),this.dom.frame.style.width=this.options.width,this.dom.frame.style.height=this.height,this.dom.lineContainer=document.createElement("div"),this.dom.lineContainer.style.width="100%",this.dom.lineContainer.style.height=this.height,this.dom.lineContainer.style.position="relative",this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="absolute",this.svg.style.top="0px",this.svg.style.height="100%",this.svg.style.width="100%",this.svg.style.display="block",this.dom.frame.appendChild(this.svg)},n.prototype._redrawGroupIcons=function(){a.prepareElements(this.svgElements);var t,e=this.options.iconWidth,i=11.5;t="left"===this.options.orientation?4:this.width-e-4;var n=(0,o.default)(this.groups);n.sort(function(t,e){return t<e?-1:1});for(var r=0;r<n.length;r++){var s=n[r];!0!==this.groups[s].visible||void 0!==this.linegraphOptions.visibility[s]&&!0!==this.linegraphOptions.visibility[s]||(this.groups[s].getLegend(e,15,this.framework,t,i),i+=19)}a.cleanupElements(this.svgElements),this.iconsRemoved=!1},n.prototype._cleanupIcons=function(){!1===this.iconsRemoved&&(a.prepareElements(this.svgElements),a.cleanupElements(this.svgElements),this.iconsRemoved=!0)},n.prototype.show=function(){this.hidden=!1,this.dom.frame.parentNode||("left"===this.options.orientation?this.body.dom.left.appendChild(this.dom.frame):this.body.dom.right.appendChild(this.dom.frame)),this.dom.lineContainer.parentNode||this.body.dom.backgroundHorizontal.appendChild(this.dom.lineContainer)},n.prototype.hide=function(){this.hidden=!0,this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame),this.dom.lineContainer.parentNode&&this.dom.lineContainer.parentNode.removeChild(this.dom.lineContainer)},n.prototype.setRange=function(t,e){this.range.start=t,this.range.end=e},n.prototype.redraw=function(){var t=!1,e=0;for(var i in this.dom.lineContainer.style.top=this.body.domProps.scrollTop+"px",this.groups)this.groups.hasOwnProperty(i)&&(!0!==this.groups[i].visible||void 0!==this.linegraphOptions.visibility[i]&&!0!==this.linegraphOptions.visibility[i]||e++);if(0===this.amountOfGroups||0===e)this.hide();else{this.show(),this.height=Number(this.linegraphSVG.style.height.replace("px","")),this.dom.lineContainer.style.height=this.height+"px",this.width=!0===this.options.visible?Number((""+this.options.width).replace("px","")):0;var n=this.props,r=this.dom.frame;r.className="vis-data-axis",this._calculateCharSize();var o=this.options.orientation,s=this.options.showMajorLabels;n.minorLabelHeight=this.options.showMinorLabels?n.minorCharHeight:0,n.majorLabelHeight=s?n.majorCharHeight:0,n.minorLineWidth=this.body.dom.backgroundHorizontal.offsetWidth-this.lineOffset-this.width+2*this.options.minorLinesOffset,n.minorLineHeight=1,n.majorLineWidth=this.body.dom.backgroundHorizontal.offsetWidth-this.lineOffset-this.width+2*this.options.majorLinesOffset,n.majorLineHeight=1,"left"===o?(r.style.top="0",r.style.left="0",r.style.bottom="",r.style.width=this.width+"px",r.style.height=this.height+"px",this.props.width=this.body.domProps.left.width,this.props.height=this.body.domProps.left.height):(r.style.top="",r.style.bottom="0",r.style.left="0",r.style.width=this.width+"px",r.style.height=this.height+"px",this.props.width=this.body.domProps.right.width,this.props.height=this.body.domProps.right.height),t=this._redrawLabels(),t=this._isResized()||t,!0===this.options.icons?this._redrawGroupIcons():this._cleanupIcons(),this._redrawTitle(o)}return t},n.prototype._redrawLabels=function(){var t=this,e=!1;a.prepareElements(this.DOMelements.lines),a.prepareElements(this.DOMelements.labels);var i=this.options.orientation,n=null!=this.options[i].range?this.options[i].range:{},r=!0;null!=n.max&&(this.range.end=n.max,r=!1);var o=!0;null!=n.min&&(this.range.start=n.min,o=!1),this.scale=new l(this.range.start,this.range.end,o,r,this.dom.frame.offsetHeight,this.props.majorCharHeight,this.options.alignZeros,this.options[i].format),!1===this.master&&null!=this.masterAxis&&this.scale.followScale(this.masterAxis.scale),this.maxLabelSize=0,this.scale.getLines().forEach(function(e){var n=e.y,r=e.major;t.options.showMinorLabels&&!1===r&&t._redrawLabel(n-2,e.val,i,"vis-y-axis vis-minor",t.props.minorCharHeight),r&&n>=0&&t._redrawLabel(n-2,e.val,i,"vis-y-axis vis-major",t.props.majorCharHeight),!0===t.master&&(r?t._redrawLine(n,i,"vis-grid vis-horizontal vis-major",t.options.majorLinesOffset,t.props.majorLineWidth):t._redrawLine(n,i,"vis-grid vis-horizontal vis-minor",t.options.minorLinesOffset,t.props.minorLineWidth))});var s=0;void 0!==this.options[i].title&&void 0!==this.options[i].title.text&&(s=this.props.titleCharHeight);var h=!0===this.options.icons?Math.max(this.options.iconWidth,s)+this.options.labelOffsetX+15:s+this.options.labelOffsetX+15;return this.maxLabelSize>this.width-h&&!0===this.options.visible?(this.width=this.maxLabelSize+h,this.options.width=this.width+"px",a.cleanupElements(this.DOMelements.lines),a.cleanupElements(this.DOMelements.labels),this.redraw(),e=!0):this.maxLabelSize<this.width-h&&!0===this.options.visible&&this.width>this.minWidth?(this.width=Math.max(this.minWidth,this.maxLabelSize+h),this.options.width=this.width+"px",a.cleanupElements(this.DOMelements.lines),a.cleanupElements(this.DOMelements.labels),this.redraw(),e=!0):(a.cleanupElements(this.DOMelements.lines),a.cleanupElements(this.DOMelements.labels),e=!1),e},n.prototype.convertValue=function(t){return this.scale.convertValue(t)},n.prototype.screenToValue=function(t){return this.scale.screenToValue(t)},n.prototype._redrawLabel=function(t,e,i,n,r){var o=a.getDOMElement("div",this.DOMelements.labels,this.dom.frame);o.className=n,o.innerHTML=e,"left"===i?(o.style.left="-"+this.options.labelOffsetX+"px",o.style.textAlign="right"):(o.style.right="-"+this.options.labelOffsetX+"px",o.style.textAlign="left"),o.style.top=t-.5*r+this.options.labelOffsetY+"px",e+="";var s=Math.max(this.props.majorCharWidth,this.props.minorCharWidth);this.maxLabelSize<e.length*s&&(this.maxLabelSize=e.length*s)},n.prototype._redrawLine=function(t,e,i,n,r){if(!0===this.master){var o=a.getDOMElement("div",this.DOMelements.lines,this.dom.lineContainer);o.className=i,o.innerHTML="","left"===e?o.style.left=this.width-n+"px":o.style.right=this.width-n+"px",o.style.width=r+"px",o.style.top=t+"px"}},n.prototype._redrawTitle=function(t){if(a.prepareElements(this.DOMelements.title),void 0!==this.options[t].title&&void 0!==this.options[t].title.text){var e=a.getDOMElement("div",this.DOMelements.title,this.dom.frame);e.className="vis-y-axis vis-title vis-"+t,e.innerHTML=this.options[t].title.text,void 0!==this.options[t].title.style&&s.addCssText(e,this.options[t].title.style),"left"===t?e.style.left=this.props.titleCharHeight+"px":e.style.right=this.props.titleCharHeight+"px",e.style.width=this.height+"px"}a.cleanupElements(this.DOMelements.title)},n.prototype._calculateCharSize=function(){if(!("minorCharHeight"in this.props)){var t=document.createTextNode("0"),e=document.createElement("div");e.className="vis-y-axis vis-minor vis-measure",e.appendChild(t),this.dom.frame.appendChild(e),this.props.minorCharHeight=e.clientHeight,this.props.minorCharWidth=e.clientWidth,this.dom.frame.removeChild(e)}if(!("majorCharHeight"in this.props)){var i=document.createTextNode("0"),n=document.createElement("div");n.className="vis-y-axis vis-major vis-measure",n.appendChild(i),this.dom.frame.appendChild(n),this.props.majorCharHeight=n.clientHeight,this.props.majorCharWidth=n.clientWidth,this.dom.frame.removeChild(n)}if(!("titleCharHeight"in this.props)){var r=document.createTextNode("0"),o=document.createElement("div");o.className="vis-y-axis vis-title vis-measure",o.appendChild(r),this.dom.frame.appendChild(o),this.props.titleCharHeight=o.clientHeight,this.props.titleCharWidth=o.clientWidth,this.dom.frame.removeChild(o)}},t.exports=n},function(t,e,i){function n(t,e,i,n,r,o){var s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],a=arguments.length>7&&void 0!==arguments[7]&&arguments[7];if(this.majorSteps=[1,2,5,10],this.minorSteps=[.25,.5,1,2],this.customLines=null,this.containerHeight=r,this.majorCharHeight=o,this._start=t,this._end=e,this.scale=1,this.minorStepIdx=-1,this.magnitudefactor=1,this.determineScale(),this.zeroAlign=s,this.autoScaleStart=i,this.autoScaleEnd=n,this.formattingFunction=a,i||n){var h=this,l=function(t){var e=t-t%(h.magnitudefactor*h.minorSteps[h.minorStepIdx]);return t%(h.magnitudefactor*h.minorSteps[h.minorStepIdx])>h.magnitudefactor*h.minorSteps[h.minorStepIdx]*.5?e+h.magnitudefactor*h.minorSteps[h.minorStepIdx]:e};i&&(this._start-=2*this.magnitudefactor*this.minorSteps[this.minorStepIdx],this._start=l(this._start)),n&&(this._end+=this.magnitudefactor*this.minorSteps[this.minorStepIdx],this._end=l(this._end)),this.determineScale()}}n.prototype.setCharHeight=function(t){this.majorCharHeight=t},n.prototype.setHeight=function(t){this.containerHeight=t},n.prototype.determineScale=function(){var t=this._end-this._start;this.scale=this.containerHeight/t;var e=this.majorCharHeight/this.scale,i=t>0?Math.round(Math.log(t)/Math.LN10):0;this.minorStepIdx=-1,this.magnitudefactor=Math.pow(10,i);var n=0;i<0&&(n=i);for(var r=!1,o=n;Math.abs(o)<=Math.abs(i);o++){this.magnitudefactor=Math.pow(10,o);for(var s=0;s<this.minorSteps.length;s++)if(this.magnitudefactor*this.minorSteps[s]>=e){r=!0,this.minorStepIdx=s;break}if(!0===r)break}},n.prototype.is_major=function(t){return t%(this.magnitudefactor*this.majorSteps[this.minorStepIdx])==0},n.prototype.getStep=function(){return this.magnitudefactor*this.minorSteps[this.minorStepIdx]},n.prototype.getFirstMajor=function(){var t=this.magnitudefactor*this.majorSteps[this.minorStepIdx];return this.convertValue(this._start+(t-this._start%t)%t)},n.prototype.formatValue=function(t){var e=t.toPrecision(5);return"function"==typeof this.formattingFunction&&(e=this.formattingFunction(t)),"number"==typeof e?""+e:"string"==typeof e?e:t.toPrecision(5)},n.prototype.getLines=function(){for(var t=[],e=this.getStep(),i=this._start+(e-this._start%e)%e;this._end-i>1e-5;i+=e)i!=this._start&&t.push({major:this.is_major(i),y:this.convertValue(i),val:this.formatValue(i)});return t},n.prototype.followScale=function(t){var e=this.minorStepIdx,i=this._start,n=this._end,r=this,o=function(){r.magnitudefactor*=2},s=function(){r.magnitudefactor/=2};t.minorStepIdx<=1&&this.minorStepIdx<=1||t.minorStepIdx>1&&this.minorStepIdx>1||(t.minorStepIdx<this.minorStepIdx?(this.minorStepIdx=1,2==e?o():(o(),o())):(this.minorStepIdx=2,1==e?s():(s(),s())));for(var a=t.convertValue(0),h=t.getStep()*t.scale,l=!1,d=0;!l&&d++<5;){this.scale=h/(this.minorSteps[this.minorStepIdx]*this.magnitudefactor);var u=this.containerHeight/this.scale;this._start=i,this._end=this._start+u;var c=this._end*this.scale,f=this.magnitudefactor*this.majorSteps[this.minorStepIdx],p=this.getFirstMajor()-t.getFirstMajor();if(this.zeroAlign?(this._end+=(a-c)/this.scale,this._start=this._end-u):this.autoScaleStart?(this._start-=p/this.scale,this._end=this._start+u):(this._start+=f-p/this.scale,this._end=this._start+u),!this.autoScaleEnd&&this._end>n+1e-5)s(),l=!1;else{if(!this.autoScaleStart&&this._start<i-1e-5){if(!(this.zeroAlign&&i>=0)){s(),l=!1;continue}console.warn("Can't adhere to given 'min' range, due to zeroalign")}this.autoScaleStart&&this.autoScaleEnd&&u<n-i?(o(),l=!1):l=!0}}},n.prototype.convertValue=function(t){return this.containerHeight-(t-this._start)*this.scale},n.prototype.screenToValue=function(t){return(this.containerHeight-t)/this.scale+this._start},t.exports=n},function(t,e,i){function n(t,e,i,n){this.id=e,this.options=s.selectiveBridgeObject(["sampling","style","sort","yAxisOrientation","barChart","drawPoints","shaded","interpolation","zIndex","excludeFromStacking","excludeFromLegend"],i),this.usingDefaultStyle=void 0===t.className,this.groupsUsingDefaultStyles=n,this.zeroPosition=0,this.update(t),1==this.usingDefaultStyle&&(this.groupsUsingDefaultStyles[0]+=1),this.itemsData=[],this.visible=void 0===t.visible||t.visible}var r=i(6),o=r&&r.__esModule?r:{default:r},s=i(2),a=i(110),h=i(111),l=i(72);n.prototype.setItems=function(t){null!=t?(this.itemsData=t,1==this.options.sort&&s.insertSort(this.itemsData,function(t,e){return t.x>e.x?1:-1})):this.itemsData=[]},n.prototype.getItems=function(){return this.itemsData},n.prototype.setZeroPosition=function(t){this.zeroPosition=t},n.prototype.setOptions=function(t){void 0!==t&&(s.selectiveDeepExtend(["sampling","style","sort","yAxisOrientation","barChart","zIndex","excludeFromStacking","excludeFromLegend"],this.options,t),"function"==typeof t.drawPoints&&(t.drawPoints={onRender:t.drawPoints}),s.mergeOptions(this.options,t,"interpolation"),s.mergeOptions(this.options,t,"drawPoints"),s.mergeOptions(this.options,t,"shaded"),t.interpolation&&"object"==(0,o.default)(t.interpolation)&&t.interpolation.parametrization&&("uniform"==t.interpolation.parametrization?this.options.interpolation.alpha=0:"chordal"==t.interpolation.parametrization?this.options.interpolation.alpha=1:(this.options.interpolation.parametrization="centripetal",this.options.interpolation.alpha=.5)))},n.prototype.update=function(t){this.group=t,this.content=t.content||"graph",this.className=t.className||this.className||"vis-graph-group"+this.groupsUsingDefaultStyles[0]%10,this.visible=void 0===t.visible||t.visible,this.style=t.style,this.setOptions(t.options)},n.prototype.getLegend=function(t,e,i,n,r){switch(null!=i&&null!=i||(i={svg:document.createElementNS("http://www.w3.org/2000/svg","svg"),svgElements:{},options:this.options,groups:[this]}),null!=n&&null!=n||(n=0),null!=r&&null!=r||(r=.5*e),this.options.style){case"line":h.drawIcon(this,n,r,t,e,i);break;case"points":case"point":l.drawIcon(this,n,r,t,e,i);break;case"bar":a.drawIcon(this,n,r,t,e,i)}return{icon:i.svg,label:this.content,orientation:this.options.yAxisOrientation}},n.prototype.getYRange=function(t){for(var e=t[0].y,i=t[0].y,n=0;n<t.length;n++)e=e>t[n].y?t[n].y:e,i=i<t[n].y?t[n].y:i;return{min:e,max:i,yAxisOrientation:this.options.yAxisOrientation}},t.exports=n},function(t,e,i){function n(t,e){}var r=i(14),o=i(72);n.drawIcon=function(t,e,i,n,o,s){var a=.5*o,h=r.getSVGElement("rect",s.svgElements,s.svg);h.setAttributeNS(null,"x",e),h.setAttributeNS(null,"y",i-a),h.setAttributeNS(null,"width",n),h.setAttributeNS(null,"height",2*a),h.setAttributeNS(null,"class","vis-outline");var l=Math.round(.3*n),d=t.options.barChart.width/l,u=Math.round(.4*o),c=Math.round(.75*o),f=Math.round((n-2*l)/3);if(r.drawBar(e+.5*l+f,i+a-u-1,l,u,t.className+" vis-bar",s.svgElements,s.svg,t.style),r.drawBar(e+1.5*l+f+2,i+a-c-1,l,c,t.className+" vis-bar",s.svgElements,s.svg,t.style),1==t.options.drawPoints.enabled){var p={style:t.options.drawPoints.style,styles:t.options.drawPoints.styles,size:t.options.drawPoints.size/d,className:t.className};r.drawPoint(e+.5*l+f,i+a-u-1,p,s.svgElements,s.svg),r.drawPoint(e+1.5*l+f+2,i+a-c-1,p,s.svgElements,s.svg)}},n.draw=function(t,e,i){var s,a,h,l,d,u,c=[],f={},p=0;for(d=0;d<t.length;d++)if("bar"===(l=i.groups[t[d]]).options.style&&!0===l.visible&&(void 0===i.options.groups.visibility[t[d]]||!0===i.options.groups.visibility[t[d]]))for(u=0;u<e[t[d]].length;u++)c.push({screen_x:e[t[d]][u].screen_x,screen_end:e[t[d]][u].screen_end,screen_y:e[t[d]][u].screen_y,x:e[t[d]][u].x,end:e[t[d]][u].end,y:e[t[d]][u].y,groupId:t[d],label:e[t[d]][u].label}),p+=1;if(0!==p)for(c.sort(function(t,e){return t.screen_x===e.screen_x?t.groupId<e.groupId?-1:1:t.screen_x-e.screen_x}),n._getDataIntersections(f,c),d=0;d<c.length;d++){var g=null!=(l=i.groups[c[d].groupId]).options.barChart.minWidth?l.options.barChart.minWidth:.1*l.options.barChart.width,m=0;if(void 0===f[a=c[d].screen_x])d+1<c.length&&(s=Math.abs(c[d+1].screen_x-a)),h=n._getSafeDrawData(s,l,g);else{var v=d+(f[a].amount-f[a].resolved);v<c.length&&(s=Math.abs(c[v].screen_x-a)),h=n._getSafeDrawData(s,l,g),f[a].resolved+=1,!0===l.options.stack&&!0!==l.options.excludeFromStacking?c[d].screen_y<l.zeroPosition?(m=f[a].accumulatedNegative,f[a].accumulatedNegative+=l.zeroPosition-c[d].screen_y):(m=f[a].accumulatedPositive,f[a].accumulatedPositive+=l.zeroPosition-c[d].screen_y):!0===l.options.barChart.sideBySide&&(h.width=h.width/f[a].amount,h.offset+=f[a].resolved*h.width-.5*h.width*(f[a].amount+1))}var y=h.width,b=c[d].screen_x;b+=null!=c[d].screen_end?.5*(y=c[d].screen_end-c[d].screen_x):h.offset,r.drawBar(b,c[d].screen_y-m,y,l.zeroPosition-c[d].screen_y,l.className+" vis-bar",i.svgElements,i.svg,l.style),!0===l.options.drawPoints.enabled&&o.draw([{screen_x:c[d].screen_x,screen_y:c[d].screen_y-m,x:c[d].x,y:c[d].y,groupId:c[d].groupId,label:c[d].label}],l,i,h.offset)}},n._getDataIntersections=function(t,e){for(var i,n=0;n<e.length;n++)n+1<e.length&&(i=Math.abs(e[n+1].screen_x-e[n].screen_x)),n>0&&(i=Math.min(i,Math.abs(e[n-1].screen_x-e[n].screen_x))),0===i&&(void 0===t[e[n].screen_x]&&(t[e[n].screen_x]={amount:0,resolved:0,accumulatedPositive:0,accumulatedNegative:0}),t[e[n].screen_x].amount+=1)},n._getSafeDrawData=function(t,e,i){var n,r;return t<e.options.barChart.width&&t>0?(n=t<i?i:t,r=0,"left"===e.options.barChart.align?r-=.5*t:"right"===e.options.barChart.align&&(r+=.5*t)):(n=e.options.barChart.width,r=0,"left"===e.options.barChart.align?r-=.5*e.options.barChart.width:"right"===e.options.barChart.align&&(r+=.5*e.options.barChart.width)),{width:n,offset:r}},n.getStackedYRange=function(t,e,i,r,o){if(t.length>0){t.sort(function(t,e){return t.screen_x===e.screen_x?t.groupId<e.groupId?-1:1:t.screen_x-e.screen_x});var s={};n._getDataIntersections(s,t),e[r]=n._getStackedYRange(s,t),e[r].yAxisOrientation=o,i.push(r)}},n._getStackedYRange=function(t,e){for(var i,n=e[0].screen_y,r=e[0].screen_y,o=0;o<e.length;o++)void 0===t[i=e[o].screen_x]?(n=n>e[o].screen_y?e[o].screen_y:n,r=r<e[o].screen_y?e[o].screen_y:r):e[o].screen_y<0?t[i].accumulatedNegative+=e[o].screen_y:t[i].accumulatedPositive+=e[o].screen_y;for(var s in t)t.hasOwnProperty(s)&&(n=(n=n>t[s].accumulatedNegative?t[s].accumulatedNegative:n)>t[s].accumulatedPositive?t[s].accumulatedPositive:n,r=(r=r<t[s].accumulatedNegative?t[s].accumulatedNegative:r)<t[s].accumulatedPositive?t[s].accumulatedPositive:r);return{min:n,max:r}},t.exports=n},function(t,e,i){function n(t,e){}var r=i(14);n.calcPath=function(t,e){if(null!=t&&t.length>0)return 1==e.options.interpolation.enabled?n._catmullRom(t,e):n._linear(t)},n.drawIcon=function(t,e,i,n,o,s){var a,h,l=.5*o,d=r.getSVGElement("rect",s.svgElements,s.svg);d.setAttributeNS(null,"x",e),d.setAttributeNS(null,"y",i-l),d.setAttributeNS(null,"width",n),d.setAttributeNS(null,"height",2*l),d.setAttributeNS(null,"class","vis-outline"),(a=r.getSVGElement("path",s.svgElements,s.svg)).setAttributeNS(null,"class",t.className),void 0!==t.style&&a.setAttributeNS(null,"style",t.style),a.setAttributeNS(null,"d","M"+e+","+i+" L"+(e+n)+","+i),1==t.options.shaded.enabled&&((h=r.getSVGElement("path",s.svgElements,s.svg)).setAttributeNS(null,"d","top"==t.options.shaded.orientation?"M"+e+", "+(i-l)+"L"+e+","+i+" L"+(e+n)+","+i+" L"+(e+n)+","+(i-l):"M"+e+","+i+" L"+e+","+(i+l)+" L"+(e+n)+","+(i+l)+"L"+(e+n)+","+i),h.setAttributeNS(null,"class",t.className+" vis-icon-fill"),void 0!==t.options.shaded.style&&""!==t.options.shaded.style&&h.setAttributeNS(null,"style",t.options.shaded.style)),1==t.options.drawPoints.enabled&&r.drawPoint(e+.5*n,i,{style:t.options.drawPoints.style,styles:t.options.drawPoints.styles,size:t.options.drawPoints.size,className:t.className},s.svgElements,s.svg)},n.drawShading=function(t,e,i,n){if(1==e.options.shaded.enabled){var o,s,a=Number(n.svg.style.height.replace("px","")),h=r.getSVGElement("path",n.svgElements,n.svg),l="L";1==e.options.interpolation.enabled&&(l="C"),s="top"==e.options.shaded.orientation?0:"bottom"==e.options.shaded.orientation?a:Math.min(Math.max(0,e.zeroPosition),a),o="group"==e.options.shaded.orientation&&null!=i&&null!=i?"M"+t[0][0]+","+t[0][1]+" "+this.serializePath(t,l,!1)+" L"+i[i.length-1][0]+","+i[i.length-1][1]+" "+this.serializePath(i,l,!0)+i[0][0]+","+i[0][1]+" Z":"M"+t[0][0]+","+t[0][1]+" "+this.serializePath(t,l,!1)+" V"+s+" H"+t[0][0]+" Z",h.setAttributeNS(null,"class",e.className+" vis-fill"),void 0!==e.options.shaded.style&&h.setAttributeNS(null,"style",e.options.shaded.style),h.setAttributeNS(null,"d",o)}},n.draw=function(t,e,i){if(null!=t&&null!=t){var n=r.getSVGElement("path",i.svgElements,i.svg);n.setAttributeNS(null,"class",e.className),void 0!==e.style&&n.setAttributeNS(null,"style",e.style);var o="L";1==e.options.interpolation.enabled&&(o="C"),n.setAttributeNS(null,"d","M"+t[0][0]+","+t[0][1]+" "+this.serializePath(t,o,!1))}},n.serializePath=function(t,e,i){if(t.length<2)return"";var n,r=e;if(i)for(n=t.length-2;n>0;n--)r+=t[n][0]+","+t[n][1]+" ";else for(n=1;n<t.length;n++)r+=t[n][0]+","+t[n][1]+" ";return r},n._catmullRomUniform=function(t){var e,i,n,r,o,s,a=[];a.push([Math.round(t[0].screen_x),Math.round(t[0].screen_y)]);for(var h=t.length,l=0;l<h-1;l++)s={screen_x:1/6*((i=t[l]).screen_x+6*(n=t[l+1]).screen_x-(r=l+2<h?t[l+2]:n).screen_x),screen_y:1/6*(i.screen_y+6*n.screen_y-r.screen_y)},a.push([(o={screen_x:(6*i.screen_x-(e=0==l?t[0]:t[l-1]).screen_x+n.screen_x)*(1/6),screen_y:(6*i.screen_y-e.screen_y+n.screen_y)*(1/6)}).screen_x,o.screen_y]),a.push([s.screen_x,s.screen_y]),a.push([n.screen_x,n.screen_y]);return a},n._catmullRom=function(t,e){var i=e.options.interpolation.alpha;if(0==i||void 0===i)return this._catmullRomUniform(t);var n,r,o,s,a,h,l,d,u,c,f,p,g,m,v,y,b,w,x,_=[];_.push([Math.round(t[0].screen_x),Math.round(t[0].screen_y)]);for(var k=t.length,S=0;S<k-1;S++)n=0==S?t[0]:t[S-1],r=t[S],o=t[S+1],s=S+2<k?t[S+2]:o,l=Math.sqrt(Math.pow(n.screen_x-r.screen_x,2)+Math.pow(n.screen_y-r.screen_y,2)),d=Math.sqrt(Math.pow(r.screen_x-o.screen_x,2)+Math.pow(r.screen_y-o.screen_y,2)),u=Math.sqrt(Math.pow(o.screen_x-s.screen_x,2)+Math.pow(o.screen_y-s.screen_y,2)),m=Math.pow(u,i),y=Math.pow(u,2*i),v=Math.pow(d,i),b=Math.pow(d,2*i),x=Math.pow(l,i),w=Math.pow(l,2*i),(p=3*x*(x+v))>0&&(p=1/p),(g=3*m*(m+v))>0&&(g=1/g),0==(a={screen_x:(-b*n.screen_x+(c=2*w+3*x*v+b)*r.screen_x+w*o.screen_x)*p,screen_y:(-b*n.screen_y+c*r.screen_y+w*o.screen_y)*p}).screen_x&&0==a.screen_y&&(a=r),0==(h={screen_x:(y*r.screen_x+(f=2*y+3*m*v+b)*o.screen_x-b*s.screen_x)*g,screen_y:(y*r.screen_y+f*o.screen_y-b*s.screen_y)*g}).screen_x&&0==h.screen_y&&(h=o),_.push([a.screen_x,a.screen_y]),_.push([h.screen_x,h.screen_y]),_.push([o.screen_x,o.screen_y]);return _},n._linear=function(t){for(var e=[],i=0;i<t.length;i++)e.push([t[i].screen_x,t[i].screen_y]);return e},t.exports=n},function(t,e,i){function n(t,e,i,n){this.body=t,this.defaultOptions={enabled:!1,icons:!0,iconSize:20,iconSpacing:6,left:{visible:!0,position:"top-left"},right:{visible:!0,position:"top-right"}},this.side=i,this.options=s.extend({},this.defaultOptions),this.linegraphOptions=n,this.svgElements={},this.dom={},this.groups={},this.amountOfGroups=0,this._create(),this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups},this.setOptions(e)}var r=i(8),o=r&&r.__esModule?r:{default:r},s=i(2),a=i(14),h=i(16);(n.prototype=new h).clear=function(){this.groups={},this.amountOfGroups=0},n.prototype.addGroup=function(t,e){1!=e.options.excludeFromLegend&&(this.groups.hasOwnProperty(t)||(this.groups[t]=e),this.amountOfGroups+=1)},n.prototype.updateGroup=function(t,e){this.groups[t]=e},n.prototype.removeGroup=function(t){this.groups.hasOwnProperty(t)&&(delete this.groups[t],this.amountOfGroups-=1)},n.prototype._create=function(){this.dom.frame=document.createElement("div"),this.dom.frame.className="vis-legend",this.dom.frame.style.position="absolute",this.dom.frame.style.top="10px",this.dom.frame.style.display="block",this.dom.textArea=document.createElement("div"),this.dom.textArea.className="vis-legend-text",this.dom.textArea.style.position="relative",this.dom.textArea.style.top="0px",this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="absolute",this.svg.style.top="0px",this.svg.style.width=this.options.iconSize+5+"px",this.svg.style.height="100%",this.dom.frame.appendChild(this.svg),this.dom.frame.appendChild(this.dom.textArea)},n.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame)},n.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame)},n.prototype.setOptions=function(t){s.selectiveDeepExtend(["enabled","orientation","icons","left","right"],this.options,t)},n.prototype.redraw=function(){var t=0,e=(0,o.default)(this.groups);e.sort(function(t,e){return t<e?-1:1});for(var i=0;i<e.length;i++){var n=e[i];1!=this.groups[n].visible||void 0!==this.linegraphOptions.visibility[n]&&1!=this.linegraphOptions.visibility[n]||t++}if(0==this.options[this.side].visible||0==this.amountOfGroups||0==this.options.enabled||0==t)this.hide();else{this.show(),"top-left"==this.options[this.side].position||"bottom-left"==this.options[this.side].position?(this.dom.frame.style.left="4px",this.dom.frame.style.textAlign="left",this.dom.textArea.style.textAlign="left",this.dom.textArea.style.left=this.options.iconSize+15+"px",this.dom.textArea.style.right="",this.svg.style.left="0px",this.svg.style.right=""):(this.dom.frame.style.right="4px",this.dom.frame.style.textAlign="right",this.dom.textArea.style.textAlign="right",this.dom.textArea.style.right=this.options.iconSize+15+"px",this.dom.textArea.style.left="",this.svg.style.right="0px",this.svg.style.left=""),"top-left"==this.options[this.side].position||"top-right"==this.options[this.side].position?(this.dom.frame.style.top=4-Number(this.body.dom.center.style.top.replace("px",""))+"px",this.dom.frame.style.bottom=""):(this.dom.frame.style.bottom=this.body.domProps.center.height-this.body.domProps.centerContainer.height+4+Number(this.body.dom.center.style.top.replace("px",""))+"px",this.dom.frame.style.top=""),0==this.options.icons?(this.dom.frame.style.width=this.dom.textArea.offsetWidth+10+"px",this.dom.textArea.style.right="",this.dom.textArea.style.left="",this.svg.style.width="0px"):(this.dom.frame.style.width=this.options.iconSize+15+this.dom.textArea.offsetWidth+10+"px",this.drawLegendIcons());var r="";for(i=0;i<e.length;i++)1!=this.groups[n=e[i]].visible||void 0!==this.linegraphOptions.visibility[n]&&1!=this.linegraphOptions.visibility[n]||(r+=this.groups[n].content+"<br />");this.dom.textArea.innerHTML=r,this.dom.textArea.style.lineHeight=.75*this.options.iconSize+this.options.iconSpacing+"px"}},n.prototype.drawLegendIcons=function(){if(this.dom.frame.parentNode){var t=(0,o.default)(this.groups);t.sort(function(t,e){return t<e?-1:1}),a.resetElements(this.svgElements);var e=window.getComputedStyle(this.dom.frame).paddingTop,i=Number(e.replace("px","")),n=i,r=this.options.iconSize,s=.75*this.options.iconSize,h=i+.5*s+3;this.svg.style.width=r+5+i+"px";for(var l=0;l<t.length;l++){var d=t[l];1!=this.groups[d].visible||void 0!==this.linegraphOptions.visibility[d]&&1!=this.linegraphOptions.visibility[d]||(this.groups[d].getLegend(r,s,this.framework,n,h),h+=s+this.options.iconSpacing)}}},t.exports=n},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n="string",r="boolean",o="number",s="object";e.allOptions={configure:{enabled:{boolean:r},filter:{boolean:r,function:"function"},container:{dom:"dom"},__type__:{object:s,boolean:r,function:"function"}},yAxisOrientation:{string:["left","right"]},defaultGroup:{string:n},sort:{boolean:r},sampling:{boolean:r},stack:{boolean:r},graphHeight:{string:n,number:o},shaded:{enabled:{boolean:r},orientation:{string:["bottom","top","zero","group"]},groupId:{object:s},__type__:{boolean:r,object:s}},style:{string:["line","bar","points"]},barChart:{width:{number:o},minWidth:{number:o},sideBySide:{boolean:r},align:{string:["left","center","right"]},__type__:{object:s}},interpolation:{enabled:{boolean:r},parametrization:{string:["centripetal","chordal","uniform"]},alpha:{number:o},__type__:{object:s,boolean:r}},drawPoints:{enabled:{boolean:r},onRender:{function:"function"},size:{number:o},style:{string:["square","circle"]},__type__:{object:s,boolean:r,function:"function"}},dataAxis:{showMinorLabels:{boolean:r},showMajorLabels:{boolean:r},icons:{boolean:r},width:{string:n,number:o},visible:{boolean:r},alignZeros:{boolean:r},left:{range:{min:{number:o,undefined:"undefined"},max:{number:o,undefined:"undefined"},__type__:{object:s}},format:{function:"function"},title:{text:{string:n,number:o,undefined:"undefined"},style:{string:n,undefined:"undefined"},__type__:{object:s}},__type__:{object:s}},right:{range:{min:{number:o,undefined:"undefined"},max:{number:o,undefined:"undefined"},__type__:{object:s}},format:{function:"function"},title:{text:{string:n,number:o,undefined:"undefined"},style:{string:n,undefined:"undefined"},__type__:{object:s}},__type__:{object:s}},__type__:{object:s}},legend:{enabled:{boolean:r},icons:{boolean:r},left:{visible:{boolean:r},position:{string:["top-right","bottom-right","top-left","bottom-left"]},__type__:{object:s}},right:{visible:{boolean:r},position:{string:["top-right","bottom-right","top-left","bottom-left"]},__type__:{object:s}},__type__:{object:s,boolean:r}},groups:{visibility:{any:"any"},__type__:{object:s}},autoResize:{boolean:r},throttleRedraw:{number:o},clickToUse:{boolean:r},end:{number:o,date:"date",string:n,moment:"moment"},format:{minorLabels:{millisecond:{string:n,undefined:"undefined"},second:{string:n,undefined:"undefined"},minute:{string:n,undefined:"undefined"},hour:{string:n,undefined:"undefined"},weekday:{string:n,undefined:"undefined"},day:{string:n,undefined:"undefined"},month:{string:n,undefined:"undefined"},year:{string:n,undefined:"undefined"},__type__:{object:s}},majorLabels:{millisecond:{string:n,undefined:"undefined"},second:{string:n,undefined:"undefined"},minute:{string:n,undefined:"undefined"},hour:{string:n,undefined:"undefined"},weekday:{string:n,undefined:"undefined"},day:{string:n,undefined:"undefined"},month:{string:n,undefined:"undefined"},year:{string:n,undefined:"undefined"},__type__:{object:s}},__type__:{object:s}},moment:{function:"function"},height:{string:n,number:o},hiddenDates:{start:{date:"date",number:o,string:n,moment:"moment"},end:{date:"date",number:o,string:n,moment:"moment"},repeat:{string:n},__type__:{object:s,array:"array"}},locale:{string:n},locales:{__any__:{any:"any"},__type__:{object:s}},max:{date:"date",number:o,string:n,moment:"moment"},maxHeight:{number:o,string:n},maxMinorChars:{number:o},min:{date:"date",number:o,string:n,moment:"moment"},minHeight:{number:o,string:n},moveable:{boolean:r},multiselect:{boolean:r},orientation:{string:n},showCurrentTime:{boolean:r},showMajorLabels:{boolean:r},showMinorLabels:{boolean:r},start:{date:"date",number:o,string:n,moment:"moment"},timeAxis:{scale:{string:n,undefined:"undefined"},step:{number:o,undefined:"undefined"},__type__:{object:s}},width:{string:n,number:o},zoomable:{boolean:r},zoomKey:{string:["ctrlKey","altKey","metaKey",""]},zoomMax:{number:o},zoomMin:{number:o},zIndex:{number:o},__type__:{object:s}},e.configureOptions={global:{sort:!0,sampling:!0,stack:!1,shaded:{enabled:!1,orientation:["zero","top","bottom","group"]},style:["line","bar","points"],barChart:{width:[50,5,100,5],minWidth:[50,5,100,5],sideBySide:!1,align:["left","center","right"]},interpolation:{enabled:!0,parametrization:["centripetal","chordal","uniform"]},drawPoints:{enabled:!0,size:[6,2,30,1],style:["square","circle"]},dataAxis:{showMinorLabels:!0,showMajorLabels:!0,icons:!1,width:[40,0,200,1],visible:!0,alignZeros:!0,left:{title:{text:"",style:""}},right:{title:{text:"",style:""}}},legend:{enabled:!1,icons:!0,left:{visible:!0,position:["top-right","bottom-right","top-left","bottom-left"]},right:{visible:!0,position:["top-right","bottom-right","top-left","bottom-left"]}},autoResize:!0,clickToUse:!1,end:"",format:{minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",month:"MMM",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",month:"YYYY",year:""}},height:"",locale:"",max:"",maxHeight:"",maxMinorChars:[7,0,20,1],min:"",minHeight:"",moveable:!0,orientation:["both","bottom","top"],showCurrentTime:!1,showMajorLabels:!0,showMinorLabels:!0,start:"",width:"100%",zoomable:!0,zoomKey:["ctrlKey","altKey","metaKey",""],zoomMax:[31536e10,10,31536e10,1],zoomMin:[10,10,31536e10,1],zIndex:0}}},function(t,e,i){function n(t){return E=t,function(){var t={};if(N=0,A=E.charAt(0),c(),"strict"===D&&(t.strict=!0,c()),"graph"!==D&&"digraph"!==D||(t.type=D,c()),T===M.IDENTIFIER&&(t.id=D,c()),"{"!=D)throw y("Angle bracket { expected");if(c(),f(t),"}"!=D)throw y("Angle bracket } expected");if(c(),""!==D)throw y("End of file expected");return c(),delete t.node,delete t.edge,delete t.graph,t}()}function r(){A=E.charAt(++N)}function o(){return E.charAt(N+1)}function s(t){return L.test(t)}function a(t,e){if(t||(t={}),e)for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}function h(t,e,i){for(var n=e.split("."),r=t;n.length;){var o=n.shift();n.length?(r[o]||(r[o]={}),r=r[o]):r[o]=i}}function l(t,e){for(var i,n,r=null,o=[t],s=t;s.parent;)o.push(s.parent),s=s.parent;if(s.nodes)for(i=0,n=s.nodes.length;i<n;i++)if(e.id===s.nodes[i].id){r=s.nodes[i];break}for(r||(r={id:e.id},t.node&&(r.attr=a(r.attr,t.node))),i=o.length-1;i>=0;i--){var h=o[i];h.nodes||(h.nodes=[]),-1===h.nodes.indexOf(r)&&h.nodes.push(r)}e.attr&&(r.attr=a(r.attr,e.attr))}function d(t,e){if(t.edges||(t.edges=[]),t.edges.push(e),t.edge){var i=a({},t.edge);e.attr=a(i,e.attr)}}function u(t,e,i,n,r){var o={from:e,to:i,type:n};return t.edge&&(o.attr=a({},t.edge)),o.attr=a(o.attr||{},r),o}function c(){for(T=M.NULL,D="";" "===A||"\t"===A||"\n"===A||"\r"===A;)r();do{var t=!1;if("#"===A){for(var e=N-1;" "===E.charAt(e)||"\t"===E.charAt(e);)e--;if("\n"===E.charAt(e)||""===E.charAt(e)){for(;""!=A&&"\n"!=A;)r();t=!0}}if("/"===A&&"/"===o()){for(;""!=A&&"\n"!=A;)r();t=!0}if("/"===A&&"*"===o()){for(;""!=A;){if("*"===A&&"/"===o()){r(),r();break}r()}t=!0}for(;" "===A||"\t"===A||"\n"===A||"\r"===A;)r()}while(t);if(""!==A){var i=A+o();if(C[i])return T=M.DELIMITER,D=i,r(),void r();if(C[A])return T=M.DELIMITER,D=A,void r();if(s(A)||"-"===A){for(D+=A,r();s(A);)D+=A,r();return"false"===D?D=!1:"true"===D?D=!0:isNaN(Number(D))||(D=Number(D)),void(T=M.IDENTIFIER)}if('"'===A){for(r();""!=A&&('"'!=A||'"'===A&&'"'===o());)'"'===A?(D+=A,r()):"\\"===A&&"n"===o()?(D+="\n",r()):D+=A,r();if('"'!=A)throw y('End of string " expected');return r(),void(T=M.IDENTIFIER)}for(T=M.UNKNOWN;""!=A;)D+=A,r();throw new SyntaxError('Syntax error in part "'+b(D,30)+'"')}T=M.DELIMITER}function f(t){for(;""!==D&&"}"!=D;)p(t),";"===D&&c()}function p(t){var e=g(t);if(e)m(t,e);else if(!function(t){return"node"===D?(c(),t.node=v(),"node"):"edge"===D?(c(),t.edge=v(),"edge"):"graph"===D?(c(),t.graph=v(),"graph"):null}(t)){if(T!=M.IDENTIFIER)throw y("Identifier expected");var i=D;if(c(),"="===D){if(c(),T!=M.IDENTIFIER)throw y("Identifier expected");t[i]=D,c()}else!function(t,e){var i={id:e},n=v();n&&(i.attr=n),l(t,i),m(t,e)}(t,i)}}function g(t){var e=null;if("subgraph"===D&&((e={}).type="subgraph",c(),T===M.IDENTIFIER&&(e.id=D,c())),"{"===D){if(c(),e||(e={}),e.parent=t,e.node=t.node,e.edge=t.edge,e.graph=t.graph,f(e),"}"!=D)throw y("Angle bracket } expected");c(),delete e.node,delete e.edge,delete e.graph,delete e.parent,t.subgraphs||(t.subgraphs=[]),t.subgraphs.push(e)}return e}function m(t,e){for(;"->"===D||"--"===D;){var i,n=D;c();var r=g(t);if(r)i=r;else{if(T!=M.IDENTIFIER)throw y("Identifier or subgraph expected");l(t,{id:i=D}),c()}d(t,u(t,e,i,n,v())),e=i}}function v(){for(var t=null,e={dashed:!0,solid:!1,dotted:[1,5]};"["===D;){for(c(),t={};""!==D&&"]"!=D;){if(T!=M.IDENTIFIER)throw y("Attribute name expected");var i=D;if(c(),"="!=D)throw y("Equal sign = expected");if(c(),T!=M.IDENTIFIER)throw y("Attribute value expected");var n=D;"style"===i&&(n=e[n]),h(t,i,n),c(),","==D&&c()}if("]"!=D)throw y("Bracket ] expected");c()}return t}function y(t){return new SyntaxError(t+', got "'+b(D,30)+'" (char '+N+")")}function b(t,e){return t.length<=e?t:t.substr(0,27)+"..."}function w(t,e,i){for(var n=e.split("."),r=n.pop(),o=t,s=0;s<n.length;s++){var a=n[s];a in o||(o[a]={}),o=o[a]}return o[r]=i,t}function x(t,e){var i={};for(var n in t)if(t.hasOwnProperty(n)){var r=e[n];Array.isArray(r)?r.forEach(function(e){w(i,e,t[n])}):w(i,"string"==typeof r?r:n,t[n])}return i}var _=i(29),k={fontsize:"font.size",fontcolor:"font.color",labelfontcolor:"font.color",fontname:"font.face",color:["color.border","color.background"],fillcolor:"color.background",tooltip:"title",labeltooltip:"title"},S=(0,(_&&_.__esModule?_:{default:_}).default)(k);S.color="color.color",S.style="dashes";var M={NULL:0,DELIMITER:1,IDENTIFIER:2,UNKNOWN:3},C={"{":!0,"}":!0,"[":!0,"]":!0,";":!0,"=":!0,",":!0,"->":!0,"--":!0},E="",N=0,A="",D="",T=M.NULL,L=/[a-zA-Z_0-9.:#]/;e.parseDOT=n,e.DOTToGraph=function(t){var e=n(t),i={nodes:[],edges:[],options:{}};if(e.nodes&&e.nodes.forEach(function(t){var e={id:t.id,label:String(t.label||t.id)};a(e,x(t.attr,k)),e.image&&(e.shape="image"),i.nodes.push(e)}),e.edges){var r=function(t){var e={from:t.from,to:t.to};return a(e,x(t.attr,S)),e.arrows="->"===t.type?"to":void 0,e};e.edges.forEach(function(t){var e,n;e=t.from instanceof Object?t.from.nodes:{id:t.from},n=t.to instanceof Object?t.to.nodes:{id:t.to},t.from instanceof Object&&t.from.edges&&t.from.edges.forEach(function(t){var e=r(t);i.edges.push(e)}),function(t,e,i){Array.isArray(t)?t.forEach(function(t){Array.isArray(e)?e.forEach(function(e){i(t,e)}):i(t,e)}):Array.isArray(e)?e.forEach(function(e){i(t,e)}):i(t,e)}(e,n,function(e,n){var o=u(i,e.id,n.id,t.type,t.attr),s=r(o);i.edges.push(s)}),t.to instanceof Object&&t.to.edges&&t.to.edges.forEach(function(t){var e=r(t);i.edges.push(e)})})}return e.attr&&(i.options=e.attr),i}},function(t,e,i){e.parseGephi=function(t,e){var i=[],n=[],r={edges:{inheritColor:!1},nodes:{fixed:!1,parseColor:!1}};void 0!==e&&(void 0!==e.fixed&&(r.nodes.fixed=e.fixed),void 0!==e.parseColor&&(r.nodes.parseColor=e.parseColor),void 0!==e.inheritColor&&(r.edges.inheritColor=e.inheritColor));for(var o=t.edges,s=t.nodes,a=0;a<o.length;a++){var h={},l=o[a];h.id=l.id,h.from=l.source,h.to=l.target,h.attributes=l.attributes,h.label=l.label,h.title=void 0!==l.attributes?l.attributes.title:void 0,"Directed"===l.type&&(h.arrows="to"),l.color&&!1===r.inheritColor&&(h.color=l.color),i.push(h)}for(var d=0;d<s.length;d++){var u={},c=s[d];u.id=c.id,u.attributes=c.attributes,u.x=c.x,u.y=c.y,u.label=c.label,u.title=void 0!==c.attributes?c.attributes.title:c.title,u.color=!0===r.nodes.parseColor?c.color:void 0!==c.color?{background:c.color,border:c.color,highlight:{background:c.color,border:c.color},hover:{background:c.color,border:c.color}}:void 0,u.size=c.size,u.fixed=r.nodes.fixed&&void 0!==c.x&&void 0!==c.y,n.push(u)}return{nodes:n,edges:i}}},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(0)),o=n(i(1)),s=n(i(185)),a=function(){function t(e){(0,r.default)(this,t),this.images={},this.imageBroken={},this.callback=e}return(0,o.default)(t,[{key:"_tryloadBrokenUrl",value:function(t,e,i){if(void 0!==t&&void 0!==i){if(void 0===e)return void console.warn("No broken url image defined");i.onerror=function(){console.error("Could not load brokenImage:",e)},i.image.src=e}}},{key:"_redrawWithImage",value:function(t){this.callback&&this.callback(t)}},{key:"load",value:function(t,e){var i=this,n=this.images[t];if(n)return n;var r=new s.default;return this.images[t]=r,r.image.onload=function(){i._fixImageCoordinates(r.image),r.init(),i._redrawWithImage(r)},r.image.onerror=function(){console.error("Could not load image:",t),i._tryloadBrokenUrl(t,e,r)},r.image.src=t,r}},{key:"_fixImageCoordinates",value:function(t){0===t.width&&(document.body.appendChild(t),t.width=t.offsetWidth,t.height=t.offsetHeight,document.body.removeChild(t))}}]),t}();e.default=a},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(30)),o=n(i(6)),s=n(i(0)),a=n(i(1)),h=i(2),l=i(48).default,d=i(191).default,u=["bold","ital","boldital","mono"],c=function(){function t(e,i){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];(0,s.default)(this,t),this.body=e,this.pointToSelf=!1,this.baseSize=void 0,this.fontOptions={},this.setOptions(i),this.size={top:0,left:0,width:0,height:0,yLine:0},this.isEdgeLabel=n}return(0,a.default)(t,[{key:"setOptions",value:function(t){if(this.elementOptions=t,this.initFontOptions(t.font),l.isValidLabel(t.label)?this.labelDirty=!0:t.label="",null!=t.font)if("string"==typeof t.font)this.baseSize=this.fontOptions.size;else if("object"===(0,o.default)(t.font)){var e=t.font.size;void 0!==e&&(this.baseSize=e)}}},{key:"initFontOptions",value:function(e){var i=this;h.forEach(u,function(t){i.fontOptions[t]={}}),t.parseFontString(this.fontOptions,e)?this.fontOptions.vadjust=0:h.forEach(e,function(t,e){null!=t&&"object"!==(void 0===t?"undefined":(0,o.default)(t))&&(i.fontOptions[e]=t)})}},{key:"constrain",value:function(t){var e={constrainWidth:!1,maxWdt:-1,minWdt:-1,constrainHeight:!1,minHgt:-1,valign:"middle"},i=h.topMost(t,"widthConstraint");if("number"==typeof i)e.maxWdt=Number(i),e.minWdt=Number(i);else if("object"===(void 0===i?"undefined":(0,o.default)(i))){var n=h.topMost(t,["widthConstraint","maximum"]);"number"==typeof n&&(e.maxWdt=Number(n));var r=h.topMost(t,["widthConstraint","minimum"]);"number"==typeof r&&(e.minWdt=Number(r))}var s=h.topMost(t,"heightConstraint");if("number"==typeof s)e.minHgt=Number(s);else if("object"===(void 0===s?"undefined":(0,o.default)(s))){var a=h.topMost(t,["heightConstraint","minimum"]);"number"==typeof a&&(e.minHgt=Number(a));var l=h.topMost(t,["heightConstraint","valign"]);"string"==typeof l&&("top"!==l&&"bottom"!==l||(e.valign=l))}return e}},{key:"update",value:function(t,e){this.setOptions(t,!0),this.propagateFonts(e),h.deepExtend(this.fontOptions,this.constrain(e)),this.fontOptions.chooser=l.choosify("label",e)}},{key:"adjustSizes",value:function(t){var e=t?t.right+t.left:0;this.fontOptions.constrainWidth&&(this.fontOptions.maxWdt-=e,this.fontOptions.minWdt-=e),this.fontOptions.constrainHeight&&(this.fontOptions.minHgt-=t?t.top+t.bottom:0)}},{key:"addFontOptionsToPile",value:function(t,e){for(var i=0;i<e.length;++i)this.addFontToPile(t,e[i])}},{key:"addFontToPile",value:function(t,e){void 0!==e&&null!=e.font&&t.push(e.font)}},{key:"getBasicOptions",value:function(e){for(var i={},n=0;n<e.length;++n){var r=e[n],o={};t.parseFontString(o,r)&&(r=o),h.forEach(r,function(t,e){void 0!==t&&(i.hasOwnProperty(e)||(i[e]=-1!==u.indexOf(e)?{}:t))})}return i}},{key:"getFontOption",value:function(e,i,n){for(var r=void 0,o=0;o<e.length;++o){var s=e[o];if(s.hasOwnProperty(i)){if(void 0===(r=s[i])||null===r)continue;var a={};if(t.parseFontString(a,r)&&(r=a),r.hasOwnProperty(n))return r[n]}}if(this.fontOptions.hasOwnProperty(n))return this.fontOptions[n];throw new Error("Did not find value for multi-font for property: '"+n+"'")}},{key:"getFontOptions",value:function(t,e){for(var i={},n=["color","size","face","mod","vadjust"],r=0;r<n.length;++r){var o=n[r];i[o]=this.getFontOption(t,e,o)}return i}},{key:"propagateFonts",value:function(t){var e=this,i=[];this.addFontOptionsToPile(i,t),this.fontOptions=this.getBasicOptions(i);for(var n=0;n<u.length;++n)!function(t){var n=u[t],r=e.fontOptions[n],o=e.getFontOptions(i,n);h.forEach(o,function(t,e){r[e]=t}),r.size=Number(r.size),r.vadjust=Number(r.vadjust)}(n)}},{key:"draw",value:function(t,e,i,n,r){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"middle";if(void 0!==this.elementOptions.label){var s=this.fontOptions.size*this.body.view.scale;this.elementOptions.label&&s<this.elementOptions.scaling.label.drawThreshold-1||(s>=this.elementOptions.scaling.label.maxVisible&&(s=Number(this.elementOptions.scaling.label.maxVisible)/this.body.view.scale),this.calculateLabelSize(t,n,r,e,i,o),this._drawBackground(t),this._drawText(t,e,this.size.yLine,o,s))}}},{key:"_drawBackground",value:function(t){if(void 0!==this.fontOptions.background&&"none"!==this.fontOptions.background){t.fillStyle=this.fontOptions.background;var e=this.getSize();t.fillRect(e.left,e.top,e.width,e.height)}}},{key:"_drawText",value:function(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"middle",o=arguments[4],s=this._setAlignment(t,e,i,n),a=(0,r.default)(s,2);e=a[0],i=a[1],t.textAlign="left",e-=this.size.width/2,this.fontOptions.valign&&this.size.height>this.size.labelHeight&&("top"===this.fontOptions.valign&&(i-=(this.size.height-this.size.labelHeight)/2),"bottom"===this.fontOptions.valign&&(i+=(this.size.height-this.size.labelHeight)/2));for(var h=0;h<this.lineCount;h++){var l=this.lines[h];if(l&&l.blocks){var d=0;this.isEdgeLabel||"center"===this.fontOptions.align?d+=(this.size.width-l.width)/2:"right"===this.fontOptions.align&&(d+=this.size.width-l.width);for(var u=0;u<l.blocks.length;u++){var c=l.blocks[u];t.font=c.font;var f=this._getColor(c.color,o,c.strokeColor),p=(0,r.default)(f,2),g=p[0],m=p[1];c.strokeWidth>0&&(t.lineWidth=c.strokeWidth,t.strokeStyle=m,t.lineJoin="round"),t.fillStyle=g,c.strokeWidth>0&&t.strokeText(c.text,e+d,i+c.vadjust),t.fillText(c.text,e+d,i+c.vadjust),d+=c.width}i+=l.height}}}},{key:"_setAlignment",value:function(t,e,i,n){return this.isEdgeLabel&&"horizontal"!==this.fontOptions.align&&!1===this.pointToSelf?(e=0,i=0,"top"===this.fontOptions.align?(t.textBaseline="alphabetic",i-=4):"bottom"===this.fontOptions.align?(t.textBaseline="hanging",i+=4):t.textBaseline="middle"):t.textBaseline=n,[e,i]}},{key:"_getColor",value:function(t,e,i){var n=t||"#000000",r=i||"#ffffff";if(e<=this.elementOptions.scaling.label.drawThreshold){var o=Math.max(0,Math.min(1,1-(this.elementOptions.scaling.label.drawThreshold-e)));n=h.overrideOpacity(n,o),r=h.overrideOpacity(r,o)}return[n,r]}},{key:"getTextSize",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this._processLabel(t,e,i),{width:this.size.width,height:this.size.height,lineCount:this.lineCount}}},{key:"getSize",value:function(){var t=this.size.left,e=this.size.top-1;if(this.isEdgeLabel){var i=.5*-this.size.width;switch(this.fontOptions.align){case"middle":t=i,e=.5*-this.size.height;break;case"top":t=i,e=-(this.size.height+2);break;case"bottom":t=i,e=2}}return{left:t,top:e,width:this.size.width,height:this.size.height}}},{key:"calculateLabelSize",value:function(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"middle";this._processLabel(t,e,i),this.size.left=n-.5*this.size.width,this.size.top=r-.5*this.size.height,this.size.yLine=r+.5*(1-this.lineCount)*this.fontOptions.size,"hanging"===o&&(this.size.top+=.5*this.fontOptions.size,this.size.top+=4,this.size.yLine+=4)}},{key:"getFormattingValues",value:function(t,e,i,n){var r=function(t,e,i){return"normal"===e?"mod"===i?"":t[i]:void 0!==t[e][i]?t[e][i]:t[i]},o={color:r(this.fontOptions,n,"color"),size:r(this.fontOptions,n,"size"),face:r(this.fontOptions,n,"face"),mod:r(this.fontOptions,n,"mod"),vadjust:r(this.fontOptions,n,"vadjust"),strokeWidth:this.fontOptions.strokeWidth,strokeColor:this.fontOptions.strokeColor};(e||i)&&("normal"===n&&!0===this.fontOptions.chooser&&this.elementOptions.labelHighlightBold?o.mod="bold":"function"==typeof this.fontOptions.chooser&&this.fontOptions.chooser(o,this.elementOptions.id,e,i));var s="";return void 0!==o.mod&&""!==o.mod&&(s+=o.mod+" "),t.font=(s+=o.size+"px "+o.face).replace(/"/g,""),o.font=t.font,o.height=o.size,o}},{key:"differentState",value:function(t,e){return t!==this.selectedState||e!==this.hoverState}},{key:"_processLabelText",value:function(t,e,i,n){return new d(t,this,e,i).process(n)}},{key:"_processLabel",value:function(t,e,i){if(!1!==this.labelDirty||this.differentState(e,i)){var n=this._processLabelText(t,e,i,this.elementOptions.label);this.fontOptions.minWdt>0&&n.width<this.fontOptions.minWdt&&(n.width=this.fontOptions.minWdt),this.size.labelHeight=n.height,this.fontOptions.minHgt>0&&n.height<this.fontOptions.minHgt&&(n.height=this.fontOptions.minHgt),this.lines=n.lines,this.lineCount=n.lines.length,this.size.width=n.width,this.size.height=n.height,this.selectedState=e,this.hoverState=i,this.labelDirty=!1}}},{key:"visible",value:function(){return 0!==this.size.width&&0!==this.size.height&&void 0!==this.elementOptions.label&&!(this.fontOptions.size*this.body.view.scale<this.elementOptions.scaling.label.drawThreshold-1)}}],[{key:"parseFontString",value:function(t,e){if(!e||"string"!=typeof e)return!1;var i=e.split(" ");return t.size=i[0].replace("px",""),t.face=i[1],t.color=i[2],!0}}]),t}();e.default=c},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(30)),o=n(i(0)),s=n(i(1)),a=i(2),h=i(119).default,l=function(){function t(e,i,n){(0,o.default)(this,t),this.body=i,this.labelModule=n,this.options={},this.setOptions(e),this.colorDirty=!0,this.color={},this.selectionWidth=2,this.hoverWidth=1.5,this.fromPoint=this.from,this.toPoint=this.to}return(0,s.default)(t,[{key:"connect",value:function(){this.from=this.body.nodes[this.options.from],this.to=this.body.nodes[this.options.to]}},{key:"cleanup",value:function(){return!1}},{key:"setOptions",value:function(t){this.options=t,this.from=this.body.nodes[this.options.from],this.to=this.body.nodes[this.options.to],this.id=this.options.id}},{key:"drawLine",value:function(t,e,i,n,r){t.strokeStyle=this.getColor(t,e,i,n),t.lineWidth=e.width,!1!==e.dashes?this._drawDashedLine(t,e,r):this._drawLine(t,e,r)}},{key:"_drawLine",value:function(t,e,i,n,o){if(this.from!=this.to)this._line(t,e,i,n,o);else{var s=this._getCircleData(t),a=(0,r.default)(s,3);this._circle(t,e,a[0],a[1],a[2])}}},{key:"_drawDashedLine",value:function(t,e,i,n,o){t.lineCap="round";var s=[5,5];if(!0===Array.isArray(e.dashes)&&(s=e.dashes),void 0!==t.setLineDash){if(t.save(),t.setLineDash(s),t.lineDashOffset=0,this.from!=this.to)this._line(t,e,i);else{var a=this._getCircleData(t),h=(0,r.default)(a,3);this._circle(t,e,h[0],h[1],h[2])}t.setLineDash([0]),t.lineDashOffset=0,t.restore()}else{if(this.from!=this.to)t.dashedLine(this.from.x,this.from.y,this.to.x,this.to.y,s);else{var l=this._getCircleData(t),d=(0,r.default)(l,3);this._circle(t,e,d[0],d[1],d[2])}this.enableShadow(t,e),t.stroke(),this.disableShadow(t,e)}}},{key:"findBorderPosition",value:function(t,e,i){return this.from!=this.to?this._findBorderPosition(t,e,i):this._findBorderPositionCircle(t,e,i)}},{key:"findBorderPositions",value:function(t){var e={},i={};if(this.from!=this.to)e=this._findBorderPosition(this.from,t),i=this._findBorderPosition(this.to,t);else{var n=this._getCircleData(t).slice(0,2),o=(0,r.default)(n,2),s=o[0],a=o[1];e=this._findBorderPositionCircle(this.from,t,{x:s,y:a,low:.25,high:.6,direction:-1}),i=this._findBorderPositionCircle(this.from,t,{x:s,y:a,low:.6,high:.8,direction:1})}return{from:e,to:i}}},{key:"_getCircleData",value:function(t){var e=void 0,i=void 0,n=this.from,r=this.options.selfReferenceSize;return void 0!==t&&void 0===n.shape.width&&n.shape.resize(t),n.shape.width>n.shape.height?(e=n.x+.5*n.shape.width,i=n.y-r):(e=n.x+r,i=n.y-.5*n.shape.height),[e,i,r]}},{key:"_pointOnCircle",value:function(t,e,i,n){var r=2*n*Math.PI;return{x:t+i*Math.cos(r),y:e-i*Math.sin(r)}}},{key:"_findBorderPositionCircle",value:function(t,e,i){for(var n=i.x,r=i.y,o=i.low,s=i.high,a=i.direction,h=0,l=this.options.selfReferenceSize,d=void 0,u=void 0,c=void 0,f=.5*(o+s);o<=s&&h<10&&(d=this._pointOnCircle(n,r,l,f=.5*(o+s)),u=Math.atan2(t.y-d.y,t.x-d.x),c=t.distanceToBorder(e,u)-Math.sqrt(Math.pow(d.x-t.x,2)+Math.pow(d.y-t.y,2)),!(Math.abs(c)<.05));)c>0?a>0?o=f:s=f:a>0?s=f:o=f,h++;return d.t=f,d}},{key:"getLineWidth",value:function(t,e){return!0===t?Math.max(this.selectionWidth,.3/this.body.view.scale):!0===e?Math.max(this.hoverWidth,.3/this.body.view.scale):Math.max(this.options.width,.3/this.body.view.scale)}},{key:"getColor",value:function(t,e,i,n){if(!1!==e.inheritsColor){if("both"===e.inheritsColor&&this.from.id!==this.to.id){var r=t.createLinearGradient(this.from.x,this.from.y,this.to.x,this.to.y),o=void 0,s=void 0;return o=this.from.options.color.highlight.border,s=this.to.options.color.highlight.border,!1===this.from.selected&&!1===this.to.selected?(o=a.overrideOpacity(this.from.options.color.border,e.opacity),s=a.overrideOpacity(this.to.options.color.border,e.opacity)):!0===this.from.selected&&!1===this.to.selected?s=this.to.options.color.border:!1===this.from.selected&&!0===this.to.selected&&(o=this.from.options.color.border),r.addColorStop(0,o),r.addColorStop(1,s),r}return a.overrideOpacity("to"===e.inheritsColor?this.to.options.color.border:this.from.options.color.border,e.opacity)}return a.overrideOpacity(e.color,e.opacity)}},{key:"_circle",value:function(t,e,i,n,r){this.enableShadow(t,e),t.beginPath(),t.arc(i,n,r,0,2*Math.PI,!1),t.stroke(),this.disableShadow(t,e)}},{key:"getDistanceToEdge",value:function(t,e,i,n,o,s,a,h){var l=0;if(this.from!=this.to)l=this._getDistanceToEdge(t,e,i,n,o,s,a);else{var d=this._getCircleData(void 0),u=(0,r.default)(d,3),c=u[2],f=u[0]-o,p=u[1]-s;l=Math.abs(Math.sqrt(f*f+p*p)-c)}return l}},{key:"_getDistanceToLine",value:function(t,e,i,n,r,o){var s=i-t,a=n-e,h=((r-t)*s+(o-e)*a)/(s*s+a*a);h>1?h=1:h<0&&(h=0);var l=t+h*s-r,d=e+h*a-o;return Math.sqrt(l*l+d*d)}},{key:"getArrowData",value:function(t,e,i,n,o,s){var a=void 0,h=void 0,l=void 0,d=void 0,u=void 0,c=void 0,f=void 0,p=s.width;if("from"===e?(l=this.from,d=this.to,u=.1,c=s.fromArrowScale,f=s.fromArrowType):"to"===e?(l=this.to,d=this.from,u=-.1,c=s.toArrowScale,f=s.toArrowType):(l=this.to,d=this.from,c=s.middleArrowScale,f=s.middleArrowType),l!=d)if("middle"!==e)if(!0===this.options.smooth.enabled){h=this.findBorderPosition(l,t,{via:i});var g=this.getPoint(Math.max(0,Math.min(1,h.t+u)),i);a=Math.atan2(h.y-g.y,h.x-g.x)}else a=Math.atan2(l.y-d.y,l.x-d.x),h=this.findBorderPosition(l,t);else a=Math.atan2(l.y-d.y,l.x-d.x),h=this.getPoint(.5,i);else{var m=this._getCircleData(t),v=(0,r.default)(m,3),y=v[0],b=v[1],w=v[2];"from"===e?a=-2*(h=this.findBorderPosition(this.from,t,{x:y,y:b,low:.25,high:.6,direction:-1})).t*Math.PI+1.5*Math.PI+.1*Math.PI:"to"===e?a=-2*(h=this.findBorderPosition(this.from,t,{x:y,y:b,low:.6,high:1,direction:1})).t*Math.PI+1.5*Math.PI-1.1*Math.PI:(h=this._pointOnCircle(y,b,w,.175),a=3.9269908169872414)}"middle"===e&&c<0&&(p*=-1);var x=15*c+3*p;return{point:h,core:{x:h.x-.9*x*Math.cos(a),y:h.y-.9*x*Math.sin(a)},angle:a,length:x,type:f}}},{key:"drawArrowHead",value:function(t,e,i,n,r){t.strokeStyle=this.getColor(t,e,i,n),t.fillStyle=t.strokeStyle,t.lineWidth=e.width,h.draw(t,r),this.enableShadow(t,e),t.fill(),this.disableShadow(t,e)}},{key:"enableShadow",value:function(t,e){!0===e.shadow&&(t.shadowColor=e.shadowColor,t.shadowBlur=e.shadowSize,t.shadowOffsetX=e.shadowX,t.shadowOffsetY=e.shadowY)}},{key:"disableShadow",value:function(t,e){!0===e.shadow&&(t.shadowColor="rgba(0,0,0,0)",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0)}}]),t}();e.default=l},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(3)),o=n(i(4)),s=n(i(5)),a=n(i(0)),h=n(i(1)),l=function(){function t(){(0,a.default)(this,t)}return(0,h.default)(t,null,[{key:"transform",value:function(t,e){t instanceof Array||(t=[t]);for(var i=e.point.x,n=e.point.y,r=e.angle,o=e.length,s=0;s<t.length;++s){var a=t[s],h=a.x*Math.cos(r)-a.y*Math.sin(r),l=a.x*Math.sin(r)+a.y*Math.cos(r);a.x=i+o*h,a.y=n+o*l}}},{key:"drawPath",value:function(t,e){t.beginPath(),t.moveTo(e[0].x,e[0].y);for(var i=1;i<e.length;++i)t.lineTo(e[i].x,e[i].y);t.closePath()}}]),t}(),d=function(t){function e(){return(0,a.default)(this,e),(0,o.default)(this,(e.__proto__||(0,r.default)(e)).apply(this,arguments))}return(0,s.default)(e,l),(0,h.default)(e,null,[{key:"draw",value:function(t,e){var i=[{x:0,y:0},{x:-1,y:.3},{x:-.9,y:0},{x:-1,y:-.3}];l.transform(i,e),l.drawPath(t,i)}}]),e}(),u=function(){function t(){(0,a.default)(this,t)}return(0,h.default)(t,null,[{key:"draw",value:function(t,e){var i={x:-.4,y:0};l.transform(i,e),t.circle(i.x,i.y,.4*e.length)}}]),t}(),c=function(){function t(){(0,a.default)(this,t)}return(0,h.default)(t,null,[{key:"draw",value:function(t,e){var i=[{x:0,y:.5},{x:0,y:-.5},{x:-.15,y:-.5},{x:-.15,y:.5}];l.transform(i,e),l.drawPath(t,i)}}]),t}(),f=function(){function t(){(0,a.default)(this,t)}return(0,h.default)(t,null,[{key:"draw",value:function(t,e){var i;switch(e.type&&(i=e.type.toLowerCase()),i){case"circle":u.draw(t,e);break;case"bar":c.draw(t,e);break;case"arrow":default:d.draw(t,e)}}}]),t}();e.default=f},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(0)),o=n(i(1)),s=function(){function t(e,i,n){(0,r.default)(this,t),this.body=e,this.physicsBody=i,this.setOptions(n),this.randomSeed=5}return(0,o.default)(t,[{key:"setOptions",value:function(t){this.options=t,this.thetaInversed=1/this.options.theta,this.overlapAvoidanceFactor=1-Math.max(0,Math.min(1,this.options.avoidOverlap))}},{key:"seededRandom",value:function(){var t=1e4*Math.sin(this.randomSeed++);return t-Math.floor(t)}},{key:"solve",value:function(){if(0!==this.options.gravitationalConstant&&this.physicsBody.physicsNodeIndices.length>0){var t=void 0,e=this.body.nodes,i=this.physicsBody.physicsNodeIndices,n=i.length,r=this._formBarnesHutTree(e,i);this.barnesHutTree=r;for(var o=0;o<n;o++)(t=e[i[o]]).options.mass>0&&this._getForceContributions(r.root,t)}}},{key:"_getForceContributions",value:function(t,e){this._getForceContribution(t.children.NW,e),this._getForceContribution(t.children.NE,e),this._getForceContribution(t.children.SW,e),this._getForceContribution(t.children.SE,e)}},{key:"_getForceContribution",value:function(t,e){var i,n,r;t.childrenCount>0&&(i=t.centerOfMass.x-e.x,n=t.centerOfMass.y-e.y,(r=Math.sqrt(i*i+n*n))*t.calcSize>this.thetaInversed?this._calculateForces(r,i,n,e,t):4===t.childrenCount?this._getForceContributions(t,e):t.children.data.id!=e.id&&this._calculateForces(r,i,n,e,t))}},{key:"_calculateForces",value:function(t,e,i,n,r){0===t&&(e=t=.1),this.overlapAvoidanceFactor<1&&n.shape.radius&&(t=Math.max(.1+this.overlapAvoidanceFactor*n.shape.radius,t-n.shape.radius));var o=this.options.gravitationalConstant*r.mass*n.options.mass/Math.pow(t,3),s=i*o;this.physicsBody.forces[n.id].x+=e*o,this.physicsBody.forces[n.id].y+=s}},{key:"_formBarnesHutTree",value:function(t,e){for(var i=void 0,n=e.length,r=t[e[0]].x,o=t[e[0]].y,s=t[e[0]].x,a=t[e[0]].y,h=1;h<n;h++){var l=t[e[h]],d=l.x,u=l.y;l.options.mass>0&&(d<r&&(r=d),d>s&&(s=d),u<o&&(o=u),u>a&&(a=u))}var c=Math.abs(s-r)-Math.abs(a-o);c>0?(o-=.5*c,a+=.5*c):(r+=.5*c,s-=.5*c);var f=Math.max(1e-5,Math.abs(s-r)),p=.5*f,g=.5*(r+s),m=.5*(o+a),v={root:{centerOfMass:{x:0,y:0},mass:0,range:{minX:g-p,maxX:g+p,minY:m-p,maxY:m+p},size:f,calcSize:1/f,children:{data:null},maxWidth:0,level:0,childrenCount:4}};this._splitBranch(v.root);for(var y=0;y<n;y++)(i=t[e[y]]).options.mass>0&&this._placeInTree(v.root,i);return v}},{key:"_updateBranchMass",value:function(t,e){var i=t.centerOfMass,n=t.mass+e.options.mass,r=1/n;i.x=i.x*t.mass+e.x*e.options.mass,i.x*=r,i.y=i.y*t.mass+e.y*e.options.mass,i.y*=r,t.mass=n;var o=Math.max(Math.max(e.height,e.radius),e.width);t.maxWidth=t.maxWidth<o?o:t.maxWidth}},{key:"_placeInTree",value:function(t,e,i){1==i&&void 0!==i||this._updateBranchMass(t,e);var n=t.children.NW.range;this._placeInRegion(t,e,n.maxX>e.x?n.maxY>e.y?"NW":"SW":n.maxY>e.y?"NE":"SE")}},{key:"_placeInRegion",value:function(t,e,i){var n=t.children[i];switch(n.childrenCount){case 0:n.children.data=e,n.childrenCount=1,this._updateBranchMass(n,e);break;case 1:n.children.data.x===e.x&&n.children.data.y===e.y?(e.x+=this.seededRandom(),e.y+=this.seededRandom()):(this._splitBranch(n),this._placeInTree(n,e));break;case 4:this._placeInTree(n,e)}}},{key:"_splitBranch",value:function(t){var e=null;1===t.childrenCount&&(e=t.children.data,t.mass=0,t.centerOfMass.x=0,t.centerOfMass.y=0),t.childrenCount=4,t.children.data=null,this._insertRegion(t,"NW"),this._insertRegion(t,"NE"),this._insertRegion(t,"SW"),this._insertRegion(t,"SE"),null!=e&&this._placeInTree(t,e)}},{key:"_insertRegion",value:function(t,e){var i=void 0,n=void 0,r=void 0,o=void 0,s=.5*t.size;switch(e){case"NW":i=t.range.minX,n=t.range.minX+s,r=t.range.minY,o=t.range.minY+s;break;case"NE":i=t.range.minX+s,n=t.range.maxX,r=t.range.minY,o=t.range.minY+s;break;case"SW":i=t.range.minX,n=t.range.minX+s,r=t.range.minY+s,o=t.range.maxY;break;case"SE":i=t.range.minX+s,n=t.range.maxX,r=t.range.minY+s,o=t.range.maxY}t.children[e]={centerOfMass:{x:0,y:0},mass:0,range:{minX:i,maxX:n,minY:r,maxY:o},size:.5*t.size,calcSize:2*t.calcSize,children:{data:null},maxWidth:0,level:t.level+1,childrenCount:0}}},{key:"_debug",value:function(t,e){void 0!==this.barnesHutTree&&(t.lineWidth=1,this._drawBranch(this.barnesHutTree.root,t,e))}},{key:"_drawBranch",value:function(t,e,i){void 0===i&&(i="#FF0000"),4===t.childrenCount&&(this._drawBranch(t.children.NW,e),this._drawBranch(t.children.NE,e),this._drawBranch(t.children.SE,e),this._drawBranch(t.children.SW,e)),e.strokeStyle=i,e.beginPath(),e.moveTo(t.range.minX,t.range.minY),e.lineTo(t.range.maxX,t.range.minY),e.stroke(),e.beginPath(),e.moveTo(t.range.maxX,t.range.minY),e.lineTo(t.range.maxX,t.range.maxY),e.stroke(),e.beginPath(),e.moveTo(t.range.maxX,t.range.maxY),e.lineTo(t.range.minX,t.range.maxY),e.stroke(),e.beginPath(),e.moveTo(t.range.minX,t.range.maxY),e.lineTo(t.range.minX,t.range.minY),e.stroke()}}]),t}();e.default=s},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(0)),o=n(i(1)),s=function(){function t(e,i,n){(0,r.default)(this,t),this.body=e,this.physicsBody=i,this.setOptions(n)}return(0,o.default)(t,[{key:"setOptions",value:function(t){this.options=t}},{key:"solve",value:function(){for(var t=void 0,e=void 0,i=void 0,n=void 0,r=this.body.nodes,o=this.physicsBody.physicsNodeIndices,s=this.physicsBody.forces,a=0;a<o.length;a++)t=-(n=r[o[a]]).x,e=-n.y,i=Math.sqrt(t*t+e*e),this._calculateForces(i,t,e,s,n)}},{key:"_calculateForces",value:function(t,e,i,n,r){var o=0===t?0:this.options.centralGravity/t;n[r.id].x=e*o,n[r.id].y=i*o}}]),t}();e.default=s},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n="string",r="boolean",o="number",s="object",a=["arrow","circle","bar"],h={configure:{enabled:{boolean:r},filter:{boolean:r,string:n,array:"array",function:"function"},container:{dom:"dom"},showButton:{boolean:r},__type__:{object:s,boolean:r,string:n,array:"array",function:"function"}},edges:{arrows:{to:{enabled:{boolean:r},scaleFactor:{number:o},type:{string:a},__type__:{object:s,boolean:r}},middle:{enabled:{boolean:r},scaleFactor:{number:o},type:{string:a},__type__:{object:s,boolean:r}},from:{enabled:{boolean:r},scaleFactor:{number:o},type:{string:a},__type__:{object:s,boolean:r}},__type__:{string:["from","to","middle"],object:s}},arrowStrikethrough:{boolean:r},chosen:{label:{boolean:r,function:"function"},edge:{boolean:r,function:"function"},__type__:{object:s,boolean:r}},color:{color:{string:n},highlight:{string:n},hover:{string:n},inherit:{string:["from","to","both"],boolean:r},opacity:{number:o},__type__:{object:s,string:n}},dashes:{boolean:r,array:"array"},font:{color:{string:n},size:{number:o},face:{string:n},background:{string:n},strokeWidth:{number:o},strokeColor:{string:n},align:{string:["horizontal","top","middle","bottom"]},vadjust:{number:o},multi:{boolean:r,string:n},bold:{color:{string:n},size:{number:o},face:{string:n},mod:{string:n},vadjust:{number:o},__type__:{object:s,string:n}},boldital:{color:{string:n},size:{number:o},face:{string:n},mod:{string:n},vadjust:{number:o},__type__:{object:s,string:n}},ital:{color:{string:n},size:{number:o},face:{string:n},mod:{string:n},vadjust:{number:o},__type__:{object:s,string:n}},mono:{color:{string:n},size:{number:o},face:{string:n},mod:{string:n},vadjust:{number:o},__type__:{object:s,string:n}},__type__:{object:s,string:n}},hidden:{boolean:r},hoverWidth:{function:"function",number:o},label:{string:n,undefined:"undefined"},labelHighlightBold:{boolean:r},length:{number:o,undefined:"undefined"},physics:{boolean:r},scaling:{min:{number:o},max:{number:o},label:{enabled:{boolean:r},min:{number:o},max:{number:o},maxVisible:{number:o},drawThreshold:{number:o},__type__:{object:s,boolean:r}},customScalingFunction:{function:"function"},__type__:{object:s}},selectionWidth:{function:"function",number:o},selfReferenceSize:{number:o},shadow:{enabled:{boolean:r},color:{string:n},size:{number:o},x:{number:o},y:{number:o},__type__:{object:s,boolean:r}},smooth:{enabled:{boolean:r},type:{string:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"]},roundness:{number:o},forceDirection:{string:["horizontal","vertical","none"],boolean:r},__type__:{object:s,boolean:r}},title:{string:n,undefined:"undefined"},width:{number:o},widthConstraint:{maximum:{number:o},__type__:{object:s,boolean:r,number:o}},value:{number:o,undefined:"undefined"},__type__:{object:s}},groups:{useDefaultGroups:{boolean:r},__any__:"get from nodes, will be overwritten below",__type__:{object:s}},interaction:{dragNodes:{boolean:r},dragView:{boolean:r},hideEdgesOnDrag:{boolean:r},hideNodesOnDrag:{boolean:r},hover:{boolean:r},keyboard:{enabled:{boolean:r},speed:{x:{number:o},y:{number:o},zoom:{number:o},__type__:{object:s}},bindToWindow:{boolean:r},__type__:{object:s,boolean:r}},multiselect:{boolean:r},navigationButtons:{boolean:r},selectable:{boolean:r},selectConnectedEdges:{boolean:r},hoverConnectedEdges:{boolean:r},tooltipDelay:{number:o},zoomView:{boolean:r},__type__:{object:s}},layout:{randomSeed:{undefined:"undefined",number:o},improvedLayout:{boolean:r},hierarchical:{enabled:{boolean:r},levelSeparation:{number:o},nodeSpacing:{number:o},treeSpacing:{number:o},blockShifting:{boolean:r},edgeMinimization:{boolean:r},parentCentralization:{boolean:r},direction:{string:["UD","DU","LR","RL"]},sortMethod:{string:["hubsize","directed"]},__type__:{object:s,boolean:r}},__type__:{object:s}},manipulation:{enabled:{boolean:r},initiallyActive:{boolean:r},addNode:{boolean:r,function:"function"},addEdge:{boolean:r,function:"function"},editNode:{function:"function"},editEdge:{editWithoutDrag:{function:"function"},__type__:{object:s,boolean:r,function:"function"}},deleteNode:{boolean:r,function:"function"},deleteEdge:{boolean:r,function:"function"},controlNodeStyle:"get from nodes, will be overwritten below",__type__:{object:s,boolean:r}},nodes:{borderWidth:{number:o},borderWidthSelected:{number:o,undefined:"undefined"},brokenImage:{string:n,undefined:"undefined"},chosen:{label:{boolean:r,function:"function"},node:{boolean:r,function:"function"},__type__:{object:s,boolean:r}},color:{border:{string:n},background:{string:n},highlight:{border:{string:n},background:{string:n},__type__:{object:s,string:n}},hover:{border:{string:n},background:{string:n},__type__:{object:s,string:n}},__type__:{object:s,string:n}},fixed:{x:{boolean:r},y:{boolean:r},__type__:{object:s,boolean:r}},font:{align:{string:n},color:{string:n},size:{number:o},face:{string:n},background:{string:n},strokeWidth:{number:o},strokeColor:{string:n},vadjust:{number:o},multi:{boolean:r,string:n},bold:{color:{string:n},size:{number:o},face:{string:n},mod:{string:n},vadjust:{number:o},__type__:{object:s,string:n}},boldital:{color:{string:n},size:{number:o},face:{string:n},mod:{string:n},vadjust:{number:o},__type__:{object:s,string:n}},ital:{color:{string:n},size:{number:o},face:{string:n},mod:{string:n},vadjust:{number:o},__type__:{object:s,string:n}},mono:{color:{string:n},size:{number:o},face:{string:n},mod:{string:n},vadjust:{number:o},__type__:{object:s,string:n}},__type__:{object:s,string:n}},group:{string:n,number:o,undefined:"undefined"},heightConstraint:{minimum:{number:o},valign:{string:n},__type__:{object:s,boolean:r,number:o}},hidden:{boolean:r},icon:{face:{string:n},code:{string:n},size:{number:o},color:{string:n},__type__:{object:s}},id:{string:n,number:o},image:{selected:{string:n,undefined:"undefined"},unselected:{string:n,undefined:"undefined"},__type__:{object:s,string:n}},label:{string:n,undefined:"undefined"},labelHighlightBold:{boolean:r},level:{number:o,undefined:"undefined"},margin:{top:{number:o},right:{number:o},bottom:{number:o},left:{number:o},__type__:{object:s,number:o}},mass:{number:o},physics:{boolean:r},scaling:{min:{number:o},max:{number:o},label:{enabled:{boolean:r},min:{number:o},max:{number:o},maxVisible:{number:o},drawThreshold:{number:o},__type__:{object:s,boolean:r}},customScalingFunction:{function:"function"},__type__:{object:s}},shadow:{enabled:{boolean:r},color:{string:n},size:{number:o},x:{number:o},y:{number:o},__type__:{object:s,boolean:r}},shape:{string:["ellipse","circle","database","box","text","image","circularImage","diamond","dot","star","triangle","triangleDown","square","icon","hexagon"]},shapeProperties:{borderDashes:{boolean:r,array:"array"},borderRadius:{number:o},interpolation:{boolean:r},useImageSize:{boolean:r},useBorderWithImage:{boolean:r},__type__:{object:s}},size:{number:o},title:{string:n,dom:"dom",undefined:"undefined"},value:{number:o,undefined:"undefined"},widthConstraint:{minimum:{number:o},maximum:{number:o},__type__:{object:s,boolean:r,number:o}},x:{number:o},y:{number:o},__type__:{object:s}},physics:{enabled:{boolean:r},barnesHut:{gravitationalConstant:{number:o},centralGravity:{number:o},springLength:{number:o},springConstant:{number:o},damping:{number:o},avoidOverlap:{number:o},__type__:{object:s}},forceAtlas2Based:{gravitationalConstant:{number:o},centralGravity:{number:o},springLength:{number:o},springConstant:{number:o},damping:{number:o},avoidOverlap:{number:o},__type__:{object:s}},repulsion:{centralGravity:{number:o},springLength:{number:o},springConstant:{number:o},nodeDistance:{number:o},damping:{number:o},__type__:{object:s}},hierarchicalRepulsion:{centralGravity:{number:o},springLength:{number:o},springConstant:{number:o},nodeDistance:{number:o},damping:{number:o},__type__:{object:s}},maxVelocity:{number:o},minVelocity:{number:o},solver:{string:["barnesHut","repulsion","hierarchicalRepulsion","forceAtlas2Based"]},stabilization:{enabled:{boolean:r},iterations:{number:o},updateInterval:{number:o},onlyDynamicEdges:{boolean:r},fit:{boolean:r},__type__:{object:s,boolean:r}},timestep:{number:o},adaptiveTimestep:{boolean:r},__type__:{object:s,boolean:r}},autoResize:{boolean:r},clickToUse:{boolean:r},locale:{string:n},locales:{__any__:{any:"any"},__type__:{object:s}},height:{string:n},width:{string:n},__type__:{object:s}};h.groups.__any__=h.nodes,h.manipulation.controlNodeStyle=h.nodes,e.allOptions=h,e.configureOptions={nodes:{borderWidth:[1,0,10,1],borderWidthSelected:[2,0,10,1],color:{border:["color","#2B7CE9"],background:["color","#97C2FC"],highlight:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]},hover:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]}},fixed:{x:!1,y:!1},font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[0,0,50,1],strokeColor:["color","#ffffff"]},hidden:!1,labelHighlightBold:!0,physics:!0,scaling:{min:[10,0,200,1],max:[30,0,200,1],label:{enabled:!1,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},shape:["ellipse","box","circle","database","diamond","dot","square","star","text","triangle","triangleDown","hexagon"],shapeProperties:{borderDashes:!1,borderRadius:[6,0,20,1],interpolation:!0,useImageSize:!1},size:[25,0,200,1]},edges:{arrows:{to:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},middle:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},from:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"}},arrowStrikethrough:!0,color:{color:["color","#848484"],highlight:["color","#848484"],hover:["color","#848484"],inherit:["from","to","both",!0,!1],opacity:[1,0,1,.05]},dashes:!1,font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[2,0,50,1],strokeColor:["color","#ffffff"],align:["horizontal","top","middle","bottom"]},hidden:!1,hoverWidth:[1.5,0,5,.1],labelHighlightBold:!0,physics:!0,scaling:{min:[1,0,100,1],max:[15,0,100,1],label:{enabled:!0,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},selectionWidth:[1.5,0,5,.1],selfReferenceSize:[20,0,200,1],shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},smooth:{enabled:!0,type:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"],forceDirection:["horizontal","vertical","none"],roundness:[.5,0,1,.05]},width:[1,0,30,1]},layout:{hierarchical:{enabled:!1,levelSeparation:[150,20,500,5],nodeSpacing:[100,20,500,5],treeSpacing:[200,20,500,5],blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:["UD","DU","LR","RL"],sortMethod:["hubsize","directed"]}},interaction:{dragNodes:!0,dragView:!0,hideEdgesOnDrag:!1,hideNodesOnDrag:!1,hover:!1,keyboard:{enabled:!1,speed:{x:[10,0,40,1],y:[10,0,40,1],zoom:[.02,0,.1,.005]},bindToWindow:!0},multiselect:!1,navigationButtons:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0,tooltipDelay:[300,0,1e3,25],zoomView:!0},manipulation:{enabled:!1,initiallyActive:!1},physics:{enabled:!0,barnesHut:{gravitationalConstant:[-2e3,-3e4,0,50],centralGravity:[.3,0,10,.05],springLength:[95,0,500,5],springConstant:[.04,0,1.2,.005],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},forceAtlas2Based:{gravitationalConstant:[-50,-500,0,1],centralGravity:[.01,0,1,.005],springLength:[95,0,500,5],springConstant:[.08,0,1.2,.005],damping:[.4,0,1,.01],avoidOverlap:[0,0,1,.01]},repulsion:{centralGravity:[.2,0,10,.05],springLength:[200,0,500,5],springConstant:[.05,0,1.2,.005],nodeDistance:[100,0,500,5],damping:[.09,0,1,.01]},hierarchicalRepulsion:{centralGravity:[.2,0,10,.05],springLength:[100,0,500,5],springConstant:[.01,0,1.2,.005],nodeDistance:[120,0,500,5],damping:[.09,0,1,.01]},maxVelocity:[50,0,150,1],minVelocity:[.1,.01,.5,.01],solver:["barnesHut","forceAtlas2Based","repulsion","hierarchicalRepulsion"],timestep:[.5,.01,1,.01]}}},function(t,e,i){var n=i(2);n.extend(e,i(159)),n.extend(e,i(177)),n.extend(e,i(181))},function(t,e,i){i(49),i(60),t.exports=i(136)},function(t,e,i){var n=i(126),r=i(127),o=i(31),s=i(25);t.exports=i(79)(Array,"Array",function(t,e){this._t=s(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,i=this._i++;return!t||i>=t.length?(this._t=void 0,r(1)):r(0,"keys"==e?i:"values"==e?t[i]:[i,t[i]])},"values"),o.Arguments=o.Array,n("keys"),n("values"),n("entries")},function(t,e){t.exports=function(){}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,i){var n=i(54),r=i(39),o=i(59),s={};i(26)(s,i(13)("iterator"),function(){return this}),t.exports=function(t,e,i){t.prototype=n(s,{next:r(1,i)}),o(t,e+" Iterator")}},function(t,e,i){var n=i(20),r=i(27),o=i(33);t.exports=i(21)?Object.defineProperties:function(t,e){r(t);for(var i,s=o(e),a=s.length,h=0;a>h;)n.f(t,i=s[h++],e[i]);return t}},function(t,e,i){var n=i(25),r=i(132),o=i(133);t.exports=function(t){return function(e,i,s){var a,h=n(e),l=r(h.length),d=o(s,l);if(t&&i!=i){for(;l>d;)if((a=h[d++])!=a)return!0}else for(;l>d;d++)if((t||d in h)&&h[d]===i)return t||d||0;return!t&&-1}}},function(t,e,i){var n=i(55),r=Math.min;t.exports=function(t){return t>0?r(n(t),9007199254740991):0}},function(t,e,i){var n=i(55),r=Math.max,o=Math.min;t.exports=function(t,e){return(t=n(t))<0?r(t+e,0):o(t,e)}},function(t,e,i){var n=i(18).document;t.exports=n&&n.documentElement},function(t,e,i){var n=i(55),r=i(51);t.exports=function(t){return function(e,i){var o,s,a=String(r(e)),h=n(i),l=a.length;return h<0||h>=l?t?"":void 0:(o=a.charCodeAt(h))<55296||o>56319||h+1===l||(s=a.charCodeAt(h+1))<56320||s>57343?t?a.charAt(h):o:t?a.slice(h,h+2):s-56320+(o-55296<<10)+65536}}},function(t,e,i){var n=i(27),r=i(137);t.exports=i(7).getIterator=function(t){var e=r(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return n(e.call(t))}},function(t,e,i){var n=i(86),r=i(13)("iterator"),o=i(31);t.exports=i(7).getIteratorMethod=function(t){if(null!=t)return t[r]||t["@@iterator"]||o[n(t)]}},function(t,e,i){i(139);var n=i(7).Object;t.exports=function(t,e){return n.create(t,e)}},function(t,e,i){var n=i(17);n(n.S,"Object",{create:i(54)})},function(t,e,i){i(141),t.exports=i(7).Object.keys},function(t,e,i){var n=i(41),r=i(33);i(87)("keys",function(){return function(t){return r(n(t))}})},function(t,e,i){t.exports={default:i(143),__esModule:!0}},function(t,e,i){i(60),i(49),t.exports=i(61).f("iterator")},function(t,e,i){t.exports={default:i(145),__esModule:!0}},function(t,e,i){i(146),i(151),i(152),i(153),t.exports=i(7).Symbol},function(t,e,i){var n=i(18),r=i(22),o=i(21),s=i(17),a=i(83),h=i(147).KEY,l=i(28),d=i(57),u=i(59),c=i(40),f=i(13),p=i(61),g=i(62),m=i(148),v=i(149),y=i(27),b=i(25),w=i(53),x=i(39),_=i(54),k=i(150),S=i(89),M=i(20),C=i(33),E=S.f,N=M.f,A=k.f,D=n.Symbol,T=n.JSON,L=T&&T.stringify,O=f("_hidden"),P=f("toPrimitive"),I={}.propertyIsEnumerable,B=d("symbol-registry"),R=d("symbols"),F=d("op-symbols"),z=Object.prototype,j="function"==typeof D,q=n.QObject,H=!q||!q.prototype||!q.prototype.findChild,W=o&&l(function(){return 7!=_(N({},"a",{get:function(){return N(this,"a",{value:7}).a}})).a})?function(t,e,i){var n=E(z,e);n&&delete z[e],N(t,e,i),n&&t!==z&&N(z,e,n)}:N,U=function(t){var e=R[t]=_(D.prototype);return e._k=t,e},V=j&&"symbol"==typeof D.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof D},Y=function(t,e,i){return t===z&&Y(F,e,i),y(t),e=w(e,!0),y(i),r(R,e)?(i.enumerable?(r(t,O)&&t[O][e]&&(t[O][e]=!1),i=_(i,{enumerable:x(0,!1)})):(r(t,O)||N(t,O,x(1,{})),t[O][e]=!0),W(t,e,i)):N(t,e,i)},G=function(t,e){y(t);for(var i,n=m(e=b(e)),r=0,o=n.length;o>r;)Y(t,i=n[r++],e[i]);return t},X=function(t){var e=I.call(this,t=w(t,!0));return!(this===z&&r(R,t)&&!r(F,t))&&(!(e||!r(this,t)||!r(R,t)||r(this,O)&&this[O][t])||e)},K=function(t,e){if(t=b(t),e=w(e,!0),t!==z||!r(R,e)||r(F,e)){var i=E(t,e);return!i||!r(R,e)||r(t,O)&&t[O][e]||(i.enumerable=!0),i}},Z=function(t){for(var e,i=A(b(t)),n=[],o=0;i.length>o;)r(R,e=i[o++])||e==O||e==h||n.push(e);return n},Q=function(t){for(var e,i=t===z,n=A(i?F:b(t)),o=[],s=0;n.length>s;)!r(R,e=n[s++])||i&&!r(z,e)||o.push(R[e]);return o};j||(a((D=function(){if(this instanceof D)throw TypeError("Symbol is not a constructor!");var t=c(arguments.length>0?arguments[0]:void 0),e=function(i){this===z&&e.call(F,i),r(this,O)&&r(this[O],t)&&(this[O][t]=!1),W(this,t,x(1,i))};return o&&H&&W(z,t,{configurable:!0,set:e}),U(t)}).prototype,"toString",function(){return this._k}),S.f=K,M.f=Y,i(88).f=k.f=Z,i(42).f=X,i(63).f=Q,o&&!i(52)&&a(z,"propertyIsEnumerable",X,!0),p.f=function(t){return U(f(t))}),s(s.G+s.W+s.F*!j,{Symbol:D});for(var $="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),J=0;$.length>J;)f($[J++]);for(var tt=C(f.store),et=0;tt.length>et;)g(tt[et++]);s(s.S+s.F*!j,"Symbol",{for:function(t){return r(B,t+="")?B[t]:B[t]=D(t)},keyFor:function(t){if(!V(t))throw TypeError(t+" is not a symbol!");for(var e in B)if(B[e]===t)return e},useSetter:function(){H=!0},useSimple:function(){H=!1}}),s(s.S+s.F*!j,"Object",{create:function(t,e){return void 0===e?_(t):G(_(t),e)},defineProperty:Y,defineProperties:G,getOwnPropertyDescriptor:K,getOwnPropertyNames:Z,getOwnPropertySymbols:Q}),T&&s(s.S+s.F*(!j||l(function(){var t=D();return"[null]"!=L([t])||"{}"!=L({a:t})||"{}"!=L(Object(t))})),"JSON",{stringify:function(t){if(void 0!==t&&!V(t)){for(var e,i,n=[t],r=1;arguments.length>r;)n.push(arguments[r++]);return"function"==typeof(e=n[1])&&(i=e),!i&&v(e)||(e=function(t,e){if(i&&(e=i.call(this,t,e)),!V(e))return e}),n[1]=e,L.apply(T,n)}}}),D.prototype[P]||i(26)(D.prototype,P,D.prototype.valueOf),u(D,"Symbol"),u(Math,"Math",!0),u(n.JSON,"JSON",!0)},function(t,e,i){var n=i(40)("meta"),r=i(32),o=i(22),s=i(20).f,a=0,h=Object.isExtensible||function(){return!0},l=!i(28)(function(){return h(Object.preventExtensions({}))}),d=function(t){s(t,n,{value:{i:"O"+ ++a,w:{}}})},u=t.exports={KEY:n,NEED:!1,fastKey:function(t,e){if(!r(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,n)){if(!h(t))return"F";if(!e)return"E";d(t)}return t[n].i},getWeak:function(t,e){if(!o(t,n)){if(!h(t))return!0;if(!e)return!1;d(t)}return t[n].w},onFreeze:function(t){return l&&u.NEED&&h(t)&&!o(t,n)&&d(t),t}}},function(t,e,i){var n=i(33),r=i(63),o=i(42);t.exports=function(t){var e=n(t),i=r.f;if(i)for(var s,a=i(t),h=o.f,l=0;a.length>l;)h.call(t,s=a[l++])&&e.push(s);return e}},function(t,e,i){var n=i(50);t.exports=Array.isArray||function(t){return"Array"==n(t)}},function(t,e,i){var n=i(25),r=i(88).f,o={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return s&&"[object Window]"==o.call(t)?function(t){try{return r(t)}catch(t){return s.slice()}}(t):r(n(t))}},function(t,e){},function(t,e,i){i(62)("asyncIterator")},function(t,e,i){i(62)("observable")},function(t,e,i){(function(t){t.exports=function(){function e(){return te.apply(null,arguments)}function i(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function n(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function r(t){return void 0===t}function o(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)}function s(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function a(t,e){var i,n=[];for(i=0;i<t.length;++i)n.push(e(t[i],i));return n}function h(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function l(t,e){for(var i in e)h(e,i)&&(t[i]=e[i]);return h(e,"toString")&&(t.toString=e.toString),h(e,"valueOf")&&(t.valueOf=e.valueOf),t}function d(t,e,i,n){return wt(t,e,i,n,!0).utc()}function u(t){return null==t._pf&&(t._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),t._pf}function c(t){if(null==t._isValid){var e=u(t),i=ee.call(e.parsedDateParts,function(t){return null!=t}),n=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&i);if(t._strict&&(n=n&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour),null!=Object.isFrozen&&Object.isFrozen(t))return n;t._isValid=n}return t._isValid}function f(t){var e=d(NaN);return null!=t?l(u(e),t):u(e).userInvalidated=!0,e}function p(t,e){var i,n,o;if(r(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),r(e._i)||(t._i=e._i),r(e._f)||(t._f=e._f),r(e._l)||(t._l=e._l),r(e._strict)||(t._strict=e._strict),r(e._tzm)||(t._tzm=e._tzm),r(e._isUTC)||(t._isUTC=e._isUTC),r(e._offset)||(t._offset=e._offset),r(e._pf)||(t._pf=u(e)),r(e._locale)||(t._locale=e._locale),ne.length>0)for(i=0;i<ne.length;i++)r(o=e[n=ne[i]])||(t[n]=o);return t}function g(t){p(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===re&&(re=!0,e.updateOffset(this),re=!1)}function m(t){return t instanceof g||null!=t&&null!=t._isAMomentObject}function v(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function y(t){var e=+t,i=0;return 0!==e&&isFinite(e)&&(i=v(e)),i}function b(t,e,i){var n,r=Math.min(t.length,e.length),o=Math.abs(t.length-e.length),s=0;for(n=0;n<r;n++)(i&&t[n]!==e[n]||!i&&y(t[n])!==y(e[n]))&&s++;return s+o}function w(t){!1===e.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function x(t,i){var n=!0;return l(function(){if(null!=e.deprecationHandler&&e.deprecationHandler(null,t),n){for(var r,o=[],s=0;s<arguments.length;s++){if(r="","object"==typeof arguments[s]){for(var a in r+="\n["+s+"] ",arguments[0])r+=a+": "+arguments[0][a]+", ";r=r.slice(0,-2)}else r=arguments[s];o.push(r)}w(t+"\nArguments: "+Array.prototype.slice.call(o).join("")+"\n"+(new Error).stack),n=!1}return i.apply(this,arguments)},i)}function _(t,i){null!=e.deprecationHandler&&e.deprecationHandler(t,i),oe[t]||(w(i),oe[t]=!0)}function k(t){return t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function S(t,e){var i,r=l({},t);for(i in e)h(e,i)&&(n(t[i])&&n(e[i])?(r[i]={},l(r[i],t[i]),l(r[i],e[i])):null!=e[i]?r[i]=e[i]:delete r[i]);for(i in t)h(t,i)&&!h(e,i)&&n(t[i])&&(r[i]=l({},r[i]));return r}function M(t){null!=t&&this.set(t)}function C(t,e){var i=t.toLowerCase();se[i]=se[i+"s"]=se[e]=t}function E(t){return"string"==typeof t?se[t]||se[t.toLowerCase()]:void 0}function N(t){var e,i,n={};for(i in t)h(t,i)&&(e=E(i))&&(n[e]=t[i]);return n}function A(t,e){ae[t]=e}function D(t,e,i){var n=""+Math.abs(t);return(t>=0?i?"+":"":"-")+Math.pow(10,Math.max(0,e-n.length)).toString().substr(1)+n}function T(t,e,i,n){var r=n;"string"==typeof n&&(r=function(){return this[n]()}),t&&(ue[t]=r),e&&(ue[e[0]]=function(){return D(r.apply(this,arguments),e[1],e[2])}),i&&(ue[i]=function(){return this.localeData().ordinal(r.apply(this,arguments),t)})}function L(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function O(t,e){return t.isValid()?(e=P(e,t.localeData()),de[e]=de[e]||function(t){var e,i,n=t.match(he);for(e=0,i=n.length;e<i;e++)n[e]=ue[n[e]]?ue[n[e]]:L(n[e]);return function(e){var r,o="";for(r=0;r<i;r++)o+=k(n[r])?n[r].call(e,t):n[r];return o}}(e),de[e](t)):t.localeData().invalidDate()}function P(t,e){function i(t){return e.longDateFormat(t)||t}var n=5;for(le.lastIndex=0;n>=0&&le.test(t);)t=t.replace(le,i),le.lastIndex=0,n-=1;return t}function I(t,e,i){Ne[t]=k(e)?e:function(t,n){return t&&i?i:e}}function B(t,e){return h(Ne,t)?Ne[t](e._strict,e._locale):new RegExp(function(t){return R(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,i,n,r){return e||i||n||r}))}(t))}function R(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function F(t,e){var i,n=e;for("string"==typeof t&&(t=[t]),o(e)&&(n=function(t,i){i[e]=y(t)}),i=0;i<t.length;i++)Ae[t[i]]=n}function z(t,e){F(t,function(t,i,n,r){n._w=n._w||{},e(t,n._w,n,r)})}function j(t,e,i){null!=e&&h(Ae,t)&&Ae[t](e,i._a,i,t)}function q(t){return H(t)?366:365}function H(t){return t%4==0&&t%100!=0||t%400==0}function W(t,i){return function(n){return null!=n?(V(this,t,n),e.updateOffset(this,i),this):U(this,t)}}function U(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function V(t,e,i){t.isValid()&&!isNaN(i)&&("FullYear"===e&&H(t.year())?t._d["set"+(t._isUTC?"UTC":"")+e](i,t.month(),Y(i,t.month())):t._d["set"+(t._isUTC?"UTC":"")+e](i))}function Y(t,e){if(isNaN(t)||isNaN(e))return NaN;var i=function(t,e){return(t%12+12)%12}(e);return t+=(e-i)/12,1===i?H(t)?29:28:31-i%7%2}function G(t,e){var i;if(!t.isValid())return t;if("string"==typeof e)if(/^\d+$/.test(e))e=y(e);else if(!o(e=t.localeData().monthsParse(e)))return t;return i=Math.min(t.date(),Y(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,i),t}function X(t){return null!=t?(G(this,t),e.updateOffset(this,!0),this):U(this,"Month")}function K(){function t(t,e){return e.length-t.length}var e,i,n=[],r=[],o=[];for(e=0;e<12;e++)i=d([2e3,e]),n.push(this.monthsShort(i,"")),r.push(this.months(i,"")),o.push(this.months(i,"")),o.push(this.monthsShort(i,""));for(n.sort(t),r.sort(t),o.sort(t),e=0;e<12;e++)n[e]=R(n[e]),r[e]=R(r[e]);for(e=0;e<24;e++)o[e]=R(o[e]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+n.join("|")+")","i")}function Z(t){var e=new Date(Date.UTC.apply(null,arguments));return t<100&&t>=0&&isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t),e}function Q(t,e,i){var n=7+e-i;return-(7+Z(t,0,n).getUTCDay()-e)%7+n-1}function $(t,e,i,n,r){var o,s,a=1+7*(e-1)+(7+i-n)%7+Q(t,n,r);return a<=0?s=q(o=t-1)+a:a>q(t)?(o=t+1,s=a-q(t)):(o=t,s=a),{year:o,dayOfYear:s}}function J(t,e,i){var n,r,o=Q(t.year(),e,i),s=Math.floor((t.dayOfYear()-o-1)/7)+1;return s<1?n=s+tt(r=t.year()-1,e,i):s>tt(t.year(),e,i)?(n=s-tt(t.year(),e,i),r=t.year()+1):(r=t.year(),n=s),{week:n,year:r}}function tt(t,e,i){var n=Q(t,e,i),r=Q(t+1,e,i);return(q(t)-n+r)/7}function et(){function t(t,e){return e.length-t.length}var e,i,n,r,o,s=[],a=[],h=[],l=[];for(e=0;e<7;e++)i=d([2e3,1]).day(e),n=this.weekdaysMin(i,""),r=this.weekdaysShort(i,""),o=this.weekdays(i,""),s.push(n),a.push(r),h.push(o),l.push(n),l.push(r),l.push(o);for(s.sort(t),a.sort(t),h.sort(t),l.sort(t),e=0;e<7;e++)a[e]=R(a[e]),h[e]=R(h[e]),l[e]=R(l[e]);this._weekdaysRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+h.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+s.join("|")+")","i")}function it(){return this.hours()%12||12}function nt(t,e){T(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function rt(t,e){return e._meridiemParse}function ot(t){return t?t.toLowerCase().replace("_","-"):t}function st(e){var i=null;if(!ei[e]&&void 0!==t&&t&&t.exports)try{i=$e._abbr,function(){var t=new Error('Cannot find module "./locale"');throw t.code="MODULE_NOT_FOUND",t}(),at(i)}catch(t){}return ei[e]}function at(t,e){var i;return t&&(i=r(e)?lt(t):ht(t,e))&&($e=i),$e._abbr}function ht(t,e){if(null!==e){var i=ti;if(e.abbr=t,null!=ei[t])_("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),i=ei[t]._config;else if(null!=e.parentLocale){if(null==ei[e.parentLocale])return ii[e.parentLocale]||(ii[e.parentLocale]=[]),ii[e.parentLocale].push({name:t,config:e}),null;i=ei[e.parentLocale]._config}return ei[t]=new M(S(i,e)),ii[t]&&ii[t].forEach(function(t){ht(t.name,t.config)}),at(t),ei[t]}return delete ei[t],null}function lt(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return $e;if(!i(t)){if(e=st(t))return e;t=[t]}return function(t){for(var e,i,n,r,o=0;o<t.length;){for(e=(r=ot(t[o]).split("-")).length,i=(i=ot(t[o+1]))?i.split("-"):null;e>0;){if(n=st(r.slice(0,e).join("-")))return n;if(i&&i.length>=e&&b(r,i,!0)>=e-1)break;e--}o++}return null}(t)}function dt(t){var e,i=t._a;return i&&-2===u(t).overflow&&(e=i[Te]<0||i[Te]>11?Te:i[Le]<1||i[Le]>Y(i[De],i[Te])?Le:i[Oe]<0||i[Oe]>24||24===i[Oe]&&(0!==i[Pe]||0!==i[Ie]||0!==i[Be])?Oe:i[Pe]<0||i[Pe]>59?Pe:i[Ie]<0||i[Ie]>59?Ie:i[Be]<0||i[Be]>999?Be:-1,u(t)._overflowDayOfYear&&(e<De||e>Le)&&(e=Le),u(t)._overflowWeeks&&-1===e&&(e=Re),u(t)._overflowWeekday&&-1===e&&(e=Fe),u(t).overflow=e),t}function ut(t,e,i){return null!=t?t:null!=e?e:i}function ct(t){var i=new Date(e.now());return t._useUTC?[i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()]:[i.getFullYear(),i.getMonth(),i.getDate()]}function ft(t){var e,i,n,r,o=[];if(!t._d){for(n=ct(t),t._w&&null==t._a[Le]&&null==t._a[Te]&&function(t){var e,i,n,r,o,s,a,h;if(null!=(e=t._w).GG||null!=e.W||null!=e.E)o=1,s=4,i=ut(e.GG,t._a[De],J(xt(),1,4).year),n=ut(e.W,1),((r=ut(e.E,1))<1||r>7)&&(h=!0);else{o=t._locale._week.dow,s=t._locale._week.doy;var l=J(xt(),o,s);i=ut(e.gg,t._a[De],l.year),n=ut(e.w,l.week),null!=e.d?((r=e.d)<0||r>6)&&(h=!0):null!=e.e?(r=e.e+o,(e.e<0||e.e>6)&&(h=!0)):r=o}n<1||n>tt(i,o,s)?u(t)._overflowWeeks=!0:null!=h?u(t)._overflowWeekday=!0:(a=$(i,n,r,o,s),t._a[De]=a.year,t._dayOfYear=a.dayOfYear)}(t),null!=t._dayOfYear&&(r=ut(t._a[De],n[De]),(t._dayOfYear>q(r)||0===t._dayOfYear)&&(u(t)._overflowDayOfYear=!0),i=Z(r,0,t._dayOfYear),t._a[Te]=i.getUTCMonth(),t._a[Le]=i.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=o[e]=n[e];for(;e<7;e++)t._a[e]=o[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[Oe]&&0===t._a[Pe]&&0===t._a[Ie]&&0===t._a[Be]&&(t._nextDay=!0,t._a[Oe]=0),t._d=(t._useUTC?Z:function(t,e,i,n,r,o,s){var a=new Date(t,e,i,n,r,o,s);return t<100&&t>=0&&isFinite(a.getFullYear())&&a.setFullYear(t),a}).apply(null,o),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[Oe]=24),t._w&&void 0!==t._w.d&&t._w.d!==t._d.getDay()&&(u(t).weekdayMismatch=!0)}}function pt(t){var e,i,n,r,o,s,a=t._i,h=ni.exec(a)||ri.exec(a);if(h){for(u(t).iso=!0,e=0,i=si.length;e<i;e++)if(si[e][1].exec(h[1])){r=si[e][0],n=!1!==si[e][2];break}if(null==r)return void(t._isValid=!1);if(h[3]){for(e=0,i=ai.length;e<i;e++)if(ai[e][1].exec(h[3])){o=(h[2]||" ")+ai[e][0];break}if(null==o)return void(t._isValid=!1)}if(!n&&null!=o)return void(t._isValid=!1);if(h[4]){if(!oi.exec(h[4]))return void(t._isValid=!1);s="Z"}t._f=r+(o||"")+(s||""),vt(t)}else t._isValid=!1}function gt(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}function mt(t){var e=li.exec(function(t){return t.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}(t._i));if(e){var i=function(t,e,i,n,r,o){var s=[gt(t),We.indexOf(e),parseInt(i,10),parseInt(n,10),parseInt(r,10)];return o&&s.push(parseInt(o,10)),s}(e[4],e[3],e[2],e[5],e[6],e[7]);if(!function(t,e,i){return!t||Ge.indexOf(t)===new Date(e[0],e[1],e[2]).getDay()||(u(i).weekdayMismatch=!0,i._isValid=!1,!1)}(e[1],i,t))return;t._a=i,t._tzm=function(t,e,i){if(t)return di[t];if(e)return 0;var n=parseInt(i,10),r=n%100;return(n-r)/100*60+r}(e[8],e[9],e[10]),t._d=Z.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),u(t).rfc2822=!0}else t._isValid=!1}function vt(t){if(t._f!==e.ISO_8601)if(t._f!==e.RFC_2822){t._a=[],u(t).empty=!0;var i,n,r,o,s,a=""+t._i,h=a.length,l=0;for(r=P(t._f,t._locale).match(he)||[],i=0;i<r.length;i++)(n=(a.match(B(o=r[i],t))||[])[0])&&((s=a.substr(0,a.indexOf(n))).length>0&&u(t).unusedInput.push(s),a=a.slice(a.indexOf(n)+n.length),l+=n.length),ue[o]?(n?u(t).empty=!1:u(t).unusedTokens.push(o),j(o,n,t)):t._strict&&!n&&u(t).unusedTokens.push(o);u(t).charsLeftOver=h-l,a.length>0&&u(t).unusedInput.push(a),t._a[Oe]<=12&&!0===u(t).bigHour&&t._a[Oe]>0&&(u(t).bigHour=void 0),u(t).parsedDateParts=t._a.slice(0),u(t).meridiem=t._meridiem,t._a[Oe]=function(t,e,i){var n;return null==i?e:null!=t.meridiemHour?t.meridiemHour(e,i):null!=t.isPM?((n=t.isPM(i))&&e<12&&(e+=12),n||12!==e||(e=0),e):e}(t._locale,t._a[Oe],t._meridiem),ft(t),dt(t)}else mt(t);else pt(t)}function yt(t){var e=t._i,n=t._f;return t._locale=t._locale||lt(t._l),null===e||void 0===n&&""===e?f({nullInput:!0}):("string"==typeof e&&(t._i=e=t._locale.preparse(e)),m(e)?new g(dt(e)):(s(e)?t._d=e:i(n)?function(t){var e,i,n,r,o;if(0===t._f.length)return u(t).invalidFormat=!0,void(t._d=new Date(NaN));for(r=0;r<t._f.length;r++)o=0,e=p({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[r],vt(e),c(e)&&(o+=u(e).charsLeftOver,o+=10*u(e).unusedTokens.length,u(e).score=o,(null==n||o<n)&&(n=o,i=e));l(t,i||e)}(t):n?vt(t):bt(t),c(t)||(t._d=null),t))}function bt(t){var h=t._i;r(h)?t._d=new Date(e.now()):s(h)?t._d=new Date(h.valueOf()):"string"==typeof h?function(t){var i=hi.exec(t._i);null===i?(pt(t),!1===t._isValid&&(delete t._isValid,mt(t),!1===t._isValid&&(delete t._isValid,e.createFromInputFallback(t)))):t._d=new Date(+i[1])}(t):i(h)?(t._a=a(h.slice(0),function(t){return parseInt(t,10)}),ft(t)):n(h)?function(t){if(!t._d){var e=N(t._i);t._a=a([e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],function(t){return t&&parseInt(t,10)}),ft(t)}}(t):o(h)?t._d=new Date(h):e.createFromInputFallback(t)}function wt(t,e,r,o,s){var a={};return!0!==r&&!1!==r||(o=r,r=void 0),(n(t)&&function(t){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(t).length;var e;for(e in t)if(t.hasOwnProperty(e))return!1;return!0}(t)||i(t)&&0===t.length)&&(t=void 0),a._isAMomentObject=!0,a._useUTC=a._isUTC=s,a._l=r,a._i=t,a._f=e,a._strict=o,function(t){var e=new g(dt(yt(a)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}()}function xt(t,e,i,n){return wt(t,e,i,n,!1)}function _t(t,e){var n,r;if(1===e.length&&i(e[0])&&(e=e[0]),!e.length)return xt();for(n=e[0],r=1;r<e.length;++r)e[r].isValid()&&!e[r][t](n)||(n=e[r]);return n}function kt(t){var e=N(t),i=e.year||0,n=e.quarter||0,r=e.month||0,o=e.week||0,s=e.day||0,a=e.hour||0,h=e.minute||0,l=e.second||0,d=e.millisecond||0;this._isValid=function(t){for(var e in t)if(-1===ze.call(fi,e)||null!=t[e]&&isNaN(t[e]))return!1;for(var i=!1,n=0;n<fi.length;++n)if(t[fi[n]]){if(i)return!1;parseFloat(t[fi[n]])!==y(t[fi[n]])&&(i=!0)}return!0}(e),this._milliseconds=+d+1e3*l+6e4*h+1e3*a*60*60,this._days=+s+7*o,this._months=+r+3*n+12*i,this._data={},this._locale=lt(),this._bubble()}function St(t){return t instanceof kt}function Mt(t){return t<0?-1*Math.round(-1*t):Math.round(t)}function Ct(t,e){T(t,0,0,function(){var t=this.utcOffset(),i="+";return t<0&&(t=-t,i="-"),i+D(~~(t/60),2)+e+D(~~t%60,2)})}function Et(t,e){var i=(e||"").match(t);if(null===i)return null;var n=((i[i.length-1]||[])+"").match(pi)||["-",0,0],r=60*n[1]+y(n[2]);return 0===r?0:"+"===n[0]?r:-r}function Nt(t,i){var n,r;return i._isUTC?(n=i.clone(),r=(m(t)||s(t)?t.valueOf():xt(t).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),e.updateOffset(n,!1),n):xt(t).local()}function At(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function Dt(){return!!this.isValid()&&this._isUTC&&0===this._offset}function Tt(t,e){var i,n,r,s=t,a=null;return St(t)?s={ms:t._milliseconds,d:t._days,M:t._months}:o(t)?(s={},e?s[e]=t:s.milliseconds=t):(a=gi.exec(t))?(i="-"===a[1]?-1:1,s={y:0,d:y(a[Le])*i,h:y(a[Oe])*i,m:y(a[Pe])*i,s:y(a[Ie])*i,ms:y(Mt(1e3*a[Be]))*i}):(a=mi.exec(t))?s={y:Lt(a[2],i="-"===a[1]?-1:1),M:Lt(a[3],i),w:Lt(a[4],i),d:Lt(a[5],i),h:Lt(a[6],i),m:Lt(a[7],i),s:Lt(a[8],i)}:null==s?s={}:"object"==typeof s&&("from"in s||"to"in s)&&(r=function(t,e){var i;return t.isValid()&&e.isValid()?(e=Nt(e,t),t.isBefore(e)?i=Ot(t,e):((i=Ot(e,t)).milliseconds=-i.milliseconds,i.months=-i.months),i):{milliseconds:0,months:0}}(xt(s.from),xt(s.to)),(s={}).ms=r.milliseconds,s.M=r.months),n=new kt(s),St(t)&&h(t,"_locale")&&(n._locale=t._locale),n}function Lt(t,e){var i=t&&parseFloat(t.replace(",","."));return(isNaN(i)?0:i)*e}function Ot(t,e){var i={milliseconds:0,months:0};return i.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(i.months,"M").isAfter(e)&&--i.months,i.milliseconds=+e-+t.clone().add(i.months,"M"),i}function Pt(t,e){return function(i,n){var r;return null===n||isNaN(+n)||(_(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),r=i,i=n,n=r),It(this,Tt(i="string"==typeof i?+i:i,n),t),this}}function It(t,i,n,r){var o=i._milliseconds,s=Mt(i._days),a=Mt(i._months);t.isValid()&&(r=null==r||r,a&&G(t,U(t,"Month")+a*n),s&&V(t,"Date",U(t,"Date")+s*n),o&&t._d.setTime(t._d.valueOf()+o*n),r&&e.updateOffset(t,s||a))}function Bt(t,e){var i=12*(e.year()-t.year())+(e.month()-t.month()),n=t.clone().add(i,"months");return-(i+(e-n<0?(e-n)/(n-t.clone().add(i-1,"months")):(e-n)/(t.clone().add(i+1,"months")-n)))||0}function Rt(t){var e;return void 0===t?this._locale._abbr:(null!=(e=lt(t))&&(this._locale=e),this)}function Ft(){return this._locale}function zt(t,e){T(0,[t,t.length],0,e)}function jt(t,e,i,n,r){var o;return null==t?J(this,n,r).year:(e>(o=tt(t,n,r))&&(e=o),(function(t,e,i,n,r){var o=$(t,e,i,n,r),s=Z(o.year,0,o.dayOfYear);return this.year(s.getUTCFullYear()),this.month(s.getUTCMonth()),this.date(s.getUTCDate()),this}).call(this,t,e,i,n,r))}function qt(t,e){e[Be]=y(1e3*("0."+t))}function Ht(t){return t}function Wt(t,e,i,n){var r=lt(),o=d().set(n,e);return r[i](o,t)}function Ut(t,e,i){if(o(t)&&(e=t,t=void 0),t=t||"",null!=e)return Wt(t,e,i,"month");var n,r=[];for(n=0;n<12;n++)r[n]=Wt(t,n,i,"month");return r}function Vt(t,e,i,n){"boolean"==typeof t?(o(e)&&(i=e,e=void 0),e=e||""):(i=e=t,t=!1,o(e)&&(i=e,e=void 0),e=e||"");var r=lt(),s=t?r._week.dow:0;if(null!=i)return Wt(e,(i+s)%7,n,"day");var a,h=[];for(a=0;a<7;a++)h[a]=Wt(e,(a+s)%7,n,"day");return h}function Yt(t,e,i,n){var r=Tt(e,i);return t._milliseconds+=n*r._milliseconds,t._days+=n*r._days,t._months+=n*r._months,t._bubble()}function Gt(t){return t<0?Math.floor(t):Math.ceil(t)}function Xt(t){return 4800*t/146097}function Kt(t){return 146097*t/4800}function Zt(t){return function(){return this.as(t)}}function Qt(t){return function(){return this.isValid()?this._data[t]:NaN}}function $t(t){return(t>0)-(t<0)||+t}function Jt(){if(!this.isValid())return this.localeData().invalidDate();var t,e,i=Vi(this._milliseconds)/1e3,n=Vi(this._days),r=Vi(this._months);t=v(i/60),e=v(t/60),i%=60,t%=60;var o=v(r/12),s=r%=12,a=n,h=e,l=t,d=i?i.toFixed(3).replace(/\.?0+$/,""):"",u=this.asSeconds();if(!u)return"P0D";var c=u<0?"-":"",f=$t(this._months)!==$t(u)?"-":"",p=$t(this._days)!==$t(u)?"-":"",g=$t(this._milliseconds)!==$t(u)?"-":"";return c+"P"+(o?f+o+"Y":"")+(s?f+s+"M":"")+(a?p+a+"D":"")+(h||l||d?"T":"")+(h?g+h+"H":"")+(l?g+l+"M":"")+(d?g+d+"S":"")}var te,ee;ee=Array.prototype.some?Array.prototype.some:function(t){for(var e=Object(this),i=e.length>>>0,n=0;n<i;n++)if(n in e&&t.call(this,e[n],n,e))return!0;return!1};var ie,ne=e.momentProperties=[],re=!1,oe={};e.suppressDeprecationWarnings=!1,e.deprecationHandler=null,ie=Object.keys?Object.keys:function(t){var e,i=[];for(e in t)h(t,e)&&i.push(e);return i};var se={},ae={},he=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,le=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,de={},ue={},ce=/\d/,fe=/\d\d/,pe=/\d{3}/,ge=/\d{4}/,me=/[+-]?\d{6}/,ve=/\d\d?/,ye=/\d\d\d\d?/,be=/\d\d\d\d\d\d?/,we=/\d{1,3}/,xe=/\d{1,4}/,_e=/[+-]?\d{1,6}/,ke=/\d+/,Se=/[+-]?\d+/,Me=/Z|[+-]\d\d:?\d\d/gi,Ce=/Z|[+-]\d\d(?::?\d\d)?/gi,Ee=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Ne={},Ae={},De=0,Te=1,Le=2,Oe=3,Pe=4,Ie=5,Be=6,Re=7,Fe=8;T("Y",0,0,function(){var t=this.year();return t<=9999?""+t:"+"+t}),T(0,["YY",2],0,function(){return this.year()%100}),T(0,["YYYY",4],0,"year"),T(0,["YYYYY",5],0,"year"),T(0,["YYYYYY",6,!0],0,"year"),C("year","y"),A("year",1),I("Y",Se),I("YY",ve,fe),I("YYYY",xe,ge),I("YYYYY",_e,me),I("YYYYYY",_e,me),F(["YYYYY","YYYYYY"],De),F("YYYY",function(t,i){i[De]=2===t.length?e.parseTwoDigitYear(t):y(t)}),F("YY",function(t,i){i[De]=e.parseTwoDigitYear(t)}),F("Y",function(t,e){e[De]=parseInt(t,10)}),e.parseTwoDigitYear=function(t){return y(t)+(y(t)>68?1900:2e3)};var ze,je=W("FullYear",!0);ze=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1},T("M",["MM",2],"Mo",function(){return this.month()+1}),T("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),T("MMMM",0,0,function(t){return this.localeData().months(this,t)}),C("month","M"),A("month",8),I("M",ve),I("MM",ve,fe),I("MMM",function(t,e){return e.monthsShortRegex(t)}),I("MMMM",function(t,e){return e.monthsRegex(t)}),F(["M","MM"],function(t,e){e[Te]=y(t)-1}),F(["MMM","MMMM"],function(t,e,i,n){var r=i._locale.monthsParse(t,n,i._strict);null!=r?e[Te]=r:u(i).invalidMonth=t});var qe=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,He="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),We="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Ue=Ee,Ve=Ee;T("w",["ww",2],"wo","week"),T("W",["WW",2],"Wo","isoWeek"),C("week","w"),C("isoWeek","W"),A("week",5),A("isoWeek",5),I("w",ve),I("ww",ve,fe),I("W",ve),I("WW",ve,fe),z(["w","ww","W","WW"],function(t,e,i,n){e[n.substr(0,1)]=y(t)}),T("d",0,"do","day"),T("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),T("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),T("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),T("e",0,0,"weekday"),T("E",0,0,"isoWeekday"),C("day","d"),C("weekday","e"),C("isoWeekday","E"),A("day",11),A("weekday",11),A("isoWeekday",11),I("d",ve),I("e",ve),I("E",ve),I("dd",function(t,e){return e.weekdaysMinRegex(t)}),I("ddd",function(t,e){return e.weekdaysShortRegex(t)}),I("dddd",function(t,e){return e.weekdaysRegex(t)}),z(["dd","ddd","dddd"],function(t,e,i,n){var r=i._locale.weekdaysParse(t,n,i._strict);null!=r?e.d=r:u(i).invalidWeekday=t}),z(["d","e","E"],function(t,e,i,n){e[n]=y(t)});var Ye="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Ge="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Xe="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Ke=Ee,Ze=Ee,Qe=Ee;T("H",["HH",2],0,"hour"),T("h",["hh",2],0,it),T("k",["kk",2],0,function(){return this.hours()||24}),T("hmm",0,0,function(){return""+it.apply(this)+D(this.minutes(),2)}),T("hmmss",0,0,function(){return""+it.apply(this)+D(this.minutes(),2)+D(this.seconds(),2)}),T("Hmm",0,0,function(){return""+this.hours()+D(this.minutes(),2)}),T("Hmmss",0,0,function(){return""+this.hours()+D(this.minutes(),2)+D(this.seconds(),2)}),nt("a",!0),nt("A",!1),C("hour","h"),A("hour",13),I("a",rt),I("A",rt),I("H",ve),I("h",ve),I("k",ve),I("HH",ve,fe),I("hh",ve,fe),I("kk",ve,fe),I("hmm",ye),I("hmmss",be),I("Hmm",ye),I("Hmmss",be),F(["H","HH"],Oe),F(["k","kk"],function(t,e,i){var n=y(t);e[Oe]=24===n?0:n}),F(["a","A"],function(t,e,i){i._isPm=i._locale.isPM(t),i._meridiem=t}),F(["h","hh"],function(t,e,i){e[Oe]=y(t),u(i).bigHour=!0}),F("hmm",function(t,e,i){var n=t.length-2;e[Oe]=y(t.substr(0,n)),e[Pe]=y(t.substr(n)),u(i).bigHour=!0}),F("hmmss",function(t,e,i){var n=t.length-4,r=t.length-2;e[Oe]=y(t.substr(0,n)),e[Pe]=y(t.substr(n,2)),e[Ie]=y(t.substr(r)),u(i).bigHour=!0}),F("Hmm",function(t,e,i){var n=t.length-2;e[Oe]=y(t.substr(0,n)),e[Pe]=y(t.substr(n))}),F("Hmmss",function(t,e,i){var n=t.length-4,r=t.length-2;e[Oe]=y(t.substr(0,n)),e[Pe]=y(t.substr(n,2)),e[Ie]=y(t.substr(r))});var $e,Je=W("Hours",!0),ti={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:He,monthsShort:We,week:{dow:0,doy:6},weekdays:Ye,weekdaysMin:Xe,weekdaysShort:Ge,meridiemParse:/[ap]\.?m?\.?/i},ei={},ii={},ni=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ri=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,oi=/Z|[+-]\d\d(?::?\d\d)?/,si=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],ai=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],hi=/^\/?Date\((\-?\d+)/i,li=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,di={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};e.createFromInputFallback=x("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),e.ISO_8601=function(){},e.RFC_2822=function(){};var ui=x("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=xt.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:f()}),ci=x("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=xt.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:f()}),fi=["year","quarter","month","week","day","hour","minute","second","millisecond"];Ct("Z",":"),Ct("ZZ",""),I("Z",Ce),I("ZZ",Ce),F(["Z","ZZ"],function(t,e,i){i._useUTC=!0,i._tzm=Et(Ce,t)});var pi=/([\+\-]|\d\d)/gi;e.updateOffset=function(){};var gi=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,mi=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;Tt.fn=kt.prototype,Tt.invalid=function(){return Tt(NaN)};var vi=Pt(1,"add"),yi=Pt(-1,"subtract");e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",e.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var bi=x("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});T(0,["gg",2],0,function(){return this.weekYear()%100}),T(0,["GG",2],0,function(){return this.isoWeekYear()%100}),zt("gggg","weekYear"),zt("ggggg","weekYear"),zt("GGGG","isoWeekYear"),zt("GGGGG","isoWeekYear"),C("weekYear","gg"),C("isoWeekYear","GG"),A("weekYear",1),A("isoWeekYear",1),I("G",Se),I("g",Se),I("GG",ve,fe),I("gg",ve,fe),I("GGGG",xe,ge),I("gggg",xe,ge),I("GGGGG",_e,me),I("ggggg",_e,me),z(["gggg","ggggg","GGGG","GGGGG"],function(t,e,i,n){e[n.substr(0,2)]=y(t)}),z(["gg","GG"],function(t,i,n,r){i[r]=e.parseTwoDigitYear(t)}),T("Q",0,"Qo","quarter"),C("quarter","Q"),A("quarter",7),I("Q",ce),F("Q",function(t,e){e[Te]=3*(y(t)-1)}),T("D",["DD",2],"Do","date"),C("date","D"),A("date",9),I("D",ve),I("DD",ve,fe),I("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient}),F(["D","DD"],Le),F("Do",function(t,e){e[Le]=y(t.match(ve)[0])});var wi=W("Date",!0);T("DDD",["DDDD",3],"DDDo","dayOfYear"),C("dayOfYear","DDD"),A("dayOfYear",4),I("DDD",we),I("DDDD",pe),F(["DDD","DDDD"],function(t,e,i){i._dayOfYear=y(t)}),T("m",["mm",2],0,"minute"),C("minute","m"),A("minute",14),I("m",ve),I("mm",ve,fe),F(["m","mm"],Pe);var xi=W("Minutes",!1);T("s",["ss",2],0,"second"),C("second","s"),A("second",15),I("s",ve),I("ss",ve,fe),F(["s","ss"],Ie);var _i,ki=W("Seconds",!1);for(T("S",0,0,function(){return~~(this.millisecond()/100)}),T(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),T(0,["SSS",3],0,"millisecond"),T(0,["SSSS",4],0,function(){return 10*this.millisecond()}),T(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),T(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),T(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),T(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),T(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),C("millisecond","ms"),A("millisecond",16),I("S",we,ce),I("SS",we,fe),I("SSS",we,pe),_i="SSSS";_i.length<=9;_i+="S")I(_i,ke);for(_i="S";_i.length<=9;_i+="S")F(_i,qt);var Si=W("Milliseconds",!1);T("z",0,0,"zoneAbbr"),T("zz",0,0,"zoneName");var Mi=g.prototype;Mi.add=vi,Mi.calendar=function(t,i){var n=t||xt(),r=Nt(n,this).startOf("day"),o=e.calendarFormat(this,r)||"sameElse",s=i&&(k(i[o])?i[o].call(this,n):i[o]);return this.format(s||this.localeData().calendar(o,this,xt(n)))},Mi.clone=function(){return new g(this)},Mi.diff=function(t,e,i){var n,r,o;if(!this.isValid())return NaN;if(!(n=Nt(t,this)).isValid())return NaN;switch(r=6e4*(n.utcOffset()-this.utcOffset()),e=E(e)){case"year":o=Bt(this,n)/12;break;case"month":o=Bt(this,n);break;case"quarter":o=Bt(this,n)/3;break;case"second":o=(this-n)/1e3;break;case"minute":o=(this-n)/6e4;break;case"hour":o=(this-n)/36e5;break;case"day":o=(this-n-r)/864e5;break;case"week":o=(this-n-r)/6048e5;break;default:o=this-n}return i?o:v(o)},Mi.endOf=function(t){return void 0===(t=E(t))||"millisecond"===t?this:("date"===t&&(t="day"),this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms"))},Mi.format=function(t){t||(t=this.isUtc()?e.defaultFormatUtc:e.defaultFormat);var i=O(this,t);return this.localeData().postformat(i)},Mi.from=function(t,e){return this.isValid()&&(m(t)&&t.isValid()||xt(t).isValid())?Tt({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},Mi.fromNow=function(t){return this.from(xt(),t)},Mi.to=function(t,e){return this.isValid()&&(m(t)&&t.isValid()||xt(t).isValid())?Tt({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},Mi.toNow=function(t){return this.to(xt(),t)},Mi.get=function(t){return k(this[t=E(t)])?this[t]():this},Mi.invalidAt=function(){return u(this).overflow},Mi.isAfter=function(t,e){var i=m(t)?t:xt(t);return!(!this.isValid()||!i.isValid())&&("millisecond"===(e=E(r(e)?"millisecond":e))?this.valueOf()>i.valueOf():i.valueOf()<this.clone().startOf(e).valueOf())},Mi.isBefore=function(t,e){var i=m(t)?t:xt(t);return!(!this.isValid()||!i.isValid())&&("millisecond"===(e=E(r(e)?"millisecond":e))?this.valueOf()<i.valueOf():this.clone().endOf(e).valueOf()<i.valueOf())},Mi.isBetween=function(t,e,i,n){return("("===(n=n||"()")[0]?this.isAfter(t,i):!this.isBefore(t,i))&&(")"===n[1]?this.isBefore(e,i):!this.isAfter(e,i))},Mi.isSame=function(t,e){var i,n=m(t)?t:xt(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=E(e||"millisecond"))?this.valueOf()===n.valueOf():(i=n.valueOf(),this.clone().startOf(e).valueOf()<=i&&i<=this.clone().endOf(e).valueOf()))},Mi.isSameOrAfter=function(t,e){return this.isSame(t,e)||this.isAfter(t,e)},Mi.isSameOrBefore=function(t,e){return this.isSame(t,e)||this.isBefore(t,e)},Mi.isValid=function(){return c(this)},Mi.lang=bi,Mi.locale=Rt,Mi.localeData=Ft,Mi.max=ci,Mi.min=ui,Mi.parsingFlags=function(){return l({},u(this))},Mi.set=function(t,e){if("object"==typeof t)for(var i=function(t){var e=[];for(var i in t)e.push({unit:i,priority:ae[i]});return e.sort(function(t,e){return t.priority-e.priority}),e}(t=N(t)),n=0;n<i.length;n++)this[i[n].unit](t[i[n].unit]);else if(k(this[t=E(t)]))return this[t](e);return this},Mi.startOf=function(t){switch(t=E(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this},Mi.subtract=yi,Mi.toArray=function(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]},Mi.toObject=function(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}},Mi.toDate=function(){return new Date(this.valueOf())},Mi.toISOString=function(){if(!this.isValid())return null;var t=this.clone().utc();return t.year()<0||t.year()>9999?O(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):k(Date.prototype.toISOString)?this.toDate().toISOString():O(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},Mi.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="";this.isLocal()||(t=0===this.utcOffset()?"moment.utc":"moment.parseZone",e="Z");var i="["+t+'("]',n=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY";return this.format(i+n+"-MM-DD[T]HH:mm:ss.SSS"+e+'[")]')},Mi.toJSON=function(){return this.isValid()?this.toISOString():null},Mi.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},Mi.unix=function(){return Math.floor(this.valueOf()/1e3)},Mi.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},Mi.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},Mi.year=je,Mi.isLeapYear=function(){return H(this.year())},Mi.weekYear=function(t){return jt.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},Mi.isoWeekYear=function(t){return jt.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)},Mi.quarter=Mi.quarters=function(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)},Mi.month=X,Mi.daysInMonth=function(){return Y(this.year(),this.month())},Mi.week=Mi.weeks=function(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")},Mi.isoWeek=Mi.isoWeeks=function(t){var e=J(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")},Mi.weeksInYear=function(){var t=this.localeData()._week;return tt(this.year(),t.dow,t.doy)},Mi.isoWeeksInYear=function(){return tt(this.year(),1,4)},Mi.date=wi,Mi.day=Mi.days=function(t){if(!this.isValid())return null!=t?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=function(t,e){return"string"!=typeof t?t:isNaN(t)?"number"==typeof(t=e.weekdaysParse(t))?t:null:parseInt(t,10)}(t,this.localeData()),this.add(t-e,"d")):e},Mi.weekday=function(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")},Mi.isoWeekday=function(t){if(!this.isValid())return null!=t?this:NaN;if(null!=t){var e=function(t,e){return"string"==typeof t?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}(t,this.localeData());return this.day(this.day()%7?e:e-7)}return this.day()||7},Mi.dayOfYear=function(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")},Mi.hour=Mi.hours=Je,Mi.minute=Mi.minutes=xi,Mi.second=Mi.seconds=ki,Mi.millisecond=Mi.milliseconds=Si,Mi.utcOffset=function(t,i,n){var r,o=this._offset||0;if(!this.isValid())return null!=t?this:NaN;if(null!=t){if("string"==typeof t){if(null===(t=Et(Ce,t)))return this}else Math.abs(t)<16&&!n&&(t*=60);return!this._isUTC&&i&&(r=At(this)),this._offset=t,this._isUTC=!0,null!=r&&this.add(r,"m"),o!==t&&(!i||this._changeInProgress?It(this,Tt(t-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?o:At(this)},Mi.utc=function(t){return this.utcOffset(0,t)},Mi.local=function(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(At(this),"m")),this},Mi.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var t=Et(Me,this._i);null!=t?this.utcOffset(t):this.utcOffset(0,!0)}return this},Mi.hasAlignedHourOffset=function(t){return!!this.isValid()&&(t=t?xt(t).utcOffset():0,(this.utcOffset()-t)%60==0)},Mi.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},Mi.isLocal=function(){return!!this.isValid()&&!this._isUTC},Mi.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},Mi.isUtc=Dt,Mi.isUTC=Dt,Mi.zoneAbbr=function(){return this._isUTC?"UTC":""},Mi.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},Mi.dates=x("dates accessor is deprecated. Use date instead.",wi),Mi.months=x("months accessor is deprecated. Use month instead",X),Mi.years=x("years accessor is deprecated. Use year instead",je),Mi.zone=x("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}),Mi.isDSTShifted=x("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!r(this._isDSTShifted))return this._isDSTShifted;var t={};if(p(t,this),(t=yt(t))._a){var e=t._isUTC?d(t._a):xt(t._a);this._isDSTShifted=this.isValid()&&b(t._a,e.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted});var Ci=M.prototype;Ci.calendar=function(t,e,i){var n=this._calendar[t]||this._calendar.sameElse;return k(n)?n.call(e,i):n},Ci.longDateFormat=function(t){var e=this._longDateFormat[t],i=this._longDateFormat[t.toUpperCase()];return e||!i?e:(this._longDateFormat[t]=i.replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t])},Ci.invalidDate=function(){return this._invalidDate},Ci.ordinal=function(t){return this._ordinal.replace("%d",t)},Ci.preparse=Ht,Ci.postformat=Ht,Ci.relativeTime=function(t,e,i,n){var r=this._relativeTime[i];return k(r)?r(t,e,i,n):r.replace(/%d/i,t)},Ci.pastFuture=function(t,e){var i=this._relativeTime[t>0?"future":"past"];return k(i)?i(e):i.replace(/%s/i,e)},Ci.set=function(t){var e,i;for(i in t)k(e=t[i])?this[i]=e:this["_"+i]=e;this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},Ci.months=function(t,e){return t?i(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||qe).test(e)?"format":"standalone"][t.month()]:i(this._months)?this._months:this._months.standalone},Ci.monthsShort=function(t,e){return t?i(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[qe.test(e)?"format":"standalone"][t.month()]:i(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},Ci.monthsParse=function(t,e,i){var n,r,o;if(this._monthsParseExact)return(function(t,e,i){var n,r,o,s=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],n=0;n<12;++n)o=d([2e3,n]),this._shortMonthsParse[n]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[n]=this.months(o,"").toLocaleLowerCase();return i?"MMM"===e?-1!==(r=ze.call(this._shortMonthsParse,s))?r:null:-1!==(r=ze.call(this._longMonthsParse,s))?r:null:"MMM"===e?-1!==(r=ze.call(this._shortMonthsParse,s))?r:-1!==(r=ze.call(this._longMonthsParse,s))?r:null:-1!==(r=ze.call(this._longMonthsParse,s))?r:-1!==(r=ze.call(this._shortMonthsParse,s))?r:null}).call(this,t,e,i);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;n<12;n++){if(r=d([2e3,n]),i&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),i||this._monthsParse[n]||(o="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[n]=new RegExp(o.replace(".",""),"i")),i&&"MMMM"===e&&this._longMonthsParse[n].test(t))return n;if(i&&"MMM"===e&&this._shortMonthsParse[n].test(t))return n;if(!i&&this._monthsParse[n].test(t))return n}},Ci.monthsRegex=function(t){return this._monthsParseExact?(h(this,"_monthsRegex")||K.call(this),t?this._monthsStrictRegex:this._monthsRegex):(h(this,"_monthsRegex")||(this._monthsRegex=Ve),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)},Ci.monthsShortRegex=function(t){return this._monthsParseExact?(h(this,"_monthsRegex")||K.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(h(this,"_monthsShortRegex")||(this._monthsShortRegex=Ue),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)},Ci.week=function(t){return J(t,this._week.dow,this._week.doy).week},Ci.firstDayOfYear=function(){return this._week.doy},Ci.firstDayOfWeek=function(){return this._week.dow},Ci.weekdays=function(t,e){return t?i(this._weekdays)?this._weekdays[t.day()]:this._weekdays[this._weekdays.isFormat.test(e)?"format":"standalone"][t.day()]:i(this._weekdays)?this._weekdays:this._weekdays.standalone},Ci.weekdaysMin=function(t){return t?this._weekdaysMin[t.day()]:this._weekdaysMin},Ci.weekdaysShort=function(t){return t?this._weekdaysShort[t.day()]:this._weekdaysShort},Ci.weekdaysParse=function(t,e,i){var n,r,o;if(this._weekdaysParseExact)return(function(t,e,i){var n,r,o,s=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],n=0;n<7;++n)o=d([2e3,1]).day(n),this._minWeekdaysParse[n]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[n]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[n]=this.weekdays(o,"").toLocaleLowerCase();return i?"dddd"===e?-1!==(r=ze.call(this._weekdaysParse,s))?r:null:"ddd"===e?-1!==(r=ze.call(this._shortWeekdaysParse,s))?r:null:-1!==(r=ze.call(this._minWeekdaysParse,s))?r:null:"dddd"===e?-1!==(r=ze.call(this._weekdaysParse,s))?r:-1!==(r=ze.call(this._shortWeekdaysParse,s))?r:-1!==(r=ze.call(this._minWeekdaysParse,s))?r:null:"ddd"===e?-1!==(r=ze.call(this._shortWeekdaysParse,s))?r:-1!==(r=ze.call(this._weekdaysParse,s))?r:-1!==(r=ze.call(this._minWeekdaysParse,s))?r:null:-1!==(r=ze.call(this._minWeekdaysParse,s))?r:-1!==(r=ze.call(this._weekdaysParse,s))?r:-1!==(r=ze.call(this._shortWeekdaysParse,s))?r:null}).call(this,t,e,i);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),n=0;n<7;n++){if(r=d([2e3,1]).day(n),i&&!this._fullWeekdaysParse[n]&&(this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(r,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(r,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(r,"").replace(".",".?")+"$","i")),this._weekdaysParse[n]||(o="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[n]=new RegExp(o.replace(".",""),"i")),i&&"dddd"===e&&this._fullWeekdaysParse[n].test(t))return n;if(i&&"ddd"===e&&this._shortWeekdaysParse[n].test(t))return n;if(i&&"dd"===e&&this._minWeekdaysParse[n].test(t))return n;if(!i&&this._weekdaysParse[n].test(t))return n}},Ci.weekdaysRegex=function(t){return this._weekdaysParseExact?(h(this,"_weekdaysRegex")||et.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(h(this,"_weekdaysRegex")||(this._weekdaysRegex=Ke),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)},Ci.weekdaysShortRegex=function(t){return this._weekdaysParseExact?(h(this,"_weekdaysRegex")||et.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(h(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Ze),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},Ci.weekdaysMinRegex=function(t){return this._weekdaysParseExact?(h(this,"_weekdaysRegex")||et.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(h(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Qe),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},Ci.isPM=function(t){return"p"===(t+"").toLowerCase().charAt(0)},Ci.meridiem=function(t,e,i){return t>11?i?"pm":"PM":i?"am":"AM"},at("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1===y(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}}),e.lang=x("moment.lang is deprecated. Use moment.locale instead.",at),e.langData=x("moment.langData is deprecated. Use moment.localeData instead.",lt);var Ei=Math.abs,Ni=Zt("ms"),Ai=Zt("s"),Di=Zt("m"),Ti=Zt("h"),Li=Zt("d"),Oi=Zt("w"),Pi=Zt("M"),Ii=Zt("y"),Bi=Qt("milliseconds"),Ri=Qt("seconds"),Fi=Qt("minutes"),zi=Qt("hours"),ji=Qt("days"),qi=Qt("months"),Hi=Qt("years"),Wi=Math.round,Ui={ss:44,s:45,m:45,h:22,d:26,M:11},Vi=Math.abs,Yi=kt.prototype;return Yi.isValid=function(){return this._isValid},Yi.abs=function(){var t=this._data;return this._milliseconds=Ei(this._milliseconds),this._days=Ei(this._days),this._months=Ei(this._months),t.milliseconds=Ei(t.milliseconds),t.seconds=Ei(t.seconds),t.minutes=Ei(t.minutes),t.hours=Ei(t.hours),t.months=Ei(t.months),t.years=Ei(t.years),this},Yi.add=function(t,e){return Yt(this,t,e,1)},Yi.subtract=function(t,e){return Yt(this,t,e,-1)},Yi.as=function(t){if(!this.isValid())return NaN;var e,i,n=this._milliseconds;if("month"===(t=E(t))||"year"===t)return i=this._months+Xt(e=this._days+n/864e5),"month"===t?i:i/12;switch(e=this._days+Math.round(Kt(this._months)),t){case"week":return e/7+n/6048e5;case"day":return e+n/864e5;case"hour":return 24*e+n/36e5;case"minute":return 1440*e+n/6e4;case"second":return 86400*e+n/1e3;case"millisecond":return Math.floor(864e5*e)+n;default:throw new Error("Unknown unit "+t)}},Yi.asMilliseconds=Ni,Yi.asSeconds=Ai,Yi.asMinutes=Di,Yi.asHours=Ti,Yi.asDays=Li,Yi.asWeeks=Oi,Yi.asMonths=Pi,Yi.asYears=Ii,Yi.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*y(this._months/12):NaN},Yi._bubble=function(){var t,e,i,n,r,o=this._milliseconds,s=this._days,a=this._months,h=this._data;return o>=0&&s>=0&&a>=0||o<=0&&s<=0&&a<=0||(o+=864e5*Gt(Kt(a)+s),s=0,a=0),h.milliseconds=o%1e3,t=v(o/1e3),h.seconds=t%60,e=v(t/60),h.minutes=e%60,i=v(e/60),h.hours=i%24,s+=v(i/24),a+=r=v(Xt(s)),s-=Gt(Kt(r)),n=v(a/12),a%=12,h.days=s,h.months=a,h.years=n,this},Yi.clone=function(){return Tt(this)},Yi.get=function(t){return t=E(t),this.isValid()?this[t+"s"]():NaN},Yi.milliseconds=Bi,Yi.seconds=Ri,Yi.minutes=Fi,Yi.hours=zi,Yi.days=ji,Yi.weeks=function(){return v(this.days()/7)},Yi.months=qi,Yi.years=Hi,Yi.humanize=function(t){if(!this.isValid())return this.localeData().invalidDate();var e=this.localeData(),i=function(t,e,i){var n=Tt(t).abs(),r=Wi(n.as("s")),o=Wi(n.as("m")),s=Wi(n.as("h")),a=Wi(n.as("d")),h=Wi(n.as("M")),l=Wi(n.as("y")),d=r<=Ui.ss&&["s",r]||r<Ui.s&&["ss",r]||o<=1&&["m"]||o<Ui.m&&["mm",o]||s<=1&&["h"]||s<Ui.h&&["hh",s]||a<=1&&["d"]||a<Ui.d&&["dd",a]||h<=1&&["M"]||h<Ui.M&&["MM",h]||l<=1&&["y"]||["yy",l];return d[2]=e,d[3]=+t>0,d[4]=i,(function(t,e,i,n,r){return r.relativeTime(e||1,!!i,t,n)}).apply(null,d)}(this,!t,e);return t&&(i=e.pastFuture(+this,i)),e.postformat(i)},Yi.toISOString=Jt,Yi.toString=Jt,Yi.toJSON=Jt,Yi.locale=Rt,Yi.localeData=Ft,Yi.toIsoString=x("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Jt),Yi.lang=bi,T("X",0,0,"unix"),T("x",0,0,"valueOf"),I("x",Se),I("X",/[+-]?\d+(\.\d{1,3})?/),F("X",function(t,e,i){i._d=new Date(1e3*parseFloat(t,10))}),F("x",function(t,e,i){i._d=new Date(y(t))}),e.version="2.19.1",te=xt,e.fn=Mi,e.min=function(){return _t("isBefore",[].slice.call(arguments,0))},e.max=function(){return _t("isAfter",[].slice.call(arguments,0))},e.now=function(){return Date.now?Date.now():+new Date},e.utc=d,e.unix=function(t){return xt(1e3*t)},e.months=function(t,e){return Ut(t,e,"months")},e.isDate=s,e.locale=at,e.invalid=f,e.duration=Tt,e.isMoment=m,e.weekdays=function(t,e,i){return Vt(t,e,i,"weekdays")},e.parseZone=function(){return xt.apply(null,arguments).parseZone()},e.localeData=lt,e.isDuration=St,e.monthsShort=function(t,e){return Ut(t,e,"monthsShort")},e.weekdaysMin=function(t,e,i){return Vt(t,e,i,"weekdaysMin")},e.defineLocale=ht,e.updateLocale=function(t,e){if(null!=e){var i,n=ti;null!=ei[t]&&(n=ei[t]._config),(i=new M(e=S(n,e))).parentLocale=ei[t],ei[t]=i,at(t)}else null!=ei[t]&&(null!=ei[t].parentLocale?ei[t]=ei[t].parentLocale:null!=ei[t]&&delete ei[t]);return ei[t]},e.locales=function(){return ie(ei)},e.weekdaysShort=function(t,e,i){return Vt(t,e,i,"weekdaysShort")},e.normalizeUnits=E,e.relativeTimeRounding=function(t){return void 0===t?Wi:"function"==typeof t&&(Wi=t,!0)},e.relativeTimeThreshold=function(t,e){return void 0!==Ui[t]&&(void 0===e?Ui[t]:(Ui[t]=e,"s"===t&&(Ui.ss=e-1),!0))},e.calendarFormat=function(t,e){var i=t.diff(e,"days",!0);return i<-6?"sameElse":i<-1?"lastWeek":i<0?"lastDay":i<1?"sameDay":i<2?"nextDay":i<7?"nextWeek":"sameElse"},e.prototype=Mi,e}()}).call(e,i(155)(t))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e){function i(t){throw new Error("Cannot find module '"+t+"'.")}i.keys=function(){return[]},i.resolve=i,t.exports=i,i.id=156},function(t,e,i){(function(e){function i(t,e){var i=e||0;return h[t[i++]]+h[t[i++]]+h[t[i++]]+h[t[i++]]+"-"+h[t[i++]]+h[t[i++]]+"-"+h[t[i++]]+h[t[i++]]+"-"+h[t[i++]]+h[t[i++]]+"-"+h[t[i++]]+h[t[i++]]+h[t[i++]]+h[t[i++]]+h[t[i++]]+h[t[i++]]}function n(t,e,n){var o=e&&n||0;"string"==typeof t&&(e="binary"==t?new Array(16):null,t=null);var s=(t=t||{}).random||(t.rng||r)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,e)for(var a=0;a<16;a++)e[o+a]=s[a];return e||i(s)}var r,o="undefined"!=typeof window?window:void 0!==e?e:null;if(o&&o.crypto&&crypto.getRandomValues){var s=new Uint8Array(16);r=function(){return crypto.getRandomValues(s),s}}if(!r){var a=new Array(16);r=function(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),a[e]=t>>>((3&e)<<3)&255;return a}}for(var h=[],l={},d=0;d<256;d++)h[d]=(d+256).toString(16).substr(1),l[h[d]]=d;var u=r(),c=[1|u[0],u[1],u[2],u[3],u[4],u[5]],f=16383&(u[6]<<8|u[7]),p=0,g=0,m=n;m.v1=function(t,e,n){var r=e&&n||0,o=e||[],s=void 0!==(t=t||{}).clockseq?t.clockseq:f,a=void 0!==t.msecs?t.msecs:(new Date).getTime(),h=void 0!==t.nsecs?t.nsecs:g+1,l=a-p+(h-g)/1e4;if(l<0&&void 0===t.clockseq&&(s=s+1&16383),(l<0||a>p)&&void 0===t.nsecs&&(h=0),h>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");p=a,g=h,f=s;var d=(1e4*(268435455&(a+=122192928e5))+h)%4294967296;o[r++]=d>>>24&255,o[r++]=d>>>16&255,o[r++]=d>>>8&255,o[r++]=255&d;var u=a/4294967296*1e4&268435455;o[r++]=u>>>8&255,o[r++]=255&u,o[r++]=u>>>24&15|16,o[r++]=u>>>16&255,o[r++]=s>>>8|128,o[r++]=255&s;for(var m=t.node||c,v=0;v<6;v++)o[r+v]=m[v];return e||i(o)},m.v4=n,m.parse=function(t,e,i){var n=e&&i||0,r=0;for(e=e||[],t.toLowerCase().replace(/[0-9a-f]{2}/g,function(t){r<16&&(e[n+r++]=l[t])});r<16;)e[n+r++]=0;return e},m.unparse=i,t.exports=m}).call(e,i(158))},function(t,e){var i;i=function(){return this}();try{i=i||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(i=window)}t.exports=i},function(t,e,i){e.util=i(2),e.DOMutil=i(14),e.DataSet=i(11),e.DataView=i(12),e.Queue=i(43),e.Graph3d=i(161),e.graph3d={Camera:i(95),Filter:i(96),Point2d:i(91),Point3d:i(34),Slider:i(92),StepNumber:i(93)},e.moment=i(9),e.Hammer=i(10),e.keycharm=i(35)},function(t,e,i){var n=i(7),r=n.JSON||(n.JSON={stringify:JSON.stringify});t.exports=function(t){return r.stringify.apply(r,arguments)}},function(t,e,i){function n(t,e,i){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");this.containerElement=t,this.dataGroup=new y,this.dataPoints=null,this.create(),p.setDefaults(n.DEFAULTS,this),this.colX=void 0,this.colY=void 0,this.colZ=void 0,this.colValue=void 0,this.setOptions(i),this.setData(e)}function r(t){return"clientX"in t?t.clientX:t.targetTouches[0]&&t.targetTouches[0].clientX||0}function o(t){return"clientY"in t?t.clientY:t.targetTouches[0]&&t.targetTouches[0].clientY||0}var s=i(90),a=s&&s.__esModule?s:{default:s},h=i(44),l=i(2),d=i(34),u=i(91),c=i(92),f=i(93),p=i(94),g=i(15).default,m=i(15).printStyle,v=i(172).allOptions,y=i(173);n.DEFAULTS={width:"400px",height:"400px",filterLabel:"time",legendLabel:"value",xLabel:"x",yLabel:"y",zLabel:"z",xValueLabel:function(t){return t},yValueLabel:function(t){return t},zValueLabel:function(t){return t},showXAxis:!0,showYAxis:!0,showZAxis:!0,showGrid:!0,showPerspective:!0,showShadow:!1,keepAspectRatio:!0,verticalRatio:.5,dotSizeRatio:.02,dotSizeMinFraction:.5,dotSizeMaxFraction:2.5,showAnimationControls:void 0,animationInterval:1e3,animationPreload:!1,animationAutoStart:void 0,axisColor:"#4D4D4D",gridColor:"#D3D3D3",xCenter:"55%",yCenter:"50%",style:(n.STYLE=p.STYLE).DOT,tooltip:!1,tooltipStyle:{content:{padding:"10px",border:"1px solid #4d4d4d",color:"#1a1a1a",background:"rgba(255,255,255,0.7)",borderRadius:"2px",boxShadow:"5px 5px 10px rgba(128,128,128,0.5)"},line:{height:"40px",width:"0",borderLeft:"1px solid #4d4d4d"},dot:{height:"0",width:"0",border:"5px solid #4d4d4d",borderRadius:"5px"}},dataColor:{fill:"#7DC1FF",stroke:"#3267D2",strokeWidth:1},cameraPosition:{horizontal:1,vertical:.5,distance:1.7},showLegend:void 0,backgroundColor:void 0,xBarWidth:void 0,yBarWidth:void 0,valueMin:void 0,valueMax:void 0,xMin:void 0,xMax:void 0,xStep:void 0,yMin:void 0,yMax:void 0,yStep:void 0,zMin:void 0,zMax:void 0,zStep:void 0},h(n.prototype),n.prototype._setScale=function(){this.scale=new d(1/this.xRange.range(),1/this.yRange.range(),1/this.zRange.range()),this.keepAspectRatio&&(this.scale.x<this.scale.y?this.scale.y=this.scale.x:this.scale.x=this.scale.y),this.scale.z*=this.verticalRatio,void 0!==this.valueRange&&(this.scale.value=1/this.valueRange.range());var t=this.xRange.center()*this.scale.x,e=this.yRange.center()*this.scale.y,i=this.zRange.center()*this.scale.z;this.camera.setArmLocation(t,e,i)},n.prototype._convert3Dto2D=function(t){var e=this._convertPointToTranslation(t);return this._convertTranslationToScreen(e)},n.prototype._convertPointToTranslation=function(t){var e=this.camera.getCameraLocation(),i=this.camera.getCameraRotation(),n=t.x*this.scale.x,r=t.y*this.scale.y,o=t.z*this.scale.z,s=e.x,a=e.y,h=e.z,l=Math.sin(i.x),u=Math.cos(i.x),c=Math.sin(i.y),f=Math.cos(i.y),p=Math.sin(i.z),g=Math.cos(i.z);return new d(f*(p*(r-a)+g*(n-s))-c*(o-h),l*(f*(o-h)+c*(p*(r-a)+g*(n-s)))+u*(g*(r-a)-p*(n-s)),u*(f*(o-h)+c*(p*(r-a)+g*(n-s)))-l*(g*(r-a)-p*(n-s)))},n.prototype._convertTranslationToScreen=function(t){var e,i,n=this.eye.z,r=t.x,o=t.y,s=t.z;return this.showPerspective?(e=n/s*(r-this.eye.x),i=n/s*(o-this.eye.y)):(e=r*(-n/this.camera.getArmLength()),i=o*(-n/this.camera.getArmLength())),new u(this.currentXCenter+e*this.frame.canvas.clientWidth,this.currentYCenter-i*this.frame.canvas.clientWidth)},n.prototype._calcTranslations=function(t){for(var e=0;e<t.length;e++){var i=t[e];i.trans=this._convertPointToTranslation(i.point),i.screen=this._convertTranslationToScreen(i.trans);var n=this._convertPointToTranslation(i.bottom);i.dist=this.showPerspective?n.length():-n.z}t.sort(function(t,e){return e.dist-t.dist})},n.prototype._initializeRanges=function(){var t=this.dataGroup;this.xRange=t.xRange,this.yRange=t.yRange,this.zRange=t.zRange,this.valueRange=t.valueRange,this.xStep=t.xStep,this.yStep=t.yStep,this.zStep=t.zStep,this.xBarWidth=t.xBarWidth,this.yBarWidth=t.yBarWidth,this.colX=t.colX,this.colY=t.colY,this.colZ=t.colZ,this.colValue=t.colValue,this._setScale()},n.prototype.getDataPoints=function(t){for(var e=[],i=0;i<t.length;i++){var n=new d;n.x=t[i][this.colX]||0,n.y=t[i][this.colY]||0,n.z=t[i][this.colZ]||0,n.data=t[i],void 0!==this.colValue&&(n.value=t[i][this.colValue]||0);var r={};r.point=n,r.bottom=new d(n.x,n.y,this.zRange.min),r.trans=void 0,r.screen=void 0,e.push(r)}return e},n.prototype._getDataPoints=function(t){var e,i,r,o,s=[];if(this.style===n.STYLE.GRID||this.style===n.STYLE.SURFACE){var a=this.dataGroup.getDistinctValues(this.colX,t),h=this.dataGroup.getDistinctValues(this.colY,t);s=this.getDataPoints(t);var l=[];for(r=0;r<s.length;r++){var d=a.indexOf((o=s[r]).point.x),u=h.indexOf(o.point.y);void 0===l[d]&&(l[d]=[]),l[d][u]=o}for(e=0;e<l.length;e++)for(i=0;i<l[e].length;i++)l[e][i]&&(l[e][i].pointRight=e<l.length-1?l[e+1][i]:void 0,l[e][i].pointTop=i<l[e].length-1?l[e][i+1]:void 0,l[e][i].pointCross=e<l.length-1&&i<l[e].length-1?l[e+1][i+1]:void 0)}else if(this._checkValueField(t),s=this.getDataPoints(t),this.style===n.STYLE.LINE)for(r=0;r<s.length;r++)r>0&&(s[r-1].pointNext=s[r]);return s},n.prototype.create=function(){for(;this.containerElement.hasChildNodes();)this.containerElement.removeChild(this.containerElement.firstChild);this.frame=document.createElement("div"),this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas);var t=document.createElement("DIV");t.style.color="red",t.style.fontWeight="bold",t.style.padding="10px",t.innerHTML="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(t),this.frame.filter=document.createElement("div"),this.frame.filter.style.position="absolute",this.frame.filter.style.bottom="0px",this.frame.filter.style.left="0px",this.frame.filter.style.width="100%",this.frame.appendChild(this.frame.filter);var e=this;l.addEventListener(this.frame.canvas,"mousedown",function(t){e._onMouseDown(t)}),l.addEventListener(this.frame.canvas,"touchstart",function(t){e._onTouchStart(t)}),l.addEventListener(this.frame.canvas,"mousewheel",function(t){e._onWheel(t)}),l.addEventListener(this.frame.canvas,"mousemove",function(t){e._onTooltip(t)}),l.addEventListener(this.frame.canvas,"click",function(t){e._onClick(t)}),this.containerElement.appendChild(this.frame)},n.prototype._setSize=function(t,e){this.frame.style.width=t,this.frame.style.height=e,this._resizeCanvas()},n.prototype._resizeCanvas=function(){this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=this.frame.canvas.clientWidth,this.frame.canvas.height=this.frame.canvas.clientHeight,this.frame.filter.style.width=this.frame.canvas.clientWidth-20+"px"},n.prototype.animationStart=function(){if(this.animationAutoStart&&this.dataGroup.dataFilter){if(!this.frame.filter||!this.frame.filter.slider)throw new Error("No animation available");this.frame.filter.slider.play()}},n.prototype.animationStop=function(){this.frame.filter&&this.frame.filter.slider&&this.frame.filter.slider.stop()},n.prototype._resizeCenter=function(){this.currentXCenter="%"===this.xCenter.charAt(this.xCenter.length-1)?parseFloat(this.xCenter)/100*this.frame.canvas.clientWidth:parseFloat(this.xCenter),this.currentYCenter="%"===this.yCenter.charAt(this.yCenter.length-1)?parseFloat(this.yCenter)/100*(this.frame.canvas.clientHeight-this.frame.filter.clientHeight):parseFloat(this.yCenter)},n.prototype.getCameraPosition=function(){var t=this.camera.getArmRotation();return t.distance=this.camera.getArmLength(),t},n.prototype._readData=function(t){this.dataPoints=this.dataGroup.initializeData(this,t,this.style),this._initializeRanges(),this._redrawFilter()},n.prototype.setData=function(t){null!=t&&(this._readData(t),this.redraw(),this.animationStart())},n.prototype.setOptions=function(t){void 0!==t&&(!0===g.validate(t,v)&&console.log("%cErrors have been found in the supplied options object.",m),this.animationStop(),p.setOptions(t,this),this.setPointDrawingMethod(),this._setSize(this.width,this.height),this.setData(this.dataGroup.getDataTable()),this.animationStart())},n.prototype.setPointDrawingMethod=function(){var t=void 0;switch(this.style){case n.STYLE.BAR:t=n.prototype._redrawBarGraphPoint;break;case n.STYLE.BARCOLOR:t=n.prototype._redrawBarColorGraphPoint;break;case n.STYLE.BARSIZE:t=n.prototype._redrawBarSizeGraphPoint;break;case n.STYLE.DOT:t=n.prototype._redrawDotGraphPoint;break;case n.STYLE.DOTLINE:t=n.prototype._redrawDotLineGraphPoint;break;case n.STYLE.DOTCOLOR:t=n.prototype._redrawDotColorGraphPoint;break;case n.STYLE.DOTSIZE:t=n.prototype._redrawDotSizeGraphPoint;break;case n.STYLE.SURFACE:t=n.prototype._redrawSurfaceGraphPoint;break;case n.STYLE.GRID:t=n.prototype._redrawGridGraphPoint;break;case n.STYLE.LINE:t=n.prototype._redrawLineGraphPoint;break;default:throw new Error("Can not determine point drawing method for graph style '"+this.style+"'")}this._pointDrawingMethod=t},n.prototype.redraw=function(){if(void 0===this.dataPoints)throw new Error("Graph data not initialized");this._resizeCanvas(),this._resizeCenter(),this._redrawSlider(),this._redrawClear(),this._redrawAxis(),this._redrawDataGraph(),this._redrawInfo(),this._redrawLegend()},n.prototype._getContext=function(){var t=this.frame.canvas.getContext("2d");return t.lineJoin="round",t.lineCap="round",t},n.prototype._redrawClear=function(){var t=this.frame.canvas;t.getContext("2d").clearRect(0,0,t.width,t.height)},n.prototype._dotSize=function(){return this.frame.clientWidth*this.dotSizeRatio},n.prototype._getLegendWidth=function(){return this.style===n.STYLE.DOTSIZE?this._dotSize()*this.dotSizeMaxFraction:this.style===n.STYLE.BARSIZE?this.xBarWidth:20},n.prototype._redrawLegend=function(){if(!0===this.showLegend&&this.style!==n.STYLE.LINE&&this.style!==n.STYLE.BARSIZE){var t=this.style===n.STYLE.BARSIZE||this.style===n.STYLE.DOTSIZE,e=this.style===n.STYLE.DOTSIZE||this.style===n.STYLE.DOTCOLOR||this.style===n.STYLE.BARCOLOR,i=Math.max(.25*this.frame.clientHeight,100),r=this.margin,o=this._getLegendWidth(),s=this.frame.clientWidth-this.margin,a=s-o,h=r+i,l=this._getContext();if(l.lineWidth=1,l.font="14px arial",!1===t){var d,c=i;for(d=0;d<c;d++){var p=this._hsv2rgb((d-0)/(c-0)*240,1,1);l.strokeStyle=p,l.beginPath(),l.moveTo(a,r+d),l.lineTo(s,r+d),l.stroke()}l.strokeStyle=this.axisColor,l.strokeRect(a,r,o,i)}else{var g;this.style===n.STYLE.DOTSIZE&&(g=o*(this.dotSizeMinFraction/this.dotSizeMaxFraction)),l.strokeStyle=this.axisColor,l.fillStyle=this.dataColor.fill,l.beginPath(),l.moveTo(a,r),l.lineTo(s,r),l.lineTo(a+g,h),l.lineTo(a,h),l.closePath(),l.fill(),l.stroke()}var m,v,y=e?this.valueRange.min:this.zRange.min,b=e?this.valueRange.max:this.zRange.max,w=new f(y,b,(b-y)/5,!0);for(w.start(!0);!w.end();)d=h-(w.getCurrent()-y)/(b-y)*i,m=new u(a-5,d),v=new u(a,d),this._line(l,m,v),l.textAlign="right",l.textBaseline="middle",l.fillStyle=this.axisColor,l.fillText(w.getCurrent(),a-10,d),w.next();l.textAlign="right",l.textBaseline="top",l.fillText(this.legendLabel,s,h+this.margin)}},n.prototype._redrawFilter=function(){var t=this.dataGroup.dataFilter,e=this.frame.filter;if(e.innerHTML="",t){var i=new c(e,{visible:this.showAnimationControls});e.slider=i,e.style.padding="10px",i.setValues(t.values),i.setPlayInterval(this.animationInterval);var n=this;i.setOnChangeCallback(function(){var t=n.dataGroup.dataFilter,e=i.getIndex();t.selectValue(e),n.dataPoints=t._getDataPoints(),n.redraw()})}else e.slider=void 0},n.prototype._redrawSlider=function(){void 0!==this.frame.filter.slider&&this.frame.filter.slider.redraw()},n.prototype._redrawInfo=function(){var t=this.dataGroup.getInfo();if(void 0!==t){var e=this._getContext();e.font="14px arial",e.lineStyle="gray",e.fillStyle="gray",e.textAlign="left",e.textBaseline="top",e.fillText(t,this.margin,this.margin)}},n.prototype._line=function(t,e,i,n){void 0!==n&&(t.strokeStyle=n),t.beginPath(),t.moveTo(e.x,e.y),t.lineTo(i.x,i.y),t.stroke()},n.prototype.drawAxisLabelX=function(t,e,i,n,r){void 0===r&&(r=0);var o=this._convert3Dto2D(e);Math.cos(2*n)>0?(t.textAlign="center",t.textBaseline="top",o.y+=r):Math.sin(2*n)<0?(t.textAlign="right",t.textBaseline="middle"):(t.textAlign="left",t.textBaseline="middle"),t.fillStyle=this.axisColor,t.fillText(i,o.x,o.y)},n.prototype.drawAxisLabelY=function(t,e,i,n,r){void 0===r&&(r=0);var o=this._convert3Dto2D(e);Math.cos(2*n)<0?(t.textAlign="center",t.textBaseline="top",o.y+=r):Math.sin(2*n)>0?(t.textAlign="right",t.textBaseline="middle"):(t.textAlign="left",t.textBaseline="middle"),t.fillStyle=this.axisColor,t.fillText(i,o.x,o.y)},n.prototype.drawAxisLabelZ=function(t,e,i,n){void 0===n&&(n=0);var r=this._convert3Dto2D(e);t.textAlign="right",t.textBaseline="middle",t.fillStyle=this.axisColor,t.fillText(i,r.x-n,r.y)},n.prototype._line3d=function(t,e,i,n){var r=this._convert3Dto2D(e),o=this._convert3Dto2D(i);this._line(t,r,o,n)},n.prototype._redrawAxis=function(){var t,e,i,n,r,o,s,a,h=this._getContext();h.font=24/this.camera.getArmLength()+"px arial";var l,c,p,g=.025/this.scale.x,m=.025/this.scale.y,v=5/this.camera.getArmLength(),y=this.camera.getArmRotation().horizontal,b=new u(Math.cos(y),Math.sin(y)),w=this.xRange,x=this.yRange,_=this.zRange;for(h.lineWidth=1,(i=new f(w.min,w.max,this.xStep,void 0===this.defaultXStep)).start(!0);!i.end();){var k=i.getCurrent();if(this.showGrid?(t=new d(k,x.min,_.min),e=new d(k,x.max,_.min),this._line3d(h,t,e,this.gridColor)):this.showXAxis&&(t=new d(k,x.min,_.min),e=new d(k,x.min+g,_.min),this._line3d(h,t,e,this.axisColor),t=new d(k,x.max,_.min),e=new d(k,x.max-g,_.min),this._line3d(h,t,e,this.axisColor)),this.showXAxis){l=new d(k,o=b.x>0?x.min:x.max,_.min);var S="  "+this.xValueLabel(k)+"  ";this.drawAxisLabelX(h,l,S,y,v)}i.next()}for(h.lineWidth=1,(i=new f(x.min,x.max,this.yStep,void 0===this.defaultYStep)).start(!0);!i.end();){var M=i.getCurrent();if(this.showGrid?(t=new d(w.min,M,_.min),e=new d(w.max,M,_.min),this._line3d(h,t,e,this.gridColor)):this.showYAxis&&(t=new d(w.min,M,_.min),e=new d(w.min+m,M,_.min),this._line3d(h,t,e,this.axisColor),t=new d(w.max,M,_.min),e=new d(w.max-m,M,_.min),this._line3d(h,t,e,this.axisColor)),this.showYAxis){l=new d(r=b.y>0?w.min:w.max,M,_.min);var C="  "+this.yValueLabel(M)+"  ";this.drawAxisLabelY(h,l,C,y,v)}i.next()}if(this.showZAxis){for(h.lineWidth=1,(i=new f(_.min,_.max,this.zStep,void 0===this.defaultZStep)).start(!0),r=b.x>0?w.min:w.max,o=b.y<0?x.min:x.max;!i.end();){var E=i.getCurrent(),N=new d(r,o,E),A=this._convert3Dto2D(N);e=new u(A.x-v,A.y),this._line(h,A,e,this.axisColor);var D=this.zValueLabel(E)+" ";this.drawAxisLabelZ(h,N,D,5),i.next()}h.lineWidth=1,t=new d(r,o,_.min),e=new d(r,o,_.max),this._line3d(h,t,e,this.axisColor)}this.showXAxis&&(h.lineWidth=1,c=new d(w.min,x.min,_.min),p=new d(w.max,x.min,_.min),this._line3d(h,c,p,this.axisColor),c=new d(w.min,x.max,_.min),p=new d(w.max,x.max,_.min),this._line3d(h,c,p,this.axisColor)),this.showYAxis&&(h.lineWidth=1,t=new d(w.min,x.min,_.min),e=new d(w.min,x.max,_.min),this._line3d(h,t,e,this.axisColor),t=new d(w.max,x.min,_.min),e=new d(w.max,x.max,_.min),this._line3d(h,t,e,this.axisColor));var T=this.xLabel;T.length>0&&this.showXAxis&&(a=.1/this.scale.y,n=new d(r=(w.max+3*w.min)/4,o=b.x>0?x.min-a:x.max+a,_.min),this.drawAxisLabelX(h,n,T,y));var L=this.yLabel;L.length>0&&this.showYAxis&&(s=.1/this.scale.x,n=new d(r=b.y>0?w.min-s:w.max+s,o=(x.max+3*x.min)/4,_.min),this.drawAxisLabelY(h,n,L,y));var O=this.zLabel;O.length>0&&this.showZAxis&&(n=new d(r=b.x>0?w.min:w.max,o=b.y<0?x.min:x.max,(_.max+3*_.min)/4),this.drawAxisLabelZ(h,n,O,30))},n.prototype._hsv2rgb=function(t,e,i){var n,r,o,s,a,h;switch(s=i*e,a=Math.floor(t/60),h=s*(1-Math.abs(t/60%2-1)),a){case 0:n=s,r=h,o=0;break;case 1:n=h,r=s,o=0;break;case 2:n=0,r=s,o=h;break;case 3:n=0,r=h,o=s;break;case 4:n=h,r=0,o=s;break;case 5:n=s,r=0,o=h;break;default:n=0,r=0,o=0}return"RGB("+parseInt(255*n)+","+parseInt(255*r)+","+parseInt(255*o)+")"},n.prototype._getStrokeWidth=function(t){return void 0!==t?this.showPerspective?1/-t.trans.z*this.dataColor.strokeWidth:-this.eye.z/this.camera.getArmLength()*this.dataColor.strokeWidth:this.dataColor.strokeWidth},n.prototype._redrawBar=function(t,e,i,n,r,o){var s,a=this,h=e.point,l=this.zRange.min,u=[{point:new d(h.x-i,h.y-n,h.z)},{point:new d(h.x+i,h.y-n,h.z)},{point:new d(h.x+i,h.y+n,h.z)},{point:new d(h.x-i,h.y+n,h.z)}],c=[{point:new d(h.x-i,h.y-n,l)},{point:new d(h.x+i,h.y-n,l)},{point:new d(h.x+i,h.y+n,l)},{point:new d(h.x-i,h.y+n,l)}];u.forEach(function(t){t.screen=a._convert3Dto2D(t.point)}),c.forEach(function(t){t.screen=a._convert3Dto2D(t.point)});var f=[{corners:u,center:d.avg(c[0].point,c[2].point)},{corners:[u[0],u[1],c[1],c[0]],center:d.avg(c[1].point,c[0].point)},{corners:[u[1],u[2],c[2],c[1]],center:d.avg(c[2].point,c[1].point)},{corners:[u[2],u[3],c[3],c[2]],center:d.avg(c[3].point,c[2].point)},{corners:[u[3],u[0],c[0],c[3]],center:d.avg(c[0].point,c[3].point)}];e.surfaces=f;for(var p=0;p<f.length;p++){var g=this._convertPointToTranslation((s=f[p]).center);s.dist=this.showPerspective?g.length():-g.z}f.sort(function(t,e){return e.dist-t.dist||(t.corners===u?1:e.corners===u?-1:0)}),t.lineWidth=this._getStrokeWidth(e),t.strokeStyle=o,t.fillStyle=r;for(var m=2;m<f.length;m++)this._polygon(t,(s=f[m]).corners)},n.prototype._polygon=function(t,e,i,n){if(!(e.length<2)){void 0!==i&&(t.fillStyle=i),void 0!==n&&(t.strokeStyle=n),t.beginPath(),t.moveTo(e[0].screen.x,e[0].screen.y);for(var r=1;r<e.length;++r){var o=e[r];t.lineTo(o.screen.x,o.screen.y)}t.closePath(),t.fill(),t.stroke()}},n.prototype._drawCircle=function(t,e,i,n,r){var o=this._calcRadius(e,r);t.lineWidth=this._getStrokeWidth(e),t.strokeStyle=n,t.fillStyle=i,t.beginPath(),t.arc(e.screen.x,e.screen.y,o,0,2*Math.PI,!0),t.fill(),t.stroke()},n.prototype._getColorsRegular=function(t){var e=240*(1-(t.point.z-this.zRange.min)*this.scale.z/this.verticalRatio);return{fill:this._hsv2rgb(e,1,1),border:this._hsv2rgb(e,1,.8)}},n.prototype._getColorsColor=function(t){var e,i;if("string"==typeof t.point.value)e=t.point.value,i=t.point.value;else{var n=240*(1-(t.point.value-this.valueRange.min)*this.scale.value);e=this._hsv2rgb(n,1,1),i=this._hsv2rgb(n,1,.8)}return{fill:e,border:i}},n.prototype._getColorsSize=function(){return{fill:this.dataColor.fill,border:this.dataColor.stroke}},n.prototype._calcRadius=function(t,e){var i;return void 0===e&&(e=this._dotSize()),(i=this.showPerspective?e/-t.trans.z:e*(-this.eye.z/this.camera.getArmLength()))<0&&(i=0),i},n.prototype._redrawBarGraphPoint=function(t,e){var i=this.xBarWidth/2,n=this.yBarWidth/2,r=this._getColorsRegular(e);this._redrawBar(t,e,i,n,r.fill,r.border)},n.prototype._redrawBarColorGraphPoint=function(t,e){var i=this.xBarWidth/2,n=this.yBarWidth/2,r=this._getColorsColor(e);this._redrawBar(t,e,i,n,r.fill,r.border)},n.prototype._redrawBarSizeGraphPoint=function(t,e){var i=(e.point.value-this.valueRange.min)/this.valueRange.range(),n=this.xBarWidth/2*(.8*i+.2),r=this.yBarWidth/2*(.8*i+.2),o=this._getColorsSize();this._redrawBar(t,e,n,r,o.fill,o.border)},n.prototype._redrawDotGraphPoint=function(t,e){var i=this._getColorsRegular(e);this._drawCircle(t,e,i.fill,i.border)},n.prototype._redrawDotLineGraphPoint=function(t,e){var i=this._convert3Dto2D(e.bottom);t.lineWidth=1,this._line(t,i,e.screen,this.gridColor),this._redrawDotGraphPoint(t,e)},n.prototype._redrawDotColorGraphPoint=function(t,e){var i=this._getColorsColor(e);this._drawCircle(t,e,i.fill,i.border)},n.prototype._redrawDotSizeGraphPoint=function(t,e){var i=this._dotSize(),n=(e.point.value-this.valueRange.min)/this.valueRange.range(),r=i*this.dotSizeMinFraction,o=r+(i*this.dotSizeMaxFraction-r)*n,s=this._getColorsSize();this._drawCircle(t,e,s.fill,s.border,o)},n.prototype._redrawSurfaceGraphPoint=function(t,e){var i=e.pointRight,n=e.pointTop,r=e.pointCross;if(void 0!==e&&void 0!==i&&void 0!==n&&void 0!==r){var o,s,a=!0;if(this.showGrayBottom||this.showShadow){var h=d.subtract(r.trans,e.trans),l=d.subtract(n.trans,i.trans),u=d.crossProduct(h,l),c=u.length();a=u.z>0}if(a){var f,p=240*(1-((e.point.z+i.point.z+n.point.z+r.point.z)/4-this.zRange.min)*this.scale.z/this.verticalRatio);this.showShadow?(f=Math.min(1+u.x/c/2,1),s=o=this._hsv2rgb(p,1,f)):(o=this._hsv2rgb(p,1,f=1),s=this.axisColor)}else o="gray",s=this.axisColor;t.lineWidth=this._getStrokeWidth(e),this._polygon(t,[e,i,r,n],o,s)}},n.prototype._drawGridLine=function(t,e,i){if(void 0!==e&&void 0!==i){var n=240*(1-((e.point.z+i.point.z)/2-this.zRange.min)*this.scale.z/this.verticalRatio);t.lineWidth=2*this._getStrokeWidth(e),t.strokeStyle=this._hsv2rgb(n,1,1),this._line(t,e.screen,i.screen)}},n.prototype._redrawGridGraphPoint=function(t,e){this._drawGridLine(t,e,e.pointRight),this._drawGridLine(t,e,e.pointTop)},n.prototype._redrawLineGraphPoint=function(t,e){void 0!==e.pointNext&&(t.lineWidth=this._getStrokeWidth(e),t.strokeStyle=this.dataColor.stroke,this._line(t,e.screen,e.pointNext.screen))},n.prototype._redrawDataGraph=function(){var t,e=this._getContext();if(!(void 0===this.dataPoints||this.dataPoints.length<=0))for(this._calcTranslations(this.dataPoints),t=0;t<this.dataPoints.length;t++)this._pointDrawingMethod.call(this,e,this.dataPoints[t])},n.prototype._storeMousePosition=function(t){this.startMouseX=r(t),this.startMouseY=o(t),this._startCameraOffset=this.camera.getOffset()},n.prototype._onMouseDown=function(t){if(t=t||window.event,this.leftButtonDown&&this._onMouseUp(t),this.leftButtonDown=t.which?1===t.which:1===t.button,this.leftButtonDown||this.touchDown){this._storeMousePosition(t),this.startStart=new Date(this.start),this.startEnd=new Date(this.end),this.startArmRotation=this.camera.getArmRotation(),this.frame.style.cursor="move";var e=this;this.onmousemove=function(t){e._onMouseMove(t)},this.onmouseup=function(t){e._onMouseUp(t)},l.addEventListener(document,"mousemove",e.onmousemove),l.addEventListener(document,"mouseup",e.onmouseup),l.preventDefault(t)}},n.prototype._onMouseMove=function(t){this.moving=!0,t=t||window.event;var e=parseFloat(r(t))-this.startMouseX,i=parseFloat(o(t))-this.startMouseY;if(t&&!0===t.ctrlKey)this.camera.setOffset((this._startCameraOffset.x||0)-e/(.5*this.frame.clientWidth)*this.camera.armLength*.8,(this._startCameraOffset.y||0)+i/(.5*this.frame.clientHeight)*this.camera.armLength*.8),this._storeMousePosition(t);else{var n=this.startArmRotation.horizontal+e/200,s=this.startArmRotation.vertical+i/200,a=Math.sin(4/360*2*Math.PI);Math.abs(Math.sin(n))<a&&(n=Math.round(n/Math.PI)*Math.PI-.001),Math.abs(Math.cos(n))<a&&(n=(Math.round(n/Math.PI-.5)+.5)*Math.PI-.001),Math.abs(Math.sin(s))<a&&(s=Math.round(s/Math.PI)*Math.PI),Math.abs(Math.cos(s))<a&&(s=(Math.round(s/Math.PI-.5)+.5)*Math.PI),this.camera.setArmRotation(n,s)}this.redraw();var h=this.getCameraPosition();this.emit("cameraPositionChange",h),l.preventDefault(t)},n.prototype._onMouseUp=function(t){this.frame.style.cursor="auto",this.leftButtonDown=!1,l.removeEventListener(document,"mousemove",this.onmousemove),l.removeEventListener(document,"mouseup",this.onmouseup),l.preventDefault(t)},n.prototype._onClick=function(t){if(this.onclick_callback){if(this.moving)this.moving=!1;else{var e=this.frame.getBoundingClientRect(),i=r(t)-e.left,n=o(t)-e.top,s=this._dataPointFromXY(i,n);s&&this.onclick_callback(s.point.data)}l.preventDefault(t)}},n.prototype._onTooltip=function(t){var e=this.frame.getBoundingClientRect(),i=r(t)-e.left,n=o(t)-e.top;if(this.showTooltip){if(this.tooltipTimeout&&clearTimeout(this.tooltipTimeout),this.leftButtonDown)return void this._hideTooltip();if(this.tooltip&&this.tooltip.dataPoint){var s=this._dataPointFromXY(i,n);s!==this.tooltip.dataPoint&&(s?this._showTooltip(s):this._hideTooltip())}else{var a=this;this.tooltipTimeout=setTimeout(function(){a.tooltipTimeout=null;var t=a._dataPointFromXY(i,n);t&&a._showTooltip(t)},300)}}},n.prototype._onTouchStart=function(t){this.touchDown=!0;var e=this;this.ontouchmove=function(t){e._onTouchMove(t)},this.ontouchend=function(t){e._onTouchEnd(t)},l.addEventListener(document,"touchmove",e.ontouchmove),l.addEventListener(document,"touchend",e.ontouchend),this._onMouseDown(t)},n.prototype._onTouchMove=function(t){this._onMouseMove(t)},n.prototype._onTouchEnd=function(t){this.touchDown=!1,l.removeEventListener(document,"touchmove",this.ontouchmove),l.removeEventListener(document,"touchend",this.ontouchend),this._onMouseUp(t)},n.prototype._onWheel=function(t){t||(t=window.event);var e=0;if(t.wheelDelta?e=t.wheelDelta/120:t.detail&&(e=-t.detail/3),e){var i=this.camera.getArmLength();this.camera.setArmLength(i*(1-e/10)),this.redraw(),this._hideTooltip()}var n=this.getCameraPosition();this.emit("cameraPositionChange",n),l.preventDefault(t)},n.prototype._insideTriangle=function(t,e){function i(t){return t>0?1:t<0?-1:0}var n=e[0],r=e[1],o=e[2],s=i((r.x-n.x)*(t.y-n.y)-(r.y-n.y)*(t.x-n.x)),a=i((o.x-r.x)*(t.y-r.y)-(o.y-r.y)*(t.x-r.x)),h=i((n.x-o.x)*(t.y-o.y)-(n.y-o.y)*(t.x-o.x));return!(0!=s&&0!=a&&s!=a||0!=a&&0!=h&&a!=h||0!=s&&0!=h&&s!=h)},n.prototype._dataPointFromXY=function(t,e){var i,r=null,o=null,s=null,a=new u(t,e);if(this.style===n.STYLE.BAR||this.style===n.STYLE.BARCOLOR||this.style===n.STYLE.BARSIZE)for(i=this.dataPoints.length-1;i>=0;i--){var h=(r=this.dataPoints[i]).surfaces;if(h)for(var l=h.length-1;l>=0;l--){var d=h[l].corners,c=[d[2].screen,d[3].screen,d[0].screen];if(this._insideTriangle(a,[d[0].screen,d[1].screen,d[2].screen])||this._insideTriangle(a,c))return r}}else for(i=0;i<this.dataPoints.length;i++){var f=(r=this.dataPoints[i]).screen;if(f){var p=Math.abs(t-f.x),g=Math.abs(e-f.y),m=Math.sqrt(p*p+g*g);(null===s||m<s)&&m<100&&(s=m,o=r)}}return o},n.prototype.hasBars=function(t){return t==n.STYLE.BAR||t==n.STYLE.BARCOLOR||t==n.STYLE.BARSIZE},n.prototype._showTooltip=function(t){var e,i,n;this.tooltip?(e=this.tooltip.dom.content,i=this.tooltip.dom.line,n=this.tooltip.dom.dot):(e=document.createElement("div"),(0,a.default)(e.style,{},this.tooltipStyle.content),e.style.position="absolute",i=document.createElement("div"),(0,a.default)(i.style,{},this.tooltipStyle.line),i.style.position="absolute",n=document.createElement("div"),(0,a.default)(n.style,{},this.tooltipStyle.dot),n.style.position="absolute",this.tooltip={dataPoint:null,dom:{content:e,line:i,dot:n}}),this._hideTooltip(),this.tooltip.dataPoint=t,e.innerHTML="function"==typeof this.showTooltip?this.showTooltip(t.point):"<table><tr><td>"+this.xLabel+":</td><td>"+t.point.x+"</td></tr><tr><td>"+this.yLabel+":</td><td>"+t.point.y+"</td></tr><tr><td>"+this.zLabel+":</td><td>"+t.point.z+"</td></tr></table>",e.style.left="0",e.style.top="0",this.frame.appendChild(e),this.frame.appendChild(i),this.frame.appendChild(n);var r=e.offsetWidth,o=e.offsetHeight,s=i.offsetHeight,h=n.offsetWidth,l=n.offsetHeight,d=t.screen.x-r/2;d=Math.min(Math.max(d,10),this.frame.clientWidth-10-r),i.style.left=t.screen.x+"px",i.style.top=t.screen.y-s+"px",e.style.left=d+"px",e.style.top=t.screen.y-s-o+"px",n.style.left=t.screen.x-h/2+"px",n.style.top=t.screen.y-l/2+"px"},n.prototype._hideTooltip=function(){if(this.tooltip)for(var t in this.tooltip.dataPoint=null,this.tooltip.dom)if(this.tooltip.dom.hasOwnProperty(t)){var e=this.tooltip.dom[t];e&&e.parentNode&&e.parentNode.removeChild(e)}},n.prototype.setCameraPosition=function(t){p.setCameraPosition(t,this),this.redraw()},n.prototype.setSize=function(t,e){this._setSize(t,e),this.redraw()},t.exports=n},function(t,e,i){i(163),t.exports=i(7).Object.assign},function(t,e,i){var n=i(17);n(n.S+n.F,"Object",{assign:i(164)})},function(t,e,i){var n=i(33),r=i(63),o=i(42),s=i(41),a=i(78),h=Object.assign;t.exports=!h||i(28)(function(){var t={},e={},i=Symbol(),n="abcdefghijklmnopqrst";return t[i]=7,n.split("").forEach(function(t){e[t]=t}),7!=h({},t)[i]||Object.keys(h({},e)).join("")!=n})?function(t,e){for(var i=s(t),h=arguments.length,l=1,d=r.f,u=o.f;h>l;)for(var c,f=a(arguments[l++]),p=d?n(f).concat(d(f)):n(f),g=p.length,m=0;g>m;)u.call(f,c=p[m++])&&(i[c]=f[c]);return i}:h},function(t,e,i){t.exports={default:i(166),__esModule:!0}},function(t,e,i){i(167),t.exports=i(7).Math.sign},function(t,e,i){var n=i(17);n(n.S,"Math",{sign:i(168)})},function(t,e){t.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},function(t,e,i){t.exports={default:i(170),__esModule:!0}},function(t,e,i){i(171);var n=i(7).Object;t.exports=function(t,e,i){return n.defineProperty(t,e,i)}},function(t,e,i){var n=i(17);n(n.S+n.F*!i(21),"Object",{defineProperty:i(20).f})},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n="string",r="boolean",o="number",s={fill:{string:n},stroke:{string:n},strokeWidth:{number:o},__type__:{string:n,object:"object",undefined:"undefined"}};e.allOptions={animationAutoStart:{boolean:r,undefined:"undefined"},animationInterval:{number:o},animationPreload:{boolean:r},axisColor:{string:n},backgroundColor:s,xBarWidth:{number:o,undefined:"undefined"},yBarWidth:{number:o,undefined:"undefined"},cameraPosition:{distance:{number:o},horizontal:{number:o},vertical:{number:o},__type__:{object:"object"}},xCenter:{string:n},yCenter:{string:n},dataColor:s,dotSizeMinFraction:{number:o},dotSizeMaxFraction:{number:o},dotSizeRatio:{number:o},filterLabel:{string:n},gridColor:{string:n},onclick:{function:"function"},keepAspectRatio:{boolean:r},xLabel:{string:n},yLabel:{string:n},zLabel:{string:n},legendLabel:{string:n},xMin:{number:o,undefined:"undefined"},yMin:{number:o,undefined:"undefined"},zMin:{number:o,undefined:"undefined"},xMax:{number:o,undefined:"undefined"},yMax:{number:o,undefined:"undefined"},zMax:{number:o,undefined:"undefined"},showAnimationControls:{boolean:r,undefined:"undefined"},showGrid:{boolean:r},showLegend:{boolean:r,undefined:"undefined"},showPerspective:{boolean:r},showShadow:{boolean:r},showXAxis:{boolean:r},showYAxis:{boolean:r},showZAxis:{boolean:r},xStep:{number:o,undefined:"undefined"},yStep:{number:o,undefined:"undefined"},zStep:{number:o,undefined:"undefined"},style:{number:o,string:["bar","bar-color","bar-size","dot","dot-line","dot-color","dot-size","line","grid","surface"]},tooltip:{boolean:r,function:"function"},tooltipStyle:{content:{color:{string:n},background:{string:n},border:{string:n},borderRadius:{string:n},boxShadow:{string:n},padding:{string:n},__type__:{object:"object"}},line:{borderLeft:{string:n},height:{string:n},width:{string:n},__type__:{object:"object"}},dot:{border:{string:n},borderRadius:{string:n},height:{string:n},width:{string:n},__type__:{object:"object"}},__type__:{object:"object"}},xValueLabel:{function:"function"},yValueLabel:{function:"function"},zValueLabel:{function:"function"},valueMax:{number:o,undefined:"undefined"},valueMin:{number:o,undefined:"undefined"},verticalRatio:{number:o},height:{string:n},width:{string:n},__type__:{object:"object"}}},function(t,e,i){function n(){this.dataTable=null}var r=i(11),o=i(12),s=i(174),a=i(96),h=i(94),l=i(34);n.prototype.initializeData=function(t,e,i){if(void 0!==e){var n;if(Array.isArray(e)&&(e=new r(e)),!(e instanceof r||e instanceof o))throw new Error("Array, DataSet, or DataView expected");if(0!=(n=e.get()).length){this.style=i,this.dataSet&&this.dataSet.off("*",this._onChange),this.dataSet=e,this.dataTable=n;var s=this;this._onChange=function(){t.setData(s.dataSet)},this.dataSet.on("*",this._onChange),this.colX="x",this.colY="y",this.colZ="z";var h=t.hasBars(i);if(h&&(this.xBarWidth=void 0!==t.defaultXBarWidth?t.defaultXBarWidth:this.getSmallestDifference(n,this.colX)||1,this.yBarWidth=void 0!==t.defaultYBarWidth?t.defaultYBarWidth:this.getSmallestDifference(n,this.colY)||1),this._initializeRange(n,this.colX,t,h),this._initializeRange(n,this.colY,t,h),this._initializeRange(n,this.colZ,t,!1),n[0].hasOwnProperty("style")){this.colValue="style";var l=this.getColumnRange(n,this.colValue);this._setRangeDefaults(l,t.defaultValueMin,t.defaultValueMax),this.valueRange=l}return this.getDataTable()[0].hasOwnProperty("filter")&&void 0===this.dataFilter&&(this.dataFilter=new a(this,"filter",t),this.dataFilter.setOnLoadCallback(function(){t.redraw()})),this.dataFilter?this.dataFilter._getDataPoints():this._getDataPoints(this.getDataTable())}}},n.prototype._collectRangeSettings=function(t,e){if(-1==["x","y","z"].indexOf(t))throw new Error("Column '"+t+"' invalid");var i=t.toUpperCase();return{barWidth:this[t+"BarWidth"],min:e["default"+i+"Min"],max:e["default"+i+"Max"],step:e["default"+i+"Step"],range_label:t+"Range",step_label:t+"Step"}},n.prototype._initializeRange=function(t,e,i,n){var r=this._collectRangeSettings(e,i),o=this.getColumnRange(t,e);n&&"z"!=e&&o.expand(r.barWidth/2),this._setRangeDefaults(o,r.min,r.max),this[r.range_label]=o,this[r.step_label]=void 0!==r.step?r.step:o.range()/5},n.prototype.getDistinctValues=function(t,e){void 0===e&&(e=this.dataTable);for(var i=[],n=0;n<e.length;n++){var r=e[n][t]||0;-1===i.indexOf(r)&&i.push(r)}return i.sort(function(t,e){return t-e})},n.prototype.getSmallestDifference=function(t,e){for(var i=this.getDistinctValues(t,e),n=null,r=1;r<i.length;r++){var o=i[r]-i[r-1];(null==n||n>o)&&(n=o)}return n},n.prototype.getColumnRange=function(t,e){for(var i=new s,n=0;n<t.length;n++)i.adjust(t[n][e]);return i},n.prototype.getNumberOfRows=function(){return this.dataTable.length},n.prototype._setRangeDefaults=function(t,e,i){void 0!==e&&(t.min=e),void 0!==i&&(t.max=i),t.max<=t.min&&(t.max=t.min+1)},n.prototype.getDataTable=function(){return this.dataTable},n.prototype.getDataSet=function(){return this.dataSet},n.prototype.getDataPoints=function(t){for(var e=[],i=0;i<t.length;i++){var n=new l;n.x=t[i][this.colX]||0,n.y=t[i][this.colY]||0,n.z=t[i][this.colZ]||0,n.data=t[i],void 0!==this.colValue&&(n.value=t[i][this.colValue]||0);var r={};r.point=n,r.bottom=new l(n.x,n.y,this.zRange.min),r.trans=void 0,r.screen=void 0,e.push(r)}return e},n.prototype.initDataAsMatrix=function(t){var e,i,n,r,o=this.getDistinctValues(this.colX,t),s=this.getDistinctValues(this.colY,t),a=this.getDataPoints(t),h=[];for(n=0;n<a.length;n++){var l=o.indexOf((r=a[n]).point.x),d=s.indexOf(r.point.y);void 0===h[l]&&(h[l]=[]),h[l][d]=r}for(e=0;e<h.length;e++)for(i=0;i<h[e].length;i++)h[e][i]&&(h[e][i].pointRight=e<h.length-1?h[e+1][i]:void 0,h[e][i].pointTop=i<h[e].length-1?h[e][i+1]:void 0,h[e][i].pointCross=e<h.length-1&&i<h[e].length-1?h[e+1][i+1]:void 0);return a},n.prototype.getInfo=function(){var t=this.dataFilter;if(t)return t.getLabel()+": "+t.getSelectedValue()},n.prototype.reload=function(){this.dataTable&&this.setData(this.dataTable)},n.prototype._getDataPoints=function(t){var e=[];if(this.style===h.STYLE.GRID||this.style===h.STYLE.SURFACE)e=this.initDataAsMatrix(t);else if(this._checkValueField(t),e=this.getDataPoints(t),this.style===h.STYLE.LINE)for(var i=0;i<e.length;i++)i>0&&(e[i-1].pointNext=e[i]);return e},n.prototype._checkValueField=function(t){if(this.style===h.STYLE.BARCOLOR||this.style===h.STYLE.BARSIZE||this.style===h.STYLE.DOTCOLOR||this.style===h.STYLE.DOTSIZE){if(void 0===this.colValue)throw new Error("Expected data to have  field 'style'  for graph style '"+this.style+"'");if(void 0===t[0][this.colValue])throw new Error("Expected data to have  field '"+this.colValue+"'  for graph style '"+this.style+"'")}},t.exports=n},function(t,e,i){function n(){this.min=void 0,this.max=void 0}n.prototype.adjust=function(t){void 0!==t&&((void 0===this.min||this.min>t)&&(this.min=t),(void 0===this.max||this.max<t)&&(this.max=t))},n.prototype.combine=function(t){this.add(t.min),this.add(t.max)},n.prototype.expand=function(t){if(void 0!==t){var e=this.min-t,i=this.max+t;if(e>i)throw new Error("Passed expansion value makes range invalid");this.min=e,this.max=i}},n.prototype.range=function(){return this.max-this.min},n.prototype.center=function(){return(this.min+this.max)/2},t.exports=n},function(t,e,i){var n,r;void 0!==(r="function"==typeof(n=function(){var t=null;return function e(i,n){function r(t){return t.match(/[^ ]+/g)}function o(e){if("hammer.input"!==e.type){if(e.srcEvent._handled||(e.srcEvent._handled={}),e.srcEvent._handled[e.type])return;e.srcEvent._handled[e.type]=!0}var i=!1;e.stopPropagation=function(){i=!0};var n=e.srcEvent.stopPropagation.bind(e.srcEvent);"function"==typeof n&&(e.srcEvent.stopPropagation=function(){n(),e.stopPropagation()}),e.firstTarget=t;for(var r=t;r&&!i;){var o=r.hammer;if(o)for(var s,a=0;a<o.length;a++)if(s=o[a]._handlers[e.type])for(var h=0;h<s.length&&!i;h++)s[h](e);r=r.parentNode}}var s=n||{preventDefault:!1};if(i.Manager){var a=i,h=function(t,i){var n=Object.create(s);return i&&a.assign(n,i),e(new a(t,n),n)};return a.assign(h,a),h.Manager=function(t,i){var n=Object.create(s);return i&&a.assign(n,i),e(new a.Manager(t,n),n)},h}var l=Object.create(i),d=i.element;return d.hammer||(d.hammer=[]),d.hammer.push(l),i.on("hammer.input",function(e){!0!==s.preventDefault&&s.preventDefault!==e.pointerType||e.preventDefault(),e.isFirst&&(t=e.target)}),l._handlers={},l.on=function(t,e){return r(t).forEach(function(t){var n=l._handlers[t];n||(l._handlers[t]=n=[],i.on(t,o)),n.push(e)}),l},l.off=function(t,e){return r(t).forEach(function(t){var n=l._handlers[t];n&&((n=e?n.filter(function(t){return t!==e}):[]).length>0?l._handlers[t]=n:(i.off(t,o),delete l._handlers[t]))}),l},l.emit=function(e,n){t=n.target,i.emit(e,n)},l.destroy=function(){var t=i.element.hammer,e=t.indexOf(l);-1!==e&&t.splice(e,1),t.length||delete i.element.hammer,l._handlers={},i.destroy()},l}})?n.apply(e,[]):n)&&(t.exports=r)},function(t,e,i){var n;!function(r,o,s,a){function h(t,e,i){return setTimeout(f(t,i),e)}function l(t,e,i){return!!Array.isArray(t)&&(d(t,i[e],i),!0)}function d(t,e,i){var n;if(t)if(t.forEach)t.forEach(e,i);else if(t.length!==a)for(n=0;n<t.length;)e.call(i,t[n],n,t),n++;else for(n in t)t.hasOwnProperty(n)&&e.call(i,t[n],n,t)}function u(t,e,i){var n="DEPRECATED METHOD: "+e+"\n"+i+" AT \n";return function(){var e=new Error("get-stack-trace"),i=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=r.console&&(r.console.warn||r.console.log);return o&&o.call(r.console,n,i),t.apply(this,arguments)}}function c(t,e,i){var n,r=e.prototype;(n=t.prototype=Object.create(r)).constructor=t,n._super=r,i&&it(n,i)}function f(t,e){return function(){return t.apply(e,arguments)}}function p(t,e){return typeof t==ot?t.apply(e&&e[0]||a,e):t}function g(t,e){return t===a?e:t}function m(t,e,i){d(w(e),function(e){t.addEventListener(e,i,!1)})}function v(t,e,i){d(w(e),function(e){t.removeEventListener(e,i,!1)})}function y(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function b(t,e){return t.indexOf(e)>-1}function w(t){return t.trim().split(/\s+/g)}function x(t,e,i){if(t.indexOf&&!i)return t.indexOf(e);for(var n=0;n<t.length;){if(i&&t[n][i]==e||!i&&t[n]===e)return n;n++}return-1}function _(t){return Array.prototype.slice.call(t,0)}function k(t,e,i){for(var n=[],r=[],o=0;o<t.length;){var s=e?t[o][e]:t[o];x(r,s)<0&&n.push(t[o]),r[o]=s,o++}return i&&(n=e?n.sort(function(t,i){return t[e]>i[e]}):n.sort()),n}function S(t,e){for(var i,n,r=e[0].toUpperCase()+e.slice(1),o=0;o<nt.length;){if((n=(i=nt[o])?i+r:e)in t)return n;o++}return a}function M(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||r}function C(t,e){var i=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){p(t.options.enable,[t])&&i.handler(e)},this.init()}function E(t,e,i){var n=i.pointers.length,r=i.changedPointers.length,o=e&mt&&n-r==0,s=e&(vt|yt)&&n-r==0;i.isFirst=!!o,i.isFinal=!!s,o&&(t.session={}),i.eventType=e,function(t,e){var i=t.session,n=e.pointers,r=n.length;i.firstInput||(i.firstInput=A(e)),r>1&&!i.firstMultiple?i.firstMultiple=A(e):1===r&&(i.firstMultiple=!1);var o=i.firstInput,s=i.firstMultiple,a=s?s.center:o.center,h=e.center=D(n);e.timeStamp=ht(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=P(a,h),e.distance=O(a,h),function(t,e){var i=e.center,n=t.offsetDelta||{},r=t.prevDelta||{},o=t.prevInput||{};e.eventType!==mt&&o.eventType!==vt||(r=t.prevDelta={x:o.deltaX||0,y:o.deltaY||0},n=t.offsetDelta={x:i.x,y:i.y}),e.deltaX=r.x+(i.x-n.x),e.deltaY=r.y+(i.y-n.y)}(i,e),e.offsetDirection=L(e.deltaX,e.deltaY);var l=T(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=l.x,e.overallVelocityY=l.y,e.overallVelocity=at(l.x)>at(l.y)?l.x:l.y,e.scale=s?function(t,e){return O(n[0],n[1],Nt)/O(t[0],t[1],Nt)}(s.pointers):1,e.rotation=s?function(t,e){return P(n[1],n[0],Nt)+P(t[1],t[0],Nt)}(s.pointers):0,e.maxPointers=i.prevInput?e.pointers.length>i.prevInput.maxPointers?e.pointers.length:i.prevInput.maxPointers:e.pointers.length,N(i,e);var d=t.element;y(e.srcEvent.target,d)&&(d=e.srcEvent.target),e.target=d}(t,i),t.emit("hammer.input",i),t.recognize(i),t.session.prevInput=i}function N(t,e){var i,n,r,o,s=t.lastInterval||e,h=e.timeStamp-s.timeStamp;if(e.eventType!=yt&&(h>gt||s.velocity===a)){var l=e.deltaX-s.deltaX,d=e.deltaY-s.deltaY,u=T(h,l,d);n=u.x,r=u.y,i=at(u.x)>at(u.y)?u.x:u.y,o=L(l,d),t.lastInterval=e}else i=s.velocity,n=s.velocityX,r=s.velocityY,o=s.direction;e.velocity=i,e.velocityX=n,e.velocityY=r,e.direction=o}function A(t){for(var e=[],i=0;i<t.pointers.length;)e[i]={clientX:st(t.pointers[i].clientX),clientY:st(t.pointers[i].clientY)},i++;return{timeStamp:ht(),pointers:e,center:D(e),deltaX:t.deltaX,deltaY:t.deltaY}}function D(t){var e=t.length;if(1===e)return{x:st(t[0].clientX),y:st(t[0].clientY)};for(var i=0,n=0,r=0;r<e;)i+=t[r].clientX,n+=t[r].clientY,r++;return{x:st(i/e),y:st(n/e)}}function T(t,e,i){return{x:e/t||0,y:i/t||0}}function L(t,e){return t===e?bt:at(t)>=at(e)?t<0?wt:xt:e<0?_t:kt}function O(t,e,i){i||(i=Et);var n=e[i[0]]-t[i[0]],r=e[i[1]]-t[i[1]];return Math.sqrt(n*n+r*r)}function P(t,e,i){return i||(i=Et),180*Math.atan2(e[i[1]]-t[i[1]],e[i[0]]-t[i[0]])/Math.PI}function I(){this.evEl=Dt,this.evWin=Tt,this.pressed=!1,C.apply(this,arguments)}function B(){this.evEl=Pt,this.evWin=It,C.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function R(){this.evTarget=Rt,this.evWin=Ft,this.started=!1,C.apply(this,arguments)}function F(){this.evTarget=jt,this.targetIds={},C.apply(this,arguments)}function z(){C.apply(this,arguments);var t=f(this.handler,this);this.touch=new F(this.manager,t),this.mouse=new I(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function j(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var i={x:e.clientX,y:e.clientY};this.lastTouches.push(i);var n=this.lastTouches;setTimeout(function(){var t=n.indexOf(i);t>-1&&n.splice(t,1)},qt)}}function q(t,e){this.manager=t,this.set(e)}function H(t){this.options=it({},this.defaults,t||{}),this.id=ut++,this.manager=null,this.options.enable=g(this.options.enable,!0),this.state=Kt,this.simultaneous={},this.requireFail=[]}function W(t){return t&te?"cancel":t&$t?"end":t&Qt?"move":t&Zt?"start":""}function U(t){return t==kt?"down":t==_t?"up":t==wt?"left":t==xt?"right":""}function V(t,e){var i=e.manager;return i?i.get(t):t}function Y(){H.apply(this,arguments)}function G(){Y.apply(this,arguments),this.pX=null,this.pY=null}function X(){Y.apply(this,arguments)}function K(){H.apply(this,arguments),this._timer=null,this._input=null}function Z(){Y.apply(this,arguments)}function Q(){Y.apply(this,arguments)}function $(){H.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function J(t,e){return(e=e||{}).recognizers=g(e.recognizers,J.defaults.preset),new tt(t,e)}function tt(t,e){this.options=it({},J.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=function(t){return new(t.options.inputClass||(ft?B:pt?F:ct?z:I))(t,E)}(this),this.touchAction=new q(this,this.options.touchAction),et(this,!0),d(this.options.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}function et(t,e){var i,n=t.element;n.style&&(d(t.options.cssProps,function(r,o){i=S(n.style,o),e?(t.oldCssProps[i]=n.style[i],n.style[i]=r):n.style[i]=t.oldCssProps[i]||""}),e||(t.oldCssProps={}))}var it,nt=["","webkit","Moz","MS","ms","o"],rt=o.createElement("div"),ot="function",st=Math.round,at=Math.abs,ht=Date.now;it="function"!=typeof Object.assign?function(t){if(t===a||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),i=1;i<arguments.length;i++){var n=arguments[i];if(n!==a&&null!==n)for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r])}return e}:Object.assign;var lt=u(function(t,e,i){for(var n=Object.keys(e),r=0;r<n.length;)(!i||i&&t[n[r]]===a)&&(t[n[r]]=e[n[r]]),r++;return t},"extend","Use `assign`."),dt=u(function(t,e){return lt(t,e,!0)},"merge","Use `assign`."),ut=1,ct="ontouchstart"in r,ft=S(r,"PointerEvent")!==a,pt=ct&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),gt=25,mt=1,vt=4,yt=8,bt=1,wt=2,xt=4,_t=8,kt=16,St=wt|xt,Mt=_t|kt,Ct=St|Mt,Et=["x","y"],Nt=["clientX","clientY"];C.prototype={handler:function(){},init:function(){this.evEl&&m(this.element,this.evEl,this.domHandler),this.evTarget&&m(this.target,this.evTarget,this.domHandler),this.evWin&&m(M(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&v(this.element,this.evEl,this.domHandler),this.evTarget&&v(this.target,this.evTarget,this.domHandler),this.evWin&&v(M(this.element),this.evWin,this.domHandler)}};var At={mousedown:mt,mousemove:2,mouseup:vt},Dt="mousedown",Tt="mousemove mouseup";c(I,C,{handler:function(t){var e=At[t.type];e&mt&&0===t.button&&(this.pressed=!0),2&e&&1!==t.which&&(e=vt),this.pressed&&(e&vt&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:"mouse",srcEvent:t}))}});var Lt={pointerdown:mt,pointermove:2,pointerup:vt,pointercancel:yt,pointerout:yt},Ot={2:"touch",3:"pen",4:"mouse",5:"kinect"},Pt="pointerdown",It="pointermove pointerup pointercancel";r.MSPointerEvent&&!r.PointerEvent&&(Pt="MSPointerDown",It="MSPointerMove MSPointerUp MSPointerCancel"),c(B,C,{handler:function(t){var e=this.store,i=!1,n=t.type.toLowerCase().replace("ms",""),r=Lt[n],o=Ot[t.pointerType]||t.pointerType,s="touch"==o,a=x(e,t.pointerId,"pointerId");r&mt&&(0===t.button||s)?a<0&&(e.push(t),a=e.length-1):r&(vt|yt)&&(i=!0),a<0||(e[a]=t,this.callback(this.manager,r,{pointers:e,changedPointers:[t],pointerType:o,srcEvent:t}),i&&e.splice(a,1))}});var Bt={touchstart:mt,touchmove:2,touchend:vt,touchcancel:yt},Rt="touchstart",Ft="touchstart touchmove touchend touchcancel";c(R,C,{handler:function(t){var e=Bt[t.type];if(e===mt&&(this.started=!0),this.started){var i=(function(t,e){var i=_(t.touches),n=_(t.changedTouches);return e&(vt|yt)&&(i=k(i.concat(n),"identifier",!0)),[i,n]}).call(this,t,e);e&(vt|yt)&&i[0].length-i[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:"touch",srcEvent:t})}}});var zt={touchstart:mt,touchmove:2,touchend:vt,touchcancel:yt},jt="touchstart touchmove touchend touchcancel";c(F,C,{handler:function(t){var e=zt[t.type],i=(function(t,e){var i=_(t.touches),n=this.targetIds;if(e&(2|mt)&&1===i.length)return n[i[0].identifier]=!0,[i,i];var r,o,s=_(t.changedTouches),a=[],h=this.target;if(o=i.filter(function(t){return y(t.target,h)}),e===mt)for(r=0;r<o.length;)n[o[r].identifier]=!0,r++;for(r=0;r<s.length;)n[s[r].identifier]&&a.push(s[r]),e&(vt|yt)&&delete n[s[r].identifier],r++;return a.length?[k(o.concat(a),"identifier",!0),a]:void 0}).call(this,t,e);i&&this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:"touch",srcEvent:t})}});var qt=2500;c(z,C,{handler:function(t,e,i){var n="mouse"==i.pointerType;if(!(n&&i.sourceCapabilities&&i.sourceCapabilities.firesTouchEvents)){if("touch"==i.pointerType)(function(t,e){t&mt?(this.primaryTouch=e.changedPointers[0].identifier,j.call(this,e)):t&(vt|yt)&&j.call(this,e)}).call(this,e,i);else if(n&&(function(t){for(var e=t.srcEvent.clientX,i=t.srcEvent.clientY,n=0;n<this.lastTouches.length;n++){var r=this.lastTouches[n],o=Math.abs(e-r.x),s=Math.abs(i-r.y);if(o<=25&&s<=25)return!0}return!1}).call(this,i))return;this.callback(t,e,i)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Ht=S(rt.style,"touchAction"),Wt=Ht!==a,Ut="manipulation",Vt="none",Yt="pan-x",Gt="pan-y",Xt=function(){if(!Wt)return!1;var t={},e=r.CSS&&r.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(i){t[i]=!e||r.CSS.supports("touch-action",i)}),t}();q.prototype={set:function(t){"compute"==t&&(t=this.compute()),Wt&&this.manager.element.style&&Xt[t]&&(this.manager.element.style[Ht]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return d(this.manager.recognizers,function(e){p(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))}),function(t){if(b(t,Vt))return Vt;var e=b(t,Yt),i=b(t,Gt);return e&&i?Vt:e||i?e?Yt:Gt:b(t,Ut)?Ut:"auto"}(t.join(" "))},preventDefaults:function(t){var e=t.srcEvent,i=t.offsetDirection;if(!this.manager.session.prevented){var n=this.actions,r=b(n,Vt)&&!Xt[Vt],o=b(n,Gt)&&!Xt[Gt],s=b(n,Yt)&&!Xt[Yt];if(r&&1===t.pointers.length&&t.distance<2&&t.deltaTime<250)return;return s&&o?void 0:r||o&&i&St||s&&i&Mt?this.preventSrc(e):void 0}e.preventDefault()},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var Kt=1,Zt=2,Qt=4,$t=8,Jt=$t,te=16;H.prototype={defaults:{},set:function(t){return it(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(l(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=V(t,this)).id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return l(t,"dropRecognizeWith",this)?this:(t=V(t,this),delete this.simultaneous[t.id],this)},requireFailure:function(t){if(l(t,"requireFailure",this))return this;var e=this.requireFail;return-1===x(e,t=V(t,this))&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(l(t,"dropRequireFailure",this))return this;t=V(t,this);var e=x(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){function e(e){i.manager.emit(e,t)}var i=this,n=this.state;n<$t&&e(i.options.event+W(n)),e(i.options.event),t.additionalEvent&&e(t.additionalEvent),n>=$t&&e(i.options.event+W(n))},tryEmit:function(t){if(this.canEmit())return this.emit(t);this.state=32},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(32|Kt)))return!1;t++}return!0},recognize:function(t){var e=it({},t);if(!p(this.options.enable,[this,e]))return this.reset(),void(this.state=32);this.state&(Jt|te|32)&&(this.state=Kt),this.state=this.process(e),this.state&(Zt|Qt|$t|te)&&this.tryEmit(e)},process:function(t){},getTouchAction:function(){},reset:function(){}},c(Y,H,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,i=t.eventType,n=e&(Zt|Qt),r=this.attrTest(t);return n&&(i&yt||!r)?e|te:n||r?i&vt?e|$t:e&Zt?e|Qt:Zt:32}}),c(G,Y,{defaults:{event:"pan",threshold:10,pointers:1,direction:Ct},getTouchAction:function(){var t=this.options.direction,e=[];return t&St&&e.push(Gt),t&Mt&&e.push(Yt),e},directionTest:function(t){var e=this.options,i=!0,n=t.distance,r=t.direction,o=t.deltaX,s=t.deltaY;return r&e.direction||(e.direction&St?(r=0===o?bt:o<0?wt:xt,i=o!=this.pX,n=Math.abs(t.deltaX)):(r=0===s?bt:s<0?_t:kt,i=s!=this.pY,n=Math.abs(t.deltaY))),t.direction=r,i&&n>e.threshold&&r&e.direction},attrTest:function(t){return Y.prototype.attrTest.call(this,t)&&(this.state&Zt||!(this.state&Zt)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=U(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),c(X,Y,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Vt]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&Zt)},emit:function(t){1!==t.scale&&(t.additionalEvent=this.options.event+(t.scale<1?"in":"out")),this._super.emit.call(this,t)}}),c(K,H,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(t){var e=this.options,i=t.pointers.length===e.pointers,n=t.distance<e.threshold,r=t.deltaTime>e.time;if(this._input=t,!n||!i||t.eventType&(vt|yt)&&!r)this.reset();else if(t.eventType&mt)this.reset(),this._timer=h(function(){this.state=Jt,this.tryEmit()},e.time,this);else if(t.eventType&vt)return Jt;return 32},reset:function(){clearTimeout(this._timer)},emit:function(t){this.state===Jt&&(t&&t.eventType&vt?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=ht(),this.manager.emit(this.options.event,this._input)))}}),c(Z,Y,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Vt]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&Zt)}}),c(Q,Y,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:St|Mt,pointers:1},getTouchAction:function(){return G.prototype.getTouchAction.call(this)},attrTest:function(t){var e,i=this.options.direction;return i&(St|Mt)?e=t.overallVelocity:i&St?e=t.overallVelocityX:i&Mt&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&i&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&at(e)>this.options.velocity&&t.eventType&vt},emit:function(t){var e=U(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),c($,H,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Ut]},process:function(t){var e=this.options,i=t.pointers.length===e.pointers,n=t.distance<e.threshold,r=t.deltaTime<e.time;if(this.reset(),t.eventType&mt&&0===this.count)return this.failTimeout();if(n&&r&&i){if(t.eventType!=vt)return this.failTimeout();var o=!this.pTime||t.timeStamp-this.pTime<e.interval,s=!this.pCenter||O(this.pCenter,t.center)<e.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,s&&o?this.count+=1:this.count=1,this._input=t,0==this.count%e.taps)return this.hasRequireFailures()?(this._timer=h(function(){this.state=Jt,this.tryEmit()},e.interval,this),Zt):Jt}return 32},failTimeout:function(){return this._timer=h(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==Jt&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),J.VERSION="2.0.7",J.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[Z,{enable:!1}],[X,{enable:!1},["rotate"]],[Q,{direction:St}],[G,{direction:St},["swipe"]],[$],[$,{event:"doubletap",taps:2},["tap"]],[K]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},tt.prototype={set:function(t){return it(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var e=this.session;if(!e.stopped){this.touchAction.preventDefaults(t);var i,n=this.recognizers,r=e.curRecognizer;(!r||r&&r.state&Jt)&&(r=e.curRecognizer=null);for(var o=0;o<n.length;)i=n[o],2===e.stopped||r&&i!=r&&!i.canRecognizeWith(r)?i.reset():i.recognize(t),!r&&i.state&(Zt|Qt|$t)&&(r=e.curRecognizer=i),o++}},get:function(t){if(t instanceof H)return t;for(var e=this.recognizers,i=0;i<e.length;i++)if(e[i].options.event==t)return e[i];return null},add:function(t){if(l(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(l(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,i=x(e,t);-1!==i&&(e.splice(i,1),this.touchAction.update())}return this},on:function(t,e){if(t!==a&&e!==a){var i=this.handlers;return d(w(t),function(t){i[t]=i[t]||[],i[t].push(e)}),this}},off:function(t,e){if(t!==a){var i=this.handlers;return d(w(t),function(t){e?i[t]&&i[t].splice(x(i[t],e),1):delete i[t]}),this}},emit:function(t,e){this.options.domEvents&&function(t,e){var i=o.createEvent("Event");i.initEvent(t,!0,!0),i.gesture=e,e.target.dispatchEvent(i)}(t,e);var i=this.handlers[t]&&this.handlers[t].slice();if(i&&i.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var n=0;n<i.length;)i[n](e),n++}},destroy:function(){this.element&&et(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},it(J,{INPUT_START:mt,INPUT_MOVE:2,INPUT_END:vt,INPUT_CANCEL:yt,STATE_POSSIBLE:Kt,STATE_BEGAN:Zt,STATE_CHANGED:Qt,STATE_ENDED:$t,STATE_RECOGNIZED:Jt,STATE_CANCELLED:te,STATE_FAILED:32,DIRECTION_NONE:bt,DIRECTION_LEFT:wt,DIRECTION_RIGHT:xt,DIRECTION_UP:_t,DIRECTION_DOWN:kt,DIRECTION_HORIZONTAL:St,DIRECTION_VERTICAL:Mt,DIRECTION_ALL:Ct,Manager:tt,Input:C,TouchAction:q,TouchInput:F,MouseInput:I,PointerEventInput:B,TouchMouseInput:z,SingleTouchInput:R,Recognizer:H,AttrRecognizer:Y,Tap:$,Pan:G,Swipe:Q,Pinch:X,Rotate:Z,Press:K,on:m,off:v,each:d,merge:dt,extend:lt,assign:it,inherit:c,bindFn:f,prefixed:S}),(void 0!==r?r:"undefined"!=typeof self?self:{}).Hammer=J,(n=(function(){return J}).call(e,i,e,t))!==a&&(t.exports=n)}(window,document)},function(t,e,i){e.util=i(2),e.DOMutil=i(14),e.DataSet=i(11),e.DataView=i(12),e.Queue=i(43),e.Timeline=i(178),e.Graph2d=i(180),e.timeline={Core:i(65),DateUtil:i(36),Range:i(64),stack:i(100),TimeStep:i(66),components:{items:{Item:i(38),BackgroundItem:i(103),BoxItem:i(101),PointItem:i(102),RangeItem:i(70)},BackgroundGroup:i(69),Component:i(16),CurrentTime:i(67),CustomTime:i(46),DataAxis:i(107),DataScale:i(108),GraphGroup:i(109),Group:i(68),ItemSet:i(99),Legend:i(112),LineGraph:i(106),TimeAxis:i(45)}},e.moment=i(9),e.Hammer=i(10),e.keycharm=i(35)},function(t,e,i){function n(t,e,i,r){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(!(Array.isArray(i)||i instanceof l||i instanceof d)&&i instanceof Object){var o=r;r=i,i=o}r&&r.throttleRedraw&&console.warn('Timeline option "throttleRedraw" is DEPRICATED and no longer supported. It will be removed in the next MAJOR release.');var s=this;if(this.defaultOptions={start:null,end:null,autoResize:!0,orientation:{axis:"bottom",item:"bottom"},moment:a,width:null,height:null,maxHeight:null,minHeight:null},this.options=h.deepExtend({},this.defaultOptions),this._create(t),!r||r&&void 0===r.rtl){this.dom.root.style.visibility="hidden";for(var c,g=this.dom.root;!c&&g;)c=window.getComputedStyle(g,null).direction,g=g.parentElement;this.options.rtl=c&&"rtl"==c.toLowerCase()}else this.options.rtl=r.rtl;this.options.rollingMode=r&&r.rollingMode,this.options.onInitialDrawComplete=r&&r.onInitialDrawComplete,this.components=[],this.body={dom:this.dom,domProps:this.props,emitter:{on:this.on.bind(this),off:this.off.bind(this),emit:this.emit.bind(this)},hiddenDates:[],util:{getScale:function(){return s.timeAxis.step.scale},getStep:function(){return s.timeAxis.step.step},toScreen:s._toScreen.bind(s),toGlobalScreen:s._toGlobalScreen.bind(s),toTime:s._toTime.bind(s),toGlobalTime:s._toGlobalTime.bind(s)}},this.range=new u(this.body,this.options),this.components.push(this.range),this.body.range=this.range,this.timeAxis=new f(this.body,this.options),this.timeAxis2=null,this.components.push(this.timeAxis),this.currentTime=new p(this.body,this.options),this.components.push(this.currentTime),this.itemSet=new m(this.body,this.options),this.components.push(this.itemSet),this.itemsData=null,this.groupsData=null,this.dom.root.onclick=function(t){s.emit("click",s.getEventProperties(t))},this.dom.root.ondblclick=function(t){s.emit("doubleClick",s.getEventProperties(t))},this.dom.root.oncontextmenu=function(t){s.emit("contextmenu",s.getEventProperties(t))},this.dom.root.onmouseover=function(t){s.emit("mouseOver",s.getEventProperties(t))},window.PointerEvent?(this.dom.root.onpointerdown=function(t){s.emit("mouseDown",s.getEventProperties(t))},this.dom.root.onpointermove=function(t){s.emit("mouseMove",s.getEventProperties(t))},this.dom.root.onpointerup=function(t){s.emit("mouseUp",s.getEventProperties(t))}):(this.dom.root.onmousemove=function(t){s.emit("mouseMove",s.getEventProperties(t))},this.dom.root.onmousedown=function(t){s.emit("mouseDown",s.getEventProperties(t))},this.dom.root.onmouseup=function(t){s.emit("mouseUp",s.getEventProperties(t))}),this.initialFitDone=!1,this.on("changed",function(){if(null!=this.itemsData&&!this.options.rollingMode){if(!s.initialFitDone)if(s.initialFitDone=!0,null!=s.options.start||null!=s.options.end){if(null==s.options.start||null==s.options.end)var t=s.getItemRange();s.setWindow(null!=s.options.start?s.options.start:t.min,null!=s.options.end?s.options.end:t.max,{animation:!1})}else s.fit({animation:!1});!s.initialDrawDone&&s.initialRangeChangeDone&&(s.initialDrawDone=!0,s.dom.root.style.visibility="visible",s.options.onInitialDrawComplete&&setTimeout(function(){return s.options.onInitialDrawComplete()},0))}}),r&&this.setOptions(r),i&&this.setGroups(i),e&&this.setItems(e),this._redraw()}function r(t){return h.convert(t.data.start,"Date").valueOf()}function o(t){return h.convert(null!=t.data.end?t.data.end:t.data.start,"Date").valueOf()}function s(t,e){var i=t.props.leftContainer.height,n=t.props.left.height,r=e.parent,o=r.top,s=!0,a=t.timeAxis.options.orientation.axis,h=function(){return"bottom"==a?r.height-e.top-e.height:e.top},l=-1*t._getScrollTop(),d=o+h(),u=e.height;return d<l?o+i<=o+h()+u&&(o+=h()-t.itemSet.options.margin.item.vertical):d+u>l+i?o+=h()+u-i+t.itemSet.options.margin.item.vertical:s=!1,{shouldScroll:s,scrollOffset:o=Math.min(o,n-i),itemTop:d}}var a=i(9),h=i(2),l=i(11),d=i(12),u=i(64),c=i(65),f=i(45),p=i(67),g=i(46),m=i(99),v=i(15).printStyle,y=i(105).allOptions,b=i(105).configureOptions,w=i(71).default,x=i(15).default;(n.prototype=new c)._createConfigurator=function(){return new w(this,this.dom.container,b)},n.prototype.redraw=function(){this.itemSet&&this.itemSet.markDirty({refreshItems:!0}),this._redraw()},n.prototype.setOptions=function(t){if(!0===x.validate(t,y)&&console.log("%cErrors have been found in the supplied options object.",v),c.prototype.setOptions.call(this,t),"type"in t&&t.type!==this.options.type){this.options.type=t.type;var e=this.itemsData;if(e){var i=this.getSelection();this.setItems(null),this.setItems(e),this.setSelection(i)}}},n.prototype.setItems=function(t){var e;e=t?t instanceof l||t instanceof d?t:new l(t,{type:{start:"Date",end:"Date"}}):null,this.itemsData=e,this.itemSet&&this.itemSet.setItems(e)},n.prototype.setGroups=function(t){var e;if(t){var i=function(t){return!1!==t.visible};e=t instanceof l||t instanceof d?new d(t,{filter:i}):new l(t.filter(i))}else e=null;this.groupsData=e,this.itemSet.setGroups(e)},n.prototype.setData=function(t){t&&t.groups&&this.setGroups(t.groups),t&&t.items&&this.setItems(t.items)},n.prototype.setSelection=function(t,e){this.itemSet&&this.itemSet.setSelection(t),e&&e.focus&&this.focus(t,e)},n.prototype.getSelection=function(){return this.itemSet&&this.itemSet.getSelection()||[]},n.prototype.focus=function(t,e){if(this.itemsData&&null!=t){var i=Array.isArray(t)?t:[t],n=this.itemsData.getDataSet().get(i,{type:{start:"Date",end:"Date"}}),r=null,o=null;if(n.forEach(function(t){var e=t.start.valueOf(),i="end"in t?t.end.valueOf():t.start.valueOf();(null===r||e<r)&&(r=e),(null===o||i>o)&&(o=i)}),null!==r&&null!==o){var a=this,h=this.itemSet.items[i[0]],l=-1*this._getScrollTop(),d=null,u=function(){var t=s(a,h);t.shouldScroll&&t.itemTop!=d.itemTop&&(a._setScrollTop(-t.scrollOffset),a._redraw())},c=(r+o)/2,f=Math.max(this.range.end-this.range.start,1.1*(o-r)),p=!e||void 0===e.animation||e.animation;p||(d={shouldScroll:!1,scrollOffset:-1,itemTop:-1}),this.range.setRange(c-f/2,c+f/2,{animation:p},function(){u(),setTimeout(u,100)},function(t,e,i){var n=s(a,h);if(d||(d=n),d.itemTop!=n.itemTop||d.shouldScroll){d.itemTop!=n.itemTop&&n.shouldScroll&&(d=n,l=-1*a._getScrollTop());var r=d.scrollOffset;a._setScrollTop(-(i?r:l+(r-l)*t)),e||a._redraw()}})}}},n.prototype.fit=function(t,e){var i,n=!t||void 0===t.animation||t.animation,r=this.itemsData&&this.itemsData.getDataSet();1===r.length&&void 0===r.get()[0].end?(i=this.getDataRange(),this.moveTo(i.min.valueOf(),{animation:n},e)):(i=this.getItemRange(),this.range.setRange(i.min,i.max,{animation:n},e))},n.prototype.getItemRange=function(){var t=this.getDataRange(),e=null!==t.min?t.min.valueOf():null,i=null!==t.max?t.max.valueOf():null,n=null,s=null;if(null!=e&&null!=i){var a=i-e;a<=0&&(a=10);var l=a/this.props.center.width,d={},u=0;if(h.forEach(this.itemSet.items,function(t,e){t.groupShowing&&(d[e]=t.redraw(!0),u=d[e].length)}),u>0)for(var c=0;c<u;c++)h.forEach(d,function(t){t[c]()});if(h.forEach(this.itemSet.items,(function(t){var a,h,d=r(t),u=o(t);this.options.rtl?(a=d-(t.getWidthRight()+10)*l,h=u+(t.getWidthLeft()+10)*l):(a=d-(t.getWidthLeft()+10)*l,h=u+(t.getWidthRight()+10)*l),a<e&&(e=a,n=t),h>i&&(i=h,s=t)}).bind(this)),n&&s){var f=n.getWidthLeft()+10,p=s.getWidthRight()+10,g=this.props.center.width-f-p;g>0&&(this.options.rtl?(e=r(n)-p*a/g,i=o(s)+f*a/g):(e=r(n)-f*a/g,i=o(s)+p*a/g))}}return{min:null!=e?new Date(e):null,max:null!=i?new Date(i):null}},n.prototype.getDataRange=function(){var t=null,e=null,i=this.itemsData&&this.itemsData.getDataSet();return i&&i.forEach(function(i){var n=h.convert(i.start,"Date").valueOf(),r=h.convert(null!=i.end?i.end:i.start,"Date").valueOf();(null===t||n<t)&&(t=n),(null===e||r>e)&&(e=r)}),{min:null!=t?new Date(t):null,max:null!=e?new Date(e):null}},n.prototype.getEventProperties=function(t){var e,i=t.center?t.center.x:t.clientX,n=t.center?t.center.y:t.clientY;e=this.options.rtl?h.getAbsoluteRight(this.dom.centerContainer)-i:i-h.getAbsoluteLeft(this.dom.centerContainer);var r=n-h.getAbsoluteTop(this.dom.centerContainer),o=this.itemSet.itemFromTarget(t),s=this.itemSet.groupFromTarget(t),a=g.customTimeFromTarget(t),l=this.itemSet.options.snap||null,d=this.body.util.getScale(),u=this.body.util.getStep(),c=this._toTime(e),f=l?l(c,d,u):c,p=h.getTarget(t),m=null;return null!=o?m="item":null!=a?m="custom-time":h.hasParent(p,this.timeAxis.dom.foreground)?m="axis":this.timeAxis2&&h.hasParent(p,this.timeAxis2.dom.foreground)?m="axis":h.hasParent(p,this.itemSet.dom.labelSet)?m="group-label":h.hasParent(p,this.currentTime.bar)?m="current-time":h.hasParent(p,this.dom.center)&&(m="background"),{event:t,item:o?o.id:null,group:s?s.groupId:null,what:m,pageX:t.srcEvent?t.srcEvent.pageX:t.pageX,pageY:t.srcEvent?t.srcEvent.pageY:t.pageY,x:e,y:r,time:c,snappedTime:f}},n.prototype.toggleRollingMode=function(){this.range.rolling?this.range.stopRolling():(null==this.options.rollingMode&&this.setOptions(this.options),this.range.startRolling())},t.exports=n},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(19)),o=n(i(0)),s=n(i(1)),a=i(10),h=i(37),l=i(2),d=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;(0,o.default)(this,t),this.pixelRatio=e,this.generated=!1,this.centerCoordinates={x:144.5,y:144.5},this.r=289*.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=function(){},this.closeCallback=function(){},this._create()}return(0,s.default)(t,[{key:"insertTo",value:function(t){void 0!==this.hammer&&(this.hammer.destroy(),this.hammer=void 0),this.container=t,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}},{key:"setUpdateCallback",value:function(t){if("function"!=typeof t)throw new Error("Function attempted to set as colorPicker update callback is not a function.");this.updateCallback=t}},{key:"setCloseCallback",value:function(t){if("function"!=typeof t)throw new Error("Function attempted to set as colorPicker closing callback is not a function.");this.closeCallback=t}},{key:"_isColorString",value:function(t){if("string"==typeof t)return{black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"}[t]}},{key:"setColor",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if("none"!==t){var i=void 0,n=this._isColorString(t);if(void 0!==n&&(t=n),!0===l.isString(t)){if(!0===l.isValidRGB(t)){var o=t.substr(4).substr(0,t.length-5).split(",");i={r:o[0],g:o[1],b:o[2],a:1}}else if(!0===l.isValidRGBA(t)){var s=t.substr(5).substr(0,t.length-6).split(",");i={r:s[0],g:s[1],b:s[2],a:s[3]}}else if(!0===l.isValidHex(t)){var a=l.hexToRGB(t);i={r:a.r,g:a.g,b:a.b,a:1}}}else if(t instanceof Object&&void 0!==t.r&&void 0!==t.g&&void 0!==t.b){var h=void 0!==t.a?t.a:"1.0";i={r:t.r,g:t.g,b:t.b,a:h}}if(void 0===i)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+(0,r.default)(t));this._setColor(i,e)}}},{key:"show",value:function(){void 0!==this.closeCallback&&(this.closeCallback(),this.closeCallback=void 0),this.applied=!1,this.frame.style.display="block",this._generateHueCircle()}},{key:"_hide",value:function(){var t=this;!0===(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&(this.previousColor=l.extend({},this.color)),!0===this.applied&&this.updateCallback(this.initialColor),this.frame.style.display="none",setTimeout(function(){void 0!==t.closeCallback&&(t.closeCallback(),t.closeCallback=void 0)},0)}},{key:"_save",value:function(){this.updateCallback(this.color),this.applied=!1,this._hide()}},{key:"_apply",value:function(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}},{key:"_loadLast",value:function(){void 0!==this.previousColor?this.setColor(this.previousColor,!1):alert("There is no last color to load...")}},{key:"_setColor",value:function(t){!0===(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&(this.initialColor=l.extend({},t)),this.color=t;var e=l.RGBToHSV(t.r,t.g,t.b),i=2*Math.PI,n=this.r*e.s,r=this.centerCoordinates.x+n*Math.sin(i*e.h),o=this.centerCoordinates.y+n*Math.cos(i*e.h);this.colorPickerSelector.style.left=r-.5*this.colorPickerSelector.clientWidth+"px",this.colorPickerSelector.style.top=o-.5*this.colorPickerSelector.clientHeight+"px",this._updatePicker(t)}},{key:"_setOpacity",value:function(t){this.color.a=t/100,this._updatePicker(this.color)}},{key:"_setBrightness",value:function(t){var e=l.RGBToHSV(this.color.r,this.color.g,this.color.b);e.v=t/100;var i=l.HSVToRGB(e.h,e.s,e.v);i.a=this.color.a,this.color=i,this._updatePicker()}},{key:"_updatePicker",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.color,e=l.RGBToHSV(t.r,t.g,t.b),i=this.colorPickerCanvas.getContext("2d");void 0===this.pixelRation&&(this.pixelRatio=(window.devicePixelRatio||1)/(i.webkitBackingStorePixelRatio||i.mozBackingStorePixelRatio||i.msBackingStorePixelRatio||i.oBackingStorePixelRatio||i.backingStorePixelRatio||1)),i.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var n=this.colorPickerCanvas.clientWidth,r=this.colorPickerCanvas.clientHeight;i.clearRect(0,0,n,r),i.putImageData(this.hueCircle,0,0),i.fillStyle="rgba(0,0,0,"+(1-e.v)+")",i.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),i.fill(),this.brightnessRange.value=100*e.v,this.opacityRange.value=100*t.a,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}},{key:"_setSize",value:function(){this.colorPickerCanvas.style.width="100%",this.colorPickerCanvas.style.height="100%",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}},{key:"_create",value:function(){if(this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext){var t=this.colorPickerCanvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{var e=document.createElement("DIV");e.style.color="red",e.style.fontWeight="bold",e.style.padding="10px",e.innerHTML="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(e)}this.colorPickerDiv.className="vis-color",this.opacityDiv=document.createElement("div"),this.opacityDiv.className="vis-opacity",this.brightnessDiv=document.createElement("div"),this.brightnessDiv.className="vis-brightness",this.arrowDiv=document.createElement("div"),this.arrowDiv.className="vis-arrow",this.opacityRange=document.createElement("input");try{this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100"}catch(t){}this.opacityRange.value="100",this.opacityRange.className="vis-range",this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100"}catch(t){}this.brightnessRange.value="100",this.brightnessRange.className="vis-range",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);var i=this;this.opacityRange.onchange=function(){i._setOpacity(this.value)},this.opacityRange.oninput=function(){i._setOpacity(this.value)},this.brightnessRange.onchange=function(){i._setBrightness(this.value)},this.brightnessRange.oninput=function(){i._setBrightness(this.value)},this.brightnessLabel=document.createElement("div"),this.brightnessLabel.className="vis-label vis-brightness",this.brightnessLabel.innerHTML="brightness:",this.opacityLabel=document.createElement("div"),this.opacityLabel.className="vis-label vis-opacity",this.opacityLabel.innerHTML="opacity:",this.newColorDiv=document.createElement("div"),this.newColorDiv.className="vis-new-color",this.newColorDiv.innerHTML="new",this.initialColorDiv=document.createElement("div"),this.initialColorDiv.className="vis-initial-color",this.initialColorDiv.innerHTML="initial",this.cancelButton=document.createElement("div"),this.cancelButton.className="vis-button vis-cancel",this.cancelButton.innerHTML="cancel",this.cancelButton.onclick=this._hide.bind(this,!1),this.applyButton=document.createElement("div"),this.applyButton.className="vis-button vis-apply",this.applyButton.innerHTML="apply",this.applyButton.onclick=this._apply.bind(this),this.saveButton=document.createElement("div"),this.saveButton.className="vis-button vis-save",this.saveButton.innerHTML="save",this.saveButton.onclick=this._save.bind(this),this.loadButton=document.createElement("div"),this.loadButton.className="vis-button vis-load",this.loadButton.innerHTML="load last",this.loadButton.onclick=this._loadLast.bind(this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}},{key:"_bindHammer",value:function(){var t=this;this.drag={},this.pinch={},this.hammer=new a(this.colorPickerCanvas),this.hammer.get("pinch").set({enable:!0}),h.onTouch(this.hammer,function(e){t._moveSelector(e)}),this.hammer.on("tap",function(e){t._moveSelector(e)}),this.hammer.on("panstart",function(e){t._moveSelector(e)}),this.hammer.on("panmove",function(e){t._moveSelector(e)}),this.hammer.on("panend",function(e){t._moveSelector(e)})}},{key:"_generateHueCircle",value:function(){if(!1===this.generated){var t=this.colorPickerCanvas.getContext("2d");void 0===this.pixelRation&&(this.pixelRatio=(window.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1)),t.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var e=this.colorPickerCanvas.clientWidth,i=this.colorPickerCanvas.clientHeight;t.clearRect(0,0,e,i);var n=void 0,r=void 0,o=void 0,s=void 0;this.centerCoordinates={x:.5*e,y:.5*i},this.r=.49*e;var a=2*Math.PI/360,h=1/this.r,d=void 0;for(o=0;o<360;o++)for(s=0;s<this.r;s++)n=this.centerCoordinates.x+s*Math.sin(a*o),r=this.centerCoordinates.y+s*Math.cos(a*o),d=l.HSVToRGB(o*(1/360),s*h,1),t.fillStyle="rgb("+d.r+","+d.g+","+d.b+")",t.fillRect(n-.5,r-.5,2,2);t.strokeStyle="rgba(0,0,0,1)",t.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),t.stroke(),this.hueCircle=t.getImageData(0,0,e,i)}this.generated=!0}},{key:"_moveSelector",value:function(t){var e=this.colorPickerDiv.getBoundingClientRect(),i=.5*this.colorPickerDiv.clientHeight,n=.5*this.colorPickerDiv.clientWidth,r=t.center.x-e.left-n,o=t.center.y-e.top-i,s=Math.atan2(r,o),a=.98*Math.min(Math.sqrt(r*r+o*o),n),h=Math.cos(s)*a+i,d=Math.sin(s)*a+n;this.colorPickerSelector.style.top=h-.5*this.colorPickerSelector.clientHeight+"px",this.colorPickerSelector.style.left=d-.5*this.colorPickerSelector.clientWidth+"px";var u=s/(2*Math.PI);u=u<0?u+1:u;var c=a/this.r,f=l.RGBToHSV(this.color.r,this.color.g,this.color.b);f.h=u,f.s=c;var p=l.HSVToRGB(f.h,f.s,f.v);p.a=this.color.a,this.color=p,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}}]),t}();e.default=d},function(t,e,i){function n(t,e,i,n){if(!(Array.isArray(i)||i instanceof s||i instanceof a)&&i instanceof Object){var l=n;n=i,i=l}n&&n.throttleRedraw&&console.warn('Graph2d option "throttleRedraw" is DEPRICATED and no longer supported. It will be removed in the next MAJOR release.');var c=this;this.defaultOptions={start:null,end:null,autoResize:!0,orientation:{axis:"bottom",item:"bottom"},moment:r,width:null,height:null,maxHeight:null,minHeight:null},this.options=o.deepExtend({},this.defaultOptions),this._create(t),this.components=[],this.body={dom:this.dom,domProps:this.props,emitter:{on:this.on.bind(this),off:this.off.bind(this),emit:this.emit.bind(this)},hiddenDates:[],util:{toScreen:c._toScreen.bind(c),toGlobalScreen:c._toGlobalScreen.bind(c),toTime:c._toTime.bind(c),toGlobalTime:c._toGlobalTime.bind(c)}},this.range=new h(this.body),this.components.push(this.range),this.body.range=this.range,this.timeAxis=new d(this.body),this.components.push(this.timeAxis),this.currentTime=new u(this.body),this.components.push(this.currentTime),this.linegraph=new f(this.body),this.components.push(this.linegraph),this.itemsData=null,this.groupsData=null,this.on("tap",function(t){c.emit("click",c.getEventProperties(t))}),this.on("doubletap",function(t){c.emit("doubleClick",c.getEventProperties(t))}),this.dom.root.oncontextmenu=function(t){c.emit("contextmenu",c.getEventProperties(t))},n&&this.setOptions(n),i&&this.setGroups(i),e&&this.setItems(e),this._redraw()}var r=i(9),o=i(2),s=i(11),a=i(12),h=i(64),l=i(65),d=i(45),u=i(67),c=i(46),f=i(106),p=i(15).printStyle,g=i(113).allOptions,m=i(113).configureOptions,v=i(71).default,y=i(15).default;(n.prototype=new l).setOptions=function(t){!0===y.validate(t,g)&&console.log("%cErrors have been found in the supplied options object.",p),l.prototype.setOptions.call(this,t)},n.prototype.setItems=function(t){var e,i=null==this.itemsData;e=t?t instanceof s||t instanceof a?t:new s(t,{type:{start:"Date",end:"Date"}}):null,this.itemsData=e,this.linegraph&&this.linegraph.setItems(e),i&&(null!=this.options.start||null!=this.options.end?this.setWindow(null!=this.options.start?this.options.start:null,null!=this.options.end?this.options.end:null,{animation:!1}):this.fit({animation:!1}))},n.prototype.setGroups=function(t){var e;e=t?t instanceof s||t instanceof a?t:new s(t):null,this.groupsData=e,this.linegraph.setGroups(e)},n.prototype.getLegend=function(t,e,i){return void 0===e&&(e=15),void 0===i&&(i=15),void 0!==this.linegraph.groups[t]?this.linegraph.groups[t].getLegend(e,i):"cannot find group:'"+t+"'"},n.prototype.isGroupVisible=function(t){return void 0!==this.linegraph.groups[t]&&this.linegraph.groups[t].visible&&(void 0===this.linegraph.options.groups.visibility[t]||1==this.linegraph.options.groups.visibility[t])},n.prototype.getDataRange=function(){var t=null,e=null;for(var i in this.linegraph.groups)if(this.linegraph.groups.hasOwnProperty(i)&&1==this.linegraph.groups[i].visible)for(var n=0;n<this.linegraph.groups[i].itemsData.length;n++){var r=o.convert(this.linegraph.groups[i].itemsData[n].x,"Date").valueOf();t=null==t?r:t>r?r:t,e=null==e?r:e<r?r:e}return{min:null!=t?new Date(t):null,max:null!=e?new Date(e):null}},n.prototype.getEventProperties=function(t){var e=t.center?t.center.y:t.clientY,i=(t.center?t.center.x:t.clientX)-o.getAbsoluteLeft(this.dom.centerContainer),n=e-o.getAbsoluteTop(this.dom.centerContainer),r=this._toTime(i),s=c.customTimeFromTarget(t),a=o.getTarget(t),h=null;o.hasParent(a,this.timeAxis.dom.foreground)?h="axis":this.timeAxis2&&o.hasParent(a,this.timeAxis2.dom.foreground)?h="axis":o.hasParent(a,this.linegraph.yAxisLeft.dom.frame)?h="data-axis":o.hasParent(a,this.linegraph.yAxisRight.dom.frame)?h="data-axis":o.hasParent(a,this.linegraph.legendLeft.dom.frame)?h="legend":o.hasParent(a,this.linegraph.legendRight.dom.frame)?h="legend":null!=s?h="custom-time":o.hasParent(a,this.currentTime.bar)?h="current-time":o.hasParent(a,this.dom.center)&&(h="background");var l=[],d=this.linegraph.yAxisLeft,u=this.linegraph.yAxisRight;return!d.hidden&&this.itemsData.length>0&&l.push(d.screenToValue(n)),!u.hidden&&this.itemsData.length>0&&l.push(u.screenToValue(n)),{event:t,what:h,pageX:t.srcEvent?t.srcEvent.pageX:t.pageX,pageY:t.srcEvent?t.srcEvent.pageY:t.pageY,x:i,y:n,time:r,value:l}},n.prototype._createConfigurator=function(){return new v(this,this.dom.container,m)},t.exports=n},function(t,e,i){e.util=i(2),e.DOMutil=i(14),e.DataSet=i(11),e.DataView=i(12),e.Queue=i(43),e.Network=i(182),e.network={Images:i(116),dotparser:i(114),gephiParser:i(115),allOptions:i(122)},e.network.convertDot=function(t){return e.network.dotparser.DOTToGraph(t)},e.network.convertGephi=function(t,i){return e.network.gephiParser.parseGephi(t,i)},e.moment=i(9),e.Hammer=i(10),e.keycharm=i(35)},function(t,e,i){function n(t,e,i){var r=this;if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");this.options={},this.defaultOptions={locale:"en",locales:l,clickToUse:!1},o.extend(this.options,this.defaultOptions),this.body={container:t,nodes:{},nodeIndices:[],edges:{},edgeIndices:[],emitter:{on:this.on.bind(this),off:this.off.bind(this),emit:this.emit.bind(this),once:this.once.bind(this)},eventListeners:{onTap:function(){},onTouch:function(){},onDoubleTap:function(){},onHold:function(){},onDragStart:function(){},onDrag:function(){},onDragEnd:function(){},onMouseWheel:function(){},onPinch:function(){},onMouseMove:function(){},onRelease:function(){},onContext:function(){}},data:{nodes:null,edges:null},functions:{createNode:function(){},createEdge:function(){},getPointer:function(){}},modules:{},view:{scale:1,translation:{x:0,y:0}}},this.bindEventListeners(),this.images=new d(function(){return r.body.emitter.emit("_requestRedraw")}),this.groups=new u,this.canvas=new v(this.body),this.selectionHandler=new w(this.body,this.canvas),this.interactionHandler=new b(this.body,this.canvas,this.selectionHandler),this.view=new y(this.body,this.canvas),this.renderer=new m(this.body,this.canvas),this.physics=new p(this.body),this.layoutEngine=new x(this.body),this.clustering=new g(this.body),this.manipulation=new _(this.body,this.canvas,this.selectionHandler),this.nodesHandler=new c(this.body,this.images,this.groups,this.layoutEngine),this.edgesHandler=new f(this.body,this.images,this.groups),this.body.modules.kamadaKawai=new A(this.body,150,.05),this.body.modules.clustering=this.clustering,this.canvas._create(),this.setOptions(i),this.setData(e)}i(183);var r=i(44),o=i(2),s=i(114),a=i(115),h=i(97),l=i(184),d=i(116).default,u=i(186).default,c=i(187).default,f=i(214).default,p=i(220).default,g=i(227).default,m=i(229).default,v=i(230).default,y=i(231).default,b=i(232).default,w=i(234).default,x=i(235).default,_=i(237).default,k=i(71).default,S=i(15).default,M=i(15).printStyle,C=i(122),E=C.allOptions,N=C.configureOptions,A=i(238).default;r(n.prototype),n.prototype.setOptions=function(t){var e=this;if(void 0!==t){if(!0===S.validate(t,E)&&console.log("%cErrors have been found in the supplied options object.",M),o.selectiveDeepExtend(["locale","locales","clickToUse"],this.options,t),t=this.layoutEngine.setOptions(t.layout,t),this.canvas.setOptions(t),this.groups.setOptions(t.groups),this.nodesHandler.setOptions(t.nodes),this.edgesHandler.setOptions(t.edges),this.physics.setOptions(t.physics),this.manipulation.setOptions(t.manipulation,t,this.options),this.interactionHandler.setOptions(t.interaction),this.renderer.setOptions(t.interaction),this.selectionHandler.setOptions(t.interaction),void 0!==t.groups&&this.body.emitter.emit("refreshNodes"),"configure"in t&&(this.configurator||(this.configurator=new k(this,this.body.container,N,this.canvas.pixelRatio)),this.configurator.setOptions(t.configure)),this.configurator&&!0===this.configurator.options.enabled){var i={nodes:{},edges:{},layout:{},interaction:{},manipulation:{},physics:{},global:{}};o.deepExtend(i.nodes,this.nodesHandler.options),o.deepExtend(i.edges,this.edgesHandler.options),o.deepExtend(i.layout,this.layoutEngine.options),o.deepExtend(i.interaction,this.selectionHandler.options),o.deepExtend(i.interaction,this.renderer.options),o.deepExtend(i.interaction,this.interactionHandler.options),o.deepExtend(i.manipulation,this.manipulation.options),o.deepExtend(i.physics,this.physics.options),o.deepExtend(i.global,this.canvas.options),o.deepExtend(i.global,this.options),this.configurator.setModuleOptions(i)}void 0!==t.clickToUse?!0===t.clickToUse?void 0===this.activator&&(this.activator=new h(this.canvas.frame),this.activator.on("change",function(){e.body.emitter.emit("activate")})):(void 0!==this.activator&&(this.activator.destroy(),delete this.activator),this.body.emitter.emit("activate")):this.body.emitter.emit("activate"),this.canvas.setSize(),this.body.emitter.emit("startSimulation")}},n.prototype._updateVisibleIndices=function(){var t=this.body.nodes,e=this.body.edges;for(var i in this.body.nodeIndices=[],this.body.edgeIndices=[],t)t.hasOwnProperty(i)&&(this.clustering._isClusteredNode(i)||!1!==t[i].options.hidden||this.body.nodeIndices.push(t[i].id));for(var n in e)if(e.hasOwnProperty(n)){var r=e[n],o=t[r.fromId],s=t[r.toId],a=void 0!==o&&void 0!==s;!this.clustering._isClusteredEdge(n)&&!1===r.options.hidden&&a&&!1===o.options.hidden&&!1===s.options.hidden&&this.body.edgeIndices.push(r.id)}},n.prototype.bindEventListeners=function(){var t=this;this.body.emitter.on("_dataChanged",function(){t.edgesHandler._updateState(),t.body.emitter.emit("_dataUpdated")}),this.body.emitter.on("_dataUpdated",function(){t.clustering._updateState(),t._updateVisibleIndices(),t._updateValueRange(t.body.nodes),t._updateValueRange(t.body.edges),t.body.emitter.emit("startSimulation"),t.body.emitter.emit("_requestRedraw")})},n.prototype.setData=function(t){if(this.body.emitter.emit("resetPhysics"),this.body.emitter.emit("_resetData"),this.selectionHandler.unselectAll(),t&&t.dot&&(t.nodes||t.edges))throw new SyntaxError('Data must contain either parameter "dot" or  parameter pair "nodes" and "edges", but not both.');if(this.setOptions(t&&t.options),t&&t.dot){console.log("The dot property has been deprecated. Please use the static convertDot method to convert DOT into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertDot(dotString);");var e=s.DOTToGraph(t.dot);this.setData(e)}else if(t&&t.gephi){console.log("The gephi property has been deprecated. Please use the static convertGephi method to convert gephi into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertGephi(gephiJson);");var i=a.parseGephi(t.gephi);this.setData(i)}else this.nodesHandler.setData(t&&t.nodes,!0),this.edgesHandler.setData(t&&t.edges,!0),this.body.emitter.emit("_dataChanged"),this.body.emitter.emit("_dataLoaded"),this.body.emitter.emit("initPhysics")},n.prototype.destroy=function(){for(var t in this.body.emitter.emit("destroy"),this.body.emitter.off(),this.off(),delete this.groups,delete this.canvas,delete this.selectionHandler,delete this.interactionHandler,delete this.view,delete this.renderer,delete this.physics,delete this.layoutEngine,delete this.clustering,delete this.manipulation,delete this.nodesHandler,delete this.edgesHandler,delete this.configurator,delete this.images,this.body.nodes)this.body.nodes.hasOwnProperty(t)&&delete this.body.nodes[t];for(var e in this.body.edges)this.body.edges.hasOwnProperty(e)&&delete this.body.edges[e];o.recursiveDOMDelete(this.body.container)},n.prototype._updateValueRange=function(t){var e,i=void 0,n=void 0,r=0;for(e in t)if(t.hasOwnProperty(e)){var o=t[e].getValue();void 0!==o&&(i=void 0===i?o:Math.min(o,i),n=void 0===n?o:Math.max(o,n),r+=o)}if(void 0!==i&&void 0!==n)for(e in t)t.hasOwnProperty(e)&&t[e].setValueRange(i,n,r)},n.prototype.isActive=function(){return!this.activator||this.activator.active},n.prototype.setSize=function(){return this.canvas.setSize.apply(this.canvas,arguments)},n.prototype.canvasToDOM=function(){return this.canvas.canvasToDOM.apply(this.canvas,arguments)},n.prototype.DOMtoCanvas=function(){return this.canvas.DOMtoCanvas.apply(this.canvas,arguments)},n.prototype.findNode=function(){return this.clustering.findNode.apply(this.clustering,arguments)},n.prototype.isCluster=function(){return this.clustering.isCluster.apply(this.clustering,arguments)},n.prototype.openCluster=function(){return this.clustering.openCluster.apply(this.clustering,arguments)},n.prototype.cluster=function(){return this.clustering.cluster.apply(this.clustering,arguments)},n.prototype.getNodesInCluster=function(){return this.clustering.getNodesInCluster.apply(this.clustering,arguments)},n.prototype.clusterByConnection=function(){return this.clustering.clusterByConnection.apply(this.clustering,arguments)},n.prototype.clusterByHubsize=function(){return this.clustering.clusterByHubsize.apply(this.clustering,arguments)},n.prototype.clusterOutliers=function(){return this.clustering.clusterOutliers.apply(this.clustering,arguments)},n.prototype.getSeed=function(){return this.layoutEngine.getSeed.apply(this.layoutEngine,arguments)},n.prototype.enableEditMode=function(){return this.manipulation.enableEditMode.apply(this.manipulation,arguments)},n.prototype.disableEditMode=function(){return this.manipulation.disableEditMode.apply(this.manipulation,arguments)},n.prototype.addNodeMode=function(){return this.manipulation.addNodeMode.apply(this.manipulation,arguments)},n.prototype.editNode=function(){return this.manipulation.editNode.apply(this.manipulation,arguments)},n.prototype.editNodeMode=function(){return console.log("Deprecated: Please use editNode instead of editNodeMode."),this.manipulation.editNode.apply(this.manipulation,arguments)},n.prototype.addEdgeMode=function(){return this.manipulation.addEdgeMode.apply(this.manipulation,arguments)},n.prototype.editEdgeMode=function(){return this.manipulation.editEdgeMode.apply(this.manipulation,arguments)},n.prototype.deleteSelected=function(){return this.manipulation.deleteSelected.apply(this.manipulation,arguments)},n.prototype.getPositions=function(){return this.nodesHandler.getPositions.apply(this.nodesHandler,arguments)},n.prototype.storePositions=function(){return this.nodesHandler.storePositions.apply(this.nodesHandler,arguments)},n.prototype.moveNode=function(){return this.nodesHandler.moveNode.apply(this.nodesHandler,arguments)},n.prototype.getBoundingBox=function(){return this.nodesHandler.getBoundingBox.apply(this.nodesHandler,arguments)},n.prototype.getConnectedNodes=function(t){return void 0!==this.body.nodes[t]?this.nodesHandler.getConnectedNodes.apply(this.nodesHandler,arguments):this.edgesHandler.getConnectedNodes.apply(this.edgesHandler,arguments)},n.prototype.getConnectedEdges=function(){return this.nodesHandler.getConnectedEdges.apply(this.nodesHandler,arguments)},n.prototype.startSimulation=function(){return this.physics.startSimulation.apply(this.physics,arguments)},n.prototype.stopSimulation=function(){return this.physics.stopSimulation.apply(this.physics,arguments)},n.prototype.stabilize=function(){return this.physics.stabilize.apply(this.physics,arguments)},n.prototype.getSelection=function(){return this.selectionHandler.getSelection.apply(this.selectionHandler,arguments)},n.prototype.setSelection=function(){return this.selectionHandler.setSelection.apply(this.selectionHandler,arguments)},n.prototype.getSelectedNodes=function(){return this.selectionHandler.getSelectedNodes.apply(this.selectionHandler,arguments)},n.prototype.getSelectedEdges=function(){return this.selectionHandler.getSelectedEdges.apply(this.selectionHandler,arguments)},n.prototype.getNodeAt=function(){var t=this.selectionHandler.getNodeAt.apply(this.selectionHandler,arguments);return void 0!==t&&void 0!==t.id?t.id:t},n.prototype.getEdgeAt=function(){var t=this.selectionHandler.getEdgeAt.apply(this.selectionHandler,arguments);return void 0!==t&&void 0!==t.id?t.id:t},n.prototype.selectNodes=function(){return this.selectionHandler.selectNodes.apply(this.selectionHandler,arguments)},n.prototype.selectEdges=function(){return this.selectionHandler.selectEdges.apply(this.selectionHandler,arguments)},n.prototype.unselectAll=function(){this.selectionHandler.unselectAll.apply(this.selectionHandler,arguments),this.redraw()},n.prototype.redraw=function(){return this.renderer.redraw.apply(this.renderer,arguments)},n.prototype.getScale=function(){return this.view.getScale.apply(this.view,arguments)},n.prototype.getViewPosition=function(){return this.view.getViewPosition.apply(this.view,arguments)},n.prototype.fit=function(){return this.view.fit.apply(this.view,arguments)},n.prototype.moveTo=function(){return this.view.moveTo.apply(this.view,arguments)},n.prototype.focus=function(){return this.view.focus.apply(this.view,arguments)},n.prototype.releaseNode=function(){return this.view.releaseNode.apply(this.view,arguments)},n.prototype.getOptionsFromConfigurator=function(){var t={};return this.configurator&&(t=this.configurator.getOptions.apply(this.configurator)),t},t.exports=n},function(t,e,i){"undefined"!=typeof CanvasRenderingContext2D&&(CanvasRenderingContext2D.prototype.circle=function(t,e,i){this.beginPath(),this.arc(t,e,i,0,2*Math.PI,!1),this.closePath()},CanvasRenderingContext2D.prototype.square=function(t,e,i){this.beginPath(),this.rect(t-i,e-i,2*i,2*i),this.closePath()},CanvasRenderingContext2D.prototype.triangle=function(t,e,i){this.beginPath(),e+=.275*(i*=1.15);var n=2*i,r=n/2,o=Math.sqrt(3)/6*n,s=Math.sqrt(n*n-r*r);this.moveTo(t,e-(s-o)),this.lineTo(t+r,e+o),this.lineTo(t-r,e+o),this.lineTo(t,e-(s-o)),this.closePath()},CanvasRenderingContext2D.prototype.triangleDown=function(t,e,i){this.beginPath(),e-=.275*(i*=1.15);var n=2*i,r=n/2,o=Math.sqrt(3)/6*n,s=Math.sqrt(n*n-r*r);this.moveTo(t,e+(s-o)),this.lineTo(t+r,e-o),this.lineTo(t-r,e-o),this.lineTo(t,e+(s-o)),this.closePath()},CanvasRenderingContext2D.prototype.star=function(t,e,i){this.beginPath(),e+=.1*(i*=.82);for(var n=0;n<10;n++){var r=n%2==0?1.3*i:.5*i;this.lineTo(t+r*Math.sin(2*n*Math.PI/10),e-r*Math.cos(2*n*Math.PI/10))}this.closePath()},CanvasRenderingContext2D.prototype.diamond=function(t,e,i){this.beginPath(),this.lineTo(t,e+i),this.lineTo(t+i,e),this.lineTo(t,e-i),this.lineTo(t-i,e),this.closePath()},CanvasRenderingContext2D.prototype.roundRect=function(t,e,i,n,r){var o=Math.PI/180;i-2*r<0&&(r=i/2),n-2*r<0&&(r=n/2),this.beginPath(),this.moveTo(t+r,e),this.lineTo(t+i-r,e),this.arc(t+i-r,e+r,r,270*o,360*o,!1),this.lineTo(t+i,e+n-r),this.arc(t+i-r,e+n-r,r,0,90*o,!1),this.lineTo(t+r,e+n),this.arc(t+r,e+n-r,r,90*o,180*o,!1),this.lineTo(t,e+r),this.arc(t+r,e+r,r,180*o,270*o,!1),this.closePath()},CanvasRenderingContext2D.prototype.ellipse_vis=function(t,e,i,n){var r=i/2*.5522848,o=n/2*.5522848,s=t+i,a=e+n,h=t+i/2,l=e+n/2;this.beginPath(),this.moveTo(t,l),this.bezierCurveTo(t,l-o,h-r,e,h,e),this.bezierCurveTo(h+r,e,s,l-o,s,l),this.bezierCurveTo(s,l+o,h+r,a,h,a),this.bezierCurveTo(h-r,a,t,l+o,t,l),this.closePath()},CanvasRenderingContext2D.prototype.database=function(t,e,i,n){var r=n*(1/3),o=i/2*.5522848,s=r/2*.5522848,a=t+i,h=e+r,l=t+i/2,d=e+r/2,u=e+(n-r/2),c=e+n;this.beginPath(),this.moveTo(a,d),this.bezierCurveTo(a,d+s,l+o,h,l,h),this.bezierCurveTo(l-o,h,t,d+s,t,d),this.bezierCurveTo(t,d-s,l-o,e,l,e),this.bezierCurveTo(l+o,e,a,d-s,a,d),this.lineTo(a,u),this.bezierCurveTo(a,u+s,l+o,c,l,c),this.bezierCurveTo(l-o,c,t,u+s,t,u),this.lineTo(t,d)},CanvasRenderingContext2D.prototype.dashedLine=function(t,e,i,n,r){this.beginPath(),this.moveTo(t,e);for(var o=r.length,s=i-t,a=n-e,h=a/s,l=Math.sqrt(s*s+a*a),d=0,u=!0,c=0,f=r[0];l>=.1;)(f=r[d++%o])>l&&(f=l),c=Math.sqrt(f*f/(1+h*h)),t+=c=s<0?-c:c,e+=h*c,!0===u?this.lineTo(t,e):this.moveTo(t,e),l-=f,u=!u},CanvasRenderingContext2D.prototype.hexagon=function(t,e,i){this.beginPath();var n=2*Math.PI/6;this.moveTo(t+i,e);for(var r=1;r<6;r++)this.lineTo(t+i*Math.cos(n*r),e+i*Math.sin(n*r));this.closePath()})},function(t,e,i){e.en={edit:"Edit",del:"Delete selected",back:"Back",addNode:"Add Node",addEdge:"Add Edge",editNode:"Edit Node",editEdge:"Edit Edge",addDescription:"Click in an empty space to place a new node.",edgeDescription:"Click on a node and drag the edge to another node to connect them.",editEdgeDescription:"Click on the control points and drag them to a node to connect to it.",createEdgeError:"Cannot link edges to a cluster.",deleteClusterError:"Clusters cannot be deleted.",editClusterError:"Clusters cannot be edited."},e.en_EN=e.en,e.en_US=e.en,e.de={edit:"Editieren",del:"Lösche Auswahl",back:"Zurück",addNode:"Knoten hinzufügen",addEdge:"Kante hinzufügen",editNode:"Knoten editieren",editEdge:"Kante editieren",addDescription:"Klicke auf eine freie Stelle, um einen neuen Knoten zu plazieren.",edgeDescription:"Klicke auf einen Knoten und ziehe die Kante zu einem anderen Knoten, um diese zu verbinden.",editEdgeDescription:"Klicke auf die Verbindungspunkte und ziehe diese auf einen Knoten, um sie zu verbinden.",createEdgeError:"Es ist nicht möglich, Kanten mit Clustern zu verbinden.",deleteClusterError:"Cluster können nicht gelöscht werden.",editClusterError:"Cluster können nicht editiert werden."},e.de_DE=e.de,e.es={edit:"Editar",del:"Eliminar selección",back:"Átras",addNode:"Añadir nodo",addEdge:"Añadir arista",editNode:"Editar nodo",editEdge:"Editar arista",addDescription:"Haga clic en un lugar vacío para colocar un nuevo nodo.",edgeDescription:"Haga clic en un nodo y arrastre la arista hacia otro nodo para conectarlos.",editEdgeDescription:"Haga clic en un punto de control y arrastrelo a un nodo para conectarlo.",createEdgeError:"No se puede conectar una arista a un grupo.",deleteClusterError:"No es posible eliminar grupos.",editClusterError:"No es posible editar grupos."},e.es_ES=e.es,e.it={edit:"Modifica",del:"Cancella la selezione",back:"Indietro",addNode:"Aggiungi un nodo",addEdge:"Aggiungi un vertice",editNode:"Modifica il nodo",editEdge:"Modifica il vertice",addDescription:"Clicca per aggiungere un nuovo nodo",edgeDescription:"Clicca su un nodo e trascinalo ad un altro nodo per connetterli.",editEdgeDescription:"Clicca sui Punti di controllo e trascinali ad un nodo per connetterli.",createEdgeError:"Non si possono collegare vertici ad un cluster",deleteClusterError:"I cluster non possono essere cancellati",editClusterError:"I clusters non possono essere modificati."},e.it_IT=e.it,e.nl={edit:"Wijzigen",del:"Selectie verwijderen",back:"Terug",addNode:"Node toevoegen",addEdge:"Link toevoegen",editNode:"Node wijzigen",editEdge:"Link wijzigen",addDescription:"Klik op een leeg gebied om een nieuwe node te maken.",edgeDescription:"Klik op een node en sleep de link naar een andere node om ze te verbinden.",editEdgeDescription:"Klik op de verbindingspunten en sleep ze naar een node om daarmee te verbinden.",createEdgeError:"Kan geen link maken naar een cluster.",deleteClusterError:"Clusters kunnen niet worden verwijderd.",editClusterError:"Clusters kunnen niet worden aangepast."},e.nl_NL=e.nl,e.nl_BE=e.nl,e["pt-br"]={edit:"Editar",del:"Remover selecionado",back:"Voltar",addNode:"Adicionar nó",addEdge:"Adicionar aresta",editNode:"Editar nó",editEdge:"Editar aresta",addDescription:"Clique em um espaço em branco para adicionar um novo nó",edgeDescription:"Clique em um nó e arraste a aresta até outro nó para conectá-los",editEdgeDescription:"Clique nos pontos de controle e os arraste para um nó para conectá-los",createEdgeError:"Não foi possível linkar arestas a um cluster.",deleteClusterError:"Clusters não puderam ser removidos.",editClusterError:"Clusters não puderam ser editados."},e["pt-BR"]=e["pt-br"],e.pt_BR=e["pt-br"],e.pt_br=e["pt-br"],e.ru={edit:"Редактировать",del:"Удалить выбранное",back:"Назад",addNode:"Добавить узел",addEdge:"Добавить ребро",editNode:"Редактировать узел",editEdge:"Редактировать ребро",addDescription:"Кликните в свободное место, чтобы добавить новый узел.",edgeDescription:"Кликните на узел и протяните ребро к другому узлу, чтобы соединить их.",editEdgeDescription:"Кликните на контрольные точки и перетащите их в узел, чтобы подключиться к нему.",createEdgeError:"Невозможно соединить ребра в кластер.",deleteClusterError:"Кластеры не могут быть удалены",editClusterError:"Кластеры недоступны для редактирования."},e.ru_RU=e.ru,e.cn={edit:"编辑",del:"删除选定",back:"返回",addNode:"添加节点",addEdge:"添加连接线",editNode:"编辑节点",editEdge:"编辑连接线",addDescription:"单击空白处放置新节点。",edgeDescription:"单击某个节点并将该连接线拖动到另一个节点以连接它们。",editEdgeDescription:"单击控制节点并将它们拖到节点上连接。",createEdgeError:"无法将连接线连接到群集。",deleteClusterError:"无法删除群集。",editClusterError:"无法编辑群集。"},e.zh_CN=e.cn},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(0)),o=n(i(1)),s=function(){function t(){(0,r.default)(this,t),this.NUM_ITERATIONS=4,this.image=new Image,this.canvas=document.createElement("canvas")}return(0,o.default)(t,[{key:"init",value:function(){if(!this.initialized()){this.src=this.image.src;var t=this.image.width,e=this.image.height;this.width=t,this.height=e;var i=Math.floor(e/2),n=Math.floor(e/4),r=Math.floor(e/8),o=Math.floor(e/16),s=Math.floor(t/2),a=Math.floor(t/4),h=Math.floor(t/8),l=Math.floor(t/16);this.canvas.width=3*a,this.canvas.height=i,this.coordinates=[[0,0,s,i],[s,0,a,n],[s,n,h,r],[5*h,n,l,o]],this._fillMipMap()}}},{key:"initialized",value:function(){return void 0!==this.coordinates}},{key:"_fillMipMap",value:function(){var t=this.canvas.getContext("2d"),e=this.coordinates[0];t.drawImage(this.image,e[0],e[1],e[2],e[3]);for(var i=1;i<this.NUM_ITERATIONS;i++){var n=this.coordinates[i-1],r=this.coordinates[i];t.drawImage(this.canvas,n[0],n[1],n[2],n[3],r[0],r[1],r[2],r[3])}}},{key:"drawImageAtPosition",value:function(t,e,i,n,r,o){if(this.initialized())if(e>2){e*=.5;for(var s=0;e>2&&s<this.NUM_ITERATIONS;)e*=.5,s+=1;s>=this.NUM_ITERATIONS&&(s=this.NUM_ITERATIONS-1);var a=this.coordinates[s];t.drawImage(this.canvas,a[0],a[1],a[2],a[3],i,n,r,o)}else t.drawImage(this.image,i,n,r,o)}}]),t}();e.default=s},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(0)),o=n(i(1)),s=i(2),a=function(){function t(){(0,r.default)(this,t),this.clear(),this.defaultIndex=0,this.groupsArray=[],this.groupIndex=0,this.defaultGroups=[{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},{border:"#FFA500",background:"#FFFF00",highlight:{border:"#FFA500",background:"#FFFFA3"},hover:{border:"#FFA500",background:"#FFFFA3"}},{border:"#FA0A10",background:"#FB7E81",highlight:{border:"#FA0A10",background:"#FFAFB1"},hover:{border:"#FA0A10",background:"#FFAFB1"}},{border:"#41A906",background:"#7BE141",highlight:{border:"#41A906",background:"#A1EC76"},hover:{border:"#41A906",background:"#A1EC76"}},{border:"#E129F0",background:"#EB7DF4",highlight:{border:"#E129F0",background:"#F0B3F5"},hover:{border:"#E129F0",background:"#F0B3F5"}},{border:"#7C29F0",background:"#AD85E4",highlight:{border:"#7C29F0",background:"#D3BDF0"},hover:{border:"#7C29F0",background:"#D3BDF0"}},{border:"#C37F00",background:"#FFA807",highlight:{border:"#C37F00",background:"#FFCA66"},hover:{border:"#C37F00",background:"#FFCA66"}},{border:"#4220FB",background:"#6E6EFD",highlight:{border:"#4220FB",background:"#9B9BFD"},hover:{border:"#4220FB",background:"#9B9BFD"}},{border:"#FD5A77",background:"#FFC0CB",highlight:{border:"#FD5A77",background:"#FFD1D9"},hover:{border:"#FD5A77",background:"#FFD1D9"}},{border:"#4AD63A",background:"#C2FABC",highlight:{border:"#4AD63A",background:"#E6FFE3"},hover:{border:"#4AD63A",background:"#E6FFE3"}},{border:"#990000",background:"#EE0000",highlight:{border:"#BB0000",background:"#FF3333"},hover:{border:"#BB0000",background:"#FF3333"}},{border:"#FF6000",background:"#FF6000",highlight:{border:"#FF6000",background:"#FF6000"},hover:{border:"#FF6000",background:"#FF6000"}},{border:"#97C2FC",background:"#2B7CE9",highlight:{border:"#D2E5FF",background:"#2B7CE9"},hover:{border:"#D2E5FF",background:"#2B7CE9"}},{border:"#399605",background:"#255C03",highlight:{border:"#399605",background:"#255C03"},hover:{border:"#399605",background:"#255C03"}},{border:"#B70054",background:"#FF007E",highlight:{border:"#B70054",background:"#FF007E"},hover:{border:"#B70054",background:"#FF007E"}},{border:"#AD85E4",background:"#7C29F0",highlight:{border:"#D3BDF0",background:"#7C29F0"},hover:{border:"#D3BDF0",background:"#7C29F0"}},{border:"#4557FA",background:"#000EA1",highlight:{border:"#6E6EFD",background:"#000EA1"},hover:{border:"#6E6EFD",background:"#000EA1"}},{border:"#FFC0CB",background:"#FD5A77",highlight:{border:"#FFD1D9",background:"#FD5A77"},hover:{border:"#FFD1D9",background:"#FD5A77"}},{border:"#C2FABC",background:"#74D66A",highlight:{border:"#E6FFE3",background:"#74D66A"},hover:{border:"#E6FFE3",background:"#74D66A"}},{border:"#EE0000",background:"#990000",highlight:{border:"#FF3333",background:"#BB0000"},hover:{border:"#FF3333",background:"#BB0000"}}],this.options={},this.defaultOptions={useDefaultGroups:!0},s.extend(this.options,this.defaultOptions)}return(0,o.default)(t,[{key:"setOptions",value:function(t){var e=["useDefaultGroups"];if(void 0!==t)for(var i in t)t.hasOwnProperty(i)&&-1===e.indexOf(i)&&this.add(i,t[i])}},{key:"clear",value:function(){this.groups={},this.groupsArray=[]}},{key:"get",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this.groups[t];if(void 0===i&&e)if(!1===this.options.useDefaultGroups&&this.groupsArray.length>0){var n=this.groupIndex%this.groupsArray.length;this.groupIndex++,(i={}).color=this.groups[this.groupsArray[n]],this.groups[t]=i}else{var r=this.defaultIndex%this.defaultGroups.length;this.defaultIndex++,(i={}).color=this.defaultGroups[r],this.groups[t]=i}return i}},{key:"add",value:function(t,e){return this.groups[t]=e,this.groupsArray.push(t),e}}]),t}();e.default=a},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(0)),o=n(i(1)),s=i(2),a=i(11),h=i(12),l=i(47).default,d=function(){function t(e,i,n,o){var a=this;if((0,r.default)(this,t),this.body=e,this.images=i,this.groups=n,this.layoutEngine=o,this.body.functions.createNode=this.create.bind(this),this.nodesListeners={add:function(t,e){a.add(e.items)},update:function(t,e){a.update(e.items,e.data,e.oldData)},remove:function(t,e){a.remove(e.items)}},this.defaultOptions={borderWidth:1,borderWidthSelected:2,brokenImage:void 0,color:{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},fixed:{x:!1,y:!1},font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:0,strokeColor:"#ffffff",align:"center",vadjust:0,multi:!1,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"monospace",vadjust:2}},group:void 0,hidden:!1,icon:{face:"FontAwesome",code:void 0,size:50,color:"#2B7CE9"},image:void 0,label:void 0,labelHighlightBold:!0,level:void 0,margin:{top:5,right:5,bottom:5,left:5},mass:1,physics:!0,scaling:{min:10,max:30,label:{enabled:!1,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(t,e,i,n){return e===t?.5:Math.max(0,1/(e-t)*(n-t))}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},shape:"ellipse",shapeProperties:{borderDashes:!1,borderRadius:6,interpolation:!0,useImageSize:!1,useBorderWithImage:!1},size:25,title:void 0,value:void 0,x:void 0,y:void 0},this.defaultOptions.mass<=0)throw"Internal error: mass in defaultOptions of NodesHandler may not be zero or negative";this.options=s.bridgeObject(this.defaultOptions),this.bindEventListeners()}return(0,o.default)(t,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.on("refreshNodes",this.refresh.bind(this)),this.body.emitter.on("refresh",this.refresh.bind(this)),this.body.emitter.on("destroy",function(){s.forEach(t.nodesListeners,function(e,i){t.body.data.nodes&&t.body.data.nodes.off(i,e)}),delete t.body.functions.createNode,delete t.nodesListeners.add,delete t.nodesListeners.update,delete t.nodesListeners.remove,delete t.nodesListeners})}},{key:"setOptions",value:function(t){if(void 0!==t){if(l.parseOptions(this.options,t),void 0!==t.shape)for(var e in this.body.nodes)this.body.nodes.hasOwnProperty(e)&&this.body.nodes[e].updateShape();if(void 0!==t.font)for(var i in this.body.nodes)this.body.nodes.hasOwnProperty(i)&&(this.body.nodes[i].updateLabelModule(),this.body.nodes[i].needsRefresh());if(void 0!==t.size)for(var n in this.body.nodes)this.body.nodes.hasOwnProperty(n)&&this.body.nodes[n].needsRefresh();void 0===t.hidden&&void 0===t.physics||this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.body.data.nodes;if(t instanceof a||t instanceof h)this.body.data.nodes=t;else if(Array.isArray(t))this.body.data.nodes=new a,this.body.data.nodes.add(t);else{if(t)throw new TypeError("Array or DataSet expected");this.body.data.nodes=new a}if(i&&s.forEach(this.nodesListeners,function(t,e){i.off(e,t)}),this.body.nodes={},this.body.data.nodes){var n=this;s.forEach(this.nodesListeners,function(t,e){n.body.data.nodes.on(e,t)});var r=this.body.data.nodes.getIds();this.add(r,!0)}!1===e&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=void 0,n=[],r=0;r<t.length;r++){var o=this.body.data.nodes.get(i=t[r]),s=this.create(o);n.push(s),this.body.nodes[i]=s}this.layoutEngine.positionInitially(n),!1===e&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function(t,e,i){for(var n=this.body.nodes,r=!1,o=0;o<t.length;o++){var s=t[o],a=n[s],h=e[o];void 0!==a?a.setOptions(h)&&(r=!0):(r=!0,a=this.create(h),n[s]=a)}r||void 0===i||(r=e.some(function(t,e){var n=i[e];return n&&n.level!==t.level})),this.body.emitter.emit(!0===r?"_dataChanged":"_dataUpdated")}},{key:"remove",value:function(t){for(var e=this.body.nodes,i=0;i<t.length;i++)delete e[t[i]];this.body.emitter.emit("_dataChanged")}},{key:"create",value:function(t){return new(arguments.length>1&&void 0!==arguments[1]?arguments[1]:l)(t,this.body,this.images,this.groups,this.options,this.defaultOptions)}},{key:"refresh",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];s.forEach(this.body.nodes,function(i,n){var r=t.body.data.nodes.get(n);void 0!==r&&(!0===e&&i.setOptions({x:null,y:null}),i.setOptions({fixed:!1}),i.setOptions(r))})}},{key:"getPositions",value:function(t){var e={};if(void 0!==t){if(!0===Array.isArray(t)){for(var i=0;i<t.length;i++)if(void 0!==this.body.nodes[t[i]]){var n=this.body.nodes[t[i]];e[t[i]]={x:Math.round(n.x),y:Math.round(n.y)}}}else if(void 0!==this.body.nodes[t]){var r=this.body.nodes[t];e[t]={x:Math.round(r.x),y:Math.round(r.y)}}}else for(var o=0;o<this.body.nodeIndices.length;o++){var s=this.body.nodes[this.body.nodeIndices[o]];e[this.body.nodeIndices[o]]={x:Math.round(s.x),y:Math.round(s.y)}}return e}},{key:"storePositions",value:function(){var t=[],e=this.body.data.nodes.getDataSet();for(var i in e._data)if(e._data.hasOwnProperty(i)){var n=this.body.nodes[i];e._data[i].x==Math.round(n.x)&&e._data[i].y==Math.round(n.y)||t.push({id:n.id,x:Math.round(n.x),y:Math.round(n.y)})}e.update(t)}},{key:"getBoundingBox",value:function(t){if(void 0!==this.body.nodes[t])return this.body.nodes[t].shape.boundingBox}},{key:"getConnectedNodes",value:function(t,e){var i=[];if(void 0!==this.body.nodes[t])for(var n=this.body.nodes[t],r={},o=0;o<n.edges.length;o++){var s=n.edges[o];"to"!==e&&s.toId==n.id?void 0===r[s.fromId]&&(i.push(s.fromId),r[s.fromId]=!0):"from"!==e&&s.fromId==n.id&&void 0===r[s.toId]&&(i.push(s.toId),r[s.toId]=!0)}return i}},{key:"getConnectedEdges",value:function(t){var e=[];if(void 0!==this.body.nodes[t])for(var i=this.body.nodes[t],n=0;n<i.edges.length;n++)e.push(i.edges[n].id);else console.log("NodeId provided for getConnectedEdges does not exist. Provided: ",t);return e}},{key:"moveNode",value:function(t,e,i){var n=this;void 0!==this.body.nodes[t]?(this.body.nodes[t].x=Number(e),this.body.nodes[t].y=Number(i),setTimeout(function(){n.body.emitter.emit("startSimulation")},0)):console.log("Node id supplied to moveNode does not exist. Provided: ",t)}}]),t}();e.default=d},function(t,e,i){t.exports={default:i(189),__esModule:!0}},function(t,e,i){i(49),i(60),t.exports=i(190)},function(t,e,i){var n=i(86),r=i(13)("iterator"),o=i(31);t.exports=i(7).isIterable=function(t){var e=Object(t);return void 0!==e[r]||"@@iterator"in e||o.hasOwnProperty(n(e))}},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(0)),o=n(i(1)),s=i(192).default,a=i(48).default,h=function(){function t(e,i,n,o){var a=this;(0,r.default)(this,t),this.ctx=e,this.parent=i,this.lines=new s(function(t,i){if(void 0===t)return 0;var r=a.parent.getFormattingValues(e,n,o,i),s=0;return""!==t&&(s=a.ctx.measureText(t).width),{width:s,values:r}})}return(0,o.default)(t,[{key:"process",value:function(t){if(!a.isValidLabel(t))return this.lines.finalize();var e=this.parent.fontOptions;t=(t=t.replace(/\r\n/g,"\n")).replace(/\r/g,"\n");var i=String(t).split("\n"),n=i.length;if(e.multi)for(var r=0;r<n;r++){var o=this.splitBlocks(i[r],e.multi);if(void 0!==o)if(0!==o.length){if(e.maxWdt>0)for(var s=0;s<o.length;s++)this.splitStringIntoLines(o[s].text,o[s].mod,!0);else for(var h=0;h<o.length;h++)this.lines.append(o[h].text,o[h].mod);this.lines.newLine()}else this.lines.newLine("")}else if(e.maxWdt>0)for(var l=0;l<n;l++)this.splitStringIntoLines(i[l]);else for(var d=0;d<n;d++)this.lines.newLine(i[d]);return this.lines.finalize()}},{key:"decodeMarkupSystem",value:function(t){var e="none";return"markdown"===t||"md"===t?e="markdown":!0!==t&&"html"!==t||(e="html"),e}},{key:"splitHtmlBlocks",value:function(t){for(var e=[],i={bold:!1,ital:!1,mono:!1,spacing:!1,position:0,buffer:"",modStack:[],mod:function(){return 0===this.modStack.length?"normal":this.modStack[0]},modName:function(){return 0===this.modStack.length?"normal":"mono"===this.modStack[0]?"mono":i.bold&&i.ital?"boldital":i.bold?"bold":i.ital?"ital":void 0},emitBlock:function(){this.spacing&&(this.add(" "),this.spacing=!1),this.buffer.length>0&&(e.push({text:this.buffer,mod:this.modName()}),this.buffer="")},add:function(t){" "===t&&(i.spacing=!0),i.spacing&&(this.buffer+=" ",this.spacing=!1)," "!=t&&(this.buffer+=t)}};i.position<t.length;){var n=t.charAt(i.position);/[ \t]/.test(n)?i.mono?i.add(n):i.spacing=!0:/</.test(n)?i.mono||i.bold||!/<b>/.test(t.substr(i.position,3))?i.mono||i.ital||!/<i>/.test(t.substr(i.position,3))?!i.mono&&/<code>/.test(t.substr(i.position,6))?(i.emitBlock(),i.mono=!0,i.modStack.unshift("mono"),i.position+=5):!i.mono&&"bold"===i.mod()&&/<\/b>/.test(t.substr(i.position,4))?(i.emitBlock(),i.bold=!1,i.modStack.shift(),i.position+=3):!i.mono&&"ital"===i.mod()&&/<\/i>/.test(t.substr(i.position,4))?(i.emitBlock(),i.ital=!1,i.modStack.shift(),i.position+=3):"mono"===i.mod()&&/<\/code>/.test(t.substr(i.position,7))?(i.emitBlock(),i.mono=!1,i.modStack.shift(),i.position+=6):i.add(n):(i.emitBlock(),i.ital=!0,i.modStack.unshift("ital"),i.position+=2):(i.emitBlock(),i.bold=!0,i.modStack.unshift("bold"),i.position+=2):/&/.test(n)?/&lt;/.test(t.substr(i.position,4))?(i.add("<"),i.position+=3):/&amp;/.test(t.substr(i.position,5))?(i.add("&"),i.position+=4):i.add("&"):i.add(n),i.position++}return i.emitBlock(),e}},{key:"splitMarkdownBlocks",value:function(t){for(var e=[],i={bold:!1,ital:!1,mono:!1,beginable:!0,spacing:!1,position:0,buffer:"",modStack:[],mod:function(){return 0===this.modStack.length?"normal":this.modStack[0]},modName:function(){return 0===this.modStack.length?"normal":"mono"===this.modStack[0]?"mono":i.bold&&i.ital?"boldital":i.bold?"bold":i.ital?"ital":void 0},emitBlock:function(){this.spacing&&(this.add(" "),this.spacing=!1),this.buffer.length>0&&(e.push({text:this.buffer,mod:this.modName()}),this.buffer="")},add:function(t){" "===t&&(i.spacing=!0),i.spacing&&(this.buffer+=" ",this.spacing=!1)," "!=t&&(this.buffer+=t)}};i.position<t.length;){var n=t.charAt(i.position);/[ \t]/.test(n)?(i.mono?i.add(n):i.spacing=!0,i.beginable=!0):/\\/.test(n)?i.position<t.length+1&&(i.position++,n=t.charAt(i.position),/ \t/.test(n)?i.spacing=!0:(i.add(n),i.beginable=!1)):i.mono||i.bold||!i.beginable&&!i.spacing||!/\*/.test(n)?i.mono||i.ital||!i.beginable&&!i.spacing||!/\_/.test(n)?!i.mono&&(i.beginable||i.spacing)&&/`/.test(n)?(i.emitBlock(),i.mono=!0,i.modStack.unshift("mono")):!i.mono&&"bold"===i.mod()&&/\*/.test(n)?i.position===t.length-1||/[.,_` \t\n]/.test(t.charAt(i.position+1))?(i.emitBlock(),i.bold=!1,i.modStack.shift()):i.add(n):!i.mono&&"ital"===i.mod()&&/\_/.test(n)?i.position===t.length-1||/[.,*` \t\n]/.test(t.charAt(i.position+1))?(i.emitBlock(),i.ital=!1,i.modStack.shift()):i.add(n):i.mono&&"mono"===i.mod()&&/`/.test(n)?i.position===t.length-1||/[.,*_ \t\n]/.test(t.charAt(i.position+1))?(i.emitBlock(),i.mono=!1,i.modStack.shift()):i.add(n):(i.add(n),i.beginable=!1):(i.emitBlock(),i.ital=!0,i.modStack.unshift("ital")):(i.emitBlock(),i.bold=!0,i.modStack.unshift("bold")),i.position++}return i.emitBlock(),e}},{key:"splitBlocks",value:function(t,e){var i=this.decodeMarkupSystem(e);return"none"===i?[{text:t,mod:"normal"}]:"markdown"===i?this.splitMarkdownBlocks(t):"html"===i?this.splitHtmlBlocks(t):void 0}},{key:"overMaxWidth",value:function(t){var e=this.ctx.measureText(t).width;return this.lines.curWidth()+e>this.parent.fontOptions.maxWdt}},{key:"getLongestFit",value:function(t){for(var e="",i=0;i<t.length;){var n=e+(""===e?"":" ")+t[i];if(this.overMaxWidth(n))break;e=n,i++}return i}},{key:"getLongestFitWord",value:function(t){for(var e=0;e<t.length&&!this.overMaxWidth(t.slice(0,e));)e++;return e}},{key:"splitStringIntoLines",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal",i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=(t=(t=t.replace(/^( +)/g,"$1\r")).replace(/([^\r][^ ]*)( +)/g,"$1\r$2\r")).split("\r");n.length>0;){var r=this.getLongestFit(n);if(0===r){var o=n[0],s=this.getLongestFitWord(o);this.lines.newLine(o.slice(0,s),e),n[0]=o.slice(s)}else{var a=r;" "===n[r-1]?r--:" "===n[a]&&a++;var h=n.slice(0,r).join("");r==n.length&&i?this.lines.append(h,e):this.lines.newLine(h,e),n=n.slice(a)}}}}]),t}();e.default=h},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(90)),o=n(i(0)),s=n(i(1)),a=function(){function t(e){(0,o.default)(this,t),this.measureText=e,this.current=0,this.width=0,this.height=0,this.lines=[]}return(0,s.default)(t,[{key:"_add",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"normal";void 0===this.lines[t]&&(this.lines[t]={width:0,height:0,blocks:[]});var n=e;void 0!==e&&""!==e||(n=" ");var o=this.measureText(n,i),s=(0,r.default)({},o.values);s.text=e,s.width=o.width,s.mod=i,void 0!==e&&""!==e||(s.width=0),this.lines[t].blocks.push(s),this.lines[t].width+=s.width}},{key:"curWidth",value:function(){var t=this.lines[this.current];return void 0===t?0:t.width}},{key:"append",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal";this._add(this.current,t,e)}},{key:"newLine",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal";this._add(this.current,t,e),this.current++}},{key:"determineLineHeights",value:function(){for(var t=0;t<this.lines.length;t++){var e=this.lines[t],i=0;if(void 0!==e.blocks)for(var n=0;n<e.blocks.length;n++){var r=e.blocks[n];i<r.height&&(i=r.height)}e.height=i}}},{key:"determineLabelSize",value:function(){for(var t=0,e=0,i=0;i<this.lines.length;i++){var n=this.lines[i];n.width>t&&(t=n.width),e+=n.height}this.width=t,this.height=e}},{key:"removeEmptyBlocks",value:function(){for(var t=[],e=0;e<this.lines.length;e++){var i=this.lines[e];if(0!==i.blocks.length&&(e!==this.lines.length-1||0!==i.width)){var n={};(0,r.default)(n,i),n.blocks=[];for(var o=void 0,s=[],a=0;a<i.blocks.length;a++){var h=i.blocks[a];0!==h.width?s.push(h):void 0===o&&(o=h)}0===s.length&&void 0!==o&&s.push(o),n.blocks=s,t.push(n)}}return t}},{key:"finalize",value:function(){this.determineLineHeights(),this.determineLabelSize();var t=this.removeEmptyBlocks();return{width:this.width,height:this.height,lines:t}}}]),t}();e.default=a},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(3)),o=n(i(0)),s=n(i(1)),a=n(i(4)),h=n(i(5)),l=n(i(23)),d=function(t){function e(t,i,n){(0,o.default)(this,e);var s=(0,a.default)(this,(e.__proto__||(0,r.default)(e)).call(this,t,i,n));return s._setMargins(n),s}return(0,h.default)(e,l.default),(0,s.default)(e,[{key:"resize",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(this.needsRefresh(e,i)){var n=this.getDimensionsFromLabel(t,e,i);this.width=n.width+this.margin.right+this.margin.left,this.height=n.height+this.margin.top+this.margin.bottom,this.radius=this.width/2}}},{key:"draw",value:function(t,e,i,n,r,o){this.resize(t,n,r),this.left=e-this.width/2,this.top=i-this.height/2,this.initContextForDraw(t,o),t.roundRect(this.left,this.top,this.width,this.height,o.borderRadius),this.performFill(t,o),this.updateBoundingBox(e,i,t,n,r),this.labelModule.draw(t,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,n,r)}},{key:"updateBoundingBox",value:function(t,e,i,n,r){this._updateBoundingBox(t,e,i,n,r),this._addBoundingBoxMargin(this.options.shapeProperties.borderRadius)}},{key:"distanceToBorder",value:function(t,e){this.resize(t);var i=this.options.borderWidth;return Math.min(Math.abs(this.width/2/Math.cos(e)),Math.abs(this.height/2/Math.sin(e)))+i}}]),e}();e.default=d},function(t,e,i){i(195),t.exports=i(7).Object.getPrototypeOf},function(t,e,i){var n=i(41),r=i(85);i(87)("getPrototypeOf",function(){return function(t){return r(n(t))}})},function(t,e,i){t.exports={default:i(197),__esModule:!0}},function(t,e,i){i(198),t.exports=i(7).Object.setPrototypeOf},function(t,e,i){var n=i(17);n(n.S,"Object",{setPrototypeOf:i(199).set})},function(t,e,i){var n=i(32),r=i(27),o=function(t,e){if(r(t),!n(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,n){try{(n=i(80)(Function.call,i(89).f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,i){return o(t,i),e?t.__proto__=i:n(t,i),t}}({},!1):void 0),check:o}},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(3)),o=n(i(0)),s=n(i(1)),a=n(i(4)),h=n(i(5)),l=n(i(73)),d=function(t){function e(t,i,n){(0,o.default)(this,e);var s=(0,a.default)(this,(e.__proto__||(0,r.default)(e)).call(this,t,i,n));return s._setMargins(n),s}return(0,h.default)(e,l.default),(0,s.default)(e,[{key:"resize",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(this.needsRefresh(e,i)){var n=this.getDimensionsFromLabel(t,e,i),r=Math.max(n.width+this.margin.right+this.margin.left,n.height+this.margin.top+this.margin.bottom);this.options.size=r/2,this.width=r,this.height=r,this.radius=this.width/2}}},{key:"draw",value:function(t,e,i,n,r,o){this.resize(t,n,r),this.left=e-this.width/2,this.top=i-this.height/2,this._drawRawCircle(t,e,i,o),this.updateBoundingBox(e,i),this.labelModule.draw(t,this.left+this.textSize.width/2+this.margin.left,i,n,r)}},{key:"updateBoundingBox",value:function(t,e){this.boundingBox.top=e-this.options.size,this.boundingBox.left=t-this.options.size,this.boundingBox.right=t+this.options.size,this.boundingBox.bottom=e+this.options.size}},{key:"distanceToBorder",value:function(t,e){return this.resize(t),.5*this.width}}]),e}();e.default=d},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(3)),o=n(i(0)),s=n(i(1)),a=n(i(4)),h=n(i(5)),l=n(i(73)),d=function(t){function e(t,i,n,s,h){(0,o.default)(this,e);var l=(0,a.default)(this,(e.__proto__||(0,r.default)(e)).call(this,t,i,n));return l.setImages(s,h),l}return(0,h.default)(e,l.default),(0,s.default)(e,[{key:"resize",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(void 0===this.imageObj.src||void 0===this.imageObj.width||void 0===this.imageObj.height){var n=2*this.options.size;return this.width=n,this.height=n,void(this.radius=.5*this.width)}this.needsRefresh(e,i)&&this._resizeImage()}},{key:"draw",value:function(t,e,i,n,r,o){this.switchImages(n),this.resize(),this.left=e-this.width/2,this.top=i-this.height/2,this._drawRawCircle(t,e,i,o),t.save(),t.clip(),this._drawImageAtPosition(t,o),t.restore(),this._drawImageLabel(t,e,i,n,r),this.updateBoundingBox(e,i)}},{key:"updateBoundingBox",value:function(t,e){this.boundingBox.top=e-this.options.size,this.boundingBox.left=t-this.options.size,this.boundingBox.right=t+this.options.size,this.boundingBox.bottom=e+this.options.size,this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset)}},{key:"distanceToBorder",value:function(t,e){return this.resize(t),.5*this.width}}]),e}();e.default=d},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(3)),o=n(i(0)),s=n(i(1)),a=n(i(4)),h=n(i(5)),l=n(i(23)),d=function(t){function e(t,i,n){(0,o.default)(this,e);var s=(0,a.default)(this,(e.__proto__||(0,r.default)(e)).call(this,t,i,n));return s._setMargins(n),s}return(0,h.default)(e,l.default),(0,s.default)(e,[{key:"resize",value:function(t,e,i){if(this.needsRefresh(e,i)){var n=this.getDimensionsFromLabel(t,e,i).width+this.margin.right+this.margin.left;this.width=n,this.height=n,this.radius=this.width/2}}},{key:"draw",value:function(t,e,i,n,r,o){this.resize(t,n,r),this.left=e-this.width/2,this.top=i-this.height/2,this.initContextForDraw(t,o),t.database(e-this.width/2,i-this.height/2,this.width,this.height),this.performFill(t,o),this.updateBoundingBox(e,i,t,n,r),this.labelModule.draw(t,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,n,r)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}();e.default=d},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(3)),o=n(i(0)),s=n(i(1)),a=n(i(4)),h=n(i(5)),l=n(i(24)),d=function(t){function e(t,i,n){return(0,o.default)(this,e),(0,a.default)(this,(e.__proto__||(0,r.default)(e)).call(this,t,i,n))}return(0,h.default)(e,l.default),(0,s.default)(e,[{key:"draw",value:function(t,e,i,n,r,o){this._drawShape(t,"diamond",4,e,i,n,r,o)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}();e.default=d},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(3)),o=n(i(0)),s=n(i(1)),a=n(i(4)),h=n(i(5)),l=n(i(24)),d=function(t){function e(t,i,n){return(0,o.default)(this,e),(0,a.default)(this,(e.__proto__||(0,r.default)(e)).call(this,t,i,n))}return(0,h.default)(e,l.default),(0,s.default)(e,[{key:"draw",value:function(t,e,i,n,r,o){this._drawShape(t,"circle",2,e,i,n,r,o)}},{key:"distanceToBorder",value:function(t,e){return this.resize(t),this.options.size}}]),e}();e.default=d},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(3)),o=n(i(0)),s=n(i(1)),a=n(i(4)),h=n(i(5)),l=n(i(23)),d=function(t){function e(t,i,n){return(0,o.default)(this,e),(0,a.default)(this,(e.__proto__||(0,r.default)(e)).call(this,t,i,n))}return(0,h.default)(e,l.default),(0,s.default)(e,[{key:"resize",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(this.needsRefresh(e,i)){var n=this.getDimensionsFromLabel(t,e,i);this.height=2*n.height,this.width=n.width+n.height,this.radius=.5*this.width}}},{key:"draw",value:function(t,e,i,n,r,o){this.resize(t,n,r),this.left=e-.5*this.width,this.top=i-.5*this.height,this.initContextForDraw(t,o),t.ellipse_vis(this.left,this.top,this.width,this.height),this.performFill(t,o),this.updateBoundingBox(e,i,t,n,r),this.labelModule.draw(t,e,i,n,r)}},{key:"distanceToBorder",value:function(t,e){this.resize(t);var i=.5*this.width,n=.5*this.height,r=Math.sin(e)*i,o=Math.cos(e)*n;return i*n/Math.sqrt(r*r+o*o)}}]),e}();e.default=d},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(3)),o=n(i(0)),s=n(i(1)),a=n(i(4)),h=n(i(5)),l=n(i(23)),d=function(t){function e(t,i,n){(0,o.default)(this,e);var s=(0,a.default)(this,(e.__proto__||(0,r.default)(e)).call(this,t,i,n));return s._setMargins(n),s}return(0,h.default)(e,l.default),(0,s.default)(e,[{key:"resize",value:function(t,e,i){this.needsRefresh(e,i)&&(this.iconSize={width:Number(this.options.icon.size),height:Number(this.options.icon.size)},this.width=this.iconSize.width+this.margin.right+this.margin.left,this.height=this.iconSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}},{key:"draw",value:function(t,e,i,n,r,o){this.resize(t,n,r),this.options.icon.size=this.options.icon.size||50,this.left=e-this.width/2,this.top=i-this.height/2,this._icon(t,e,i,n,r,o),void 0!==this.options.label&&this.labelModule.draw(t,this.left+this.iconSize.width/2+this.margin.left,i+this.height/2+5,n),this.updateBoundingBox(e,i)}},{key:"updateBoundingBox",value:function(t,e){this.boundingBox.top=e-.5*this.options.icon.size,this.boundingBox.left=t-.5*this.options.icon.size,this.boundingBox.right=t+.5*this.options.icon.size,this.boundingBox.bottom=e+.5*this.options.icon.size,void 0!==this.options.label&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height+5))}},{key:"_icon",value:function(t,e,i,n,r,o){var s=Number(this.options.icon.size);void 0!==this.options.icon.code?(t.font=(n?"bold ":"")+s+"px "+this.options.icon.face,t.fillStyle=this.options.icon.color||"black",t.textAlign="center",t.textBaseline="middle",this.enableShadow(t,o),t.fillText(this.options.icon.code,e,i),this.disableShadow(t,o)):console.error("When using the icon shape, you need to define the code in the icon options object. This can be done per node or globally.")}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}();e.default=d},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(3)),o=n(i(0)),s=n(i(1)),a=n(i(4)),h=n(i(5)),l=n(i(73)),d=function(t){function e(t,i,n,s,h){(0,o.default)(this,e);var l=(0,a.default)(this,(e.__proto__||(0,r.default)(e)).call(this,t,i,n));return l.setImages(s,h),l}return(0,h.default)(e,l.default),(0,s.default)(e,[{key:"resize",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(void 0===this.imageObj.src||void 0===this.imageObj.width||void 0===this.imageObj.height){var n=2*this.options.size;return this.width=n,void(this.height=n)}this.needsRefresh(e,i)&&this._resizeImage()}},{key:"draw",value:function(t,e,i,n,r,o){this.switchImages(n),this.resize(),this.left=e-this.width/2,this.top=i-this.height/2,!0===this.options.shapeProperties.useBorderWithImage&&(t.lineWidth=Math.min(this.width,(n?this.options.borderWidthSelected||2*this.options.borderWidth:this.options.borderWidth)/this.body.view.scale),t.beginPath(),t.strokeStyle=n?this.options.color.highlight.border:r?this.options.color.hover.border:this.options.color.border,t.fillStyle=n?this.options.color.highlight.background:r?this.options.color.hover.background:this.options.color.background,t.rect(this.left-.5*t.lineWidth,this.top-.5*t.lineWidth,this.width+t.lineWidth,this.height+t.lineWidth),t.fill(),this.performStroke(t,o),t.closePath()),this._drawImageAtPosition(t,o),this._drawImageLabel(t,e,i,n,r),this.updateBoundingBox(e,i)}},{key:"updateBoundingBox",value:function(t,e){this.resize(),this._updateBoundingBox(t,e),void 0!==this.options.label&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset))}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}();e.default=d},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(3)),o=n(i(0)),s=n(i(1)),a=n(i(4)),h=n(i(5)),l=n(i(24)),d=function(t){function e(t,i,n){return(0,o.default)(this,e),(0,a.default)(this,(e.__proto__||(0,r.default)(e)).call(this,t,i,n))}return(0,h.default)(e,l.default),(0,s.default)(e,[{key:"draw",value:function(t,e,i,n,r,o){this._drawShape(t,"square",2,e,i,n,r,o)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}();e.default=d},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(3)),o=n(i(0)),s=n(i(1)),a=n(i(4)),h=n(i(5)),l=n(i(24)),d=function(t){function e(t,i,n){return(0,o.default)(this,e),(0,a.default)(this,(e.__proto__||(0,r.default)(e)).call(this,t,i,n))}return(0,h.default)(e,l.default),(0,s.default)(e,[{key:"draw",value:function(t,e,i,n,r,o){this._drawShape(t,"hexagon",4,e,i,n,r,o)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}();e.default=d},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(3)),o=n(i(0)),s=n(i(1)),a=n(i(4)),h=n(i(5)),l=n(i(24)),d=function(t){function e(t,i,n){return(0,o.default)(this,e),(0,a.default)(this,(e.__proto__||(0,r.default)(e)).call(this,t,i,n))}return(0,h.default)(e,l.default),(0,s.default)(e,[{key:"draw",value:function(t,e,i,n,r,o){this._drawShape(t,"star",4,e,i,n,r,o)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}();e.default=d},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(3)),o=n(i(0)),s=n(i(1)),a=n(i(4)),h=n(i(5)),l=n(i(23)),d=function(t){function e(t,i,n){(0,o.default)(this,e);var s=(0,a.default)(this,(e.__proto__||(0,r.default)(e)).call(this,t,i,n));return s._setMargins(n),s}return(0,h.default)(e,l.default),(0,s.default)(e,[{key:"resize",value:function(t,e,i){this.needsRefresh(e,i)&&(this.textSize=this.labelModule.getTextSize(t,e,i),this.width=this.textSize.width+this.margin.right+this.margin.left,this.height=this.textSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}},{key:"draw",value:function(t,e,i,n,r,o){this.resize(t,n,r),this.left=e-this.width/2,this.top=i-this.height/2,this.enableShadow(t,o),this.labelModule.draw(t,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,n,r),this.disableShadow(t,o),this.updateBoundingBox(e,i,t,n,r)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}();e.default=d},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(3)),o=n(i(0)),s=n(i(1)),a=n(i(4)),h=n(i(5)),l=n(i(24)),d=function(t){function e(t,i,n){return(0,o.default)(this,e),(0,a.default)(this,(e.__proto__||(0,r.default)(e)).call(this,t,i,n))}return(0,h.default)(e,l.default),(0,s.default)(e,[{key:"draw",value:function(t,e,i,n,r,o){this._drawShape(t,"triangle",3,e,i,n,r,o)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}();e.default=d},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(3)),o=n(i(0)),s=n(i(1)),a=n(i(4)),h=n(i(5)),l=n(i(24)),d=function(t){function e(t,i,n){return(0,o.default)(this,e),(0,a.default)(this,(e.__proto__||(0,r.default)(e)).call(this,t,i,n))}return(0,h.default)(e,l.default),(0,s.default)(e,[{key:"draw",value:function(t,e,i,n,r,o){this._drawShape(t,"triangleDown",3,e,i,n,r,o)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}();e.default=d},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(0)),o=n(i(1)),s=i(2),a=i(11),h=i(12),l=i(74).default,d=function(){function t(e,i,n){var o=this;(0,r.default)(this,t),this.body=e,this.images=i,this.groups=n,this.body.functions.createEdge=this.create.bind(this),this.edgesListeners={add:function(t,e){o.add(e.items)},update:function(t,e){o.update(e.items)},remove:function(t,e){o.remove(e.items)}},this.options={},this.defaultOptions={arrows:{to:{enabled:!1,scaleFactor:1,type:"arrow"},middle:{enabled:!1,scaleFactor:1,type:"arrow"},from:{enabled:!1,scaleFactor:1,type:"arrow"}},arrowStrikethrough:!0,color:{color:"#848484",highlight:"#848484",hover:"#848484",inherit:"from",opacity:1},dashes:!1,font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:2,strokeColor:"#ffffff",align:"horizontal",multi:!1,vadjust:0,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"courier new",vadjust:2}},hidden:!1,hoverWidth:1.5,label:void 0,labelHighlightBold:!0,length:void 0,physics:!0,scaling:{min:1,max:15,label:{enabled:!0,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(t,e,i,n){return e===t?.5:Math.max(0,1/(e-t)*(n-t))}},selectionWidth:1.5,selfReferenceSize:20,shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},smooth:{enabled:!0,type:"dynamic",forceDirection:"none",roundness:.5},title:void 0,width:1,value:void 0},s.deepExtend(this.options,this.defaultOptions),this.bindEventListeners()}return(0,o.default)(t,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.on("_forceDisableDynamicCurves",function(e){var i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];"dynamic"===e&&(e="continuous");var n=!1;for(var r in t.body.edges)if(t.body.edges.hasOwnProperty(r)){var o=t.body.edges[r],s=t.body.data.edges._data[r];if(void 0!==s){var a=s.smooth;void 0!==a&&!0===a.enabled&&"dynamic"===a.type&&(o.setOptions(void 0===e?{smooth:!1}:{smooth:{type:e}}),n=!0)}}!0===i&&!0===n&&t.body.emitter.emit("_dataChanged")}),this.body.emitter.on("_dataUpdated",function(){t.reconnectEdges()}),this.body.emitter.on("refreshEdges",this.refresh.bind(this)),this.body.emitter.on("refresh",this.refresh.bind(this)),this.body.emitter.on("destroy",function(){s.forEach(t.edgesListeners,function(e,i){t.body.data.edges&&t.body.data.edges.off(i,e)}),delete t.body.functions.createEdge,delete t.edgesListeners.add,delete t.edgesListeners.update,delete t.edgesListeners.remove,delete t.edgesListeners})}},{key:"setOptions",value:function(t){if(void 0!==t){l.parseOptions(this.options,t,!0,this.defaultOptions,!0);var e=!1;if(void 0!==t.smooth)for(var i in this.body.edges)this.body.edges.hasOwnProperty(i)&&(e=this.body.edges[i].updateEdgeType()||e);if(void 0!==t.font)for(var n in this.body.edges)this.body.edges.hasOwnProperty(n)&&this.body.edges[n].updateLabelModule();void 0===t.hidden&&void 0===t.physics&&!0!==e||this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.body.data.edges;if(t instanceof a||t instanceof h)this.body.data.edges=t;else if(Array.isArray(t))this.body.data.edges=new a,this.body.data.edges.add(t);else{if(t)throw new TypeError("Array or DataSet expected");this.body.data.edges=new a}if(n&&s.forEach(this.edgesListeners,function(t,e){n.off(e,t)}),this.body.edges={},this.body.data.edges){s.forEach(this.edgesListeners,function(t,i){e.body.data.edges.on(i,t)});var r=this.body.data.edges.getIds();this.add(r,!0)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),!1===i&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.body.edges,n=this.body.data.edges,r=0;r<t.length;r++){var o=t[r],s=i[o];s&&s.disconnect();var a=n.get(o,{showInternalIds:!0});i[o]=this.create(a)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),!1===e&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function(t){for(var e=this.body.edges,i=this.body.data.edges,n=!1,r=0;r<t.length;r++){var o=t[r],s=i.get(o),a=e[o];void 0!==a?(a.disconnect(),n=a.setOptions(s)||n,a.connect()):(this.body.edges[o]=this.create(s),n=!0)}!0===n?(this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),this.body.emitter.emit("_dataChanged")):this.body.emitter.emit("_dataUpdated")}},{key:"remove",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(0!==t.length){var i=this.body.edges;s.forEach(t,function(t){var e=i[t];void 0!==e&&e.remove()}),e&&this.body.emitter.emit("_dataChanged")}}},{key:"refresh",value:function(){var t=this;s.forEach(this.body.edges,function(e,i){var n=t.body.data.edges._data[i];void 0!==n&&e.setOptions(n)})}},{key:"create",value:function(t){return new l(t,this.body,this.options,this.defaultOptions)}},{key:"reconnectEdges",value:function(){var t,e=this.body.nodes,i=this.body.edges;for(t in e)e.hasOwnProperty(t)&&(e[t].edges=[]);for(t in i)if(i.hasOwnProperty(t)){var n=i[t];n.from=null,n.to=null,n.connect()}}},{key:"getConnectedNodes",value:function(t){var e=[];if(void 0!==this.body.edges[t]){var i=this.body.edges[t];void 0!==i.fromId&&e.push(i.fromId),void 0!==i.toId&&e.push(i.toId)}return e}},{key:"_updateState",value:function(){this._addMissingEdges(),this._removeInvalidEdges()}},{key:"_removeInvalidEdges",value:function(){var t=this,e=[];s.forEach(this.body.edges,function(i,n){var r=t.body.nodes[i.toId],o=t.body.nodes[i.fromId];void 0!==r&&!0===r.isCluster||void 0!==o&&!0===o.isCluster||void 0!==r&&void 0!==o||e.push(n)}),this.remove(e,!1)}},{key:"_addMissingEdges",value:function(){var t=this.body.edges,e=[];this.body.data.edges.forEach(function(i,n){void 0===t[n]&&e.push(n)}),this.add(e,!0)}}]),t}();e.default=d},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(30)),o=n(i(3)),s=n(i(0)),a=n(i(1)),h=n(i(4)),l=n(i(5)),d=n(i(216)),u=function(t){function e(t,i,n){return(0,s.default)(this,e),(0,h.default)(this,(e.__proto__||(0,o.default)(e)).call(this,t,i,n))}return(0,l.default)(e,d.default),(0,a.default)(e,[{key:"_line",value:function(t,e,i){this._bezierCurve(t,e,i[0],i[1])}},{key:"_getViaCoordinates",value:function(){var t=this.from.x-this.to.x,e=this.from.y-this.to.y,i=void 0,n=void 0,r=void 0,o=void 0,s=this.options.smooth.roundness;return(Math.abs(t)>Math.abs(e)||!0===this.options.smooth.forceDirection||"horizontal"===this.options.smooth.forceDirection)&&"vertical"!==this.options.smooth.forceDirection?(n=this.from.y,o=this.to.y,i=this.from.x-s*t,r=this.to.x+s*t):(n=this.from.y-s*e,o=this.to.y+s*e,i=this.from.x,r=this.to.x),[{x:i,y:n},{x:r,y:o}]}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}},{key:"_findBorderPosition",value:function(t,e){return this._findBorderPositionBezier(t,e)}},{key:"_getDistanceToEdge",value:function(t,e,i,n,o,s){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:this._getViaCoordinates(),h=(0,r.default)(a,2),l=h[0],d=h[1];return this._getDistanceToBezierEdge(t,e,i,n,o,s,l,d)}},{key:"getPoint",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._getViaCoordinates(),i=(0,r.default)(e,2),n=i[0],o=i[1],s=t,a=[];return a[0]=Math.pow(1-s,3),a[1]=3*s*Math.pow(1-s,2),a[2]=3*Math.pow(s,2)*(1-s),a[3]=Math.pow(s,3),{x:a[0]*this.fromPoint.x+a[1]*n.x+a[2]*o.x+a[3]*this.toPoint.x,y:a[0]*this.fromPoint.y+a[1]*n.y+a[2]*o.y+a[3]*this.toPoint.y}}}]),e}();e.default=u},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(3)),o=n(i(0)),s=n(i(1)),a=n(i(4)),h=n(i(5)),l=n(i(75)),d=function(t){function e(t,i,n){return(0,o.default)(this,e),(0,a.default)(this,(e.__proto__||(0,r.default)(e)).call(this,t,i,n))}return(0,h.default)(e,l.default),(0,s.default)(e,[{key:"_getDistanceToBezierEdge",value:function(t,e,i,n,r,o,s,a){var h=1e9,l=void 0,d=void 0,u=void 0,c=void 0,f=void 0,p=t,g=e,m=[0,0,0,0];for(d=1;d<10;d++)u=.1*d,m[0]=Math.pow(1-u,3),m[1]=3*u*Math.pow(1-u,2),m[2]=3*Math.pow(u,2)*(1-u),m[3]=Math.pow(u,3),c=m[0]*t+m[1]*s.x+m[2]*a.x+m[3]*i,f=m[0]*e+m[1]*s.y+m[2]*a.y+m[3]*n,d>0&&(h=(l=this._getDistanceToLine(p,g,c,f,r,o))<h?l:h),p=c,g=f;return h}}]),e}();e.default=d},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(30)),o=n(i(3)),s=n(i(0)),a=n(i(1)),h=n(i(4)),l=n(i(5)),d=n(i(75)),u=function(t){function e(t,i,n){(0,s.default)(this,e);var r=(0,h.default)(this,(e.__proto__||(0,o.default)(e)).call(this,t,i,n));return r._boundFunction=function(){r.positionBezierNode()},r.body.emitter.on("_repositionBezierNodes",r._boundFunction),r}return(0,l.default)(e,d.default),(0,a.default)(e,[{key:"setOptions",value:function(t){var e=!1;this.options.physics!==t.physics&&(e=!0),this.options=t,this.id=this.options.id,this.from=this.body.nodes[this.options.from],this.to=this.body.nodes[this.options.to],this.setupSupportNode(),this.connect(),!0===e&&(this.via.setOptions({physics:this.options.physics}),this.positionBezierNode())}},{key:"connect",value:function(){this.from=this.body.nodes[this.options.from],this.to=this.body.nodes[this.options.to],this.via.setOptions(void 0===this.from||void 0===this.to||!1===this.options.physics?{physics:!1}:this.from.id===this.to.id?{physics:!1}:{physics:!0})}},{key:"cleanup",value:function(){return this.body.emitter.off("_repositionBezierNodes",this._boundFunction),void 0!==this.via&&(delete this.body.nodes[this.via.id],this.via=void 0,!0)}},{key:"setupSupportNode",value:function(){if(void 0===this.via){var t="edgeId:"+this.id,e=this.body.functions.createNode({id:t,shape:"circle",physics:!0,hidden:!0});this.body.nodes[t]=e,this.via=e,this.via.parentEdgeId=this.id,this.positionBezierNode()}}},{key:"positionBezierNode",value:function(){void 0!==this.via&&void 0!==this.from&&void 0!==this.to?(this.via.x=.5*(this.from.x+this.to.x),this.via.y=.5*(this.from.y+this.to.y)):void 0!==this.via&&(this.via.x=0,this.via.y=0)}},{key:"_line",value:function(t,e,i){this._bezierCurve(t,e,i)}},{key:"getViaNode",value:function(){return this.via}},{key:"getPoint",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.via,i=t,n=void 0,o=void 0;if(this.from===this.to){var s=this._getCircleData(this.from),a=(0,r.default)(s,3),h=a[0],l=a[1],d=a[2],u=2*Math.PI*(1-i);n=h+d*Math.sin(u),o=l+d-d*(1-Math.cos(u))}else n=Math.pow(1-i,2)*this.fromPoint.x+2*i*(1-i)*e.x+Math.pow(i,2)*this.toPoint.x,o=Math.pow(1-i,2)*this.fromPoint.y+2*i*(1-i)*e.y+Math.pow(i,2)*this.toPoint.y;return{x:n,y:o}}},{key:"_findBorderPosition",value:function(t,e){return this._findBorderPositionBezier(t,e,this.via)}},{key:"_getDistanceToEdge",value:function(t,e,i,n,r,o){return this._getDistanceToBezierEdge(t,e,i,n,r,o,this.via)}}]),e}();e.default=u},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(3)),o=n(i(0)),s=n(i(1)),a=n(i(4)),h=n(i(5)),l=n(i(75)),d=function(t){function e(t,i,n){return(0,o.default)(this,e),(0,a.default)(this,(e.__proto__||(0,r.default)(e)).call(this,t,i,n))}return(0,h.default)(e,l.default),(0,s.default)(e,[{key:"_line",value:function(t,e,i){this._bezierCurve(t,e,i)}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}},{key:"_getViaCoordinates",value:function(){var t=void 0,e=void 0,i=this.options.smooth.roundness,n=this.options.smooth.type,r=Math.abs(this.from.x-this.to.x),o=Math.abs(this.from.y-this.to.y);if("discrete"===n||"diagonalCross"===n){var s=void 0,a=void 0;s=a=r<=o?i*o:i*r,this.from.x>this.to.x&&(s=-s),this.from.y>=this.to.y&&(a=-a),t=this.from.x+s,e=this.from.y+a,"discrete"===n&&(r<=o?t=r<i*o?this.from.x:t:e=o<i*r?this.from.y:e)}else if("straightCross"===n){var h=(1-i)*r,l=(1-i)*o;r<=o?(h=0,this.from.y<this.to.y&&(l=-l)):(this.from.x<this.to.x&&(h=-h),l=0),t=this.to.x+h,e=this.to.y+l}else if("horizontal"===n){var d=(1-i)*r;this.from.x<this.to.x&&(d=-d),t=this.to.x+d,e=this.from.y}else if("vertical"===n){var u=(1-i)*o;this.from.y<this.to.y&&(u=-u),t=this.from.x,e=this.to.y+u}else if("curvedCW"===n){r=this.to.x-this.from.x,o=this.from.y-this.to.y;var c=Math.sqrt(r*r+o*o),f=Math.PI,p=(Math.atan2(o,r)+(.5*i+.5)*f)%(2*f);t=this.from.x+(.5*i+.5)*c*Math.sin(p),e=this.from.y+(.5*i+.5)*c*Math.cos(p)}else if("curvedCCW"===n){r=this.to.x-this.from.x,o=this.from.y-this.to.y;var g=Math.sqrt(r*r+o*o),m=Math.PI,v=(Math.atan2(o,r)+(.5*-i+.5)*m)%(2*m);t=this.from.x+(.5*i+.5)*g*Math.sin(v),e=this.from.y+(.5*i+.5)*g*Math.cos(v)}else{var y=void 0,b=void 0;y=b=r<=o?i*o:i*r,this.from.x>this.to.x&&(y=-y),this.from.y>=this.to.y&&(b=-b),t=this.from.x+y,e=this.from.y+b,r<=o?t=this.from.x<=this.to.x?this.to.x<t?this.to.x:t:this.to.x>t?this.to.x:t:e=this.from.y>=this.to.y?this.to.y>e?this.to.y:e:this.to.y<e?this.to.y:e}return{x:t,y:e}}},{key:"_findBorderPosition",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._findBorderPositionBezier(t,e,i.via)}},{key:"_getDistanceToEdge",value:function(t,e,i,n,r,o){var s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge(t,e,i,n,r,o,s)}},{key:"getPoint",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._getViaCoordinates(),i=t;return{x:Math.pow(1-i,2)*this.fromPoint.x+2*i*(1-i)*e.x+Math.pow(i,2)*this.toPoint.x,y:Math.pow(1-i,2)*this.fromPoint.y+2*i*(1-i)*e.y+Math.pow(i,2)*this.toPoint.y}}}]),e}();e.default=d},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(3)),o=n(i(0)),s=n(i(1)),a=n(i(4)),h=n(i(5)),l=n(i(118)),d=function(t){function e(t,i,n){return(0,o.default)(this,e),(0,a.default)(this,(e.__proto__||(0,r.default)(e)).call(this,t,i,n))}return(0,h.default)(e,l.default),(0,s.default)(e,[{key:"_line",value:function(t,e){t.beginPath(),t.moveTo(this.fromPoint.x,this.fromPoint.y),t.lineTo(this.toPoint.x,this.toPoint.y),this.enableShadow(t,e),t.stroke(),this.disableShadow(t,e)}},{key:"getViaNode",value:function(){}},{key:"getPoint",value:function(t){return{x:(1-t)*this.fromPoint.x+t*this.toPoint.x,y:(1-t)*this.fromPoint.y+t*this.toPoint.y}}},{key:"_findBorderPosition",value:function(t,e){var i=this.to,n=this.from;t.id===this.from.id&&(i=this.from,n=this.to);var r=Math.atan2(i.y-n.y,i.x-n.x),o=i.x-n.x,s=i.y-n.y,a=Math.sqrt(o*o+s*s),h=(a-t.distanceToBorder(e,r))/a,l={};return l.x=(1-h)*n.x+h*i.x,l.y=(1-h)*n.y+h*i.y,l}},{key:"_getDistanceToEdge",value:function(t,e,i,n,r,o){return this._getDistanceToLine(t,e,i,n,r,o)}}]),e}();e.default=d},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(8)),o=n(i(0)),s=n(i(1)),a=i(120).default,h=i(221).default,l=i(222).default,d=i(223).default,u=i(224).default,c=i(121).default,f=i(225).default,p=i(226).default,g=i(2),m=i(119).default,v=function(){function t(e){(0,o.default)(this,t),this.body=e,this.physicsBody={physicsNodeIndices:[],physicsEdgeIndices:[],forces:{},velocities:{}},this.physicsEnabled=!0,this.simulationInterval=1e3/60,this.requiresTimeout=!0,this.previousStates={},this.referenceState={},this.freezeCache={},this.renderTimer=void 0,this.adaptiveTimestep=!1,this.adaptiveTimestepEnabled=!1,this.adaptiveCounter=0,this.adaptiveInterval=3,this.stabilized=!1,this.startedStabilization=!1,this.stabilizationIterations=0,this.ready=!1,this.options={},this.defaultOptions={enabled:!0,barnesHut:{theta:.5,gravitationalConstant:-2e3,centralGravity:.3,springLength:95,springConstant:.04,damping:.09,avoidOverlap:0},forceAtlas2Based:{theta:.5,gravitationalConstant:-50,centralGravity:.01,springConstant:.08,springLength:100,damping:.4,avoidOverlap:0},repulsion:{centralGravity:.2,springLength:200,springConstant:.05,nodeDistance:100,damping:.09,avoidOverlap:0},hierarchicalRepulsion:{centralGravity:0,springLength:100,springConstant:.01,nodeDistance:120,damping:.09},maxVelocity:50,minVelocity:.75,solver:"barnesHut",stabilization:{enabled:!0,iterations:1e3,updateInterval:50,onlyDynamicEdges:!1,fit:!0},timestep:.5,adaptiveTimestep:!0},g.extend(this.options,this.defaultOptions),this.timestep=.5,this.layoutFailed=!1,this.bindEventListeners()}return(0,s.default)(t,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.on("initPhysics",function(){t.initPhysics()}),this.body.emitter.on("_layoutFailed",function(){t.layoutFailed=!0}),this.body.emitter.on("resetPhysics",function(){t.stopSimulation(),t.ready=!1}),this.body.emitter.on("disablePhysics",function(){t.physicsEnabled=!1,t.stopSimulation()}),this.body.emitter.on("restorePhysics",function(){t.setOptions(t.options),!0===t.ready&&t.startSimulation()}),this.body.emitter.on("startSimulation",function(){!0===t.ready&&t.startSimulation()}),this.body.emitter.on("stopSimulation",function(){t.stopSimulation()}),this.body.emitter.on("destroy",function(){t.stopSimulation(!1),t.body.emitter.off()}),this.body.emitter.on("_dataChanged",function(){t.updatePhysicsData()})}},{key:"setOptions",value:function(t){void 0!==t&&(!1===t?(this.options.enabled=!1,this.physicsEnabled=!1,this.stopSimulation()):!0===t?(this.options.enabled=!0,this.physicsEnabled=!0,this.startSimulation()):(this.physicsEnabled=!0,g.selectiveNotDeepExtend(["stabilization"],this.options,t),g.mergeOptions(this.options,t,"stabilization"),void 0===t.enabled&&(this.options.enabled=!0),!1===this.options.enabled&&(this.physicsEnabled=!1,this.stopSimulation()),this.timestep=this.options.timestep)),this.init()}},{key:"init",value:function(){var t;"forceAtlas2Based"===this.options.solver?(this.nodesSolver=new f(this.body,this.physicsBody,t=this.options.forceAtlas2Based),this.edgesSolver=new d(this.body,this.physicsBody,t),this.gravitySolver=new p(this.body,this.physicsBody,t)):"repulsion"===this.options.solver?(this.nodesSolver=new h(this.body,this.physicsBody,t=this.options.repulsion),this.edgesSolver=new d(this.body,this.physicsBody,t),this.gravitySolver=new c(this.body,this.physicsBody,t)):"hierarchicalRepulsion"===this.options.solver?(this.nodesSolver=new l(this.body,this.physicsBody,t=this.options.hierarchicalRepulsion),this.edgesSolver=new u(this.body,this.physicsBody,t),this.gravitySolver=new c(this.body,this.physicsBody,t)):(this.nodesSolver=new a(this.body,this.physicsBody,t=this.options.barnesHut),this.edgesSolver=new d(this.body,this.physicsBody,t),this.gravitySolver=new c(this.body,this.physicsBody,t)),this.modelOptions=t}},{key:"initPhysics",value:function(){!0===this.physicsEnabled&&!0===this.options.enabled?!0===this.options.stabilization.enabled?this.stabilize():(this.stabilized=!1,this.ready=!0,this.body.emitter.emit("fit",{},this.layoutFailed),this.startSimulation()):(this.ready=!0,this.body.emitter.emit("fit"))}},{key:"startSimulation",value:function(){!0===this.physicsEnabled&&!0===this.options.enabled?(this.stabilized=!1,this.adaptiveTimestep=!1,this.body.emitter.emit("_resizeNodes"),void 0===this.viewFunction&&(this.viewFunction=this.simulationStep.bind(this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering"))):this.body.emitter.emit("_redraw")}},{key:"stopSimulation",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.stabilized=!0,!0===t&&this._emitStabilized(),void 0!==this.viewFunction&&(this.body.emitter.off("initRedraw",this.viewFunction),this.viewFunction=void 0,!0===t&&this.body.emitter.emit("_stopRendering"))}},{key:"simulationStep",value:function(){var t=Date.now();this.physicsTick(),(Date.now()-t<.4*this.simulationInterval||!0===this.runDoubleSpeed)&&!1===this.stabilized&&(this.physicsTick(),this.runDoubleSpeed=!0),!0===this.stabilized&&this.stopSimulation()}},{key:"_emitStabilized",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.stabilizationIterations;(this.stabilizationIterations>1||!0===this.startedStabilization)&&setTimeout(function(){t.body.emitter.emit("stabilized",{iterations:e}),t.startedStabilization=!1,t.stabilizationIterations=0},0)}},{key:"physicsStep",value:function(){this.gravitySolver.solve(),this.nodesSolver.solve(),this.edgesSolver.solve(),this.moveNodes()}},{key:"adjustTimeStep",value:function(){!0===this._evaluateStepQuality()?this.timestep=1.2*this.timestep:this.timestep/1.2<this.options.timestep?this.timestep=this.options.timestep:(this.adaptiveCounter=-1,this.timestep=Math.max(this.options.timestep,this.timestep/1.2))}},{key:"physicsTick",value:function(){this._startStabilizing(),!0!==this.stabilized&&(!0===this.adaptiveTimestep&&!0===this.adaptiveTimestepEnabled?(this.adaptiveCounter%this.adaptiveInterval==0?(this.timestep=2*this.timestep,this.physicsStep(),this.revert(),this.timestep=.5*this.timestep,this.physicsStep(),this.physicsStep(),this.adjustTimeStep()):this.physicsStep(),this.adaptiveCounter+=1):(this.timestep=this.options.timestep,this.physicsStep()),!0===this.stabilized&&this.revert(),this.stabilizationIterations++)}},{key:"updatePhysicsData",value:function(){this.physicsBody.forces={},this.physicsBody.physicsNodeIndices=[],this.physicsBody.physicsEdgeIndices=[];var t=this.body.nodes,e=this.body.edges;for(var i in t)t.hasOwnProperty(i)&&!0===t[i].options.physics&&this.physicsBody.physicsNodeIndices.push(t[i].id);for(var n in e)e.hasOwnProperty(n)&&!0===e[n].options.physics&&this.physicsBody.physicsEdgeIndices.push(e[n].id);for(var r=0;r<this.physicsBody.physicsNodeIndices.length;r++){var o=this.physicsBody.physicsNodeIndices[r];this.physicsBody.forces[o]={x:0,y:0},void 0===this.physicsBody.velocities[o]&&(this.physicsBody.velocities[o]={x:0,y:0})}for(var s in this.physicsBody.velocities)void 0===t[s]&&delete this.physicsBody.velocities[s]}},{key:"revert",value:function(){var t=(0,r.default)(this.previousStates),e=this.body.nodes,i=this.physicsBody.velocities;this.referenceState={};for(var n=0;n<t.length;n++){var o=t[n];void 0!==e[o]?!0===e[o].options.physics&&(this.referenceState[o]={positions:{x:e[o].x,y:e[o].y}},i[o].x=this.previousStates[o].vx,i[o].y=this.previousStates[o].vy,e[o].x=this.previousStates[o].x,e[o].y=this.previousStates[o].y):delete this.previousStates[o]}}},{key:"_evaluateStepQuality",value:function(){var t=void 0,e=this.body.nodes,i=this.referenceState;for(var n in this.referenceState)if(this.referenceState.hasOwnProperty(n)&&void 0!==e[n]&&(t=e[n].y-i[n].positions.y,Math.sqrt(Math.pow(e[n].x-i[n].positions.x,2)+Math.pow(t,2))>.3))return!1;return!0}},{key:"moveNodes",value:function(){for(var t=this.physicsBody.physicsNodeIndices,e=0,i=0,n=0;n<t.length;n++){var r=this._performStep(t[n]);e=Math.max(e,r),i+=r}this.adaptiveTimestepEnabled=i/t.length<5,this.stabilized=e<this.options.minVelocity}},{key:"calculateComponentVelocity",value:function(t,e,i){t+=(e-this.modelOptions.damping*t)/i*this.timestep;var n=this.options.maxVelocity||1e9;return Math.abs(t)>n&&(t=t>0?n:-n),t}},{key:"_performStep",value:function(t){var e=this.body.nodes[t],i=this.physicsBody.forces[t],n=this.physicsBody.velocities[t];return this.previousStates[t]={x:e.x,y:e.y,vx:n.x,vy:n.y},!1===e.options.fixed.x?(n.x=this.calculateComponentVelocity(n.x,i.x,e.options.mass),e.x+=n.x*this.timestep):(i.x=0,n.x=0),!1===e.options.fixed.y?(n.y=this.calculateComponentVelocity(n.y,i.y,e.options.mass),e.y+=n.y*this.timestep):(i.y=0,n.y=0),Math.sqrt(Math.pow(n.x,2)+Math.pow(n.y,2))}},{key:"_freezeNodes",value:function(){var t=this.body.nodes;for(var e in t)if(t.hasOwnProperty(e)&&t[e].x&&t[e].y){var i=t[e].options.fixed;this.freezeCache[e]={x:i.x,y:i.y},i.x=!0,i.y=!0}}},{key:"_restoreFrozenNodes",value:function(){var t=this.body.nodes;for(var e in t)t.hasOwnProperty(e)&&void 0!==this.freezeCache[e]&&(t[e].options.fixed.x=this.freezeCache[e].x,t[e].options.fixed.y=this.freezeCache[e].y);this.freezeCache={}}},{key:"stabilize",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.stabilization.iterations;"number"!=typeof e&&(e=this.options.stabilization.iterations,console.log("The stabilize method needs a numeric amount of iterations. Switching to default: ",e)),0!==this.physicsBody.physicsNodeIndices.length?(this.adaptiveTimestep=this.options.adaptiveTimestep,this.body.emitter.emit("_resizeNodes"),this.stopSimulation(),this.stabilized=!1,this.body.emitter.emit("_blockRedraw"),this.targetIterations=e,!0===this.options.stabilization.onlyDynamicEdges&&this._freezeNodes(),this.stabilizationIterations=0,setTimeout(function(){return t._stabilizationBatch()},0)):this.ready=!0}},{key:"_startStabilizing",value:function(){return!0!==this.startedStabilization&&(this.body.emitter.emit("startStabilizing"),this.startedStabilization=!0,!0)}},{key:"_stabilizationBatch",value:function(){var t=this,e=function(){return!1===t.stabilized&&t.stabilizationIterations<t.targetIterations},i=function(){t.body.emitter.emit("stabilizationProgress",{iterations:t.stabilizationIterations,total:t.targetIterations})};this._startStabilizing()&&i();for(var n=0;e()&&n<this.options.stabilization.updateInterval;)this.physicsTick(),n++;i(),e()?setTimeout(this._stabilizationBatch.bind(this),0):this._finalizeStabilization()}},{key:"_finalizeStabilization",value:function(){this.body.emitter.emit("_allowRedraw"),!0===this.options.stabilization.fit&&this.body.emitter.emit("fit"),!0===this.options.stabilization.onlyDynamicEdges&&this._restoreFrozenNodes(),this.body.emitter.emit("stabilizationIterationsDone"),this.body.emitter.emit("_requestRedraw"),!0===this.stabilized?this._emitStabilized():this.startSimulation(),this.ready=!0}},{key:"_drawForces",value:function(t){for(var e=0;e<this.physicsBody.physicsNodeIndices.length;e++){var i=this.physicsBody.physicsNodeIndices[e],n=this.body.nodes[i],r=this.physicsBody.forces[i],o=Math.sqrt(Math.pow(r.x,2)+Math.pow(r.x,2)),s=Math.min(Math.max(5,o),15),a=3*s,h=g.HSVToHex((180-180*Math.min(1,Math.max(0,.03*o)))/360,1,1),l={x:n.x+20*r.x,y:n.y+20*r.y};t.lineWidth=s,t.strokeStyle=h,t.beginPath(),t.moveTo(n.x,n.y),t.lineTo(l.x,l.y),t.stroke();var d=Math.atan2(r.y,r.x);t.fillStyle=h,m.draw(t,{type:"arrow",point:l,angle:d,length:a}),t.fill()}}}]),t}();e.default=v},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(0)),o=n(i(1)),s=function(){function t(e,i,n){(0,r.default)(this,t),this.body=e,this.physicsBody=i,this.setOptions(n)}return(0,o.default)(t,[{key:"setOptions",value:function(t){this.options=t}},{key:"solve",value:function(){for(var t,e,i,n,r,o,s,a,h=this.body.nodes,l=this.physicsBody.physicsNodeIndices,d=this.physicsBody.forces,u=this.options.nodeDistance,c=-2/3/u,f=0;f<l.length-1;f++){s=h[l[f]];for(var p=f+1;p<l.length;p++)t=(a=h[l[p]]).x-s.x,e=a.y-s.y,0===(i=Math.sqrt(t*t+e*e))&&(t=i=.1*Math.random()),i<2*u&&(o=i<.5*u?1:c*i+4/3,r=e*(o/=i),d[s.id].x-=n=t*o,d[s.id].y-=r,d[a.id].x+=n,d[a.id].y+=r)}}}]),t}();e.default=s},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(0)),o=n(i(1)),s=function(){function t(e,i,n){(0,r.default)(this,t),this.body=e,this.physicsBody=i,this.setOptions(n)}return(0,o.default)(t,[{key:"setOptions",value:function(t){this.options=t}},{key:"solve",value:function(){var t,e,i,n,r,o,s,a,h,l,d=this.body.nodes,u=this.physicsBody.physicsNodeIndices,c=this.physicsBody.forces,f=this.options.nodeDistance;for(h=0;h<u.length-1;h++)for(s=d[u[h]],l=h+1;l<u.length;l++)s.level===(a=d[u[l]]).level&&(t=a.x-s.x,e=a.y-s.y,o=(i=Math.sqrt(t*t+e*e))<f?-Math.pow(.05*i,2)+Math.pow(.05*f,2):0,0===i?i=.01:o/=i,r=e*o,c[s.id].x-=n=t*o,c[s.id].y-=r,c[a.id].x+=n,c[a.id].y+=r)}}]),t}();e.default=s},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(0)),o=n(i(1)),s=function(){function t(e,i,n){(0,r.default)(this,t),this.body=e,this.physicsBody=i,this.setOptions(n)}return(0,o.default)(t,[{key:"setOptions",value:function(t){this.options=t}},{key:"solve",value:function(){for(var t=void 0,e=void 0,i=this.physicsBody.physicsEdgeIndices,n=this.body.edges,r=void 0,o=void 0,s=0;s<i.length;s++)!0===(e=n[i[s]]).connected&&e.toId!==e.fromId&&void 0!==this.body.nodes[e.toId]&&void 0!==this.body.nodes[e.fromId]&&(void 0!==e.edgeType.via?(o=e.from,this._calculateSpringForce(e.to,r=e.edgeType.via,.5*(t=void 0===e.options.length?this.options.springLength:e.options.length)),this._calculateSpringForce(r,o,.5*t)):this._calculateSpringForce(e.from,e.to,t=void 0===e.options.length?1.5*this.options.springLength:e.options.length))}},{key:"_calculateSpringForce",value:function(t,e,i){var n=t.x-e.x,r=t.y-e.y,o=Math.max(Math.sqrt(n*n+r*r),.01),s=this.options.springConstant*(i-o)/o,a=n*s,h=r*s;void 0!==this.physicsBody.forces[t.id]&&(this.physicsBody.forces[t.id].x+=a,this.physicsBody.forces[t.id].y+=h),void 0!==this.physicsBody.forces[e.id]&&(this.physicsBody.forces[e.id].x-=a,this.physicsBody.forces[e.id].y-=h)}}]),t}();e.default=s},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(0)),o=n(i(1)),s=function(){function t(e,i,n){(0,r.default)(this,t),this.body=e,this.physicsBody=i,this.setOptions(n)}return(0,o.default)(t,[{key:"setOptions",value:function(t){this.options=t}},{key:"solve",value:function(){for(var t,e,i,n,r,o,s,a,h=this.body.edges,l=this.physicsBody.physicsEdgeIndices,d=this.physicsBody.physicsNodeIndices,u=this.physicsBody.forces,c=0;c<d.length;c++){var f=d[c];u[f].springFx=0,u[f].springFy=0}for(var p=0;p<l.length;p++)!0===(e=h[l[p]]).connected&&(t=void 0===e.options.length?this.options.springLength:e.options.length,i=e.from.x-e.to.x,n=e.from.y-e.to.y,a=Math.sqrt(i*i+n*n),r=i*(s=this.options.springConstant*(t-(a=0===a?.01:a))/a),o=n*s,e.to.level!=e.from.level?(void 0!==u[e.toId]&&(u[e.toId].springFx-=r,u[e.toId].springFy-=o),void 0!==u[e.fromId]&&(u[e.fromId].springFx+=r,u[e.fromId].springFy+=o)):(void 0!==u[e.toId]&&(u[e.toId].x-=.5*r,u[e.toId].y-=.5*o),void 0!==u[e.fromId]&&(u[e.fromId].x+=.5*r,u[e.fromId].y+=.5*o)));s=1;for(var g,m,v=0;v<d.length;v++){var y=d[v];g=Math.min(s,Math.max(-s,u[y].springFx)),m=Math.min(s,Math.max(-s,u[y].springFy)),u[y].x+=g,u[y].y+=m}for(var b=0,w=0,x=0;x<d.length;x++){var _=d[x];b+=u[_].x,w+=u[_].y}for(var k=b/d.length,S=w/d.length,M=0;M<d.length;M++){var C=d[M];u[C].x-=k,u[C].y-=S}}}]),t}();e.default=s},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(3)),o=n(i(0)),s=n(i(1)),a=n(i(4)),h=n(i(5)),l=n(i(120)),d=function(t){function e(t,i,n){return(0,o.default)(this,e),(0,a.default)(this,(e.__proto__||(0,r.default)(e)).call(this,t,i,n))}return(0,h.default)(e,l.default),(0,s.default)(e,[{key:"_calculateForces",value:function(t,e,i,n,r){0===t&&(e=t=.1*Math.random()),this.overlapAvoidanceFactor<1&&n.shape.radius&&(t=Math.max(.1+this.overlapAvoidanceFactor*n.shape.radius,t-n.shape.radius));var o=this.options.gravitationalConstant*r.mass*n.options.mass*(n.edges.length+1)/Math.pow(t,2),s=i*o;this.physicsBody.forces[n.id].x+=e*o,this.physicsBody.forces[n.id].y+=s}}]),e}();e.default=d},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(3)),o=n(i(0)),s=n(i(1)),a=n(i(4)),h=n(i(5)),l=n(i(121)),d=function(t){function e(t,i,n){return(0,o.default)(this,e),(0,a.default)(this,(e.__proto__||(0,r.default)(e)).call(this,t,i,n))}return(0,h.default)(e,l.default),(0,s.default)(e,[{key:"_calculateForces",value:function(t,e,i,n,r){if(t>0){var o=this.options.centralGravity*(r.edges.length+1)*r.options.mass;n[r.id].x=e*o,n[r.id].y=i*o}}}]),e}();e.default=d},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(8)),o=n(i(6)),s=n(i(0)),a=n(i(1)),h=i(2),l=i(76).default,d=i(228).default,u=i(74).default,c=i(47).default,f=function(){function t(e){var i=this;(0,s.default)(this,t),this.body=e,this.clusteredNodes={},this.clusteredEdges={},this.options={},this.defaultOptions={},h.extend(this.options,this.defaultOptions),this.body.emitter.on("_resetData",function(){i.clusteredNodes={},i.clusteredEdges={}})}return(0,a.default)(t,[{key:"clusterByHubsize",value:function(t,e){void 0===t?t=this._getHubSize():"object"===(void 0===t?"undefined":(0,o.default)(t))&&(e=this._checkOptions(t),t=this._getHubSize());for(var i=[],n=0;n<this.body.nodeIndices.length;n++){var r=this.body.nodes[this.body.nodeIndices[n]];r.edges.length>=t&&i.push(r.id)}for(var s=0;s<i.length;s++)this.clusterByConnection(i[s],e,!0);this.body.emitter.emit("_dataChanged")}},{key:"cluster",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(void 0===e.joinCondition)throw new Error("Cannot call clusterByNodeData without a joinCondition function in the options.");e=this._checkOptions(e);var n={},r={};h.forEach(this.body.nodes,function(i,o){var s=l.cloneOptions(i);!0===e.joinCondition(s)&&(n[o]=i,h.forEach(i.edges,function(e){void 0===t.clusteredEdges[e.id]&&(r[e.id]=e)}))}),this._cluster(n,r,e,i)}},{key:"clusterByEdgeCount",value:function(t,e){var i=this,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];e=this._checkOptions(e);for(var o=[],s={},a=void 0,h=void 0,d=void 0,u=0;u<this.body.nodeIndices.length;u++){var c,f;!function(n){var u={},p={},g=i.body.nodeIndices[n],m=i.body.nodes[g];if(void 0===s[g]){d=0,h=[];for(var v=0;v<m.edges.length;v++)void 0===i.clusteredEdges[(a=m.edges[v]).id]&&(a.toId!==a.fromId&&d++,h.push(a));if(d===t){c=function(t){if(null==e.joinCondition)return!0;var i=l.cloneOptions(t);return e.joinCondition(i)};for(var y=!0,b=0;b<h.length;b++){var w=i._getConnectedId(a=h[b],g);if(!c(m)){y=!1;break}p[a.id]=a,u[g]=m,u[w]=i.body.nodes[w],s[g]=!0}if((0,r.default)(u).length>0&&(0,r.default)(p).length>0&&!0===y)if(void 0!==(f=function(){for(var t=0;t<o.length;++t)for(var e in u)if(void 0!==o[t].nodes[e])return o[t]}())){for(var x in u)void 0===f.nodes[x]&&(f.nodes[x]=u[x]);for(var _ in p)void 0===f.edges[_]&&(f.edges[_]=p[_])}else o.push({nodes:u,edges:p})}}}(u)}for(u=0;u<o.length;u++)this._cluster(o[u].nodes,o[u].edges,e,!1);!0===n&&this.body.emitter.emit("_dataChanged")}},{key:"clusterOutliers",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.clusterByEdgeCount(1,t,e)}},{key:"clusterBridges",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.clusterByEdgeCount(2,t,e)}},{key:"clusterByConnection",value:function(t,e){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0===t)throw new Error("No nodeId supplied to clusterByConnection!");if(void 0===this.body.nodes[t])throw new Error("The nodeId given to clusterByConnection does not exist!");var n=this.body.nodes[t];void 0===(e=this._checkOptions(e,n)).clusterNodeProperties.x&&(e.clusterNodeProperties.x=n.x),void 0===e.clusterNodeProperties.y&&(e.clusterNodeProperties.y=n.y),void 0===e.clusterNodeProperties.fixed&&(e.clusterNodeProperties.fixed={},e.clusterNodeProperties.fixed.x=n.options.fixed.x,e.clusterNodeProperties.fixed.y=n.options.fixed.y);var o={},s={},a=n.id,h=l.cloneOptions(n);o[a]=n;for(var d=0;d<n.edges.length;d++){var u=n.edges[d];if(void 0===this.clusteredEdges[u.id]){var c=this._getConnectedId(u,a);if(void 0===this.clusteredNodes[c])if(c!==a)if(void 0===e.joinCondition)s[u.id]=u,o[c]=this.body.nodes[c];else{var f=l.cloneOptions(this.body.nodes[c]);!0===e.joinCondition(h,f)&&(s[u.id]=u,o[c]=this.body.nodes[c])}else s[u.id]=u}}var p=(0,r.default)(o).map(function(t){return o[t].id});for(g in o)if(o.hasOwnProperty(g))for(var g=o[g],m=0;m<g.edges.length;m++){var v=g.edges[m];p.indexOf(this._getConnectedId(v,g.id))>-1&&(s[v.id]=v)}this._cluster(o,s,e,i)}},{key:"_createClusterEdges",value:function(t,e,i,n){for(var o=void 0,s=void 0,a=void 0,h=void 0,l=void 0,d=void 0,u=(0,r.default)(t),c=[],f=0;f<u.length;f++){a=t[s=u[f]];for(var p=0;p<a.edges.length;p++)void 0===this.clusteredEdges[(o=a.edges[p]).id]&&(o.toId==o.fromId?e[o.id]=o:o.toId==s?(h=i.id,d=l=o.fromId):(l=i.id,d=h=o.toId),void 0===t[d]&&c.push({edge:o,fromId:l,toId:h}))}for(var g=[],m=0;m<c.length;m++){var v=c[m],y=v.edge,b=function(t){for(var e=0;e<g.length;e++){var i=g[e];if(t.fromId===i.fromId&&t.toId===i.toId||t.fromId===i.toId&&t.toId===i.fromId)return i}return null}(v);null===b?(b=this._createClusteredEdge(v.fromId,v.toId,y,n),g.push(b)):b.clusteringEdgeReplacingIds.push(y.id),this.body.edges[y.id].edgeReplacedById=b.id,this._backupEdgeOptions(y),y.setOptions({physics:!1})}}},{key:"_checkOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return void 0===t.clusterEdgeProperties&&(t.clusterEdgeProperties={}),void 0===t.clusterNodeProperties&&(t.clusterNodeProperties={}),t}},{key:"_cluster",value:function(t,e,i){var n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=[];for(var s in t)t.hasOwnProperty(s)&&void 0!==this.clusteredNodes[s]&&o.push(s);for(var a=0;a<o.length;++a)delete t[o[a]];if(0!=(0,r.default)(t).length&&(1!=(0,r.default)(t).length||1==i.clusterNodeProperties.allowSingleNodeCluster)){var u=h.deepExtend({},i.clusterNodeProperties);if(void 0!==i.processProperties){var c=[];for(var f in t)if(t.hasOwnProperty(f)){var p=l.cloneOptions(t[f]);c.push(p)}var g=[];for(var m in e)if(e.hasOwnProperty(m)&&"clusterEdge:"!==m.substr(0,12)){var v=l.cloneOptions(e[m],"edge");g.push(v)}if(!(u=i.processProperties(u,c,g)))throw new Error("The processProperties function does not return properties!")}void 0===u.id&&(u.id="cluster:"+h.randomUUID());var y=u.id;void 0===u.label&&(u.label="cluster");var b=void 0;void 0===u.x&&(b=this._getClusterPosition(t),u.x=b.x),void 0===u.y&&(void 0===b&&(b=this._getClusterPosition(t)),u.y=b.y),u.id=y;var w=this.body.functions.createNode(u,d);w.containedNodes=t,w.containedEdges=e,w.clusterEdgeProperties=i.clusterEdgeProperties,this.body.nodes[u.id]=w,this._clusterEdges(t,e,u,i.clusterEdgeProperties),u.id=void 0,!0===n&&this.body.emitter.emit("_dataChanged")}}},{key:"_backupEdgeOptions",value:function(t){void 0===this.clusteredEdges[t.id]&&(this.clusteredEdges[t.id]={physics:t.options.physics})}},{key:"_restoreEdge",value:function(t){var e=this.clusteredEdges[t.id];void 0!==e&&(t.setOptions({physics:e.physics}),delete this.clusteredEdges[t.id])}},{key:"isCluster",value:function(t){return void 0!==this.body.nodes[t]?!0===this.body.nodes[t].isCluster:(console.log("Node does not exist."),!1)}},{key:"_getClusterPosition",value:function(t){for(var e=(0,r.default)(t),i=t[e[0]].x,n=t[e[0]].x,o=t[e[0]].y,s=t[e[0]].y,a=void 0,h=1;h<e.length;h++)i=(a=t[e[h]]).x<i?a.x:i,n=a.x>n?a.x:n,o=a.y<o?a.y:o,s=a.y>s?a.y:s;return{x:.5*(i+n),y:.5*(o+s)}}},{key:"openCluster",value:function(t,e){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0===t)throw new Error("No clusterNodeId supplied to openCluster.");var n=this.body.nodes[t];if(void 0===n)throw new Error("The clusterNodeId supplied to openCluster does not exist.");if(!0!==n.isCluster||void 0===n.containedNodes||void 0===n.containedEdges)throw new Error("The node:"+t+" is not a valid cluster.");var r=this.findNode(t),o=r.indexOf(t)-1;if(o>=0){var s=r[o];return this.body.nodes[s]._openChildCluster(t),delete this.body.nodes[t],void(!0===i&&this.body.emitter.emit("_dataChanged"))}var a=n.containedNodes,l=n.containedEdges;if(void 0!==e&&void 0!==e.releaseFunction&&"function"==typeof e.releaseFunction){var d={},u={x:n.x,y:n.y};for(var c in a)if(a.hasOwnProperty(c)){var f=this.body.nodes[c];d[c]={x:f.x,y:f.y}}var p=e.releaseFunction(u,d);for(var g in a)if(a.hasOwnProperty(g)){var m=this.body.nodes[g];void 0!==p[g]&&(m.x=void 0===p[g].x?n.x:p[g].x,m.y=void 0===p[g].y?n.y:p[g].y)}}else h.forEach(a,function(t){!1===t.options.fixed.x&&(t.x=n.x),!1===t.options.fixed.y&&(t.y=n.y)});for(var v in a)if(a.hasOwnProperty(v)){var y=this.body.nodes[v];y.vx=n.vx,y.vy=n.vy,y.setOptions({physics:!0}),delete this.clusteredNodes[v]}for(var b=[],w=0;w<n.edges.length;w++)b.push(n.edges[w]);for(var x=0;x<b.length;x++){for(var _=b[x],k=this._getConnectedId(_,t),S=this.clusteredNodes[k],M=0;M<_.clusteringEdgeReplacingIds.length;M++){var C=_.clusteringEdgeReplacingIds[M],E=this.body.edges[C];if(void 0!==E)if(void 0!==S){var N=this.body.nodes[S.clusterId];N.containedEdges[E.id]=E,delete l[E.id];var A=E.fromId,D=E.toId;E.toId==k?D=S.clusterId:A=S.clusterId,this._createClusteredEdge(A,D,E,N.clusterEdgeProperties,{hidden:!1,physics:!0})}else this._restoreEdge(E)}_.remove()}for(var T in l)l.hasOwnProperty(T)&&this._restoreEdge(l[T]);delete this.body.nodes[t],!0===i&&this.body.emitter.emit("_dataChanged")}},{key:"getNodesInCluster",value:function(t){var e=[];if(!0===this.isCluster(t)){var i=this.body.nodes[t].containedNodes;for(var n in i)i.hasOwnProperty(n)&&e.push(this.body.nodes[n].id)}return e}},{key:"findNode",value:function(t){for(var e=[],i=0,n=void 0;void 0!==this.clusteredNodes[t]&&i<100;){if(void 0===(n=this.body.nodes[t]))return[];e.push(n.id),t=this.clusteredNodes[t].clusterId,i++}return void 0===(n=this.body.nodes[t])?[]:(e.push(n.id),e.reverse(),e)}},{key:"updateClusteredNode",value:function(t,e){if(void 0===t)throw new Error("No clusteredNodeId supplied to updateClusteredNode.");if(void 0===e)throw new Error("No newOptions supplied to updateClusteredNode.");if(void 0===this.body.nodes[t])throw new Error("The clusteredNodeId supplied to updateClusteredNode does not exist.");this.body.nodes[t].setOptions(e),this.body.emitter.emit("_dataChanged")}},{key:"updateEdge",value:function(t,e){if(void 0===t)throw new Error("No startEdgeId supplied to updateEdge.");if(void 0===e)throw new Error("No newOptions supplied to updateEdge.");if(void 0===this.body.edges[t])throw new Error("The startEdgeId supplied to updateEdge does not exist.");for(var i=this.getClusteredEdges(t),n=0;n<i.length;n++)this.body.edges[i[n]].setOptions(e);this.body.emitter.emit("_dataChanged")}},{key:"getClusteredEdges",value:function(t){for(var e=[],i=0;void 0!==t&&void 0!==this.body.edges[t]&&i<100;)e.push(this.body.edges[t].id),t=this.body.edges[t].edgeReplacedById,i++;return e.reverse(),e}},{key:"getBaseEdge",value:function(t){return this.getBaseEdges(t)[0]}},{key:"getBaseEdges",value:function(t){for(var e=[t],i=[],n=[],r=0;e.length>0&&r<100;){var o=e.pop();if(void 0!==o){var s=this.body.edges[o];if(void 0!==s){r++;var a=s.clusteringEdgeReplacingIds;if(void 0===a)n.push(o);else for(var h=0;h<a.length;++h){var l=a[h];-1===e.indexOf(a)&&-1===i.indexOf(a)&&e.push(l)}i.push(o)}}}return n}},{key:"_getConnectedId",value:function(t,e){return t.toId!=e?t.toId:t.fromId}},{key:"_getHubSize",value:function(){for(var t=0,e=0,i=0,n=0,r=0;r<this.body.nodeIndices.length;r++){var o=this.body.nodes[this.body.nodeIndices[r]];o.edges.length>n&&(n=o.edges.length),t+=o.edges.length,e+=Math.pow(o.edges.length,2),i+=1}t/=i;var s=(e/=i)-Math.pow(t,2),a=Math.sqrt(s),h=Math.floor(t+2*a);return h>n&&(h=n),h}},{key:"_createClusteredEdge",value:function(t,e,i,n,r){var o=l.cloneOptions(i,"edge");h.deepExtend(o,n),o.from=t,o.to=e,o.id="clusterEdge:"+h.randomUUID(),void 0!==r&&h.deepExtend(o,r);var s=this.body.functions.createEdge(o);return s.clusteringEdgeReplacingIds=[i.id],s.connect(),this.body.edges[s.id]=s,s}},{key:"_clusterEdges",value:function(t,e,i,n){if(e instanceof u){var r={};r[e.id]=e,e=r}if(t instanceof c){var o={};o[t.id]=t,t=o}if(null==i)throw new Error("_clusterEdges: parameter clusterNode required");for(var s in void 0===n&&(n=i.clusterEdgeProperties),this._createClusterEdges(t,e,i,n),e)if(e.hasOwnProperty(s)&&void 0!==this.body.edges[s]){var a=this.body.edges[s];this._backupEdgeOptions(a),a.setOptions({physics:!1})}for(var h in t)t.hasOwnProperty(h)&&(this.clusteredNodes[h]={clusterId:i.id,node:this.body.nodes[h]},this.body.nodes[h].setOptions({physics:!1}))}},{key:"_getClusterNodeForNode",value:function(t){if(void 0!==t){var e=this.clusteredNodes[t];if(void 0!==e){var i=e.clusterId;if(void 0!==i)return this.body.nodes[i]}}}},{key:"_filter",value:function(t,e){var i=[];return h.forEach(t,function(t){e(t)&&i.push(t)}),i}},{key:"_updateState",value:function(){var t=this,e=void 0,i=[],n=[],o=function(e){h.forEach(t.body.nodes,function(t){!0===t.isCluster&&e(t)})};for(e in this.clusteredNodes)this.clusteredNodes.hasOwnProperty(e)&&void 0===this.body.nodes[e]&&i.push(e);o(function(t){for(var e=0;e<i.length;e++)delete t.containedNodes[i[e]]});for(var s=0;s<i.length;s++)delete this.clusteredNodes[i[s]];h.forEach(this.clusteredEdges,function(e){var i=t.body.edges[e];void 0!==i&&i.endPointsValid()||n.push(e)}),o(function(t){h.forEach(t.containedEdges,function(t,e){t.endPointsValid()||-1!==n.indexOf(e)||n.push(e)})}),h.forEach(this.body.edges,function(e,i){var r=!0,o=e.clusteringEdgeReplacingIds;if(void 0!==o){var s=0;h.forEach(o,function(e){var i=t.body.edges[e];void 0!==i&&i.endPointsValid()&&(s+=1)}),r=s>0}e.endPointsValid()&&r||n.push(i)}),o(function(e){h.forEach(n,function(i){delete e.containedEdges[i],h.forEach(e.edges,function(r,o){r.id!==i?r.clusteringEdgeReplacingIds=t._filter(r.clusteringEdgeReplacingIds,function(t){return-1===n.indexOf(t)}):e.edges[o]=null}),e.edges=t._filter(e.edges,function(t){return null!==t})})}),h.forEach(n,function(e){delete t.clusteredEdges[e]}),h.forEach(n,function(e){delete t.body.edges[e]});var a=(0,r.default)(this.body.edges);h.forEach(a,function(e){var i=t.body.edges[e],n=t._isClusteredNode(i.fromId)||t._isClusteredNode(i.toId);if(n!==t._isClusteredEdge(i.id)){if(!n)throw new Error("remove edge from clustering not implemented!");var r=t._getClusterNodeForNode(i.fromId);void 0!==r&&t._clusterEdges(t.body.nodes[i.fromId],i,r);var o=t._getClusterNodeForNode(i.toId);void 0!==o&&t._clusterEdges(t.body.nodes[i.toId],i,o)}});for(var l=!1,d=!0;d;)!function(){var e=[];o(function(t){var i=(0,r.default)(t.containedNodes).length,n=!0===t.options.allowSingleNodeCluster;(n&&i<1||!n&&i<2)&&e.push(t.id)});for(var i=0;i<e.length;++i)t.openCluster(e[i],{},!1);d=e.length>0,l=l||d}();l&&this._updateState()}},{key:"_isClusteredNode",value:function(t){return void 0!==this.clusteredNodes[t]}},{key:"_isClusteredEdge",value:function(t){return void 0!==this.clusteredEdges[t]}}]),t}();e.default=f},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(3)),o=n(i(0)),s=n(i(1)),a=n(i(4)),h=n(i(5)),l=i(2),d=i(47).default,u=function(t){function e(t,i,n,s,h,l){(0,o.default)(this,e);var d=(0,a.default)(this,(e.__proto__||(0,r.default)(e)).call(this,t,i,n,s,h,l));return d.isCluster=!0,d.containedNodes={},d.containedEdges={},d}return(0,h.default)(e,d),(0,s.default)(e,[{key:"_openChildCluster",value:function(t){var e=this,i=this.body.nodes[t];if(void 0===this.containedNodes[t])throw new Error("node with id: "+t+" not in current cluster");if(!i.isCluster)throw new Error("node with id: "+t+" is not a cluster");delete this.containedNodes[t],l.forEach(i.edges,function(t){delete e.containedEdges[t.id]}),l.forEach(i.containedNodes,function(t,i){e.containedNodes[i]=t}),i.containedNodes={},l.forEach(i.containedEdges,function(t,i){e.containedEdges[i]=t}),i.containedEdges={},l.forEach(i.edges,function(t){l.forEach(e.edges,function(i){var n=i.clusteringEdgeReplacingIds.indexOf(t.id);-1!==n&&(l.forEach(t.clusteringEdgeReplacingIds,function(t){i.clusteringEdgeReplacingIds.push(t),e.body.edges[t].edgeReplacedById=i.id}),i.clusteringEdgeReplacingIds.splice(n,1))})}),i.edges=[]}}]),e}();e.default=u},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(0)),o=n(i(1)),s=i(2),a=function(){function t(e,i){(0,r.default)(this,t),function(){var t;void 0!==window&&(t=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame),window.requestAnimationFrame=void 0===t?function(t){t()}:t}(),this.body=e,this.canvas=i,this.redrawRequested=!1,this.renderTimer=void 0,this.requiresTimeout=!0,this.renderingActive=!1,this.renderRequests=0,this.allowRedraw=!0,this.dragging=!1,this.options={},this.defaultOptions={hideEdgesOnDrag:!1,hideNodesOnDrag:!1},s.extend(this.options,this.defaultOptions),this._determineBrowserMethod(),this.bindEventListeners()}return(0,o.default)(t,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.on("dragStart",function(){t.dragging=!0}),this.body.emitter.on("dragEnd",function(){t.dragging=!1}),this.body.emitter.on("_resizeNodes",function(){t._resizeNodes()}),this.body.emitter.on("_redraw",function(){!1===t.renderingActive&&t._redraw()}),this.body.emitter.on("_blockRedraw",function(){t.allowRedraw=!1}),this.body.emitter.on("_allowRedraw",function(){t.allowRedraw=!0,t.redrawRequested=!1}),this.body.emitter.on("_requestRedraw",this._requestRedraw.bind(this)),this.body.emitter.on("_startRendering",function(){t.renderRequests+=1,t.renderingActive=!0,t._startRendering()}),this.body.emitter.on("_stopRendering",function(){t.renderRequests-=1,t.renderingActive=t.renderRequests>0,t.renderTimer=void 0}),this.body.emitter.on("destroy",function(){t.renderRequests=0,t.allowRedraw=!1,t.renderingActive=!1,!0===t.requiresTimeout?clearTimeout(t.renderTimer):window.cancelAnimationFrame(t.renderTimer),t.body.emitter.off()})}},{key:"setOptions",value:function(t){void 0!==t&&s.selectiveDeepExtend(["hideEdgesOnDrag","hideNodesOnDrag"],this.options,t)}},{key:"_requestNextFrame",value:function(t,e){if("undefined"!=typeof window){var i=void 0,n=window;return!0===this.requiresTimeout?i=n.setTimeout(t,e):n.requestAnimationFrame&&(i=n.requestAnimationFrame(t)),i}}},{key:"_startRendering",value:function(){!0===this.renderingActive&&void 0===this.renderTimer&&(this.renderTimer=this._requestNextFrame(this._renderStep.bind(this),this.simulationInterval))}},{key:"_renderStep",value:function(){!0===this.renderingActive&&(this.renderTimer=void 0,!0===this.requiresTimeout&&this._startRendering(),this._redraw(),!1===this.requiresTimeout&&this._startRendering())}},{key:"redraw",value:function(){this.body.emitter.emit("setSize"),this._redraw()}},{key:"_requestRedraw",value:function(){var t=this;!0!==this.redrawRequested&&!1===this.renderingActive&&!0===this.allowRedraw&&(this.redrawRequested=!0,this._requestNextFrame(function(){t._redraw(!1)},0))}},{key:"_redraw",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!0===this.allowRedraw){this.body.emitter.emit("initRedraw"),this.redrawRequested=!1,0!==this.canvas.frame.canvas.width&&0!==this.canvas.frame.canvas.height||this.canvas.setSize(),this.canvas.setTransform();var e=this.canvas.getContext(),i=this.canvas.frame.canvas.clientWidth,n=this.canvas.frame.canvas.clientHeight;if(e.clearRect(0,0,i,n),0===this.canvas.frame.clientWidth)return;e.save(),e.translate(this.body.view.translation.x,this.body.view.translation.y),e.scale(this.body.view.scale,this.body.view.scale),e.beginPath(),this.body.emitter.emit("beforeDrawing",e),e.closePath(),!1===t&&(!1===this.dragging||!0===this.dragging&&!1===this.options.hideEdgesOnDrag)&&this._drawEdges(e),(!1===this.dragging||!0===this.dragging&&!1===this.options.hideNodesOnDrag)&&this._drawNodes(e,t),e.beginPath(),this.body.emitter.emit("afterDrawing",e),e.closePath(),e.restore(),!0===t&&e.clearRect(0,0,i,n)}}},{key:"_resizeNodes",value:function(){this.canvas.setTransform();var t=this.canvas.getContext();t.save(),t.translate(this.body.view.translation.x,this.body.view.translation.y),t.scale(this.body.view.scale,this.body.view.scale);var e=this.body.nodes,i=void 0;for(var n in e)e.hasOwnProperty(n)&&((i=e[n]).resize(t),i.updateBoundingBox(t,i.selected));t.restore()}},{key:"_drawNodes",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.body.nodes,n=this.body.nodeIndices,r=void 0,o=[],s=this.canvas.DOMtoCanvas({x:-20,y:-20}),a=this.canvas.DOMtoCanvas({x:this.canvas.frame.canvas.clientWidth+20,y:this.canvas.frame.canvas.clientHeight+20}),h={top:s.y,left:s.x,bottom:a.y,right:a.x},l=0;l<n.length;l++)(r=i[n[l]]).isSelected()?o.push(n[l]):!0===e?r.draw(t):!0===r.isBoundingBoxOverlappingWith(h)?r.draw(t):r.updateBoundingBox(t,r.selected);for(var d=0;d<o.length;d++)(r=i[o[d]]).draw(t)}},{key:"_drawEdges",value:function(t){for(var e=this.body.edges,i=this.body.edgeIndices,n=void 0,r=0;r<i.length;r++)!0===(n=e[i[r]]).connected&&n.draw(t)}},{key:"_determineBrowserMethod",value:function(){if("undefined"!=typeof window){var t=navigator.userAgent.toLowerCase();this.requiresTimeout=!1,-1!=t.indexOf("msie 9.0")?this.requiresTimeout=!0:-1!=t.indexOf("safari")&&t.indexOf("chrome")<=-1&&(this.requiresTimeout=!0)}else this.requiresTimeout=!0}}]),t}();e.default=a},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(0)),o=n(i(1)),s=i(10),a=i(37),h=i(2),l=function(){function t(e){(0,r.default)(this,t),this.body=e,this.pixelRatio=1,this.resizeTimer=void 0,this.resizeFunction=this._onResize.bind(this),this.cameraState={},this.initialized=!1,this.canvasViewCenter={},this.options={},this.defaultOptions={autoResize:!0,height:"100%",width:"100%"},h.extend(this.options,this.defaultOptions),this.bindEventListeners()}return(0,o.default)(t,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.once("resize",function(e){0!==e.width&&(t.body.view.translation.x=.5*e.width),0!==e.height&&(t.body.view.translation.y=.5*e.height)}),this.body.emitter.on("setSize",this.setSize.bind(this)),this.body.emitter.on("destroy",function(){t.hammerFrame.destroy(),t.hammer.destroy(),t._cleanUp()})}},{key:"setOptions",value:function(t){var e=this;void 0!==t&&h.selectiveDeepExtend(["width","height","autoResize"],this.options,t),!0===this.options.autoResize&&(this._cleanUp(),this.resizeTimer=setInterval(function(){!0===e.setSize()&&e.body.emitter.emit("_requestRedraw")},1e3),this.resizeFunction=this._onResize.bind(this),h.addEventListener(window,"resize",this.resizeFunction))}},{key:"_cleanUp",value:function(){void 0!==this.resizeTimer&&clearInterval(this.resizeTimer),h.removeEventListener(window,"resize",this.resizeFunction),this.resizeFunction=void 0}},{key:"_onResize",value:function(){this.setSize(),this.body.emitter.emit("_redraw")}},{key:"_getCameraState",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.pixelRatio;!0===this.initialized&&(this.cameraState.previousWidth=this.frame.canvas.width/t,this.cameraState.previousHeight=this.frame.canvas.height/t,this.cameraState.scale=this.body.view.scale,this.cameraState.position=this.DOMtoCanvas({x:.5*this.frame.canvas.width/t,y:.5*this.frame.canvas.height/t}))}},{key:"_setCameraState",value:function(){if(void 0!==this.cameraState.scale&&0!==this.frame.canvas.clientWidth&&0!==this.frame.canvas.clientHeight&&0!==this.pixelRatio&&this.cameraState.previousWidth>0){var t=this.frame.canvas.width/this.pixelRatio/this.cameraState.previousWidth,e=this.frame.canvas.height/this.pixelRatio/this.cameraState.previousHeight,i=this.cameraState.scale;1!=t&&1!=e?i=.5*this.cameraState.scale*(t+e):1!=t?i=this.cameraState.scale*t:1!=e&&(i=this.cameraState.scale*e),this.body.view.scale=i;var n=this.DOMtoCanvas({x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight}),r={x:n.x-this.cameraState.position.x,y:n.y-this.cameraState.position.y};this.body.view.translation.x+=r.x*this.body.view.scale,this.body.view.translation.y+=r.y*this.body.view.scale}}},{key:"_prepareValue",value:function(t){if("number"==typeof t)return t+"px";if("string"==typeof t){if(-1!==t.indexOf("%")||-1!==t.indexOf("px"))return t;if(-1===t.indexOf("%"))return t+"px"}throw new Error("Could not use the value supplied for width or height:"+t)}},{key:"_create",value:function(){for(;this.body.container.hasChildNodes();)this.body.container.removeChild(this.body.container.firstChild);if(this.frame=document.createElement("div"),this.frame.className="vis-network",this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.tabIndex=900,this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas),this.frame.canvas.getContext)this._setPixelRatio(),this.setTransform();else{var t=document.createElement("DIV");t.style.color="red",t.style.fontWeight="bold",t.style.padding="10px",t.innerHTML="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(t)}this.body.container.appendChild(this.frame),this.body.view.scale=1,this.body.view.translation={x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight},this._bindHammer()}},{key:"_bindHammer",value:function(){var t=this;void 0!==this.hammer&&this.hammer.destroy(),this.drag={},this.pinch={},this.hammer=new s(this.frame.canvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.get("pan").set({threshold:5,direction:s.DIRECTION_ALL}),a.onTouch(this.hammer,function(e){t.body.eventListeners.onTouch(e)}),this.hammer.on("tap",function(e){t.body.eventListeners.onTap(e)}),this.hammer.on("doubletap",function(e){t.body.eventListeners.onDoubleTap(e)}),this.hammer.on("press",function(e){t.body.eventListeners.onHold(e)}),this.hammer.on("panstart",function(e){t.body.eventListeners.onDragStart(e)}),this.hammer.on("panmove",function(e){t.body.eventListeners.onDrag(e)}),this.hammer.on("panend",function(e){t.body.eventListeners.onDragEnd(e)}),this.hammer.on("pinch",function(e){t.body.eventListeners.onPinch(e)}),this.frame.canvas.addEventListener("mousewheel",function(e){t.body.eventListeners.onMouseWheel(e)}),this.frame.canvas.addEventListener("DOMMouseScroll",function(e){t.body.eventListeners.onMouseWheel(e)}),this.frame.canvas.addEventListener("mousemove",function(e){t.body.eventListeners.onMouseMove(e)}),this.frame.canvas.addEventListener("contextmenu",function(e){t.body.eventListeners.onContext(e)}),this.hammerFrame=new s(this.frame),a.onRelease(this.hammerFrame,function(e){t.body.eventListeners.onRelease(e)})}},{key:"setSize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.width,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.height;t=this._prepareValue(t),e=this._prepareValue(e);var i=!1,n=this.frame.canvas.width,r=this.frame.canvas.height,o=this.pixelRatio;if(this._setPixelRatio(),t!=this.options.width||e!=this.options.height||this.frame.style.width!=t||this.frame.style.height!=e)this._getCameraState(o),this.frame.style.width=t,this.frame.style.height=e,this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),this.frame.canvas.height=Math.round(this.frame.canvas.clientHeight*this.pixelRatio),this.options.width=t,this.options.height=e,this.canvasViewCenter={x:.5*this.frame.clientWidth,y:.5*this.frame.clientHeight},i=!0;else{var s=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),a=Math.round(this.frame.canvas.clientHeight*this.pixelRatio);this.frame.canvas.width===s&&this.frame.canvas.height===a||this._getCameraState(o),this.frame.canvas.width!==s&&(this.frame.canvas.width=s,i=!0),this.frame.canvas.height!==a&&(this.frame.canvas.height=a,i=!0)}return!0===i&&(this.body.emitter.emit("resize",{width:Math.round(this.frame.canvas.width/this.pixelRatio),height:Math.round(this.frame.canvas.height/this.pixelRatio),oldWidth:Math.round(n/this.pixelRatio),oldHeight:Math.round(r/this.pixelRatio)}),this._setCameraState()),this.initialized=!0,i}},{key:"getContext",value:function(){return this.frame.canvas.getContext("2d")}},{key:"_determinePixelRatio",value:function(){var t=this.getContext();if(void 0===t)throw new Error("Could not get canvax context");var e=1;return"undefined"!=typeof window&&(e=window.devicePixelRatio||1),e/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1)}},{key:"_setPixelRatio",value:function(){this.pixelRatio=this._determinePixelRatio()}},{key:"setTransform",value:function(){var t=this.getContext();if(void 0===t)throw new Error("Could not get canvax context");t.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}},{key:"_XconvertDOMtoCanvas",value:function(t){return(t-this.body.view.translation.x)/this.body.view.scale}},{key:"_XconvertCanvasToDOM",value:function(t){return t*this.body.view.scale+this.body.view.translation.x}},{key:"_YconvertDOMtoCanvas",value:function(t){return(t-this.body.view.translation.y)/this.body.view.scale}},{key:"_YconvertCanvasToDOM",value:function(t){return t*this.body.view.scale+this.body.view.translation.y}},{key:"canvasToDOM",value:function(t){return{x:this._XconvertCanvasToDOM(t.x),y:this._YconvertCanvasToDOM(t.y)}}},{key:"DOMtoCanvas",value:function(t){return{x:this._XconvertDOMtoCanvas(t.x),y:this._YconvertDOMtoCanvas(t.y)}}}]),t}();e.default=l},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(0)),o=n(i(1)),s=i(2),a=i(76).default,h=function(){function t(e,i){var n=this;(0,r.default)(this,t),this.body=e,this.canvas=i,this.animationSpeed=1/this.renderRefreshRate,this.animationEasingFunction="easeInOutQuint",this.easingTime=0,this.sourceScale=0,this.targetScale=0,this.sourceTranslation=0,this.targetTranslation=0,this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0,this.touchTime=0,this.viewFunction=void 0,this.body.emitter.on("fit",this.fit.bind(this)),this.body.emitter.on("animationFinished",function(){n.body.emitter.emit("_stopRendering")}),this.body.emitter.on("unlockNode",this.releaseNode.bind(this))}return(0,o.default)(t,[{key:"setOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.options=t}},{key:"fit",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{nodes:[]},e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=void 0,n=void 0;if(void 0!==t.nodes&&0!==t.nodes.length||(t.nodes=this.body.nodeIndices),!0===e){var r=0;for(var o in this.body.nodes)if(this.body.nodes.hasOwnProperty(o)){var s=this.body.nodes[o];!0===s.predefinedPosition&&(r+=1)}if(r>.5*this.body.nodeIndices.length)return void this.fit(t,!1);i=a.getRange(this.body.nodes,t.nodes),n=12.662/(this.body.nodeIndices.length+7.4147)+.0964822,n*=Math.min(this.canvas.frame.canvas.clientWidth/600,this.canvas.frame.canvas.clientHeight/600)}else{this.body.emitter.emit("_resizeNodes"),i=a.getRange(this.body.nodes,t.nodes);var h=1.1*Math.abs(i.maxX-i.minX),l=1.1*Math.abs(i.maxY-i.minY),d=this.canvas.frame.canvas.clientWidth/h,u=this.canvas.frame.canvas.clientHeight/l;n=d<=u?d:u}n>1?n=1:0===n&&(n=1);var c=a.findCenter(i),f={position:c,scale:n,animation:t.animation};this.moveTo(f)}},{key:"focus",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0!==this.body.nodes[t]){var i={x:this.body.nodes[t].x,y:this.body.nodes[t].y};e.position=i,e.lockedOnNode=t,this.moveTo(e)}else console.log("Node: "+t+" cannot be found.")}},{key:"moveTo",value:function(t){void 0!==t?(void 0===t.offset&&(t.offset={x:0,y:0}),void 0===t.offset.x&&(t.offset.x=0),void 0===t.offset.y&&(t.offset.y=0),void 0===t.scale&&(t.scale=this.body.view.scale),void 0===t.position&&(t.position=this.getViewPosition()),void 0===t.animation&&(t.animation={duration:0}),!1===t.animation&&(t.animation={duration:0}),!0===t.animation&&(t.animation={}),void 0===t.animation.duration&&(t.animation.duration=1e3),void 0===t.animation.easingFunction&&(t.animation.easingFunction="easeInOutQuad"),this.animateView(t)):t={}}},{key:"animateView",value:function(t){if(void 0!==t){this.animationEasingFunction=t.animation.easingFunction,this.releaseNode(),!0===t.locked&&(this.lockedOnNodeId=t.lockedOnNode,this.lockedOnNodeOffset=t.offset),0!=this.easingTime&&this._transitionRedraw(!0),this.sourceScale=this.body.view.scale,this.sourceTranslation=this.body.view.translation,this.targetScale=t.scale,this.body.view.scale=this.targetScale;var e=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),i={x:e.x-t.position.x,y:e.y-t.position.y};this.targetTranslation={x:this.sourceTranslation.x+i.x*this.targetScale+t.offset.x,y:this.sourceTranslation.y+i.y*this.targetScale+t.offset.y},0===t.animation.duration?null!=this.lockedOnNodeId?(this.viewFunction=this._lockedRedraw.bind(this),this.body.emitter.on("initRedraw",this.viewFunction)):(this.body.view.scale=this.targetScale,this.body.view.translation=this.targetTranslation,this.body.emitter.emit("_requestRedraw")):(this.animationSpeed=1/(60*t.animation.duration*.001)||1/60,this.animationEasingFunction=t.animation.easingFunction,this.viewFunction=this._transitionRedraw.bind(this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering"))}}},{key:"_lockedRedraw",value:function(){var t=this.body.nodes[this.lockedOnNodeId].x,e=this.body.nodes[this.lockedOnNodeId].y,i=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),n=this.body.view.translation;this.body.view.translation={x:n.x+(i.x-t)*this.body.view.scale+this.lockedOnNodeOffset.x,y:n.y+(i.y-e)*this.body.view.scale+this.lockedOnNodeOffset.y}}},{key:"releaseNode",value:function(){void 0!==this.lockedOnNodeId&&void 0!==this.viewFunction&&(this.body.emitter.off("initRedraw",this.viewFunction),this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0)}},{key:"_transitionRedraw",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.easingTime+=this.animationSpeed,this.easingTime=!0===t?1:this.easingTime;var e=s.easingFunctions[this.animationEasingFunction](this.easingTime);this.body.view.scale=this.sourceScale+(this.targetScale-this.sourceScale)*e,this.body.view.translation={x:this.sourceTranslation.x+(this.targetTranslation.x-this.sourceTranslation.x)*e,y:this.sourceTranslation.y+(this.targetTranslation.y-this.sourceTranslation.y)*e},this.easingTime>=1&&(this.body.emitter.off("initRedraw",this.viewFunction),this.easingTime=0,null!=this.lockedOnNodeId&&(this.viewFunction=this._lockedRedraw.bind(this),this.body.emitter.on("initRedraw",this.viewFunction)),this.body.emitter.emit("animationFinished"))}},{key:"getScale",value:function(){return this.body.view.scale}},{key:"getViewPosition",value:function(){return this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight})}}]),t}();e.default=h},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(0)),o=n(i(1)),s=i(2),a=i(233).default,h=i(104).default,l=function(){function t(e,i,n){(0,r.default)(this,t),this.body=e,this.canvas=i,this.selectionHandler=n,this.navigationHandler=new a(e,i),this.body.eventListeners.onTap=this.onTap.bind(this),this.body.eventListeners.onTouch=this.onTouch.bind(this),this.body.eventListeners.onDoubleTap=this.onDoubleTap.bind(this),this.body.eventListeners.onHold=this.onHold.bind(this),this.body.eventListeners.onDragStart=this.onDragStart.bind(this),this.body.eventListeners.onDrag=this.onDrag.bind(this),this.body.eventListeners.onDragEnd=this.onDragEnd.bind(this),this.body.eventListeners.onMouseWheel=this.onMouseWheel.bind(this),this.body.eventListeners.onPinch=this.onPinch.bind(this),this.body.eventListeners.onMouseMove=this.onMouseMove.bind(this),this.body.eventListeners.onRelease=this.onRelease.bind(this),this.body.eventListeners.onContext=this.onContext.bind(this),this.touchTime=0,this.drag={},this.pinch={},this.popup=void 0,this.popupObj=void 0,this.popupTimer=void 0,this.body.functions.getPointer=this.getPointer.bind(this),this.options={},this.defaultOptions={dragNodes:!0,dragView:!0,hover:!1,keyboard:{enabled:!1,speed:{x:10,y:10,zoom:.02},bindToWindow:!0},navigationButtons:!1,tooltipDelay:300,zoomView:!0},s.extend(this.options,this.defaultOptions),this.bindEventListeners()}return(0,o.default)(t,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.on("destroy",function(){clearTimeout(t.popupTimer),delete t.body.functions.getPointer})}},{key:"setOptions",value:function(t){void 0!==t&&(s.selectiveNotDeepExtend(["hideEdgesOnDrag","hideNodesOnDrag","keyboard","multiselect","selectable","selectConnectedEdges"],this.options,t),s.mergeOptions(this.options,t,"keyboard"),t.tooltip&&(s.extend(this.options.tooltip,t.tooltip),t.tooltip.color&&(this.options.tooltip.color=s.parseColor(t.tooltip.color)))),this.navigationHandler.setOptions(this.options)}},{key:"getPointer",value:function(t){return{x:t.x-s.getAbsoluteLeft(this.canvas.frame.canvas),y:t.y-s.getAbsoluteTop(this.canvas.frame.canvas)}}},{key:"onTouch",value:function(t){(new Date).valueOf()-this.touchTime>50&&(this.drag.pointer=this.getPointer(t.center),this.drag.pinched=!1,this.pinch.scale=this.body.view.scale,this.touchTime=(new Date).valueOf())}},{key:"onTap",value:function(t){var e=this.getPointer(t.center);this.checkSelectionChanges(e,t,this.selectionHandler.options.multiselect&&(t.changedPointers[0].ctrlKey||t.changedPointers[0].metaKey)),this.selectionHandler._generateClickEvent("click",t,e)}},{key:"onDoubleTap",value:function(t){var e=this.getPointer(t.center);this.selectionHandler._generateClickEvent("doubleClick",t,e)}},{key:"onHold",value:function(t){var e=this.getPointer(t.center);this.checkSelectionChanges(e,t,this.selectionHandler.options.multiselect),this.selectionHandler._generateClickEvent("click",t,e),this.selectionHandler._generateClickEvent("hold",t,e)}},{key:"onRelease",value:function(t){if((new Date).valueOf()-this.touchTime>10){var e=this.getPointer(t.center);this.selectionHandler._generateClickEvent("release",t,e),this.touchTime=(new Date).valueOf()}}},{key:"onContext",value:function(t){var e=this.getPointer({x:t.clientX,y:t.clientY});this.selectionHandler._generateClickEvent("oncontext",t,e)}},{key:"checkSelectionChanges",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=this.selectionHandler.getSelection(),r=!1;r=!0===i?this.selectionHandler.selectAdditionalOnPoint(t):this.selectionHandler.selectOnPoint(t);var o=this.selectionHandler.getSelection(),s=this._determineDifference(n,o),a=this._determineDifference(o,n);s.edges.length>0&&(this.selectionHandler._generateClickEvent("deselectEdge",e,t,n),r=!0),s.nodes.length>0&&(this.selectionHandler._generateClickEvent("deselectNode",e,t,n),r=!0),a.nodes.length>0&&(this.selectionHandler._generateClickEvent("selectNode",e,t),r=!0),a.edges.length>0&&(this.selectionHandler._generateClickEvent("selectEdge",e,t),r=!0),!0===r&&this.selectionHandler._generateClickEvent("select",e,t)}},{key:"_determineDifference",value:function(t,e){var i=function(t,e){for(var i=[],n=0;n<t.length;n++){var r=t[n];-1===e.indexOf(r)&&i.push(r)}return i};return{nodes:i(t.nodes,e.nodes),edges:i(t.edges,e.edges)}}},{key:"onDragStart",value:function(t){void 0===this.drag.pointer&&this.onTouch(t);var e=this.selectionHandler.getNodeAt(this.drag.pointer);if(this.drag.dragging=!0,this.drag.selection=[],this.drag.translation=s.extend({},this.body.view.translation),this.drag.nodeId=void 0,void 0!==e&&!0===this.options.dragNodes){this.drag.nodeId=e.id,!1===e.isSelected()&&(this.selectionHandler.unselectAll(),this.selectionHandler.selectObject(e)),this.selectionHandler._generateClickEvent("dragStart",t,this.drag.pointer);var i=this.selectionHandler.selectionObj.nodes;for(var n in i)if(i.hasOwnProperty(n)){var r=i[n],o={id:r.id,node:r,x:r.x,y:r.y,xFixed:r.options.fixed.x,yFixed:r.options.fixed.y};r.options.fixed.x=!0,r.options.fixed.y=!0,this.drag.selection.push(o)}}else this.selectionHandler._generateClickEvent("dragStart",t,this.drag.pointer,void 0,!0)}},{key:"onDrag",value:function(t){var e=this;if(!0!==this.drag.pinched){this.body.emitter.emit("unlockNode");var i=this.getPointer(t.center),n=this.drag.selection;if(n&&n.length&&!0===this.options.dragNodes){this.selectionHandler._generateClickEvent("dragging",t,i);var r=i.x-this.drag.pointer.x,o=i.y-this.drag.pointer.y;n.forEach(function(t){var i=t.node;!1===t.xFixed&&(i.x=e.canvas._XconvertDOMtoCanvas(e.canvas._XconvertCanvasToDOM(t.x)+r)),!1===t.yFixed&&(i.y=e.canvas._YconvertDOMtoCanvas(e.canvas._YconvertCanvasToDOM(t.y)+o))}),this.body.emitter.emit("startSimulation")}else if(!0===this.options.dragView){if(this.selectionHandler._generateClickEvent("dragging",t,i,void 0,!0),void 0===this.drag.pointer)return void this.onDragStart(t);this.body.view.translation={x:this.drag.translation.x+(i.x-this.drag.pointer.x),y:this.drag.translation.y+(i.y-this.drag.pointer.y)},this.body.emitter.emit("_requestRedraw")}}}},{key:"onDragEnd",value:function(t){this.drag.dragging=!1;var e=this.drag.selection;e&&e.length?(e.forEach(function(t){t.node.options.fixed.x=t.xFixed,t.node.options.fixed.y=t.yFixed}),this.selectionHandler._generateClickEvent("dragEnd",t,this.getPointer(t.center)),this.body.emitter.emit("startSimulation")):(this.selectionHandler._generateClickEvent("dragEnd",t,this.getPointer(t.center),void 0,!0),this.body.emitter.emit("_requestRedraw"))}},{key:"onPinch",value:function(t){var e=this.getPointer(t.center);this.drag.pinched=!0,void 0===this.pinch.scale&&(this.pinch.scale=1),this.zoom(this.pinch.scale*t.scale,e)}},{key:"zoom",value:function(t,e){if(!0===this.options.zoomView){var i=this.body.view.scale;t<1e-5&&(t=1e-5),t>10&&(t=10);var n=void 0;void 0!==this.drag&&!0===this.drag.dragging&&(n=this.canvas.DOMtoCanvas(this.drag.pointer));var r=this.body.view.translation,o=t/i,s=(1-o)*e.x+r.x*o,a=(1-o)*e.y+r.y*o;if(this.body.view.scale=t,this.body.view.translation={x:s,y:a},null!=n){var h=this.canvas.canvasToDOM(n);this.drag.pointer.x=h.x,this.drag.pointer.y=h.y}this.body.emitter.emit("_requestRedraw"),this.body.emitter.emit("zoom",i<t?{direction:"+",scale:this.body.view.scale,pointer:e}:{direction:"-",scale:this.body.view.scale,pointer:e})}}},{key:"onMouseWheel",value:function(t){if(!0===this.options.zoomView){var e=0;if(t.wheelDelta?e=t.wheelDelta/120:t.detail&&(e=-t.detail/3),0!==e){var i=this.body.view.scale,n=e/10;e<0&&(n/=1-n),i*=1+n;var r=this.getPointer({x:t.clientX,y:t.clientY});this.zoom(i,r)}t.preventDefault()}}},{key:"onMouseMove",value:function(t){var e=this,i=this.getPointer({x:t.clientX,y:t.clientY}),n=!1;void 0!==this.popup&&(!1===this.popup.hidden&&this._checkHidePopup(i),!1===this.popup.hidden&&(n=!0,this.popup.setPosition(i.x+3,i.y-5),this.popup.show())),!1===this.options.keyboard.bindToWindow&&!0===this.options.keyboard.enabled&&this.canvas.frame.focus(),!1===n&&(void 0!==this.popupTimer&&(clearInterval(this.popupTimer),this.popupTimer=void 0),this.drag.dragging||(this.popupTimer=setTimeout(function(){return e._checkShowPopup(i)},this.options.tooltipDelay))),!0===this.options.hover&&this.selectionHandler.hoverObject(t,i)}},{key:"_checkShowPopup",value:function(t){var e=this.canvas._XconvertDOMtoCanvas(t.x),i=this.canvas._YconvertDOMtoCanvas(t.y),n={left:e,top:i,right:e,bottom:i},r=void 0===this.popupObj?void 0:this.popupObj.id,o=!1,s="node";if(void 0===this.popupObj){for(var a=this.body.nodeIndices,l=this.body.nodes,d=void 0,u=[],c=0;c<a.length;c++)!0===(d=l[a[c]]).isOverlappingWith(n)&&void 0!==d.getTitle()&&u.push(a[c]);u.length>0&&(this.popupObj=l[u[u.length-1]],o=!0)}if(void 0===this.popupObj&&!1===o){for(var f=this.body.edgeIndices,p=this.body.edges,g=void 0,m=[],v=0;v<f.length;v++)!0===(g=p[f[v]]).isOverlappingWith(n)&&!0===g.connected&&void 0!==g.getTitle()&&m.push(f[v]);m.length>0&&(this.popupObj=p[m[m.length-1]],s="edge")}void 0!==this.popupObj?this.popupObj.id!==r&&(void 0===this.popup&&(this.popup=new h(this.canvas.frame)),this.popup.popupTargetType=s,this.popup.popupTargetId=this.popupObj.id,this.popup.setPosition(t.x+3,t.y-5),this.popup.setText(this.popupObj.getTitle()),this.popup.show(),this.body.emitter.emit("showPopup",this.popupObj.id)):void 0!==this.popup&&(this.popup.hide(),this.body.emitter.emit("hidePopup"))}},{key:"_checkHidePopup",value:function(t){var e=this.selectionHandler._pointerToPositionObject(t),i=!1;if("node"===this.popup.popupTargetType){if(void 0!==this.body.nodes[this.popup.popupTargetId]&&!0===(i=this.body.nodes[this.popup.popupTargetId].isOverlappingWith(e))){var n=this.selectionHandler.getNodeAt(t);i=void 0!==n&&n.id===this.popup.popupTargetId}}else void 0===this.selectionHandler.getNodeAt(t)&&void 0!==this.body.edges[this.popup.popupTargetId]&&(i=this.body.edges[this.popup.popupTargetId].isOverlappingWith(e));!1===i&&(this.popupObj=void 0,this.popup.hide(),this.body.emitter.emit("hidePopup"))}}]),t}();e.default=l},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(0)),o=n(i(1)),s=i(10),a=i(37),h=i(35),l=function(){function t(e,i){var n=this;(0,r.default)(this,t),this.body=e,this.canvas=i,this.iconsCreated=!1,this.navigationHammers=[],this.boundFunctions={},this.touchTime=0,this.activated=!1,this.body.emitter.on("activate",function(){n.activated=!0,n.configureKeyboardBindings()}),this.body.emitter.on("deactivate",function(){n.activated=!1,n.configureKeyboardBindings()}),this.body.emitter.on("destroy",function(){void 0!==n.keycharm&&n.keycharm.destroy()}),this.options={}}return(0,o.default)(t,[{key:"setOptions",value:function(t){void 0!==t&&(this.options=t,this.create())}},{key:"create",value:function(){!0===this.options.navigationButtons?!1===this.iconsCreated&&this.loadNavigationElements():!0===this.iconsCreated&&this.cleanNavigation(),this.configureKeyboardBindings()}},{key:"cleanNavigation",value:function(){if(0!=this.navigationHammers.length){for(var t=0;t<this.navigationHammers.length;t++)this.navigationHammers[t].destroy();this.navigationHammers=[]}this.navigationDOM&&this.navigationDOM.wrapper&&this.navigationDOM.wrapper.parentNode&&this.navigationDOM.wrapper.parentNode.removeChild(this.navigationDOM.wrapper),this.iconsCreated=!1}},{key:"loadNavigationElements",value:function(){var t=this;this.cleanNavigation(),this.navigationDOM={};var e=["up","down","left","right","zoomIn","zoomOut","zoomExtends"],i=["_moveUp","_moveDown","_moveLeft","_moveRight","_zoomIn","_zoomOut","_fit"];this.navigationDOM.wrapper=document.createElement("div"),this.navigationDOM.wrapper.className="vis-navigation",this.canvas.frame.appendChild(this.navigationDOM.wrapper);for(var n=0;n<e.length;n++){this.navigationDOM[e[n]]=document.createElement("div"),this.navigationDOM[e[n]].className="vis-button vis-"+e[n],this.navigationDOM.wrapper.appendChild(this.navigationDOM[e[n]]);var r=new s(this.navigationDOM[e[n]]);a.onTouch(r,"_fit"===i[n]?this._fit.bind(this):this.bindToRedraw.bind(this,i[n])),this.navigationHammers.push(r)}var o=new s(this.canvas.frame);a.onRelease(o,function(){t._stopMovement()}),this.navigationHammers.push(o),this.iconsCreated=!0}},{key:"bindToRedraw",value:function(t){void 0===this.boundFunctions[t]&&(this.boundFunctions[t]=this[t].bind(this),this.body.emitter.on("initRedraw",this.boundFunctions[t]),this.body.emitter.emit("_startRendering"))}},{key:"unbindFromRedraw",value:function(t){void 0!==this.boundFunctions[t]&&(this.body.emitter.off("initRedraw",this.boundFunctions[t]),this.body.emitter.emit("_stopRendering"),delete this.boundFunctions[t])}},{key:"_fit",value:function(){(new Date).valueOf()-this.touchTime>700&&(this.body.emitter.emit("fit",{duration:700}),this.touchTime=(new Date).valueOf())}},{key:"_stopMovement",value:function(){for(var t in this.boundFunctions)this.boundFunctions.hasOwnProperty(t)&&(this.body.emitter.off("initRedraw",this.boundFunctions[t]),this.body.emitter.emit("_stopRendering"));this.boundFunctions={}}},{key:"_moveUp",value:function(){this.body.view.translation.y+=this.options.keyboard.speed.y}},{key:"_moveDown",value:function(){this.body.view.translation.y-=this.options.keyboard.speed.y}},{key:"_moveLeft",value:function(){this.body.view.translation.x+=this.options.keyboard.speed.x}},{key:"_moveRight",value:function(){this.body.view.translation.x-=this.options.keyboard.speed.x}},{key:"_zoomIn",value:function(){var t=this.body.view.scale*(1+this.options.keyboard.speed.zoom),e=this.body.view.translation,i=t/this.body.view.scale,n=(1-i)*this.canvas.canvasViewCenter.x+e.x*i,r=(1-i)*this.canvas.canvasViewCenter.y+e.y*i;this.body.view.scale=t,this.body.view.translation={x:n,y:r},this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:null})}},{key:"_zoomOut",value:function(){var t=this.body.view.scale/(1+this.options.keyboard.speed.zoom),e=this.body.view.translation,i=t/this.body.view.scale,n=(1-i)*this.canvas.canvasViewCenter.x+e.x*i,r=(1-i)*this.canvas.canvasViewCenter.y+e.y*i;this.body.view.scale=t,this.body.view.translation={x:n,y:r},this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:null})}},{key:"configureKeyboardBindings",value:function(){var t=this;void 0!==this.keycharm&&this.keycharm.destroy(),!0===this.options.keyboard.enabled&&(this.keycharm=h(!0===this.options.keyboard.bindToWindow?{container:window,preventDefault:!0}:{container:this.canvas.frame,preventDefault:!0}),this.keycharm.reset(),!0===this.activated&&(this.keycharm.bind("up",function(){t.bindToRedraw("_moveUp")},"keydown"),this.keycharm.bind("down",function(){t.bindToRedraw("_moveDown")},"keydown"),this.keycharm.bind("left",function(){t.bindToRedraw("_moveLeft")},"keydown"),this.keycharm.bind("right",function(){t.bindToRedraw("_moveRight")},"keydown"),this.keycharm.bind("=",function(){t.bindToRedraw("_zoomIn")},"keydown"),this.keycharm.bind("num+",function(){t.bindToRedraw("_zoomIn")},"keydown"),this.keycharm.bind("num-",function(){t.bindToRedraw("_zoomOut")},"keydown"),this.keycharm.bind("-",function(){t.bindToRedraw("_zoomOut")},"keydown"),this.keycharm.bind("[",function(){t.bindToRedraw("_zoomOut")},"keydown"),this.keycharm.bind("]",function(){t.bindToRedraw("_zoomIn")},"keydown"),this.keycharm.bind("pageup",function(){t.bindToRedraw("_zoomIn")},"keydown"),this.keycharm.bind("pagedown",function(){t.bindToRedraw("_zoomOut")},"keydown"),this.keycharm.bind("up",function(){t.unbindFromRedraw("_moveUp")},"keyup"),this.keycharm.bind("down",function(){t.unbindFromRedraw("_moveDown")},"keyup"),this.keycharm.bind("left",function(){t.unbindFromRedraw("_moveLeft")},"keyup"),this.keycharm.bind("right",function(){t.unbindFromRedraw("_moveRight")},"keyup"),this.keycharm.bind("=",function(){t.unbindFromRedraw("_zoomIn")},"keyup"),this.keycharm.bind("num+",function(){t.unbindFromRedraw("_zoomIn")},"keyup"),this.keycharm.bind("num-",function(){t.unbindFromRedraw("_zoomOut")},"keyup"),this.keycharm.bind("-",function(){t.unbindFromRedraw("_zoomOut")},"keyup"),this.keycharm.bind("[",function(){t.unbindFromRedraw("_zoomOut")},"keyup"),this.keycharm.bind("]",function(){t.unbindFromRedraw("_zoomIn")},"keyup"),this.keycharm.bind("pageup",function(){t.unbindFromRedraw("_zoomIn")},"keyup"),this.keycharm.bind("pagedown",function(){t.unbindFromRedraw("_zoomOut")},"keyup")))}}]),t}();e.default=l},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(0)),o=n(i(1)),s=i(47).default,a=i(74).default,h=i(2),l=function(){function t(e,i){var n=this;(0,r.default)(this,t),this.body=e,this.canvas=i,this.selectionObj={nodes:[],edges:[]},this.hoverObj={nodes:{},edges:{}},this.options={},this.defaultOptions={multiselect:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0},h.extend(this.options,this.defaultOptions),this.body.emitter.on("_dataChanged",function(){n.updateSelection()})}return(0,o.default)(t,[{key:"setOptions",value:function(t){void 0!==t&&h.selectiveDeepExtend(["multiselect","hoverConnectedEdges","selectable","selectConnectedEdges"],this.options,t)}},{key:"selectOnPoint",value:function(t){var e=!1;if(!0===this.options.selectable){var i=this.getNodeAt(t)||this.getEdgeAt(t);this.unselectAll(),void 0!==i&&(e=this.selectObject(i)),this.body.emitter.emit("_requestRedraw")}return e}},{key:"selectAdditionalOnPoint",value:function(t){var e=!1;if(!0===this.options.selectable){var i=this.getNodeAt(t)||this.getEdgeAt(t);void 0!==i&&(e=!0,!0===i.isSelected()?this.deselectObject(i):this.selectObject(i),this.body.emitter.emit("_requestRedraw"))}return e}},{key:"_initBaseEvent",value:function(t,e){var i={};return i.pointer={DOM:{x:e.x,y:e.y},canvas:this.canvas.DOMtoCanvas(e)},i.event=t,i}},{key:"_generateClickEvent",value:function(t,e,i,n){var r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=this._initBaseEvent(e,i);if(!0===r)o.nodes=[],o.edges=[];else{var s=this.getSelection();o.nodes=s.nodes,o.edges=s.edges}void 0!==n&&(o.previousSelection=n),"click"==t&&(o.items=this.getClickedItems(i)),this.body.emitter.emit(t,o)}},{key:"selectObject",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.selectConnectedEdges;return void 0!==t&&(t instanceof s&&!0===e&&this._selectConnectedEdges(t),t.select(),this._addToSelection(t),!0)}},{key:"deselectObject",value:function(t){!0===t.isSelected()&&(t.selected=!1,this._removeFromSelection(t))}},{key:"_getAllNodesOverlappingWith",value:function(t){for(var e=[],i=this.body.nodes,n=0;n<this.body.nodeIndices.length;n++){var r=this.body.nodeIndices[n];i[r].isOverlappingWith(t)&&e.push(r)}return e}},{key:"_pointerToPositionObject",value:function(t){var e=this.canvas.DOMtoCanvas(t);return{left:e.x-1,top:e.y+1,right:e.x+1,bottom:e.y-1}}},{key:"getNodeAt",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this._pointerToPositionObject(t),n=this._getAllNodesOverlappingWith(i);return n.length>0?!0===e?this.body.nodes[n[n.length-1]]:n[n.length-1]:void 0}},{key:"_getEdgesOverlappingWith",value:function(t,e){for(var i=this.body.edges,n=0;n<this.body.edgeIndices.length;n++){var r=this.body.edgeIndices[n];i[r].isOverlappingWith(t)&&e.push(r)}}},{key:"_getAllEdgesOverlappingWith",value:function(t){var e=[];return this._getEdgesOverlappingWith(t,e),e}},{key:"getEdgeAt",value:function(t){for(var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this.canvas.DOMtoCanvas(t),n=10,r=null,o=this.body.edges,s=0;s<this.body.edgeIndices.length;s++){var a=this.body.edgeIndices[s],h=o[a];if(h.connected){var l=h.from.x,d=h.from.y,u=h.to.x,c=h.to.y,f=h.edgeType.getDistanceToEdge(l,d,u,c,i.x,i.y);f<n&&(r=a,n=f)}}return null!==r?!0===e?this.body.edges[r]:r:void 0}},{key:"_addToSelection",value:function(t){t instanceof s?this.selectionObj.nodes[t.id]=t:this.selectionObj.edges[t.id]=t}},{key:"_addToHover",value:function(t){t instanceof s?this.hoverObj.nodes[t.id]=t:this.hoverObj.edges[t.id]=t}},{key:"_removeFromSelection",value:function(t){t instanceof s?(delete this.selectionObj.nodes[t.id],this._unselectConnectedEdges(t)):delete this.selectionObj.edges[t.id]}},{key:"unselectAll",value:function(){for(var t in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(t)&&this.selectionObj.nodes[t].unselect();for(var e in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(e)&&this.selectionObj.edges[e].unselect();this.selectionObj={nodes:{},edges:{}}}},{key:"_getSelectedNodeCount",value:function(){var t=0;for(var e in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(e)&&(t+=1);return t}},{key:"_getSelectedNode",value:function(){for(var t in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(t))return this.selectionObj.nodes[t]}},{key:"_getSelectedEdge",value:function(){for(var t in this.selectionObj.edges)if(this.selectionObj.edges.hasOwnProperty(t))return this.selectionObj.edges[t]}},{key:"_getSelectedEdgeCount",value:function(){var t=0;for(var e in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(e)&&(t+=1);return t}},{key:"_getSelectedObjectCount",value:function(){var t=0;for(var e in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(e)&&(t+=1);for(var i in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(i)&&(t+=1);return t}},{key:"_selectionIsEmpty",value:function(){for(var t in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(t))return!1;for(var e in this.selectionObj.edges)if(this.selectionObj.edges.hasOwnProperty(e))return!1;return!0}},{key:"_clusterInSelection",value:function(){for(var t in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(t)&&this.selectionObj.nodes[t].clusterSize>1)return!0;return!1}},{key:"_selectConnectedEdges",value:function(t){for(var e=0;e<t.edges.length;e++){var i=t.edges[e];i.select(),this._addToSelection(i)}}},{key:"_hoverConnectedEdges",value:function(t){for(var e=0;e<t.edges.length;e++){var i=t.edges[e];i.hover=!0,this._addToHover(i)}}},{key:"_unselectConnectedEdges",value:function(t){for(var e=0;e<t.edges.length;e++){var i=t.edges[e];i.unselect(),this._removeFromSelection(i)}}},{key:"emitBlurEvent",value:function(t,e,i){var n=this._initBaseEvent(t,e);!0===i.hover&&(i.hover=!1,i instanceof s?(n.node=i.id,this.body.emitter.emit("blurNode",n)):(n.edge=i.id,this.body.emitter.emit("blurEdge",n)))}},{key:"emitHoverEvent",value:function(t,e,i){var n=this._initBaseEvent(t,e),r=!1;return!1===i.hover&&(i.hover=!0,this._addToHover(i),r=!0,i instanceof s?(n.node=i.id,this.body.emitter.emit("hoverNode",n)):(n.edge=i.id,this.body.emitter.emit("hoverEdge",n))),r}},{key:"hoverObject",value:function(t,e){var i=this.getNodeAt(e);void 0===i&&(i=this.getEdgeAt(e));var n=!1;for(var r in this.hoverObj.nodes)this.hoverObj.nodes.hasOwnProperty(r)&&(void 0===i||i instanceof s&&i.id!=r||i instanceof a)&&(this.emitBlurEvent(t,e,this.hoverObj.nodes[r]),delete this.hoverObj.nodes[r],n=!0);for(var o in this.hoverObj.edges)this.hoverObj.edges.hasOwnProperty(o)&&(!0===n?(this.hoverObj.edges[o].hover=!1,delete this.hoverObj.edges[o]):(void 0===i||i instanceof a&&i.id!=o||i instanceof s&&!i.hover)&&(this.emitBlurEvent(t,e,this.hoverObj.edges[o]),delete this.hoverObj.edges[o],n=!0));void 0!==i&&(n=n||this.emitHoverEvent(t,e,i),i instanceof s&&!0===this.options.hoverConnectedEdges&&this._hoverConnectedEdges(i)),!0===n&&this.body.emitter.emit("_requestRedraw")}},{key:"getSelection",value:function(){return{nodes:this.getSelectedNodes(),edges:this.getSelectedEdges()}}},{key:"getSelectedNodes",value:function(){var t=[];if(!0===this.options.selectable)for(var e in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(e)&&t.push(this.selectionObj.nodes[e].id);return t}},{key:"getSelectedEdges",value:function(){var t=[];if(!0===this.options.selectable)for(var e in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(e)&&t.push(this.selectionObj.edges[e].id);return t}},{key:"setSelection",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=void 0,n=void 0;if(!t||!t.nodes&&!t.edges)throw"Selection must be an object with nodes and/or edges properties";if((e.unselectAll||void 0===e.unselectAll)&&this.unselectAll(),t.nodes)for(i=0;i<t.nodes.length;i++){var r=this.body.nodes[n=t.nodes[i]];if(!r)throw new RangeError('Node with id "'+n+'" not found');this.selectObject(r,e.highlightEdges)}if(t.edges)for(i=0;i<t.edges.length;i++){var o=this.body.edges[n=t.edges[i]];if(!o)throw new RangeError('Edge with id "'+n+'" not found');this.selectObject(o)}this.body.emitter.emit("_requestRedraw")}},{key:"selectNodes",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!t||void 0===t.length)throw"Selection must be an array with ids";this.setSelection({nodes:t},{highlightEdges:e})}},{key:"selectEdges",value:function(t){if(!t||void 0===t.length)throw"Selection must be an array with ids";this.setSelection({edges:t})}},{key:"updateSelection",value:function(){for(var t in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(t)&&(this.body.nodes.hasOwnProperty(t)||delete this.selectionObj.nodes[t]);for(var e in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(e)&&(this.body.edges.hasOwnProperty(e)||delete this.selectionObj.edges[e])}},{key:"getClickedItems",value:function(t){for(var e=this.canvas.DOMtoCanvas(t),i=[],n=this.body.nodeIndices,r=this.body.nodes,o=n.length-1;o>=0;o--){var s=r[n[o]].getItemsOnPoint(e);i.push.apply(i,s)}for(var a=this.body.edgeIndices,h=this.body.edges,l=a.length-1;l>=0;l--){var d=h[a[l]].getItemsOnPoint(e);i.push.apply(i,d)}return i}}]),t}();e.default=l},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(30)),o=n(i(6)),s=n(i(8)),a=n(i(0)),h=n(i(1)),l=i(2),d=i(76).default,u=i(236),c=u.HorizontalStrategy,f=u.VerticalStrategy,p=function(){function t(){(0,a.default)(this,t),this.childrenReference={},this.parentReference={},this.trees={},this.distributionOrdering={},this.levels={},this.distributionIndex={},this.isTree=!1,this.treeIndex=-1}return(0,h.default)(t,[{key:"addRelation",value:function(t,e){void 0===this.childrenReference[t]&&(this.childrenReference[t]=[]),this.childrenReference[t].push(e),void 0===this.parentReference[e]&&(this.parentReference[e]=[]),this.parentReference[e].push(t)}},{key:"checkIfTree",value:function(){for(var t in this.parentReference)if(this.parentReference[t].length>1)return void(this.isTree=!1);this.isTree=!0}},{key:"numTrees",value:function(){return this.treeIndex+1}},{key:"setTreeIndex",value:function(t,e){void 0!==e&&void 0===this.trees[t.id]&&(this.trees[t.id]=e,this.treeIndex=Math.max(e,this.treeIndex))}},{key:"ensureLevel",value:function(t){void 0===this.levels[t]&&(this.levels[t]=0)}},{key:"getMaxLevel",value:function(t){var e=this,i={};return function t(n){if(void 0!==i[n])return i[n];var r=e.levels[n];if(e.childrenReference[n]){var o=e.childrenReference[n];if(o.length>0)for(var s=0;s<o.length;s++)r=Math.max(r,t(o[s]))}return i[n]=r,r}(t)}},{key:"levelDownstream",value:function(t,e){void 0===this.levels[e.id]&&(void 0===this.levels[t.id]&&(this.levels[t.id]=0),this.levels[e.id]=this.levels[t.id]+1)}},{key:"setMinLevelToZero",value:function(t){var e=1e9;for(var i in t)t.hasOwnProperty(i)&&void 0!==this.levels[i]&&(e=Math.min(this.levels[i],e));for(var n in t)t.hasOwnProperty(n)&&void 0!==this.levels[n]&&(this.levels[n]-=e)}},{key:"getTreeSize",value:function(t,e){var i=1e9,n=-1e9,r=1e9,o=-1e9;for(var s in this.trees)if(this.trees.hasOwnProperty(s)&&this.trees[s]===e){var a=t[s];i=Math.min(a.x,i),n=Math.max(a.x,n),r=Math.min(a.y,r),o=Math.max(a.y,o)}return{min_x:i,max_x:n,min_y:r,max_y:o}}},{key:"hasSameParent",value:function(t,e){var i=this.parentReference[t.id],n=this.parentReference[e.id];if(void 0===i||void 0===n)return!1;for(var r=0;r<i.length;r++)for(var o=0;o<n.length;o++)if(i[r]==n[o])return!0;return!1}},{key:"inSameSubNetwork",value:function(t,e){return this.trees[t.id]===this.trees[e.id]}},{key:"getLevels",value:function(){return(0,s.default)(this.distributionOrdering)}},{key:"addToOrdering",value:function(t,e){void 0===this.distributionOrdering[e]&&(this.distributionOrdering[e]=[]);var i=!1,n=this.distributionOrdering[e];for(var r in n)if(n[r]===t){i=!0;break}i||(this.distributionOrdering[e].push(t),this.distributionIndex[t.id]=this.distributionOrdering[e].length-1)}}]),t}(),g=function(){function t(e){(0,a.default)(this,t),this.body=e,this.initialRandomSeed=Math.round(1e6*Math.random()),this.randomSeed=this.initialRandomSeed,this.setPhysics=!1,this.options={},this.optionsBackup={physics:{}},this.defaultOptions={randomSeed:void 0,improvedLayout:!0,hierarchical:{enabled:!1,levelSeparation:150,nodeSpacing:100,treeSpacing:200,blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:"UD",sortMethod:"hubsize"}},l.extend(this.options,this.defaultOptions),this.bindEventListeners()}return(0,h.default)(t,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.on("_dataChanged",function(){t.setupHierarchicalLayout()}),this.body.emitter.on("_dataLoaded",function(){t.layoutNetwork()}),this.body.emitter.on("_resetHierarchicalLayout",function(){t.setupHierarchicalLayout()}),this.body.emitter.on("_adjustEdgesForHierarchicalLayout",function(){if(!0===t.options.hierarchical.enabled){var e=t.direction.curveType();t.body.emitter.emit("_forceDisableDynamicCurves",e,!1)}})}},{key:"setOptions",value:function(t,e){if(void 0!==t){var i=this.options.hierarchical,n=i.enabled;if(l.selectiveDeepExtend(["randomSeed","improvedLayout"],this.options,t),l.mergeOptions(this.options,t,"hierarchical"),void 0!==t.randomSeed&&(this.initialRandomSeed=t.randomSeed),!0===i.enabled)return!0===n&&this.body.emitter.emit("refresh",!0),"RL"===i.direction||"DU"===i.direction?i.levelSeparation>0&&(i.levelSeparation*=-1):i.levelSeparation<0&&(i.levelSeparation*=-1),this.setDirectionStrategy(),this.body.emitter.emit("_resetHierarchicalLayout"),this.adaptAllOptionsForHierarchicalLayout(e);if(!0===n)return this.body.emitter.emit("refresh"),l.deepExtend(e,this.optionsBackup)}return e}},{key:"adaptAllOptionsForHierarchicalLayout",value:function(t){if(!0===this.options.hierarchical.enabled){var e=this.optionsBackup.physics;void 0===t.physics||!0===t.physics?(t.physics={enabled:void 0===e.enabled||e.enabled,solver:"hierarchicalRepulsion"},e.enabled=void 0===e.enabled||e.enabled,e.solver=e.solver||"barnesHut"):"object"===(0,o.default)(t.physics)?(e.enabled=void 0===t.physics.enabled||t.physics.enabled,e.solver=t.physics.solver||"barnesHut",t.physics.solver="hierarchicalRepulsion"):!1!==t.physics&&(e.solver="barnesHut",t.physics={solver:"hierarchicalRepulsion"});var i=this.direction.curveType();if(void 0===t.edges)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},t.edges={smooth:!1};else if(void 0===t.edges.smooth)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},t.edges.smooth=!1;else if("boolean"==typeof t.edges.smooth)this.optionsBackup.edges={smooth:t.edges.smooth},t.edges.smooth={enabled:t.edges.smooth,type:i};else{var n=t.edges.smooth;void 0!==n.type&&"dynamic"!==n.type&&(i=n.type),this.optionsBackup.edges={smooth:void 0===n.enabled||n.enabled,type:void 0===n.type?"dynamic":n.type,roundness:void 0===n.roundness?.5:n.roundness,forceDirection:void 0!==n.forceDirection&&n.forceDirection},t.edges.smooth={enabled:void 0===n.enabled||n.enabled,type:i,roundness:void 0===n.roundness?.5:n.roundness,forceDirection:void 0!==n.forceDirection&&n.forceDirection}}this.body.emitter.emit("_forceDisableDynamicCurves",i)}return t}},{key:"seededRandom",value:function(){var t=1e4*Math.sin(this.randomSeed++);return t-Math.floor(t)}},{key:"positionInitially",value:function(t){if(!0!==this.options.hierarchical.enabled){this.randomSeed=this.initialRandomSeed;for(var e=t.length+50,i=0;i<t.length;i++){var n=t[i],r=2*Math.PI*this.seededRandom();void 0===n.x&&(n.x=e*Math.cos(r)),void 0===n.y&&(n.y=e*Math.sin(r))}}}},{key:"layoutNetwork",value:function(){if(!0!==this.options.hierarchical.enabled&&!0===this.options.improvedLayout){for(var t=this.body.nodeIndices,e=0,i=0;i<t.length;i++)!0===this.body.nodes[t[i]].predefinedPosition&&(e+=1);if(e<.5*t.length){var n=0,r={clusterNodeProperties:{shape:"ellipse",label:"",group:"",font:{multi:!1}},clusterEdgeProperties:{label:"",font:{multi:!1},smooth:{enabled:!1}}};if(t.length>150){for(var o=t.length;t.length>150&&n<=10;){var s=t.length;if((n+=1)%3==0?this.body.modules.clustering.clusterBridges(r):this.body.modules.clustering.clusterOutliers(r),s==t.length&&n%3!=0)return this._declusterAll(),this.body.emitter.emit("_layoutFailed"),void console.info("This network could not be positioned by this version of the improved layout algorithm. Please disable improvedLayout for better performance.")}this.body.modules.kamadaKawai.setOptions({springLength:Math.max(150,2*o)})}n>10&&console.info("The clustering didn't succeed within the amount of interations allowed, progressing with partial result."),this.body.modules.kamadaKawai.solve(t,this.body.edgeIndices,!0),this._shiftToCenter();for(var a=0;a<t.length;a++){var h=this.body.nodes[t[a]];!1===h.predefinedPosition&&(h.x+=70*(.5-this.seededRandom()),h.y+=70*(.5-this.seededRandom()))}this._declusterAll(),this.body.emitter.emit("_repositionBezierNodes")}}}},{key:"_shiftToCenter",value:function(){for(var t=d.getRangeCore(this.body.nodes,this.body.nodeIndices),e=d.findCenter(t),i=0;i<this.body.nodeIndices.length;i++){var n=this.body.nodes[this.body.nodeIndices[i]];n.x-=e.x,n.y-=e.y}}},{key:"_declusterAll",value:function(){for(var t=!0;!0===t;){t=!1;for(var e=0;e<this.body.nodeIndices.length;e++)!0===this.body.nodes[this.body.nodeIndices[e]].isCluster&&(t=!0,this.body.modules.clustering.openCluster(this.body.nodeIndices[e],{},!1));!0===t&&this.body.emitter.emit("_dataChanged")}}},{key:"getSeed",value:function(){return this.initialRandomSeed}},{key:"setupHierarchicalLayout",value:function(){if(!0===this.options.hierarchical.enabled&&this.body.nodeIndices.length>0){var t=void 0,e=void 0,i=!1,n=!1;for(e in this.lastNodeOnLevel={},this.hierarchical=new p,this.body.nodes)this.body.nodes.hasOwnProperty(e)&&(void 0!==(t=this.body.nodes[e]).options.level?(i=!0,this.hierarchical.levels[e]=t.options.level):n=!0);if(!0===n&&!0===i)throw new Error("To use the hierarchical layout, nodes require either no predefined levels or levels have to be defined for all nodes.");if(!0===n){var r=this.options.hierarchical.sortMethod;"hubsize"===r?this._determineLevelsByHubsize():"directed"===r?this._determineLevelsDirected():"custom"===r&&this._determineLevelsCustomCallback()}for(var o in this.body.nodes)this.body.nodes.hasOwnProperty(o)&&this.hierarchical.ensureLevel(o);var s=this._getDistribution();this._generateMap(),this._placeNodesByHierarchy(s),this._condenseHierarchy(),this._shiftToCenter()}}},{key:"_condenseHierarchy",value:function(){var t=this,e=!1,i={},n=function(e,i){var n=t.hierarchical.trees;for(var r in n)n.hasOwnProperty(r)&&n[r]===e&&t.direction.shift(r,i)},o=function e(i,n){if(!n[i.id]&&(n[i.id]=!0,t.hierarchical.childrenReference[i.id])){var r=t.hierarchical.childrenReference[i.id];if(r.length>0)for(var o=0;o<r.length;o++)e(t.body.nodes[r[o]],n)}},s=function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e9,n=1e9,o=1e9,s=1e9,a=-1e9;for(var h in e)if(e.hasOwnProperty(h)){var l=t.body.nodes[h],d=t.hierarchical.levels[l.id],u=t.direction.getPosition(l),c=t._getSpaceAroundNode(l,e),f=(0,r.default)(c,2),p=f[0],g=f[1];n=Math.min(p,n),o=Math.min(g,o),d<=i&&(s=Math.min(u,s),a=Math.max(u,a))}return[s,a,n,o]},a=function(e,i){var n=t.hierarchical.getMaxLevel(e.id),r=t.hierarchical.getMaxLevel(i.id);return Math.min(n,r)},h=function(e,i,n){for(var r=t.hierarchical,o=0;o<i.length;o++){var s=r.distributionOrdering[i[o]];if(s.length>1)for(var a=0;a<s.length-1;a++){var h=s[a],l=s[a+1];r.hasSameParent(h,l)&&r.inSameSubNetwork(h,l)&&e(h,l,n)}}},l=function(i,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],h=t.direction.getPosition(i),l=t.direction.getPosition(n),d=Math.abs(l-h),u=t.options.hierarchical.nodeSpacing;if(d>u){var c={},f={};o(i,c),o(n,f);var p=a(i,n),g=s(c,p),m=s(f,p),v=g[1],y=m[0],b=m[2];if(Math.abs(v-y)>u){var w=v-y+u;w<-b+u&&(w=-b+u),w<0&&(t._shiftBlock(n.id,w),e=!0,!0===r&&t._centerParent(n))}}},d=function(n,a){for(var h=a.id,l=a.edges,d=t.hierarchical.levels[a.id],u=t.options.hierarchical.levelSeparation*t.options.hierarchical.levelSeparation,c={},f=[],p=0;p<l.length;p++){var g=l[p];if(g.toId!=g.fromId){var m=g.toId==h?g.from:g.to;c[l[p].id]=m,t.hierarchical.levels[m.id]<d&&f.push(g)}}var v=function(e,i){for(var n=0,r=0;r<i.length;r++)if(void 0!==c[i[r].id]){var o=t.direction.getPosition(c[i[r].id])-e;n+=o/Math.sqrt(o*o+u)}return n},y=function(e,i){for(var n=0,r=0;r<i.length;r++)if(void 0!==c[i[r].id]){var o=t.direction.getPosition(c[i[r].id])-e;n-=u*Math.pow(o*o+u,-1.5)}return n},b=function(e,i){for(var n=t.direction.getPosition(a),r={},o=0;o<e;o++){var s=v(n,i),h=y(n,i);if(void 0!==r[n-=Math.max(-40,Math.min(40,Math.round(s/h)))])break;r[n]=o}return n},w=b(n,f);!function(n){var r=t.direction.getPosition(a);if(void 0===i[a.id]){var h={};o(a,h),i[a.id]=h}var l=s(i[a.id]),d=l[2],u=n-r,c=0;u>0?c=Math.min(u,l[3]-t.options.hierarchical.nodeSpacing):u<0&&(c=-Math.min(-u,d-t.options.hierarchical.nodeSpacing)),0!=c&&(t._shiftBlock(a.id,c),e=!0)}(w),function(i){var n=t.direction.getPosition(a),o=t._getSpaceAroundNode(a),s=(0,r.default)(o,2),h=s[0],l=i-n,d=n;l>0?d=Math.min(n+(s[1]-t.options.hierarchical.nodeSpacing),i):l<0&&(d=Math.max(n-(h-t.options.hierarchical.nodeSpacing),i)),d!==n&&(t.direction.setPosition(a,d),e=!0)}(w=b(n,l))};!0===this.options.hierarchical.blockShifting&&(function(i){var n=t.hierarchical.getLevels();n=n.reverse();for(var r=0;r<5&&(e=!1,h(l,n,!0),!0===e);r++);}(),function(){for(var e in t.body.nodes)t.body.nodes.hasOwnProperty(e)&&t._centerParent(t.body.nodes[e])}()),!0===this.options.hierarchical.edgeMinimization&&function(i){var n=t.hierarchical.getLevels();n=n.reverse();for(var r=0;r<20;r++){e=!1;for(var o=0;o<n.length;o++)for(var s=t.hierarchical.distributionOrdering[n[o]],a=0;a<s.length;a++)d(1e3,s[a]);if(!0!==e)break}}(),!0===this.options.hierarchical.parentCentralization&&function(){var e=t.hierarchical.getLevels();e=e.reverse();for(var i=0;i<e.length;i++)for(var n=t.hierarchical.distributionOrdering[e[i]],r=0;r<n.length;r++)t._centerParent(n[r])}(),function(){for(var e=function(){for(var e=[],i=0;i<t.hierarchical.numTrees();i++)e.push(t.direction.getTreeSize(i));return e}(),i=0,r=0;r<e.length-1;r++)n(r+1,i+=e[r].max-e[r+1].min+t.options.hierarchical.treeSpacing)}()}},{key:"_getSpaceAroundNode",value:function(t,e){var i=!0;void 0===e&&(i=!1);var n=this.hierarchical.levels[t.id];if(void 0!==n){var r=this.hierarchical.distributionIndex[t.id],o=this.direction.getPosition(t),s=this.hierarchical.distributionOrdering[n],a=1e9,h=1e9;if(0!==r){var l=s[r-1];(!0===i&&void 0===e[l.id]||!1===i)&&(a=o-this.direction.getPosition(l))}if(r!=s.length-1){var d=s[r+1];if(!0===i&&void 0===e[d.id]||!1===i){var u=this.direction.getPosition(d);h=Math.min(h,u-o)}}return[a,h]}return[0,0]}},{key:"_centerParent",value:function(t){if(this.hierarchical.parentReference[t.id])for(var e=this.hierarchical.parentReference[t.id],i=0;i<e.length;i++){var n=e[i],o=this.body.nodes[n],s=this.hierarchical.childrenReference[n];if(void 0!==s){var a=this._getCenterPosition(s),h=this.direction.getPosition(o),l=this._getSpaceAroundNode(o),d=(0,r.default)(l,2),u=d[0],c=d[1],f=h-a;(f<0&&Math.abs(f)<c-this.options.hierarchical.nodeSpacing||f>0&&Math.abs(f)<u-this.options.hierarchical.nodeSpacing)&&this.direction.setPosition(o,a)}}}},{key:"_placeNodesByHierarchy",value:function(t){for(var e in this.positionedNodes={},t)if(t.hasOwnProperty(e)){var i=(0,s.default)(t[e]);i=this._indexArrayToNodes(i),this.direction.sort(i);for(var n=0,r=0;r<i.length;r++){var o=i[r];if(void 0===this.positionedNodes[o.id]){var a=this.options.hierarchical.nodeSpacing,h=a*n;n>0&&(h=this.direction.getPosition(i[r-1])+a),this.direction.setPosition(o,h,e),this._validatePositionAndContinue(o,e,h),n++}}}}},{key:"_placeBranchNodes",value:function(t,e){var i=this.hierarchical.childrenReference[t];if(void 0!==i){for(var n=[],r=0;r<i.length;r++)n.push(this.body.nodes[i[r]]);this.direction.sort(n);for(var o=0;o<n.length;o++){var s=n[o],a=this.hierarchical.levels[s.id];if(!(a>e&&void 0===this.positionedNodes[s.id]))return;var h,l=this.options.hierarchical.nodeSpacing;h=0===o?this.direction.getPosition(this.body.nodes[t]):this.direction.getPosition(n[o-1])+l,this.direction.setPosition(s,h,a),this._validatePositionAndContinue(s,a,h)}var d=this._getCenterPosition(n);this.direction.setPosition(this.body.nodes[t],d,e)}}},{key:"_validatePositionAndContinue",value:function(t,e,i){if(this.hierarchical.isTree){if(void 0!==this.lastNodeOnLevel[e]){var n=this.direction.getPosition(this.body.nodes[this.lastNodeOnLevel[e]]);if(i-n<this.options.hierarchical.nodeSpacing){var r=n+this.options.hierarchical.nodeSpacing-i,o=this._findCommonParent(this.lastNodeOnLevel[e],t.id);this._shiftBlock(o.withChild,r)}}this.lastNodeOnLevel[e]=t.id,this.positionedNodes[t.id]=!0,this._placeBranchNodes(t.id,e)}}},{key:"_indexArrayToNodes",value:function(t){for(var e=[],i=0;i<t.length;i++)e.push(this.body.nodes[t[i]]);return e}},{key:"_getDistribution",value:function(){var t={},e=void 0,i=void 0;for(e in this.body.nodes)if(this.body.nodes.hasOwnProperty(e)){var n=void 0===this.hierarchical.levels[e]?0:this.hierarchical.levels[e];this.direction.fix(i=this.body.nodes[e],n),void 0===t[n]&&(t[n]={}),t[n][e]=i}return t}},{key:"_getActiveEdges",value:function(t){var e=this,i=[];return l.forEach(t.edges,function(t){-1!==e.body.edgeIndices.indexOf(t.id)&&i.push(t)}),i}},{key:"_getHubSizes",value:function(){var t=this,e={};l.forEach(this.body.nodeIndices,function(i){var n=t._getActiveEdges(t.body.nodes[i]).length;e[n]=!0});var i=[];return l.forEach(e,function(t){i.push(Number(t))}),i.sort(function(t,e){return e-t}),i}},{key:"_determineLevelsByHubsize",value:function(){for(var t=this,e=function(e,i){t.hierarchical.levelDownstream(e,i)},i=this._getHubSizes(),n=0;n<i.length&&"break"!==function(n){var r=i[n];if(0===r)return"break";l.forEach(t.body.nodeIndices,function(i){r===t._getActiveEdges(t.body.nodes[i]).length&&t._crawlNetwork(e,i)})}(n);++n);}},{key:"_determineLevelsCustomCallback",value:function(){var t=this;this._crawlNetwork(function(e,i,n){var r=t.hierarchical.levels[e.id];void 0===r&&(r=t.hierarchical.levels[e.id]=1e5);var o=(d.cloneOptions(e,"node"),d.cloneOptions(i,"node"),void d.cloneOptions(n,"edge"));t.hierarchical.levels[i.id]=r+o}),this.hierarchical.setMinLevelToZero(this.body.nodes)}},{key:"_determineLevelsDirected",value:function(){var t=this;this._crawlNetwork(function(e,i,n){var r=t.hierarchical.levels[e.id],o=t.hierarchical.levels[i.id];(function(e){return l.forEach(t.body.edges,function(t){if(t.toId===e.fromId&&t.fromId===e.toId)return!0}),!1})(n)&&void 0!==r&&void 0!==o||(void 0===r&&(r=t.hierarchical.levels[e.id]=1e4),t.hierarchical.levels[i.id]=n.toId==i.id?r+1:r-1)}),this.hierarchical.setMinLevelToZero(this.body.nodes)}},{key:"_generateMap",value:function(){var t=this;this._crawlNetwork(function(e,i){t.hierarchical.levels[i.id]>t.hierarchical.levels[e.id]&&t.hierarchical.addRelation(e.id,i.id)}),this.hierarchical.checkIfTree()}},{key:"_crawlNetwork",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},i=arguments[1],n={},r=function i(r,o){if(void 0===n[r.id]){t.hierarchical.setTreeIndex(r,o),n[r.id]=!0;for(var s=void 0,a=t._getActiveEdges(r),h=0;h<a.length;h++){var l=a[h];!0===l.connected&&r.id!=(s=l.toId==r.id?l.from:l.to).id&&(e(r,s,l),i(s,o))}}};if(void 0===i)for(var o=0,s=0;s<this.body.nodeIndices.length;s++){var a=this.body.nodeIndices[s];if(void 0===n[a]){var h=this.body.nodes[a];r(h,o),o+=1}}else{var l=this.body.nodes[i];if(void 0===l)return void console.error("Node not found:",i);r(l)}}},{key:"_shiftBlock",value:function(t,e){var i=this,n={};!function t(r){if(!n[r]){n[r]=!0,i.direction.shift(r,e);var o=i.hierarchical.childrenReference[r];if(void 0!==o)for(var s=0;s<o.length;s++)t(o[s])}}(t)}},{key:"_findCommonParent",value:function(t,e){var i=this,n={};return function t(e,n){var r=i.hierarchical.parentReference[n];if(void 0!==r)for(var o=0;o<r.length;o++){var s=r[o];e[s]=!0,t(e,s)}}(n,t),function t(e,n){var r=i.hierarchical.parentReference[n];if(void 0!==r)for(var o=0;o<r.length;o++){var s=r[o];if(void 0!==e[s])return{foundParent:s,withChild:n};var a=t(e,s);if(null!==a.foundParent)return a}return{foundParent:null,withChild:n}}(n,e)}},{key:"setDirectionStrategy",value:function(){this.direction="UD"===this.options.hierarchical.direction||"DU"===this.options.hierarchical.direction?new f(this):new c(this)}},{key:"_getCenterPosition",value:function(t){for(var e=1e9,i=-1e9,n=0;n<t.length;n++){var r=this.direction.getPosition(void 0!==t[n].id?t[n]:this.body.nodes[t[n]]);e=Math.min(e,r),i=Math.max(i,r)}return.5*(e+i)}}]),t}();e.default=g},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.VerticalStrategy=e.HorizontalStrategy=void 0;var r=n(i(3)),o=n(i(4)),s=n(i(5)),a=n(i(0)),h=n(i(1)),l=function(){function t(){(0,a.default)(this,t)}return(0,h.default)(t,[{key:"abstract",value:function(){throw new Error("Can't instantiate abstract class!")}},{key:"fake_use",value:function(){}},{key:"curveType",value:function(){return this.abstract()}},{key:"getPosition",value:function(t){return this.fake_use(t),this.abstract()}},{key:"setPosition",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;this.fake_use(t,e,i),this.abstract()}},{key:"getTreeSize",value:function(t){return this.fake_use(t),this.abstract()}},{key:"sort",value:function(t){this.fake_use(t),this.abstract()}},{key:"fix",value:function(t,e){this.fake_use(t,e),this.abstract()}},{key:"shift",value:function(t,e){this.fake_use(t,e),this.abstract()}}]),t}(),d=function(t){function e(t){(0,a.default)(this,e);var i=(0,o.default)(this,(e.__proto__||(0,r.default)(e)).call(this));return i.layout=t,i}return(0,s.default)(e,l),(0,h.default)(e,[{key:"curveType",value:function(){return"horizontal"}},{key:"getPosition",value:function(t){return t.x}},{key:"setPosition",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;void 0!==i&&this.layout.hierarchical.addToOrdering(t,i),t.x=e}},{key:"getTreeSize",value:function(t){var e=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,t);return{min:e.min_x,max:e.max_x}}},{key:"sort",value:function(t){t.sort(function(t,e){return void 0===t.x||void 0===e.x?0:t.x-e.x})}},{key:"fix",value:function(t,e){t.y=this.layout.options.hierarchical.levelSeparation*e,t.options.fixed.y=!0}},{key:"shift",value:function(t,e){this.layout.body.nodes[t].x+=e}}]),e}(),u=function(t){function e(t){(0,a.default)(this,e);var i=(0,o.default)(this,(e.__proto__||(0,r.default)(e)).call(this));return i.layout=t,i}return(0,s.default)(e,l),(0,h.default)(e,[{key:"curveType",value:function(){return"vertical"}},{key:"getPosition",value:function(t){return t.y}},{key:"setPosition",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;void 0!==i&&this.layout.hierarchical.addToOrdering(t,i),t.y=e}},{key:"getTreeSize",value:function(t){var e=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,t);return{min:e.min_y,max:e.max_y}}},{key:"sort",value:function(t){t.sort(function(t,e){return void 0===t.y||void 0===e.y?0:t.y-e.y})}},{key:"fix",value:function(t,e){t.x=this.layout.options.hierarchical.levelSeparation*e,t.options.fixed.x=!0}},{key:"shift",value:function(t,e){this.layout.body.nodes[t].y+=e}}]),e}();e.HorizontalStrategy=u,e.VerticalStrategy=d},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(8)),o=n(i(19)),s=n(i(6)),a=n(i(0)),h=n(i(1)),l=i(2),d=i(10),u=i(37),c=function(){function t(e,i,n){var r=this;(0,a.default)(this,t),this.body=e,this.canvas=i,this.selectionHandler=n,this.editMode=!1,this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0,this.manipulationHammers=[],this.temporaryUIFunctions={},this.temporaryEventFunctions=[],this.touchTime=0,this.temporaryIds={nodes:[],edges:[]},this.guiEnabled=!1,this.inMode=!1,this.selectedControlNode=void 0,this.options={},this.defaultOptions={enabled:!1,initiallyActive:!1,addNode:!0,addEdge:!0,editNode:void 0,editEdge:!0,deleteNode:!0,deleteEdge:!0,controlNodeStyle:{shape:"dot",size:6,color:{background:"#ff0000",border:"#3c3c3c",highlight:{background:"#07f968",border:"#3c3c3c"}},borderWidth:2,borderWidthSelected:2}},l.extend(this.options,this.defaultOptions),this.body.emitter.on("destroy",function(){r._clean()}),this.body.emitter.on("_dataChanged",this._restore.bind(this)),this.body.emitter.on("_resetData",this._restore.bind(this))}return(0,h.default)(t,[{key:"_restore",value:function(){!1!==this.inMode&&(!0===this.options.initiallyActive?this.enableEditMode():this.disableEditMode())}},{key:"setOptions",value:function(t,e,i){void 0!==e&&(this.options.locale=void 0!==e.locale?e.locale:i.locale,this.options.locales=void 0!==e.locales?e.locales:i.locales),void 0!==t&&("boolean"==typeof t?this.options.enabled=t:(this.options.enabled=!0,l.deepExtend(this.options,t)),!0===this.options.initiallyActive&&(this.editMode=!0),this._setup())}},{key:"toggleEditMode",value:function(){!0===this.editMode?this.disableEditMode():this.enableEditMode()}},{key:"enableEditMode",value:function(){this.editMode=!0,this._clean(),!0===this.guiEnabled&&(this.manipulationDiv.style.display="block",this.closeDiv.style.display="block",this.editModeDiv.style.display="none",this.showManipulatorToolbar())}},{key:"disableEditMode",value:function(){this.editMode=!1,this._clean(),!0===this.guiEnabled&&(this.manipulationDiv.style.display="none",this.closeDiv.style.display="none",this.editModeDiv.style.display="block",this._createEditButton())}},{key:"showManipulatorToolbar",value:function(){if(this._clean(),this.manipulationDOM={},!0===this.guiEnabled){this.editMode=!0,this.manipulationDiv.style.display="block",this.closeDiv.style.display="block";var t=this.selectionHandler._getSelectedNodeCount(),e=this.selectionHandler._getSelectedEdgeCount(),i=t+e,n=this.options.locales[this.options.locale],r=!1;!1!==this.options.addNode&&(this._createAddNodeButton(n),r=!0),!1!==this.options.addEdge&&(!0===r?this._createSeperator(1):r=!0,this._createAddEdgeButton(n)),1===t&&"function"==typeof this.options.editNode?(!0===r?this._createSeperator(2):r=!0,this._createEditNodeButton(n)):1===e&&0===t&&!1!==this.options.editEdge&&(!0===r?this._createSeperator(3):r=!0,this._createEditEdgeButton(n)),0!==i&&(t>0&&!1!==this.options.deleteNode?(!0===r&&this._createSeperator(4),this._createDeleteButton(n)):0===t&&!1!==this.options.deleteEdge&&(!0===r&&this._createSeperator(4),this._createDeleteButton(n))),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this)),this._temporaryBindEvent("select",this.showManipulatorToolbar.bind(this))}this.body.emitter.emit("_redraw")}},{key:"addNodeMode",value:function(){if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="addNode",!0===this.guiEnabled){var t=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(t),this._createSeperator(),this._createDescription(t.addDescription||this.options.locales.en.addDescription),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this))}this._temporaryBindEvent("click",this._performAddNode.bind(this))}},{key:"editNode",value:function(){var t=this;!0!==this.editMode&&this.enableEditMode(),this._clean();var e=this.selectionHandler._getSelectedNode();if(void 0!==e){if(this.inMode="editNode","function"!=typeof this.options.editNode)throw new Error("No function has been configured to handle the editing of nodes.");if(!0!==e.isCluster){var i=l.deepExtend({},e.options,!1);if(i.x=e.x,i.y=e.y,2!==this.options.editNode.length)throw new Error("The function for edit does not support two arguments (data, callback)");this.options.editNode(i,function(e){null!=e&&"editNode"===t.inMode&&t.body.data.nodes.getDataSet().update(e),t.showManipulatorToolbar()})}else alert(this.options.locales[this.options.locale].editClusterError||this.options.locales.en.editClusterError)}else this.showManipulatorToolbar()}},{key:"addEdgeMode",value:function(){if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="addEdge",!0===this.guiEnabled){var t=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(t),this._createSeperator(),this._createDescription(t.edgeDescription||this.options.locales.en.edgeDescription),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this))}this._temporaryBindUI("onTouch",this._handleConnect.bind(this)),this._temporaryBindUI("onDragEnd",this._finishConnect.bind(this)),this._temporaryBindUI("onDrag",this._dragControlNode.bind(this)),this._temporaryBindUI("onRelease",this._finishConnect.bind(this)),this._temporaryBindUI("onDragStart",this._dragStartEdge.bind(this)),this._temporaryBindUI("onHold",function(){})}},{key:"editEdgeMode",value:function(){if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="editEdge","object"!==(0,s.default)(this.options.editEdge)||"function"!=typeof this.options.editEdge.editWithoutDrag||(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdges()[0],void 0===this.edgeBeingEditedId)){if(!0===this.guiEnabled){var t=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(t),this._createSeperator(),this._createDescription(t.editEdgeDescription||this.options.locales.en.editEdgeDescription),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this))}if(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdges()[0],void 0!==this.edgeBeingEditedId){var e=this.body.edges[this.edgeBeingEditedId],i=this._getNewTargetNode(e.from.x,e.from.y),n=this._getNewTargetNode(e.to.x,e.to.y);this.temporaryIds.nodes.push(i.id),this.temporaryIds.nodes.push(n.id),this.body.nodes[i.id]=i,this.body.nodeIndices.push(i.id),this.body.nodes[n.id]=n,this.body.nodeIndices.push(n.id),this._temporaryBindUI("onTouch",this._controlNodeTouch.bind(this)),this._temporaryBindUI("onTap",function(){}),this._temporaryBindUI("onHold",function(){}),this._temporaryBindUI("onDragStart",this._controlNodeDragStart.bind(this)),this._temporaryBindUI("onDrag",this._controlNodeDrag.bind(this)),this._temporaryBindUI("onDragEnd",this._controlNodeDragEnd.bind(this)),this._temporaryBindUI("onMouseMove",function(){}),this._temporaryBindEvent("beforeDrawing",function(t){var r=e.edgeType.findBorderPositions(t);!1===i.selected&&(i.x=r.from.x,i.y=r.from.y),!1===n.selected&&(n.x=r.to.x,n.y=r.to.y)}),this.body.emitter.emit("_redraw")}else this.showManipulatorToolbar()}else{var r=this.body.edges[this.edgeBeingEditedId];this._performEditEdge(r.from,r.to)}}},{key:"deleteSelected",value:function(){var t=this;!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="delete";var e=this.selectionHandler.getSelectedNodes(),i=this.selectionHandler.getSelectedEdges(),n=void 0;if(e.length>0){for(var r=0;r<e.length;r++)if(!0===this.body.nodes[e[r]].isCluster)return void alert(this.options.locales[this.options.locale].deleteClusterError||this.options.locales.en.deleteClusterError);"function"==typeof this.options.deleteNode&&(n=this.options.deleteNode)}else i.length>0&&"function"==typeof this.options.deleteEdge&&(n=this.options.deleteEdge);if("function"==typeof n){var o={nodes:e,edges:i};if(2!==n.length)throw new Error("The function for delete does not support two arguments (data, callback)");n(o,function(e){null!=e&&"delete"===t.inMode?(t.body.data.edges.getDataSet().remove(e.edges),t.body.data.nodes.getDataSet().remove(e.nodes),t.body.emitter.emit("startSimulation"),t.showManipulatorToolbar()):(t.body.emitter.emit("startSimulation"),t.showManipulatorToolbar())})}else this.body.data.edges.getDataSet().remove(i),this.body.data.nodes.getDataSet().remove(e),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()}},{key:"_setup",value:function(){!0===this.options.enabled?(this.guiEnabled=!0,this._createWrappers(),!1===this.editMode?this._createEditButton():this.showManipulatorToolbar()):(this._removeManipulationDOM(),this.guiEnabled=!1)}},{key:"_createWrappers",value:function(){void 0===this.manipulationDiv&&(this.manipulationDiv=document.createElement("div"),this.manipulationDiv.className="vis-manipulation",this.manipulationDiv.style.display=!0===this.editMode?"block":"none",this.canvas.frame.appendChild(this.manipulationDiv)),void 0===this.editModeDiv&&(this.editModeDiv=document.createElement("div"),this.editModeDiv.className="vis-edit-mode",this.editModeDiv.style.display=!0===this.editMode?"none":"block",this.canvas.frame.appendChild(this.editModeDiv)),void 0===this.closeDiv&&(this.closeDiv=document.createElement("div"),this.closeDiv.className="vis-close",this.closeDiv.style.display=this.manipulationDiv.style.display,this.canvas.frame.appendChild(this.closeDiv))}},{key:"_getNewTargetNode",value:function(t,e){var i=l.deepExtend({},this.options.controlNodeStyle);i.id="targetNode"+l.randomUUID(),i.hidden=!1,i.physics=!1,i.x=t,i.y=e;var n=this.body.functions.createNode(i);return n.shape.boundingBox={left:t,right:t,top:e,bottom:e},n}},{key:"_createEditButton",value:function(){this._clean(),this.manipulationDOM={},l.recursiveDOMDelete(this.editModeDiv);var t=this._createButton("editMode","vis-button vis-edit vis-edit-mode",this.options.locales[this.options.locale].edit||this.options.locales.en.edit);this.editModeDiv.appendChild(t),this._bindHammerToDiv(t,this.toggleEditMode.bind(this))}},{key:"_clean",value:function(){this.inMode=!1,!0===this.guiEnabled&&(l.recursiveDOMDelete(this.editModeDiv),l.recursiveDOMDelete(this.manipulationDiv),this._cleanManipulatorHammers()),this._cleanupTemporaryNodesAndEdges(),this._unbindTemporaryUIs(),this._unbindTemporaryEvents(),this.body.emitter.emit("restorePhysics")}},{key:"_cleanManipulatorHammers",value:function(){if(0!=this.manipulationHammers.length){for(var t=0;t<this.manipulationHammers.length;t++)this.manipulationHammers[t].destroy();this.manipulationHammers=[]}}},{key:"_removeManipulationDOM",value:function(){this._clean(),l.recursiveDOMDelete(this.manipulationDiv),l.recursiveDOMDelete(this.editModeDiv),l.recursiveDOMDelete(this.closeDiv),this.manipulationDiv&&this.canvas.frame.removeChild(this.manipulationDiv),this.editModeDiv&&this.canvas.frame.removeChild(this.editModeDiv),this.closeDiv&&this.canvas.frame.removeChild(this.closeDiv),this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0}},{key:"_createSeperator",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.manipulationDOM["seperatorLineDiv"+t]=document.createElement("div"),this.manipulationDOM["seperatorLineDiv"+t].className="vis-separator-line",this.manipulationDiv.appendChild(this.manipulationDOM["seperatorLineDiv"+t])}},{key:"_createAddNodeButton",value:function(t){var e=this._createButton("addNode","vis-button vis-add",t.addNode||this.options.locales.en.addNode);this.manipulationDiv.appendChild(e),this._bindHammerToDiv(e,this.addNodeMode.bind(this))}},{key:"_createAddEdgeButton",value:function(t){var e=this._createButton("addEdge","vis-button vis-connect",t.addEdge||this.options.locales.en.addEdge);this.manipulationDiv.appendChild(e),this._bindHammerToDiv(e,this.addEdgeMode.bind(this))}},{key:"_createEditNodeButton",value:function(t){var e=this._createButton("editNode","vis-button vis-edit",t.editNode||this.options.locales.en.editNode);this.manipulationDiv.appendChild(e),this._bindHammerToDiv(e,this.editNode.bind(this))}},{key:"_createEditEdgeButton",value:function(t){var e=this._createButton("editEdge","vis-button vis-edit",t.editEdge||this.options.locales.en.editEdge);this.manipulationDiv.appendChild(e),this._bindHammerToDiv(e,this.editEdgeMode.bind(this))}},{key:"_createDeleteButton",value:function(t){var e=this._createButton("delete",this.options.rtl?"vis-button vis-delete-rtl":"vis-button vis-delete",t.del||this.options.locales.en.del);this.manipulationDiv.appendChild(e),this._bindHammerToDiv(e,this.deleteSelected.bind(this))}},{key:"_createBackButton",value:function(t){var e=this._createButton("back","vis-button vis-back",t.back||this.options.locales.en.back);this.manipulationDiv.appendChild(e),this._bindHammerToDiv(e,this.showManipulatorToolbar.bind(this))}},{key:"_createButton",value:function(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"vis-label";return this.manipulationDOM[t+"Div"]=document.createElement("div"),this.manipulationDOM[t+"Div"].className=e,this.manipulationDOM[t+"Label"]=document.createElement("div"),this.manipulationDOM[t+"Label"].className=n,this.manipulationDOM[t+"Label"].innerHTML=i,this.manipulationDOM[t+"Div"].appendChild(this.manipulationDOM[t+"Label"]),this.manipulationDOM[t+"Div"]}},{key:"_createDescription",value:function(t){this.manipulationDiv.appendChild(this._createButton("description","vis-button vis-none",t))}},{key:"_temporaryBindEvent",value:function(t,e){this.temporaryEventFunctions.push({event:t,boundFunction:e}),this.body.emitter.on(t,e)}},{key:"_temporaryBindUI",value:function(t,e){if(void 0===this.body.eventListeners[t])throw new Error("This UI function does not exist. Typo? You tried: "+t+" possible are: "+(0,o.default)((0,r.default)(this.body.eventListeners)));this.temporaryUIFunctions[t]=this.body.eventListeners[t],this.body.eventListeners[t]=e}},{key:"_unbindTemporaryUIs",value:function(){for(var t in this.temporaryUIFunctions)this.temporaryUIFunctions.hasOwnProperty(t)&&(this.body.eventListeners[t]=this.temporaryUIFunctions[t],delete this.temporaryUIFunctions[t]);this.temporaryUIFunctions={}}},{key:"_unbindTemporaryEvents",value:function(){for(var t=0;t<this.temporaryEventFunctions.length;t++)this.body.emitter.off(this.temporaryEventFunctions[t].event,this.temporaryEventFunctions[t].boundFunction);this.temporaryEventFunctions=[]}},{key:"_bindHammerToDiv",value:function(t,e){var i=new d(t,{});u.onTouch(i,e),this.manipulationHammers.push(i)}},{key:"_cleanupTemporaryNodesAndEdges",value:function(){for(var t=0;t<this.temporaryIds.edges.length;t++){this.body.edges[this.temporaryIds.edges[t]].disconnect(),delete this.body.edges[this.temporaryIds.edges[t]];var e=this.body.edgeIndices.indexOf(this.temporaryIds.edges[t]);-1!==e&&this.body.edgeIndices.splice(e,1)}for(var i=0;i<this.temporaryIds.nodes.length;i++){delete this.body.nodes[this.temporaryIds.nodes[i]];var n=this.body.nodeIndices.indexOf(this.temporaryIds.nodes[i]);-1!==n&&this.body.nodeIndices.splice(n,1)}this.temporaryIds={nodes:[],edges:[]}}},{key:"_controlNodeTouch",value:function(t){this.selectionHandler.unselectAll(),this.lastTouch=this.body.functions.getPointer(t.center),this.lastTouch.translation=l.extend({},this.body.view.translation)}},{key:"_controlNodeDragStart",value:function(t){var e=this.selectionHandler._pointerToPositionObject(this.lastTouch),i=this.body.nodes[this.temporaryIds.nodes[0]],n=this.body.nodes[this.temporaryIds.nodes[1]],r=this.body.edges[this.edgeBeingEditedId];this.selectedControlNode=void 0;var o=i.isOverlappingWith(e),s=n.isOverlappingWith(e);!0===o?(this.selectedControlNode=i,r.edgeType.from=i):!0===s&&(this.selectedControlNode=n,r.edgeType.to=n),void 0!==this.selectedControlNode&&this.selectionHandler.selectObject(this.selectedControlNode),this.body.emitter.emit("_redraw")}},{key:"_controlNodeDrag",value:function(t){this.body.emitter.emit("disablePhysics");var e=this.body.functions.getPointer(t.center),i=this.canvas.DOMtoCanvas(e);void 0!==this.selectedControlNode?(this.selectedControlNode.x=i.x,this.selectedControlNode.y=i.y):this.body.view.translation={x:this.lastTouch.translation.x+(e.x-this.lastTouch.x),y:this.lastTouch.translation.y+(e.y-this.lastTouch.y)},this.body.emitter.emit("_redraw")}},{key:"_controlNodeDragEnd",value:function(t){var e=this.body.functions.getPointer(t.center),i=this.selectionHandler._pointerToPositionObject(e),n=this.body.edges[this.edgeBeingEditedId];if(void 0!==this.selectedControlNode){this.selectionHandler.unselectAll();for(var r=this.selectionHandler._getAllNodesOverlappingWith(i),o=void 0,s=r.length-1;s>=0;s--)if(r[s]!==this.selectedControlNode.id){o=this.body.nodes[r[s]];break}void 0!==o&&void 0!==this.selectedControlNode?!0===o.isCluster?alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError):this.selectedControlNode.id===this.body.nodes[this.temporaryIds.nodes[0]].id?this._performEditEdge(o.id,n.to.id):this._performEditEdge(n.from.id,o.id):(n.updateEdgeType(),this.body.emitter.emit("restorePhysics")),this.body.emitter.emit("_redraw")}}},{key:"_handleConnect",value:function(t){if((new Date).valueOf()-this.touchTime>100){this.lastTouch=this.body.functions.getPointer(t.center),this.lastTouch.translation=l.extend({},this.body.view.translation);var e=this.selectionHandler.getNodeAt(this.lastTouch);if(void 0!==e)if(!0===e.isCluster)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{var i=this._getNewTargetNode(e.x,e.y);this.body.nodes[i.id]=i,this.body.nodeIndices.push(i.id);var n=this.body.functions.createEdge({id:"connectionEdge"+l.randomUUID(),from:e.id,to:i.id,physics:!1,smooth:{enabled:!0,type:"continuous",roundness:.5}});this.body.edges[n.id]=n,this.body.edgeIndices.push(n.id),this.temporaryIds.nodes.push(i.id),this.temporaryIds.edges.push(n.id)}this.touchTime=(new Date).valueOf()}}},{key:"_dragControlNode",value:function(t){var e=this.body.functions.getPointer(t.center);if(void 0!==this.temporaryIds.nodes[0]){var i=this.body.nodes[this.temporaryIds.nodes[0]];i.x=this.canvas._XconvertDOMtoCanvas(e.x),i.y=this.canvas._YconvertDOMtoCanvas(e.y),this.body.emitter.emit("_redraw")}else this.body.view.translation={x:this.lastTouch.translation.x+(e.x-this.lastTouch.x),y:this.lastTouch.translation.y+(e.y-this.lastTouch.y)}}},{key:"_finishConnect",value:function(t){var e=this.body.functions.getPointer(t.center),i=this.selectionHandler._pointerToPositionObject(e),n=void 0;void 0!==this.temporaryIds.edges[0]&&(n=this.body.edges[this.temporaryIds.edges[0]].fromId);for(var r=this.selectionHandler._getAllNodesOverlappingWith(i),o=void 0,s=r.length-1;s>=0;s--)if(-1===this.temporaryIds.nodes.indexOf(r[s])){o=this.body.nodes[r[s]];break}this._cleanupTemporaryNodesAndEdges(),void 0!==o&&(!0===o.isCluster?alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError):void 0!==this.body.nodes[n]&&void 0!==this.body.nodes[o.id]&&this._performAddEdge(n,o.id)),this.body.emitter.emit("_redraw")}},{key:"_dragStartEdge",value:function(t){this.selectionHandler._generateClickEvent("dragStart",t,this.lastTouch,void 0,!0)}},{key:"_performAddNode",value:function(t){var e=this,i={id:l.randomUUID(),x:t.pointer.canvas.x,y:t.pointer.canvas.y,label:"new"};if("function"==typeof this.options.addNode){if(2!==this.options.addNode.length)throw this.showManipulatorToolbar(),new Error("The function for add does not support two arguments (data,callback)");this.options.addNode(i,function(t){null!=t&&"addNode"===e.inMode&&(e.body.data.nodes.getDataSet().add(t),e.showManipulatorToolbar())})}else this.body.data.nodes.getDataSet().add(i),this.showManipulatorToolbar()}},{key:"_performAddEdge",value:function(t,e){var i=this,n={from:t,to:e};if("function"==typeof this.options.addEdge){if(2!==this.options.addEdge.length)throw new Error("The function for connect does not support two arguments (data,callback)");this.options.addEdge(n,function(t){null!=t&&"addEdge"===i.inMode&&(i.body.data.edges.getDataSet().add(t),i.selectionHandler.unselectAll(),i.showManipulatorToolbar())})}else this.body.data.edges.getDataSet().add(n),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}},{key:"_performEditEdge",value:function(t,e){var i=this,n={id:this.edgeBeingEditedId,from:t,to:e,label:this.body.data.edges._data[this.edgeBeingEditedId].label},r=this.options.editEdge;if("object"===(void 0===r?"undefined":(0,s.default)(r))&&(r=r.editWithoutDrag),"function"==typeof r){if(2!==r.length)throw new Error("The function for edit does not support two arguments (data, callback)");r(n,function(t){null==t||"editEdge"!==i.inMode?(i.body.edges[n.id].updateEdgeType(),i.body.emitter.emit("_redraw"),i.showManipulatorToolbar()):(i.body.data.edges.getDataSet().update(t),i.selectionHandler.unselectAll(),i.showManipulatorToolbar())})}else this.body.data.edges.getDataSet().update(n),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}}]),t}();e.default=c},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(30)),o=n(i(0)),s=n(i(1)),a=n(i(239)),h=function(){function t(e,i,n){(0,o.default)(this,t),this.body=e,this.springLength=i,this.springConstant=n,this.distanceSolver=new a.default}return(0,s.default)(t,[{key:"setOptions",value:function(t){t&&(t.springLength&&(this.springLength=t.springLength),t.springConstant&&(this.springConstant=t.springConstant))}},{key:"solve",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=this.distanceSolver.getDistances(this.body,t,e);this._createL_matrix(n),this._createK_matrix(n),this._createE_matrix();for(var o=0,s=Math.max(1e3,Math.min(10*this.body.nodeIndices.length,6e3)),a=1e9,h=0,l=0,d=0,u=0,c=0;a>.01&&o<s;){o+=1;var f=this._getHighestEnergyNode(i),p=(0,r.default)(f,4);for(h=p[0],l=p[2],d=p[3],u=a=p[1],c=0;u>1&&c<5;){c+=1,this._moveNode(h,l,d);var g=this._getEnergy(h),m=(0,r.default)(g,3);u=m[0],l=m[1],d=m[2]}}}},{key:"_getHighestEnergyNode",value:function(t){for(var e=this.body.nodeIndices,i=this.body.nodes,n=0,o=e[0],s=0,a=0,h=0;h<e.length;h++){var l=e[h];if(!1===i[l].predefinedPosition||!0===i[l].isCluster&&!0===t||!0===i[l].options.fixed.x||!0===i[l].options.fixed.y){var d=this._getEnergy(l),u=(0,r.default)(d,3),c=u[0];n<c&&(n=c,o=l,s=u[1],a=u[2])}}return[o,n,s,a]}},{key:"_getEnergy",value:function(t){var e=(0,r.default)(this.E_sums[t],2),i=e[0],n=e[1];return[Math.sqrt(Math.pow(i,2)+Math.pow(n,2)),i,n]}},{key:"_moveNode",value:function(t,e,i){for(var n=this.body.nodeIndices,r=this.body.nodes,o=0,s=0,a=0,h=r[t].x,l=r[t].y,d=this.K_matrix[t],u=this.L_matrix[t],c=0;c<n.length;c++){var f=n[c];if(f!==t){var p=r[f].x,g=r[f].y,m=d[f],v=u[f],y=1/Math.pow(Math.pow(h-p,2)+Math.pow(l-g,2),1.5);o+=m*(1-v*Math.pow(l-g,2)*y),s+=m*(v*(h-p)*(l-g)*y),a+=m*(1-v*Math.pow(h-p,2)*y)}}var b=(e/o+i/s)/(s/o-a/s);r[t].x+=-(s*b+e)/o,r[t].y+=b,this._updateE_matrix(t)}},{key:"_createL_matrix",value:function(t){var e=this.body.nodeIndices,i=this.springLength;this.L_matrix=[];for(var n=0;n<e.length;n++){this.L_matrix[e[n]]={};for(var r=0;r<e.length;r++)this.L_matrix[e[n]][e[r]]=i*t[e[n]][e[r]]}}},{key:"_createK_matrix",value:function(t){var e=this.body.nodeIndices,i=this.springConstant;this.K_matrix=[];for(var n=0;n<e.length;n++){this.K_matrix[e[n]]={};for(var r=0;r<e.length;r++)this.K_matrix[e[n]][e[r]]=i*Math.pow(t[e[n]][e[r]],-2)}}},{key:"_createE_matrix",value:function(){var t=this.body.nodeIndices,e=this.body.nodes;this.E_matrix={},this.E_sums={};for(var i=0;i<t.length;i++)this.E_matrix[t[i]]=[];for(var n=0;n<t.length;n++){for(var r=t[n],o=e[r].x,s=e[r].y,a=0,h=0,l=n;l<t.length;l++){var d=t[l];if(d!==r){var u=e[d].x,c=e[d].y,f=1/Math.sqrt(Math.pow(o-u,2)+Math.pow(s-c,2));this.E_matrix[r][l]=[this.K_matrix[r][d]*(o-u-this.L_matrix[r][d]*(o-u)*f),this.K_matrix[r][d]*(s-c-this.L_matrix[r][d]*(s-c)*f)],this.E_matrix[d][n]=this.E_matrix[r][l],a+=this.E_matrix[r][l][0],h+=this.E_matrix[r][l][1]}}this.E_sums[r]=[a,h]}}},{key:"_updateE_matrix",value:function(t){for(var e=this.body.nodeIndices,i=this.body.nodes,n=this.E_matrix[t],r=this.K_matrix[t],o=this.L_matrix[t],s=i[t].x,a=i[t].y,h=0,l=0,d=0;d<e.length;d++){var u=e[d];if(u!==t){var c=n[d],f=c[0],p=c[1],g=i[u].x,m=i[u].y,v=1/Math.sqrt(Math.pow(s-g,2)+Math.pow(a-m,2)),y=r[u]*(s-g-o[u]*(s-g)*v),b=r[u]*(a-m-o[u]*(a-m)*v);n[d]=[y,b],h+=y,l+=b;var w=this.E_sums[u];w[0]+=y-f,w[1]+=b-p}}this.E_sums[t]=[h,l]}}]),t}();e.default=h},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(0)),o=n(i(1)),s=function(){function t(){(0,r.default)(this,t)}return(0,o.default)(t,[{key:"getDistances",value:function(t,e,i){for(var n={},r=t.edges,o=0;o<e.length;o++){var s={};n[e[o]]=s;for(var a=0;a<e.length;a++)s[e[a]]=o==a?0:1e9}for(var h=0;h<i.length;h++){var l=r[i[h]];!0===l.connected&&void 0!==n[l.fromId]&&void 0!==n[l.toId]&&(n[l.fromId][l.toId]=1,n[l.toId][l.fromId]=1)}for(var d=e.length,u=0;u<d;u++)for(var c=e[u],f=n[c],p=0;p<d-1;p++)for(var g=e[p],m=n[g],v=p+1;v<d;v++){var y=e[v],b=n[y],w=Math.min(m[y],m[c]+f[y]);m[y]=w,b[g]=w}return n}}]),t}();e.default=s}])}),function(t,e){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t,e){"use strict";var i=[],n=t.document,r=Object.getPrototypeOf,o=i.slice,s=i.concat,a=i.push,h=i.indexOf,l={},d=l.toString,u=l.hasOwnProperty,c=u.toString,f=c.call(Object),p={},g=function(t){return"function"==typeof t&&"number"!=typeof t.nodeType},m=function(t){return null!=t&&t===t.window},v={type:!0,src:!0,nonce:!0,noModule:!0};function y(t,e,i){var r,o,s=(i=i||n).createElement("script");if(s.text=t,e)for(r in v)(o=e[r]||e.getAttribute&&e.getAttribute(r))&&s.setAttribute(r,o);i.head.appendChild(s).parentNode.removeChild(s)}function b(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?l[d.call(t)]||"object":typeof t}var w="3.4.1",x=function(t,e){return new x.fn.init(t,e)},_=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function k(t){var e=!!t&&"length"in t&&t.length,i=b(t);return!g(t)&&!m(t)&&("array"===i||0===e||"number"==typeof e&&0<e&&e-1 in t)}x.fn=x.prototype={jquery:w,constructor:x,length:0,toArray:function(){return o.call(this)},get:function(t){return null==t?o.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=x.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return x.each(this,t)},map:function(t){return this.pushStack(x.map(this,function(e,i){return t.call(e,i,e)}))},slice:function(){return this.pushStack(o.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,i=+t+(t<0?e:0);return this.pushStack(0<=i&&i<e?[this[i]]:[])},end:function(){return this.prevObject||this.constructor()},push:a,sort:i.sort,splice:i.splice},x.extend=x.fn.extend=function(){var t,e,i,n,r,o,s=arguments[0]||{},a=1,h=arguments.length,l=!1;for("boolean"==typeof s&&(l=s,s=arguments[a]||{},a++),"object"==typeof s||g(s)||(s={}),a===h&&(s=this,a--);a<h;a++)if(null!=(t=arguments[a]))for(e in t)n=t[e],"__proto__"!==e&&s!==n&&(l&&n&&(x.isPlainObject(n)||(r=Array.isArray(n)))?(i=s[e],o=r&&!Array.isArray(i)?[]:r||x.isPlainObject(i)?i:{},r=!1,s[e]=x.extend(l,o,n)):void 0!==n&&(s[e]=n));return s},x.extend({expando:"jQuery"+(w+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,i;return!(!t||"[object Object]"!==d.call(t)||(e=r(t))&&("function"!=typeof(i=u.call(e,"constructor")&&e.constructor)||c.call(i)!==f))},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t,e){y(t,{nonce:e&&e.nonce})},each:function(t,e){var i,n=0;if(k(t))for(i=t.length;n<i&&!1!==e.call(t[n],n,t[n]);n++);else for(n in t)if(!1===e.call(t[n],n,t[n]))break;return t},trim:function(t){return null==t?"":(t+"").replace(_,"")},makeArray:function(t,e){var i=e||[];return null!=t&&(k(Object(t))?x.merge(i,"string"==typeof t?[t]:t):a.call(i,t)),i},inArray:function(t,e,i){return null==e?-1:h.call(e,t,i)},merge:function(t,e){for(var i=+e.length,n=0,r=t.length;n<i;n++)t[r++]=e[n];return t.length=r,t},grep:function(t,e,i){for(var n=[],r=0,o=t.length,s=!i;r<o;r++)!e(t[r],r)!==s&&n.push(t[r]);return n},map:function(t,e,i){var n,r,o=0,a=[];if(k(t))for(n=t.length;o<n;o++)null!=(r=e(t[o],o,i))&&a.push(r);else for(o in t)null!=(r=e(t[o],o,i))&&a.push(r);return s.apply([],a)},guid:1,support:p}),"function"==typeof Symbol&&(x.fn[Symbol.iterator]=i[Symbol.iterator]),x.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){l["[object "+e+"]"]=e.toLowerCase()});var S=function(t){var e,i,n,r,o,s,a,h,l,d,u,c,f,p,g,m,v,y,b,w="sizzle"+1*new Date,x=t.document,_=0,k=0,S=ht(),M=ht(),C=ht(),E=ht(),N=function(t,e){return t===e&&(u=!0),0},A={}.hasOwnProperty,D=[],T=D.pop,L=D.push,O=D.push,P=D.slice,I=function(t,e){for(var i=0,n=t.length;i<n;i++)if(t[i]===e)return i;return-1},B="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",R="[\\x20\\t\\r\\n\\f]",F="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",z="\\["+R+"*("+F+")(?:"+R+"*([*^$|!~]?=)"+R+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+F+"))|)"+R+"*\\]",j=":("+F+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+z+")*)|.*)\\)|)",q=new RegExp(R+"+","g"),H=new RegExp("^"+R+"+|((?:^|[^\\\\])(?:\\\\.)*)"+R+"+$","g"),W=new RegExp("^"+R+"*,"+R+"*"),U=new RegExp("^"+R+"*([>+~]|"+R+")"+R+"*"),V=new RegExp(R+"|>"),Y=new RegExp(j),G=new RegExp("^"+F+"$"),X={ID:new RegExp("^#("+F+")"),CLASS:new RegExp("^\\.("+F+")"),TAG:new RegExp("^("+F+"|[*])"),ATTR:new RegExp("^"+z),PSEUDO:new RegExp("^"+j),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+R+"*(even|odd|(([+-]|)(\\d*)n|)"+R+"*(?:([+-]|)"+R+"*(\\d+)|))"+R+"*\\)|)","i"),bool:new RegExp("^(?:"+B+")$","i"),needsContext:new RegExp("^"+R+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+R+"*((?:-\\d)?\\d*)"+R+"*\\)|)(?=[^-]|$)","i")},K=/HTML$/i,Z=/^(?:input|select|textarea|button)$/i,Q=/^h\d$/i,$=/^[^{]+\{\s*\[native \w/,J=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,tt=/[+~]/,et=new RegExp("\\\\([\\da-f]{1,6}"+R+"?|("+R+")|.)","ig"),it=function(t,e,i){var n="0x"+e-65536;return n!=n||i?e:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)},nt=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,rt=function(t,e){return e?"\0"===t?"�":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},ot=function(){c()},st=wt(function(t){return!0===t.disabled&&"fieldset"===t.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{O.apply(D=P.call(x.childNodes),x.childNodes)}catch(e){O={apply:D.length?function(t,e){L.apply(t,P.call(e))}:function(t,e){for(var i=t.length,n=0;t[i++]=e[n++];);t.length=i-1}}}function at(t,e,n,r){var o,a,l,d,u,p,v,y=e&&e.ownerDocument,_=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==_&&9!==_&&11!==_)return n;if(!r&&((e?e.ownerDocument||e:x)!==f&&c(e),e=e||f,g)){if(11!==_&&(u=J.exec(t)))if(o=u[1]){if(9===_){if(!(l=e.getElementById(o)))return n;if(l.id===o)return n.push(l),n}else if(y&&(l=y.getElementById(o))&&b(e,l)&&l.id===o)return n.push(l),n}else{if(u[2])return O.apply(n,e.getElementsByTagName(t)),n;if((o=u[3])&&i.getElementsByClassName&&e.getElementsByClassName)return O.apply(n,e.getElementsByClassName(o)),n}if(i.qsa&&!E[t+" "]&&(!m||!m.test(t))&&(1!==_||"object"!==e.nodeName.toLowerCase())){if(v=t,y=e,1===_&&V.test(t)){for((d=e.getAttribute("id"))?d=d.replace(nt,rt):e.setAttribute("id",d=w),a=(p=s(t)).length;a--;)p[a]="#"+d+" "+bt(p[a]);v=p.join(","),y=tt.test(t)&&vt(e.parentNode)||e}try{return O.apply(n,y.querySelectorAll(v)),n}catch(e){E(t,!0)}finally{d===w&&e.removeAttribute("id")}}}return h(t.replace(H,"$1"),e,n,r)}function ht(){var t=[];return function e(i,r){return t.push(i+" ")>n.cacheLength&&delete e[t.shift()],e[i+" "]=r}}function lt(t){return t[w]=!0,t}function dt(t){var e=f.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function ut(t,e){for(var i=t.split("|"),r=i.length;r--;)n.attrHandle[i[r]]=e}function ct(t,e){var i=e&&t,n=i&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(n)return n;if(i)for(;i=i.nextSibling;)if(i===e)return-1;return t?1:-1}function ft(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function pt(t){return function(e){var i=e.nodeName.toLowerCase();return("input"===i||"button"===i)&&e.type===t}}function gt(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&st(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function mt(t){return lt(function(e){return e=+e,lt(function(i,n){for(var r,o=t([],i.length,e),s=o.length;s--;)i[r=o[s]]&&(i[r]=!(n[r]=i[r]))})})}function vt(t){return t&&void 0!==t.getElementsByTagName&&t}for(e in i=at.support={},o=at.isXML=function(t){var e=(t.ownerDocument||t).documentElement;return!K.test(t.namespaceURI||e&&e.nodeName||"HTML")},c=at.setDocument=function(t){var e,r,s=t?t.ownerDocument||t:x;return s!==f&&9===s.nodeType&&s.documentElement&&(p=(f=s).documentElement,g=!o(f),x!==f&&(r=f.defaultView)&&r.top!==r&&(r.addEventListener?r.addEventListener("unload",ot,!1):r.attachEvent&&r.attachEvent("onunload",ot)),i.attributes=dt(function(t){return t.className="i",!t.getAttribute("className")}),i.getElementsByTagName=dt(function(t){return t.appendChild(f.createComment("")),!t.getElementsByTagName("*").length}),i.getElementsByClassName=$.test(f.getElementsByClassName),i.getById=dt(function(t){return p.appendChild(t).id=w,!f.getElementsByName||!f.getElementsByName(w).length}),i.getById?(n.filter.ID=function(t){var e=t.replace(et,it);return function(t){return t.getAttribute("id")===e}},n.find.ID=function(t,e){if(void 0!==e.getElementById&&g){var i=e.getElementById(t);return i?[i]:[]}}):(n.filter.ID=function(t){var e=t.replace(et,it);return function(t){var i=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return i&&i.value===e}},n.find.ID=function(t,e){if(void 0!==e.getElementById&&g){var i,n,r,o=e.getElementById(t);if(o){if((i=o.getAttributeNode("id"))&&i.value===t)return[o];for(r=e.getElementsByName(t),n=0;o=r[n++];)if((i=o.getAttributeNode("id"))&&i.value===t)return[o]}return[]}}),n.find.TAG=i.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):i.qsa?e.querySelectorAll(t):void 0}:function(t,e){var i,n=[],r=0,o=e.getElementsByTagName(t);if("*"===t){for(;i=o[r++];)1===i.nodeType&&n.push(i);return n}return o},n.find.CLASS=i.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&g)return e.getElementsByClassName(t)},v=[],m=[],(i.qsa=$.test(f.querySelectorAll))&&(dt(function(t){p.appendChild(t).innerHTML="<a id='"+w+"'></a><select id='"+w+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&m.push("[*^$]="+R+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||m.push("\\["+R+"*(?:value|"+B+")"),t.querySelectorAll("[id~="+w+"-]").length||m.push("~="),t.querySelectorAll(":checked").length||m.push(":checked"),t.querySelectorAll("a#"+w+"+*").length||m.push(".#.+[+~]")}),dt(function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=f.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&m.push("name"+R+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&m.push(":enabled",":disabled"),p.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&m.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),m.push(",.*:")})),(i.matchesSelector=$.test(y=p.matches||p.webkitMatchesSelector||p.mozMatchesSelector||p.oMatchesSelector||p.msMatchesSelector))&&dt(function(t){i.disconnectedMatch=y.call(t,"*"),y.call(t,"[s!='']:x"),v.push("!=",j)}),m=m.length&&new RegExp(m.join("|")),v=v.length&&new RegExp(v.join("|")),e=$.test(p.compareDocumentPosition),b=e||$.test(p.contains)?function(t,e){var i=9===t.nodeType?t.documentElement:t,n=e&&e.parentNode;return t===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):t.compareDocumentPosition&&16&t.compareDocumentPosition(n)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},N=e?function(t,e){if(t===e)return u=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n||(1&(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!i.sortDetached&&e.compareDocumentPosition(t)===n?t===f||t.ownerDocument===x&&b(x,t)?-1:e===f||e.ownerDocument===x&&b(x,e)?1:d?I(d,t)-I(d,e):0:4&n?-1:1)}:function(t,e){if(t===e)return u=!0,0;var i,n=0,r=t.parentNode,o=e.parentNode,s=[t],a=[e];if(!r||!o)return t===f?-1:e===f?1:r?-1:o?1:d?I(d,t)-I(d,e):0;if(r===o)return ct(t,e);for(i=t;i=i.parentNode;)s.unshift(i);for(i=e;i=i.parentNode;)a.unshift(i);for(;s[n]===a[n];)n++;return n?ct(s[n],a[n]):s[n]===x?-1:a[n]===x?1:0}),f},at.matches=function(t,e){return at(t,null,null,e)},at.matchesSelector=function(t,e){if((t.ownerDocument||t)!==f&&c(t),i.matchesSelector&&g&&!E[e+" "]&&(!v||!v.test(e))&&(!m||!m.test(e)))try{var n=y.call(t,e);if(n||i.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(t){E(e,!0)}return 0<at(e,f,null,[t]).length},at.contains=function(t,e){return(t.ownerDocument||t)!==f&&c(t),b(t,e)},at.attr=function(t,e){(t.ownerDocument||t)!==f&&c(t);var r=n.attrHandle[e.toLowerCase()],o=r&&A.call(n.attrHandle,e.toLowerCase())?r(t,e,!g):void 0;return void 0!==o?o:i.attributes||!g?t.getAttribute(e):(o=t.getAttributeNode(e))&&o.specified?o.value:null},at.escape=function(t){return(t+"").replace(nt,rt)},at.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},at.uniqueSort=function(t){var e,n=[],r=0,o=0;if(u=!i.detectDuplicates,d=!i.sortStable&&t.slice(0),t.sort(N),u){for(;e=t[o++];)e===t[o]&&(r=n.push(o));for(;r--;)t.splice(n[r],1)}return d=null,t},r=at.getText=function(t){var e,i="",n=0,o=t.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)i+=r(t)}else if(3===o||4===o)return t.nodeValue}else for(;e=t[n++];)i+=r(e);return i},(n=at.selectors={cacheLength:50,createPseudo:lt,match:X,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(et,it),t[3]=(t[3]||t[4]||t[5]||"").replace(et,it),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||at.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&at.error(t[0]),t},PSEUDO:function(t){var e,i=!t[6]&&t[2];return X.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":i&&Y.test(i)&&(e=s(i,!0))&&(e=i.indexOf(")",i.length-e)-i.length)&&(t[0]=t[0].slice(0,e),t[2]=i.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(et,it).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=S[t+" "];return e||(e=new RegExp("(^|"+R+")"+t+"("+R+"|$)"))&&S(t,function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,e,i){return function(n){var r=at.attr(n,t);return null==r?"!="===e:!e||(r+="","="===e?r===i:"!="===e?r!==i:"^="===e?i&&0===r.indexOf(i):"*="===e?i&&-1<r.indexOf(i):"$="===e?i&&r.slice(-i.length)===i:"~="===e?-1<(" "+r.replace(q," ")+" ").indexOf(i):"|="===e&&(r===i||r.slice(0,i.length+1)===i+"-"))}},CHILD:function(t,e,i,n,r){var o="nth"!==t.slice(0,3),s="last"!==t.slice(-4),a="of-type"===e;return 1===n&&0===r?function(t){return!!t.parentNode}:function(e,i,h){var l,d,u,c,f,p,g=o!==s?"nextSibling":"previousSibling",m=e.parentNode,v=a&&e.nodeName.toLowerCase(),y=!h&&!a,b=!1;if(m){if(o){for(;g;){for(c=e;c=c[g];)if(a?c.nodeName.toLowerCase()===v:1===c.nodeType)return!1;p=g="only"===t&&!p&&"nextSibling"}return!0}if(p=[s?m.firstChild:m.lastChild],s&&y){for(b=(f=(l=(d=(u=(c=m)[w]||(c[w]={}))[c.uniqueID]||(u[c.uniqueID]={}))[t]||[])[0]===_&&l[1])&&l[2],c=f&&m.childNodes[f];c=++f&&c&&c[g]||(b=f=0)||p.pop();)if(1===c.nodeType&&++b&&c===e){d[t]=[_,f,b];break}}else if(y&&(b=f=(l=(d=(u=(c=e)[w]||(c[w]={}))[c.uniqueID]||(u[c.uniqueID]={}))[t]||[])[0]===_&&l[1]),!1===b)for(;(c=++f&&c&&c[g]||(b=f=0)||p.pop())&&((a?c.nodeName.toLowerCase()!==v:1!==c.nodeType)||!++b||(y&&((d=(u=c[w]||(c[w]={}))[c.uniqueID]||(u[c.uniqueID]={}))[t]=[_,b]),c!==e)););return(b-=r)===n||b%n==0&&0<=b/n}}},PSEUDO:function(t,e){var i,r=n.pseudos[t]||n.setFilters[t.toLowerCase()]||at.error("unsupported pseudo: "+t);return r[w]?r(e):1<r.length?(i=[t,t,"",e],n.setFilters.hasOwnProperty(t.toLowerCase())?lt(function(t,i){for(var n,o=r(t,e),s=o.length;s--;)t[n=I(t,o[s])]=!(i[n]=o[s])}):function(t){return r(t,0,i)}):r}},pseudos:{not:lt(function(t){var e=[],i=[],n=a(t.replace(H,"$1"));return n[w]?lt(function(t,e,i,r){for(var o,s=n(t,null,r,[]),a=t.length;a--;)(o=s[a])&&(t[a]=!(e[a]=o))}):function(t,r,o){return e[0]=t,n(e,null,o,i),e[0]=null,!i.pop()}}),has:lt(function(t){return function(e){return 0<at(t,e).length}}),contains:lt(function(t){return t=t.replace(et,it),function(e){return-1<(e.textContent||r(e)).indexOf(t)}}),lang:lt(function(t){return G.test(t||"")||at.error("unsupported lang: "+t),t=t.replace(et,it).toLowerCase(),function(e){var i;do{if(i=g?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(i=i.toLowerCase())===t||0===i.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var i=t.location&&t.location.hash;return i&&i.slice(1)===e.id},root:function(t){return t===p},focus:function(t){return t===f.activeElement&&(!f.hasFocus||f.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:gt(!1),disabled:gt(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!n.pseudos.empty(t)},header:function(t){return Q.test(t.nodeName)},input:function(t){return Z.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:mt(function(){return[0]}),last:mt(function(t,e){return[e-1]}),eq:mt(function(t,e,i){return[i<0?i+e:i]}),even:mt(function(t,e){for(var i=0;i<e;i+=2)t.push(i);return t}),odd:mt(function(t,e){for(var i=1;i<e;i+=2)t.push(i);return t}),lt:mt(function(t,e,i){for(var n=i<0?i+e:e<i?e:i;0<=--n;)t.push(n);return t}),gt:mt(function(t,e,i){for(var n=i<0?i+e:i;++n<e;)t.push(n);return t})}}).pseudos.nth=n.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})n.pseudos[e]=ft(e);for(e in{submit:!0,reset:!0})n.pseudos[e]=pt(e);function yt(){}function bt(t){for(var e=0,i=t.length,n="";e<i;e++)n+=t[e].value;return n}function wt(t,e,i){var n=e.dir,r=e.next,o=r||n,s=i&&"parentNode"===o,a=k++;return e.first?function(e,i,r){for(;e=e[n];)if(1===e.nodeType||s)return t(e,i,r);return!1}:function(e,i,h){var l,d,u,c=[_,a];if(h){for(;e=e[n];)if((1===e.nodeType||s)&&t(e,i,h))return!0}else for(;e=e[n];)if(1===e.nodeType||s)if(d=(u=e[w]||(e[w]={}))[e.uniqueID]||(u[e.uniqueID]={}),r&&r===e.nodeName.toLowerCase())e=e[n]||e;else{if((l=d[o])&&l[0]===_&&l[1]===a)return c[2]=l[2];if((d[o]=c)[2]=t(e,i,h))return!0}return!1}}function xt(t){return 1<t.length?function(e,i,n){for(var r=t.length;r--;)if(!t[r](e,i,n))return!1;return!0}:t[0]}function _t(t,e,i,n,r){for(var o,s=[],a=0,h=t.length,l=null!=e;a<h;a++)(o=t[a])&&(i&&!i(o,n,r)||(s.push(o),l&&e.push(a)));return s}function kt(t,e,i,n,r,o){return n&&!n[w]&&(n=kt(n)),r&&!r[w]&&(r=kt(r,o)),lt(function(o,s,a,h){var l,d,u,c=[],f=[],p=s.length,g=o||function(t,e,i){for(var n=0,r=e.length;n<r;n++)at(t,e[n],i);return i}(e||"*",a.nodeType?[a]:a,[]),m=!t||!o&&e?g:_t(g,c,t,a,h),v=i?r||(o?t:p||n)?[]:s:m;if(i&&i(m,v,a,h),n)for(l=_t(v,f),n(l,[],a,h),d=l.length;d--;)(u=l[d])&&(v[f[d]]=!(m[f[d]]=u));if(o){if(r||t){if(r){for(l=[],d=v.length;d--;)(u=v[d])&&l.push(m[d]=u);r(null,v=[],l,h)}for(d=v.length;d--;)(u=v[d])&&-1<(l=r?I(o,u):c[d])&&(o[l]=!(s[l]=u))}}else v=_t(v===s?v.splice(p,v.length):v),r?r(null,s,v,h):O.apply(s,v)})}function St(t){for(var e,i,r,o=t.length,s=n.relative[t[0].type],a=s||n.relative[" "],h=s?1:0,d=wt(function(t){return t===e},a,!0),u=wt(function(t){return-1<I(e,t)},a,!0),c=[function(t,i,n){var r=!s&&(n||i!==l)||((e=i).nodeType?d(t,i,n):u(t,i,n));return e=null,r}];h<o;h++)if(i=n.relative[t[h].type])c=[wt(xt(c),i)];else{if((i=n.filter[t[h].type].apply(null,t[h].matches))[w]){for(r=++h;r<o&&!n.relative[t[r].type];r++);return kt(1<h&&xt(c),1<h&&bt(t.slice(0,h-1).concat({value:" "===t[h-2].type?"*":""})).replace(H,"$1"),i,h<r&&St(t.slice(h,r)),r<o&&St(t=t.slice(r)),r<o&&bt(t))}c.push(i)}return xt(c)}return yt.prototype=n.filters=n.pseudos,n.setFilters=new yt,s=at.tokenize=function(t,e){var i,r,o,s,a,h,l,d=M[t+" "];if(d)return e?0:d.slice(0);for(a=t,h=[],l=n.preFilter;a;){for(s in i&&!(r=W.exec(a))||(r&&(a=a.slice(r[0].length)||a),h.push(o=[])),i=!1,(r=U.exec(a))&&(i=r.shift(),o.push({value:i,type:r[0].replace(H," ")}),a=a.slice(i.length)),n.filter)!(r=X[s].exec(a))||l[s]&&!(r=l[s](r))||(i=r.shift(),o.push({value:i,type:s,matches:r}),a=a.slice(i.length));if(!i)break}return e?a.length:a?at.error(t):M(t,h).slice(0)},a=at.compile=function(t,e){var i,r,o,a,h,d,u=[],p=[],m=C[t+" "];if(!m){for(e||(e=s(t)),i=e.length;i--;)(m=St(e[i]))[w]?u.push(m):p.push(m);(m=C(t,(r=p,a=0<(o=u).length,h=0<r.length,d=function(t,e,i,s,d){var u,p,m,v=0,y="0",b=t&&[],w=[],x=l,k=t||h&&n.find.TAG("*",d),S=_+=null==x?1:Math.random()||.1,M=k.length;for(d&&(l=e===f||e||d);y!==M&&null!=(u=k[y]);y++){if(h&&u){for(p=0,e||u.ownerDocument===f||(c(u),i=!g);m=r[p++];)if(m(u,e||f,i)){s.push(u);break}d&&(_=S)}a&&((u=!m&&u)&&v--,t&&b.push(u))}if(v+=y,a&&y!==v){for(p=0;m=o[p++];)m(b,w,e,i);if(t){if(0<v)for(;y--;)b[y]||w[y]||(w[y]=T.call(s));w=_t(w)}O.apply(s,w),d&&!t&&0<w.length&&1<v+o.length&&at.uniqueSort(s)}return d&&(_=S,l=x),b},a?lt(d):d))).selector=t}return m},h=at.select=function(t,e,i,r){var o,h,l,d,u,c="function"==typeof t&&t,f=!r&&s(t=c.selector||t);if(i=i||[],1===f.length){if(2<(h=f[0]=f[0].slice(0)).length&&"ID"===(l=h[0]).type&&9===e.nodeType&&g&&n.relative[h[1].type]){if(!(e=(n.find.ID(l.matches[0].replace(et,it),e)||[])[0]))return i;c&&(e=e.parentNode),t=t.slice(h.shift().value.length)}for(o=X.needsContext.test(t)?0:h.length;o--&&!n.relative[d=(l=h[o]).type];)if((u=n.find[d])&&(r=u(l.matches[0].replace(et,it),tt.test(h[0].type)&&vt(e.parentNode)||e))){if(h.splice(o,1),!(t=r.length&&bt(h)))return O.apply(i,r),i;break}}return(c||a(t,f))(r,e,!g,i,!e||tt.test(t)&&vt(e.parentNode)||e),i},i.sortStable=w.split("").sort(N).join("")===w,i.detectDuplicates=!!u,c(),i.sortDetached=dt(function(t){return 1&t.compareDocumentPosition(f.createElement("fieldset"))}),dt(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||ut("type|href|height|width",function(t,e,i){if(!i)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),i.attributes&&dt(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||ut("value",function(t,e,i){if(!i&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),dt(function(t){return null==t.getAttribute("disabled")})||ut(B,function(t,e,i){var n;if(!i)return!0===t[e]?e.toLowerCase():(n=t.getAttributeNode(e))&&n.specified?n.value:null}),at}(t);x.find=S,x.expr=S.selectors,x.expr[":"]=x.expr.pseudos,x.uniqueSort=x.unique=S.uniqueSort,x.text=S.getText,x.isXMLDoc=S.isXML,x.contains=S.contains,x.escapeSelector=S.escape;var M=function(t,e,i){for(var n=[],r=void 0!==i;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&x(t).is(i))break;n.push(t)}return n},C=function(t,e){for(var i=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&i.push(t);return i},E=x.expr.match.needsContext;function N(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}var A=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function D(t,e,i){return g(e)?x.grep(t,function(t,n){return!!e.call(t,n,t)!==i}):e.nodeType?x.grep(t,function(t){return t===e!==i}):"string"!=typeof e?x.grep(t,function(t){return-1<h.call(e,t)!==i}):x.filter(e,t,i)}x.filter=function(t,e,i){var n=e[0];return i&&(t=":not("+t+")"),1===e.length&&1===n.nodeType?x.find.matchesSelector(n,t)?[n]:[]:x.find.matches(t,x.grep(e,function(t){return 1===t.nodeType}))},x.fn.extend({find:function(t){var e,i,n=this.length,r=this;if("string"!=typeof t)return this.pushStack(x(t).filter(function(){for(e=0;e<n;e++)if(x.contains(r[e],this))return!0}));for(i=this.pushStack([]),e=0;e<n;e++)x.find(t,r[e],i);return 1<n?x.uniqueSort(i):i},filter:function(t){return this.pushStack(D(this,t||[],!1))},not:function(t){return this.pushStack(D(this,t||[],!0))},is:function(t){return!!D(this,"string"==typeof t&&E.test(t)?x(t):t||[],!1).length}});var T,L=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(x.fn.init=function(t,e,i){var r,o;if(!t)return this;if(i=i||T,"string"==typeof t){if(!(r="<"===t[0]&&">"===t[t.length-1]&&3<=t.length?[null,t,null]:L.exec(t))||!r[1]&&e)return!e||e.jquery?(e||i).find(t):this.constructor(e).find(t);if(r[1]){if(x.merge(this,x.parseHTML(r[1],(e=e instanceof x?e[0]:e)&&e.nodeType?e.ownerDocument||e:n,!0)),A.test(r[1])&&x.isPlainObject(e))for(r in e)g(this[r])?this[r](e[r]):this.attr(r,e[r]);return this}return(o=n.getElementById(r[2]))&&(this[0]=o,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):g(t)?void 0!==i.ready?i.ready(t):t(x):x.makeArray(t,this)}).prototype=x.fn,T=x(n);var O=/^(?:parents|prev(?:Until|All))/,P={children:!0,contents:!0,next:!0,prev:!0};function I(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}x.fn.extend({has:function(t){var e=x(t,this),i=e.length;return this.filter(function(){for(var t=0;t<i;t++)if(x.contains(this,e[t]))return!0})},closest:function(t,e){var i,n=0,r=this.length,o=[],s="string"!=typeof t&&x(t);if(!E.test(t))for(;n<r;n++)for(i=this[n];i&&i!==e;i=i.parentNode)if(i.nodeType<11&&(s?-1<s.index(i):1===i.nodeType&&x.find.matchesSelector(i,t))){o.push(i);break}return this.pushStack(1<o.length?x.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?h.call(x(t),this[0]):h.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(x.uniqueSort(x.merge(this.get(),x(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),x.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return M(t,"parentNode")},parentsUntil:function(t,e,i){return M(t,"parentNode",i)},next:function(t){return I(t,"nextSibling")},prev:function(t){return I(t,"previousSibling")},nextAll:function(t){return M(t,"nextSibling")},prevAll:function(t){return M(t,"previousSibling")},nextUntil:function(t,e,i){return M(t,"nextSibling",i)},prevUntil:function(t,e,i){return M(t,"previousSibling",i)},siblings:function(t){return C((t.parentNode||{}).firstChild,t)},children:function(t){return C(t.firstChild)},contents:function(t){return void 0!==t.contentDocument?t.contentDocument:(N(t,"template")&&(t=t.content||t),x.merge([],t.childNodes))}},function(t,e){x.fn[t]=function(i,n){var r=x.map(this,e,i);return"Until"!==t.slice(-5)&&(n=i),n&&"string"==typeof n&&(r=x.filter(n,r)),1<this.length&&(P[t]||x.uniqueSort(r),O.test(t)&&r.reverse()),this.pushStack(r)}});var B=/[^\x20\t\r\n\f]+/g;function R(t){return t}function F(t){throw t}function z(t,e,i,n){var r;try{t&&g(r=t.promise)?r.call(t).done(e).fail(i):t&&g(r=t.then)?r.call(t,e,i):e.apply(void 0,[t].slice(n))}catch(t){i.apply(void 0,[t])}}x.Callbacks=function(t){var e;t="string"==typeof t?(e={},x.each(t.match(B)||[],function(t,i){e[i]=!0}),e):x.extend({},t);var i,n,r,o,s=[],a=[],h=-1,l=function(){for(o=o||t.once,r=i=!0;a.length;h=-1)for(n=a.shift();++h<s.length;)!1===s[h].apply(n[0],n[1])&&t.stopOnFalse&&(h=s.length,n=!1);t.memory||(n=!1),i=!1,o&&(s=n?[]:"")},d={add:function(){return s&&(n&&!i&&(h=s.length-1,a.push(n)),function e(i){x.each(i,function(i,n){g(n)?t.unique&&d.has(n)||s.push(n):n&&n.length&&"string"!==b(n)&&e(n)})}(arguments),n&&!i&&l()),this},remove:function(){return x.each(arguments,function(t,e){for(var i;-1<(i=x.inArray(e,s,i));)s.splice(i,1),i<=h&&h--}),this},has:function(t){return t?-1<x.inArray(t,s):0<s.length},empty:function(){return s&&(s=[]),this},disable:function(){return o=a=[],s=n="",this},disabled:function(){return!s},lock:function(){return o=a=[],n||i||(s=n=""),this},locked:function(){return!!o},fireWith:function(t,e){return o||(e=[t,(e=e||[]).slice?e.slice():e],a.push(e),i||l()),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!r}};return d},x.extend({Deferred:function(e){var i=[["notify","progress",x.Callbacks("memory"),x.Callbacks("memory"),2],["resolve","done",x.Callbacks("once memory"),x.Callbacks("once memory"),0,"resolved"],["reject","fail",x.Callbacks("once memory"),x.Callbacks("once memory"),1,"rejected"]],n="pending",r={state:function(){return n},always:function(){return o.done(arguments).fail(arguments),this},catch:function(t){return r.then(null,t)},pipe:function(){var t=arguments;return x.Deferred(function(e){x.each(i,function(i,n){var r=g(t[n[4]])&&t[n[4]];o[n[1]](function(){var t=r&&r.apply(this,arguments);t&&g(t.promise)?t.promise().progress(e.notify).done(e.resolve).fail(e.reject):e[n[0]+"With"](this,r?[t]:arguments)})}),t=null}).promise()},then:function(e,n,r){var o=0;function s(e,i,n,r){return function(){var a=this,h=arguments,l=function(){var t,l;if(!(e<o)){if((t=n.apply(a,h))===i.promise())throw new TypeError("Thenable self-resolution");g(l=t&&("object"==typeof t||"function"==typeof t)&&t.then)?r?l.call(t,s(o,i,R,r),s(o,i,F,r)):l.call(t,s(++o,i,R,r),s(o,i,F,r),s(o,i,R,i.notifyWith)):(n!==R&&(a=void 0,h=[t]),(r||i.resolveWith)(a,h))}},d=r?l:function(){try{l()}catch(l){x.Deferred.exceptionHook&&x.Deferred.exceptionHook(l,d.stackTrace),o<=e+1&&(n!==F&&(a=void 0,h=[l]),i.rejectWith(a,h))}};e?d():(x.Deferred.getStackHook&&(d.stackTrace=x.Deferred.getStackHook()),t.setTimeout(d))}}return x.Deferred(function(t){i[0][3].add(s(0,t,g(r)?r:R,t.notifyWith)),i[1][3].add(s(0,t,g(e)?e:R)),i[2][3].add(s(0,t,g(n)?n:F))}).promise()},promise:function(t){return null!=t?x.extend(t,r):r}},o={};return x.each(i,function(t,e){var s=e[2],a=e[5];r[e[1]]=s.add,a&&s.add(function(){n=a},i[3-t][2].disable,i[3-t][3].disable,i[0][2].lock,i[0][3].lock),s.add(e[3].fire),o[e[0]]=function(){return o[e[0]+"With"](this===o?void 0:this,arguments),this},o[e[0]+"With"]=s.fireWith}),r.promise(o),e&&e.call(o,o),o},when:function(t){var e=arguments.length,i=e,n=Array(i),r=o.call(arguments),s=x.Deferred(),a=function(t){return function(i){n[t]=this,r[t]=1<arguments.length?o.call(arguments):i,--e||s.resolveWith(n,r)}};if(e<=1&&(z(t,s.done(a(i)).resolve,s.reject,!e),"pending"===s.state()||g(r[i]&&r[i].then)))return s.then();for(;i--;)z(r[i],a(i),s.reject);return s.promise()}});var j=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;x.Deferred.exceptionHook=function(e,i){t.console&&t.console.warn&&e&&j.test(e.name)&&t.console.warn("jQuery.Deferred exception: "+e.message,e.stack,i)},x.readyException=function(e){t.setTimeout(function(){throw e})};var q=x.Deferred();function H(){n.removeEventListener("DOMContentLoaded",H),t.removeEventListener("load",H),x.ready()}x.fn.ready=function(t){return q.then(t).catch(function(t){x.readyException(t)}),this},x.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--x.readyWait:x.isReady)||(x.isReady=!0)!==t&&0<--x.readyWait||q.resolveWith(n,[x])}}),x.ready.then=q.then,"complete"===n.readyState||"loading"!==n.readyState&&!n.documentElement.doScroll?t.setTimeout(x.ready):(n.addEventListener("DOMContentLoaded",H),t.addEventListener("load",H));var W=function(t,e,i,n,r,o,s){var a=0,h=t.length,l=null==i;if("object"===b(i))for(a in r=!0,i)W(t,e,a,i[a],!0,o,s);else if(void 0!==n&&(r=!0,g(n)||(s=!0),l&&(s?(e.call(t,n),e=null):(l=e,e=function(t,e,i){return l.call(x(t),i)})),e))for(;a<h;a++)e(t[a],i,s?n:n.call(t[a],a,e(t[a],i)));return r?t:l?e.call(t):h?e(t[0],i):o},U=/^-ms-/,V=/-([a-z])/g;function Y(t,e){return e.toUpperCase()}function G(t){return t.replace(U,"ms-").replace(V,Y)}var X=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};function K(){this.expando=x.expando+K.uid++}K.uid=1,K.prototype={cache:function(t){var e=t[this.expando];return e||(e={},X(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,i){var n,r=this.cache(t);if("string"==typeof e)r[G(e)]=i;else for(n in e)r[G(n)]=e[n];return r},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][G(e)]},access:function(t,e,i){return void 0===e||e&&"string"==typeof e&&void 0===i?this.get(t,e):(this.set(t,e,i),void 0!==i?i:e)},remove:function(t,e){var i,n=t[this.expando];if(void 0!==n){if(void 0!==e){i=(e=Array.isArray(e)?e.map(G):(e=G(e))in n?[e]:e.match(B)||[]).length;for(;i--;)delete n[e[i]]}(void 0===e||x.isEmptyObject(n))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!x.isEmptyObject(e)}};var Z=new K,Q=new K,$=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,J=/[A-Z]/g;function tt(t,e,i){var n,r;if(void 0===i&&1===t.nodeType)if(n="data-"+e.replace(J,"-$&").toLowerCase(),"string"==typeof(i=t.getAttribute(n))){try{i="true"===(r=i)||"false"!==r&&("null"===r?null:r===+r+""?+r:$.test(r)?JSON.parse(r):r)}catch(t){}Q.set(t,e,i)}else i=void 0;return i}x.extend({hasData:function(t){return Q.hasData(t)||Z.hasData(t)},data:function(t,e,i){return Q.access(t,e,i)},removeData:function(t,e){Q.remove(t,e)},_data:function(t,e,i){return Z.access(t,e,i)},_removeData:function(t,e){Z.remove(t,e)}}),x.fn.extend({data:function(t,e){var i,n,r,o=this[0],s=o&&o.attributes;if(void 0===t){if(this.length&&(r=Q.get(o),1===o.nodeType&&!Z.get(o,"hasDataAttrs"))){for(i=s.length;i--;)s[i]&&0===(n=s[i].name).indexOf("data-")&&(n=G(n.slice(5)),tt(o,n,r[n]));Z.set(o,"hasDataAttrs",!0)}return r}return"object"==typeof t?this.each(function(){Q.set(this,t)}):W(this,function(e){var i;if(o&&void 0===e)return void 0!==(i=Q.get(o,t))?i:void 0!==(i=tt(o,t))?i:void 0;this.each(function(){Q.set(this,t,e)})},null,e,1<arguments.length,null,!0)},removeData:function(t){return this.each(function(){Q.remove(this,t)})}}),x.extend({queue:function(t,e,i){var n;if(t)return n=Z.get(t,e=(e||"fx")+"queue"),i&&(!n||Array.isArray(i)?n=Z.access(t,e,x.makeArray(i)):n.push(i)),n||[]},dequeue:function(t,e){var i=x.queue(t,e=e||"fx"),n=i.length,r=i.shift(),o=x._queueHooks(t,e);"inprogress"===r&&(r=i.shift(),n--),r&&("fx"===e&&i.unshift("inprogress"),delete o.stop,r.call(t,function(){x.dequeue(t,e)},o)),!n&&o&&o.empty.fire()},_queueHooks:function(t,e){var i=e+"queueHooks";return Z.get(t,i)||Z.access(t,i,{empty:x.Callbacks("once memory").add(function(){Z.remove(t,[e+"queue",i])})})}}),x.fn.extend({queue:function(t,e){var i=2;return"string"!=typeof t&&(e=t,t="fx",i--),arguments.length<i?x.queue(this[0],t):void 0===e?this:this.each(function(){var i=x.queue(this,t,e);x._queueHooks(this,t),"fx"===t&&"inprogress"!==i[0]&&x.dequeue(this,t)})},dequeue:function(t){return this.each(function(){x.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var i,n=1,r=x.Deferred(),o=this,s=this.length,a=function(){--n||r.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";s--;)(i=Z.get(o[s],t+"queueHooks"))&&i.empty&&(n++,i.empty.add(a));return a(),r.promise(e)}});var et=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,it=new RegExp("^(?:([+-])=|)("+et+")([a-z%]*)$","i"),nt=["Top","Right","Bottom","Left"],rt=n.documentElement,ot=function(t){return x.contains(t.ownerDocument,t)},st={composed:!0};rt.getRootNode&&(ot=function(t){return x.contains(t.ownerDocument,t)||t.getRootNode(st)===t.ownerDocument});var at=function(t,e){return"none"===(t=e||t).style.display||""===t.style.display&&ot(t)&&"none"===x.css(t,"display")},ht=function(t,e,i,n){var r,o,s={};for(o in e)s[o]=t.style[o],t.style[o]=e[o];for(o in r=i.apply(t,n||[]),e)t.style[o]=s[o];return r};function lt(t,e,i,n){var r,o,s=20,a=n?function(){return n.cur()}:function(){return x.css(t,e,"")},h=a(),l=i&&i[3]||(x.cssNumber[e]?"":"px"),d=t.nodeType&&(x.cssNumber[e]||"px"!==l&&+h)&&it.exec(x.css(t,e));if(d&&d[3]!==l){for(l=l||d[3],d=+(h/=2)||1;s--;)x.style(t,e,d+l),(1-o)*(1-(o=a()/h||.5))<=0&&(s=0),d/=o;x.style(t,e,(d*=2)+l),i=i||[]}return i&&(d=+d||+h||0,r=i[1]?d+(i[1]+1)*i[2]:+i[2],n&&(n.unit=l,n.start=d,n.end=r)),r}var dt={};function ut(t,e){for(var i,n,r,o,s,a,h,l=[],d=0,u=t.length;d<u;d++)(n=t[d]).style&&(i=n.style.display,e?("none"===i&&(l[d]=Z.get(n,"display")||null,l[d]||(n.style.display="")),""===n.style.display&&at(n)&&(l[d]=(h=s=o=void 0,s=(r=n).ownerDocument,(h=dt[a=r.nodeName])||(o=s.body.appendChild(s.createElement(a)),h=x.css(o,"display"),o.parentNode.removeChild(o),"none"===h&&(h="block"),dt[a]=h)))):"none"!==i&&(l[d]="none",Z.set(n,"display",i)));for(d=0;d<u;d++)null!=l[d]&&(t[d].style.display=l[d]);return t}x.fn.extend({show:function(){return ut(this,!0)},hide:function(){return ut(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){at(this)?x(this).show():x(this).hide()})}});var ct=/^(?:checkbox|radio)$/i,ft=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,pt=/^$|^module$|\/(?:java|ecma)script/i,gt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function mt(t,e){var i;return i=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&N(t,e)?x.merge([t],i):i}function vt(t,e){for(var i=0,n=t.length;i<n;i++)Z.set(t[i],"globalEval",!e||Z.get(e[i],"globalEval"))}gt.optgroup=gt.option,gt.tbody=gt.tfoot=gt.colgroup=gt.caption=gt.thead,gt.th=gt.td;var yt,bt,wt=/<|&#?\w+;/;function xt(t,e,i,n,r){for(var o,s,a,h,l,d,u=e.createDocumentFragment(),c=[],f=0,p=t.length;f<p;f++)if((o=t[f])||0===o)if("object"===b(o))x.merge(c,o.nodeType?[o]:o);else if(wt.test(o)){for(s=s||u.appendChild(e.createElement("div")),a=(ft.exec(o)||["",""])[1].toLowerCase(),s.innerHTML=(h=gt[a]||gt._default)[1]+x.htmlPrefilter(o)+h[2],d=h[0];d--;)s=s.lastChild;x.merge(c,s.childNodes),(s=u.firstChild).textContent=""}else c.push(e.createTextNode(o));for(u.textContent="",f=0;o=c[f++];)if(n&&-1<x.inArray(o,n))r&&r.push(o);else if(l=ot(o),s=mt(u.appendChild(o),"script"),l&&vt(s),i)for(d=0;o=s[d++];)pt.test(o.type||"")&&i.push(o);return u}yt=n.createDocumentFragment().appendChild(n.createElement("div")),(bt=n.createElement("input")).setAttribute("type","radio"),bt.setAttribute("checked","checked"),bt.setAttribute("name","t"),yt.appendChild(bt),p.checkClone=yt.cloneNode(!0).cloneNode(!0).lastChild.checked,yt.innerHTML="<textarea>x</textarea>",p.noCloneChecked=!!yt.cloneNode(!0).lastChild.defaultValue;var _t=/^key/,kt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,St=/^([^.]*)(?:\.(.+)|)/;function Mt(){return!0}function Ct(){return!1}function Et(t,e){return t===function(){try{return n.activeElement}catch(t){}}()==("focus"===e)}function Nt(t,e,i,n,r,o){var s,a;if("object"==typeof e){for(a in"string"!=typeof i&&(n=n||i,i=void 0),e)Nt(t,a,i,n,e[a],o);return t}if(null==n&&null==r?(r=i,n=i=void 0):null==r&&("string"==typeof i?(r=n,n=void 0):(r=n,n=i,i=void 0)),!1===r)r=Ct;else if(!r)return t;return 1===o&&(s=r,(r=function(t){return x().off(t),s.apply(this,arguments)}).guid=s.guid||(s.guid=x.guid++)),t.each(function(){x.event.add(this,e,r,n,i)})}function At(t,e,i){i?(Z.set(t,e,!1),x.event.add(t,e,{namespace:!1,handler:function(t){var n,r,s=Z.get(this,e);if(1&t.isTrigger&&this[e]){if(s.length)(x.event.special[e]||{}).delegateType&&t.stopPropagation();else if(s=o.call(arguments),Z.set(this,e,s),n=i(this,e),this[e](),s!==(r=Z.get(this,e))||n?Z.set(this,e,!1):r={},s!==r)return t.stopImmediatePropagation(),t.preventDefault(),r.value}else s.length&&(Z.set(this,e,{value:x.event.trigger(x.extend(s[0],x.Event.prototype),s.slice(1),this)}),t.stopImmediatePropagation())}})):void 0===Z.get(t,e)&&x.event.add(t,e,Mt)}x.event={global:{},add:function(t,e,i,n,r){var o,s,a,h,l,d,u,c,f,p,g,m=Z.get(t);if(m)for(i.handler&&(i=(o=i).handler,r=o.selector),r&&x.find.matchesSelector(rt,r),i.guid||(i.guid=x.guid++),(h=m.events)||(h=m.events={}),(s=m.handle)||(s=m.handle=function(e){return void 0!==x&&x.event.triggered!==e.type?x.event.dispatch.apply(t,arguments):void 0}),l=(e=(e||"").match(B)||[""]).length;l--;)f=g=(a=St.exec(e[l])||[])[1],p=(a[2]||"").split(".").sort(),f&&(u=x.event.special[f]||{},u=x.event.special[f=(r?u.delegateType:u.bindType)||f]||{},d=x.extend({type:f,origType:g,data:n,handler:i,guid:i.guid,selector:r,needsContext:r&&x.expr.match.needsContext.test(r),namespace:p.join(".")},o),(c=h[f])||((c=h[f]=[]).delegateCount=0,u.setup&&!1!==u.setup.call(t,n,p,s)||t.addEventListener&&t.addEventListener(f,s)),u.add&&(u.add.call(t,d),d.handler.guid||(d.handler.guid=i.guid)),r?c.splice(c.delegateCount++,0,d):c.push(d),x.event.global[f]=!0)},remove:function(t,e,i,n,r){var o,s,a,h,l,d,u,c,f,p,g,m=Z.hasData(t)&&Z.get(t);if(m&&(h=m.events)){for(l=(e=(e||"").match(B)||[""]).length;l--;)if(f=g=(a=St.exec(e[l])||[])[1],p=(a[2]||"").split(".").sort(),f){for(u=x.event.special[f]||{},c=h[f=(n?u.delegateType:u.bindType)||f]||[],a=a[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=c.length;o--;)d=c[o],!r&&g!==d.origType||i&&i.guid!==d.guid||a&&!a.test(d.namespace)||n&&n!==d.selector&&("**"!==n||!d.selector)||(c.splice(o,1),d.selector&&c.delegateCount--,u.remove&&u.remove.call(t,d));s&&!c.length&&(u.teardown&&!1!==u.teardown.call(t,p,m.handle)||x.removeEvent(t,f,m.handle),delete h[f])}else for(f in h)x.event.remove(t,f+e[l],i,n,!0);x.isEmptyObject(h)&&Z.remove(t,"handle events")}},dispatch:function(t){var e,i,n,r,o,s,a=x.event.fix(t),h=new Array(arguments.length),l=(Z.get(this,"events")||{})[a.type]||[],d=x.event.special[a.type]||{};for(h[0]=a,e=1;e<arguments.length;e++)h[e]=arguments[e];if(a.delegateTarget=this,!d.preDispatch||!1!==d.preDispatch.call(this,a)){for(s=x.event.handlers.call(this,a,l),e=0;(r=s[e++])&&!a.isPropagationStopped();)for(a.currentTarget=r.elem,i=0;(o=r.handlers[i++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!1!==o.namespace&&!a.rnamespace.test(o.namespace)||(a.handleObj=o,a.data=o.data,void 0!==(n=((x.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,h))&&!1===(a.result=n)&&(a.preventDefault(),a.stopPropagation()));return d.postDispatch&&d.postDispatch.call(this,a),a.result}},handlers:function(t,e){var i,n,r,o,s,a=[],h=e.delegateCount,l=t.target;if(h&&l.nodeType&&!("click"===t.type&&1<=t.button))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==t.type||!0!==l.disabled)){for(o=[],s={},i=0;i<h;i++)void 0===s[r=(n=e[i]).selector+" "]&&(s[r]=n.needsContext?-1<x(r,this).index(l):x.find(r,this,null,[l]).length),s[r]&&o.push(n);o.length&&a.push({elem:l,handlers:o})}return l=this,h<e.length&&a.push({elem:l,handlers:e.slice(h)}),a},addProp:function(t,e){Object.defineProperty(x.Event.prototype,t,{enumerable:!0,configurable:!0,get:g(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[x.expando]?t:new x.Event(t)},special:{load:{noBubble:!0},click:{setup:function(t){var e=this||t;return ct.test(e.type)&&e.click&&N(e,"input")&&At(e,"click",Mt),!1},trigger:function(t){var e=this||t;return ct.test(e.type)&&e.click&&N(e,"input")&&At(e,"click"),!0},_default:function(t){var e=t.target;return ct.test(e.type)&&e.click&&N(e,"input")&&Z.get(e,"click")||N(e,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},x.removeEvent=function(t,e,i){t.removeEventListener&&t.removeEventListener(e,i)},x.Event=function(t,e){if(!(this instanceof x.Event))return new x.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?Mt:Ct,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&x.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[x.expando]=!0},x.Event.prototype={constructor:x.Event,isDefaultPrevented:Ct,isPropagationStopped:Ct,isImmediatePropagationStopped:Ct,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=Mt,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=Mt,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=Mt,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},x.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&_t.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&kt.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},x.event.addProp),x.each({focus:"focusin",blur:"focusout"},function(t,e){x.event.special[t]={setup:function(){return At(this,t,Et),!1},trigger:function(){return At(this,t),!0},delegateType:e}}),x.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){x.event.special[t]={delegateType:e,bindType:e,handle:function(t){var i,n=t.relatedTarget,r=t.handleObj;return n&&(n===this||x.contains(this,n))||(t.type=r.origType,i=r.handler.apply(this,arguments),t.type=e),i}}}),x.fn.extend({on:function(t,e,i,n){return Nt(this,t,e,i,n)},one:function(t,e,i,n){return Nt(this,t,e,i,n,1)},off:function(t,e,i){var n,r;if(t&&t.preventDefault&&t.handleObj)return n=t.handleObj,x(t.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);return this}return!1!==e&&"function"!=typeof e||(i=e,e=void 0),!1===i&&(i=Ct),this.each(function(){x.event.remove(this,t,i,e)})}});var Dt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Tt=/<script|<style|<link/i,Lt=/checked\s*(?:[^=]|=\s*.checked.)/i,Ot=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Pt(t,e){return N(t,"table")&&N(11!==e.nodeType?e:e.firstChild,"tr")&&x(t).children("tbody")[0]||t}function It(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function Bt(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function Rt(t,e){var i,n,r,o,s,a,h,l;if(1===e.nodeType){if(Z.hasData(t)&&(o=Z.access(t),s=Z.set(e,o),l=o.events))for(r in delete s.handle,s.events={},l)for(i=0,n=l[r].length;i<n;i++)x.event.add(e,r,l[r][i]);Q.hasData(t)&&(a=Q.access(t),h=x.extend({},a),Q.set(e,h))}}function Ft(t,e,i,n){e=s.apply([],e);var r,o,a,h,l,d,u=0,c=t.length,f=c-1,m=e[0],v=g(m);if(v||1<c&&"string"==typeof m&&!p.checkClone&&Lt.test(m))return t.each(function(r){var o=t.eq(r);v&&(e[0]=m.call(this,r,o.html())),Ft(o,e,i,n)});if(c&&(o=(r=xt(e,t[0].ownerDocument,!1,t,n)).firstChild,1===r.childNodes.length&&(r=o),o||n)){for(h=(a=x.map(mt(r,"script"),It)).length;u<c;u++)l=r,u!==f&&(l=x.clone(l,!0,!0),h&&x.merge(a,mt(l,"script"))),i.call(t[u],l,u);if(h)for(d=a[a.length-1].ownerDocument,x.map(a,Bt),u=0;u<h;u++)pt.test((l=a[u]).type||"")&&!Z.access(l,"globalEval")&&x.contains(d,l)&&(l.src&&"module"!==(l.type||"").toLowerCase()?x._evalUrl&&!l.noModule&&x._evalUrl(l.src,{nonce:l.nonce||l.getAttribute("nonce")}):y(l.textContent.replace(Ot,""),l,d))}return t}function zt(t,e,i){for(var n,r=e?x.filter(e,t):t,o=0;null!=(n=r[o]);o++)i||1!==n.nodeType||x.cleanData(mt(n)),n.parentNode&&(i&&ot(n)&&vt(mt(n,"script")),n.parentNode.removeChild(n));return t}x.extend({htmlPrefilter:function(t){return t.replace(Dt,"<$1></$2>")},clone:function(t,e,i){var n,r,o,s,a,h,l,d=t.cloneNode(!0),u=ot(t);if(!(p.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||x.isXMLDoc(t)))for(s=mt(d),n=0,r=(o=mt(t)).length;n<r;n++)a=o[n],"input"===(l=(h=s[n]).nodeName.toLowerCase())&&ct.test(a.type)?h.checked=a.checked:"input"!==l&&"textarea"!==l||(h.defaultValue=a.defaultValue);if(e)if(i)for(o=o||mt(t),s=s||mt(d),n=0,r=o.length;n<r;n++)Rt(o[n],s[n]);else Rt(t,d);return 0<(s=mt(d,"script")).length&&vt(s,!u&&mt(t,"script")),d},cleanData:function(t){for(var e,i,n,r=x.event.special,o=0;void 0!==(i=t[o]);o++)if(X(i)){if(e=i[Z.expando]){if(e.events)for(n in e.events)r[n]?x.event.remove(i,n):x.removeEvent(i,n,e.handle);i[Z.expando]=void 0}i[Q.expando]&&(i[Q.expando]=void 0)}}}),x.fn.extend({detach:function(t){return zt(this,t,!0)},remove:function(t){return zt(this,t)},text:function(t){return W(this,function(t){return void 0===t?x.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return Ft(this,arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Pt(this,t).appendChild(t)})},prepend:function(){return Ft(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=Pt(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return Ft(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return Ft(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(x.cleanData(mt(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return x.clone(this,t,e)})},html:function(t){return W(this,function(t){var e=this[0]||{},i=0,n=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Tt.test(t)&&!gt[(ft.exec(t)||["",""])[1].toLowerCase()]){t=x.htmlPrefilter(t);try{for(;i<n;i++)1===(e=this[i]||{}).nodeType&&(x.cleanData(mt(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return Ft(this,arguments,function(e){var i=this.parentNode;x.inArray(this,t)<0&&(x.cleanData(mt(this)),i&&i.replaceChild(e,this))},t)}}),x.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){x.fn[t]=function(t){for(var i,n=[],r=x(t),o=r.length-1,s=0;s<=o;s++)i=s===o?this:this.clone(!0),x(r[s])[e](i),a.apply(n,i.get());return this.pushStack(n)}});var jt=new RegExp("^("+et+")(?!px)[a-z%]+$","i"),qt=function(e){var i=e.ownerDocument.defaultView;return i&&i.opener||(i=t),i.getComputedStyle(e)},Ht=new RegExp(nt.join("|"),"i");function Wt(t,e,i){var n,r,o,s,a=t.style;return(i=i||qt(t))&&(""!==(s=i.getPropertyValue(e)||i[e])||ot(t)||(s=x.style(t,e)),!p.pixelBoxStyles()&&jt.test(s)&&Ht.test(e)&&(n=a.width,r=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=i.width,a.width=n,a.minWidth=r,a.maxWidth=o)),void 0!==s?s+"":s}function Ut(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}!function(){function e(){if(d){l.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",d.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",rt.appendChild(l).appendChild(d);var e=t.getComputedStyle(d);r="1%"!==e.top,h=12===i(e.marginLeft),d.style.right="60%",a=36===i(e.right),o=36===i(e.width),d.style.position="absolute",s=12===i(d.offsetWidth/3),rt.removeChild(l),d=null}}function i(t){return Math.round(parseFloat(t))}var r,o,s,a,h,l=n.createElement("div"),d=n.createElement("div");d.style&&(d.style.backgroundClip="content-box",d.cloneNode(!0).style.backgroundClip="",p.clearCloneStyle="content-box"===d.style.backgroundClip,x.extend(p,{boxSizingReliable:function(){return e(),o},pixelBoxStyles:function(){return e(),a},pixelPosition:function(){return e(),r},reliableMarginLeft:function(){return e(),h},scrollboxSize:function(){return e(),s}}))}();var Vt=["Webkit","Moz","ms"],Yt=n.createElement("div").style,Gt={};function Xt(t){return x.cssProps[t]||Gt[t]||(t in Yt?t:Gt[t]=function(t){for(var e=t[0].toUpperCase()+t.slice(1),i=Vt.length;i--;)if((t=Vt[i]+e)in Yt)return t}(t)||t)}var Kt=/^(none|table(?!-c[ea]).+)/,Zt=/^--/,Qt={position:"absolute",visibility:"hidden",display:"block"},$t={letterSpacing:"0",fontWeight:"400"};function Jt(t,e,i){var n=it.exec(e);return n?Math.max(0,n[2]-(i||0))+(n[3]||"px"):e}function te(t,e,i,n,r,o){var s="width"===e?1:0,a=0,h=0;if(i===(n?"border":"content"))return 0;for(;s<4;s+=2)"margin"===i&&(h+=x.css(t,i+nt[s],!0,r)),n?("content"===i&&(h-=x.css(t,"padding"+nt[s],!0,r)),"margin"!==i&&(h-=x.css(t,"border"+nt[s]+"Width",!0,r))):(h+=x.css(t,"padding"+nt[s],!0,r),"padding"!==i?h+=x.css(t,"border"+nt[s]+"Width",!0,r):a+=x.css(t,"border"+nt[s]+"Width",!0,r));return!n&&0<=o&&(h+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-o-h-a-.5))||0),h}function ee(t,e,i){var n=qt(t),r=(!p.boxSizingReliable()||i)&&"border-box"===x.css(t,"boxSizing",!1,n),o=r,s=Wt(t,e,n),a="offset"+e[0].toUpperCase()+e.slice(1);if(jt.test(s)){if(!i)return s;s="auto"}return(!p.boxSizingReliable()&&r||"auto"===s||!parseFloat(s)&&"inline"===x.css(t,"display",!1,n))&&t.getClientRects().length&&(r="border-box"===x.css(t,"boxSizing",!1,n),(o=a in t)&&(s=t[a])),(s=parseFloat(s)||0)+te(t,e,i||(r?"border":"content"),o,n,s)+"px"}function ie(t,e,i,n,r){return new ie.prototype.init(t,e,i,n,r)}x.extend({cssHooks:{opacity:{get:function(t,e){if(e){var i=Wt(t,"opacity");return""===i?"1":i}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,e,i,n){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,o,s,a=G(e),h=Zt.test(e),l=t.style;if(h||(e=Xt(a)),s=x.cssHooks[e]||x.cssHooks[a],void 0===i)return s&&"get"in s&&void 0!==(r=s.get(t,!1,n))?r:l[e];"string"==(o=typeof i)&&(r=it.exec(i))&&r[1]&&(i=lt(t,e,r),o="number"),null!=i&&i==i&&("number"!==o||h||(i+=r&&r[3]||(x.cssNumber[a]?"":"px")),p.clearCloneStyle||""!==i||0!==e.indexOf("background")||(l[e]="inherit"),s&&"set"in s&&void 0===(i=s.set(t,i,n))||(h?l.setProperty(e,i):l[e]=i))}},css:function(t,e,i,n){var r,o,s,a=G(e);return Zt.test(e)||(e=Xt(a)),(s=x.cssHooks[e]||x.cssHooks[a])&&"get"in s&&(r=s.get(t,!0,i)),void 0===r&&(r=Wt(t,e,n)),"normal"===r&&e in $t&&(r=$t[e]),""===i||i?(o=parseFloat(r),!0===i||isFinite(o)?o||0:r):r}}),x.each(["height","width"],function(t,e){x.cssHooks[e]={get:function(t,i,n){if(i)return!Kt.test(x.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?ee(t,e,n):ht(t,Qt,function(){return ee(t,e,n)})},set:function(t,i,n){var r,o=qt(t),s=!p.scrollboxSize()&&"absolute"===o.position,a=(s||n)&&"border-box"===x.css(t,"boxSizing",!1,o),h=n?te(t,e,n,a,o):0;return a&&s&&(h-=Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-parseFloat(o[e])-te(t,e,"border",!1,o)-.5)),h&&(r=it.exec(i))&&"px"!==(r[3]||"px")&&(t.style[e]=i,i=x.css(t,e)),Jt(0,i,h)}}}),x.cssHooks.marginLeft=Ut(p.reliableMarginLeft,function(t,e){if(e)return(parseFloat(Wt(t,"marginLeft"))||t.getBoundingClientRect().left-ht(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),x.each({margin:"",padding:"",border:"Width"},function(t,e){x.cssHooks[t+e]={expand:function(i){for(var n=0,r={},o="string"==typeof i?i.split(" "):[i];n<4;n++)r[t+nt[n]+e]=o[n]||o[n-2]||o[0];return r}},"margin"!==t&&(x.cssHooks[t+e].set=Jt)}),x.fn.extend({css:function(t,e){return W(this,function(t,e,i){var n,r,o={},s=0;if(Array.isArray(e)){for(n=qt(t),r=e.length;s<r;s++)o[e[s]]=x.css(t,e[s],!1,n);return o}return void 0!==i?x.style(t,e,i):x.css(t,e)},t,e,1<arguments.length)}}),((x.Tween=ie).prototype={constructor:ie,init:function(t,e,i,n,r,o){this.elem=t,this.prop=i,this.easing=r||x.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=n,this.unit=o||(x.cssNumber[i]?"":"px")},cur:function(){var t=ie.propHooks[this.prop];return t&&t.get?t.get(this):ie.propHooks._default.get(this)},run:function(t){var e,i=ie.propHooks[this.prop];return this.pos=e=this.options.duration?x.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):ie.propHooks._default.set(this),this}}).init.prototype=ie.prototype,(ie.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=x.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){x.fx.step[t.prop]?x.fx.step[t.prop](t):1!==t.elem.nodeType||!x.cssHooks[t.prop]&&null==t.elem.style[Xt(t.prop)]?t.elem[t.prop]=t.now:x.style(t.elem,t.prop,t.now+t.unit)}}}).scrollTop=ie.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},x.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},x.fx=ie.prototype.init,x.fx.step={};var ne,re,oe,se,ae=/^(?:toggle|show|hide)$/,he=/queueHooks$/;function le(){re&&(!1===n.hidden&&t.requestAnimationFrame?t.requestAnimationFrame(le):t.setTimeout(le,x.fx.interval),x.fx.tick())}function de(){return t.setTimeout(function(){ne=void 0}),ne=Date.now()}function ue(t,e){var i,n=0,r={height:t};for(e=e?1:0;n<4;n+=2-e)r["margin"+(i=nt[n])]=r["padding"+i]=t;return e&&(r.opacity=r.width=t),r}function ce(t,e,i){for(var n,r=(fe.tweeners[e]||[]).concat(fe.tweeners["*"]),o=0,s=r.length;o<s;o++)if(n=r[o].call(i,e,t))return n}function fe(t,e,i){var n,r,o=0,s=fe.prefilters.length,a=x.Deferred().always(function(){delete h.elem}),h=function(){if(r)return!1;for(var e=ne||de(),i=Math.max(0,l.startTime+l.duration-e),n=1-(i/l.duration||0),o=0,s=l.tweens.length;o<s;o++)l.tweens[o].run(n);return a.notifyWith(t,[l,n,i]),n<1&&s?i:(s||a.notifyWith(t,[l,1,0]),a.resolveWith(t,[l]),!1)},l=a.promise({elem:t,props:x.extend({},e),opts:x.extend(!0,{specialEasing:{},easing:x.easing._default},i),originalProperties:e,originalOptions:i,startTime:ne||de(),duration:i.duration,tweens:[],createTween:function(e,i){var n=x.Tween(t,l.opts,e,i,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(n),n},stop:function(e){var i=0,n=e?l.tweens.length:0;if(r)return this;for(r=!0;i<n;i++)l.tweens[i].run(1);return e?(a.notifyWith(t,[l,1,0]),a.resolveWith(t,[l,e])):a.rejectWith(t,[l,e]),this}}),d=l.props;for(function(t,e){var i,n,r,o,s;for(i in t)if(r=e[n=G(i)],o=t[i],Array.isArray(o)&&(r=o[1],o=t[i]=o[0]),i!==n&&(t[n]=o,delete t[i]),(s=x.cssHooks[n])&&"expand"in s)for(i in o=s.expand(o),delete t[n],o)i in t||(t[i]=o[i],e[i]=r);else e[n]=r}(d,l.opts.specialEasing);o<s;o++)if(n=fe.prefilters[o].call(l,t,d,l.opts))return g(n.stop)&&(x._queueHooks(l.elem,l.opts.queue).stop=n.stop.bind(n)),n;return x.map(d,ce,l),g(l.opts.start)&&l.opts.start.call(t,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),x.fx.timer(x.extend(h,{elem:t,anim:l,queue:l.opts.queue})),l}x.Animation=x.extend(fe,{tweeners:{"*":[function(t,e){var i=this.createTween(t,e);return lt(i.elem,t,it.exec(e),i),i}]},tweener:function(t,e){g(t)?(e=t,t=["*"]):t=t.match(B);for(var i,n=0,r=t.length;n<r;n++)(fe.tweeners[i=t[n]]=fe.tweeners[i]||[]).unshift(e)},prefilters:[function(t,e,i){var n,r,o,s,a,h,l,d,u="width"in e||"height"in e,c=this,f={},p=t.style,g=t.nodeType&&at(t),m=Z.get(t,"fxshow");for(n in i.queue||(null==(s=x._queueHooks(t,"fx")).unqueued&&(s.unqueued=0,a=s.empty.fire,s.empty.fire=function(){s.unqueued||a()}),s.unqueued++,c.always(function(){c.always(function(){s.unqueued--,x.queue(t,"fx").length||s.empty.fire()})})),e)if(ae.test(r=e[n])){if(delete e[n],o=o||"toggle"===r,r===(g?"hide":"show")){if("show"!==r||!m||void 0===m[n])continue;g=!0}f[n]=m&&m[n]||x.style(t,n)}if((h=!x.isEmptyObject(e))||!x.isEmptyObject(f))for(n in u&&1===t.nodeType&&(i.overflow=[p.overflow,p.overflowX,p.overflowY],null==(l=m&&m.display)&&(l=Z.get(t,"display")),"none"===(d=x.css(t,"display"))&&(l?d=l:(ut([t],!0),l=t.style.display||l,d=x.css(t,"display"),ut([t]))),("inline"===d||"inline-block"===d&&null!=l)&&"none"===x.css(t,"float")&&(h||(c.done(function(){p.display=l}),null==l&&(l="none"===(d=p.display)?"":d)),p.display="inline-block")),i.overflow&&(p.overflow="hidden",c.always(function(){p.overflow=i.overflow[0],p.overflowX=i.overflow[1],p.overflowY=i.overflow[2]})),h=!1,f)h||(m?"hidden"in m&&(g=m.hidden):m=Z.access(t,"fxshow",{display:l}),o&&(m.hidden=!g),g&&ut([t],!0),c.done(function(){for(n in g||ut([t]),Z.remove(t,"fxshow"),f)x.style(t,n,f[n])})),h=ce(g?m[n]:0,n,c),n in m||(m[n]=h.start,g&&(h.end=h.start,h.start=0))}],prefilter:function(t,e){e?fe.prefilters.unshift(t):fe.prefilters.push(t)}}),x.speed=function(t,e,i){var n=t&&"object"==typeof t?x.extend({},t):{complete:i||!i&&e||g(t)&&t,duration:t,easing:i&&e||e&&!g(e)&&e};return x.fx.off?n.duration=0:"number"!=typeof n.duration&&(n.duration=n.duration in x.fx.speeds?x.fx.speeds[n.duration]:x.fx.speeds._default),null!=n.queue&&!0!==n.queue||(n.queue="fx"),n.old=n.complete,n.complete=function(){g(n.old)&&n.old.call(this),n.queue&&x.dequeue(this,n.queue)},n},x.fn.extend({fadeTo:function(t,e,i,n){return this.filter(at).css("opacity",0).show().end().animate({opacity:e},t,i,n)},animate:function(t,e,i,n){var r=x.isEmptyObject(t),o=x.speed(e,i,n),s=function(){var e=fe(this,x.extend({},t),o);(r||Z.get(this,"finish"))&&e.stop(!0)};return s.finish=s,r||!1===o.queue?this.each(s):this.queue(o.queue,s)},stop:function(t,e,i){var n=function(t){var e=t.stop;delete t.stop,e(i)};return"string"!=typeof t&&(i=e,e=t,t=void 0),e&&!1!==t&&this.queue(t||"fx",[]),this.each(function(){var e=!0,r=null!=t&&t+"queueHooks",o=x.timers,s=Z.get(this);if(r)s[r]&&s[r].stop&&n(s[r]);else for(r in s)s[r]&&s[r].stop&&he.test(r)&&n(s[r]);for(r=o.length;r--;)o[r].elem!==this||null!=t&&o[r].queue!==t||(o[r].anim.stop(i),e=!1,o.splice(r,1));!e&&i||x.dequeue(this,t)})},finish:function(t){return!1!==t&&(t=t||"fx"),this.each(function(){var e,i=Z.get(this),n=i[t+"queue"],r=i[t+"queueHooks"],o=x.timers,s=n?n.length:0;for(i.finish=!0,x.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<s;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete i.finish})}}),x.each(["toggle","show","hide"],function(t,e){var i=x.fn[e];x.fn[e]=function(t,n,r){return null==t||"boolean"==typeof t?i.apply(this,arguments):this.animate(ue(e,!0),t,n,r)}}),x.each({slideDown:ue("show"),slideUp:ue("hide"),slideToggle:ue("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){x.fn[t]=function(t,i,n){return this.animate(e,t,i,n)}}),x.timers=[],x.fx.tick=function(){var t,e=0,i=x.timers;for(ne=Date.now();e<i.length;e++)(t=i[e])()||i[e]!==t||i.splice(e--,1);i.length||x.fx.stop(),ne=void 0},x.fx.timer=function(t){x.timers.push(t),x.fx.start()},x.fx.interval=13,x.fx.start=function(){re||(re=!0,le())},x.fx.stop=function(){re=null},x.fx.speeds={slow:600,fast:200,_default:400},x.fn.delay=function(e,i){return e=x.fx&&x.fx.speeds[e]||e,this.queue(i=i||"fx",function(i,n){var r=t.setTimeout(i,e);n.stop=function(){t.clearTimeout(r)}})},oe=n.createElement("input"),se=n.createElement("select").appendChild(n.createElement("option")),oe.type="checkbox",p.checkOn=""!==oe.value,p.optSelected=se.selected,(oe=n.createElement("input")).value="t",oe.type="radio",p.radioValue="t"===oe.value;var pe,ge=x.expr.attrHandle;x.fn.extend({attr:function(t,e){return W(this,x.attr,t,e,1<arguments.length)},removeAttr:function(t){return this.each(function(){x.removeAttr(this,t)})}}),x.extend({attr:function(t,e,i){var n,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===t.getAttribute?x.prop(t,e,i):(1===o&&x.isXMLDoc(t)||(r=x.attrHooks[e.toLowerCase()]||(x.expr.match.bool.test(e)?pe:void 0)),void 0!==i?null===i?void x.removeAttr(t,e):r&&"set"in r&&void 0!==(n=r.set(t,i,e))?n:(t.setAttribute(e,i+""),i):r&&"get"in r&&null!==(n=r.get(t,e))?n:null==(n=x.find.attr(t,e))?void 0:n)},attrHooks:{type:{set:function(t,e){if(!p.radioValue&&"radio"===e&&N(t,"input")){var i=t.value;return t.setAttribute("type",e),i&&(t.value=i),e}}}},removeAttr:function(t,e){var i,n=0,r=e&&e.match(B);if(r&&1===t.nodeType)for(;i=r[n++];)t.removeAttribute(i)}}),pe={set:function(t,e,i){return!1===e?x.removeAttr(t,i):t.setAttribute(i,i),i}},x.each(x.expr.match.bool.source.match(/\w+/g),function(t,e){var i=ge[e]||x.find.attr;ge[e]=function(t,e,n){var r,o,s=e.toLowerCase();return n||(o=ge[s],ge[s]=r,r=null!=i(t,e,n)?s:null,ge[s]=o),r}});var me=/^(?:input|select|textarea|button)$/i,ve=/^(?:a|area)$/i;function ye(t){return(t.match(B)||[]).join(" ")}function be(t){return t.getAttribute&&t.getAttribute("class")||""}function we(t){return Array.isArray(t)?t:"string"==typeof t&&t.match(B)||[]}x.fn.extend({prop:function(t,e){return W(this,x.prop,t,e,1<arguments.length)},removeProp:function(t){return this.each(function(){delete this[x.propFix[t]||t]})}}),x.extend({prop:function(t,e,i){var n,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&x.isXMLDoc(t)||(r=x.propHooks[e=x.propFix[e]||e]),void 0!==i?r&&"set"in r&&void 0!==(n=r.set(t,i,e))?n:t[e]=i:r&&"get"in r&&null!==(n=r.get(t,e))?n:t[e]},propHooks:{tabIndex:{get:function(t){var e=x.find.attr(t,"tabindex");return e?parseInt(e,10):me.test(t.nodeName)||ve.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),p.optSelected||(x.propHooks.selected={get:function(t){return null},set:function(t){}}),x.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){x.propFix[this.toLowerCase()]=this}),x.fn.extend({addClass:function(t){var e,i,n,r,o,s,a,h=0;if(g(t))return this.each(function(e){x(this).addClass(t.call(this,e,be(this)))});if((e=we(t)).length)for(;i=this[h++];)if(r=be(i),n=1===i.nodeType&&" "+ye(r)+" "){for(s=0;o=e[s++];)n.indexOf(" "+o+" ")<0&&(n+=o+" ");r!==(a=ye(n))&&i.setAttribute("class",a)}return this},removeClass:function(t){var e,i,n,r,o,s,a,h=0;if(g(t))return this.each(function(e){x(this).removeClass(t.call(this,e,be(this)))});if(!arguments.length)return this.attr("class","");if((e=we(t)).length)for(;i=this[h++];)if(r=be(i),n=1===i.nodeType&&" "+ye(r)+" "){for(s=0;o=e[s++];)for(;-1<n.indexOf(" "+o+" ");)n=n.replace(" "+o+" "," ");r!==(a=ye(n))&&i.setAttribute("class",a)}return this},toggleClass:function(t,e){var i=typeof t,n="string"===i||Array.isArray(t);return"boolean"==typeof e&&n?e?this.addClass(t):this.removeClass(t):g(t)?this.each(function(i){x(this).toggleClass(t.call(this,i,be(this),e),e)}):this.each(function(){var e,r,o,s;if(n)for(r=0,o=x(this),s=we(t);e=s[r++];)o.hasClass(e)?o.removeClass(e):o.addClass(e);else void 0!==t&&"boolean"!==i||((e=be(this))&&Z.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===t?"":Z.get(this,"__className__")||""))})},hasClass:function(t){var e,i,n=0;for(e=" "+t+" ";i=this[n++];)if(1===i.nodeType&&-1<(" "+ye(be(i))+" ").indexOf(e))return!0;return!1}});var xe=/\r/g;x.fn.extend({val:function(t){var e,i,n,r=this[0];return arguments.length?(n=g(t),this.each(function(i){var r;1===this.nodeType&&(null==(r=n?t.call(this,i,x(this).val()):t)?r="":"number"==typeof r?r+="":Array.isArray(r)&&(r=x.map(r,function(t){return null==t?"":t+""})),(e=x.valHooks[this.type]||x.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,r,"value")||(this.value=r))})):r?(e=x.valHooks[r.type]||x.valHooks[r.nodeName.toLowerCase()])&&"get"in e&&void 0!==(i=e.get(r,"value"))?i:"string"==typeof(i=r.value)?i.replace(xe,""):null==i?"":i:void 0}}),x.extend({valHooks:{option:{get:function(t){var e=x.find.attr(t,"value");return null!=e?e:ye(x.text(t))}},select:{get:function(t){var e,i,n,r=t.options,o=t.selectedIndex,s="select-one"===t.type,a=s?null:[],h=s?o+1:r.length;for(n=o<0?h:s?o:0;n<h;n++)if(((i=r[n]).selected||n===o)&&!i.disabled&&(!i.parentNode.disabled||!N(i.parentNode,"optgroup"))){if(e=x(i).val(),s)return e;a.push(e)}return a},set:function(t,e){for(var i,n,r=t.options,o=x.makeArray(e),s=r.length;s--;)((n=r[s]).selected=-1<x.inArray(x.valHooks.option.get(n),o))&&(i=!0);return i||(t.selectedIndex=-1),o}}}}),x.each(["radio","checkbox"],function(){x.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=-1<x.inArray(x(t).val(),e)}},p.checkOn||(x.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}),p.focusin="onfocusin"in t;var _e=/^(?:focusinfocus|focusoutblur)$/,ke=function(t){t.stopPropagation()};x.extend(x.event,{trigger:function(e,i,r,o){var s,a,h,l,d,c,f,p,v=[r||n],y=u.call(e,"type")?e.type:e,b=u.call(e,"namespace")?e.namespace.split("."):[];if(a=p=h=r=r||n,3!==r.nodeType&&8!==r.nodeType&&!_e.test(y+x.event.triggered)&&(-1<y.indexOf(".")&&(y=(b=y.split(".")).shift(),b.sort()),d=y.indexOf(":")<0&&"on"+y,(e=e[x.expando]?e:new x.Event(y,"object"==typeof e&&e)).isTrigger=o?2:3,e.namespace=b.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+b.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=r),i=null==i?[e]:x.makeArray(i,[e]),f=x.event.special[y]||{},o||!f.trigger||!1!==f.trigger.apply(r,i))){if(!o&&!f.noBubble&&!m(r)){for(_e.test((l=f.delegateType||y)+y)||(a=a.parentNode);a;a=a.parentNode)v.push(a),h=a;h===(r.ownerDocument||n)&&v.push(h.defaultView||h.parentWindow||t)}for(s=0;(a=v[s++])&&!e.isPropagationStopped();)p=a,e.type=1<s?l:f.bindType||y,(c=(Z.get(a,"events")||{})[e.type]&&Z.get(a,"handle"))&&c.apply(a,i),(c=d&&a[d])&&c.apply&&X(a)&&(e.result=c.apply(a,i),!1===e.result&&e.preventDefault());return e.type=y,o||e.isDefaultPrevented()||f._default&&!1!==f._default.apply(v.pop(),i)||!X(r)||d&&g(r[y])&&!m(r)&&((h=r[d])&&(r[d]=null),x.event.triggered=y,e.isPropagationStopped()&&p.addEventListener(y,ke),r[y](),e.isPropagationStopped()&&p.removeEventListener(y,ke),x.event.triggered=void 0,h&&(r[d]=h)),e.result}},simulate:function(t,e,i){var n=x.extend(new x.Event,i,{type:t,isSimulated:!0});x.event.trigger(n,null,e)}}),x.fn.extend({trigger:function(t,e){return this.each(function(){x.event.trigger(t,e,this)})},triggerHandler:function(t,e){var i=this[0];if(i)return x.event.trigger(t,e,i,!0)}}),p.focusin||x.each({focus:"focusin",blur:"focusout"},function(t,e){var i=function(t){x.event.simulate(e,t.target,x.event.fix(t))};x.event.special[e]={setup:function(){var n=this.ownerDocument||this,r=Z.access(n,e);r||n.addEventListener(t,i,!0),Z.access(n,e,(r||0)+1)},teardown:function(){var n=this.ownerDocument||this,r=Z.access(n,e)-1;r?Z.access(n,e,r):(n.removeEventListener(t,i,!0),Z.remove(n,e))}}});var Se=t.location,Me=Date.now(),Ce=/\?/;x.parseXML=function(e){var i;if(!e||"string"!=typeof e)return null;try{i=(new t.DOMParser).parseFromString(e,"text/xml")}catch(e){i=void 0}return i&&!i.getElementsByTagName("parsererror").length||x.error("Invalid XML: "+e),i};var Ee=/\[\]$/,Ne=/\r?\n/g,Ae=/^(?:submit|button|image|reset|file)$/i,De=/^(?:input|select|textarea|keygen)/i;function Te(t,e,i,n){var r;if(Array.isArray(e))x.each(e,function(e,r){i||Ee.test(t)?n(t,r):Te(t+"["+("object"==typeof r&&null!=r?e:"")+"]",r,i,n)});else if(i||"object"!==b(e))n(t,e);else for(r in e)Te(t+"["+r+"]",e[r],i,n)}x.param=function(t,e){var i,n=[],r=function(t,e){var i=g(e)?e():e;n[n.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==i?"":i)};if(null==t)return"";if(Array.isArray(t)||t.jquery&&!x.isPlainObject(t))x.each(t,function(){r(this.name,this.value)});else for(i in t)Te(i,t[i],e,r);return n.join("&")},x.fn.extend({serialize:function(){return x.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=x.prop(this,"elements");return t?x.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!x(this).is(":disabled")&&De.test(this.nodeName)&&!Ae.test(t)&&(this.checked||!ct.test(t))}).map(function(t,e){var i=x(this).val();return null==i?null:Array.isArray(i)?x.map(i,function(t){return{name:e.name,value:t.replace(Ne,"\r\n")}}):{name:e.name,value:i.replace(Ne,"\r\n")}}).get()}});var Le=/%20/g,Oe=/#.*$/,Pe=/([?&])_=[^&]*/,Ie=/^(.*?):[ \t]*([^\r\n]*)$/gm,Be=/^(?:GET|HEAD)$/,Re=/^\/\//,Fe={},ze={},je="*/".concat("*"),qe=n.createElement("a");function He(t){return function(e,i){"string"!=typeof e&&(i=e,e="*");var n,r=0,o=e.toLowerCase().match(B)||[];if(g(i))for(;n=o[r++];)"+"===n[0]?(n=n.slice(1)||"*",(t[n]=t[n]||[]).unshift(i)):(t[n]=t[n]||[]).push(i)}}function We(t,e,i,n){var r={},o=t===ze;function s(a){var h;return r[a]=!0,x.each(t[a]||[],function(t,a){var l=a(e,i,n);return"string"!=typeof l||o||r[l]?o?!(h=l):void 0:(e.dataTypes.unshift(l),s(l),!1)}),h}return s(e.dataTypes[0])||!r["*"]&&s("*")}function Ue(t,e){var i,n,r=x.ajaxSettings.flatOptions||{};for(i in e)void 0!==e[i]&&((r[i]?t:n||(n={}))[i]=e[i]);return n&&x.extend(!0,t,n),t}qe.href=Se.href,x.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Se.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Se.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":je,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":x.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?Ue(Ue(t,x.ajaxSettings),e):Ue(x.ajaxSettings,t)},ajaxPrefilter:He(Fe),ajaxTransport:He(ze),ajax:function(e,i){"object"==typeof e&&(i=e,e=void 0);var r,o,s,a,h,l,d,u,c,f,p=x.ajaxSetup({},i=i||{}),g=p.context||p,m=p.context&&(g.nodeType||g.jquery)?x(g):x.event,v=x.Deferred(),y=x.Callbacks("once memory"),b=p.statusCode||{},w={},_={},k="canceled",S={readyState:0,getResponseHeader:function(t){var e;if(d){if(!a)for(a={};e=Ie.exec(s);)a[e[1].toLowerCase()+" "]=(a[e[1].toLowerCase()+" "]||[]).concat(e[2]);e=a[t.toLowerCase()+" "]}return null==e?null:e.join(", ")},getAllResponseHeaders:function(){return d?s:null},setRequestHeader:function(t,e){return null==d&&(t=_[t.toLowerCase()]=_[t.toLowerCase()]||t,w[t]=e),this},overrideMimeType:function(t){return null==d&&(p.mimeType=t),this},statusCode:function(t){var e;if(t)if(d)S.always(t[S.status]);else for(e in t)b[e]=[b[e],t[e]];return this},abort:function(t){var e=t||k;return r&&r.abort(e),M(0,e),this}};if(v.promise(S),p.url=((e||p.url||Se.href)+"").replace(Re,Se.protocol+"//"),p.type=i.method||i.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match(B)||[""],null==p.crossDomain){l=n.createElement("a");try{l.href=p.url,l.href=l.href,p.crossDomain=qe.protocol+"//"+qe.host!=l.protocol+"//"+l.host}catch(e){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=x.param(p.data,p.traditional)),We(Fe,p,i,S),d)return S;for(c in(u=x.event&&p.global)&&0==x.active++&&x.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Be.test(p.type),o=p.url.replace(Oe,""),p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace(Le,"+")):(f=p.url.slice(o.length),p.data&&(p.processData||"string"==typeof p.data)&&(o+=(Ce.test(o)?"&":"?")+p.data,delete p.data),!1===p.cache&&(o=o.replace(Pe,"$1"),f=(Ce.test(o)?"&":"?")+"_="+Me+++f),p.url=o+f),p.ifModified&&(x.lastModified[o]&&S.setRequestHeader("If-Modified-Since",x.lastModified[o]),x.etag[o]&&S.setRequestHeader("If-None-Match",x.etag[o])),(p.data&&p.hasContent&&!1!==p.contentType||i.contentType)&&S.setRequestHeader("Content-Type",p.contentType),S.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+je+"; q=0.01":""):p.accepts["*"]),p.headers)S.setRequestHeader(c,p.headers[c]);if(p.beforeSend&&(!1===p.beforeSend.call(g,S,p)||d))return S.abort();if(k="abort",y.add(p.complete),S.done(p.success),S.fail(p.error),r=We(ze,p,i,S)){if(S.readyState=1,u&&m.trigger("ajaxSend",[S,p]),d)return S;p.async&&0<p.timeout&&(h=t.setTimeout(function(){S.abort("timeout")},p.timeout));try{d=!1,r.send(w,M)}catch(e){if(d)throw e;M(-1,e)}}else M(-1,"No Transport");function M(e,i,n,a){var l,c,f,w,_,k=i;d||(d=!0,h&&t.clearTimeout(h),r=void 0,s=a||"",S.readyState=0<e?4:0,l=200<=e&&e<300||304===e,n&&(w=function(t,e,i){for(var n,r,o,s,a=t.contents,h=t.dataTypes;"*"===h[0];)h.shift(),void 0===n&&(n=t.mimeType||e.getResponseHeader("Content-Type"));if(n)for(r in a)if(a[r]&&a[r].test(n)){h.unshift(r);break}if(h[0]in i)o=h[0];else{for(r in i){if(!h[0]||t.converters[r+" "+h[0]]){o=r;break}s||(s=r)}o=o||s}if(o)return o!==h[0]&&h.unshift(o),i[o]}(p,S,n)),w=function(t,e,i,n){var r,o,s,a,h,l={},d=t.dataTypes.slice();if(d[1])for(s in t.converters)l[s.toLowerCase()]=t.converters[s];for(o=d.shift();o;)if(t.responseFields[o]&&(i[t.responseFields[o]]=e),!h&&n&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),h=o,o=d.shift())if("*"===o)o=h;else if("*"!==h&&h!==o){if(!(s=l[h+" "+o]||l["* "+o]))for(r in l)if((a=r.split(" "))[1]===o&&(s=l[h+" "+a[0]]||l["* "+a[0]])){!0===s?s=l[r]:!0!==l[r]&&(o=a[0],d.unshift(a[1]));break}if(!0!==s)if(s&&t.throws)e=s(e);else try{e=s(e)}catch(t){return{state:"parsererror",error:s?t:"No conversion from "+h+" to "+o}}}return{state:"success",data:e}}(p,w,S,l),l?(p.ifModified&&((_=S.getResponseHeader("Last-Modified"))&&(x.lastModified[o]=_),(_=S.getResponseHeader("etag"))&&(x.etag[o]=_)),204===e||"HEAD"===p.type?k="nocontent":304===e?k="notmodified":(k=w.state,c=w.data,l=!(f=w.error))):(f=k,!e&&k||(k="error",e<0&&(e=0))),S.status=e,S.statusText=(i||k)+"",l?v.resolveWith(g,[c,k,S]):v.rejectWith(g,[S,k,f]),S.statusCode(b),b=void 0,u&&m.trigger(l?"ajaxSuccess":"ajaxError",[S,p,l?c:f]),y.fireWith(g,[S,k]),u&&(m.trigger("ajaxComplete",[S,p]),--x.active||x.event.trigger("ajaxStop")))}return S},getJSON:function(t,e,i){return x.get(t,e,i,"json")},getScript:function(t,e){return x.get(t,void 0,e,"script")}}),x.each(["get","post"],function(t,e){x[e]=function(t,i,n,r){return g(i)&&(r=r||n,n=i,i=void 0),x.ajax(x.extend({url:t,type:e,dataType:r,data:i,success:n},x.isPlainObject(t)&&t))}}),x._evalUrl=function(t,e){return x.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(t){x.globalEval(t,e)}})},x.fn.extend({wrapAll:function(t){var e;return this[0]&&(g(t)&&(t=t.call(this[0])),e=x(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this},wrapInner:function(t){return g(t)?this.each(function(e){x(this).wrapInner(t.call(this,e))}):this.each(function(){var e=x(this),i=e.contents();i.length?i.wrapAll(t):e.append(t)})},wrap:function(t){var e=g(t);return this.each(function(i){x(this).wrapAll(e?t.call(this,i):t)})},unwrap:function(t){return this.parent(t).not("body").each(function(){x(this).replaceWith(this.childNodes)}),this}}),x.expr.pseudos.hidden=function(t){return!x.expr.pseudos.visible(t)},x.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},x.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch(e){}};var Ve={0:200,1223:204},Ye=x.ajaxSettings.xhr();p.cors=!!Ye&&"withCredentials"in Ye,p.ajax=Ye=!!Ye,x.ajaxTransport(function(e){var i,n;if(p.cors||Ye&&!e.crossDomain)return{send:function(r,o){var s,a=e.xhr();if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(s in e.xhrFields)a[s]=e.xhrFields[s];for(s in e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),r)a.setRequestHeader(s,r[s]);i=function(t){return function(){i&&(i=n=a.onload=a.onerror=a.onabort=a.ontimeout=a.onreadystatechange=null,"abort"===t?a.abort():"error"===t?"number"!=typeof a.status?o(0,"error"):o(a.status,a.statusText):o(Ve[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=i(),n=a.onerror=a.ontimeout=i("error"),void 0!==a.onabort?a.onabort=n:a.onreadystatechange=function(){4===a.readyState&&t.setTimeout(function(){i&&n()})},i=i("abort");try{a.send(e.hasContent&&e.data||null)}catch(r){if(i)throw r}},abort:function(){i&&i()}}}),x.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),x.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return x.globalEval(t),t}}}),x.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),x.ajaxTransport("script",function(t){var e,i;if(t.crossDomain||t.scriptAttrs)return{send:function(r,o){e=x("<script>").attr(t.scriptAttrs||{}).prop({charset:t.scriptCharset,src:t.url}).on("load error",i=function(t){e.remove(),i=null,t&&o("error"===t.type?404:200,t.type)}),n.head.appendChild(e[0])},abort:function(){i&&i()}}});var Ge,Xe=[],Ke=/(=)\?(?=&|$)|\?\?/;x.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Xe.pop()||x.expando+"_"+Me++;return this[t]=!0,t}}),x.ajaxPrefilter("json jsonp",function(e,i,n){var r,o,s,a=!1!==e.jsonp&&(Ke.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ke.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=g(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Ke,"$1"+r):!1!==e.jsonp&&(e.url+=(Ce.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return s||x.error(r+" was not called"),s[0]},e.dataTypes[0]="json",o=t[r],t[r]=function(){s=arguments},n.always(function(){void 0===o?x(t).removeProp(r):t[r]=o,e[r]&&(e.jsonpCallback=i.jsonpCallback,Xe.push(r)),s&&g(o)&&o(s[0]),s=o=void 0}),"script"}),p.createHTMLDocument=((Ge=n.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Ge.childNodes.length),x.parseHTML=function(t,e,i){return"string"!=typeof t?[]:("boolean"==typeof e&&(i=e,e=!1),e||(p.createHTMLDocument?((r=(e=n.implementation.createHTMLDocument("")).createElement("base")).href=n.location.href,e.head.appendChild(r)):e=n),s=!i&&[],(o=A.exec(t))?[e.createElement(o[1])]:(o=xt([t],e,s),s&&s.length&&x(s).remove(),x.merge([],o.childNodes)));var r,o,s},x.fn.load=function(t,e,i){var n,r,o,s=this,a=t.indexOf(" ");return-1<a&&(n=ye(t.slice(a)),t=t.slice(0,a)),g(e)?(i=e,e=void 0):e&&"object"==typeof e&&(r="POST"),0<s.length&&x.ajax({url:t,type:r||"GET",dataType:"html",data:e}).done(function(t){o=arguments,s.html(n?x("<div>").append(x.parseHTML(t)).find(n):t)}).always(i&&function(t,e){s.each(function(){i.apply(this,o||[t.responseText,e,t])})}),this},x.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){x.fn[e]=function(t){return this.on(e,t)}}),x.expr.pseudos.animated=function(t){return x.grep(x.timers,function(e){return t===e.elem}).length},x.offset={setOffset:function(t,e,i){var n,r,o,s,a,h,l=x.css(t,"position"),d=x(t),u={};"static"===l&&(t.style.position="relative"),a=d.offset(),o=x.css(t,"top"),h=x.css(t,"left"),("absolute"===l||"fixed"===l)&&-1<(o+h).indexOf("auto")?(s=(n=d.position()).top,r=n.left):(s=parseFloat(o)||0,r=parseFloat(h)||0),g(e)&&(e=e.call(t,i,x.extend({},a))),null!=e.top&&(u.top=e.top-a.top+s),null!=e.left&&(u.left=e.left-a.left+r),"using"in e?e.using.call(t,u):d.css(u)}},x.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){x.offset.setOffset(this,t,e)});var e,i,n=this[0];return n?n.getClientRects().length?{top:(e=n.getBoundingClientRect()).top+(i=n.ownerDocument.defaultView).pageYOffset,left:e.left+i.pageXOffset}:{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,i,n=this[0],r={top:0,left:0};if("fixed"===x.css(n,"position"))e=n.getBoundingClientRect();else{for(e=this.offset(),i=n.ownerDocument,t=n.offsetParent||i.documentElement;t&&(t===i.body||t===i.documentElement)&&"static"===x.css(t,"position");)t=t.parentNode;t&&t!==n&&1===t.nodeType&&((r=x(t).offset()).top+=x.css(t,"borderTopWidth",!0),r.left+=x.css(t,"borderLeftWidth",!0))}return{top:e.top-r.top-x.css(n,"marginTop",!0),left:e.left-r.left-x.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===x.css(t,"position");)t=t.offsetParent;return t||rt})}}),x.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var i="pageYOffset"===e;x.fn[t]=function(n){return W(this,function(t,n,r){var o;if(m(t)?o=t:9===t.nodeType&&(o=t.defaultView),void 0===r)return o?o[e]:t[n];o?o.scrollTo(i?o.pageXOffset:r,i?r:o.pageYOffset):t[n]=r},t,n,arguments.length)}}),x.each(["top","left"],function(t,e){x.cssHooks[e]=Ut(p.pixelPosition,function(t,i){if(i)return i=Wt(t,e),jt.test(i)?x(t).position()[e]+"px":i})}),x.each({Height:"height",Width:"width"},function(t,e){x.each({padding:"inner"+t,content:e,"":"outer"+t},function(i,n){x.fn[n]=function(r,o){var s=arguments.length&&(i||"boolean"!=typeof r),a=i||(!0===r||!0===o?"margin":"border");return W(this,function(e,i,r){var o;return m(e)?0===n.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+t],o["scroll"+t],e.body["offset"+t],o["offset"+t],o["client"+t])):void 0===r?x.css(e,i,a):x.style(e,i,r,a)},e,s?r:void 0,s)}})}),x.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,e){x.fn[e]=function(t,i){return 0<arguments.length?this.on(e,null,t,i):this.trigger(e)}}),x.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),x.fn.extend({bind:function(t,e,i){return this.on(t,null,e,i)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,i,n){return this.on(e,t,i,n)},undelegate:function(t,e,i){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",i)}}),x.proxy=function(t,e){var i,n,r;if("string"==typeof e&&(i=t[e],e=t,t=i),g(t))return n=o.call(arguments,2),(r=function(){return t.apply(e||this,n.concat(o.call(arguments)))}).guid=t.guid=t.guid||x.guid++,r},x.holdReady=function(t){t?x.readyWait++:x.ready(!0)},x.isArray=Array.isArray,x.parseJSON=JSON.parse,x.nodeName=N,x.isFunction=g,x.isWindow=m,x.camelCase=G,x.type=b,x.now=Date.now,x.isNumeric=function(t){var e=x.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},"function"==typeof define&&define.amd&&define("jquery",[],function(){return x});var Ze=t.jQuery,Qe=t.$;return x.noConflict=function(e){return t.$===x&&(t.$=Qe),e&&t.jQuery===x&&(t.jQuery=Ze),x},e||(t.jQuery=t.$=x),x}),(function(){var t,e=[].indexOf||function(t){for(var e=0,i=this.length;e<i;e++)if(e in this&&this[e]===t)return e;return-1},i=[].slice,n=function(t,e){return function(){return t.apply(e,arguments)}},r={}.hasOwnProperty;t=function(t){var o,s,a,h,l,d,u,c,f,p,g,m,v,y,b,w,x,_,k,S,M,C;return s=function(t,e,i){var n,r,o,s;for(o=(r=(t+="").split("."))[0],s=r.length>1?i+r[1]:"",n=/(\d+)(\d{3})/;n.test(o);)o=o.replace(n,"$1"+e+"$2");return o+s},_=(g=function(e){return e=t.extend({},{digitsAfterDecimal:2,scaler:1,thousandsSep:",",decimalSep:".",prefix:"",suffix:""},e),function(t){var i;return isNaN(t)||!isFinite(t)?"":(i=s((e.scaler*t).toFixed(e.digitsAfterDecimal),e.thousandsSep,e.decimalSep),""+e.prefix+i+e.suffix)}})(),k=g({digitsAfterDecimal:0}),S=g({digitsAfterDecimal:1,scaler:100,suffix:"%"}),(a={count:function(t){return null==t&&(t=k),function(){return function(e,i,n){return{count:0,push:function(){return this.count++},value:function(){return this.count},format:t}}}},uniques:function(t,i){return null==i&&(i=k),function(n){var r;return r=n[0],function(n,o,s){return{uniq:[],push:function(t){if(e.call(this.uniq,t[r])<0)return this.uniq.push(t[r])},value:function(){return t(this.uniq)},format:i,numInputs:null!=r?0:1}}}},sum:function(t){return null==t&&(t=_),function(e){var i;return i=e[0],function(e,n,r){return{sum:0,push:function(t){if(!isNaN(parseFloat(t[i])))return this.sum+=parseFloat(t[i])},value:function(){return this.sum},format:t,numInputs:null!=i?0:1}}}},extremes:function(t,e){return null==e&&(e=_),function(i){var n;return n=i[0],function(i,r,o){return{val:null,sorter:u(null!=i?i.sorters:void 0,n),push:function(e){var i,r,o,s;if(s=e[n],"min"!==t&&"max"!==t||(s=parseFloat(s),isNaN(s)||(this.val=Math[t](s,null!=(i=this.val)?i:s))),"first"===t&&this.sorter(s,null!=(r=this.val)?r:s)<=0&&(this.val=s),"last"===t&&this.sorter(s,null!=(o=this.val)?o:s)>=0)return this.val=s},value:function(){return this.val},format:function(t){return isNaN(t)?t:e(t)},numInputs:null!=n?0:1}}}},quantile:function(t,e){return null==e&&(e=_),function(i){var n;return n=i[0],function(i,r,o){return{vals:[],push:function(t){var e;if(e=parseFloat(t[n]),!isNaN(e))return this.vals.push(e)},value:function(){var e;return 0===this.vals.length?null:(this.vals.sort(function(t,e){return t-e}),e=(this.vals.length-1)*t,(this.vals[Math.floor(e)]+this.vals[Math.ceil(e)])/2)},format:e,numInputs:null!=n?0:1}}}},runningStat:function(t,e,i){return null==t&&(t="mean"),null==e&&(e=1),null==i&&(i=_),function(n){var r;return r=n[0],function(n,o,s){return{n:0,m:0,s:0,push:function(t){var e,i;if(i=parseFloat(t[r]),!isNaN(i))return this.n+=1,1===this.n?this.m=i:(this.s=this.s+(i-this.m)*(i-(e=this.m+(i-this.m)/this.n)),this.m=e)},value:function(){if("mean"===t)return 0===this.n?NaN:this.m;if(this.n<=e)return 0;switch(t){case"var":return this.s/(this.n-e);case"stdev":return Math.sqrt(this.s/(this.n-e))}},format:i,numInputs:null!=r?0:1}}}},sumOverSum:function(t){return null==t&&(t=_),function(e){var i,n;return n=e[0],i=e[1],function(e,r,o){return{sumNum:0,sumDenom:0,push:function(t){if(isNaN(parseFloat(t[n]))||(this.sumNum+=parseFloat(t[n])),!isNaN(parseFloat(t[i])))return this.sumDenom+=parseFloat(t[i])},value:function(){return this.sumNum/this.sumDenom},format:t,numInputs:null!=n&&null!=i?0:2}}}},sumOverSumBound80:function(t,e){return null==t&&(t=!0),null==e&&(e=_),function(i){var n,r;return r=i[0],n=i[1],function(i,o,s){return{sumNum:0,sumDenom:0,push:function(t){if(isNaN(parseFloat(t[r]))||(this.sumNum+=parseFloat(t[r])),!isNaN(parseFloat(t[n])))return this.sumDenom+=parseFloat(t[n])},value:function(){return(.821187207574908/this.sumDenom+this.sumNum/this.sumDenom+1.2815515655446004*(t?1:-1)*Math.sqrt(.410593603787454/(this.sumDenom*this.sumDenom)+this.sumNum*(1-this.sumNum/this.sumDenom)/(this.sumDenom*this.sumDenom)))/(1+1.642374415149816/this.sumDenom)},format:e,numInputs:null!=r&&null!=n?0:2}}}},fractionOf:function(t,e,n){return null==e&&(e="total"),null==n&&(n=S),function(){var r;return r=1<=arguments.length?i.call(arguments,0):[],function(i,o,s){return{selector:{total:[[],[]],row:[o,[]],col:[[],s]}[e],inner:t.apply(null,r)(i,o,s),push:function(t){return this.inner.push(t)},format:n,value:function(){return this.inner.value()/i.getAggregator.apply(i,this.selector).inner.value()},numInputs:t.apply(null,r)().numInputs}}}}}).countUnique=function(t){return a.uniques(function(t){return t.length},t)},a.listUnique=function(t){return a.uniques(function(e){return e.sort(p).join(t)},function(t){return t})},a.max=function(t){return a.extremes("max",t)},a.min=function(t){return a.extremes("min",t)},a.first=function(t){return a.extremes("first",t)},a.last=function(t){return a.extremes("last",t)},a.median=function(t){return a.quantile(.5,t)},a.average=function(t){return a.runningStat("mean",1,t)},a.var=function(t,e){return a.runningStat("var",t,e)},a.stdev=function(t,e){return a.runningStat("stdev",t,e)},h={Count:(C=a).count(k),"Count Unique Values":C.countUnique(k),"List Unique Values":C.listUnique(", "),Sum:C.sum(_),"Integer Sum":C.sum(k),Average:C.average(_),Median:C.median(_),"Sample Variance":C.var(1,_),"Sample Standard Deviation":C.stdev(1,_),Minimum:C.min(_),Maximum:C.max(_),First:C.first(_),Last:C.last(_),"Sum over Sum":C.sumOverSum(_),"80% Upper Bound":C.sumOverSumBound80(!0,_),"80% Lower Bound":C.sumOverSumBound80(!1,_),"Sum as Fraction of Total":C.fractionOf(C.sum(),"total",S),"Sum as Fraction of Rows":C.fractionOf(C.sum(),"row",S),"Sum as Fraction of Columns":C.fractionOf(C.sum(),"col",S),"Count as Fraction of Total":C.fractionOf(C.count(),"total",S),"Count as Fraction of Rows":C.fractionOf(C.count(),"row",S),"Count as Fraction of Columns":C.fractionOf(C.count(),"col",S)},c={en:{aggregators:h,renderers:y={Table:function(t,e){return m(t,e)},"Table Barchart":function(e,i){return t(m(e,i)).barchart()},Heatmap:function(e,i){return t(m(e,i)).heatmap("heatmap",i)},"Row Heatmap":function(e,i){return t(m(e,i)).heatmap("rowheatmap",i)},"Col Heatmap":function(e,i){return t(m(e,i)).heatmap("colheatmap",i)}},localeStrings:{renderError:"An error occurred rendering the PivotTable results.",computeError:"An error occurred computing the PivotTable results.",uiRenderError:"An error occurred rendering the PivotTable UI.",selectAll:"Select All",selectNone:"Select None",tooMany:"(too many to list)",filterResults:"Filter values",apply:"Apply",cancel:"Cancel",totals:"Totals",vs:"vs",by:"by"}}},f=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],l=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],M=function(t){return("0"+t).substr(-2,2)},d={bin:function(t,e){return function(i){return i[t]-i[t]%e}},dateFormat:function(t,e,i,n,r){var o;return null==i&&(i=!1),null==n&&(n=f),null==r&&(r=l),o=i?"UTC":"",function(i){var s;return s=new Date(Date.parse(i[t])),isNaN(s)?"":e.replace(/%(.)/g,function(t,e){switch(e){case"y":return s["get"+o+"FullYear"]();case"m":return M(s["get"+o+"Month"]()+1);case"n":return n[s["get"+o+"Month"]()];case"d":return M(s["get"+o+"Date"]());case"w":return r[s["get"+o+"Day"]()];case"x":return s["get"+o+"Day"]();case"H":return M(s["get"+o+"Hours"]());case"M":return M(s["get"+o+"Minutes"]());case"S":return M(s["get"+o+"Seconds"]());default:return"%"+e}})}}},b=/(\d+)|(\D+)/g,v=/\d/,w=/^0/,p=function(t,e){var i,n,r,o,s,a;if(null!=e&&null==t)return-1;if(null!=t&&null==e)return 1;if("number"==typeof t&&isNaN(t))return-1;if("number"==typeof e&&isNaN(e))return 1;if((s=+t)<(a=+e))return-1;if(s>a)return 1;if("number"==typeof t&&"number"!=typeof e)return-1;if("number"==typeof e&&"number"!=typeof t)return 1;if("number"==typeof t&&"number"==typeof e)return 0;if(isNaN(a)&&!isNaN(s))return-1;if(isNaN(s)&&!isNaN(a))return 1;if((i=String(t))===(r=String(e)))return 0;if(!v.test(i)||!v.test(r))return i>r?1:-1;for(i=i.match(b),r=r.match(b);i.length&&r.length;)if((n=i.shift())!==(o=r.shift()))return v.test(n)&&v.test(o)?n.replace(w,".0")-o.replace(w,".0"):n>o?1:-1;return i.length-r.length},x=function(t){var e,i,n,r;for(e in n={},i={},t)n[r=t[e]]=e,"string"==typeof r&&(i[r.toLowerCase()]=e);return function(t,e){return null!=n[t]&&null!=n[e]?n[t]-n[e]:null!=n[t]?-1:null!=n[e]?1:null!=i[t]&&null!=i[e]?i[t]-i[e]:null!=i[t]?-1:null!=i[e]?1:p(t,e)}},u=function(e,i){var n;if(null!=e)if(t.isFunction(e)){if(n=e(i),t.isFunction(n))return n}else if(null!=e[i])return e[i];return p},o=function(){function e(t,i){var r,o,s,h,l,d,u,c,f,p,g;null==i&&(i={}),this.getAggregator=n(this.getAggregator,this),this.getRowKeys=n(this.getRowKeys,this),this.getColKeys=n(this.getColKeys,this),this.sortKeys=n(this.sortKeys,this),this.arrSort=n(this.arrSort,this),this.input=t,this.aggregator=null!=(r=i.aggregator)?r:a.count()(),this.aggregatorName=null!=(o=i.aggregatorName)?o:"Count",this.colAttrs=null!=(s=i.cols)?s:[],this.rowAttrs=null!=(h=i.rows)?h:[],this.valAttrs=null!=(l=i.vals)?l:[],this.sorters=null!=(d=i.sorters)?d:{},this.rowOrder=null!=(u=i.rowOrder)?u:"key_a_to_z",this.colOrder=null!=(c=i.colOrder)?c:"key_a_to_z",this.derivedAttributes=null!=(f=i.derivedAttributes)?f:{},this.filter=null!=(p=i.filter)?p:function(){return!0},this.tree={},this.rowKeys=[],this.colKeys=[],this.rowTotals={},this.colTotals={},this.allTotal=this.aggregator(this,[],[]),this.sorted=!1,e.forEachRecord(this.input,this.derivedAttributes,(g=this,function(t){if(g.filter(t))return g.processRecord(t)}))}return e.forEachRecord=function(e,i,n){var o,s,a,h,l,d,u,c,f,p,g;if(o=t.isEmptyObject(i)?n:function(t){var e,r;for(e in i)t[e]=null!=(r=(0,i[e])(t))?r:t[e];return n(t)},t.isFunction(e))return e(o);if(t.isArray(e)){if(t.isArray(e[0])){for(a in f=[],e)if(r.call(e,a)&&(s=e[a],a>0)){for(h in u={},c=e[0])r.call(c,h)&&(u[c[h]]=s[h]);f.push(o(u))}return f}for(p=[],l=0,d=e.length;l<d;l++)p.push(o(u=e[l]));return p}if(e instanceof t)return g=[],t("thead > tr > th",e).each(function(e){return g.push(t(this).text())}),t("tbody > tr",e).each(function(e){return u={},t("td",this).each(function(e){return u[g[e]]=t(this).text()}),o(u)});throw new Error("unknown input format")},e.prototype.forEachMatchingRecord=function(t,i){return e.forEachRecord(this.input,this.derivedAttributes,(n=this,function(e){var r,o;if(n.filter(e)){for(r in t)if(t[r]!==(null!=(o=e[r])?o:"null"))return;return i(e)}}));var n},e.prototype.arrSort=function(t){var e;return e=(function(){var e,i,n;for(n=[],e=0,i=t.length;e<i;e++)n.push(u(this.sorters,t[e]));return n}).call(this),function(t,i){var n,o;for(o in e)if(r.call(e,o)&&0!==(n=(0,e[o])(t[o],i[o])))return n;return 0}},e.prototype.sortKeys=function(){var t,e;if(!this.sorted){switch(this.sorted=!0,e=this,t=function(t,i){return e.getAggregator(t,i).value()},this.rowOrder){case"value_a_to_z":this.rowKeys.sort(function(e,i){return p(t(e,[]),t(i,[]))});break;case"value_z_to_a":this.rowKeys.sort(function(e,i){return-p(t(e,[]),t(i,[]))});break;default:this.rowKeys.sort(this.arrSort(this.rowAttrs))}switch(this.colOrder){case"value_a_to_z":return this.colKeys.sort(function(e,i){return p(t([],e),t([],i))});case"value_z_to_a":return this.colKeys.sort(function(e,i){return-p(t([],e),t([],i))});default:return this.colKeys.sort(this.arrSort(this.colAttrs))}}},e.prototype.getColKeys=function(){return this.sortKeys(),this.colKeys},e.prototype.getRowKeys=function(){return this.sortKeys(),this.rowKeys},e.prototype.processRecord=function(t){var e,i,n,r,o,s,a,h,l,d,u,c;for(e=[],c=[],r=0,o=(h=this.colAttrs).length;r<o;r++)e.push(null!=(l=t[h[r]])?l:"null");for(a=0,s=(d=this.rowAttrs).length;a<s;a++)c.push(null!=(u=t[d[a]])?u:"null");if(n=c.join(String.fromCharCode(0)),i=e.join(String.fromCharCode(0)),this.allTotal.push(t),0!==c.length&&(this.rowTotals[n]||(this.rowKeys.push(c),this.rowTotals[n]=this.aggregator(this,c,[])),this.rowTotals[n].push(t)),0!==e.length&&(this.colTotals[i]||(this.colKeys.push(e),this.colTotals[i]=this.aggregator(this,[],e)),this.colTotals[i].push(t)),0!==e.length&&0!==c.length)return this.tree[n]||(this.tree[n]={}),this.tree[n][i]||(this.tree[n][i]=this.aggregator(this,c,e)),this.tree[n][i].push(t)},e.prototype.getAggregator=function(t,e){var i,n,r;return r=t.join(String.fromCharCode(0)),n=e.join(String.fromCharCode(0)),null!=(i=0===t.length&&0===e.length?this.allTotal:0===t.length?this.colTotals[n]:0===e.length?this.rowTotals[r]:this.tree[r][n])?i:{value:function(){return null},format:function(){return""}}},e}(),t.pivotUtilities={aggregatorTemplates:a,aggregators:h,renderers:y,derivers:d,locales:c,naturalSort:p,numberFormat:g,sortAs:x,PivotData:o},m=function(e,i){var n,o,s,a,h,l,d,u,c,f,p,g,m,v,y,b,w,x,_,k,S,M,C;for(u in i=t.extend(!0,{},{table:{clickCallback:null,rowTotals:!0,colTotals:!0},localeStrings:{totals:"Totals"}},i),s=e.colAttrs,p=e.rowAttrs,m=e.getRowKeys(),h=e.getColKeys(),i.table.clickCallback&&(l=function(t,n,o){var a,h,l;for(l in h={},s)r.call(s,l)&&(a=s[l],null!=o[l]&&(h[a]=o[l]));for(l in p)r.call(p,l)&&(a=p[l],null!=n[l]&&(h[a]=n[l]));return function(n){return i.table.clickCallback(n,t,h,e)}}),(f=document.createElement("table")).className="pvtTable",v=function(t,e,i){var n,r,o,s,a,h,l,d;if(0!==e){for(s=!0,d=n=0,a=i;0<=a?n<=a:n>=a;d=0<=a?++n:--n)t[e-1][d]!==t[e][d]&&(s=!1);if(s)return-1}for(r=0;e+r<t.length;){for(l=!1,d=o=0,h=i;0<=h?o<=h:o>=h;d=0<=h?++o:--o)t[e][d]!==t[e+r][d]&&(l=!0);if(l)break;r++}return r},x=document.createElement("thead"),s)if(r.call(s,u)){for(d in o=s[u],k=document.createElement("tr"),0===parseInt(u)&&0!==p.length&&((w=document.createElement("th")).setAttribute("colspan",p.length),w.setAttribute("rowspan",s.length),k.appendChild(w)),(w=document.createElement("th")).className="pvtAxisLabel",w.textContent=o,k.appendChild(w),h)r.call(h,d)&&(a=h[d],-1!==(C=v(h,parseInt(d),parseInt(u)))&&((w=document.createElement("th")).className="pvtColLabel",w.textContent=a[u],w.setAttribute("colspan",C),parseInt(u)===s.length-1&&0!==p.length&&w.setAttribute("rowspan",2),k.appendChild(w)));0===parseInt(u)&&i.table.rowTotals&&((w=document.createElement("th")).className="pvtTotalLabel pvtRowTotalLabel",w.innerHTML=i.localeStrings.totals,w.setAttribute("rowspan",s.length+(0===p.length?0:1)),k.appendChild(w)),x.appendChild(k)}if(0!==p.length){for(d in k=document.createElement("tr"),p)r.call(p,d)&&(c=p[d],(w=document.createElement("th")).className="pvtAxisLabel",w.textContent=c,k.appendChild(w));w=document.createElement("th"),0===s.length&&(w.className="pvtTotalLabel pvtRowTotalLabel",w.innerHTML=i.localeStrings.totals),k.appendChild(w),x.appendChild(k)}for(d in f.appendChild(x),y=document.createElement("tbody"),m)if(r.call(m,d)){for(u in g=m[d],k=document.createElement("tr"),g)r.call(g,u)&&(S=g[u],-1!==(C=v(m,parseInt(d),parseInt(u)))&&((w=document.createElement("th")).className="pvtRowLabel",w.textContent=S,w.setAttribute("rowspan",C),parseInt(u)===p.length-1&&0!==s.length&&w.setAttribute("colspan",2),k.appendChild(w)));for(u in h)r.call(h,u)&&(M=(n=e.getAggregator(g,a=h[u])).value(),(b=document.createElement("td")).className="pvtVal row"+d+" col"+u,b.textContent=n.format(M),b.setAttribute("data-value",M),null!=l&&(b.onclick=l(M,g,a)),k.appendChild(b));(i.table.rowTotals||0===s.length)&&(M=(_=e.getAggregator(g,[])).value(),(b=document.createElement("td")).className="pvtTotal rowTotal",b.textContent=_.format(M),b.setAttribute("data-value",M),null!=l&&(b.onclick=l(M,g,[])),b.setAttribute("data-for","row"+d),k.appendChild(b)),y.appendChild(k)}if(i.table.colTotals||0===p.length){for(u in k=document.createElement("tr"),(i.table.colTotals||0===p.length)&&((w=document.createElement("th")).className="pvtTotalLabel pvtColTotalLabel",w.innerHTML=i.localeStrings.totals,w.setAttribute("colspan",p.length+(0===s.length?0:1)),k.appendChild(w)),h)r.call(h,u)&&(M=(_=e.getAggregator([],a=h[u])).value(),(b=document.createElement("td")).className="pvtTotal colTotal",b.textContent=_.format(M),b.setAttribute("data-value",M),null!=l&&(b.onclick=l(M,[],a)),b.setAttribute("data-for","col"+u),k.appendChild(b));(i.table.rowTotals||0===s.length)&&(M=(_=e.getAggregator([],[])).value(),(b=document.createElement("td")).className="pvtGrandTotal",b.textContent=_.format(M),b.setAttribute("data-value",M),null!=l&&(b.onclick=l(M,[],[])),k.appendChild(b)),y.appendChild(k)}return f.appendChild(y),f.setAttribute("data-numrows",m.length),f.setAttribute("data-numcols",h.length),f},t.fn.pivot=function(e,i,n){var r,s,h,l,d,u,f;null==n&&(n="en"),null==c[n]&&(n="en"),r={cols:[],rows:[],vals:[],rowOrder:"key_a_to_z",colOrder:"key_a_to_z",dataClass:o,filter:function(){return!0},aggregator:a.count()(),aggregatorName:"Count",sorters:{},derivedAttributes:{},renderer:m},h=t.extend(!0,{},c.en.localeStrings,c[n].localeStrings),l=t.extend(!0,{},{rendererOptions:{localeStrings:h},localeStrings:h},t.extend({},r,i)),u=null;try{d=new l.dataClass(e,l);try{u=l.renderer(d,l.rendererOptions)}catch(p){s=p,"undefined"!=typeof console&&null!==console&&console.error(s.stack),u=t("<span>").html(l.localeStrings.renderError)}}catch(p){s=p,"undefined"!=typeof console&&null!==console&&console.error(s.stack),u=t("<span>").html(l.localeStrings.computeError)}for(f=this[0];f.hasChildNodes();)f.removeChild(f.lastChild);return this.append(u)},t.fn.pivotUI=function(i,n,s,a){var h,l,d,f,g,m,v,y,b,w,x,_,k,S,M,C,E,N,A,D,T,L,O,P,I,B,R,F,z,j,q,H,W,U,V,Y,G,X,K,Z,Q,$,J,tt,et;null==s&&(s=!1),null==a&&(a="en"),null==c[a]&&(a="en"),y={derivedAttributes:{},aggregators:c[a].aggregators,renderers:c[a].renderers,hiddenAttributes:[],hiddenFromAggregators:[],hiddenFromDragDrop:[],menuLimit:500,cols:[],rows:[],vals:[],rowOrder:"key_a_to_z",colOrder:"key_a_to_z",dataClass:o,exclusions:{},inclusions:{},unusedAttrsVertical:85,autoSortUnusedAttrs:!1,onRefresh:null,showUI:!0,filter:function(){return!0},sorters:{}},E={rendererOptions:{localeStrings:N=t.extend(!0,{},c.en.localeStrings,c[a].localeStrings)},localeStrings:N},b=this.data("pivotUIOptions"),L=null==b||s?t.extend(!0,{},E,t.extend({},y,n)):b;try{for(tt in g={},A=[],I=0,o.forEachRecord(i,L.derivedAttributes,function(t){var e,i,n,o;if(L.filter(t)){for(e in A.push(t),t)r.call(t,e)&&null==g[e]&&(g[e]={},I>0&&(g[e].null=I));for(e in g)o=null!=(n=t[e])?n:"null",null==(i=g[e])[o]&&(i[o]=0),g[e][o]++;return I++}}),Z=t("<table>",{class:"pvtUi"}).attr("cellpadding",5),W=t("<td>").addClass("pvtUiCell"),H=t("<select>").addClass("pvtRenderer").appendTo(W).bind("change",function(){return j()}),B=L.renderers)r.call(B,tt)&&t("<option>").val(tt).html(tt).appendTo(H);if(Q=t("<td>").addClass("pvtAxisContainer pvtUnused pvtUiCell"),V=function(){var t;for(h in t=[],g)e.call(L.hiddenAttributes,h)<0&&t.push(h);return t}(),Y=function(){var t,i,n;for(n=[],t=0,i=V.length;t<i;t++)e.call(L.hiddenFromAggregators,m=V[t])<0&&n.push(m);return n}(),G=function(){var t,i,n;for(n=[],t=0,i=V.length;t<i;t++)e.call(L.hiddenFromDragDrop,m=V[t])<0&&n.push(m);return n}(),J=!1,$="auto"===L.unusedAttrsVertical?120:parseInt(L.unusedAttrsVertical),!isNaN($)){for(f=0,k=0,S=G.length;k<S;k++)f+=(h=G[k]).length;J=f>$}for(x in Q.addClass(!0===L.unusedAttrsVertical||J?"pvtVertList":"pvtHorizList"),w=function(i){var n,r,o,s,a,h,l,d,c,f,p,m,v,y,b,w,_,k,S;if(S=function(){var t;for(b in t=[],g[i])t.push(b);return t}(),d=!1,(k=t("<div>").addClass("pvtFilterBox").hide()).append(t("<h4>").append(t("<span>").text(i),t("<span>").addClass("count").text("("+S.length+")"))),S.length>L.menuLimit)k.append(t("<p>").html(L.localeStrings.tooMany));else for(S.length>5&&(s=t("<p>").appendTo(k),v=u(L.sorters,i),p=L.localeStrings.filterResults,t("<input>",{type:"text"}).appendTo(s).attr({placeholder:p,class:"pvtSearch"}).bind("keyup",function(){var i,n,r;return r=t(this).val().toLowerCase().trim(),n=function(t,i){return function(n){var o,s;return 0===(o=r.substring(t.length).trim()).length||(s=Math.sign(v(n.toLowerCase(),o)),e.call(i,s)>=0)}},i=0===r.indexOf(">=")?n(">=",[1,0]):0===r.indexOf("<=")?n("<=",[-1,0]):0===r.indexOf(">")?n(">",[1]):0===r.indexOf("<")?n("<",[-1]):0===r.indexOf("~")?function(t){return 0===r.substring(1).trim().length||t.toLowerCase().match(r.substring(1))}:function(t){return-1!==t.toLowerCase().indexOf(r)},k.find(".pvtCheckContainer p label span.value").each(function(){return i(t(this).text())?t(this).parent().parent().show():t(this).parent().parent().hide()})}),s.append(t("<br>")),t("<button>",{type:"button"}).appendTo(s).html(L.localeStrings.selectAll).bind("click",function(){return k.find("input:visible:not(:checked)").prop("checked",!0).toggleClass("changed"),!1}),t("<button>",{type:"button"}).appendTo(s).html(L.localeStrings.selectNone).bind("click",function(){return k.find("input:visible:checked").prop("checked",!1).toggleClass("changed"),!1})),r=t("<div>").addClass("pvtCheckContainer").appendTo(k),f=0,c=(m=S.sort(u(L.sorters,i))).length;f<c;f++)_=g[i][w=m[f]],a=t("<label>"),h=!1,L.inclusions[i]?h=e.call(L.inclusions[i],w)<0:L.exclusions[i]&&(h=e.call(L.exclusions[i],w)>=0),d||(d=h),t("<input>").attr("type","checkbox").addClass("pvtFilter").attr("checked",!h).data("filter",[i,w]).appendTo(a).bind("change",function(){return t(this).toggleClass("changed")}),a.append(t("<span>").addClass("value").text(w)),a.append(t("<span>").addClass("count").text("("+_+")")),r.append(t("<p>").append(a));return o=function(){return k.find("[type='checkbox']").length>k.find("[type='checkbox']:checked").length?n.addClass("pvtFilteredAttribute"):n.removeClass("pvtFilteredAttribute"),k.find(".pvtSearch").val(""),k.find(".pvtCheckContainer p").show(),k.hide()},l=t("<p>").appendTo(k),S.length<=L.menuLimit&&t("<button>",{type:"button"}).text(L.localeStrings.apply).appendTo(l).bind("click",function(){return k.find(".changed").removeClass("changed").length&&j(),o()}),t("<button>",{type:"button"}).text(L.localeStrings.cancel).appendTo(l).bind("click",function(){return k.find(".changed:checked").removeClass("changed").prop("checked",!1),k.find(".changed:not(:checked)").removeClass("changed").prop("checked",!0),o()}),y=t("<span>").addClass("pvtTriangle").html(" &#x25BE;").bind("click",function(e){var i;return i=t(e.currentTarget).position(),k.css({left:i.left+10,top:i.top+10}).show()}),n=t("<li>").addClass("axis_"+x).append(t("<span>").addClass("pvtAttr").text(i).data("attrName",i).append(y)),d&&n.addClass("pvtFilteredAttribute"),Q.append(n).append(k)},G)r.call(G,x)&&w(d=G[x]);for(tt in X=t("<tr>").appendTo(Z),l=t("<select>").addClass("pvtAggregator").bind("change",function(){return j()}),R=L.aggregators)r.call(R,tt)&&l.append(t("<option>").val(tt).html(tt));for(O={key_a_to_z:{rowSymbol:"&varr;",colSymbol:"&harr;",next:"value_a_to_z"},value_a_to_z:{rowSymbol:"&darr;",colSymbol:"&rarr;",next:"value_z_to_a"},value_z_to_a:{rowSymbol:"&uarr;",colSymbol:"&larr;",next:"key_a_to_z"}},U=t("<a>",{role:"button"}).addClass("pvtRowOrder").data("order",L.rowOrder).html(O[L.rowOrder].rowSymbol).bind("click",function(){return t(this).data("order",O[t(this).data("order")].next),t(this).html(O[t(this).data("order")].rowSymbol),j()}),v=t("<a>",{role:"button"}).addClass("pvtColOrder").data("order",L.colOrder).html(O[L.colOrder].colSymbol).bind("click",function(){return t(this).data("order",O[t(this).data("order")].next),t(this).html(O[t(this).data("order")].colSymbol),j()}),t("<td>").addClass("pvtVals pvtUiCell").appendTo(X).append(l).append(U).append(v).append(t("<br>")),t("<td>").addClass("pvtAxisContainer pvtHorizList pvtCols pvtUiCell").appendTo(X),(K=t("<tr>").appendTo(Z)).append(t("<td>").addClass("pvtAxisContainer pvtRows pvtUiCell").attr("valign","top")),P=t("<td>").attr("valign","top").addClass("pvtRendererArea").appendTo(K),!0===L.unusedAttrsVertical||J?(Z.find("tr:nth-child(1)").prepend(W),Z.find("tr:nth-child(2)").prepend(Q)):Z.prepend(t("<tr>").append(W).append(Q)),this.html(Z),D=0,M=(F=L.cols).length;D<M;D++)tt=F[D],this.find(".pvtCols").append(this.find(".axis_"+t.inArray(tt,G)));for(T=0,C=(z=L.rows).length;T<C;T++)tt=z[T],this.find(".pvtRows").append(this.find(".axis_"+t.inArray(tt,G)));null!=L.aggregatorName&&this.find(".pvtAggregator").val(L.aggregatorName),null!=L.rendererName&&this.find(".pvtRenderer").val(L.rendererName),L.showUI||this.find(".pvtUiCell").hide(),_=!0,et=this,q=function(){var i,n,r,o,s,a,h,u,c,f,g,m,y,b;if(f={derivedAttributes:L.derivedAttributes,localeStrings:L.localeStrings,rendererOptions:L.rendererOptions,sorters:L.sorters,cols:[],rows:[],dataClass:L.dataClass},s=null!=(u=L.aggregators[l.val()]([])().numInputs)?u:0,b=[],et.find(".pvtRows li span.pvtAttr").each(function(){return f.rows.push(t(this).data("attrName"))}),et.find(".pvtCols li span.pvtAttr").each(function(){return f.cols.push(t(this).data("attrName"))}),et.find(".pvtVals select.pvtAttrDropdown").each(function(){return 0===s?t(this).remove():(s--,""!==t(this).val()?b.push(t(this).val()):void 0)}),0!==s)for(h=et.find(".pvtVals"),tt=g=0,c=s;0<=c?g<c:g>c;tt=0<=c?++g:--g){for(o=t("<select>").addClass("pvtAttrDropdown").append(t("<option>")).bind("change",function(){return j()}),m=0,r=Y.length;m<r;m++)d=Y[m],o.append(t("<option>").val(d).text(d));h.append(o)}if(_&&(b=L.vals,x=0,et.find(".pvtVals select.pvtAttrDropdown").each(function(){return t(this).val(b[x]),x++}),_=!1),f.aggregatorName=l.val(),f.vals=b,f.aggregator=L.aggregators[l.val()](b),f.renderer=L.renderers[H.val()],f.rowOrder=U.data("order"),f.colOrder=v.data("order"),i={},et.find("input.pvtFilter").not(":checked").each(function(){var e;return e=t(this).data("filter"),null!=i[e[0]]?i[e[0]].push(e[1]):i[e[0]]=[e[1]]}),n={},et.find("input.pvtFilter:checked").each(function(){var e;if(e=t(this).data("filter"),null!=i[e[0]])return null!=n[e[0]]?n[e[0]].push(e[1]):n[e[0]]=[e[1]]}),f.filter=function(t){var n,r,o;if(!L.filter(t))return!1;for(n in i)if(r=""+(null!=(o=t[n])?o:"null"),e.call(i[n],r)>=0)return!1;return!0},P.pivot(A,f),a=t.extend({},L,{cols:f.cols,rows:f.rows,colOrder:f.colOrder,rowOrder:f.rowOrder,vals:b,exclusions:i,inclusions:n,inclusionsInfo:n,aggregatorName:l.val(),rendererName:H.val()}),et.data("pivotUIOptions",a),L.autoSortUnusedAttrs&&(y=et.find("td.pvtUnused.pvtAxisContainer"),t(y).children("li").sort(function(e,i){return p(t(e).text(),t(i).text())}).appendTo(y)),P.css("opacity",1),null!=L.onRefresh)return L.onRefresh(a)},(j=function(){return P.css("opacity",.5),setTimeout(q,10)})(),this.find(".pvtAxisContainer").sortable({update:function(t,e){if(null==e.sender)return j()},connectWith:this.find(".pvtAxisContainer"),items:"li",placeholder:"pvtPlaceholder"})}catch(it){"undefined"!=typeof console&&null!==console&&console.error(it.stack),this.html(L.localeStrings.uiRenderError)}return this},t.fn.heatmap=function(e,i){var n,r,o,s,a,h,l,d,u,c,f,p;switch(null==e&&(e="heatmap"),d=this.data("numrows"),l=this.data("numcols"),null==(n=null!=i&&null!=(u=i.heatmap)?u.colorScaleGenerator:void 0)&&(n=function(t){var e,i;return i=Math.min.apply(Math,t),e=Math.max.apply(Math,t),function(t){var n;return"rgb(255,"+(n=255-Math.round(255*(t-i)/(e-i)))+","+n+")"}}),p=this,r=function(e){var i,r,o;return o=[],(r=function(i){return p.find(e).each(function(){var e;if(null!=(e=t(this).data("value"))&&isFinite(e))return i(e,t(this))})})(function(t){return o.push(t)}),i=n(o),r(function(t,e){return e.css("background-color",i(t))})},e){case"heatmap":r(".pvtVal");break;case"rowheatmap":for(o=a=0,c=d;0<=c?a<c:a>c;o=0<=c?++a:--a)r(".pvtVal.row"+o);break;case"colheatmap":for(s=h=0,f=l;0<=f?h<f:h>f;s=0<=f?++h:--h)r(".pvtVal.col"+s)}return r(".pvtTotal.rowTotal"),r(".pvtTotal.colTotal"),this},t.fn.barchart=function(e){var i,n,r,o,s,a;for(o=this.data("numrows"),this.data("numcols"),a=this,i=function(e){var i,n,r,o,s,h;return h=[],(i=function(i){return a.find(e).each(function(){var e;if(null!=(e=t(this).data("value"))&&isFinite(e))return i(e,t(this))})})(function(t){return h.push(t)}),(n=Math.max.apply(Math,h))<0&&(n=0),o=n,(r=Math.min.apply(Math,h))<0&&(o=n-r),s=function(t){return 100*t/(1.4*o)},i(function(e,i){var n,o,a,h;return a=i.text(),h=t("<div>").css({position:"relative",height:"55px"}),o="gray",n=0,r<0&&(n=s(-r)),e<0&&(n+=s(e),o="darkred",e=-e),h.append(t("<div>").css({position:"absolute",bottom:n+"%",left:0,right:0,height:s(e)+"%","background-color":o})),h.append(t("<div>").text(a).css({position:"relative","padding-left":"5px","padding-right":"5px"})),i.css({padding:0,"padding-top":"5px","text-align":"center"}).html(h)})},n=r=0,s=o;0<=s?r<s:r>s;n=0<=s?++r:--r)i(".pvtVal.row"+n);return i(".pvtTotal.colTotal"),this}},"object"==typeof exports&&"object"==typeof module?t(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}).call(this),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).cytoscape=e()}(this,function(){"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function n(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}function r(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var i=[],n=!0,r=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(n=(s=a.next()).done)&&(i.push(s.value),!e||i.length!==e);n=!0);}catch(t){r=!0,o=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}return i}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var o="undefined"==typeof window?null:window,s=o?o.navigator:null,a=t(""),h=t({}),l=t(function(){}),d="undefined"==typeof HTMLElement?"undefined":t(HTMLElement),u=function(t){return t&&t.instanceString&&f(t.instanceString)?t.instanceString():null},c=function(e){return null!=e&&t(e)==a},f=function(e){return null!=e&&t(e)===l},p=function(t){return Array.isArray?Array.isArray(t):null!=t&&t instanceof Array},g=function(e){return null!=e&&t(e)===h&&!p(e)&&e.constructor===Object},m=function(e){return null!=e&&t(e)===t(1)&&!isNaN(e)},v=function(t){return"undefined"===d?void 0:null!=t&&t instanceof HTMLElement},y=function(t){return b(t)||w(t)},b=function(t){return"collection"===u(t)&&t._private.single},w=function(t){return"collection"===u(t)&&!t._private.single},x=function(t){return"core"===u(t)},_=function(t){return"stylesheet"===u(t)},k=function(t){return null==t||!(""!==t&&!t.match(/^\s+$/))},S=function(e){return function(e){return null!=e&&t(e)===h}(e)&&f(e.then)},M=function(){return s&&s.userAgent.match(/msie|trident|edge/i)},C=function(t,e){e||(e=function(){if(1===arguments.length)return arguments[0];if(0===arguments.length)return"undefined";for(var t=[],e=0;e<arguments.length;e++)t.push(arguments[e]);return t.join("$")});var i=function i(){var n,r=arguments,o=e.apply(this,r),s=i.cache;return(n=s[o])||(n=s[o]=t.apply(this,r)),n};return i.cache={},i},E=C(function(t){return t.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})}),N=C(function(t){return t.replace(/(-\w)/g,function(t){return t[1].toUpperCase()})}),A=C(function(t,e){return t+e[0].toUpperCase()+e.substring(1)},function(t,e){return t+"$"+e}),D=function(t){return k(t)?t:t.charAt(0).toUpperCase()+t.substring(1)},T="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",L=function(t,e){return t<e?-1:t>e?1:0},O=null!=Object.assign?Object.assign.bind(Object):function(t){for(var e=arguments,i=1;i<e.length;i++){var n=e[i];if(null!=n)for(var r=Object.keys(n),o=0;o<r.length;o++){var s=r[o];t[s]=n[s]}}return t},P=function(t){return(p(t)?t:null)||function(t){return I[t.toLowerCase()]}(t)||function(t){var e,i,n;if((4===t.length||7===t.length)&&"#"===t[0])return 4===t.length?(e=parseInt(t[1]+t[1],16),i=parseInt(t[2]+t[2],16),n=parseInt(t[3]+t[3],16)):(e=parseInt(t[1]+t[2],16),i=parseInt(t[3]+t[4],16),n=parseInt(t[5]+t[6],16)),[e,i,n]}(t)||function(t){var e,i=new RegExp("^rgb[a]?\\(((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)(?:\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)$").exec(t);if(i){e=[];for(var n=[],r=1;r<=3;r++){var o=i[r];if("%"===o[o.length-1]&&(n[r]=!0),o=parseFloat(o),n[r]&&(o=o/100*255),o<0||o>255)return;e.push(Math.floor(o))}if((n[1]||n[2]||n[3])&&!(n[1]&&n[2]&&n[3]))return;var s=i[4];if(void 0!==s){if((s=parseFloat(s))<0||s>1)return;e.push(s)}}return e}(t)||function(t){var e,i,n,r,o,s,a,h;function l(t,e,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+6*(e-t)*i:i<.5?e:i<2/3?t+(e-t)*(2/3-i)*6:t}var d=new RegExp("^hsl[a]?\\(((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?)))\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])(?:\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)$").exec(t);if(d){if((i=parseInt(d[1]))<0?i=(360- -1*i%360)%360:i>360&&(i%=360),i/=360,(n=parseFloat(d[2]))<0||n>100)return;if(n/=100,(r=parseFloat(d[3]))<0||r>100)return;if(r/=100,void 0!==(o=d[4])&&((o=parseFloat(o))<0||o>1))return;if(0===n)s=a=h=Math.round(255*r);else{var u=r<.5?r*(1+n):r+n-r*n,c=2*r-u;s=Math.round(255*l(c,u,i+1/3)),a=Math.round(255*l(c,u,i)),h=Math.round(255*l(c,u,i-1/3))}e=[s,a,h,o]}return e}(t)},I={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},B=function(t){for(var e=t.map,i=t.keys,n=i.length,r=0;r<n;r++){var o=i[r];if(g(o))throw Error("Tried to set map with object key");r<i.length-1?(null==e[o]&&(e[o]={}),e=e[o]):e[o]=t.value}},R=function(t){for(var e=t.map,i=t.keys,n=i.length,r=0;r<n;r++){var o=i[r];if(g(o))throw Error("Tried to get map with object key");if(null==(e=e[o]))return e}return e},F="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},z=NaN,j="[object Symbol]",q=/^\s+|\s+$/g,H=/^[-+]0x[0-9a-f]+$/i,W=/^0b[01]+$/i,U=/^0o[0-7]+$/i,V=parseInt,Y="object"==typeof F&&F&&F.Object===Object&&F,G="object"==typeof self&&self&&self.Object===Object&&self,X=Y||G||Function("return this")(),K=Object.prototype.toString,Z=Math.max,Q=Math.min,$=function(){return X.Date.now()};function J(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function tt(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&K.call(t)==j}(t))return z;if(J(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=J(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(q,"");var i=W.test(t);return i||U.test(t)?V(t.slice(2),i?2:8):H.test(t)?z:+t}var et=function(t,e,i){var n,r,o,s,a,h,l=0,d=!1,u=!1,c=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function f(e){var i=n,o=r;return n=r=void 0,l=e,s=t.apply(o,i)}function p(t){var i=t-h;return void 0===h||i>=e||i<0||u&&t-l>=o}function g(){var t=$();if(p(t))return m(t);a=setTimeout(g,function(t){var i=e-(t-h);return u?Q(i,o-(t-l)):i}(t))}function m(t){return a=void 0,c&&n?f(t):(n=r=void 0,s)}function v(){var t=$(),i=p(t);if(n=arguments,r=this,h=t,i){if(void 0===a)return function(t){return l=t,a=setTimeout(g,e),d?f(t):s}(h);if(u)return a=setTimeout(g,e),f(h)}return void 0===a&&(a=setTimeout(g,e)),s}return e=tt(e)||0,J(i)&&(d=!!i.leading,o=(u="maxWait"in i)?Z(tt(i.maxWait)||0,e):o,c="trailing"in i?!!i.trailing:c),v.cancel=function(){void 0!==a&&clearTimeout(a),l=0,n=h=r=a=void 0},v.flush=function(){return void 0===a?s:m($())},v},it=o?o.performance:null,nt=it&&it.now?function(){return it.now()}:function(){return Date.now()},rt=function(){if(o){if(o.requestAnimationFrame)return function(t){o.requestAnimationFrame(t)};if(o.mozRequestAnimationFrame)return function(t){o.mozRequestAnimationFrame(t)};if(o.webkitRequestAnimationFrame)return function(t){o.webkitRequestAnimationFrame(t)};if(o.msRequestAnimationFrame)return function(t){o.msRequestAnimationFrame(t)}}return function(t){t&&setTimeout(function(){t(nt())},1e3/60)}}(),ot=function(t){return rt(t)},st=nt,at=function(t){for(var e,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5381;!(e=t.next()).done;)i=(i<<5)+i+e.value|0;return i},ht=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5381;return(e<<5)+e+t|0},lt=function(t,e){var i={value:0,done:!1},n=0,r=t.length;return at({next:function(){return n<r?i.value=t[n++]:i.done=!0,i}},e)},dt=function(t,e){var i={value:0,done:!1},n=0,r=t.length;return at({next:function(){return n<r?i.value=t.charCodeAt(n++):i.done=!0,i}},e)},ut=function(){return ct(arguments)},ct=function(t){for(var e,i=0;i<t.length;i++){var n=t[i];e=0===i?dt(n):dt(n,e)}return e},ft=!0,pt=null!=console.warn,gt=null!=console.trace,mt=Number.MAX_SAFE_INTEGER||9007199254740991,vt=function(){return!0},yt=function(){return!1},bt=function(){return 0},wt=function(){},xt=function(t){throw new Error(t)},_t=function(t){if(void 0===t)return ft;ft=!!t},kt=function(t){_t()&&(pt?console.warn(t):(console.log(t),gt&&console.trace()))},St=function(t){return null==t?t:p(t)?t.slice():g(t)?function(t){return O({},t)}(t):t},Mt=function(t,e){for(e=t="";t++<36;e+=51*t&52?(15^t?8^Math.random()*(20^t?16:4):4).toString(16):"-");return e},Ct={},Et=function(){return Ct},Nt=function(t){var e=Object.keys(t);return function(i){for(var n={},r=0;r<e.length;r++){var o=e[r],s=null==i?void 0:i[o];n[o]=void 0===s?t[o]:s}return n}},At=function(t,e,i){for(var n=t.length;n>=0&&(t[n]!==e||(t.splice(n,1),i));n--);},Dt=function(t){t.splice(0,t.length)},Tt=function(t,e,i){return i&&(e=A(i,e)),t[e]},Lt=function(t,e,i,n){i&&(e=A(i,e)),t[e]=n},Ot="undefined"!=typeof Map?Map:function(){function t(){e(this,t),this._obj={}}return n(t,[{key:"set",value:function(t,e){return this._obj[t]=e,this}},{key:"delete",value:function(t){return this._obj[t]=void 0,this}},{key:"clear",value:function(){this._obj={}}},{key:"has",value:function(t){return void 0!==this._obj[t]}},{key:"get",value:function(t){return this._obj[t]}}]),t}(),Pt=function(){function t(i){if(e(this,t),this._obj=Object.create(null),this.size=0,null!=i){var n;n=null!=i.instanceString&&i.instanceString()===this.instanceString()?i.toArray():i;for(var r=0;r<n.length;r++)this.add(n[r])}}return n(t,[{key:"instanceString",value:function(){return"set"}},{key:"add",value:function(t){var e=this._obj;1!==e[t]&&(e[t]=1,this.size++)}},{key:"delete",value:function(t){var e=this._obj;1===e[t]&&(e[t]=0,this.size--)}},{key:"clear",value:function(){this._obj=Object.create(null)}},{key:"has",value:function(t){return 1===this._obj[t]}},{key:"toArray",value:function(){var t=this;return Object.keys(this._obj).filter(function(e){return t.has(e)})}},{key:"forEach",value:function(t,e){return this.toArray().forEach(t,e)}}]),t}(),It="undefined"!==("undefined"==typeof Set?"undefined":t(Set))?Set:Pt,Bt=function(t,e,i){if(i=!(void 0!==i&&!i),void 0!==t&&void 0!==e&&x(t)){var n=e.group;if(null==n&&(n=e.data&&null!=e.data.source&&null!=e.data.target?"edges":"nodes"),"nodes"===n||"edges"===n){this.length=1,this[0]=this;var r=this._private={cy:t,single:!0,data:e.data||{},position:e.position||{x:0,y:0},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:n,style:{},rstyle:{},styleCxts:[],styleKeys:{},removed:!0,selected:!!e.selected,selectable:void 0===e.selectable||!!e.selectable,locked:!!e.locked,grabbed:!1,grabbable:void 0===e.grabbable||!!e.grabbable,pannable:void 0===e.pannable?"edges"===n:!!e.pannable,active:!1,classes:new It,animation:{current:[],queue:[]},rscratch:{},scratch:e.scratch||{},edges:[],children:[],parent:null,traversalCache:{},backgrounding:!1,bbCache:null,bbCacheShift:{x:0,y:0},bodyBounds:null,overlayBounds:null,labelBounds:{all:null,source:null,target:null,main:null},arrowBounds:{source:null,target:null,"mid-source":null,"mid-target":null}};if(null==r.position.x&&(r.position.x=0),null==r.position.y&&(r.position.y=0),e.renderedPosition){var o=e.renderedPosition,s=t.pan(),a=t.zoom();r.position={x:(o.x-s.x)/a,y:(o.y-s.y)/a}}var h=[];p(e.classes)?h=e.classes:c(e.classes)&&(h=e.classes.split(/\s+/));for(var l=0,d=h.length;l<d;l++){var u=h[l];u&&""!==u&&r.classes.add(u)}this.createEmitter();var f=e.style||e.css;f&&(kt("Setting a `style` bypass at element creation is deprecated"),this.style(f)),(void 0===i||i)&&this.restore()}else xt("An element must be of type `nodes` or `edges`; you specified `"+n+"`")}else xt("An element must have a core reference and parameters set")},Rt=function(t){return t={bfs:t.bfs||!t.dfs,dfs:t.dfs||!t.bfs},function(e,i,n){var r;g(e)&&!y(e)&&(e=(r=e).roots||r.root,i=r.visit,n=r.directed),n=2!==arguments.length||f(i)?n:i,i=f(i)?i:function(){};for(var o,s=this._private.cy,a=e=c(e)?this.filter(e):e,h=[],l=[],d={},u={},p={},m=0,v=this.byGroup(),b=v.nodes,w=v.edges,x=0;x<a.length;x++){var _=a[x],k=_.id();_.isNode()&&(h.unshift(_),t.bfs&&(p[k]=!0,l.push(_)),u[k]=0)}var S=function(){var e=t.bfs?h.shift():h.pop(),r=e.id();if(t.dfs){if(p[r])return"continue";p[r]=!0,l.push(e)}var s,a=u[r],c=d[r],f=null!=c?c.source():null,g=null!=c?c.target():null,v=null==c?void 0:e.same(f)?g[0]:f[0];if(!0===(s=i(e,c,v,m++,a)))return o=e,"break";if(!1===s)return"break";for(var y=e.connectedEdges().filter(function(t){return(!n||t.source().same(e))&&w.has(t)}),x=0;x<y.length;x++){var _=y[x],k=_.connectedNodes().filter(function(t){return!t.same(e)&&b.has(t)}),S=k.id();0===k.length||p[S]||(h.push(k=k[0]),t.bfs&&(p[S]=!0,l.push(k)),d[S]=_,u[S]=u[r]+1)}};t:for(;0!==h.length;)switch(S()){case"continue":continue;case"break":break t}for(var M=s.collection(),C=0;C<l.length;C++){var E=l[C],N=d[E.id()];null!=N&&M.merge(N),M.merge(E)}return{path:s.collection(M),found:s.collection(o)}}},Ft={breadthFirstSearch:Rt({bfs:!0}),depthFirstSearch:Rt({dfs:!0})};Ft.bfs=Ft.breadthFirstSearch,Ft.dfs=Ft.depthFirstSearch;var zt=function(t,e){return function(t,e){(function(){var e,i,n,r,o,s,a,h,l,d,u,c,f,p,g;n=Math.floor,d=Math.min,i=function(t,e){return t<e?-1:t>e?1:0},l=function(t,e,r,o,s){var a;if(null==r&&(r=0),null==s&&(s=i),r<0)throw new Error("lo must be non-negative");for(null==o&&(o=t.length);r<o;)s(e,t[a=n((r+o)/2)])<0?o=a:r=a+1;return[].splice.apply(t,[r,r-r].concat(e)),e},s=function(t,e,n){return null==n&&(n=i),t.push(e),p(t,0,t.length-1,n)},o=function(t,e){var n,r;return null==e&&(e=i),n=t.pop(),t.length?(r=t[0],t[0]=n,g(t,0,e)):r=n,r},h=function(t,e,n){var r;return null==n&&(n=i),r=t[0],t[0]=e,g(t,0,n),r},a=function(t,e,n){var r;return null==n&&(n=i),t.length&&n(t[0],e)<0&&(e=(r=[t[0],e])[0],t[0]=r[1],g(t,0,n)),e},r=function(t,e){var r,o,s,a,h;for(null==e&&(e=i),a=[],r=0,o=(s=(function(){h=[];for(var e=0,i=n(t.length/2);0<=i?e<i:e>i;0<=i?e++:e--)h.push(e);return h}).apply(this).reverse()).length;r<o;r++)a.push(g(t,s[r],e));return a},f=function(t,e,n){var r;if(null==n&&(n=i),-1!==(r=t.indexOf(e)))return p(t,0,r,n),g(t,r,n)},u=function(t,e,n){var o,s,h,l;if(null==n&&(n=i),!(o=t.slice(0,e)).length)return o;for(r(o,n),s=0,h=(l=t.slice(e)).length;s<h;s++)a(o,l[s],n);return o.sort(n).reverse()},c=function(t,e,n){var s,a,h,u,c,f,p,g,m;if(null==n&&(n=i),10*e<=t.length){if(!(h=t.slice(0,e).sort(n)).length)return h;for(a=h[h.length-1],u=0,f=(p=t.slice(e)).length;u<f;u++)n(s=p[u],a)<0&&(l(h,s,0,null,n),h.pop(),a=h[h.length-1]);return h}for(r(t,n),m=[],c=0,g=d(e,t.length);0<=g?c<g:c>g;0<=g?++c:--c)m.push(o(t,n));return m},p=function(t,e,n,r){var o,s,a;for(null==r&&(r=i),o=t[n];n>e&&r(o,s=t[a=n-1>>1])<0;)t[n]=s,n=a;return t[n]=o},g=function(t,e,n){var r,o,s,a,h;for(null==n&&(n=i),o=t.length,h=e,s=t[e],r=2*e+1;r<o;)(a=r+1)<o&&!(n(t[r],t[a])<0)&&(r=a),t[e]=t[r],r=2*(e=r)+1;return t[e]=s,p(t,h,e,n)},e=function(){function t(t){this.cmp=null!=t?t:i,this.nodes=[]}return t.push=s,t.pop=o,t.replace=h,t.pushpop=a,t.heapify=r,t.updateItem=f,t.nlargest=u,t.nsmallest=c,t.prototype.push=function(t){return s(this.nodes,t,this.cmp)},t.prototype.pop=function(){return o(this.nodes,this.cmp)},t.prototype.peek=function(){return this.nodes[0]},t.prototype.contains=function(t){return-1!==this.nodes.indexOf(t)},t.prototype.replace=function(t){return h(this.nodes,t,this.cmp)},t.prototype.pushpop=function(t){return a(this.nodes,t,this.cmp)},t.prototype.heapify=function(){return r(this.nodes,this.cmp)},t.prototype.updateItem=function(t){return f(this.nodes,t,this.cmp)},t.prototype.clear=function(){return this.nodes=[]},t.prototype.empty=function(){return 0===this.nodes.length},t.prototype.size=function(){return this.nodes.length},t.prototype.clone=function(){var e;return(e=new t).nodes=this.nodes.slice(0),e},t.prototype.toArray=function(){return this.nodes.slice(0)},t.prototype.insert=t.prototype.push,t.prototype.top=t.prototype.peek,t.prototype.front=t.prototype.peek,t.prototype.has=t.prototype.contains,t.prototype.copy=t.prototype.clone,t}(),t.exports=e}).call(F)}(e={exports:{}}),e.exports}(),jt=Nt({root:null,weight:function(t){return 1},directed:!1}),qt={dijkstra:function(t){if(!g(t)){var e=arguments;t={root:e[0],weight:e[1],directed:e[2]}}var i=jt(t),n=i.root,r=i.weight,o=i.directed,s=this,a=r,h=c(n)?this.filter(n)[0]:n[0],l={},d={},u={},f=this.byGroup(),p=f.nodes,m=f.edges;m.unmergeBy(function(t){return t.isLoop()});for(var v=function(t){return l[t.id()]},y=function(t,e){l[t.id()]=e,b.updateItem(t)},b=new zt(function(t,e){return v(t)-v(e)}),w=0;w<p.length;w++){var x=p[w];l[x.id()]=x.same(h)?0:1/0,b.push(x)}for(var _=function(t,e){for(var i,n=(o?t.edgesTo(e):t.edgesWith(e)).intersect(m),r=1/0,s=0;s<n.length;s++){var h=n[s],l=a(h);(l<r||!i)&&(r=l,i=h)}return{edge:i,dist:r}};b.size()>0;){var k=b.pop(),S=v(k),M=k.id();if(u[M]=S,S!==1/0)for(var C=k.neighborhood().intersect(p),E=0;E<C.length;E++){var N=C[E],A=N.id(),D=_(k,N),T=S+D.dist;T<v(N)&&(y(N,T),d[A]={node:k,edge:D.edge})}}return{distanceTo:function(t){var e=c(t)?p.filter(t)[0]:t[0];return u[e.id()]},pathTo:function(t){var e=c(t)?p.filter(t)[0]:t[0],i=[],n=e,r=n.id();if(e.length>0)for(i.unshift(e);d[r];){var o=d[r];i.unshift(o.edge),i.unshift(o.node),r=(n=o.node).id()}return s.spawn(i)}}}},Ht={kruskal:function(t){t=t||function(t){return 1};for(var e=this.byGroup(),i=e.nodes,n=e.edges,r=i.length,o=new Array(r),s=i,a=function(t){for(var e=0;e<o.length;e++)if(o[e].has(t))return e},h=0;h<r;h++)o[h]=this.spawn(i[h]);for(var l=n.sort(function(e,i){return t(e)-t(i)}),d=0;d<l.length;d++){var u=l[d],c=u.source()[0],f=u.target()[0],p=a(c),g=a(f),m=o[p],v=o[g];p!==g&&(s.merge(u),m.merge(v),o.splice(g,1))}return s}},Wt=Nt({root:null,goal:null,weight:function(t){return 1},heuristic:function(t){return 0},directed:!1}),Ut={aStar:function(t){var e=this.cy(),i=Wt(t),n=i.root,r=i.goal,o=i.heuristic,s=i.directed,a=i.weight;n=e.collection(n)[0],r=e.collection(r)[0];var h,l,d=n.id(),u=r.id(),c={},f={},p={},g=new zt(function(t,e){return f[t.id()]-f[e.id()]}),m=new It,v={},y={},b=function(t,e){g.push(t),m.add(e)};b(n,d),c[d]=0,f[d]=o(n);for(var w=0;g.size()>0;){if(l=(h=g.pop()).id(),m.delete(l),w++,l===u){for(var x=[],_=r,k=u,S=y[k];x.unshift(_),null!=S&&x.unshift(S),null!=(_=v[k]);)S=y[k=_.id()];return{found:!0,distance:c[l],path:this.spawn(x),steps:w}}p[l]=!0;for(var M=h._private.edges,C=0;C<M.length;C++){var E=M[C];if(this.hasElementWithId(E.id())&&(!s||E.data("source")===l)){var N=E.source(),A=E.target(),D=N.id()!==l?N:A,T=D.id();if(this.hasElementWithId(T)&&!p[T]){var L=c[l]+a(E);m.has(T)?L<c[T]&&(c[T]=L,f[T]=L+o(D),v[T]=h):(c[T]=L,f[T]=L+o(D),b(D,T),v[T]=h,y[T]=E)}}}}return{found:!1,distance:void 0,path:void 0,steps:w}}},Vt=Nt({weight:function(t){return 1},directed:!1}),Yt={floydWarshall:function(t){for(var e=this.cy(),i=Vt(t),n=i.directed,r=i.weight,o=this.byGroup(),s=o.nodes,a=o.edges,h=s.length,l=h*h,d=function(t){return s.indexOf(t)},u=function(t){return s[t]},f=new Array(l),p=0;p<l;p++){var g=p%h;f[p]=(p-g)/h===g?0:1/0}for(var m=new Array(l),v=new Array(l),y=0;y<a.length;y++){var b=a[y],w=b.source()[0],x=b.target()[0];if(w!==x){var _=d(w),k=d(x),S=_*h+k,M=r(b);if(f[S]>M&&(f[S]=M,m[S]=k,v[S]=b),!n){var C=k*h+_;!n&&f[C]>M&&(f[C]=M,m[C]=_,v[C]=b)}}}for(var E=0;E<h;E++)for(var N=0;N<h;N++)for(var A=N*h+E,D=0;D<h;D++){var T=N*h+D,L=E*h+D;f[A]+f[L]<f[T]&&(f[T]=f[A]+f[L],m[T]=m[A])}var O=function(t){return d(function(t){return(c(t)?e.filter(t):t)[0]}(t))};return{distance:function(t,e){var i=O(t),n=O(e);return f[i*h+n]},path:function(t,i){var n=O(t),r=O(i),o=u(n);if(n===r)return o.collection();if(null==m[n*h+r])return e.collection();var s=e.collection();for(s.merge(o);n!==r;)s.merge(v[n*h+(n=m[n*h+r])]),s.merge(u(n));return s}}}},Gt=Nt({weight:function(t){return 1},directed:!1,root:null}),Xt={bellmanFord:function(t){var e=this,i=Gt(t),n=i.directed,r=i.root,o=i.weight,s=this,a=this.cy(),h=this.byGroup(),l=h.edges,d=h.nodes,u=d.length,f=new Ot,p=!1;r=a.collection(r)[0],l.unmergeBy(function(t){return t.isLoop()});for(var g=l.length,m=function(t){var e=f.get(t.id());return e||(e={},f.set(t.id(),e)),e},v=function(t){return(c(t)?a.$(t):t)[0]},y=0;y<u;y++){var b=d[y],w=m(b);w.dist=b.same(r)?0:1/0,w.pred=null,w.edge=null}for(var x=!1,_=function(t,e,i,n,r,o){var s=n.dist+o;s<r.dist&&!i.same(n.edge)&&(r.dist=s,r.pred=t,r.edge=i,x=!0)},k=1;k<u;k++){x=!1;for(var S=0;S<g;S++){var M=l[S],C=M.source(),E=M.target(),N=o(M),A=m(C),D=m(E);_(C,0,M,A,D,N),n||_(E,0,M,D,A,N)}if(!x)break}if(x)for(var T=0;T<g;T++){var L=l[T],O=L.source(),P=L.target(),I=o(L),B=m(O).dist,R=m(P).dist;if(B+I<R||!n&&R+I<B){kt("Graph contains a negative weight cycle for Bellman-Ford"),p=!0;break}}return{distanceTo:function(t){return m(v(t)).dist},pathTo:function(t){for(var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r,n=[],o=v(t);;){if(null==o)return e.spawn();var a=m(o),h=a.edge,l=a.pred;if(n.unshift(o[0]),o.same(i)&&n.length>0)break;null!=h&&n.unshift(h),o=l}return s.spawn(n)},hasNegativeWeightCycle:p,negativeWeightCycles:[]}}},Kt=Math.sqrt(2),Zt=function(t,e,i){0===i.length&&xt("Karger-Stein must be run on a connected (sub)graph");for(var n=i[t],r=e[n[1]],o=e[n[2]],s=i,a=s.length-1;a>=0;a--){var h=s[a],l=h[1],d=h[2];(e[l]===r&&e[d]===o||e[l]===o&&e[d]===r)&&s.splice(a,1)}for(var u=0;u<s.length;u++){var c=s[u];c[1]===o?(s[u]=c.slice(),s[u][1]=r):c[2]===o&&(s[u]=c.slice(),s[u][2]=r)}for(var f=0;f<e.length;f++)e[f]===o&&(e[f]=r);return s},Qt=function(t,e,i,n){for(;i>n;){var r=Math.floor(Math.random()*e.length);e=Zt(r,t,e),i--}return e},$t={kargerStein:function(){var t=this.byGroup(),e=t.nodes,i=t.edges;i.unmergeBy(function(t){return t.isLoop()});var n=e.length,r=i.length,o=Math.ceil(Math.pow(Math.log(n)/Math.LN2,2)),s=Math.floor(n/Kt);if(!(n<2)){for(var a=[],h=0;h<r;h++){var l=i[h];a.push([h,e.indexOf(l.source()),e.indexOf(l.target())])}for(var d=1/0,u=[],c=new Array(n),f=new Array(n),p=new Array(n),g=function(t,e){for(var i=0;i<n;i++)e[i]=t[i]},m=0;m<=o;m++){for(var v=0;v<n;v++)f[v]=v;var y=Qt(f,a.slice(),n,s),b=y.slice();g(f,p);var w=Qt(f,y,s,2),x=Qt(p,b,s,2);w.length<=x.length&&w.length<d?(d=w.length,u=w,g(f,c)):x.length<=w.length&&x.length<d&&(d=x.length,u=x,g(p,c))}for(var _=this.spawn(u.map(function(t){return i[t[0]]})),k=this.spawn(),S=this.spawn(),M=c[0],C=0;C<c.length;C++){var E=e[C];c[C]===M?k.merge(E):S.merge(E)}return{cut:_,partition1:k,partition2:S}}xt("At least 2 nodes are required for Karger-Stein algorithm")}},Jt=function(t,e,i){return{x:t.x*e+i.x,y:t.y*e+i.y}},te=function(t,e,i){return{x:(t.x-i.x)/e,y:(t.y-i.y)/e}},ee=function(t){return{x:t[0],y:t[1]}},ie=function(t,e){return Math.atan2(e,t)-Math.PI/2},ne=Math.log2||function(t){return Math.log(t)/Math.log(2)},re=function(t){return t>0?1:t<0?-1:0},oe=function(t,e){return Math.sqrt(se(t,e))},se=function(t,e){var i=e.x-t.x,n=e.y-t.y;return i*i+n*n},ae=function(t){for(var e=t.length,i=0,n=0;n<e;n++)i+=t[n];for(var r=0;r<e;r++)t[r]=t[r]/i;return t},he=function(t,e,i,n){return(1-n)*(1-n)*t+2*(1-n)*n*e+n*n*i},le=function(t,e,i,n){return{x:he(t.x,e.x,i.x,n),y:he(t.y,e.y,i.y,n)}},de=function(t,e,i){return Math.max(t,Math.min(i,e))},ue=function(t){if(null==t)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(null!=t.x1&&null!=t.y1){if(null!=t.x2&&null!=t.y2&&t.x2>=t.x1&&t.y2>=t.y1)return{x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y2,w:t.x2-t.x1,h:t.y2-t.y1};if(null!=t.w&&null!=t.h&&t.w>=0&&t.h>=0)return{x1:t.x1,y1:t.y1,x2:t.x1+t.w,y2:t.y1+t.h,w:t.w,h:t.h}}},ce=function(t,e,i){t.x1=Math.min(t.x1,e),t.x2=Math.max(t.x2,e),t.w=t.x2-t.x1,t.y1=Math.min(t.y1,i),t.y2=Math.max(t.y2,i),t.h=t.y2-t.y1},fe=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t.x1-=e,t.x2+=e,t.y1-=e,t.y2+=e,t.w=t.x2-t.x1,t.h=t.y2-t.y1,t},pe=function(t){var e,i,n,o,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0];if(1===s.length)e=i=n=o=s[0];else if(2===s.length)e=n=s[0],o=i=s[1];else if(4===s.length){var a=r(s,4);e=a[0],i=a[1],n=a[2],o=a[3]}return t.x1-=o,t.x2+=i,t.y1-=e,t.y2+=n,t.w=t.x2-t.x1,t.h=t.y2-t.y1,t},ge=function(t,e){t.x1=e.x1,t.y1=e.y1,t.x2=e.x2,t.y2=e.y2,t.w=t.x2-t.x1,t.h=t.y2-t.y1},me=function(t,e){t.x1+=e.x,t.x2+=e.x,t.y1+=e.y,t.y2+=e.y},ve=function(t,e){return!(t.x1>e.x2||e.x1>t.x2||t.x2<e.x1||e.x2<t.x1||t.y2<e.y1||e.y2<t.y1||t.y1>e.y2||e.y1>t.y2)},ye=function(t,e,i){return t.x1<=e&&e<=t.x2&&t.y1<=i&&i<=t.y2},be=function(t,e){return ye(t,e.x1,e.y1)&&ye(t,e.x2,e.y2)},we=function(t,e,i,n,r,o,s){var a,h=Fe(r,o),l=r/2,d=o/2,u=n-d-s;if((a=Le(t,e,i,n,i-l+h-s,u,i+l-h+s,u,!1)).length>0)return a;var c=i+l+s;if((a=Le(t,e,i,n,c,n-d+h-s,c,n+d-h+s,!1)).length>0)return a;var f=n+d+s;if((a=Le(t,e,i,n,i-l+h-s,f,i+l-h+s,f,!1)).length>0)return a;var p,g=i-l-s;if((a=Le(t,e,i,n,g,n-d+h-s,g,n+d-h+s,!1)).length>0)return a;var m=i-l+h,v=n-d+h;if((p=De(t,e,i,n,m,v,h+s)).length>0&&p[0]<=m&&p[1]<=v)return[p[0],p[1]];var y=i+l-h,b=n-d+h;if((p=De(t,e,i,n,y,b,h+s)).length>0&&p[0]>=y&&p[1]<=b)return[p[0],p[1]];var w=i+l-h,x=n+d-h;if((p=De(t,e,i,n,w,x,h+s)).length>0&&p[0]>=w&&p[1]>=x)return[p[0],p[1]];var _=i-l+h,k=n+d-h;return(p=De(t,e,i,n,_,k,h+s)).length>0&&p[0]<=_&&p[1]>=k?[p[0],p[1]]:[]},xe=function(t,e,i,n,r,o,s){var a=s,h=Math.min(i,r),l=Math.max(i,r),d=Math.min(n,o),u=Math.max(n,o);return h-a<=t&&t<=l+a&&d-a<=e&&e<=u+a},_e=function(t,e,i,n,r,o,s,a,h){var l=Math.min(i,s,r)-h,d=Math.max(i,s,r)+h,u=Math.min(n,a,o)-h,c=Math.max(n,a,o)+h;return!(t<l||t>d||e<u||e>c)},ke=function(t,e,i,n,r,o,s,a){var h=[];!function(t,e,i,n,r){var o,s,a,h,l,d,u,c;0===t&&(t=1e-5),a=-27*(n/=t)+(e/=t)*(9*(i/=t)-e*e*2),o=(s=(3*i-e*e)/9)*s*s+(a/=54)*a,r[1]=0,u=e/3,o>0?(l=(l=a+Math.sqrt(o))<0?-Math.pow(-l,1/3):Math.pow(l,1/3),d=(d=a-Math.sqrt(o))<0?-Math.pow(-d,1/3):Math.pow(d,1/3),r[0]=-u+l+d,r[4]=r[2]=-(u+=(l+d)/2),u=Math.sqrt(3)*(-d+l)/2,r[3]=u,r[5]=-u):(r[5]=r[3]=0,0===o?(c=a<0?-Math.pow(-a,1/3):Math.pow(a,1/3),r[0]=2*c-u,r[4]=r[2]=-(c+u)):(h=(s=-s)*s*s,h=Math.acos(a/Math.sqrt(h)),c=2*Math.sqrt(s),r[0]=-u+c*Math.cos(h/3),r[2]=-u+c*Math.cos((h+2*Math.PI)/3),r[4]=-u+c*Math.cos((h+4*Math.PI)/3)))}(1*i*i-4*i*r+2*i*s+4*r*r-4*r*s+s*s+n*n-4*n*o+2*n*a+4*o*o-4*o*a+a*a,9*i*r-3*i*i-3*i*s-6*r*r+3*r*s+9*n*o-3*n*n-3*n*a-6*o*o+3*o*a,3*i*i-6*i*r+i*s-i*t+2*r*r+2*r*t-s*t+3*n*n-6*n*o+n*a-n*e+2*o*o+2*o*e-a*e,1*i*r-i*i+i*t-r*t+n*o-n*n+n*e-o*e,h);for(var l=[],d=0;d<6;d+=2)Math.abs(h[d+1])<1e-7&&h[d]>=0&&h[d]<=1&&l.push(h[d]);l.push(1),l.push(0);for(var u,c,f,p=-1,g=0;g<l.length;g++)u=Math.pow(1-l[g],2)*i+2*(1-l[g])*l[g]*r+l[g]*l[g]*s,c=Math.pow(1-l[g],2)*n+2*(1-l[g])*l[g]*o+l[g]*l[g]*a,f=Math.pow(u-t,2)+Math.pow(c-e,2),p>=0?f<p&&(p=f):p=f;return p},Se=function(t,e,i,n,r,o){var s=[t-i,e-n],a=[r-i,o-n],h=a[0]*a[0]+a[1]*a[1],l=s[0]*s[0]+s[1]*s[1],d=s[0]*a[0]+s[1]*a[1],u=d*d/h;return d<0?l:u>h?(t-r)*(t-r)+(e-o)*(e-o):l-u},Me=function(t,e,i){for(var n,r,o,s,a=0,h=0;h<i.length/2;h++)if(r=i[2*h+1],h+1<i.length/2?(o=i[2*(h+1)],s=i[2*(h+1)+1]):(o=i[2*(h+1-i.length/2)],s=i[2*(h+1-i.length/2)+1]),(n=i[2*h])==t&&o==t);else{if(!(n>=t&&t>=o||n<=t&&t<=o))continue;(t-n)/(o-n)*(s-r)+r>e&&a++}return a%2!=0},Ce=function(t,e,i,n,r,o,s,a,h){var l,d=new Array(i.length);null!=a[0]?(l=Math.atan(a[1]/a[0]),a[0]<0?l+=Math.PI/2:l=-l-Math.PI/2):l=a;for(var u,c=Math.cos(-l),f=Math.sin(-l),p=0;p<d.length/2;p++)d[2*p]=o/2*(i[2*p]*c-i[2*p+1]*f),d[2*p+1]=s/2*(i[2*p+1]*c+i[2*p]*f),d[2*p]+=n,d[2*p+1]+=r;if(h>0){var g=Ne(d,-h);u=Ee(g)}else u=d;return Me(t,e,u)},Ee=function(t){for(var e,i,n,r,o=new Array(t.length/2),s=0;s<t.length/4;s++){s<t.length/4-1?(e=t[4*(s+1)],i=t[4*(s+1)+1],n=t[4*(s+1)+2],r=t[4*(s+1)+3]):(e=t[0],i=t[1],n=t[2],r=t[3]);var a=Le(t[4*s],t[4*s+1],t[4*s+2],t[4*s+3],e,i,n,r,!0);o[2*s]=a[0],o[2*s+1]=a[1]}return o},Ne=function(t,e){for(var i,n,r,o,s=new Array(2*t.length),a=0;a<t.length/2;a++){a<t.length/2-1?(r=t[2*(a+1)],o=t[2*(a+1)+1]):(r=t[0],o=t[1]);var h=o-(n=t[2*a+1]),l=-(r-(i=t[2*a])),d=Math.sqrt(h*h+l*l),u=h/d,c=l/d;s[4*a]=i+u*e,s[4*a+1]=n+c*e,s[4*a+2]=r+u*e,s[4*a+3]=o+c*e}return s},Ae=function(t,e,i,n,r,o,s){return t-=r,e-=o,(t/=i/2+s)*t+(e/=n/2+s)*e<=1},De=function(t,e,i,n,r,o,s){var a=[i-t,n-e],h=[t-r,e-o],l=a[0]*a[0]+a[1]*a[1],d=2*(h[0]*a[0]+h[1]*a[1]),u=d*d-4*l*(h[0]*h[0]+h[1]*h[1]-s*s);if(u<0)return[];var c=(-d+Math.sqrt(u))/(2*l),f=(-d-Math.sqrt(u))/(2*l),p=Math.min(c,f),g=Math.max(c,f),m=[];if(p>=0&&p<=1&&m.push(p),g>=0&&g<=1&&m.push(g),0===m.length)return[];var v=m[0]*a[0]+t,y=m[0]*a[1]+e;return m.length>1?m[0]==m[1]?[v,y]:[v,y,m[1]*a[0]+t,m[1]*a[1]+e]:[v,y]},Te=function(t,e,i){return e<=t&&t<=i||i<=t&&t<=e?t:t<=e&&e<=i||i<=e&&e<=t?e:i},Le=function(t,e,i,n,r,o,s,a,h){var l=t-r,d=i-t,u=s-r,c=e-o,f=n-e,p=a-o,g=u*c-p*l,m=d*c-f*l,v=p*d-u*f;if(0!==v){var y=g/v,b=m/v;return-.001<=y&&y<=1.001&&-.001<=b&&b<=1.001?[t+y*d,e+y*f]:h?[t+y*d,e+y*f]:[]}return 0===g||0===m?Te(t,i,s)===s?[s,a]:Te(t,i,r)===r?[r,o]:Te(r,s,i)===i?[i,n]:[]:[]},Oe=function(t,e,i,n,r,o,s,a){var h,l,d,u,c=[],f=new Array(i.length),p=!0;if(null==o&&(p=!1),p){for(var g=0;g<f.length/2;g++)f[2*g]=i[2*g]*o+n,f[2*g+1]=i[2*g+1]*s+r;if(a>0){var m=Ne(f,-a);l=Ee(m)}else l=f}else l=i;for(var v=0;v<l.length/2;v++)v<l.length/2-1?(d=l[2*(v+1)],u=l[2*(v+1)+1]):(d=l[0],u=l[1]),0!==(h=Le(t,e,n,r,l[2*v],l[2*v+1],d,u)).length&&c.push(h[0],h[1]);return c},Pe=function(t,e,i){var n=[t[0]-e[0],t[1]-e[1]],r=Math.sqrt(n[0]*n[0]+n[1]*n[1]),o=(r-i)/r;return o<0&&(o=1e-5),[e[0]+o*n[0],e[1]+o*n[1]]},Ie=function(t,e){var i=Re(t,e);return Be(i)},Be=function(t){for(var e,i,n=t.length/2,r=1/0,o=1/0,s=-1/0,a=-1/0,h=0;h<n;h++)e=t[2*h],i=t[2*h+1],r=Math.min(r,e),s=Math.max(s,e),o=Math.min(o,i),a=Math.max(a,i);for(var l=2/(s-r),d=2/(a-o),u=0;u<n;u++)e=t[2*u]=t[2*u]*l,i=t[2*u+1]=t[2*u+1]*d,r=Math.min(r,e),s=Math.max(s,e),o=Math.min(o,i),a=Math.max(a,i);if(o<-1)for(var c=0;c<n;c++)i=t[2*c+1]=t[2*c+1]+(-1-o);return t},Re=function(t,e){var i=1/t*2*Math.PI,n=t%2==0?Math.PI/2+i/2:Math.PI/2;n+=e;for(var r,o=new Array(2*t),s=0;s<t;s++)r=s*i+n,o[2*s]=Math.cos(r),o[2*s+1]=Math.sin(-r);return o},Fe=function(t,e){return Math.min(t/4,e/4,8)},ze=function(t,e){return{heightOffset:Math.min(15,.05*e),widthOffset:Math.min(100,.25*t),ctrlPtOffsetPct:.05}},je=Nt({dampingFactor:.8,precision:1e-6,iterations:200,weight:function(t){return 1}}),qe={pageRank:function(t){for(var e=je(t),i=e.dampingFactor,n=e.precision,r=e.iterations,o=e.weight,s=this._private.cy,a=this.byGroup(),h=a.nodes,l=a.edges,d=h.length,u=l.length,c=new Array(d*d),f=new Array(d),p=(1-i)/d,g=0;g<d;g++){for(var m=0;m<d;m++)c[g*d+m]=0;f[g]=0}for(var v=0;v<u;v++){var y=l[v],b=y.data("source"),w=y.data("target");if(b!==w){var x=h.indexOfId(b),_=h.indexOfId(w),k=o(y);c[_*d+x]+=k,f[x]+=k}}for(var S=1/d+p,M=0;M<d;M++)if(0===f[M])for(var C=0;C<d;C++)c[C*d+M]=S;else for(var E=0;E<d;E++){var N=E*d+M;c[N]=c[N]/f[M]+p}for(var A,D=new Array(d),T=new Array(d),L=0;L<d;L++)D[L]=1;for(var O=0;O<r;O++){for(var P=0;P<d;P++)T[P]=0;for(var I=0;I<d;I++)for(var B=0;B<d;B++)T[I]+=c[I*d+B]*D[B];ae(T),A=D,D=T,T=A;for(var R=0,F=0;F<d;F++){var z=A[F]-D[F];R+=z*z}if(R<n)break}return{rank:function(t){return t=s.collection(t)[0],D[h.indexOf(t)]}}}},He=Nt({root:null,weight:function(t){return 1},directed:!1,alpha:0}),We={degreeCentralityNormalized:function(t){t=He(t);var e=this.cy(),i=this.nodes(),n=i.length;if(t.directed){for(var r={},o={},s=0,a=0,h=0;h<n;h++){var l=i[h],d=l.id();t.root=l;var u=this.degreeCentrality(t);s<u.indegree&&(s=u.indegree),a<u.outdegree&&(a=u.outdegree),r[d]=u.indegree,o[d]=u.outdegree}return{indegree:function(t){return 0==s?0:(c(t)&&(t=e.filter(t)),r[t.id()]/s)},outdegree:function(t){return 0===a?0:(c(t)&&(t=e.filter(t)),o[t.id()]/a)}}}for(var f={},p=0,g=0;g<n;g++){var m=i[g];t.root=m;var v=this.degreeCentrality(t);p<v.degree&&(p=v.degree),f[m.id()]=v.degree}return{degree:function(t){return 0===p?0:(c(t)&&(t=e.filter(t)),f[t.id()]/p)}}},degreeCentrality:function(t){t=He(t);var e=this.cy(),i=this,n=t.root,r=t.weight,o=t.directed,s=t.alpha;if(n=e.collection(n)[0],o){for(var a=n.connectedEdges(),h=a.filter(function(t){return t.target().same(n)&&i.has(t)}),l=a.filter(function(t){return t.source().same(n)&&i.has(t)}),d=h.length,u=l.length,c=0,f=0,p=0;p<h.length;p++)c+=r(h[p]);for(var g=0;g<l.length;g++)f+=r(l[g]);return{indegree:Math.pow(d,1-s)*Math.pow(c,s),outdegree:Math.pow(u,1-s)*Math.pow(f,s)}}for(var m=n.connectedEdges().intersection(i),v=m.length,y=0,b=0;b<m.length;b++)y+=r(m[b]);return{degree:Math.pow(v,1-s)*Math.pow(y,s)}}};We.dc=We.degreeCentrality,We.dcn=We.degreeCentralityNormalised=We.degreeCentralityNormalized;var Ue=Nt({harmonic:!0,weight:function(){return 1},directed:!1,root:null}),Ve={closenessCentralityNormalized:function(t){for(var e=Ue(t),i=e.harmonic,n=e.weight,r=e.directed,o=this.cy(),s={},a=0,h=this.nodes(),l=this.floydWarshall({weight:n,directed:r}),d=0;d<h.length;d++){for(var u=0,f=h[d],p=0;p<h.length;p++)if(d!==p){var g=l.distance(f,h[p]);u+=i?1/g:g}i||(u=1/u),a<u&&(a=u),s[f.id()]=u}return{closeness:function(t){return 0==a?0:(t=c(t)?o.filter(t)[0].id():t.id(),s[t]/a)}}},closenessCentrality:function(t){var e=Ue(t),i=e.root,n=e.weight,r=e.directed,o=e.harmonic;i=this.filter(i)[0];for(var s=this.dijkstra({root:i,weight:n,directed:r}),a=0,h=this.nodes(),l=0;l<h.length;l++){var d=h[l];if(!d.same(i)){var u=s.distanceTo(d);a+=o?1/u:u}}return o?a:1/a}};Ve.cc=Ve.closenessCentrality,Ve.ccn=Ve.closenessCentralityNormalised=Ve.closenessCentralityNormalized;var Ye=Nt({weight:null,directed:!1}),Ge={betweennessCentrality:function(t){for(var e=Ye(t),i=e.directed,n=e.weight,r=null!=n,o=this.cy(),s=this.nodes(),a={},h={},l=0,d=function(t,e){h[t]=e,e>l&&(l=e)},u=function(t){return h[t]},c=0;c<s.length;c++){var f=s[c],p=f.id();a[p]=i?f.outgoers().nodes():f.openNeighborhood().nodes(),d(p,0)}for(var g=function(t){for(var e=s[t].id(),i=[],h={},l={},c={},f=new zt(function(t,e){return c[t]-c[e]}),p=0;p<s.length;p++){var g=s[p].id();h[g]=[],l[g]=0,c[g]=1/0}for(l[e]=1,c[e]=0,f.push(e);!f.empty();){var m=f.pop();if(i.push(m),r)for(var v=0;v<a[m].length;v++){var y,b=a[m][v],w=o.getElementById(m);y=w.edgesTo(b).length>0?w.edgesTo(b)[0]:b.edgesTo(w)[0];var x=n(y);b=b.id(),c[b]>c[m]+x&&(c[b]=c[m]+x,f.nodes.indexOf(b)<0?f.push(b):f.updateItem(b),l[b]=0,h[b]=[]),c[b]==c[m]+x&&(l[b]=l[b]+l[m],h[b].push(m))}else for(var _=0;_<a[m].length;_++){var k=a[m][_].id();c[k]==1/0&&(f.push(k),c[k]=c[m]+1),c[k]==c[m]+1&&(l[k]=l[k]+l[m],h[k].push(m))}}for(var S={},M=0;M<s.length;M++)S[s[M].id()]=0;for(;i.length>0;)for(var C=i.pop(),E=0;E<h[C].length;E++){var N=h[C][E];S[N]=S[N]+l[N]/l[C]*(1+S[C]),C!=s[t].id()&&d(C,u(C)+S[C])}},m=0;m<s.length;m++)g(m);var v={betweenness:function(t){var e=o.collection(t).id();return u(e)},betweennessNormalized:function(t){if(0==l)return 0;var e=o.collection(t).id();return u(e)/l}};return v.betweennessNormalised=v.betweennessNormalized,v}};Ge.bc=Ge.betweennessCentrality;var Xe=Nt({expandFactor:2,inflateFactor:2,multFactor:1,maxIterations:20,attributes:[function(t){return 1}]}),Ke=function(t,e){for(var i=0,n=0;n<e.length;n++)i+=e[n](t);return i},Ze=function(t,e){for(var i,n=0;n<e;n++){i=0;for(var r=0;r<e;r++)i+=t[r*e+n];for(var o=0;o<e;o++)t[o*e+n]=t[o*e+n]/i}},Qe=function(t,e,i){for(var n=new Array(i*i),r=0;r<i;r++){for(var o=0;o<i;o++)n[r*i+o]=0;for(var s=0;s<i;s++)for(var a=0;a<i;a++)n[r*i+a]+=t[r*i+s]*e[s*i+a]}return n},$e=function(t,e,i){for(var n=t.slice(0),r=1;r<i;r++)t=Qe(t,n,e);return t},Je=function(t,e,i){for(var n=new Array(e*e),r=0;r<e*e;r++)n[r]=Math.pow(t[r],i);return Ze(n,e),n},ti=function(t,e,i,n){for(var r=0;r<i;r++)if(Math.round(t[r]*Math.pow(10,n))/Math.pow(10,n)!=Math.round(e[r]*Math.pow(10,n))/Math.pow(10,n))return!1;return!0},ei=function(t,e){for(var i=0;i<t.length;i++)if(!e[i]||t[i].id()!==e[i].id())return!1;return!0},ii=function(t){for(var e=this.nodes(),i=this.edges(),n=this.cy(),r=function(t){return Xe(t)}(t),o={},s=0;s<e.length;s++)o[e[s].id()]=s;for(var a,h=e.length,l=h*h,d=new Array(l),u=0;u<l;u++)d[u]=0;for(var c=0;c<i.length;c++){var f=i[c],p=o[f.source().id()],g=o[f.target().id()],m=Ke(f,r.attributes);d[p*h+g]+=m,d[g*h+p]+=m}!function(t,e,i){for(var n=0;n<e;n++)t[n*e+n]=i}(d,h,r.multFactor),Ze(d,h);for(var v=!0,y=0;v&&y<r.maxIterations;)v=!1,a=$e(d,h,r.expandFactor),d=Je(a,h,r.inflateFactor),ti(d,a,l,4)||(v=!0),y++;return function(t){for(var e=0;e<t.length;e++)for(var i=0;i<t.length;i++)e!=i&&ei(t[e],t[i])&&t.splice(i,1);return t}(function(t,e,i,n){for(var r=[],o=0;o<e;o++){for(var s=[],a=0;a<e;a++)Math.round(1e3*t[o*e+a])/1e3>0&&s.push(i[a]);0!==s.length&&r.push(n.collection(s))}return r}(d,h,e,n))},ni={markovClustering:ii,mcl:ii},ri=function(t){return t},oi=function(t,e){return Math.abs(e-t)},si=function(t,e,i){return t+oi(e,i)},ai=function(t,e,i){return t+Math.pow(i-e,2)},hi=function(t){return Math.sqrt(t)},li=function(t,e,i){return Math.max(t,oi(e,i))},di=function(t,e,i,n,r){for(var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:ri,s=n,a=0;a<t;a++)s=r(s,e(a),i(a));return o(s)},ui={euclidean:function(t,e,i){return t>=2?di(t,e,i,0,ai,hi):di(t,e,i,0,si)},squaredEuclidean:function(t,e,i){return di(t,e,i,0,ai)},manhattan:function(t,e,i){return di(t,e,i,0,si)},max:function(t,e,i){return di(t,e,i,-1/0,li)}};function ci(t,e,i,n,r,o){var s;return s=f(t)?t:ui[t]||ui.euclidean,0===e&&f(t)?s(r,o):s(e,i,n,r,o)}ui["squared-euclidean"]=ui.squaredEuclidean,ui.squaredeuclidean=ui.squaredEuclidean;var fi=Nt({k:2,m:2,sensitivityThreshold:1e-4,distance:"euclidean",maxIterations:10,attributes:[],testMode:!1,testCentroids:null}),pi=function(t){return fi(t)},gi=function(t,e,i,n,r){var o="kMedoids"!==r?function(t){return i[t]}:function(t){return n[t](i)};return ci(t,n.length,o,function(t){return n[t](e)},i,e)},mi=function(t,e,i){for(var n=i.length,r=new Array(n),o=new Array(n),s=new Array(e),a=null,h=0;h<n;h++)r[h]=t.min(i[h]).value,o[h]=t.max(i[h]).value;for(var l=0;l<e;l++){a=[];for(var d=0;d<n;d++)a[d]=Math.random()*(o[d]-r[d])+r[d];s[l]=a}return s},vi=function(t,e,i,n,r){for(var o=1/0,s=0,a=0;a<e.length;a++){var h=gi(i,t,e[a],n,r);h<o&&(o=h,s=a)}return s},yi=function(t,e,i){for(var n=[],r=null,o=0;o<e.length;o++)i[(r=e[o]).id()]===t&&n.push(r);return n},bi=function(t,e,i){for(var n=0;n<t.length;n++)for(var r=0;r<t[n].length;r++)if(Math.abs(t[n][r]-e[n][r])>i)return!1;return!0},wi=function(t,e,i){for(var n=0;n<i;n++)if(t===e[n])return!0;return!1},xi=function(t,e){var i=new Array(e);if(t.length<50)for(var n=0;n<e;n++){for(var r=t[Math.floor(Math.random()*t.length)];wi(r,i,n);)r=t[Math.floor(Math.random()*t.length)];i[n]=r}else for(var o=0;o<e;o++)i[o]=t[Math.floor(Math.random()*t.length)];return i},_i=function(t,e,i){for(var n=0,r=0;r<e.length;r++)n+=gi("manhattan",e[r],t,i,"kMedoids");return n},ki=function(t,e,i,n,r){for(var o,s,a=0;a<e.length;a++)for(var h=0;h<t.length;h++)n[a][h]=Math.pow(i[a][h],r.m);for(var l=0;l<t.length;l++)for(var d=0;d<r.attributes.length;d++){o=0,s=0;for(var u=0;u<e.length;u++)o+=n[u][l]*r.attributes[d](e[u]),s+=n[u][l];t[l][d]=o/s}},Si=function(t,e,i,n,r){for(var o=0;o<t.length;o++)e[o]=t[o].slice();for(var s,a,h,l=2/(r.m-1),d=0;d<i.length;d++)for(var u=0;u<n.length;u++){s=0;for(var c=0;c<i.length;c++)a=gi(r.distance,n[u],i[d],r.attributes,"cmeans"),h=gi(r.distance,n[u],i[c],r.attributes,"cmeans"),s+=Math.pow(a/h,l);t[u][d]=1/s}},Mi=function(t){var e,i,n,r,o=this.cy(),s=this.nodes(),a=pi(t);n=new Array(s.length);for(var h=0;h<s.length;h++)n[h]=new Array(a.k);i=new Array(s.length);for(var l=0;l<s.length;l++)i[l]=new Array(a.k);for(var d=0;d<s.length;d++){for(var u=0,c=0;c<a.k;c++)i[d][c]=Math.random(),u+=i[d][c];for(var f=0;f<a.k;f++)i[d][f]=i[d][f]/u}e=new Array(a.k);for(var p=0;p<a.k;p++)e[p]=new Array(a.attributes.length);r=new Array(s.length);for(var g=0;g<s.length;g++)r[g]=new Array(a.k);for(var m=!0,v=0;m&&v<a.maxIterations;)m=!1,ki(e,s,i,r,a),Si(i,n,e,s,a),bi(i,n,a.sensitivityThreshold)||(m=!0),v++;return{clusters:function(t,e,i,n){for(var r,o,s=new Array(i.k),a=0;a<s.length;a++)s[a]=[];for(var h=0;h<e.length;h++){r=-1/0,o=-1;for(var l=0;l<e[0].length;l++)e[h][l]>r&&(r=e[h][l],o=l);s[o].push(t[h])}for(var d=0;d<s.length;d++)s[d]=n.collection(s[d]);return s}(s,i,a,o),degreeOfMembership:i}},Ci={kMeans:function(e){var i,n=this.cy(),r=this.nodes(),o=null,s=pi(e),a=new Array(s.k),h={};i=s.testMode?"number"==typeof s.testCentroids?mi(r,s.k,s.attributes):"object"===t(s.testCentroids)?s.testCentroids:mi(r,s.k,s.attributes):mi(r,s.k,s.attributes);for(var l,d=!0,u=0;d&&u<s.maxIterations;){for(var c=0;c<r.length;c++)h[(o=r[c]).id()]=vi(o,i,s.distance,s.attributes,"kMeans");d=!1;for(var f=0;f<s.k;f++){var p=yi(f,r,h);if(0!==p.length){for(var g=s.attributes.length,m=i[f],v=new Array(g),y=new Array(g),b=0;b<g;b++){y[b]=0;for(var w=0;w<p.length;w++)y[b]+=s.attributes[b](o=p[w]);v[b]=y[b]/p.length,l=s.sensitivityThreshold,Math.abs(m[b]-v[b])<=l||(d=!0)}i[f]=v,a[f]=n.collection(p)}}u++}return a},kMedoids:function(e){var i,n,r=this.cy(),o=this.nodes(),s=null,a=pi(e),h=new Array(a.k),l={},d=new Array(a.k);a.testMode?"number"==typeof a.testCentroids||(i="object"===t(a.testCentroids)?a.testCentroids:xi(o,a.k)):i=xi(o,a.k);for(var u=!0,c=0;u&&c<a.maxIterations;){for(var f=0;f<o.length;f++)l[(s=o[f]).id()]=vi(s,i,a.distance,a.attributes,"kMedoids");u=!1;for(var p=0;p<i.length;p++){var g=yi(p,o,l);if(0!==g.length){d[p]=_i(i[p],g,a.attributes);for(var m=0;m<g.length;m++)(n=_i(g[m],g,a.attributes))<d[p]&&(d[p]=n,i[p]=g[m],u=!0);h[p]=r.collection(g)}}c++}return h},fuzzyCMeans:Mi,fcm:Mi},Ei=Nt({distance:"euclidean",linkage:"min",mode:"threshold",threshold:1/0,addDendrogram:!1,dendrogramDepth:0,attributes:[]}),Ni={single:"min",complete:"max"},Ai=function(t,e,i,n,r){for(var o,s=0,a=1/0,h=r.attributes,l=function(t,e){return ci(r.distance,h.length,function(e){return h[e](t)},function(t){return h[t](e)},t,e)},d=0;d<t.length;d++){var u=t[d].key,c=i[u][n[u]];c<a&&(s=u,a=c)}if("threshold"===r.mode&&a>=r.threshold||"dendrogram"===r.mode&&1===t.length)return!1;var f,p=e[s],g=e[n[s]];f="dendrogram"===r.mode?{left:p,right:g,key:p.key}:{value:p.value.concat(g.value),key:p.key},t[p.index]=f,t.splice(g.index,1),e[p.key]=f;for(var m=0;m<t.length;m++){var v=t[m];p.key===v.key?o=1/0:"min"===r.linkage?(o=i[p.key][v.key],i[p.key][v.key]>i[g.key][v.key]&&(o=i[g.key][v.key])):"max"===r.linkage?(o=i[p.key][v.key],i[p.key][v.key]<i[g.key][v.key]&&(o=i[g.key][v.key])):o="mean"===r.linkage?(i[p.key][v.key]*p.size+i[g.key][v.key]*g.size)/(p.size+g.size):"dendrogram"===r.mode?l(v.value,p.value):l(v.value[0],p.value[0]),i[p.key][v.key]=i[v.key][p.key]=o}for(var y=0;y<t.length;y++){var b=t[y].key;if(n[b]===p.key||n[b]===g.key){for(var w=b,x=0;x<t.length;x++){var _=t[x].key;i[b][_]<i[b][w]&&(w=_)}n[b]=w}t[y].index=y}return p.key=g.key=p.index=g.index=null,!0},Di=function t(e,i,n){e&&(e.value?i.push(e.value):(e.left&&t(e.left,i),e.right&&t(e.right,i)))},Ti=function(t){for(var e=this.cy(),i=this.nodes(),n=function(t){var e=Ei(t),i=Ni[e.linkage];return null!=i&&(e.linkage=i),e}(t),r=n.attributes,o=function(t,e){return ci(n.distance,r.length,function(e){return r[e](t)},function(t){return r[t](e)},t,e)},s=[],a=[],h=[],l=[],d=0;d<i.length;d++){var u={value:"dendrogram"===n.mode?i[d]:[i[d]],key:d,index:d};s[d]=u,l[d]=u,a[d]=[],h[d]=0}for(var c=0;c<s.length;c++)for(var f=0;f<=c;f++){var p;p="dendrogram"===n.mode?c===f?1/0:o(s[c].value,s[f].value):c===f?1/0:o(s[c].value[0],s[f].value[0]),a[c][f]=p,a[f][c]=p,p<a[c][h[c]]&&(h[c]=f)}for(var g,m=Ai(s,l,a,h,n);m;)m=Ai(s,l,a,h,n);return"dendrogram"===n.mode?(g=function t(e,i,n){if(!e)return[];var r=[],o=[],s=[];return 0===i?(e.left&&Di(e.left,r),e.right&&Di(e.right,o),s=r.concat(o),[n.collection(s)]):1===i?e.value?[n.collection(e.value)]:(e.left&&Di(e.left,r),e.right&&Di(e.right,o),[n.collection(r),n.collection(o)]):e.value?[n.collection(e.value)]:(e.left&&(r=t(e.left,i-1,n)),e.right&&(o=t(e.right,i-1,n)),r.concat(o))}(s[0],n.dendrogramDepth,e),n.addDendrogram&&function t(e,i){if(!e)return"";if(e.left&&e.right){var n=t(e.left,i),r=t(e.right,i),o=i.add({group:"nodes",data:{id:n+","+r}});return i.add({group:"edges",data:{source:n,target:o.id()}}),i.add({group:"edges",data:{source:r,target:o.id()}}),o.id()}return e.value?e.value.id():void 0}(s[0],e)):(g=new Array(s.length),s.forEach(function(t,i){t.key=t.index=null,g[i]=e.collection(t.value)})),g},Li={hierarchicalClustering:Ti,hca:Ti},Oi=Nt({distance:"euclidean",preference:"median",damping:.8,maxIterations:1e3,minIterations:100,attributes:[]}),Pi=function(t,e,i,n){var r=function(t,e){return n[e](t)};return-ci(t,n.length,function(t){return r(e,t)},function(t){return r(i,t)},e,i)},Ii=function(t,e,i){for(var n=[],r=0;r<t;r++){for(var o=-1,s=-1/0,a=0;a<i.length;a++){var h=i[a];e[r*t+h]>s&&(o=h,s=e[r*t+h])}o>0&&n.push(o)}for(var l=0;l<i.length;l++)n[i[l]]=i[l];return n},Bi=function(t){for(var e,i,n,r,o,s,a=this.cy(),h=this.nodes(),l=function(t){var e=t.damping,i=t.preference;.5<=e&&e<1||xt("Damping must range on [0.5, 1).  Got: ".concat(e));var n=["median","mean","min","max"];return n.some(function(t){return t===i})||m(i)||xt("Preference must be one of [".concat(n.map(function(t){return"'".concat(t,"'")}).join(", "),"] or a number.  Got: ").concat(i)),Oi(t)}(t),d={},u=0;u<h.length;u++)d[h[u].id()]=u;i=(e=h.length)*e,n=new Array(i);for(var c=0;c<i;c++)n[c]=-1/0;for(var f=0;f<e;f++)for(var p=0;p<e;p++)f!==p&&(n[f*e+p]=Pi(l.distance,h[f],h[p],l.attributes));r=function(t,e){return"median"===e?function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.length,n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];n?t=t.slice(e,i):(i<t.length&&t.splice(i,t.length-i),e>0&&t.splice(0,e));for(var s=0,a=t.length-1;a>=0;a--){var h=t[a];o?isFinite(h)||(t[a]=-1/0,s++):t.splice(a,1)}r&&t.sort(function(t,e){return t-e});var l=t.length,d=Math.floor(l/2);return l%2!=0?t[d+1+s]:(t[d-1+s]+t[d+s])/2}(t):"mean"===e?function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.length,n=0,r=0,o=e;o<i;o++){var s=t[o];isFinite(s)&&(n+=s,r++)}return n/r}(t):"min"===e?function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.length,n=1/0,r=e;r<i;r++){var o=t[r];isFinite(o)&&(n=Math.min(o,n))}return n}(t):"max"===e?function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.length,n=-1/0,r=e;r<i;r++){var o=t[r];isFinite(o)&&(n=Math.max(o,n))}return n}(t):e}(n,l.preference);for(var g=0;g<e;g++)n[g*e+g]=r;o=new Array(i);for(var v=0;v<i;v++)o[v]=0;s=new Array(i);for(var y=0;y<i;y++)s[y]=0;for(var b=new Array(e),w=new Array(e),x=new Array(e),_=0;_<e;_++)b[_]=0,w[_]=0,x[_]=0;for(var k,S=new Array(e*l.minIterations),M=0;M<S.length;M++)S[M]=0;for(k=0;k<l.maxIterations;k++){for(var C=0;C<e;C++){for(var E=-1/0,N=-1/0,A=-1,D=0,T=0;T<e;T++)b[T]=o[C*e+T],(D=s[C*e+T]+n[C*e+T])>=E?(N=E,E=D,A=T):D>N&&(N=D);for(var L=0;L<e;L++)o[C*e+L]=(1-l.damping)*(n[C*e+L]-E)+l.damping*b[L];o[C*e+A]=(1-l.damping)*(n[C*e+A]-N)+l.damping*b[A]}for(var O=0;O<e;O++){for(var P=0,I=0;I<e;I++)b[I]=s[I*e+O],w[I]=Math.max(0,o[I*e+O]),P+=w[I];P-=w[O],w[O]=o[O*e+O],P+=w[O];for(var B=0;B<e;B++)s[B*e+O]=(1-l.damping)*Math.min(0,P-w[B])+l.damping*b[B];s[O*e+O]=(1-l.damping)*(P-w[O])+l.damping*b[O]}for(var R=0,F=0;F<e;F++){var z=s[F*e+F]+o[F*e+F]>0?1:0;S[k%l.minIterations*e+F]=z,R+=z}if(R>0&&(k>=l.minIterations-1||k==l.maxIterations-1)){for(var j=0,q=0;q<e;q++){x[q]=0;for(var H=0;H<l.minIterations;H++)x[q]+=S[H*e+q];0!==x[q]&&x[q]!==l.minIterations||j++}if(j===e)break}}for(var W=function(t,e,i){for(var n=[],r=0;r<t;r++)e[r*t+r]+i[r*t+r]>0&&n.push(r);return n}(e,o,s),U=function(t,e,i){for(var n=Ii(t,e,i),r=0;r<i.length;r++){for(var o=[],s=0;s<n.length;s++)n[s]===i[r]&&o.push(s);for(var a=-1,h=-1/0,l=0;l<o.length;l++){for(var d=0,u=0;u<o.length;u++)d+=e[o[u]*t+o[l]];d>h&&(a=l,h=d)}i[r]=o[a]}return Ii(t,e,i)}(e,n,W),V={},Y=0;Y<W.length;Y++)V[W[Y]]=[];for(var G=0;G<h.length;G++){var X=U[d[h[G].id()]];null!=X&&V[X].push(h[G])}for(var K=new Array(W.length),Z=0;Z<W.length;Z++)K[Z]=a.collection(V[W[Z]]);return K},Ri={};[Ft,qt,Ht,Ut,Yt,Xt,$t,qe,We,Ve,Ge,ni,Ci,Li,{affinityPropagation:Bi,ap:Bi}].forEach(function(t){O(Ri,t)});var Fi=function t(e){if(!(this instanceof t))return new t(e);this.id="Thenable/1.0.7",this.state=0,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},"function"==typeof e&&e.call(this,this.fulfill.bind(this),this.reject.bind(this))};Fi.prototype={fulfill:function(t){return zi(this,1,"fulfillValue",t)},reject:function(t){return zi(this,2,"rejectReason",t)},then:function(t,e){var i=new Fi;return this.onFulfilled.push(Hi(t,i,"fulfill")),this.onRejected.push(Hi(e,i,"reject")),ji(this),i.proxy}};var zi=function(t,e,i,n){return 0===t.state&&(t.state=e,t[i]=n,ji(t)),t},ji=function(t){1===t.state?qi(t,"onFulfilled",t.fulfillValue):2===t.state&&qi(t,"onRejected",t.rejectReason)},qi=function(t,e,i){if(0!==t[e].length){var n=t[e];t[e]=[];var r=function(){for(var t=0;t<n.length;t++)n[t](i)};"function"==typeof setImmediate?setImmediate(r):setTimeout(r,0)}},Hi=function(t,e,i){return function(n){if("function"!=typeof t)e[i].call(e,n);else{var r;try{r=t(n)}catch(t){return void e.reject(t)}Wi(e,r)}}},Wi=function e(i,n){if(i!==n&&i.proxy!==n){var r;if("object"===t(n)&&null!==n||"function"==typeof n)try{r=n.then}catch(t){return void i.reject(t)}if("function"!=typeof r)i.fulfill(n);else{var o=!1;try{r.call(n,function(t){o||(o=!0,t===n?i.reject(new TypeError("circular thenable chain")):e(i,t))},function(t){o||(o=!0,i.reject(t))})}catch(t){o||i.reject(t)}}}else i.reject(new TypeError("cannot resolve promise with itself"))};Fi.all=function(t){return new Fi(function(e,i){for(var n=new Array(t.length),r=0,o=function(i,o){n[i]=o,++r===t.length&&e(n)},s=0;s<t.length;s++)!function(e){var n=t[e];null!=n&&null!=n.then?n.then(function(t){o(e,t)},function(t){i(t)}):o(e,n)}(s)})},Fi.resolve=function(t){return new Fi(function(e,i){e(t)})},Fi.reject=function(t){return new Fi(function(e,i){i(t)})};var Ui="undefined"!=typeof Promise?Promise:Fi,Vi=function(t,e,i){var n=x(t),r=!n,o=this._private=O({duration:1e3},e,i);if(o.target=t,o.style=o.style||o.css,o.started=!1,o.playing=!1,o.hooked=!1,o.applying=!1,o.progress=0,o.completes=[],o.frames=[],o.complete&&f(o.complete)&&o.completes.push(o.complete),r){var s=t.position();o.startPosition=o.startPosition||{x:s.x,y:s.y},o.startStyle=o.startStyle||t.cy().style().getAnimationStartStyle(t,o.style)}if(n){var a=t.pan();o.startPan={x:a.x,y:a.y},o.startZoom=t.zoom()}this.length=1,this[0]=this},Yi=Vi.prototype;O(Yi,{instanceString:function(){return"animation"},hook:function(){var t=this._private;if(!t.hooked){var e=t.target._private.animation;(t.queue?e.queue:e.current).push(this),y(t.target)&&t.target.cy().addToAnimationPool(t.target),t.hooked=!0}return this},play:function(){var t=this._private;return 1===t.progress&&(t.progress=0),t.playing=!0,t.started=!1,t.stopped=!1,this.hook(),this},playing:function(){return this._private.playing},apply:function(){var t=this._private;return t.applying=!0,t.started=!1,t.stopped=!1,this.hook(),this},applying:function(){return this._private.applying},pause:function(){var t=this._private;return t.playing=!1,t.started=!1,this},stop:function(){var t=this._private;return t.playing=!1,t.started=!1,t.stopped=!0,this},rewind:function(){return this.progress(0)},fastforward:function(){return this.progress(1)},time:function(t){var e=this._private;return void 0===t?e.progress*e.duration:this.progress(t/e.duration)},progress:function(t){var e=this._private,i=e.playing;return void 0===t?e.progress:(i&&this.pause(),e.progress=t,e.started=!1,i&&this.play(),this)},completed:function(){return 1===this._private.progress},reverse:function(){var t=this._private,e=t.playing;e&&this.pause(),t.progress=1-t.progress,t.started=!1;var i=function(e,i){var n=t[e];null!=n&&(t[e]=t[i],t[i]=n)};if(i("zoom","startZoom"),i("pan","startPan"),i("position","startPosition"),t.style)for(var n=0;n<t.style.length;n++){var r=t.style[n],o=r.name,s=t.startStyle[o];t.startStyle[o]=r,t.style[n]=s}return e&&this.play(),this},promise:function(t){var e,i=this._private;switch(t){case"frame":e=i.frames;break;default:case"complete":case"completed":e=i.completes}return new Ui(function(t,i){e.push(function(){t()})})}}),Yi.complete=Yi.completed,Yi.run=Yi.play,Yi.running=Yi.playing;var Gi={};[{animated:function(){return function(){var t=void 0!==this.length?this:[this];if(!(this._private.cy||this).styleEnabled())return!1;var e=t[0];return e?e._private.animation.current.length>0:void 0}},clearQueue:function(){return function(){var t=void 0!==this.length?this:[this];if(!(this._private.cy||this).styleEnabled())return this;for(var e=0;e<t.length;e++)t[e]._private.animation.queue=[];return this}},delay:function(){return function(t,e){return(this._private.cy||this).styleEnabled()?this.animate({delay:t,duration:t,complete:e}):this}},delayAnimation:function(){return function(t,e){return(this._private.cy||this).styleEnabled()?this.animation({delay:t,duration:t,complete:e}):this}},animation:function(){return function(t,e){var i=void 0!==this.length,n=i?this:[this],r=this._private.cy||this,o=!i,s=!o;if(!r.styleEnabled())return this;var a=r.style();if(t=O({},t,e),0===Object.keys(t).length)return new Vi(n[0],t);switch(void 0===t.duration&&(t.duration=400),t.duration){case"slow":t.duration=600;break;case"fast":t.duration=200}if(s&&(t.style=a.getPropsList(t.style||t.css),t.css=void 0),s&&null!=t.renderedPosition){var h=t.renderedPosition,l=r.pan(),d=r.zoom();t.position=te(h,d,l)}if(o&&null!=t.panBy){var u=t.panBy,c=r.pan();t.pan={x:c.x+u.x,y:c.y+u.y}}var f=t.center||t.centre;if(o&&null!=f){var p=r.getCenterPan(f.eles,t.zoom);null!=p&&(t.pan=p)}if(o&&null!=t.fit){var m=t.fit,v=r.getFitViewport(m.eles||m.boundingBox,m.padding);null!=v&&(t.pan=v.pan,t.zoom=v.zoom)}if(o&&g(t.zoom)){var y=r.getZoomedViewport(t.zoom);null!=y&&(y.zoomed&&(t.zoom=y.zoom),y.panned&&(t.pan=y.pan))}return new Vi(n[0],t)}},animate:function(){return function(t,e){var i=void 0!==this.length?this:[this];if(!(this._private.cy||this).styleEnabled())return this;e&&(t=O({},t,e));for(var n=0;n<i.length;n++){var r=i[n],o=r.animated()&&(void 0===t.queue||t.queue);r.animation(t,o?{queue:!0}:void 0).play()}return this}},stop:function(){return function(t,e){var i=void 0!==this.length?this:[this],n=this._private.cy||this;if(!n.styleEnabled())return this;for(var r=0;r<i.length;r++){for(var o=i[r]._private,s=o.animation.current,a=0;a<s.length;a++)e&&(s[a]._private.duration=0);t&&(o.animation.queue=[]),e||(o.animation.current=[])}return n.notify("draw"),this}}},{data:function(t){return t=O({},{field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:function(t){},beforeSet:function(t,e){},onSet:function(t){},canSet:function(t){return!0}},t),function(e,i){var n=t,r=void 0!==this.length,o=r?this:[this],s=r?this[0]:this;if(c(e)){var a;if(n.allowGetting&&void 0===i)return s&&(n.beforeGet(s),a=s._private[n.field][e]),a;if(n.allowSetting&&void 0!==i&&!n.immutableKeys[e]){var h=function(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}({},e,i);n.beforeSet(this,h);for(var l=0,d=o.length;l<d;l++){var u=o[l];n.canSet(u)&&(u._private[n.field][e]=i)}n.updateStyle&&this.updateStyle(),n.onSet(this),n.settingTriggersEvent&&this[n.triggerFnName](n.settingEvent)}}else if(n.allowSetting&&g(e)){var p,m,v=e,y=Object.keys(v);n.beforeSet(this,v);for(var b=0;b<y.length;b++)if(m=v[p=y[b]],!n.immutableKeys[p])for(var w=0;w<o.length;w++){var x=o[w];n.canSet(x)&&(x._private[n.field][p]=m)}n.updateStyle&&this.updateStyle(),n.onSet(this),n.settingTriggersEvent&&this[n.triggerFnName](n.settingEvent)}else if(n.allowBinding&&f(e))this.on(n.bindingEvent,e);else if(n.allowGetting&&void 0===e){var _;return s&&(n.beforeGet(s),_=s._private[n.field]),_}return this}},removeData:function(t){return t=O({},{field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}},t),function(e){var i=t,n=void 0!==this.length?this:[this];if(c(e)){for(var r=e.split(/\s+/),o=r.length,s=0;s<o;s++){var a=r[s];if(!k(a)&&!i.immutableKeys[a])for(var h=0,l=n.length;h<l;h++)n[h]._private[i.field][a]=void 0}i.triggerEvent&&this[i.triggerFnName](i.event)}else if(void 0===e){for(var d=0,u=n.length;d<u;d++)for(var f=n[d]._private[i.field],p=Object.keys(f),g=0;g<p.length;g++){var m=p[g];!i.immutableKeys[m]&&(f[m]=void 0)}i.triggerEvent&&this[i.triggerFnName](i.event)}return this}}},{eventAliasesOn:function(t){var e=t;e.addListener=e.listen=e.bind=e.on,e.unlisten=e.unbind=e.off=e.removeListener,e.trigger=e.emit,e.pon=e.promiseOn=function(t,e){var i=this,n=Array.prototype.slice.call(arguments,0);return new Ui(function(t,e){var r=n.concat([function(e){i.off.apply(i,o),t(e)}]),o=r.concat([]);i.on.apply(i,r)})}}}].forEach(function(t){O(Gi,t)});var Xi={animate:Gi.animate(),animation:Gi.animation(),animated:Gi.animated(),clearQueue:Gi.clearQueue(),delay:Gi.delay(),delayAnimation:Gi.delayAnimation(),stop:Gi.stop()},Ki={classes:function(t){if(void 0===t){var e=[];return this[0]._private.classes.forEach(function(t){return e.push(t)}),e}p(t)||(t=(t||"").match(/\S+/g)||[]);for(var i=[],n=new It(t),r=0;r<this.length;r++){for(var o=this[r],s=o._private,a=s.classes,h=!1,l=0;l<t.length;l++)if(!a.has(t[l])){h=!0;break}h||(h=a.size!==t.length),h&&(s.classes=n,i.push(o))}return i.length>0&&this.spawn(i).updateStyle().emit("class"),this},addClass:function(t){return this.toggleClass(t,!0)},hasClass:function(t){var e=this[0];return null!=e&&e._private.classes.has(t)},toggleClass:function(t,e){p(t)||(t=t.match(/\S+/g)||[]);for(var i=void 0===e,n=[],r=0,o=this.length;r<o;r++)for(var s=this[r],a=s._private.classes,h=!1,l=0;l<t.length;l++){var d=t[l],u=a.has(d),c=!1;e||i&&!u?(a.add(d),c=!0):(!e||i&&u)&&(a.delete(d),c=!0),!h&&c&&(n.push(s),h=!0)}return n.length>0&&this.spawn(n).updateStyle().emit("class"),this},removeClass:function(t){return this.toggleClass(t,!1)},flashClass:function(t,e){var i=this;if(null==e)e=250;else if(0===e)return i;return i.addClass(t),setTimeout(function(){i.removeClass(t)},e),i}};Ki.className=Ki.classNames=Ki.classes;var Zi={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:'"(?:\\\\"|[^"])*"|'+"'(?:\\\\'|[^'])*'",number:T,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"};Zi.variable="(?:[\\w-]|(?:\\\\"+Zi.metaChar+"))+",Zi.value=Zi.string+"|"+Zi.number,Zi.className=Zi.variable,Zi.id=Zi.variable,function(){var t,e,i;for(t=Zi.comparatorOp.split("|"),i=0;i<t.length;i++)Zi.comparatorOp+="|@"+(e=t[i]);for(t=Zi.comparatorOp.split("|"),i=0;i<t.length;i++)(e=t[i]).indexOf("!")>=0||"="!==e&&(Zi.comparatorOp+="|\\!"+e)}();var Qi=[{selector:":selected",matches:function(t){return t.selected()}},{selector:":unselected",matches:function(t){return!t.selected()}},{selector:":selectable",matches:function(t){return t.selectable()}},{selector:":unselectable",matches:function(t){return!t.selectable()}},{selector:":locked",matches:function(t){return t.locked()}},{selector:":unlocked",matches:function(t){return!t.locked()}},{selector:":visible",matches:function(t){return t.visible()}},{selector:":hidden",matches:function(t){return!t.visible()}},{selector:":transparent",matches:function(t){return t.transparent()}},{selector:":grabbed",matches:function(t){return t.grabbed()}},{selector:":free",matches:function(t){return!t.grabbed()}},{selector:":removed",matches:function(t){return t.removed()}},{selector:":inside",matches:function(t){return!t.removed()}},{selector:":grabbable",matches:function(t){return t.grabbable()}},{selector:":ungrabbable",matches:function(t){return!t.grabbable()}},{selector:":animated",matches:function(t){return t.animated()}},{selector:":unanimated",matches:function(t){return!t.animated()}},{selector:":parent",matches:function(t){return t.isParent()}},{selector:":childless",matches:function(t){return t.isChildless()}},{selector:":child",matches:function(t){return t.isChild()}},{selector:":orphan",matches:function(t){return t.isOrphan()}},{selector:":nonorphan",matches:function(t){return t.isChild()}},{selector:":compound",matches:function(t){return t.isNode()?t.isParent():t.source().isParent()||t.target().isParent()}},{selector:":loop",matches:function(t){return t.isLoop()}},{selector:":simple",matches:function(t){return t.isSimple()}},{selector:":active",matches:function(t){return t.active()}},{selector:":inactive",matches:function(t){return!t.active()}},{selector:":backgrounding",matches:function(t){return t.backgrounding()}},{selector:":nonbackgrounding",matches:function(t){return!t.backgrounding()}}].sort(function(t,e){return function(t,e){return-1*L(t,e)}(t.selector,e.selector)}),$i=function(){for(var t,e={},i=0;i<Qi.length;i++)e[(t=Qi[i]).selector]=t.matches;return e}(),Ji="("+Qi.map(function(t){return t.selector}).join("|")+")",tn=function(t){return t.replace(new RegExp("\\\\("+Zi.metaChar+")","g"),function(t,e){return e})},en=function(t,e,i){t[t.length-1]=i},nn=[{name:"group",query:!0,regex:"("+Zi.group+")",populate:function(t,e,i){var n=r(i,1)[0];e.checks.push({type:0,value:"*"===n?n:n+"s"})}},{name:"state",query:!0,regex:Ji,populate:function(t,e,i){var n=r(i,1)[0];e.checks.push({type:7,value:n})}},{name:"id",query:!0,regex:"\\#("+Zi.id+")",populate:function(t,e,i){var n=r(i,1)[0];e.checks.push({type:8,value:tn(n)})}},{name:"className",query:!0,regex:"\\.("+Zi.className+")",populate:function(t,e,i){var n=r(i,1)[0];e.checks.push({type:9,value:tn(n)})}},{name:"dataExists",query:!0,regex:"\\[\\s*("+Zi.variable+")\\s*\\]",populate:function(t,e,i){var n=r(i,1)[0];e.checks.push({type:4,field:tn(n)})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+Zi.variable+")\\s*("+Zi.comparatorOp+")\\s*("+Zi.value+")\\s*\\]",populate:function(t,e,i){var n=r(i,3),o=n[0],s=n[1],a=n[2];a=null!=new RegExp("^"+Zi.string+"$").exec(a)?a.substring(1,a.length-1):parseFloat(a),e.checks.push({type:3,field:tn(o),operator:s,value:a})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+Zi.boolOp+")\\s*("+Zi.variable+")\\s*\\]",populate:function(t,e,i){var n=r(i,2),o=n[0];e.checks.push({type:5,field:tn(n[1]),operator:o})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+Zi.meta+")\\s*("+Zi.comparatorOp+")\\s*("+Zi.number+")\\s*\\]\\]",populate:function(t,e,i){var n=r(i,3),o=n[1],s=n[2];e.checks.push({type:6,field:tn(n[0]),operator:o,value:parseFloat(s)})}},{name:"nextQuery",separator:!0,regex:Zi.separator,populate:function(t,e){var i=t.currentSubject,n=t.edgeCount,r=t.compoundCount,o=t[t.length-1];return null!=i&&(o.subject=i,t.currentSubject=null),o.edgeCount=n,o.compoundCount=r,t.edgeCount=0,t.compoundCount=0,t[t.length++]={checks:[]}}},{name:"directedEdge",separator:!0,regex:Zi.directedEdge,populate:function(t,e){if(null==t.currentSubject){var i={checks:[]},n={checks:[]};return i.checks.push({type:11,source:e,target:n}),en(t,0,i),t.edgeCount++,n}var r={checks:[]},o={checks:[]};return r.checks.push({type:12,source:e,target:o}),en(t,0,r),t.edgeCount++,o}},{name:"undirectedEdge",separator:!0,regex:Zi.undirectedEdge,populate:function(t,e){if(null==t.currentSubject){var i={checks:[]},n={checks:[]};return i.checks.push({type:10,nodes:[e,n]}),en(t,0,i),t.edgeCount++,n}var r={checks:[]},o={checks:[]};return r.checks.push({type:14,node:e,neighbor:o}),en(t,0,r),o}},{name:"child",separator:!0,regex:Zi.child,populate:function(t,e){if(null==t.currentSubject){var i={checks:[]},n={checks:[]};return i.checks.push({type:15,parent:t[t.length-1],child:n}),en(t,0,i),t.compoundCount++,n}if(t.currentSubject===e){var r={checks:[]},o={checks:[]},s={checks:[]},a={checks:[]},h={checks:[]};return r.checks.push({type:19,left:t[t.length-1],right:o,subject:s}),s.checks=e.checks,e.checks=[{type:20}],h.checks.push({type:20}),o.checks.push({type:17,parent:h,child:a}),en(t,0,r),t.currentSubject=s,t.compoundCount++,a}var l={checks:[]},d={checks:[]},u=[{type:17,parent:l,child:d}];return l.checks=e.checks,e.checks=u,t.compoundCount++,d}},{name:"descendant",separator:!0,regex:Zi.descendant,populate:function(t,e){if(null==t.currentSubject){var i={checks:[]},n={checks:[]};return i.checks.push({type:16,ancestor:t[t.length-1],descendant:n}),en(t,0,i),t.compoundCount++,n}if(t.currentSubject===e){var r={checks:[]},o={checks:[]},s={checks:[]},a={checks:[]},h={checks:[]};return r.checks.push({type:19,left:t[t.length-1],right:o,subject:s}),s.checks=e.checks,e.checks=[{type:20}],h.checks.push({type:20}),o.checks.push({type:18,ancestor:h,descendant:a}),en(t,0,r),t.currentSubject=s,t.compoundCount++,a}var l={checks:[]},d={checks:[]},u=[{type:18,ancestor:l,descendant:d}];return l.checks=e.checks,e.checks=u,t.compoundCount++,d}},{name:"subject",modifier:!0,regex:Zi.subject,populate:function(t,e){if(null!=t.currentSubject&&t.currentSubject!==e)return kt("Redefinition of subject in selector `"+t.toString()+"`"),!1;t.currentSubject=e;var i=t[t.length-1].checks[0],n=null==i?null:i.type;11===n?i.type=13:10===n&&(i.type=14,i.node=i.nodes[1],i.neighbor=i.nodes[0],i.nodes=null)}}];nn.forEach(function(t){return t.regexObj=new RegExp("^"+t.regex)});var rn=function(t){for(var e,i,n,r=0;r<nn.length;r++){var o=nn[r],s=o.name,a=t.match(o.regexObj);if(null!=a){i=a,e=o,n=s,t=t.substring(a[0].length);break}}return{expr:e,match:i,name:n,remaining:t}},on={parse:function(t){var e=this.inputText=t,i=this[0]={checks:[]};for(this.length=1,e=function(t){var e=t.match(/^\s+/);return e&&(t=t.substring(e[0].length)),t}(e);;){var n=rn(e);if(null==n.expr)return kt("The selector `"+t+"`is invalid"),!1;var r=n.match.slice(1),o=n.expr.populate(this,i,r);if(!1===o)return!1;if(null!=o&&(i=o),(e=n.remaining).match(/^\s*$/))break}var s=this[this.length-1];null!=this.currentSubject&&(s.subject=this.currentSubject),s.edgeCount=this.edgeCount,s.compoundCount=this.compoundCount;for(var a=0;a<this.length;a++){var h=this[a];if(h.compoundCount>0&&h.edgeCount>0)return kt("The selector `"+t+"` is invalid because it uses both a compound selector and an edge selector"),!1;if(h.edgeCount>1)return kt("The selector `"+t+"` is invalid because it uses multiple edge selectors"),!1;1===h.edgeCount&&kt("The selector `"+t+"` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.")}return!0},toString:function(){if(null!=this.toStringCache)return this.toStringCache;for(var t=function(t){return null==t?"":t},e=function(e){return c(e)?'"'+e+'"':t(e)},i=function(t){return" "+t+" "},n=function(n,o){var s=n.value;switch(n.type){case 0:var a=t(s);return a.substring(0,a.length-1);case 3:return"["+n.field+i(t(n.operator))+e(s)+"]";case 5:var h=n.field;return"["+t(n.operator)+h+"]";case 4:return"["+n.field+"]";case 6:return"[["+n.field+i(t(n.operator))+e(s)+"]]";case 7:return s;case 8:return"#"+s;case 9:return"."+s;case 17:case 15:return r(n.parent,o)+i(">")+r(n.child,o);case 18:case 16:return r(n.ancestor,o)+" "+r(n.descendant,o);case 19:var l=r(n.left,o),d=r(n.subject,o),u=r(n.right,o);return l+(l.length>0?" ":"")+d+u;case 20:return""}},r=function(t,e){return t.checks.reduce(function(i,r,o){return i+(e===t&&0===o?"$":"")+n(r,e)},"")},o="",s=0;s<this.length;s++){var a=this[s];o+=r(a,a.subject),this.length>1&&s<this.length-1&&(o+=", ")}return this.toStringCache=o,o}},sn=function(t,e,i){var n,r,o,s=c(t),a=m(t),h=c(i),l=!1,d=!1,u=!1;switch(e.indexOf("!")>=0&&(e=e.replace("!",""),d=!0),e.indexOf("@")>=0&&(e=e.replace("@",""),l=!0),(s||h||l)&&(r=s||a?""+t:"",o=""+i),l&&(t=r=r.toLowerCase(),i=o=o.toLowerCase()),e){case"*=":n=r.indexOf(o)>=0;break;case"$=":n=r.indexOf(o,r.length-o.length)>=0;break;case"^=":n=0===r.indexOf(o);break;case"=":n=t===i;break;case">":u=!0,n=t>i;break;case">=":u=!0,n=t>=i;break;case"<":u=!0,n=t<i;break;case"<=":u=!0,n=t<=i;break;default:n=!1}return!d||null==t&&u||(n=!n),n},an=function(t,e){return t.data(e)},hn=[],ln=function(t,e){return t.checks.every(function(t){return hn[t.type](t,e)})};hn[0]=function(t,e){var i=t.value;return"*"===i||i===e.group()},hn[7]=function(t,e){return function(t,e){return $i[t](e)}(t.value,e)},hn[8]=function(t,e){var i=t.value;return e.id()===i},hn[9]=function(t,e){return e.hasClass(t.value)},hn[6]=function(t,e){var i=t.field,n=t.operator,r=t.value;return sn(function(t,e){return t[i]()}(e),n,r)},hn[3]=function(t,e){var i=t.operator,n=t.value;return sn(an(e,t.field),i,n)},hn[5]=function(t,e){var i=t.operator;return function(t,e){switch(i){case"?":return!!t;case"!":return!t;case"^":return void 0===t}}(an(e,t.field))},hn[4]=function(t,e){return void 0!==an(e,t.field)},hn[10]=function(t,e){var i=t.nodes[0],n=t.nodes[1],r=e.source(),o=e.target();return ln(i,r)&&ln(n,o)||ln(n,r)&&ln(i,o)},hn[14]=function(t,e){return ln(t.node,e)&&e.neighborhood().some(function(e){return e.isNode()&&ln(t.neighbor,e)})},hn[11]=function(t,e){return ln(t.source,e.source())&&ln(t.target,e.target())},hn[12]=function(t,e){return ln(t.source,e)&&e.outgoers().some(function(e){return e.isNode()&&ln(t.target,e)})},hn[13]=function(t,e){return ln(t.target,e)&&e.incomers().some(function(e){return e.isNode()&&ln(t.source,e)})},hn[15]=function(t,e){return ln(t.child,e)&&ln(t.parent,e.parent())},hn[17]=function(t,e){return ln(t.parent,e)&&e.children().some(function(e){return ln(t.child,e)})},hn[16]=function(t,e){return ln(t.descendant,e)&&e.ancestors().some(function(e){return ln(t.ancestor,e)})},hn[18]=function(t,e){return ln(t.ancestor,e)&&e.descendants().some(function(e){return ln(t.descendant,e)})},hn[19]=function(t,e){return ln(t.subject,e)&&ln(t.left,e)&&ln(t.right,e)},hn[20]=function(){return!0},hn[1]=function(t,e){return t.value.has(e)},hn[2]=function(t,e){return(0,t.value)(e)};var dn=function(t){this.inputText=t,this.currentSubject=null,this.compoundCount=0,this.edgeCount=0,this.length=0,null==t||c(t)&&t.match(/^\s*$/)||(y(t)?this.addQuery({checks:[{type:1,value:t.collection()}]}):f(t)?this.addQuery({checks:[{type:2,value:t}]}):c(t)?this.parse(t)||(this.invalid=!0):xt("A selector must be created from a string; found "))},un=dn.prototype;[on,{matches:function(t){for(var e=0;e<this.length;e++)if(ln(this[e],t))return!0;return!1},filter:function(t){var e=this;if(1===e.length&&1===e[0].checks.length&&8===e[0].checks[0].type)return t.getElementById(e[0].checks[0].value).collection();var i=function(t){for(var i=0;i<e.length;i++)if(ln(e[i],t))return!0;return!1};return null==e.text()&&(i=function(){return!0}),t.filter(i)}}].forEach(function(t){return O(un,t)}),un.text=function(){return this.inputText},un.size=function(){return this.length},un.eq=function(t){return this[t]},un.sameText=function(t){return!this.invalid&&!t.invalid&&this.text()===t.text()},un.addQuery=function(t){this[this.length++]=t},un.selector=un.toString;var cn={allAre:function(t){var e=new dn(t);return this.every(function(t){return e.matches(t)})},is:function(t){var e=new dn(t);return this.some(function(t){return e.matches(t)})},some:function(t,e){for(var i=0;i<this.length;i++)if(e?t.apply(e,[this[i],i,this]):t(this[i],i,this))return!0;return!1},every:function(t,e){for(var i=0;i<this.length;i++)if(!(e?t.apply(e,[this[i],i,this]):t(this[i],i,this)))return!1;return!0},same:function(t){if(this===t)return!0;t=this.cy().collection(t);var e=this.length;return e===t.length&&(1===e?this[0]===t[0]:this.every(function(e){return t.hasElementWithId(e.id())}))},anySame:function(t){return t=this.cy().collection(t),this.some(function(e){return t.hasElementWithId(e.id())})},allAreNeighbors:function(t){t=this.cy().collection(t);var e=this.neighborhood();return t.every(function(t){return e.hasElementWithId(t.id())})},contains:function(t){t=this.cy().collection(t);var e=this;return t.every(function(t){return e.hasElementWithId(t.id())})}};cn.allAreNeighbours=cn.allAreNeighbors,cn.has=cn.contains,cn.equal=cn.equals=cn.same;var fn,pn,gn=function(t,e){return function(i,n,r,o){var s,a=i;if(null==a?s="":y(a)&&1===a.length&&(s=a.id()),1===this.length&&s){var h=this[0]._private,l=h.traversalCache=h.traversalCache||{},d=l[e]=l[e]||[],u=dt(s);return d[u]||(d[u]=t.call(this,i,n,r,o))}return t.call(this,i,n,r,o)}},mn={parent:function(t){var e=[];if(1===this.length){var i=this[0]._private.parent;if(i)return i}for(var n=0;n<this.length;n++){var r=this[n]._private.parent;r&&e.push(r)}return this.spawn(e,{unique:!0}).filter(t)},parents:function(t){for(var e=[],i=this.parent();i.nonempty();){for(var n=0;n<i.length;n++)e.push(i[n]);i=i.parent()}return this.spawn(e,{unique:!0}).filter(t)},commonAncestors:function(t){for(var e,i=0;i<this.length;i++){var n=this[i].parents();e=(e=e||n).intersect(n)}return e.filter(t)},orphans:function(t){return this.stdFilter(function(t){return t.isOrphan()}).filter(t)},nonorphans:function(t){return this.stdFilter(function(t){return t.isChild()}).filter(t)},children:gn(function(t){for(var e=[],i=0;i<this.length;i++)for(var n=this[i]._private.children,r=0;r<n.length;r++)e.push(n[r]);return this.spawn(e,{unique:!0}).filter(t)},"children"),siblings:function(t){return this.parent().children().not(this).filter(t)},isParent:function(){var t=this[0];if(t)return t.isNode()&&0!==t._private.children.length},isChildless:function(){var t=this[0];if(t)return t.isNode()&&0===t._private.children.length},isChild:function(){var t=this[0];if(t)return t.isNode()&&null!=t._private.parent},isOrphan:function(){var t=this[0];if(t)return t.isNode()&&null==t._private.parent},descendants:function(t){var e=[];return function t(i){for(var n=0;n<i.length;n++){var r=i[n];e.push(r),r.children().nonempty()&&t(r.children())}}(this.children()),this.spawn(e,{unique:!0}).filter(t)}};function vn(t,e,i,n){for(var r=[],o=new It,s=t.cy().hasCompoundNodes(),a=0;a<t.length;a++){var h=t[a];i?r.push(h):s&&n(r,o,h)}for(;r.length>0;){var l=r.shift();e(l),o.add(l.id()),s&&n(r,o,l)}return t}function yn(t,e,i){if(i.isParent())for(var n=i._private.children,r=0;r<n.length;r++){var o=n[r];e.has(o.id())||t.push(o)}}function bn(t,e,i){if(i.isChild()){var n=i._private.parent;e.has(n.id())||t.push(n)}}function wn(t,e,i){bn(t,e,i),yn(t,e,i)}mn.forEachDown=function(t){return vn(this,t,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],yn)},mn.forEachUp=function(t){return vn(this,t,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],bn)},mn.forEachUpAndDown=function(t){return vn(this,t,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],wn)},mn.ancestors=mn.parents,(fn=pn={data:Gi.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:Gi.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:Gi.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:Gi.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:Gi.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:Gi.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var t=this[0];if(t)return t._private.data.id}}).attr=fn.data,fn.removeAttr=fn.removeData;var xn,_n,kn=pn,Sn={};function Mn(t){return function(e){if(void 0===e&&(e=!0),0!==this.length&&this.isNode()&&!this.removed()){for(var i=0,n=this[0],r=n._private.edges,o=0;o<r.length;o++){var s=r[o];!e&&s.isLoop()||(i+=t(n,s))}return i}}}function Cn(t,e){return function(i){for(var n,r=this.nodes(),o=0;o<r.length;o++){var s=r[o][t](i);void 0===s||void 0!==n&&!e(s,n)||(n=s)}return n}}O(Sn,{degree:Mn(function(t,e){return e.source().same(e.target())?2:1}),indegree:Mn(function(t,e){return e.target().same(t)?1:0}),outdegree:Mn(function(t,e){return e.source().same(t)?1:0})}),O(Sn,{minDegree:Cn("degree",function(t,e){return t<e}),maxDegree:Cn("degree",function(t,e){return t>e}),minIndegree:Cn("indegree",function(t,e){return t<e}),maxIndegree:Cn("indegree",function(t,e){return t>e}),minOutdegree:Cn("outdegree",function(t,e){return t<e}),maxOutdegree:Cn("outdegree",function(t,e){return t>e})}),O(Sn,{totalDegree:function(t){for(var e=0,i=this.nodes(),n=0;n<i.length;n++)e+=i[n].degree(t);return e}});var En=function(t,e,i){for(var n=0;n<t.length;n++){var r=t[n];if(!r.locked()){var o=r._private.position,s={x:null!=e.x?e.x-o.x:0,y:null!=e.y?e.y-o.y:0};!r.isParent()||0===s.x&&0===s.y||r.children().shift(s,i),r.shiftCachedBoundingBox(s)}}},Nn={field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:function(t){t.updateCompoundBounds()},beforeSet:function(t,e){En(t,e,!1)},onSet:function(t){t.dirtyCompoundBoundsCache()},canSet:function(t){return!t.locked()}};(xn=_n={position:Gi.data(Nn),silentPosition:Gi.data(O({},Nn,{allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!1,beforeSet:function(t,e){En(t,e,!0)}})),positions:function(t,e){if(g(t))e?this.silentPosition(t):this.position(t);else if(f(t)){var i=t,n=this.cy();n.startBatch();for(var r=0;r<this.length;r++){var o,s=this[r];(o=i(s,r))&&(e?s.silentPosition(o):s.position(o))}n.endBatch()}return this},silentPositions:function(t){return this.positions(t,!0)},shift:function(t,e,i){var n;if(g(t)?(n={x:m(t.x)?t.x:0,y:m(t.y)?t.y:0},i=e):c(t)&&m(e)&&((n={x:0,y:0})[t]=e),null!=n){var r=this.cy();r.startBatch();for(var o=0;o<this.length;o++){var s=this[o],a=s.position(),h={x:a.x+n.x,y:a.y+n.y};i?s.silentPosition(h):s.position(h)}r.endBatch()}return this},silentShift:function(t,e){return g(t)?this.shift(t,!0):c(t)&&m(e)&&this.shift(t,e,!0),this},renderedPosition:function(t,e){var i=this[0],n=this.cy(),r=n.zoom(),o=n.pan(),s=g(t)?t:void 0,a=void 0!==s||void 0!==e&&c(t);if(i&&i.isNode()){if(!a){var h=i.position();return s=Jt(h,r,o),void 0===t?s:s[t]}for(var l=0;l<this.length;l++){var d=this[l];void 0!==e?d.position(t,(e-o[t])/r):void 0!==s&&d.position(te(s,r,o))}}else if(!a)return;return this},relativePosition:function(t,e){var i=this[0],n=this.cy(),r=g(t)?t:void 0,o=void 0!==r||void 0!==e&&c(t),s=n.hasCompoundNodes();if(i&&i.isNode()){if(!o){var a=i.position(),h=s?i.parent():null,l=h&&h.length>0;l&&(h=h[0]);var d=l?h.position():{x:0,y:0};return r={x:a.x-d.x,y:a.y-d.y},void 0===t?r:r[t]}for(var u=0;u<this.length;u++){var f=this[u],p=s?f.parent():null,m=p&&p.length>0;m&&(p=p[0]);var v=m?p.position():{x:0,y:0};void 0!==e?f.position(t,e+v[t]):void 0!==r&&f.position({x:r.x+v.x,y:r.y+v.y})}}else if(!o)return;return this}}).modelPosition=xn.point=xn.position,xn.modelPositions=xn.points=xn.positions,xn.renderedPoint=xn.renderedPosition,xn.relativePoint=xn.relativePosition;var An,Dn,Tn=_n;An=Dn={},Dn.renderedBoundingBox=function(t){var e=this.boundingBox(t),i=this.cy(),n=i.zoom(),r=i.pan(),o=e.x1*n+r.x,s=e.x2*n+r.x,a=e.y1*n+r.y,h=e.y2*n+r.y;return{x1:o,x2:s,y1:a,y2:h,w:s-o,h:h-a}},Dn.dirtyCompoundBoundsCache=function(){var t=this.cy();return t.styleEnabled()&&t.hasCompoundNodes()?(this.forEachUp(function(t){if(t.isParent()){var e=t._private;e.compoundBoundsClean=!1,e.bbCache=null,t.emitAndNotify("bounds")}}),this):this},Dn.updateCompoundBounds=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.cy();if(!e.styleEnabled()||!e.hasCompoundNodes())return this;if(!t&&e.batching())return this;function i(t){if(t.isParent()){var e=t._private,i=t.children(),n="include"===t.pstyle("compound-sizing-wrt-labels").value,r={width:{val:t.pstyle("min-width").pfValue,left:t.pstyle("min-width-bias-left"),right:t.pstyle("min-width-bias-right")},height:{val:t.pstyle("min-height").pfValue,top:t.pstyle("min-height-bias-top"),bottom:t.pstyle("min-height-bias-bottom")}},o=i.boundingBox({includeLabels:n,includeOverlays:!1,useCache:!1}),s=e.position;0!==o.w&&0!==o.h||((o={w:t.pstyle("width").pfValue,h:t.pstyle("height").pfValue}).x1=s.x-o.w/2,o.x2=s.x+o.w/2,o.y1=s.y-o.h/2,o.y2=s.y+o.h/2);var a=r.width.left.value;"px"===r.width.left.units&&r.width.val>0&&(a=100*a/r.width.val);var h=r.width.right.value;"px"===r.width.right.units&&r.width.val>0&&(h=100*h/r.width.val);var l=r.height.top.value;"px"===r.height.top.units&&r.height.val>0&&(l=100*l/r.height.val);var d=r.height.bottom.value;"px"===r.height.bottom.units&&r.height.val>0&&(d=100*d/r.height.val);var u=v(r.width.val-o.w,a,h),c=u.biasDiff,f=u.biasComplementDiff,p=v(r.height.val-o.h,l,d),g=p.biasDiff,m=p.biasComplementDiff;e.autoPadding=function(t,e,i,n){if("%"!==i.units)return"px"===i.units?i.pfValue:0;switch(n){case"width":return t>0?i.pfValue*t:0;case"height":return e>0?i.pfValue*e:0;case"average":return t>0&&e>0?i.pfValue*(t+e)/2:0;case"min":return t>0&&e>0?t>e?i.pfValue*e:i.pfValue*t:0;case"max":return t>0&&e>0?t>e?i.pfValue*t:i.pfValue*e:0;default:return 0}}(o.w,o.h,t.pstyle("padding"),t.pstyle("padding-relative-to").value),e.autoWidth=Math.max(o.w,r.width.val),s.x=(-c+o.x1+o.x2+f)/2,e.autoHeight=Math.max(o.h,r.height.val),s.y=(-g+o.y1+o.y2+m)/2}function v(t,e,i){var n=0,r=0,o=e+i;return t>0&&o>0&&(n=e/o*t,r=i/o*t),{biasDiff:n,biasComplementDiff:r}}}for(var n=0;n<this.length;n++){var r=this[n],o=r._private;o.compoundBoundsClean||(i(r),e.batching()||(o.compoundBoundsClean=!0))}return this};var Ln=function(t){return t===1/0||t===-1/0?0:t},On=function(t,e,i,n,r){n-e!=0&&r-i!=0&&null!=e&&null!=i&&null!=n&&null!=r&&(t.x1=e<t.x1?e:t.x1,t.x2=n>t.x2?n:t.x2,t.y1=i<t.y1?i:t.y1,t.y2=r>t.y2?r:t.y2,t.w=t.x2-t.x1,t.h=t.y2-t.y1)},Pn=function(t,e){return null==e?t:On(t,e.x1,e.y1,e.x2,e.y2)},In=function(t,e,i){return Tt(t,e,i)},Bn=function(t,e,i){if(!e.cy().headless()){var n,r,o=e._private,s=o.rstyle,a=s.arrowWidth/2;if("none"!==e.pstyle(i+"-arrow-shape").value){"source"===i?(n=s.srcX,r=s.srcY):"target"===i?(n=s.tgtX,r=s.tgtY):(n=s.midX,r=s.midY);var h=o.arrowBounds=o.arrowBounds||{},l=h[i]=h[i]||{};l.x1=n-a,l.y1=r-a,l.x2=n+a,l.y2=r+a,l.w=l.x2-l.x1,l.h=l.y2-l.y1,fe(l,1),On(t,l.x1,l.y1,l.x2,l.y2)}}},Rn=function(t,e,i){if(!e.cy().headless()){var n,r=e._private,o=r.rstyle;if(e.pstyle((n=i?i+"-":"")+"label").strValue){var s,a,h,l,d=e.pstyle("text-halign"),u=e.pstyle("text-valign"),c=In(o,"labelWidth",i),f=In(o,"labelHeight",i),p=In(o,"labelX",i),g=In(o,"labelY",i),m=e.pstyle(n+"text-margin-x").pfValue,v=e.pstyle(n+"text-margin-y").pfValue,y=e.isEdge(),b=e.pstyle(n+"text-rotation"),w=e.pstyle("text-outline-width").pfValue,x=e.pstyle("text-border-width").pfValue/2,_=e.pstyle("text-background-padding").pfValue,k=f,S=c,M=S/2,C=k/2;if(y)s=p-M,a=p+M,h=g-C,l=g+C;else{switch(d.value){case"left":s=p-S,a=p;break;case"center":s=p-M,a=p+M;break;case"right":s=p,a=p+S}switch(u.value){case"top":h=g-k,l=g;break;case"center":h=g-C,l=g+C;break;case"bottom":h=g,l=g+k}}s+=m-Math.max(w,x)-_,a+=m+Math.max(w,x)+_,h+=v-Math.max(w,x)-_,l+=v+Math.max(w,x)+_;var E=i||"main",N=r.labelBounds,A=N[E]=N[E]||{};A.x1=s,A.y1=h,A.x2=a,A.y2=l,A.w=a-s,A.h=l-h,fe(A,1);var D=y&&"autorotate"===b.strValue;if(D||null!=b.pfValue&&0!==b.pfValue){var T=D?In(r.rstyle,"labelAngle",i):b.pfValue,L=Math.cos(T),O=Math.sin(T),P=(s+a)/2,I=(h+l)/2;if(!y){switch(d.value){case"left":P=a;break;case"right":P=s}switch(u.value){case"top":I=l;break;case"bottom":I=h}}var B=function(t,e){return{x:(t-=P)*L-(e-=I)*O+P,y:t*O+e*L+I}},R=B(s,h),F=B(s,l),z=B(a,h),j=B(a,l);s=Math.min(R.x,F.x,z.x,j.x),a=Math.max(R.x,F.x,z.x,j.x),h=Math.min(R.y,F.y,z.y,j.y),l=Math.max(R.y,F.y,z.y,j.y)}var q=E+"Rot",H=N[q]=N[q]||{};H.x1=s,H.y1=h,H.x2=a,H.y2=l,H.w=a-s,H.h=l-h,On(t,s,h,a,l),On(r.labelBounds.all,s,h,a,l)}return t}},Fn=function(t){var e=0,i=function(t){return(t?1:0)<<e++},n=0;return n+=i(t.incudeNodes),n+=i(t.includeEdges),n+=i(t.includeLabels),n+=i(t.includeMainLabels),n+=i(t.includeSourceLabels),(n+=i(t.includeTargetLabels))+i(t.includeOverlays)},zn=function(t){if(t.isEdge()){var e=t.source().position(),i=t.target().position(),n=function(t){return Math.round(t)};return lt([n(e.x),n(e.y),n(i.x),n(i.y)])}return 0},jn=function(t,e){var i,n=t._private,r=t.isEdge(),o=(null==e?Hn:Fn(e))===Hn,s=zn(t),a=n.bbCachePosKey===s,h=!(e.useCache&&a)||null==n.bbCache;if(h?(a||t.recalculateRenderedStyle(),i=function(t,e){var i,n,r,o,s,a,h,l=t._private.cy,d=l.styleEnabled(),u=l.headless(),c=ue(),f=t._private,p=t.isNode(),g=t.isEdge(),m=f.rstyle,v=p&&d?t.pstyle("bounds-expansion").pfValue:[0],y=function(t){return"none"!==t.pstyle("display").value},b=!d||y(t)&&(!g||y(t.source())&&y(t.target()));if(b){var w=0;d&&e.includeOverlays&&0!==t.pstyle("overlay-opacity").value&&(w=t.pstyle("overlay-padding").value);var x=0;if(d&&(x=t.pstyle("width").pfValue/2),p&&e.includeNodes){var _=t.position();s=_.x,a=_.y;var k=t.outerWidth()/2,S=t.outerHeight()/2;On(c,i=s-k,r=a-S,n=s+k,o=a+S)}else if(g&&e.includeEdges)if(d&&!u&&(i=Math.min(m.srcX,m.midX,m.tgtX),n=Math.max(m.srcX,m.midX,m.tgtX),r=Math.min(m.srcY,m.midY,m.tgtY),o=Math.max(m.srcY,m.midY,m.tgtY),On(c,i-=x,r-=x,n+=x,o+=x)),d&&!u&&"haystack"===t.pstyle("curve-style").strValue){var M=m.haystackPts||[];if((i=M[0].x)>(n=M[1].x)){var C=i;i=n,n=C}if((r=M[0].y)>(o=M[1].y)){var E=r;r=o,o=E}On(c,i-x,r-x,n+x,o+x)}else{for(var N=m.bezierPts||m.linePts||[],A=0;A<N.length;A++){var D=N[A];On(c,i=D.x-x,r=D.y-x,n=D.x+x,o=D.y+x)}if(0===N.length){var T=t.source().position(),L=t.target().position();if((i=T.x)>(n=L.x)){var O=i;i=n,n=O}if((r=T.y)>(o=L.y)){var P=r;r=o,o=P}On(c,i-=x,r-=x,n+=x,o+=x)}}if(d&&e.includeEdges&&g&&(Bn(c,t,"mid-source"),Bn(c,t,"mid-target"),Bn(c,t,"source"),Bn(c,t,"target")),d&&"yes"===t.pstyle("ghost").value){var I=t.pstyle("ghost-offset-x").pfValue,B=t.pstyle("ghost-offset-y").pfValue;On(c,c.x1+I,c.y1+B,c.x2+I,c.y2+B)}var R=f.bodyBounds=f.bodyBounds||{};ge(R,c),pe(R,v),fe(R,1),d&&On(c,(i=c.x1)-w,(r=c.y1)-w,(n=c.x2)+w,(o=c.y2)+w);var F=f.overlayBounds=f.overlayBounds||{};ge(F,c),pe(F,v),fe(F,1);var z=f.labelBounds=f.labelBounds||{};null!=z.all?((h=z.all).x1=1/0,h.y1=1/0,h.x2=-1/0,h.y2=-1/0,h.w=0,h.h=0):z.all=ue(),d&&e.includeLabels&&(e.includeMainLabels&&Rn(c,t,null),g&&(e.includeSourceLabels&&Rn(c,t,"source"),e.includeTargetLabels&&Rn(c,t,"target")))}return c.x1=Ln(c.x1),c.y1=Ln(c.y1),c.x2=Ln(c.x2),c.y2=Ln(c.y2),c.w=Ln(c.x2-c.x1),c.h=Ln(c.y2-c.y1),c.w>0&&c.h>0&&b&&(pe(c,v),fe(c,1)),c}(t,qn),n.bbCache=i,n.bbCacheShift.x=n.bbCacheShift.y=0,n.bbCachePosKey=s):i=n.bbCache,!h&&(0!==n.bbCacheShift.x||0!==n.bbCacheShift.y)){var l=me,d=n.bbCacheShift,u=function(t,e){null!=t&&l(t,e)};l(i,d);var c=n.overlayBounds,f=n.labelBounds,p=n.arrowBounds;u(n.bodyBounds,d),u(c,d),null!=p&&(u(p.source,d),u(p.target,d),u(p["mid-source"],d),u(p["mid-target"],d)),null!=f&&(u(f.main,d),u(f.all,d),u(f.source,d),u(f.target,d))}if(n.bbCacheShift.x=n.bbCacheShift.y=0,!o){var g=t.isNode();i=ue(),(e.includeNodes&&g||e.includeEdges&&!g)&&Pn(i,e.includeOverlays?n.overlayBounds:n.bodyBounds),e.includeLabels&&(e.includeMainLabels&&(!r||e.includeSourceLabels&&e.includeTargetLabels)?Pn(i,n.labelBounds.all):(e.includeMainLabels&&Pn(i,n.labelBounds.mainRot),e.includeSourceLabels&&Pn(i,n.labelBounds.sourceRot),e.includeTargetLabels&&Pn(i,n.labelBounds.targetRot))),i.w=i.x2-i.x1,i.h=i.y2-i.y1}return i},qn={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeMainLabels:!0,includeSourceLabels:!0,includeTargetLabels:!0,includeOverlays:!0,useCache:!0},Hn=Fn(qn),Wn=Nt(qn);Dn.boundingBox=function(t){var e;if(1!==this.length||null==this[0]._private.bbCache||void 0!==t&&void 0!==t.useCache&&!0!==t.useCache){e=ue();var i=Wn(t=t||qn);if(this.cy().styleEnabled())for(var n=0;n<this.length;n++){var r=this[n],o=r._private,s=zn(r);r.recalculateRenderedStyle(i.useCache&&o.bbCachePosKey===s)}this.updateCompoundBounds();for(var a=0;a<this.length;a++)Pn(e,jn(this[a],i))}else t=void 0===t?qn:Wn(t),e=jn(this[0],t);return e.x1=Ln(e.x1),e.y1=Ln(e.y1),e.x2=Ln(e.x2),e.y2=Ln(e.y2),e.w=Ln(e.x2-e.x1),e.h=Ln(e.y2-e.y1),e},Dn.dirtyBoundingBoxCache=function(){for(var t=0;t<this.length;t++){var e=this[t]._private;e.bbCache=null,e.bbCacheShift.x=e.bbCacheShift.y=0,e.bbCachePosKey=null,e.bodyBounds=null,e.overlayBounds=null,e.labelBounds.all=null,e.labelBounds.source=null,e.labelBounds.target=null,e.labelBounds.main=null,e.labelBounds.sourceRot=null,e.labelBounds.targetRot=null,e.labelBounds.mainRot=null,e.arrowBounds.source=null,e.arrowBounds.target=null,e.arrowBounds["mid-source"]=null,e.arrowBounds["mid-target"]=null}return this.emitAndNotify("bounds"),this},Dn.shiftCachedBoundingBox=function(t){for(var e=0;e<this.length;e++){var i=this[e]._private;null!=i.bbCache&&(i.bbCacheShift.x+=t.x,i.bbCacheShift.y+=t.y)}return this.emitAndNotify("bounds"),this},Dn.boundingBoxAt=function(t){var e=this.nodes(),i=this.cy(),n=i.hasCompoundNodes();if(n&&(e=e.filter(function(t){return!t.isParent()})),g(t)){var r=t;t=function(){return r}}i.startBatch(),e.forEach(function(e,i){return e._private.bbAtOldPos=t(e,i)}).silentPositions(t),n&&this.updateCompoundBounds(!0);var o=function(t){return{x1:t.x1,x2:t.x2,w:t.w,y1:t.y1,y2:t.y2,h:t.h}}(this.boundingBox({useCache:!1}));return e.silentPositions(function(t){return t._private.bbAtOldPos}),i.endBatch(),o},An.boundingbox=An.bb=An.boundingBox,An.renderedBoundingbox=An.renderedBoundingBox;var Un,Vn,Yn=Dn;Un=Vn={};var Gn=function(t){t.uppercaseName=D(t.name),t.autoName="auto"+t.uppercaseName,t.labelName="label"+t.uppercaseName,t.outerName="outer"+t.uppercaseName,t.uppercaseOuterName=D(t.outerName),Un[t.name]=function(){var e=this[0],i=e._private;if(e){if(!i.cy._private.styleEnabled)return 1;if(e.isParent())return e.updateCompoundBounds(),i[t.autoName]||0;var n=e.pstyle(t.name);switch(n.strValue){case"label":return e.recalculateRenderedStyle(),i.rstyle[t.labelName]||0;default:return n.pfValue}}},Un["outer"+t.uppercaseName]=function(){var e=this[0];if(e)return e._private.cy._private.styleEnabled?e[t.name]()+e.pstyle("border-width").pfValue+2*e.padding():1},Un["rendered"+t.uppercaseName]=function(){var e=this[0];if(e)return e[t.name]()*this.cy().zoom()},Un["rendered"+t.uppercaseOuterName]=function(){var e=this[0];if(e)return e[t.outerName]()*this.cy().zoom()}};Gn({name:"width"}),Gn({name:"height"}),Vn.padding=function(){var t=this[0],e=t._private;return t.isParent()?(t.updateCompoundBounds(),void 0!==e.autoPadding?e.autoPadding:t.pstyle("padding").pfValue):t.pstyle("padding").pfValue},Vn.paddedHeight=function(){var t=this[0];return t.height()+2*t.padding()},Vn.paddedWidth=function(){var t=this[0];return t.width()+2*t.padding()};var Xn=Vn,Kn={controlPoints:{get:function(t){return t.renderer().getControlPoints(t)},mult:!0},segmentPoints:{get:function(t){return t.renderer().getSegmentPoints(t)},mult:!0},sourceEndpoint:{get:function(t){return t.renderer().getSourceEndpoint(t)}},targetEndpoint:{get:function(t){return t.renderer().getTargetEndpoint(t)}},midpoint:{get:function(t){return t.renderer().getEdgeMidpoint(t)}}},Zn=Object.keys(Kn).reduce(function(t,e){var i=Kn[e],n=function(t){return"rendered"+t[0].toUpperCase()+t.substr(1)}(e);return t[e]=function(){return function(t,e){if(t.isEdge())return e(t)}(this,i.get)},t[n]=i.mult?function(){return function(t,e){if(t.isEdge()){var i=t.cy(),n=i.pan(),r=i.zoom();return e(t).map(function(t){return Jt(t,r,n)})}}(this,i.get)}:function(){return function(t,e){if(t.isEdge()){var i=t.cy();return Jt(e(t),i.zoom(),i.pan())}}(this,i.get)},t},{}),Qn=O({},Tn,Yn,Xn,Zn),$n=function(t,e){this.recycle(t,e)};function Jn(){return!1}function tr(){return!0}$n.prototype={instanceString:function(){return"event"},recycle:function(t,e){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=Jn,null!=t&&t.preventDefault?(this.type=t.type,this.isDefaultPrevented=t.defaultPrevented?tr:Jn):null!=t&&t.type?e=t:this.type=t,null!=e&&(this.originalEvent=e.originalEvent,this.type=null!=e.type?e.type:this.type,this.cy=e.cy,this.target=e.target,this.position=e.position,this.renderedPosition=e.renderedPosition,this.namespace=e.namespace,this.layout=e.layout),null!=this.cy&&null!=this.position&&null==this.renderedPosition){var i=this.position,n=this.cy.zoom(),r=this.cy.pan();this.renderedPosition={x:i.x*n+r.x,y:i.y*n+r.y}}this.timeStamp=t&&t.timeStamp||Date.now()},preventDefault:function(){this.isDefaultPrevented=tr;var t=this.originalEvent;t&&t.preventDefault&&t.preventDefault()},stopPropagation:function(){this.isPropagationStopped=tr;var t=this.originalEvent;t&&t.stopPropagation&&t.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=tr,this.stopPropagation()},isDefaultPrevented:Jn,isPropagationStopped:Jn,isImmediatePropagationStopped:Jn};var er=/^([^.]+)(\.(?:[^.]+))?$/,ir={qualifierCompare:function(t,e){return t===e},eventMatches:function(){return!0},addEventFields:function(){},callbackContext:function(t){return t},beforeEmit:function(){},afterEmit:function(){},bubble:function(){return!1},parent:function(){return null},context:null},nr=Object.keys(ir),rr={};function or(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rr,e=arguments.length>1?arguments[1]:void 0,i=0;i<nr.length;i++){var n=nr[i];this[n]=t[n]||ir[n]}this.context=e||this.context,this.listeners=[],this.emitting=0}var sr=or.prototype,ar=function(t,e,i,n,r,o,s){f(n)&&(r=n,n=null),s&&(o=null==o?s:O({},o,s));for(var a=p(i)?i:i.split(/\s+/),h=0;h<a.length;h++){var l=a[h];if(!k(l)){var d=l.match(er);if(d&&!1===e(t,l,d[1],d[2]?d[2]:null,n,r,o))break}}},hr=function(t,e){return t.addEventFields(t.context,e),new $n(e.type,e)};sr.on=sr.addListener=function(t,e,i,n,r){return ar(this,function(t,e,i,n,r,o,s){f(o)&&t.listeners.push({event:e,callback:o,type:i,namespace:n,qualifier:r,conf:s})},t,e,i,n,r),this},sr.one=function(t,e,i,n){return this.on(t,e,i,n,{one:!0})},sr.removeListener=sr.off=function(t,e,i,n){var r=this;0!==this.emitting&&(this.listeners=this.listeners.slice());for(var o=this.listeners,s=function(s){var a=o[s];ar(r,function(e,i,n,r,h,l){if((a.type===n||"*"===t)&&(!r&&".*"!==a.namespace||a.namespace===r)&&(!h||e.qualifierCompare(a.qualifier,h))&&(!l||a.callback===l))return o.splice(s,1),!1},t,e,i,n)},a=o.length-1;a>=0;a--)s(a);return this},sr.removeAllListeners=function(){return this.removeListener("*")},sr.emit=sr.trigger=function(t,e,i){var n=this.listeners,r=n.length;return this.emitting++,p(e)||(e=[e]),function(t,e,i){if("event"!==u(i))if(g(i))e(t,hr(t,i));else for(var n=p(i)?i:i.split(/\s+/),r=0;r<n.length;r++){var o=n[r];if(!k(o)){var s=o.match(er);s&&e(t,hr(t,{type:s[1],namespace:s[2]?s[2]:null,target:t.context}))}}else e(t,i)}(this,function(t,o){null!=i&&(r=(n=[{event:o.event,type:o.type,namespace:o.namespace,callback:i}]).length);for(var s=function(i){var r=n[i];if(r.type===o.type&&(!r.namespace||r.namespace===o.namespace||".*"===r.namespace)&&t.eventMatches(t.context,r,o)){var s=[o];null!=e&&function(t,e){for(var i=0;i<e.length;i++)t.push(e[i])}(s,e),t.beforeEmit(t.context,r,o),r.conf&&r.conf.one&&(t.listeners=t.listeners.filter(function(t){return t!==r}));var a=t.callbackContext(t.context,r,o),h=r.callback.apply(a,s);t.afterEmit(t.context,r,o),!1===h&&(o.stopPropagation(),o.preventDefault())}},a=0;a<r;a++)s(a);t.bubble(t.context)&&!o.isPropagationStopped()&&t.parent(t.context).emit(o,e)},t),this.emitting--,this};var lr={qualifierCompare:function(t,e){return null==t||null==e?null==t&&null==e:t.sameText(e)},eventMatches:function(t,e,i){var n=e.qualifier;return null==n||t!==i.target&&b(i.target)&&n.matches(i.target)},addEventFields:function(t,e){e.cy=t.cy(),e.target=t},callbackContext:function(t,e,i){return null!=e.qualifier?i.target:t},beforeEmit:function(t,e){e.conf&&e.conf.once&&e.conf.onceCollection.removeListener(e.event,e.qualifier,e.callback)},bubble:function(){return!0},parent:function(t){return t.isChild()?t.parent():t.cy()}},dr=function(t){return c(t)?new dn(t):t},ur={createEmitter:function(){for(var t=0;t<this.length;t++){var e=this[t],i=e._private;i.emitter||(i.emitter=new or(lr,e))}return this},emitter:function(){return this._private.emitter},on:function(t,e,i){for(var n=dr(e),r=0;r<this.length;r++)this[r].emitter().on(t,n,i);return this},removeListener:function(t,e,i){for(var n=dr(e),r=0;r<this.length;r++)this[r].emitter().removeListener(t,n,i);return this},removeAllListeners:function(){for(var t=0;t<this.length;t++)this[t].emitter().removeAllListeners();return this},one:function(t,e,i){for(var n=dr(e),r=0;r<this.length;r++)this[r].emitter().one(t,n,i);return this},once:function(t,e,i){for(var n=dr(e),r=0;r<this.length;r++)this[r].emitter().on(t,n,i,{once:!0,onceCollection:this})},emit:function(t,e){for(var i=0;i<this.length;i++)this[i].emitter().emit(t,e);return this},emitAndNotify:function(t,e){if(0!==this.length)return this.cy().notify(t,this),this.emit(t,e),this}};Gi.eventAliasesOn(ur);var cr={nodes:function(t){return this.filter(function(t){return t.isNode()}).filter(t)},edges:function(t){return this.filter(function(t){return t.isEdge()}).filter(t)},byGroup:function(){for(var t=this.spawn(),e=this.spawn(),i=0;i<this.length;i++){var n=this[i];n.isNode()?t.merge(n):e.merge(n)}return{nodes:t,edges:e}},filter:function(t,e){if(void 0===t)return this;if(c(t)||y(t))return new dn(t).filter(this);if(f(t)){for(var i=this.spawn(),n=0;n<this.length;n++){var r=this[n];(e?t.apply(e,[r,n,this]):t(r,n,this))&&i.merge(r)}return i}return this.spawn()},not:function(t){if(t){c(t)&&(t=this.filter(t));for(var e=[],i=t._private.map,n=0;n<this.length;n++){var r=this[n];i.has(r.id())||e.push(r)}return this.spawn(e)}return this},absoluteComplement:function(){return this.cy().mutableElements().not(this)},intersect:function(t){if(c(t))return this.filter(t);for(var e=[],i=this.length<t.length,n=i?t._private.map:this._private.map,r=i?this:t,o=0;o<r.length;o++){var s=n.get(r[o]._private.data.id);s&&e.push(s.ele)}return this.spawn(e)},xor:function(t){var e=this._private.cy;c(t)&&(t=e.$(t));var i=[],n=t,r=function(t,e){for(var n=0;n<t.length;n++){var r=t[n];e.hasElementWithId(r._private.data.id)||i.push(r)}};return r(this,n),r(n,this),this.spawn(i)},diff:function(t){var e=this._private.cy;c(t)&&(t=e.$(t));var i=[],n=[],r=[],o=t,s=function(t,e,i){for(var n=0;n<t.length;n++){var o=t[n];e.hasElementWithId(o._private.data.id)?r.push(o):i.push(o)}};return s(this,o,i),s(o,this,n),{left:this.spawn(i,{unique:!0}),right:this.spawn(n,{unique:!0}),both:this.spawn(r,{unique:!0})}},add:function(t){var e=this._private.cy;if(!t)return this;if(c(t)){var i=t;t=e.mutableElements().filter(i)}for(var n=[],r=0;r<this.length;r++)n.push(this[r]);for(var o=this._private.map,s=0;s<t.length;s++)!o.has(t[s].id())&&n.push(t[s]);return this.spawn(n)},merge:function(t){var e=this._private,i=e.cy;if(!t)return this;if(t&&c(t)){var n=t;t=i.mutableElements().filter(n)}for(var r=e.map,o=0;o<t.length;o++){var s=t[o],a=s._private.data.id;if(r.has(a)){var h=r.get(a).index;this[h]=s,r.set(a,{ele:s,index:h})}else{var l=this.length++;this[l]=s,r.set(a,{ele:s,index:l})}}return this},unmergeAt:function(t){var e=this[t].id(),i=this._private.map;if(this[t]=void 0,i.delete(e),this.length>1&&t!==this.length-1){var n=this.length-1,r=this[n],o=r._private.data.id;this[n]=void 0,this[t]=r,i.set(o,{ele:r,index:t})}return this.length--,this},unmergeOne:function(t){var e=this._private.map.get((t=t[0])._private.data.id);return e?(this.unmergeAt(e.index),this):this},unmerge:function(t){var e=this._private.cy;if(!t)return this;if(t&&c(t)){var i=t;t=e.mutableElements().filter(i)}for(var n=0;n<t.length;n++)this.unmergeOne(t[n]);return this},unmergeBy:function(t){for(var e=this.length-1;e>=0;e--)t(this[e])&&this.unmergeAt(e);return this},map:function(t,e){for(var i=[],n=0;n<this.length;n++){var r=this[n],o=e?t.apply(e,[r,n,this]):t(r,n,this);i.push(o)}return i},reduce:function(t,e){for(var i=e,n=0;n<this.length;n++)i=t(i,this[n],n,this);return i},max:function(t,e){for(var i,n=-1/0,r=0;r<this.length;r++){var o=this[r],s=e?t.apply(e,[o,r,this]):t(o,r,this);s>n&&(n=s,i=o)}return{value:n,ele:i}},min:function(t,e){for(var i,n=1/0,r=0;r<this.length;r++){var o=this[r],s=e?t.apply(e,[o,r,this]):t(o,r,this);s<n&&(n=s,i=o)}return{value:n,ele:i}}},fr=cr;fr.u=fr["|"]=fr["+"]=fr.union=fr.or=fr.add,fr["\\"]=fr["!"]=fr["-"]=fr.difference=fr.relativeComplement=fr.subtract=fr.not,fr.n=fr["&"]=fr["."]=fr.and=fr.intersection=fr.intersect,fr["^"]=fr["(+)"]=fr["(-)"]=fr.symmetricDifference=fr.symdiff=fr.xor,fr.fnFilter=fr.filterFn=fr.stdFilter=fr.filter,fr.complement=fr.abscomp=fr.absoluteComplement;var pr=function(t,e){var i=t.cy().hasCompoundNodes();function n(t){var e=t.pstyle("z-compound-depth");return"auto"===e.value?i?t.zDepth():0:"bottom"===e.value?-1:"top"===e.value?mt:0}var r=n(t)-n(e);if(0!==r)return r;function o(t){return"auto"===t.pstyle("z-index-compare").value&&t.isNode()?1:0}var s=o(t)-o(e);if(0!==s)return s;var a=t.pstyle("z-index").value-e.pstyle("z-index").value;return 0!==a?a:t.poolIndex()-e.poolIndex()},gr={forEach:function(t,e){if(f(t))for(var i=this.length,n=0;n<i;n++){var r=this[n];if(!1===(e?t.apply(e,[r,n,this]):t(r,n,this)))break}return this},toArray:function(){for(var t=[],e=0;e<this.length;e++)t.push(this[e]);return t},slice:function(t,e){var i=[],n=this.length;null==e&&(e=n),null==t&&(t=0),t<0&&(t=n+t),e<0&&(e=n+e);for(var r=t;r>=0&&r<e&&r<n;r++)i.push(this[r]);return this.spawn(i)},size:function(){return this.length},eq:function(t){return this[t]||this.spawn()},first:function(){return this[0]||this.spawn()},last:function(){return this[this.length-1]||this.spawn()},empty:function(){return 0===this.length},nonempty:function(){return!this.empty()},sort:function(t){if(!f(t))return this;var e=this.toArray().sort(t);return this.spawn(e)},sortByZIndex:function(){return this.sort(pr)},zDepth:function(){var t=this[0];if(t){var e=t._private;if("nodes"===e.group){var i=e.data.parent?t.parents().size():0;return t.isParent()?i:mt-1}var n=e.target,r=e.source.zDepth(),o=n.zDepth();return Math.max(r,o,0)}}};gr.each=gr.forEach;var mr=Nt({nodeDimensionsIncludeLabels:!1}),vr={layoutDimensions:function(t){var e;if(t=mr(t),this.takesUpSpace())if(t.nodeDimensionsIncludeLabels){var i=this.boundingBox();e={w:i.w,h:i.h}}else e={w:this.outerWidth(),h:this.outerHeight()};else e={w:0,h:0};return 0!==e.w&&0!==e.h||(e.w=e.h=1),e},layoutPositions:function(t,e,i){var n=this.nodes(),r=this.cy(),o=e.eles,s=function(t){return t.id()},a=C(i,s);t.emit({type:"layoutstart",layout:t}),t.animations=[];var h=e.spacingFactor&&1!==e.spacingFactor,l=function(){if(!h)return null;for(var t=ue(),e=0;e<n.length;e++){var i=a(n[e],e);ce(t,i.x,i.y)}return t}(),d=C(function(t,i){var n=a(t,i);return h&&(n=function(t,e,i){var n=l.x1+l.w/2,r=l.y1+l.h/2;return{x:n+(i.x-n)*t,y:r+(i.y-r)*t}}(Math.abs(e.spacingFactor),0,n)),null!=e.transform&&(n=e.transform(t,n)),n},s);if(e.animate){for(var u=0;u<n.length;u++){var c=n[u],f=d(c,u);if(null==e.animateFilter||e.animateFilter(c,u)){var p=c.animation({position:f,duration:e.animationDuration,easing:e.animationEasing});t.animations.push(p)}else c.position(f)}if(e.fit){var g=r.animation({fit:{boundingBox:o.boundingBoxAt(d),padding:e.padding},duration:e.animationDuration,easing:e.animationEasing});t.animations.push(g)}else if(void 0!==e.zoom&&void 0!==e.pan){var m=r.animation({zoom:e.zoom,pan:e.pan,duration:e.animationDuration,easing:e.animationEasing});t.animations.push(m)}t.animations.forEach(function(t){return t.play()}),t.one("layoutready",e.ready),t.emit({type:"layoutready",layout:t}),Ui.all(t.animations.map(function(t){return t.promise()})).then(function(){t.one("layoutstop",e.stop),t.emit({type:"layoutstop",layout:t})})}else n.positions(d),e.fit&&r.fit(e.eles,e.padding),null!=e.zoom&&r.zoom(e.zoom),e.pan&&r.pan(e.pan),t.one("layoutready",e.ready),t.emit({type:"layoutready",layout:t}),t.one("layoutstop",e.stop),t.emit({type:"layoutstop",layout:t});return this},layout:function(t){return this.cy().makeLayout(O({},t,{eles:this}))}};function yr(t,e,i){var n,r=i._private,o=r.styleCache=r.styleCache||[];return null!=(n=o[t])?n:n=o[t]=e(i)}function br(t,e){return t=dt(t),function(i){return yr(t,e,i)}}function wr(t,e){t=dt(t);var i=function(t){return e.call(t)};return function(){var e=this[0];if(e)return yr(t,i,e)}}vr.createLayout=vr.makeLayout=vr.layout;var xr={recalculateRenderedStyle:function(t){var e=this.cy(),i=e.renderer(),n=e.styleEnabled();return i&&n&&i.recalculateRenderedStyle(this,t),this},dirtyStyleCache:function(){var t,e=this.cy(),i=function(t){return t._private.styleCache=null};return e.hasCompoundNodes()?((t=this.spawnSelf().merge(this.descendants()).merge(this.parents())).merge(t.connectedEdges()),t.forEach(i)):this.forEach(function(t){i(t),t.connectedEdges().forEach(i)}),this},updateStyle:function(t){var e=this._private.cy;if(!e.styleEnabled())return this;if(e.batching())return e._private.batchStyleEles.merge(this),this;var i=e.hasCompoundNodes(),n=e.style(),r=this;t=!(!t&&void 0!==t),i&&(r=this.spawnSelf().merge(this.descendants()).merge(this.parents()));var o=n.apply(r);return t?o.emitAndNotify("style"):o.emit("style"),this},parsedStyle:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this[0],n=i.cy();if(n.styleEnabled()&&i){var r=i._private.style[t];return null!=r?r:e?n.style().getDefaultProperty(t):null}},numericStyle:function(t){var e=this[0];if(e.cy().styleEnabled()&&e){var i=e.pstyle(t);return void 0!==i.pfValue?i.pfValue:i.value}},numericStyleUnits:function(t){var e=this[0];if(e.cy().styleEnabled())return e?e.pstyle(t).units:void 0},renderedStyle:function(t){var e=this.cy();if(!e.styleEnabled())return this;var i=this[0];return i?e.style().getRenderedStyle(i,t):void 0},style:function(t,e){var i=this.cy();if(!i.styleEnabled())return this;var n=i.style();if(g(t))n.applyBypass(this,t,!1),this.emitAndNotify("style");else if(c(t)){if(void 0===e){var r=this[0];return r?n.getStylePropertyValue(r,t):void 0}n.applyBypass(this,t,e,!1),this.emitAndNotify("style")}else if(void 0===t){var o=this[0];return o?n.getRawStyle(o):void 0}return this},removeStyle:function(t){var e=this.cy();if(!e.styleEnabled())return this;var i=e.style();if(void 0===t)for(var n=0;n<this.length;n++)i.removeAllBypasses(this[n],!1);else{t=t.split(/\s+/);for(var r=0;r<this.length;r++)i.removeBypasses(this[r],t,!1)}return this.emitAndNotify("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},effectiveOpacity:function(){var t=this.cy();if(!t.styleEnabled())return 1;var e=t.hasCompoundNodes(),i=this[0];if(i){var n=i._private,r=i.pstyle("opacity").value;if(!e)return r;var o=n.data.parent?i.parents():null;if(o)for(var s=0;s<o.length;s++)r*=o[s].pstyle("opacity").value;return r}},transparent:function(){if(!this.cy().styleEnabled())return!1;var t=this[0],e=t.cy().hasCompoundNodes();return t?e?0===t.effectiveOpacity():0===t.pstyle("opacity").value:void 0},backgrounding:function(){return!!this.cy().styleEnabled()&&!!this[0]._private.backgrounding}};function _r(t,e){var i=t._private.data.parent?t.parents():null;if(i)for(var n=0;n<i.length;n++)if(!e(i[n]))return!1;return!0}function kr(t){var e=t.ok,i=t.edgeOkViaNode||t.ok,n=t.parentOk||t.ok;return function(){var t=this.cy();if(!t.styleEnabled())return!0;var r=this[0],o=t.hasCompoundNodes();if(r){var s=r._private;if(!e(r))return!1;if(r.isNode())return!o||_r(r,n);var a=s.source,h=s.target;return i(a)&&(!o||_r(a,i))&&(a===h||i(h)&&(!o||_r(h,i)))}}}var Sr=br("eleTakesUpSpace",function(t){return"element"===t.pstyle("display").value&&0!==t.width()&&(!t.isNode()||0!==t.height())});xr.takesUpSpace=wr("takesUpSpace",kr({ok:Sr}));var Mr=br("eleInteractive",function(t){return"yes"===t.pstyle("events").value&&"visible"===t.pstyle("visibility").value&&Sr(t)}),Cr=br("parentInteractive",function(t){return"visible"===t.pstyle("visibility").value&&Sr(t)});xr.interactive=wr("interactive",kr({ok:Mr,parentOk:Cr,edgeOkViaNode:Sr})),xr.noninteractive=function(){var t=this[0];if(t)return!t.interactive()};var Er=br("eleVisible",function(t){return"visible"===t.pstyle("visibility").value&&0!==t.pstyle("opacity").pfValue&&Sr(t)});xr.visible=wr("visible",kr({ok:Er,edgeOkViaNode:Sr})),xr.hidden=function(){var t=this[0];if(t)return!t.visible()},xr.isBundledBezier=wr("isBundledBezier",function(){return!!this.cy().styleEnabled()&&!this.removed()&&"bezier"===this.pstyle("curve-style").value&&this.takesUpSpace()}),xr.bypass=xr.css=xr.style,xr.renderedCss=xr.renderedStyle,xr.removeBypass=xr.removeCss=xr.removeStyle,xr.pstyle=xr.parsedStyle;var Nr={};function Ar(t){return function(){var e=arguments,i=[];if(2===e.length){var n=e[0],r=e[1];this.on(t.event,n,r)}else if(1===e.length&&f(e[0])){var o=e[0];this.on(t.event,o)}else if(0===e.length||1===e.length&&p(e[0])){for(var s=1===e.length?e[0]:null,a=0;a<this.length;a++){var h=this[a],l=!t.ableField||h._private[t.ableField],d=h._private[t.field]!=t.value;if(t.overrideAble){var u=t.overrideAble(h);if(void 0!==u&&(l=u,!u))return this}l&&(h._private[t.field]=t.value,d&&i.push(h))}var c=this.spawn(i);c.updateStyle(),c.emit(t.event),s&&c.emit(s)}return this}}function Dr(t){Nr[t.field]=function(){var e=this[0];if(e){if(t.overrideField){var i=t.overrideField(e);if(void 0!==i)return i}return e._private[t.field]}},Nr[t.on]=Ar({event:t.on,field:t.field,ableField:t.ableField,overrideAble:t.overrideAble,value:!0}),Nr[t.off]=Ar({event:t.off,field:t.field,ableField:t.ableField,overrideAble:t.overrideAble,value:!1})}Dr({field:"locked",overrideField:function(t){return!!t.cy().autolock()||void 0},on:"lock",off:"unlock"}),Dr({field:"grabbable",overrideField:function(t){return!t.cy().autoungrabify()&&!t.pannable()&&void 0},on:"grabify",off:"ungrabify"}),Dr({field:"selected",ableField:"selectable",overrideAble:function(t){return!t.cy().autounselectify()&&void 0},on:"select",off:"unselect"}),Dr({field:"selectable",overrideField:function(t){return!t.cy().autounselectify()&&void 0},on:"selectify",off:"unselectify"}),Nr.deselect=Nr.unselect,Nr.grabbed=function(){var t=this[0];if(t)return t._private.grabbed},Dr({field:"active",on:"activate",off:"unactivate"}),Dr({field:"pannable",on:"panify",off:"unpanify"}),Nr.inactive=function(){var t=this[0];if(t)return!t._private.active};var Tr={},Lr=function(t){return function(e){for(var i=[],n=0;n<this.length;n++){var r=this[n];if(r.isNode()){for(var o=!1,s=r.connectedEdges(),a=0;a<s.length;a++){var h=s[a],l=h.source(),d=h.target();if(t.noIncomingEdges&&d===r&&l!==r||t.noOutgoingEdges&&l===r&&d!==r){o=!0;break}}o||i.push(r)}}return this.spawn(i,{unique:!0}).filter(e)}},Or=function(t){return function(e){for(var i=[],n=0;n<this.length;n++){var r=this[n];if(r.isNode())for(var o=r.connectedEdges(),s=0;s<o.length;s++){var a=o[s],h=a.source(),l=a.target();t.outgoing&&h===r?(i.push(a),i.push(l)):t.incoming&&l===r&&(i.push(a),i.push(h))}}return this.spawn(i,{unique:!0}).filter(e)}},Pr=function(t){return function(e){for(var i=this,n=[],r={};;){var o=t.outgoing?i.outgoers():i.incomers();if(0===o.length)break;for(var s=!1,a=0;a<o.length;a++){var h=o[a],l=h.id();r[l]||(r[l]=!0,n.push(h),s=!0)}if(!s)break;i=o}return this.spawn(n,{unique:!0}).filter(e)}};function Ir(t){return function(e){for(var i=[],n=0;n<this.length;n++){var r=this[n]._private[t.attr];r&&i.push(r)}return this.spawn(i,{unique:!0}).filter(e)}}function Br(t){return function(e){var i=[],n=this._private.cy,r=t||{};c(e)&&(e=n.$(e));for(var o=0;o<e.length;o++)for(var s=e[o]._private.edges,a=0;a<s.length;a++){var h=s[a],l=h._private.data,d=this.hasElementWithId(l.source)&&e.hasElementWithId(l.target),u=e.hasElementWithId(l.source)&&this.hasElementWithId(l.target);if(d||u){if(r.thisIsSrc||r.thisIsTgt){if(r.thisIsSrc&&!d)continue;if(r.thisIsTgt&&!u)continue}i.push(h)}}return this.spawn(i,{unique:!0})}}function Rr(t){return t=O({},{codirected:!1},t),function(e){for(var i=[],n=this.edges(),r=t,o=0;o<n.length;o++)for(var s=n[o]._private,a=s.source,h=a._private.data.id,l=s.data.target,d=a._private.edges,u=0;u<d.length;u++){var c=d[u],f=c._private.data,p=f.target,g=f.source,m=p===l&&g===h;(r.codirected&&m||!r.codirected&&(m||h===p&&l===g))&&i.push(c)}return this.spawn(i,{unique:!0}).filter(e)}}Tr.clearTraversalCache=function(){for(var t=0;t<this.length;t++)this[t]._private.traversalCache=null},O(Tr,{roots:Lr({noIncomingEdges:!0}),leaves:Lr({noOutgoingEdges:!0}),outgoers:gn(Or({outgoing:!0}),"outgoers"),successors:Pr({outgoing:!0}),incomers:gn(Or({incoming:!0}),"incomers"),predecessors:Pr({incoming:!0})}),O(Tr,{neighborhood:gn(function(t){for(var e=[],i=this.nodes(),n=0;n<i.length;n++)for(var r=i[n],o=r.connectedEdges(),s=0;s<o.length;s++){var a=o[s],h=a.source(),l=a.target(),d=r===h?l:h;d.length>0&&e.push(d[0]),e.push(a[0])}return this.spawn(e,{unique:!0}).filter(t)},"neighborhood"),closedNeighborhood:function(t){return this.neighborhood().add(this).filter(t)},openNeighborhood:function(t){return this.neighborhood(t)}}),Tr.neighbourhood=Tr.neighborhood,Tr.closedNeighbourhood=Tr.closedNeighborhood,Tr.openNeighbourhood=Tr.openNeighborhood,O(Tr,{source:gn(function(t){var e,i=this[0];return i&&(e=i._private.source||i.cy().collection()),e&&t?e.filter(t):e},"source"),target:gn(function(t){var e,i=this[0];return i&&(e=i._private.target||i.cy().collection()),e&&t?e.filter(t):e},"target"),sources:Ir({attr:"source"}),targets:Ir({attr:"target"})}),O(Tr,{edgesWith:gn(Br(),"edgesWith"),edgesTo:gn(Br({thisIsSrc:!0}),"edgesTo")}),O(Tr,{connectedEdges:gn(function(t){for(var e=[],i=0;i<this.length;i++){var n=this[i];if(n.isNode())for(var r=n._private.edges,o=0;o<r.length;o++)e.push(r[o])}return this.spawn(e,{unique:!0}).filter(t)},"connectedEdges"),connectedNodes:gn(function(t){for(var e=[],i=0;i<this.length;i++){var n=this[i];n.isEdge()&&(e.push(n.source()[0]),e.push(n.target()[0]))}return this.spawn(e,{unique:!0}).filter(t)},"connectedNodes"),parallelEdges:gn(Rr(),"parallelEdges"),codirectedEdges:gn(Rr({codirected:!0}),"codirectedEdges")}),O(Tr,{components:function(t){var e=this,i=e.cy(),n=i.collection(),r=null==t?e.nodes():t.nodes(),o=[];null!=t&&r.empty()&&(r=t.sources());var s=function(t,e){n.merge(t),r.unmerge(t),e.merge(t)};if(r.empty())return e.spawn();var a=function(){var t=i.collection();o.push(t);var n=r[0];s(n,t),e.bfs({directed:!1,roots:n,visit:function(e){return s(e,t)}}),t.forEach(function(e){e.connectedEdges().forEach(function(e){t.has(e.source())&&t.has(e.target())&&t.merge(e)})})};do{a()}while(r.length>0);return o},component:function(){var t=this[0];return t.cy().mutableElements().components(t)[0]}}),Tr.componentsOf=Tr.components;var Fr=function(t,e,i){for(var n=null!=i?i:Mt();t.hasElementWithId(n);)n=Mt();return n},zr=function(t,e,i){if(void 0!==t&&x(t)){var n=new Ot,r=!1;if(e){if(e.length>0&&g(e[0])&&!b(e[0])){r=!0;for(var o=[],s=new It,a=0,h=e.length;a<h;a++){var l=e[a];null==l.data&&(l.data={});var d=l.data;if(null==d.id)d.id=Fr(t);else if(t.hasElementWithId(d.id)||s.has(d.id))continue;var u=new Bt(t,l,!1);o.push(u),s.add(d.id)}e=o}}else e=[];this.length=0;for(var c=0,f=e.length;c<f;c++){var p=e[c][0];if(null!=p){var m=p._private.data.id;(null==i||i.unique&&!n.has(m))&&(n.set(m,{index:this.length,ele:p}),this[this.length]=p,this.length++)}}this._private={cy:t,map:n},r&&this.restore()}else xt("A collection must have a reference to the core")},jr=Bt.prototype=zr.prototype;jr.instanceString=function(){return"collection"},jr.spawn=function(t,e,i){return x(t)||(i=e,e=t,t=this.cy()),new zr(t,e,i)},jr.spawnSelf=function(){return this.spawn(this)},jr.cy=function(){return this._private.cy},jr.renderer=function(){return this._private.cy.renderer()},jr.element=function(){return this[0]},jr.collection=function(){return w(this)?this:new zr(this._private.cy,[this])},jr.unique=function(){return new zr(this._private.cy,this,{unique:!0})},jr.hasElementWithId=function(t){return this._private.map.has(t=""+t)},jr.getElementById=function(t){var e=this._private.cy,i=this._private.map.get(t=""+t);return i?i.ele:new zr(e)},jr.$id=jr.getElementById,jr.poolIndex=function(){return this._private.cy._private.elements._private.map.get(this[0]._private.data.id).index},jr.indexOf=function(t){return this._private.map.get(t[0]._private.data.id).index},jr.indexOfId=function(t){return this._private.map.get(t=""+t).index},jr.json=function(t){var e=this.element(),i=this.cy();if(null==e&&t)return this;if(null!=e){var n=e._private;if(g(t)){if(i.startBatch(),t.data){e.data(t.data);var r=n.data;if(e.isEdge()){var o=!1,s={},a=t.data.source,h=t.data.target;null!=a&&a!=r.source&&(s.source=""+a,o=!0),null!=h&&h!=r.target&&(s.target=""+h,o=!0),o&&(e=e.move(s))}else{var l=t.data.parent;null==l&&null==r.parent||l==r.parent||(void 0===l&&(l=null),null!=l&&(l=""+l),e=e.move({parent:l}))}}t.position&&e.position(t.position);var d=function(i,r,o){var s=t[i];null!=s&&s!==n[i]&&(s?e[r]():e[o]())};return d("removed","remove","restore"),d("selected","select","unselect"),d("selectable","selectify","unselectify"),d("locked","lock","unlock"),d("grabbable","grabify","ungrabify"),d("pannable","panify","unpanify"),null!=t.classes&&e.classes(t.classes),i.endBatch(),this}if(void 0===t){var u={data:St(n.data),position:St(n.position),group:n.group,removed:n.removed,selected:n.selected,selectable:n.selectable,locked:n.locked,grabbable:n.grabbable,pannable:n.pannable,classes:null};u.classes="";var c=0;return n.classes.forEach(function(t){return u.classes+=0==c++?t:" "+t}),u}}},jr.jsons=function(){for(var t=[],e=0;e<this.length;e++){var i=this[e].json();t.push(i)}return t},jr.clone=function(){for(var t=this.cy(),e=[],i=0;i<this.length;i++){var n=this[i].json(),r=new Bt(t,n,!1);e.push(r)}return new zr(t,e)},jr.copy=jr.clone,jr.restore=function(){for(var t,e,i=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=this.cy(),o=r._private,s=[],a=[],h=0,l=this.length;h<l;h++){var d=this[h];n&&!d.removed()||(d.isNode()?s.push(d):a.push(d))}t=s.concat(a);var u=function(){t.splice(e,1),e--};for(e=0;e<t.length;e++){var f=t[e],p=f._private,g=p.data;if(f.clearTraversalCache(),n||p.removed)if(void 0===g.id)g.id=Fr(r);else if(m(g.id))g.id=""+g.id;else{if(k(g.id)||!c(g.id)){xt("Can not create element with invalid string ID `"+g.id+"`"),u();continue}if(r.hasElementWithId(g.id)){xt("Can not create second element with ID `"+g.id+"`"),u();continue}}var v=g.id;if(f.isNode()){var y=p.position;null==y.x&&(y.x=0),null==y.y&&(y.y=0)}if(f.isEdge()){for(var b=f,w=["source","target"],x=w.length,_=!1,S=0;S<x;S++){var M=w[S],C=g[M];m(C)&&(C=g[M]=""+g[M]),null==C||""===C?(xt("Can not create edge `"+v+"` with unspecified "+M),_=!0):r.hasElementWithId(C)||(xt("Can not create edge `"+v+"` with nonexistant "+M+" `"+C+"`"),_=!0)}if(_){u();continue}var E=r.getElementById(g.source),N=r.getElementById(g.target);E.same(N)?E._private.edges.push(b):(E._private.edges.push(b),N._private.edges.push(b)),b._private.source=E,b._private.target=N}p.map=new Ot,p.map.set(v,{ele:f,index:0}),p.removed=!1,n&&r.addToPool(f)}for(var A=0;A<s.length;A++){var D=s[A],T=D._private.data;m(T.parent)&&(T.parent=""+T.parent);var L=T.parent;if(null!=L){var O=r.getElementById(L);if(O.empty())T.parent=void 0;else{for(var P=!1,I=O;!I.empty();){if(D.same(I)){P=!0,T.parent=void 0;break}I=I.parent()}P||(O[0]._private.children.push(D),D._private.parent=O[0],o.hasCompoundNodes=!0)}}}if(t.length>0){for(var B=new zr(r,t),R=0;R<B.length;R++){var F=B[R];F.isNode()||(F.parallelEdges().clearTraversalCache(),F.source().clearTraversalCache(),F.target().clearTraversalCache())}(o.hasCompoundNodes?r.collection().merge(B).merge(B.connectedNodes()).merge(B.parent()):B).dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(i),i?B.emitAndNotify("add"):n&&B.emit("add")}return this},jr.removed=function(){var t=this[0];return t&&t._private.removed},jr.inside=function(){var t=this[0];return t&&!t._private.removed},jr.remove=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=[],n={},r=this._private.cy;function o(t){var r=n[t.id()];e&&t.removed()||r||(n[t.id()]=!0,t.isNode()?(i.push(t),function(t){for(var e=t._private.edges,i=0;i<e.length;i++)o(e[i])}(t),function(t){for(var e=t._private.children,i=0;i<e.length;i++)o(e[i])}(t)):i.unshift(t))}for(var s=0,a=this.length;s<a;s++)o(this[s]);function h(t,e){At(t._private.edges,e),t.clearTraversalCache()}function l(t){t.clearTraversalCache()}var d=[];function u(t,e){e=e[0];var i=(t=t[0])._private.children,n=t.id();At(i,e),e._private.parent=null,d.ids[n]||(d.ids[n]=!0,d.push(t))}d.ids={},this.dirtyCompoundBoundsCache(),e&&r.removeFromPool(i);for(var c=0;c<i.length;c++){var f=i[c];if(f.isEdge()){var p=f.source()[0],g=f.target()[0];h(p,f),h(g,f);for(var m=f.parallelEdges(),v=0;v<m.length;v++){var y=m[v];l(y),y.isBundledBezier()&&y.dirtyBoundingBoxCache()}}else{var b=f.parent();0!==b.length&&u(b,f)}e&&(f._private.removed=!0)}var w=r._private.elements;r._private.hasCompoundNodes=!1;for(var x=0;x<w.length;x++)if(w[x].isParent()){r._private.hasCompoundNodes=!0;break}var _=new zr(this.cy(),i);_.size()>0&&(t?_.emitAndNotify("remove"):e&&_.emit("remove"));for(var k=0;k<d.length;k++){var S=d[k];e&&S.removed()||S.updateStyle()}return _},jr.move=function(t){var e=this._private.cy,i=this,n=function(t){return null==t?t:""+t};if(void 0!==t.source||void 0!==t.target){var r=n(t.source),o=n(t.target),s=null!=r&&e.hasElementWithId(r),a=null!=o&&e.hasElementWithId(o);(s||a)&&(e.batch(function(){i.remove(!1,!1),i.emitAndNotify("moveout");for(var t=0;t<i.length;t++){var e=i[t],n=e._private.data;e.isEdge()&&(s&&(n.source=r),a&&(n.target=o))}i.restore(!1,!1)}),i.emitAndNotify("move"))}else if(void 0!==t.parent){var h=n(t.parent);if(null===h||e.hasElementWithId(h)){var l=null===h?void 0:h;e.batch(function(){var t=i.remove(!1,!1);t.emitAndNotify("moveout");for(var e=0;e<i.length;e++){var n=i[e],r=n._private.data;n.isNode()&&(r.parent=l)}t.restore(!1,!1)}),i.emitAndNotify("move")}}return this},[Ri,Xi,Ki,cn,mn,kn,Sn,Qn,ur,cr,{isNode:function(){return"nodes"===this.group()},isEdge:function(){return"edges"===this.group()},isLoop:function(){return this.isEdge()&&this.source()[0]===this.target()[0]},isSimple:function(){return this.isEdge()&&this.source()[0]!==this.target()[0]},group:function(){var t=this[0];if(t)return t._private.group}},gr,vr,xr,Nr,Tr].forEach(function(t){O(jr,t)});var qr={add:function(t){var e,i=this;if(y(t)){var n=t;if(n._private.cy===i)e=n.restore();else{for(var r=[],o=0;o<n.length;o++)r.push(n[o].json());e=new zr(i,r)}}else if(p(t))e=new zr(i,t);else if(g(t)&&(p(t.nodes)||p(t.edges))){for(var s=t,a=[],h=["nodes","edges"],l=0,d=h.length;l<d;l++){var u=h[l],c=s[u];if(p(c))for(var f=0,m=c.length;f<m;f++){var v=O({group:u},c[f]);a.push(v)}}e=new zr(i,a)}else e=new Bt(i,t).collection();return e},remove:function(t){return y(t)||c(t)&&(t=this.$(t)),t.remove()}},Hr=function(){function t(t){return-t.tension*t.x-t.friction*t.v}function e(e,i,n){var r={x:e.x+n.dx*i,v:e.v+n.dv*i,tension:e.tension,friction:e.friction};return{dx:r.v,dv:t(r)}}function i(i,n){var r={dx:i.v,dv:t(i)},o=e(i,.5*n,r),s=e(i,.5*n,o),a=e(i,n,s),h=1/6*(r.dv+2*(o.dv+s.dv)+a.dv);return i.x=i.x+1/6*(r.dx+2*(o.dx+s.dx)+a.dx)*n,i.v=i.v+h*n,i}return function t(e,n,r){var o,s,a,h={x:-1,v:0,tension:null,friction:null},l=[0],d=0;for(e=parseFloat(e)||500,n=parseFloat(n)||20,r=r||null,h.tension=e,h.friction=n,s=(o=null!==r)?(d=t(e,n))/r*.016:.016;a=i(a||h,s),l.push(1+a.x),d+=16,Math.abs(a.x)>1e-4&&Math.abs(a.v)>1e-4;);return o?function(t){return l[t*(l.length-1)|0]}:d}}(),Wr=function(t,e,i,n){var r=function(t,e,i,n){var r=4,o=.001,s=1e-7,a=10,h=11,l=1/(h-1),d="undefined"!=typeof Float32Array;if(4!==arguments.length)return!1;for(var u=0;u<4;++u)if("number"!=typeof arguments[u]||isNaN(arguments[u])||!isFinite(arguments[u]))return!1;t=Math.min(t,1),i=Math.min(i,1),t=Math.max(t,0),i=Math.max(i,0);var c=d?new Float32Array(h):new Array(h);function f(t,e){return 1-3*e+3*t}function p(t,e){return 3*e-6*t}function g(t){return 3*t}function m(t,e,i){return((f(e,i)*t+p(e,i))*t+g(e))*t}function v(t,e,i){return 3*f(e,i)*t*t+2*p(e,i)*t+g(e)}function y(e){for(var n=0,d=1,u=h-1;d!==u&&c[d]<=e;++d)n+=l;var f=n+(e-c[--d])/(c[d+1]-c[d])*l,p=v(f,t,i);return p>=o?function(e,n){for(var o=0;o<r;++o){var s=v(n,t,i);if(0===s)return n;n-=(m(n,t,i)-e)/s}return n}(e,f):0===p?f:function(e,n,r){var o,h,l=0;do{(o=m(h=n+(r-n)/2,t,i)-e)>0?r=h:n=h}while(Math.abs(o)>s&&++l<a);return h}(e,n,n+l)}var b=!1,w=function(r){return b||(b=!0,t===e&&i===n||function(){for(var e=0;e<h;++e)c[e]=m(e*l,t,i)}()),t===e&&i===n?r:0===r?0:1===r?1:m(y(r),e,n)};w.getControlPoints=function(){return[{x:t,y:e},{x:i,y:n}]};var x="generateBezier("+[t,e,i,n]+")";return w.toString=function(){return x},w}(t,e,i,n);return function(t,e,i){return t+(e-t)*r(i)}},Ur={linear:function(t,e,i){return t+(e-t)*i},ease:Wr(.25,.1,.25,1),"ease-in":Wr(.42,0,1,1),"ease-out":Wr(0,0,.58,1),"ease-in-out":Wr(.42,0,.58,1),"ease-in-sine":Wr(.47,0,.745,.715),"ease-out-sine":Wr(.39,.575,.565,1),"ease-in-out-sine":Wr(.445,.05,.55,.95),"ease-in-quad":Wr(.55,.085,.68,.53),"ease-out-quad":Wr(.25,.46,.45,.94),"ease-in-out-quad":Wr(.455,.03,.515,.955),"ease-in-cubic":Wr(.55,.055,.675,.19),"ease-out-cubic":Wr(.215,.61,.355,1),"ease-in-out-cubic":Wr(.645,.045,.355,1),"ease-in-quart":Wr(.895,.03,.685,.22),"ease-out-quart":Wr(.165,.84,.44,1),"ease-in-out-quart":Wr(.77,0,.175,1),"ease-in-quint":Wr(.755,.05,.855,.06),"ease-out-quint":Wr(.23,1,.32,1),"ease-in-out-quint":Wr(.86,0,.07,1),"ease-in-expo":Wr(.95,.05,.795,.035),"ease-out-expo":Wr(.19,1,.22,1),"ease-in-out-expo":Wr(1,0,0,1),"ease-in-circ":Wr(.6,.04,.98,.335),"ease-out-circ":Wr(.075,.82,.165,1),"ease-in-out-circ":Wr(.785,.135,.15,.86),spring:function(t,e,i){if(0===i)return Ur.linear;var n=Hr(t,e,i);return function(t,e,i){return t+(e-t)*n(i)}},"cubic-bezier":Wr};function Vr(t,e,i,n,r){if(1===n)return i;var o=r(e,i,n);return null==t?o:((t.roundValue||t.color)&&(o=Math.round(o)),void 0!==t.min&&(o=Math.max(o,t.min)),void 0!==t.max&&(o=Math.min(o,t.max)),o)}function Yr(t,e){return null!=t.pfValue||null!=t.value?null==t.pfValue||null!=e&&"%"===e.type.units?t.value:t.pfValue:t}function Gr(t,e,i,n,r){var o=null!=r?r.type:null;i<0?i=0:i>1&&(i=1);var s=Yr(t,r),a=Yr(e,r);if(m(s)&&m(a))return Vr(o,s,a,i,n);if(p(s)&&p(a)){for(var h=[],l=0;l<a.length;l++){var d=s[l],u=a[l];if(null!=d&&null!=u){var c=Vr(o,d,u,i,n);h.push(c)}else h.push(u)}return h}}function Xr(t,e,i,n){var r=!n,o=t._private,s=e._private,a=s.easing,h=s.startTime,l=(n?t:t.cy()).style();if(!s.easingImpl)if(null==a)s.easingImpl=Ur.linear;else{var d,u,f;d=c(a)?l.parse("transition-timing-function",a).value:a,c(d)?(u=d,f=[]):(u=d[1],f=d.slice(2).map(function(t){return+t})),f.length>0?("spring"===u&&f.push(s.duration),s.easingImpl=Ur[u].apply(null,f)):s.easingImpl=Ur[u]}var p,g=s.easingImpl;if(p=0===s.duration?1:(i-h)/s.duration,s.applying&&(p=s.progress),p<0?p=0:p>1&&(p=1),null==s.delay){var m=s.startPosition,v=s.position;if(v&&r&&!t.locked()){var y={};Kr(m.x,v.x)&&(y.x=Gr(m.x,v.x,p,g)),Kr(m.y,v.y)&&(y.y=Gr(m.y,v.y,p,g)),t.position(y)}var b=s.startPan,w=s.pan,x=o.pan,_=null!=w&&n;_&&(Kr(b.x,w.x)&&(x.x=Gr(b.x,w.x,p,g)),Kr(b.y,w.y)&&(x.y=Gr(b.y,w.y,p,g)),t.emit("pan"));var k=s.startZoom,S=s.zoom,M=null!=S&&n;M&&(Kr(k,S)&&(o.zoom=de(o.minZoom,Gr(k,S,p,g),o.maxZoom)),t.emit("zoom")),(_||M)&&t.emit("viewport");var C=s.style;if(C&&C.length>0&&r){for(var E=0;E<C.length;E++){var N=C[E],A=N.name,D=s.startStyle[A],T=Gr(D,N,p,g,l.properties[D.name]);l.overrideBypass(t,A,T)}t.emit("style")}}return s.progress=p,p}function Kr(t,e){return!(null==t||null==e||!(m(t)&&m(e)||t&&e))}function Zr(t,e,i,n){var r=e._private;r.started=!0,r.startTime=i-r.progress*r.duration}function Qr(t,e){var i=e._private.aniEles,n=[];function r(e,i){var r=e._private,o=r.animation.current,s=r.animation.queue,a=!1;if(!i&&"none"===e.pstyle("display").value){o=o.splice(0,o.length).concat(s.splice(0,s.length));for(var h=0;h<o.length;h++)o[h].stop()}if(0===o.length){var l=s.shift();l&&o.push(l)}for(var d=function(t){for(var e=t.length-1;e>=0;e--)(0,t[e])();t.splice(0,t.length)},u=o.length-1;u>=0;u--){var c=o[u],f=c._private;f.stopped?(o.splice(u,1),f.hooked=!1,f.playing=!1,f.started=!1,d(f.frames)):(f.playing||f.applying)&&(f.playing&&f.applying&&(f.applying=!1),f.started||Zr(0,c,t),Xr(e,c,t,i),f.applying&&(f.applying=!1),d(f.frames),null!=f.step&&f.step(t),c.completed()&&(o.splice(u,1),f.hooked=!1,f.playing=!1,f.started=!1,d(f.completes)),a=!0)}return i||0!==o.length||0!==s.length||n.push(e),a}for(var o=!1,s=0;s<i.length;s++){var a=r(i[s]);o=o||a}var h=r(e,!0);(o||h)&&(i.length>0?e.notify("draw",i):e.notify("draw")),i.unmerge(n),e.emit("step")}var $r={animate:Gi.animate(),animation:Gi.animation(),animated:Gi.animated(),clearQueue:Gi.clearQueue(),delay:Gi.delay(),delayAnimation:Gi.delayAnimation(),stop:Gi.stop(),addToAnimationPool:function(t){this.styleEnabled()&&this._private.aniEles.merge(t)},stopAnimationLoop:function(){this._private.animationsRunning=!1},startAnimationLoop:function(){var t=this;if(t._private.animationsRunning=!0,t.styleEnabled()){var e=t.renderer();e&&e.beforeRender?e.beforeRender(function(e,i){Qr(i,t)},e.beforeRenderPriorities.animations):function e(){t._private.animationsRunning&&ot(function(i){Qr(i,t),e()})}()}}},Jr={qualifierCompare:function(t,e){return null==t||null==e?null==t&&null==e:t.sameText(e)},eventMatches:function(t,e,i){var n=e.qualifier;return null==n||t!==i.target&&b(i.target)&&n.matches(i.target)},addEventFields:function(t,e){e.cy=t,e.target=t},callbackContext:function(t,e,i){return null!=e.qualifier?i.target:t}},to=function(t){return c(t)?new dn(t):t},eo={createEmitter:function(){var t=this._private;return t.emitter||(t.emitter=new or(Jr,this)),this},emitter:function(){return this._private.emitter},on:function(t,e,i){return this.emitter().on(t,to(e),i),this},removeListener:function(t,e,i){return this.emitter().removeListener(t,to(e),i),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},one:function(t,e,i){return this.emitter().one(t,to(e),i),this},once:function(t,e,i){return this.emitter().one(t,to(e),i),this},emit:function(t,e){return this.emitter().emit(t,e),this},emitAndNotify:function(t,e){return this.emit(t),this.notify(t,e),this}};Gi.eventAliasesOn(eo);var io={png:function(t){return this._private.renderer.png(t=t||{})},jpg:function(t){var e=this._private.renderer;return(t=t||{}).bg=t.bg||"#fff",e.jpg(t)}};io.jpeg=io.jpg;var no={layout:function(t){if(null!=t)if(null!=t.name){var e,i=t.name,n=this.extension("layout",i);if(null!=n)return e=c(t.eles)?this.$(t.eles):null!=t.eles?t.eles:this.$(),new n(O({},t,{cy:this,eles:e}));xt("No such layout `"+i+"` found.  Did you forget to import it and `cytoscape.use()` it?")}else xt("A `name` must be specified to make a layout");else xt("Layout options must be specified to make a layout")}};no.createLayout=no.makeLayout=no.layout;var ro={notify:function(t,e){var i=this._private;if(this.batching()){i.batchNotifications=i.batchNotifications||{};var n=i.batchNotifications[t]=i.batchNotifications[t]||this.collection();null!=e&&n.merge(e)}else if(i.notificationsEnabled){var r=this.renderer();!this.destroyed()&&r&&r.notify(t,e)}},notifications:function(t){var e=this._private;return void 0===t?e.notificationsEnabled:(e.notificationsEnabled=!!t,this)},noNotifications:function(t){this.notifications(!1),t(),this.notifications(!0)},batching:function(){return this._private.batchCount>0},startBatch:function(){var t=this._private;return null==t.batchCount&&(t.batchCount=0),0===t.batchCount&&(t.batchStyleEles=this.collection(),t.batchNotifications={}),t.batchCount++,this},endBatch:function(){var t=this._private;if(0===t.batchCount)return this;if(t.batchCount--,0===t.batchCount){t.batchStyleEles.updateStyle();var e=this.renderer();Object.keys(t.batchNotifications).forEach(function(i){var n=t.batchNotifications[i];n.empty()?e.notify(i):e.notify(i,n)})}return this},batch:function(t){return this.startBatch(),t(),this.endBatch(),this},batchData:function(t){var e=this;return this.batch(function(){for(var i=Object.keys(t),n=0;n<i.length;n++){var r=i[n],o=t[r];e.getElementById(r).data(o)}})}},oo=Nt({hideEdgesOnViewport:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.05,pixelRatio:void 0,desktopTapThreshold:4,touchTapThreshold:8,wheelSensitivity:1,debug:!1,showFps:!1}),so={renderTo:function(t,e,i,n){return this._private.renderer.renderTo(t,e,i,n),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify("draw"),this},resize:function(){return this.invalidateSize(),this.emitAndNotify("resize"),this},initRenderer:function(t){var e=this.extension("renderer",t.name);if(null!=e){void 0!==t.wheelSensitivity&&kt("You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.");var i=oo(t);i.cy=this,this._private.renderer=new e(i),this.notify("init")}else xt("Can not initialise: No such renderer `".concat(t.name,"` found. Did you forget to import it and `cytoscape.use()` it?"))},destroyRenderer:function(){this.notify("destroy");var t=this.container();if(t)for(t._cyreg=null;t.childNodes.length>0;)t.removeChild(t.childNodes[0]);this._private.renderer=null,this.mutableElements().forEach(function(t){var e=t._private;e.rscratch={},e.rstyle={},e.animation.current=[],e.animation.queue=[]})},onRender:function(t){return this.on("render",t)},offRender:function(t){return this.off("render",t)}};so.invalidateDimensions=so.resize;var ao={collection:function(t,e){return c(t)?this.$(t):y(t)?t.collection():p(t)?new zr(this,t,e):new zr(this)},nodes:function(t){var e=this.$(function(t){return t.isNode()});return t?e.filter(t):e},edges:function(t){var e=this.$(function(t){return t.isEdge()});return t?e.filter(t):e},$:function(t){var e=this._private.elements;return t?e.filter(t):e.spawnSelf()},mutableElements:function(){return this._private.elements}};ao.elements=ao.filter=ao.$;var ho={apply:function(t){var e=this._private,i=e.cy.collection();e.newStyle&&(e.contextStyles={},e.propDiffs={},this.cleanElements(t,!0));for(var n=0;n<t.length;n++){var r=t[n],o=this.getContextMeta(r);if(!o.empty){var s=this.getContextStyle(o),a=this.applyContextStyle(o,s,r);e.newStyle||this.updateTransitions(r,a.diffProps),this.updateStyleHints(r)&&i.merge(r)}}return e.newStyle=!1,i},getPropertiesDiff:function(t,e){var i=this._private.propDiffs=this._private.propDiffs||{},n=t+"-"+e,r=i[n];if(r)return r;for(var o=[],s={},a=0;a<this.length;a++){var h=this[a],l="t"===e[a],d="t"===t[a]!==l,u=h.mappedProperties.length>0;if(d||l&&u){var c=void 0;d&&u?c=h.properties:d?c=h.properties:u&&(c=h.mappedProperties);for(var f=0;f<c.length;f++){for(var p=c[f],g=p.name,m=!1,v=a+1;v<this.length&&("t"!==e[v]||!(m=null!=this[v].properties[p.name]));v++);s[g]||m||(s[g]=!0,o.push(g))}}}return i[n]=o,o},getContextMeta:function(t){var e,i="",n=t._private.styleCxtKey||"";this._private.newStyle&&(n="");for(var r=0;r<this.length;r++){var o=this[r];i+=o.selector&&o.selector.matches(t)?"t":"f"}return e=this.getPropertiesDiff(n,i),t._private.styleCxtKey=i,{key:i,diffPropNames:e,empty:0===e.length}},getContextStyle:function(t){var e=t.key,i=this._private.contextStyles=this._private.contextStyles||{};if(i[e])return i[e];for(var n={_private:{key:e}},r=0;r<this.length;r++){var o=this[r];if("t"===e[r])for(var s=0;s<o.properties.length;s++){var a=o.properties[s];n[a.name]=a}}return i[e]=n,n},applyContextStyle:function(t,e,i){for(var n=t.diffPropNames,r={},o=this.types,s=0;s<n.length;s++){var a=n[s],h=e[a],l=i.pstyle(a);if(!h){if(!l)continue;h=l.bypass?{name:a,deleteBypassed:!0}:{name:a,delete:!0}}if(l!==h){if(h.mapped===o.fn&&null!=l&&null!=l.mapping&&l.mapping.value===h.value){var d=l.mapping;if((d.fnValue=h.value(i))===d.prevFnValue)continue}var u=r[a]={prev:l};this.applyParsedProperty(i,h),u.next=i.pstyle(a),u.next&&u.next.bypass&&(u.next=u.next.bypassed)}}return{diffProps:r}},updateStyleHints:function(t){var e,i=t._private,n=this,r=n.propertyGroupKeys,o=function(t,e,i){return n.getPropertiesHash(t,e,i)},s=i.styleKey;if(t.removed())return!1;var a="nodes"===i.group,h=t._private.style;e=Object.keys(h);for(var l=0;l<r.length;l++)i.styleKeys[r[l]]=0;for(var d=function(t,e){return i.styleKeys[e]=ht(t,i.styleKeys[e])},u=function(t,e){for(var i=0;i<t.length;i++)d(t.charCodeAt(i),e)},c=function(t){return-128<t&&t<128&&Math.floor(t)!==t?2e9-(1024*t|0):t},f=0;f<e.length;f++){var p=e[f],g=h[p];if(null!=g){var m=this.properties[p],v=m.type,y=m.groupKey,b=void 0;null!=m.hashOverride?b=m.hashOverride(t,g):null!=g.pfValue&&(b=g.pfValue);var w=null==m.enums?g.value:null,x=null!=b,_=g.units;if(v.number&&(x||null!=w)){var k=x?b:w;if(v.multiple)for(var S=0;S<k.length;S++)d(c(k[S]),y);else d(c(k),y);x||null==_||u(_,y)}else u(g.strValue,y)}}for(var M=0,C=0;C<r.length;C++)M=ht(i.styleKeys[r[C]],M);i.styleKey=M;var E=i.labelDimsKey=i.styleKeys.labelDimensions;if(i.labelKey=o(t,["label"],E),i.labelStyleKey=ht(i.styleKeys.commonLabel,i.labelKey),a||(i.sourceLabelKey=o(t,["source-label"],E),i.sourceLabelStyleKey=ht(i.styleKeys.commonLabel,i.sourceLabelKey),i.targetLabelKey=o(t,["target-label"],E),i.targetLabelStyleKey=ht(i.styleKeys.commonLabel,i.targetLabelKey)),a){var N=i.styleKeys,A=N.pie;i.nodeKey=lt([N.nodeBorder,N.backgroundImage,N.compound,A],N.nodeBody),i.hasPie=0!=A}return s!==i.styleKey},clearStyleHints:function(t){var e=t._private;e.styleKeys={},e.styleKey=null,e.labelKey=null,e.labelStyleKey=null,e.sourceLabelKey=null,e.sourceLabelStyleKey=null,e.targetLabelKey=null,e.targetLabelStyleKey=null,e.nodeKey=null,e.hasPie=null},applyParsedProperty:function(t,e){var i,n=this,r=e,o=t._private.style,s=n.types,a=n.properties[r.name].type,h=r.bypass,l=o[r.name],d=l&&l.bypass,u=t._private,c=function(t){return null==t?null:null!=t.pfValue?t.pfValue:t.value},f=function(){var e=c(l),i=c(r);n.checkTriggers(t,r.name,e,i)};if("curve-style"===e.name&&t.isEdge()&&("bezier"!==e.value&&t.isLoop()||"haystack"===e.value&&(t.source().isParent()||t.target().isParent()))&&(r=e=this.parse(e.name,"bezier",h)),r.delete)return o[r.name]=void 0,f(),!0;if(r.deleteBypassed)return l?!!l.bypass&&(l.bypassed=void 0,f(),!0):(f(),!0);if(r.deleteBypass)return l?!!l.bypass&&(o[r.name]=l.bypassed,f(),!0):(f(),!0);var p=function(){kt("Do not assign mappings to elements without corresponding data (i.e. ele `"+t.id()+"` has no mapping for property `"+r.name+"` with data field `"+r.field+"`); try a `["+r.field+"]` selector to limit scope to elements with `"+r.field+"` defined")};switch(r.mapped){case s.mapData:for(var g,v=r.field.split("."),y=u.data,b=0;b<v.length&&y;b++)y=y[v[b]];if(null==y)return p(),!1;if(!m(y))return kt("Do not use continuous mappers without specifying numeric data (i.e. `"+r.field+": "+y+"` for `"+t.id()+"` is non-numeric)"),!1;var w=r.fieldMax-r.fieldMin;if((g=0===w?0:(y-r.fieldMin)/w)<0?g=0:g>1&&(g=1),a.color){var x=r.valueMin[0],_=r.valueMin[1],k=r.valueMax[1],S=r.valueMin[2],M=r.valueMax[2],C=null==r.valueMin[3]?1:r.valueMin[3],E=null==r.valueMax[3]?1:r.valueMax[3],N=[Math.round(x+(r.valueMax[0]-x)*g),Math.round(_+(k-_)*g),Math.round(S+(M-S)*g),Math.round(C+(E-C)*g)];i={bypass:r.bypass,name:r.name,value:N,strValue:"rgb("+N[0]+", "+N[1]+", "+N[2]+")"}}else{if(!a.number)return!1;i=this.parse(r.name,r.valueMin+(r.valueMax-r.valueMin)*g,r.bypass,"mapping")}if(!i)return p(),!1;i.mapping=r,r=i;break;case s.data:for(var A=r.field.split("."),D=u.data,T=0;T<A.length&&D;T++)D=D[A[T]];if(null!=D&&(i=this.parse(r.name,D,r.bypass,"mapping")),!i)return p(),!1;i.mapping=r,r=i;break;case s.fn:var L=null!=r.fnValue?r.fnValue:(0,r.value)(t);if(r.prevFnValue=L,null==L)return kt("Custom function mappers may not return null (i.e. `"+r.name+"` for ele `"+t.id()+"` is null)"),!1;if(!(i=this.parse(r.name,L,r.bypass,"mapping")))return kt("Custom function mappers may not return invalid values for the property type (i.e. `"+r.name+"` for ele `"+t.id()+"` is invalid)"),!1;i.mapping=St(r),r=i;break;case void 0:break;default:return!1}return h?(r.bypassed=d?l.bypassed:l,o[r.name]=r):d?l.bypassed=r:o[r.name]=r,f(),!0},cleanElements:function(t,e){for(var i=0;i<t.length;i++){var n=t[i];if(this.clearStyleHints(n),n.dirtyCompoundBoundsCache(),n.dirtyBoundingBoxCache(),e)for(var r=n._private.style,o=Object.keys(r),s=0;s<o.length;s++){var a=o[s],h=r[a];null!=h&&(h.bypass?h.bypassed=null:r[a]=null)}else n._private.style={}}},update:function(){this._private.cy.mutableElements().updateStyle()},updateTransitions:function(t,e){var i=this,n=t._private,r=t.pstyle("transition-property").value,o=t.pstyle("transition-duration").pfValue,s=t.pstyle("transition-delay").pfValue;if(r.length>0&&o>0){for(var a={},h=!1,l=0;l<r.length;l++){var d=r[l],u=t.pstyle(d),c=e[d];if(c){var f=c.prev,g=null!=c.next?c.next:u,v=!1,y=void 0;f&&(m(f.pfValue)&&m(g.pfValue)?y=f.pfValue+1e-6*(v=g.pfValue-f.pfValue):m(f.value)&&m(g.value)?y=f.value+1e-6*(v=g.value-f.value):p(f.value)&&p(g.value)&&(v=f.value[0]!==g.value[0]||f.value[1]!==g.value[1]||f.value[2]!==g.value[2],y=f.strValue),v&&(a[d]=g.strValue,this.applyBypass(t,d,y),h=!0))}}if(!h)return;n.transitioning=!0,new Ui(function(e){s>0?t.delayAnimation(s).play().promise().then(e):e()}).then(function(){return t.animation({style:a,duration:o,easing:t.pstyle("transition-timing-function").value,queue:!1}).play().promise()}).then(function(){i.removeBypasses(t,r),t.emitAndNotify("style"),n.transitioning=!1})}else n.transitioning&&(this.removeBypasses(t,r),t.emitAndNotify("style"),n.transitioning=!1)},checkTrigger:function(t,e,i,n,r,o){var s=this.properties[e],a=r(s);null!=a&&a(i,n)&&o(s)},checkZOrderTrigger:function(t,e,i,n){var r=this;this.checkTrigger(t,e,i,n,function(t){return t.triggersZOrder},function(){r._private.cy.notify("zorder",t)})},checkBoundsTrigger:function(t,e,i,n){this.checkTrigger(t,e,i,n,function(t){return t.triggersBounds},function(r){t.dirtyCompoundBoundsCache(),t.dirtyBoundingBoxCache(),"bezier"!==t.pstyle("curve-style").value&&("curve-style"!==e||"bezier"!==i&&"bezier"!==n)||!r.triggersBoundsOfParallelBeziers||t.parallelEdges().forEach(function(t){t.isBundledBezier()&&t.dirtyBoundingBoxCache()})})},checkTriggers:function(t,e,i,n){t.dirtyStyleCache(),this.checkZOrderTrigger(t,e,i,n),this.checkBoundsTrigger(t,e,i,n)}},lo={applyBypass:function(t,e,i,n){var r=[];if("*"===e||"**"===e){if(void 0!==i)for(var o=0;o<this.properties.length;o++){var s=this.parse(this.properties[o].name,i,!0);s&&r.push(s)}}else if(c(e)){var a=this.parse(e,i,!0);a&&r.push(a)}else{if(!g(e))return!1;var h=e;n=i;for(var l=Object.keys(h),d=0;d<l.length;d++){var u=l[d],f=h[u];if(void 0===f&&(f=h[N(u)]),void 0!==f){var p=this.parse(u,f,!0);p&&r.push(p)}}}if(0===r.length)return!1;for(var m=!1,v=0;v<t.length;v++){for(var y=t[v],b={},w=void 0,x=0;x<r.length;x++){var _=r[x];if(n){var k=y.pstyle(_.name);w=b[_.name]={prev:k}}m=this.applyParsedProperty(y,_)||m,n&&(w.next=y.pstyle(_.name))}m&&this.updateStyleHints(y),n&&this.updateTransitions(y,b,!0)}return m},overrideBypass:function(t,e,i){e=E(e);for(var n=0;n<t.length;n++){var r=t[n],o=r._private.style[e],s=this.properties[e].type,a=s.color,h=s.mutiple,l=o?null!=o.pfValue?o.pfValue:o.value:null;o&&o.bypass?(o.value=i,null!=o.pfValue&&(o.pfValue=i),o.strValue=a?"rgb("+i.join(",")+")":h?i.join(" "):""+i,this.updateStyleHints(r)):this.applyBypass(r,e,i),this.checkTriggers(r,e,l,i)}},removeAllBypasses:function(t,e){return this.removeBypasses(t,this.propertyNames,e)},removeBypasses:function(t,e,i){for(var n=0;n<t.length;n++){for(var r=t[n],o={},s=0;s<e.length;s++){var a=e[s],h=this.properties[a],l=r.pstyle(h.name);if(l&&l.bypass){var d=this.parse(a,"",!0),u=o[h.name]={prev:l};this.applyParsedProperty(r,d),u.next=r.pstyle(h.name)}}this.updateStyleHints(r),i&&this.updateTransitions(r,o,!0)}}},uo={getEmSizeInPixels:function(){var t=this.containerCss("font-size");return null!=t?parseFloat(t):1},containerCss:function(t){var e=this._private.cy.container();if(o&&e&&o.getComputedStyle)return o.getComputedStyle(e).getPropertyValue(t)}},co={getRenderedStyle:function(t,e){return e?this.getStylePropertyValue(t,e,!0):this.getRawStyle(t,!0)},getRawStyle:function(t,e){if(t=t[0]){for(var i={},n=0;n<this.properties.length;n++){var r=this.properties[n],o=this.getStylePropertyValue(t,r.name,e);null!=o&&(i[r.name]=o,i[N(r.name)]=o)}return i}},getIndexedStyle:function(t,e,i,n){var r=t.pstyle(e)[i][n];return null!=r?r:t.cy().style().getDefaultProperty(e)[i][0]},getStylePropertyValue:function(t,e,i){if(t=t[0]){var n=this.properties[e];n.alias&&(n=n.pointsTo);var r=n.type,o=t.pstyle(n.name);if(o){var s=o.value,a=o.units,h=o.strValue;if(i&&r.number&&null!=s&&m(s)){var l=t.cy().zoom(),d=function(t){return t*l},u=function(t,e){return d(t)+e},f=p(s);return(f?a.every(function(t){return null!=t}):null!=a)?f?s.map(function(t,e){return u(t,a[e])}).join(" "):u(s,a):f?s.map(function(t){return c(t)?t:""+d(t)}).join(" "):""+d(s)}if(null!=h)return h}return null}},getAnimationStartStyle:function(t,e){for(var i={},n=0;n<e.length;n++){var r=e[n].name,o=t.pstyle(r);void 0!==o&&(o=g(o)?this.parse(r,o.strValue):this.parse(r,o)),o&&(i[r]=o)}return i},getPropsList:function(t){var e=[],i=t,n=this.properties;if(i)for(var r=Object.keys(i),o=0;o<r.length;o++){var s=r[o],a=i[s],h=n[s]||n[E(s)],l=this.parse(h.name,a);l&&e.push(l)}return e},getNonDefaultPropertiesHash:function(t,e,i){var n,r,o,s,a,h=i;for(s=0;s<e.length;s++)if(null!=(n=t.pstyle(e[s],!1)))if(null!=n.pfValue)h=ht(o,h);else for(r=n.strValue,a=0;a<r.length;a++)o=r.charCodeAt(a),h=ht(o,h);return h}};co.getPropertiesHash=co.getNonDefaultPropertiesHash;var fo={appendFromJson:function(t){for(var e=0;e<t.length;e++){var i=t[e],n=i.selector,r=i.style||i.css,o=Object.keys(r);this.selector(n);for(var s=0;s<o.length;s++){var a=o[s];this.css(a,r[a])}}return this},fromJson:function(t){return this.resetToDefault(),this.appendFromJson(t),this},json:function(){for(var t=[],e=this.defaultLength;e<this.length;e++){for(var i=this[e],n=i.selector,r=i.properties,o={},s=0;s<r.length;s++){var a=r[s];o[a.name]=a.strValue}t.push({selector:n?n.toString():"core",style:o})}return t}},po={appendFromString:function(t){var e,i,n,r=""+t;function o(){r=r.length>e.length?r.substr(e.length):""}function s(){i=i.length>n.length?i.substr(n.length):""}for(r=r.replace(/[\/][*](\s|.)+?[*][\/]/g,"");!r.match(/^\s*$/);){var a=r.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!a){kt("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+r);break}e=a[0];var h=a[1];if("core"!==h&&new dn(h).invalid)kt("Skipping parsing of block: Invalid selector found in string stylesheet: "+h),o();else{var l=a[2],d=!1;i=l;for(var u=[];!i.match(/^\s*$/);){var c=i.match(/^\s*(.+?)\s*:\s*(.+?)\s*;/);if(!c){kt("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+l),d=!0;break}n=c[0];var f=c[1],p=c[2];this.properties[f]?this.parse(f,p)?(u.push({name:f,val:p}),s()):(kt("Skipping property: Invalid property definition in: "+n),s()):(kt("Skipping property: Invalid property name in: "+n),s())}if(d){o();break}this.selector(h);for(var g=0;g<u.length;g++){var m=u[g];this.css(m.name,m.val)}o()}}return this},fromString:function(t){return this.resetToDefault(),this.appendFromString(t),this}},go={};!function(){var t=T,e=function(t){return"^"+t+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},i=function(e){var i=t+"|\\w+|rgb[a]?\\((?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)(?:\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)|hsl[a]?\\((?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?)))\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])(?:\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)|\\#[0-9a-fA-F]{3}|\\#[0-9a-fA-F]{6}";return"^"+e+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+t+")\\s*\\,\\s*("+t+")\\s*,\\s*("+i+")\\s*\\,\\s*("+i+")\\)$"},n=["^url\\s*\\(\\s*['\"]?(.+?)['\"]?\\s*\\)$","^(none)$","^(.+)$"];go.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},percentages:{number:!0,min:0,max:100,units:"%",implicitUnits:"%",multiple:!0},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},axisDirection:{enums:["horizontal","leftward","rightward","vertical","upward","downward","auto"]},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials"],multiple:!0},bgClip:{enums:["none","node"],multiple:!0},color:{color:!0},colors:{color:!0,multiple:!0},fill:{enums:["solid","linear-gradient","radial-gradient"]},bool:{enums:["yes","no"]},lineStyle:{enums:["solid","dotted","dashed"]},lineCap:{enums:["butt","round","square"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments","straight","taxi"]},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textOverflowWrap:{enums:["whitespace","anywhere"]},textBackgroundShape:{enums:["rectangle","roundrectangle","round-rectangle"]},nodeShape:{enums:["rectangle","roundrectangle","round-rectangle","cutrectangle","cut-rectangle","bottomroundrectangle","bottom-round-rectangle","barrel","ellipse","triangle","square","pentagon","hexagon","concavehexagon","concave-hexagon","heptagon","octagon","tag","star","diamond","vee","rhomboid","polygon"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","triangle-cross","triangle-backcurve","vee","square","circle","diamond","chevron","none"]},arrowFill:{enums:["filled","hollow"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},justification:{enums:["left","center","right","auto"]},text:{string:!0},data:{mapping:!0,regex:e("data")},layoutData:{mapping:!0,regex:e("layoutData")},scratch:{mapping:!0,regex:e("scratch")},mapData:{mapping:!0,regex:i("mapData")},mapLayoutData:{mapping:!0,regex:i("mapLayoutData")},mapScratch:{mapping:!0,regex:i("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:n,singleRegexMatchValue:!0},urls:{regexes:n,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-node-or-label","outside-to-line","outside-to-line-or-label"],singleEnum:!0,validate:function(t,e){switch(t.length){case 2:return"deg"!==e[0]&&"rad"!==e[0]&&"deg"!==e[1]&&"rad"!==e[1];case 1:return c(t[0])||"deg"===e[0]||"rad"===e[0];default:return!1}}},easing:{regexes:["^(spring)\\s*\\(\\s*("+t+")\\s*,\\s*("+t+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+t+")\\s*,\\s*("+t+")\\s*,\\s*("+t+")\\s*,\\s*("+t+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]},gradientDirection:{enums:["to-bottom","to-top","to-left","to-right","to-bottom-right","to-bottom-left","to-top-right","to-top-left","to-right-bottom","to-left-bottom","to-right-top","to-left-top"]},boundsExpansion:{number:!0,multiple:!0,min:0,validate:function(t){var e=t.length;return 1===e||2===e||4===e}}};var r={zeroNonZero:function(t,e){return(null==t||null==e)&&t!==e||0==t&&0!=e||0!=t&&0==e},any:function(t,e){return t!=e}},o=go.types,s=[{name:"label",type:o.text,triggersBounds:r.any},{name:"text-rotation",type:o.textRotation,triggersBounds:r.any},{name:"text-margin-x",type:o.bidirectionalSize,triggersBounds:r.any},{name:"text-margin-y",type:o.bidirectionalSize,triggersBounds:r.any}],a=[{name:"source-label",type:o.text,triggersBounds:r.any},{name:"source-text-rotation",type:o.textRotation,triggersBounds:r.any},{name:"source-text-margin-x",type:o.bidirectionalSize,triggersBounds:r.any},{name:"source-text-margin-y",type:o.bidirectionalSize,triggersBounds:r.any},{name:"source-text-offset",type:o.size,triggersBounds:r.any}],h=[{name:"target-label",type:o.text,triggersBounds:r.any},{name:"target-text-rotation",type:o.textRotation,triggersBounds:r.any},{name:"target-text-margin-x",type:o.bidirectionalSize,triggersBounds:r.any},{name:"target-text-margin-y",type:o.bidirectionalSize,triggersBounds:r.any},{name:"target-text-offset",type:o.size,triggersBounds:r.any}],l=[{name:"font-family",type:o.fontFamily,triggersBounds:r.any},{name:"font-style",type:o.fontStyle,triggersBounds:r.any},{name:"font-weight",type:o.fontWeight,triggersBounds:r.any},{name:"font-size",type:o.size,triggersBounds:r.any},{name:"text-transform",type:o.textTransform,triggersBounds:r.any},{name:"text-wrap",type:o.textWrap,triggersBounds:r.any},{name:"text-overflow-wrap",type:o.textOverflowWrap,triggersBounds:r.any},{name:"text-max-width",type:o.size,triggersBounds:r.any},{name:"text-outline-width",type:o.size,triggersBounds:r.any},{name:"line-height",type:o.positiveNumber,triggersBounds:r.any}],d=[{name:"text-valign",type:o.valign,triggersBounds:r.any},{name:"text-halign",type:o.halign,triggersBounds:r.any},{name:"color",type:o.color},{name:"text-outline-color",type:o.color},{name:"text-outline-opacity",type:o.zeroOneNumber},{name:"text-background-color",type:o.color},{name:"text-background-opacity",type:o.zeroOneNumber},{name:"text-background-padding",type:o.size,triggersBounds:r.any},{name:"text-border-opacity",type:o.zeroOneNumber},{name:"text-border-color",type:o.color},{name:"text-border-width",type:o.size,triggersBounds:r.any},{name:"text-border-style",type:o.borderStyle,triggersBounds:r.any},{name:"text-background-shape",type:o.textBackgroundShape,triggersBounds:r.any},{name:"text-justification",type:o.justification}],u=[{name:"events",type:o.bool},{name:"text-events",type:o.bool}],f=[{name:"display",type:o.display,triggersZOrder:r.any,triggersBounds:r.any,triggersBoundsOfParallelBeziers:!0},{name:"visibility",type:o.visibility,triggersZOrder:r.any},{name:"opacity",type:o.zeroOneNumber,triggersZOrder:r.zeroNonZero},{name:"text-opacity",type:o.zeroOneNumber},{name:"min-zoomed-font-size",type:o.size},{name:"z-compound-depth",type:o.zCompoundDepth,triggersZOrder:r.any},{name:"z-index-compare",type:o.zIndexCompare,triggersZOrder:r.any},{name:"z-index",type:o.nonNegativeInt,triggersZOrder:r.any}],p=[{name:"overlay-padding",type:o.size,triggersBounds:r.any},{name:"overlay-color",type:o.color},{name:"overlay-opacity",type:o.zeroOneNumber,triggersBounds:r.zeroNonZero}],g=[{name:"transition-property",type:o.propList},{name:"transition-duration",type:o.time},{name:"transition-delay",type:o.time},{name:"transition-timing-function",type:o.easing}],m=function(t,e){return"label"===e.value?-t.poolIndex():e.pfValue},v=[{name:"height",type:o.nodeSize,triggersBounds:r.any,hashOverride:m},{name:"width",type:o.nodeSize,triggersBounds:r.any,hashOverride:m},{name:"shape",type:o.nodeShape,triggersBounds:r.any},{name:"shape-polygon-points",type:o.polygonPointList,triggersBounds:r.any},{name:"background-color",type:o.color},{name:"background-fill",type:o.fill},{name:"background-opacity",type:o.zeroOneNumber},{name:"background-blacken",type:o.nOneOneNumber},{name:"background-gradient-stop-colors",type:o.colors},{name:"background-gradient-stop-positions",type:o.percentages},{name:"background-gradient-direction",type:o.gradientDirection},{name:"padding",type:o.sizeMaybePercent,triggersBounds:r.any},{name:"padding-relative-to",type:o.paddingRelativeTo,triggersBounds:r.any},{name:"bounds-expansion",type:o.boundsExpansion,triggersBounds:r.any}],y=[{name:"border-color",type:o.color},{name:"border-opacity",type:o.zeroOneNumber},{name:"border-width",type:o.size,triggersBounds:r.any},{name:"border-style",type:o.borderStyle}],b=[{name:"background-image",type:o.urls},{name:"background-image-crossorigin",type:o.bgCrossOrigin},{name:"background-image-opacity",type:o.zeroOneNumbers},{name:"background-position-x",type:o.bgPos},{name:"background-position-y",type:o.bgPos},{name:"background-width-relative-to",type:o.bgRelativeTo},{name:"background-height-relative-to",type:o.bgRelativeTo},{name:"background-repeat",type:o.bgRepeat},{name:"background-fit",type:o.bgFit},{name:"background-clip",type:o.bgClip},{name:"background-width",type:o.bgWH},{name:"background-height",type:o.bgWH},{name:"background-offset-x",type:o.bgPos},{name:"background-offset-y",type:o.bgPos}],w=[{name:"position",type:o.position,triggersBounds:r.any},{name:"compound-sizing-wrt-labels",type:o.compoundIncludeLabels,triggersBounds:r.any},{name:"min-width",type:o.size,triggersBounds:r.any},{name:"min-width-bias-left",type:o.sizeMaybePercent,triggersBounds:r.any},{name:"min-width-bias-right",type:o.sizeMaybePercent,triggersBounds:r.any},{name:"min-height",type:o.size,triggersBounds:r.any},{name:"min-height-bias-top",type:o.sizeMaybePercent,triggersBounds:r.any},{name:"min-height-bias-bottom",type:o.sizeMaybePercent,triggersBounds:r.any}],x=[{name:"line-style",type:o.lineStyle},{name:"line-color",type:o.color},{name:"line-fill",type:o.fill},{name:"line-cap",type:o.lineCap},{name:"line-dash-pattern",type:o.numbers},{name:"line-dash-offset",type:o.number},{name:"line-gradient-stop-colors",type:o.colors},{name:"line-gradient-stop-positions",type:o.percentages},{name:"curve-style",type:o.curveStyle,triggersBounds:r.any,triggersBoundsOfParallelBeziers:!0},{name:"haystack-radius",type:o.zeroOneNumber,triggersBounds:r.any},{name:"source-endpoint",type:o.edgeEndpoint,triggersBounds:r.any},{name:"target-endpoint",type:o.edgeEndpoint,triggersBounds:r.any},{name:"control-point-step-size",type:o.size,triggersBounds:r.any},{name:"control-point-distances",type:o.bidirectionalSizes,triggersBounds:r.any},{name:"control-point-weights",type:o.numbers,triggersBounds:r.any},{name:"segment-distances",type:o.bidirectionalSizes,triggersBounds:r.any},{name:"segment-weights",type:o.numbers,triggersBounds:r.any},{name:"taxi-turn",type:o.sizeMaybePercent,triggersBounds:r.any},{name:"taxi-turn-min-distance",type:o.size,triggersBounds:r.any},{name:"taxi-direction",type:o.axisDirection,triggersBounds:r.any},{name:"edge-distances",type:o.edgeDistances,triggersBounds:r.any},{name:"arrow-scale",type:o.positiveNumber,triggersBounds:r.any},{name:"loop-direction",type:o.angle,triggersBounds:r.any},{name:"loop-sweep",type:o.angle,triggersBounds:r.any},{name:"source-distance-from-node",type:o.size,triggersBounds:r.any},{name:"target-distance-from-node",type:o.size,triggersBounds:r.any}],_=[{name:"ghost",type:o.bool,triggersBounds:r.any},{name:"ghost-offset-x",type:o.bidirectionalSize,triggersBounds:r.any},{name:"ghost-offset-y",type:o.bidirectionalSize,triggersBounds:r.any},{name:"ghost-opacity",type:o.zeroOneNumber}],k=[{name:"selection-box-color",type:o.color},{name:"selection-box-opacity",type:o.zeroOneNumber},{name:"selection-box-border-color",type:o.color},{name:"selection-box-border-width",type:o.size},{name:"active-bg-color",type:o.color},{name:"active-bg-opacity",type:o.zeroOneNumber},{name:"active-bg-size",type:o.size},{name:"outside-texture-bg-color",type:o.color},{name:"outside-texture-bg-opacity",type:o.zeroOneNumber}],S=[];go.pieBackgroundN=16,S.push({name:"pie-size",type:o.sizeMaybePercent});for(var M=1;M<=go.pieBackgroundN;M++)S.push({name:"pie-"+M+"-background-color",type:o.color}),S.push({name:"pie-"+M+"-background-size",type:o.percent}),S.push({name:"pie-"+M+"-background-opacity",type:o.zeroOneNumber});var C=[],E=go.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:o.arrowShape,triggersBounds:r.any},{name:"arrow-color",type:o.color},{name:"arrow-fill",type:o.arrowFill}].forEach(function(t){E.forEach(function(e){C.push({name:e+"-"+t.name,type:t.type,triggersBounds:t.triggersBounds})})},{});var N=go.properties=[].concat(u,g,f,p,_,d,l,s,a,h,v,y,b,S,w,x,C,k),A=go.propertyGroups={behavior:u,transition:g,visibility:f,overlay:p,ghost:_,commonLabel:d,labelDimensions:l,mainLabel:s,sourceLabel:a,targetLabel:h,nodeBody:v,nodeBorder:y,backgroundImage:b,pie:S,compound:w,edgeLine:x,edgeArrow:C,core:k},D=go.propertyGroupNames={};(go.propertyGroupKeys=Object.keys(A)).forEach(function(t){D[t]=A[t].map(function(t){return t.name}),A[t].forEach(function(e){return e.groupKey=t})});var L=go.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];go.propertyNames=N.map(function(t){return t.name});for(var O=0;O<N.length;O++){var P=N[O];N[P.name]=P}for(var I=0;I<L.length;I++){var B=L[I],R={name:B.name,alias:!0,pointsTo:N[B.pointsTo]};N.push(R),N[B.name]=R}}(),go.getDefaultProperty=function(t){return this.getDefaultProperties()[t]},go.getDefaultProperties=function(){var t=this._private;if(null!=t.defaultProperties)return t.defaultProperties;for(var e=O({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125,events:"yes","text-events":"no","text-valign":"top","text-halign":"center","text-justification":"auto","line-height":1,color:"#000","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-overflow-wrap":"whitespace","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","background-blacken":0,"background-color":"#999","background-fill":"solid","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-position-x":"50%","background-position-y":"50%","background-offset-x":0,"background-offset-y":0,"background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","bounds-expansion":0,"background-gradient-direction":"to-bottom","background-gradient-stop-colors":"#999","background-gradient-stop-positions":"0%",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce(function(t,e){for(var i=1;i<=go.pieBackgroundN;i++)t[e.name.replace("{{i}}",i)]=e.value;return t},{}),{"line-style":"solid","line-color":"#999","line-fill":"solid","line-cap":"butt","line-gradient-stop-colors":"#999","line-gradient-stop-positions":"0%","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"taxi-turn":"50%","taxi-turn-min-distance":10,"taxi-direction":"auto","edge-distances":"intersection","curve-style":"haystack","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node","line-dash-pattern":[6,3],"line-dash-offset":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"}].reduce(function(t,e){return go.arrowPrefixes.forEach(function(i){t[i+"-"+e.name]=e.value}),t},{})),i={},n=0;n<this.properties.length;n++){var r=this.properties[n];if(!r.pointsTo){var o=r.name,s=this.parse(o,e[o]);i[o]=s}}return t.defaultProperties=i,t.defaultProperties},go.addDefaultStylesheet=function(){this.selector(":parent").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3}).selector(":loop").css({"curve-style":"bezier"}).selector("edge:compound").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector(":parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}),this.defaultLength=this.length};var mo={parse:function(t,e,i,n){if(f(e))return this.parseImplWarn(t,e,i,n);var r,o=ut(t,""+e,i?"t":"f","mapping"===n||!0===n||!1===n||null==n?"dontcare":n),s=this.propCache=this.propCache||[];return(r=s[o])||(r=s[o]=this.parseImplWarn(t,e,i,n)),(i||"mapping"===n)&&(r=St(r))&&(r.value=St(r.value)),r},parseImplWarn:function(t,e,i,n){var r=this.parseImpl(t,e,i,n);return r||null==e||kt("The style property `".concat(t,": ").concat(e,"` is invalid")),r},parseImpl:function(t,e,i,n){t=E(t);var r=this.properties[t],o=e,s=this.types;if(!r)return null;if(void 0===e)return null;r.alias&&(t=(r=r.pointsTo).name);var a=c(e);a&&(e=e.trim());var h,l,d=r.type;if(!d)return null;if(i&&(""===e||null===e))return{name:t,value:e,bypass:!0,deleteBypass:!0};if(f(e))return{name:t,value:e,strValue:"fn",mapped:s.fn,bypass:i};if(!a||n||e.length<7||"a"!==e[1]);else{if(e.length>=7&&"d"===e[0]&&(h=new RegExp(s.data.regex).exec(e)))return!i&&{name:t,value:h,strValue:""+e,mapped:s.data,field:h[1],bypass:i};if(e.length>=10&&"m"===e[0]&&(l=new RegExp(s.mapData.regex).exec(e))){if(i)return!1;if(d.multiple)return!1;var u=s.mapData;if(!d.color&&!d.number)return!1;var g=this.parse(t,l[4]);if(!g||g.mapped)return!1;var v=this.parse(t,l[5]);if(!v||v.mapped)return!1;if(g.pfValue===v.pfValue||g.strValue===v.strValue)return kt("`"+t+": "+e+"` is not a valid mapper because the output range is zero; converting to `"+t+": "+g.strValue+"`"),this.parse(t,g.strValue);if(d.color){var y=g.value,b=v.value;if(!(y[0]!==b[0]||y[1]!==b[1]||y[2]!==b[2]||y[3]!==b[3]&&(null!=y[3]&&1!==y[3]||null!=b[3]&&1!==b[3])))return!1}return{name:t,value:l,strValue:""+e,mapped:u,field:l[1],fieldMin:parseFloat(l[2]),fieldMax:parseFloat(l[3]),valueMin:g.value,valueMax:v.value,bypass:i}}}if(d.multiple&&"multiple"!==n){var w;if(w=a?e.split(/\s+/):p(e)?e:[e],d.evenMultiple&&w.length%2!=0)return null;for(var x=[],_=[],k=[],S="",M=!1,C=0;C<w.length;C++){var N=this.parse(t,w[C],i,"multiple");M=M||c(N.value),x.push(N.value),k.push(null!=N.pfValue?N.pfValue:N.value),_.push(N.units),S+=(C>0?" ":"")+N.strValue}return d.validate&&!d.validate(x,_)?null:d.singleEnum&&M?1===x.length&&c(x[0])?{name:t,value:x[0],strValue:x[0],bypass:i}:null:{name:t,value:x,pfValue:k,strValue:S,bypass:i,units:_}}var A,D=function(){for(var n=0;n<d.enums.length;n++)if(d.enums[n]===e)return{name:t,value:e,strValue:""+e,bypass:i};return null};if(d.number){var L,O="px";if(d.units&&(L=d.units),d.implicitUnits&&(O=d.implicitUnits),!d.unitless)if(a){var I="px|em"+(d.allowPercent?"|\\%":"");L&&(I=L);var B=e.match("^("+T+")("+I+")?$");B&&(e=B[1],L=B[2]||O)}else L&&!d.implicitUnits||(L=O);if(e=parseFloat(e),isNaN(e)&&void 0===d.enums)return null;if(isNaN(e)&&void 0!==d.enums)return e=o,D();if(d.integer&&(!m(A=e)||Math.floor(A)!==A))return null;if(void 0!==d.min&&(e<d.min||d.strictMin&&e===d.min)||void 0!==d.max&&(e>d.max||d.strictMax&&e===d.max))return null;var R={name:t,value:e,strValue:""+e+(L||""),units:L,bypass:i};return R.pfValue=d.unitless||"px"!==L&&"em"!==L?e:"px"!==L&&L?this.getEmSizeInPixels()*e:e,"ms"!==L&&"s"!==L||(R.pfValue="ms"===L?e:1e3*e),"deg"!==L&&"rad"!==L||(R.pfValue="rad"===L?e:Math.PI*e/180),"%"===L&&(R.pfValue=e/100),R}if(d.propList){var F=[],z=""+e;if("none"===z);else{for(var j=z.split(/\s*,\s*|\s+/),q=0;q<j.length;q++){var H=j[q].trim();this.properties[H]?F.push(H):kt("`"+H+"` is not a valid property name")}if(0===F.length)return null}return{name:t,value:F,strValue:0===F.length?"none":F.join(" "),bypass:i}}if(d.color){var W=P(e);return W?{name:t,value:W,pfValue:W,strValue:"rgb("+W[0]+","+W[1]+","+W[2]+")",bypass:i}:null}if(d.regex||d.regexes){if(d.enums){var U=D();if(U)return U}for(var V=d.regexes?d.regexes:[d.regex],Y=0;Y<V.length;Y++){var G=new RegExp(V[Y]).exec(e);if(G)return{name:t,value:d.singleRegexMatchValue?G[1]:G,strValue:""+e,bypass:i}}return null}return d.string?{name:t,value:""+e,strValue:""+e,bypass:i}:d.enums?D():null}},vo=function t(e){if(!(this instanceof t))return new t(e);x(e)?(this._private={cy:e,coreStyle:{}},this.length=0,this.resetToDefault()):xt("A style must have a core reference")},yo=vo.prototype;yo.instanceString=function(){return"style"},yo.clear=function(){for(var t=0;t<this.length;t++)this[t]=void 0;return this.length=0,this._private.newStyle=!0,this},yo.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this},yo.core=function(t){return this._private.coreStyle[t]||this.getDefaultProperty(t)},yo.selector=function(t){var e="core"===t?null:new dn(t),i=this.length++;return this[i]={selector:e,properties:[],mappedProperties:[],index:i},this},yo.css=function(){var t=arguments;if(1===t.length)for(var e=t[0],i=0;i<this.properties.length;i++){var n=this.properties[i],r=e[n.name];void 0===r&&(r=e[N(n.name)]),void 0!==r&&this.cssRule(n.name,r)}else 2===t.length&&this.cssRule(t[0],t[1]);return this},yo.style=yo.css,yo.cssRule=function(t,e){var i=this.parse(t,e);if(i){var n=this.length-1;this[n].properties.push(i),this[n].properties[i.name]=i,i.name.match(/pie-(\d+)-background-size/)&&i.value&&(this._private.hasPie=!0),i.mapped&&this[n].mappedProperties.push(i),!this[n].selector&&(this._private.coreStyle[i.name]=i)}return this},yo.append=function(t){return _(t)?t.appendToStyle(this):p(t)?this.appendFromJson(t):c(t)&&this.appendFromString(t),this},vo.fromJson=function(t,e){var i=new vo(t);return i.fromJson(e),i},vo.fromString=function(t,e){return new vo(t).fromString(e)},[ho,lo,uo,co,fo,po,go,mo].forEach(function(t){O(yo,t)}),vo.types=yo.types,vo.properties=yo.properties,vo.propertyGroups=yo.propertyGroups,vo.propertyGroupNames=yo.propertyGroupNames,vo.propertyGroupKeys=yo.propertyGroupKeys;var bo={style:function(t){return t&&this.setStyle(t).update(),this._private.style},setStyle:function(t){var e=this._private;return e.style=_(t)?t.generateStyle(this):p(t)?vo.fromJson(this,t):c(t)?vo.fromString(this,t):vo(this),e.style}},wo={autolock:function(t){return void 0===t?this._private.autolock:(this._private.autolock=!!t,this)},autoungrabify:function(t){return void 0===t?this._private.autoungrabify:(this._private.autoungrabify=!!t,this)},autounselectify:function(t){return void 0===t?this._private.autounselectify:(this._private.autounselectify=!!t,this)},selectionType:function(t){var e=this._private;return null==e.selectionType&&(e.selectionType="single"),void 0===t?e.selectionType:("additive"!==t&&"single"!==t||(e.selectionType=t),this)},panningEnabled:function(t){return void 0===t?this._private.panningEnabled:(this._private.panningEnabled=!!t,this)},userPanningEnabled:function(t){return void 0===t?this._private.userPanningEnabled:(this._private.userPanningEnabled=!!t,this)},zoomingEnabled:function(t){return void 0===t?this._private.zoomingEnabled:(this._private.zoomingEnabled=!!t,this)},userZoomingEnabled:function(t){return void 0===t?this._private.userZoomingEnabled:(this._private.userZoomingEnabled=!!t,this)},boxSelectionEnabled:function(t){return void 0===t?this._private.boxSelectionEnabled:(this._private.boxSelectionEnabled=!!t,this)},pan:function(){var t,e,i,n,r,o=arguments,s=this._private.pan;switch(o.length){case 0:return s;case 1:if(c(o[0]))return s[t=o[0]];if(g(o[0])){if(!this._private.panningEnabled)return this;n=(i=o[0]).x,r=i.y,m(n)&&(s.x=n),m(r)&&(s.y=r),this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;e=o[1],"x"!==(t=o[0])&&"y"!==t||!m(e)||(s[t]=e),this.emit("pan viewport")}return this.notify("viewport"),this},panBy:function(t,e){var i,n,r,o,s,a=arguments,h=this._private.pan;if(!this._private.panningEnabled)return this;switch(a.length){case 1:g(t)&&(o=(r=a[0]).x,s=r.y,m(o)&&(h.x+=o),m(s)&&(h.y+=s),this.emit("pan viewport"));break;case 2:n=e,"x"!==(i=t)&&"y"!==i||!m(n)||(h[i]+=n),this.emit("pan viewport")}return this.notify("viewport"),this},fit:function(t,e){var i=this.getFitViewport(t,e);if(i){var n=this._private;n.zoom=i.zoom,n.pan=i.pan,this.emit("pan zoom viewport"),this.notify("viewport")}return this},getFitViewport:function(t,e){var i,n;if(m(t)&&void 0===e&&(e=t,t=void 0),this._private.panningEnabled&&this._private.zoomingEnabled&&(c(t)?t=this.$(t):g(n=t)&&m(n.x1)&&m(n.x2)&&m(n.y1)&&m(n.y2)?((i={x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y2}).w=i.x2-i.x1,i.h=i.y2-i.y1):y(t)||(t=this.mutableElements()),!y(t)||!t.empty())){i=i||t.boundingBox();var r,o=this.width(),s=this.height();if(e=m(e)?e:0,!isNaN(o)&&!isNaN(s)&&o>0&&s>0&&!isNaN(i.w)&&!isNaN(i.h)&&i.w>0&&i.h>0)return{zoom:r=(r=(r=Math.min((o-2*e)/i.w,(s-2*e)/i.h))>this._private.maxZoom?this._private.maxZoom:r)<this._private.minZoom?this._private.minZoom:r,pan:{x:(o-r*(i.x1+i.x2))/2,y:(s-r*(i.y1+i.y2))/2}}}},zoomRange:function(t,e){var i=this._private;if(null==e){var n=t;t=n.min,e=n.max}return m(t)&&m(e)&&t<=e?(i.minZoom=t,i.maxZoom=e):m(t)&&void 0===e&&t<=i.maxZoom?i.minZoom=t:m(e)&&void 0===t&&e>=i.minZoom&&(i.maxZoom=e),this},minZoom:function(t){return void 0===t?this._private.minZoom:this.zoomRange({min:t})},maxZoom:function(t){return void 0===t?this._private.maxZoom:this.zoomRange({max:t})},getZoomedViewport:function(t){var e,i,n=this._private,r=n.pan,o=n.zoom,s=!1;return n.zoomingEnabled||(s=!0),m(t)?i=t:g(t)&&(i=t.level,null!=t.position?e=Jt(t.position,o,r):null!=t.renderedPosition&&(e=t.renderedPosition),null==e||n.panningEnabled||(s=!0)),i=(i=i>n.maxZoom?n.maxZoom:i)<n.minZoom?n.minZoom:i,!s&&m(i)&&i!==o&&(null==e||m(e.x)&&m(e.y))?null!=e?{zoomed:!0,panned:!0,zoom:i,pan:{x:-i/o*(e.x-r.x)+e.x,y:-i/o*(e.y-r.y)+e.y}}:{zoomed:!0,panned:!1,zoom:i,pan:r}:null},zoom:function(t){if(void 0===t)return this._private.zoom;var e=this.getZoomedViewport(t),i=this._private;return null!=e&&e.zoomed?(i.zoom=e.zoom,e.panned&&(i.pan.x=e.pan.x,i.pan.y=e.pan.y),this.emit("zoom"+(e.panned?" pan":"")+" viewport"),this.notify("viewport"),this):this},viewport:function(t){var e=this._private,i=!0,n=!0,r=[],o=!1,s=!1;if(!t)return this;if(m(t.zoom)||(i=!1),g(t.pan)||(n=!1),!i&&!n)return this;if(i){var a=t.zoom;a<e.minZoom||a>e.maxZoom||!e.zoomingEnabled?o=!0:(e.zoom=a,r.push("zoom"))}if(n&&(!o||!t.cancelOnFailedZoom)&&e.panningEnabled){var h=t.pan;m(h.x)&&(e.pan.x=h.x,s=!1),m(h.y)&&(e.pan.y=h.y,s=!1),s||r.push("pan")}return r.length>0&&(r.push("viewport"),this.emit(r.join(" ")),this.notify("viewport")),this},center:function(t){var e=this.getCenterPan(t);return e&&(this._private.pan=e,this.emit("pan viewport"),this.notify("viewport")),this},getCenterPan:function(t,e){if(this._private.panningEnabled){if(c(t)){var i=t;t=this.mutableElements().filter(i)}else y(t)||(t=this.mutableElements());if(0!==t.length){var n=t.boundingBox(),r=this.width(),o=this.height();return{x:(r-(e=void 0===e?this._private.zoom:e)*(n.x1+n.x2))/2,y:(o-e*(n.y1+n.y2))/2}}}},reset:function(){return this._private.panningEnabled&&this._private.zoomingEnabled?(this.viewport({pan:{x:0,y:0},zoom:1}),this):this},invalidateSize:function(){this._private.sizeCache=null},size:function(){var t,e,i=this._private,n=i.container;return i.sizeCache=i.sizeCache||(n?(t=o.getComputedStyle(n),{width:n.clientWidth-(e=function(e){return parseFloat(t.getPropertyValue(e))})("padding-left")-e("padding-right"),height:n.clientHeight-e("padding-top")-e("padding-bottom")}):{width:1,height:1})},width:function(){return this.size().width},height:function(){return this.size().height},extent:function(){var t=this._private.pan,e=this._private.zoom,i=this.renderedExtent(),n={x1:(i.x1-t.x)/e,x2:(i.x2-t.x)/e,y1:(i.y1-t.y)/e,y2:(i.y2-t.y)/e};return n.w=n.x2-n.x1,n.h=n.y2-n.y1,n},renderedExtent:function(){var t=this.width(),e=this.height();return{x1:0,y1:0,x2:t,y2:e,w:t,h:e}}};wo.centre=wo.center,wo.autolockNodes=wo.autolock,wo.autoungrabifyNodes=wo.autoungrabify;var xo={data:Gi.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0}),removeData:Gi.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0}),scratch:Gi.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0}),removeScratch:Gi.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0})};xo.attr=xo.data,xo.removeAttr=xo.removeData;var _o=function(t){var e=this,i=(t=O({},t)).container;i&&!v(i)&&v(i[0])&&(i=i[0]);var n=i?i._cyreg:null;(n=n||{})&&n.cy&&(n.cy.destroy(),n={});var r=n.readies=n.readies||[];i&&(i._cyreg=n),n.cy=e;var s=void 0!==o&&void 0!==i&&!t.headless,a=t;a.layout=O({name:s?"grid":"null"},a.layout),a.renderer=O({name:s?"canvas":"null"},a.renderer);var h=function(t,e,i){return void 0!==e?e:void 0!==i?i:t},l=this._private={container:i,ready:!1,options:a,elements:new zr(this),listeners:[],aniEles:new zr(this),data:{},scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:h(!0,a.zoomingEnabled),userZoomingEnabled:h(!0,a.userZoomingEnabled),panningEnabled:h(!0,a.panningEnabled),userPanningEnabled:h(!0,a.userPanningEnabled),boxSelectionEnabled:h(!0,a.boxSelectionEnabled),autolock:h(!1,a.autolock,a.autolockNodes),autoungrabify:h(!1,a.autoungrabify,a.autoungrabifyNodes),autounselectify:h(!1,a.autounselectify),styleEnabled:void 0===a.styleEnabled?s:a.styleEnabled,zoom:m(a.zoom)?a.zoom:1,pan:{x:g(a.pan)&&m(a.pan.x)?a.pan.x:0,y:g(a.pan)&&m(a.pan.y)?a.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1};this.createEmitter(),this.selectionType(a.selectionType),this.zoomRange({min:a.minZoom,max:a.maxZoom}),l.styleEnabled&&e.setStyle([]);var d=O({},a,a.renderer);e.initRenderer(d),function(t,e){if(t.some(S))return Ui.all(t).then(e);e(t)}([a.style,a.elements],function(t){var i=t[0],o=t[1];l.styleEnabled&&e.style().append(i),function(t,i,n){e.notifications(!1);var r=e.mutableElements();r.length>0&&r.remove(),null!=t&&(g(t)||p(t))&&e.add(t),e.one("layoutready",function(t){e.notifications(!0),e.emit(t),e.one("load",i),e.emitAndNotify("load")}).one("layoutstop",function(){e.one("done",n),e.emit("done")});var o=O({},e._private.options.layout);o.eles=e.elements(),e.layout(o).run()}(o,function(){e.startAnimationLoop(),l.ready=!0,f(a.ready)&&e.on("ready",a.ready);for(var t=0;t<r.length;t++)e.on("ready",r[t]);n&&(n.readies=[]),e.emit("ready")},a.done)})},ko=_o.prototype;O(ko,{instanceString:function(){return"core"},isReady:function(){return this._private.ready},destroyed:function(){return this._private.destroyed},ready:function(t){return this.isReady()?this.emitter().emit("ready",[],t):this.on("ready",t),this},destroy:function(){var t=this;if(!t.destroyed())return t.stopAnimationLoop(),t.destroyRenderer(),this.emit("destroy"),t._private.destroyed=!0,t},hasElementWithId:function(t){return this._private.elements.hasElementWithId(t)},getElementById:function(t){return this._private.elements.getElementById(t)},hasCompoundNodes:function(){return this._private.hasCompoundNodes},headless:function(){return this._private.renderer.isHeadless()},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(t){return this._private.elements.merge(t),this},removeFromPool:function(t){return this._private.elements.unmerge(t),this},container:function(){return this._private.container||null},mount:function(t){if(null!=t){var e=this,i=e._private,n=i.options;return!v(t)&&v(t[0])&&(t=t[0]),e.stopAnimationLoop(),e.destroyRenderer(),i.container=t,i.styleEnabled=!0,e.invalidateSize(),e.initRenderer(O({},n,n.renderer,{name:"null"===n.renderer.name?"canvas":n.renderer.name})),e.startAnimationLoop(),e.style(n.style),e.emit("mount"),e}},unmount:function(){var t=this;return t.stopAnimationLoop(),t.destroyRenderer(),t.initRenderer({name:"null"}),t.emit("unmount"),t},options:function(){return St(this._private.options)},json:function(t){var e=this,i=e._private,n=e.mutableElements();if(g(t)){if(e.startBatch(),t.elements){var r={},o=function(t,i){for(var n=[],o=[],s=0;s<t.length;s++){var a=t[s],h=""+a.data.id,l=e.getElementById(h);r[h]=!0,0!==l.length?o.push({ele:l,json:a}):i?(a.group=i,n.push(a)):n.push(a)}e.add(n);for(var d=0;d<o.length;d++){var u=o[d];u.ele.json(u.json)}};if(p(t.elements))o(t.elements);else for(var s=["nodes","edges"],a=0;a<s.length;a++){var h=s[a],l=t.elements[h];p(l)&&o(l,h)}var d=e.collection();n.filter(function(t){return!r[t.id()]}).forEach(function(t){t.isParent()?d.merge(t):t.remove()}),d.forEach(function(t){return t.children().move({parent:null})}),d.forEach(function(t){return function(t){return e.getElementById(t.id())}(t).remove()})}t.style&&e.style(t.style),null!=t.zoom&&t.zoom!==i.zoom&&e.zoom(t.zoom),t.pan&&(t.pan.x===i.pan.x&&t.pan.y===i.pan.y||e.pan(t.pan)),t.data&&e.data(t.data);for(var u=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify"],c=0;c<u.length;c++){var f=u[c];null!=t[f]&&e[f](t[f])}return e.endBatch(),this}var m={};t?m.elements=this.elements().map(function(t){return t.json()}):(m.elements={},n.forEach(function(t){var e=t.group();m.elements[e]||(m.elements[e]=[]),m.elements[e].push(t.json())})),this._private.styleEnabled&&(m.style=e.style().json()),m.data=St(e.data());var v=i.options;return m.zoomingEnabled=i.zoomingEnabled,m.userZoomingEnabled=i.userZoomingEnabled,m.zoom=i.zoom,m.minZoom=i.minZoom,m.maxZoom=i.maxZoom,m.panningEnabled=i.panningEnabled,m.userPanningEnabled=i.userPanningEnabled,m.pan=St(i.pan),m.boxSelectionEnabled=i.boxSelectionEnabled,m.renderer=St(v.renderer),m.hideEdgesOnViewport=v.hideEdgesOnViewport,m.textureOnViewport=v.textureOnViewport,m.wheelSensitivity=v.wheelSensitivity,m.motionBlur=v.motionBlur,m}}),ko.$id=ko.getElementById,[qr,$r,eo,io,no,ro,so,ao,bo,wo,xo].forEach(function(t){O(ko,t)});var So={fit:!0,directed:!1,padding:30,circle:!1,grid:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,maximal:!1,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,e){return!0},ready:void 0,stop:void 0,transform:function(t,e){return e}},Mo=function(t){return t.scratch("breadthfirst")},Co=function(t,e){return t.scratch("breadthfirst",e)};function Eo(t){this.options=O({},So,t)}Eo.prototype.run=function(){var t,e=this.options,i=e,n=e.cy,r=i.eles,o=r.nodes().filter(function(t){return!t.isParent()}),s=r,a=i.directed,h=i.maximal||i.maximalAdjustments>0,l=ue(i.boundingBox?i.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()});if(y(i.roots))t=i.roots;else if(p(i.roots)){for(var d=[],u=0;u<i.roots.length;u++){var f=n.getElementById(i.roots[u]);d.push(f)}t=n.collection(d)}else if(c(i.roots))t=n.$(i.roots);else if(a)t=o.roots();else{var g=r.components();t=n.collection();for(var m=function(e){var i=g[e],n=i.maxDegree(!1),r=i.filter(function(t){return t.degree(!1)===n});t=t.add(r)},v=0;v<g.length;v++)m(v)}var b=[],w={},x=function(t,e){null==b[e]&&(b[e]=[]);var i=b[e].length;b[e].push(t),Co(t,{index:i,depth:e})};s.bfs({roots:t,directed:i.directed,visit:function(t,e,i,n,r){var o=t[0],s=o.id();x(o,r),w[s]=!0}});for(var _=[],k=0;k<o.length;k++){var S=o[k];w[S.id()]||_.push(S)}var M=function(t){for(var e=b[t],i=0;i<e.length;i++){var n=e[i];null!=n?Co(n,{depth:t,index:i}):(e.splice(i,1),i--)}},C=function(){for(var t=0;t<b.length;t++)M(t)},E=function(t,e){for(var i=Mo(t),n=t.incomers().filter(function(t){return t.isNode()&&r.has(t)}),o=-1,s=t.id(),a=0;a<n.length;a++){var h=Mo(n[a]);o=Math.max(o,h.depth)}return i.depth<=o&&(e[s]?null:(function(t,e){var i=Mo(t);b[i.depth][i.index]=null,x(t,e)}(t,o+1),e[s]=!0,!0))};if(a&&h){var N=[],A={},D=function(t){return N.push(t)};for(o.forEach(function(t){return N.push(t)});N.length>0;){var T=N.shift(),O=E(T,A);if(O)T.outgoers().filter(function(t){return t.isNode()&&r.has(t)}).forEach(D);else if(null===O){kt("Detected double maximal shift for node `"+T.id()+"`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.");break}}}C();var P=0;if(i.avoidOverlap)for(var I=0;I<o.length;I++){var B=o[I].layoutDimensions(i);P=Math.max(P,B.w,B.h)}for(var R={},F=function(t){if(R[t.id()])return R[t.id()];for(var e=Mo(t).depth,i=t.neighborhood(),n=0,r=0,s=0;s<i.length;s++){var a=i[s];if(!a.isEdge()&&!a.isParent()&&o.has(a)){var h=Mo(a),l=h.index,d=h.depth;null!=l&&null!=d&&d<e&&(n+=l/b[d].length,r++)}}return n/=r=Math.max(1,r),0===r&&(n=0),R[t.id()]=n,n},z=function(t,e){var i=F(t)-F(e);return 0===i?L(t.id(),e.id()):i},j=0;j<b.length;j++)b[j].sort(z),M(j);for(var q=[],H=0;H<_.length;H++)q.push(_[H]);b.unshift(q),C();for(var W=0,U=0;U<b.length;U++)W=Math.max(b[U].length,W);var V=l.x1+l.w/2,Y=l.x1+l.h/2,G=b.reduce(function(t,e){return Math.max(t,e.length)},0);return o.layoutPositions(this,i,function(t){var e=Mo(t),n=e.depth,r=e.index,o=b[n].length,s=Math.max(l.w/((i.grid?G:o)+1),P),a=Math.max(l.h/(b.length+1),P),h=Math.min(l.w/2/b.length,l.h/2/b.length);if(h=Math.max(h,P),i.circle){var d=h*n+h-(b.length>0&&b[0].length<=3?h/2:0),u=2*Math.PI/b[n].length*r;return 0===n&&1===b[0].length&&(d=1),{x:V+d*Math.cos(u),y:Y+d*Math.sin(u)}}return{x:V+(r+1-(o+1)/2)*s,y:(n+1)*a}}),this};var No={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,e){return!0},ready:void 0,stop:void 0,transform:function(t,e){return e}};function Ao(t){this.options=O({},No,t)}Ao.prototype.run=function(){var t=this.options,e=t,i=t.cy,n=void 0!==e.counterclockwise?!e.counterclockwise:e.clockwise,r=e.eles.nodes().not(":parent");e.sort&&(r=r.sort(e.sort));for(var o,s=ue(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:i.width(),h:i.height()}),a=s.x1+s.w/2,h=s.y1+s.h/2,l=(void 0===e.sweep?2*Math.PI-2*Math.PI/r.length:e.sweep)/Math.max(1,r.length-1),d=0,u=0;u<r.length;u++){var c=r[u].layoutDimensions(e);d=Math.max(d,c.w,c.h)}if(o=m(e.radius)?e.radius:r.length<=1?0:Math.min(s.h,s.w)/2-d,r.length>1&&e.avoidOverlap){d*=1.75;var f=Math.cos(l)-Math.cos(0),p=Math.sin(l)-Math.sin(0),g=Math.sqrt(d*d/(f*f+p*p));o=Math.max(g,o)}return r.layoutPositions(this,e,function(t,i){var r=e.startAngle+i*l*(n?1:-1),s=o*Math.cos(r),d=o*Math.sin(r);return{x:a+s,y:h+d}}),this};var Do,To={fit:!0,padding:30,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:function(t){return t.degree()},levelWidth:function(t){return t.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,e){return!0},ready:void 0,stop:void 0,transform:function(t,e){return e}};function Lo(t){this.options=O({},To,t)}Lo.prototype.run=function(){for(var t=this.options,e=t,i=void 0!==e.counterclockwise?!e.counterclockwise:e.clockwise,n=t.cy,r=e.eles.nodes().not(":parent"),o=ue(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()}),s=o.x1+o.w/2,a=o.y1+o.h/2,h=[],l=0,d=0;d<r.length;d++){var u,c=r[d];u=e.concentric(c),h.push({value:u,node:c}),c._private.scratch.concentric=u}r.updateStyle();for(var f=0;f<r.length;f++){var p=r[f].layoutDimensions(e);l=Math.max(l,p.w,p.h)}h.sort(function(t,e){return e.value-t.value});for(var g=e.levelWidth(r),m=[[]],v=m[0],y=0;y<h.length;y++){var b=h[y];v.length>0&&Math.abs(v[0].value-b.value)>=g&&m.push(v=[]),v.push(b)}var w=l+e.minNodeSpacing;if(!e.avoidOverlap){var x=m.length>0&&m[0].length>1,_=(Math.min(o.w,o.h)/2-w)/(m.length+x?1:0);w=Math.min(w,_)}for(var k=0,S=0;S<m.length;S++){var M=m[S],C=void 0===e.sweep?2*Math.PI-2*Math.PI/M.length:e.sweep,E=M.dTheta=C/Math.max(1,M.length-1);if(M.length>1&&e.avoidOverlap){var N=Math.cos(E)-Math.cos(0),A=Math.sin(E)-Math.sin(0),D=Math.sqrt(w*w/(N*N+A*A));k=Math.max(D,k)}M.r=k,k+=w}if(e.equidistant){for(var T=0,L=0,O=0;O<m.length;O++)T=Math.max(T,m[O].r-L);L=0;for(var P=0;P<m.length;P++){var I=m[P];0===P&&(L=I.r),I.r=L,L+=T}}for(var B={},R=0;R<m.length;R++)for(var F=m[R],z=F.dTheta,j=F.r,q=0;q<F.length;q++){var H=F[q],W=e.startAngle+(i?1:-1)*z*q,U={x:s+j*Math.cos(W),y:a+j*Math.sin(W)};B[H.node.id()]=U}return r.layoutPositions(this,e,function(t){var e=t.id();return B[e]}),this};var Oo={ready:function(){},stop:function(){},animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:function(t,e){return!0},animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:function(t){return 2048},nodeOverlap:4,idealEdgeLength:function(t){return 32},edgeElasticity:function(t){return 32},nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1};function Po(t){this.options=O({},Oo,t),this.options.layout=this}Po.prototype.run=function(){var t=this.options,e=t.cy,i=this;i.stopped=!1,!0!==t.animate&&!1!==t.animate||i.emit({type:"layoutstart",layout:i}),Do=!0===t.debug;var n=Io(e,i,t);Do&&(void 0)(n),t.randomize&&Fo(n);var r=st(),o=function(){jo(n,e,t),!0===t.fit&&e.fit(t.padding)},s=function(e){return!(i.stopped||e>=t.numIter||(qo(n,t),n.temperature=n.temperature*t.coolingFactor,n.temperature<t.minTemp))},a=function(){if(!0===t.animate||!1===t.animate)o(),i.one("layoutstop",t.stop),i.emit({type:"layoutstop",layout:i});else{var e=t.eles.nodes(),r=zo(n,t,e);e.layoutPositions(i,t,r)}},h=0,l=!0;if(!0===t.animate)!function e(){for(var i=0;l&&i<t.refresh;)l=s(h),h++,i++;l?(st()-r>=t.animationThreshold&&o(),ot(e)):(Jo(n,t),a())}();else{for(;l;)l=s(h),h++;Jo(n,t),a()}return this},Po.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this},Po.prototype.destroy=function(){return this.thread&&this.thread.stop(),this};var Io=function(t,e,i){for(var n=i.eles.edges(),r=i.eles.nodes(),o={isCompound:t.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:r.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:n.size(),temperature:i.initialTemp,clientWidth:t.width(),clientHeight:t.width(),boundingBox:ue(i.boundingBox?i.boundingBox:{x1:0,y1:0,w:t.width(),h:t.height()})},s=i.eles.components(),a={},h=0;h<s.length;h++)for(var l=s[h],d=0;d<l.length;d++)a[l[d].id()]=h;for(h=0;h<o.nodeSize;h++){var u=(v=r[h]).layoutDimensions(i);(T={}).isLocked=v.locked(),T.id=v.data("id"),T.parentId=v.data("parent"),T.cmptId=a[v.id()],T.children=[],T.positionX=v.position("x"),T.positionY=v.position("y"),T.offsetX=0,T.offsetY=0,T.height=u.w,T.width=u.h,T.maxX=T.positionX+T.width/2,T.minX=T.positionX-T.width/2,T.maxY=T.positionY+T.height/2,T.minY=T.positionY-T.height/2,T.padLeft=parseFloat(v.style("padding")),T.padRight=parseFloat(v.style("padding")),T.padTop=parseFloat(v.style("padding")),T.padBottom=parseFloat(v.style("padding")),T.nodeRepulsion=f(i.nodeRepulsion)?i.nodeRepulsion(v):i.nodeRepulsion,o.layoutNodes.push(T),o.idToIndex[T.id]=h}var c=[],p=0,g=-1,m=[];for(h=0;h<o.nodeSize;h++){var v,y=(v=o.layoutNodes[h]).parentId;null!=y?o.layoutNodes[o.idToIndex[y]].children.push(v.id):(c[++g]=v.id,m.push(v.id))}for(o.graphSet.push(m);p<=g;){var b=c[p++],w=o.layoutNodes[o.idToIndex[b]].children;if(w.length>0)for(o.graphSet.push(w),h=0;h<w.length;h++)c[++g]=w[h]}for(h=0;h<o.graphSet.length;h++){var x=o.graphSet[h];for(d=0;d<x.length;d++)o.indexToGraph[o.idToIndex[x[d]]]=h}for(h=0;h<o.edgeSize;h++){var _=n[h],k={};k.id=_.data("id"),k.sourceId=_.data("source"),k.targetId=_.data("target");var S=f(i.idealEdgeLength)?i.idealEdgeLength(_):i.idealEdgeLength,M=f(i.edgeElasticity)?i.edgeElasticity(_):i.edgeElasticity,C=o.idToIndex[k.sourceId],E=o.idToIndex[k.targetId];if(o.indexToGraph[C]!=o.indexToGraph[E]){for(var N=Bo(k.sourceId,k.targetId,o),A=o.graphSet[N],D=0,T=o.layoutNodes[C];-1===A.indexOf(T.id);)T=o.layoutNodes[o.idToIndex[T.parentId]],D++;for(T=o.layoutNodes[E];-1===A.indexOf(T.id);)T=o.layoutNodes[o.idToIndex[T.parentId]],D++;S*=D*i.nestingFactor}k.idealLength=S,k.elasticity=M,o.layoutEdges.push(k)}return o},Bo=function(t,e,i){var n=Ro(t,e,0,i);return 2>n.count?0:n.graph},Ro=function t(e,i,n,r){var o=r.graphSet[n];if(-1<o.indexOf(e)&&-1<o.indexOf(i))return{count:2,graph:n};for(var s=0,a=0;a<o.length;a++){var h=r.layoutNodes[r.idToIndex[o[a]]].children;if(0!==h.length){var l=t(e,i,r.indexToGraph[r.idToIndex[h[0]]],r);if(0!==l.count){if(1!==l.count)return l;if(2==++s)break}}}return{count:s,graph:n}},Fo=function(t,e){for(var i=t.clientWidth,n=t.clientHeight,r=0;r<t.nodeSize;r++){var o=t.layoutNodes[r];0!==o.children.length||o.isLocked||(o.positionX=Math.random()*i,o.positionY=Math.random()*n)}},zo=function(t,e,i){var n=t.boundingBox,r={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};return e.boundingBox&&(i.forEach(function(e){var i=t.layoutNodes[t.idToIndex[e.data("id")]];r.x1=Math.min(r.x1,i.positionX),r.x2=Math.max(r.x2,i.positionX),r.y1=Math.min(r.y1,i.positionY),r.y2=Math.max(r.y2,i.positionY)}),r.w=r.x2-r.x1,r.h=r.y2-r.y1),function(i,o){var s=t.layoutNodes[t.idToIndex[i.data("id")]];return e.boundingBox?{x:n.x1+(s.positionX-r.x1)/r.w*n.w,y:n.y1+(s.positionY-r.y1)/r.h*n.h}:{x:s.positionX,y:s.positionY}}},jo=function(t,e,i){var n=i.layout,r=i.eles.nodes(),o=zo(t,i,r);r.positions(o),!0!==t.ready&&(t.ready=!0,n.one("layoutready",i.ready),n.emit({type:"layoutready",layout:this}))},qo=function(t,e,i){Ho(t,e),Go(t),Xo(t,e),Ko(t),Zo(t)},Ho=function(t,e){for(var i=0;i<t.graphSet.length;i++)for(var n=t.graphSet[i],r=n.length,o=0;o<r;o++)for(var s=t.layoutNodes[t.idToIndex[n[o]]],a=o+1;a<r;a++)Uo(s,t.layoutNodes[t.idToIndex[n[a]]],t,e)},Wo=function(t){return-t+2*t*Math.random()},Uo=function(t,e,i,n){if(t.cmptId===e.cmptId||i.isCompound){var r=e.positionX-t.positionX,o=e.positionY-t.positionY;0===r&&0===o&&(r=Wo(1),o=Wo(1));var s=Vo(t,e,r,o);if(s>0)var a=(l=n.nodeOverlap*s)*r/(g=Math.sqrt(r*r+o*o)),h=l*o/g;else{var l,d=Yo(t,r,o),u=Yo(e,-1*r,-1*o),c=u.x-d.x,f=u.y-d.y,p=c*c+f*f,g=Math.sqrt(p);a=(l=(t.nodeRepulsion+e.nodeRepulsion)/p)*c/g,h=l*f/g}t.isLocked||(t.offsetX-=a,t.offsetY-=h),e.isLocked||(e.offsetX+=a,e.offsetY+=h)}},Vo=function(t,e,i,n){if(i>0)var r=t.maxX-e.minX;else r=e.maxX-t.minX;if(n>0)var o=t.maxY-e.minY;else o=e.maxY-t.minY;return r>=0&&o>=0?Math.sqrt(r*r+o*o):0},Yo=function(t,e,i){var n=t.positionX,r=t.positionY,o=t.height||1,s=t.width||1,a=i/e,h=o/s,l={};return 0===e&&0<i?(l.x=n,l.y=r+o/2,l):0===e&&0>i?(l.x=n,l.y=r+o/2,l):0<e&&-1*h<=a&&a<=h?(l.x=n+s/2,l.y=r+s*i/2/e,l):0>e&&-1*h<=a&&a<=h?(l.x=n-s/2,l.y=r-s*i/2/e,l):0<i&&(a<=-1*h||a>=h)?(l.x=n+o*e/2/i,l.y=r+o/2,l):0>i&&(a<=-1*h||a>=h)?(l.x=n-o*e/2/i,l.y=r-o/2,l):l},Go=function(t,e){for(var i=0;i<t.edgeSize;i++){var n=t.layoutEdges[i],r=t.layoutNodes[t.idToIndex[n.sourceId]],o=t.layoutNodes[t.idToIndex[n.targetId]],s=o.positionX-r.positionX,a=o.positionY-r.positionY;if(0!==s||0!==a){var h=Yo(r,s,a),l=Yo(o,-1*s,-1*a),d=l.x-h.x,u=l.y-h.y,c=Math.sqrt(d*d+u*u),f=Math.pow(n.idealLength-c,2)/n.elasticity;if(0!==c)var p=f*d/c,g=f*u/c;else p=0,g=0;r.isLocked||(r.offsetX+=p,r.offsetY+=g),o.isLocked||(o.offsetX-=p,o.offsetY-=g)}}},Xo=function(t,e){for(var i=0;i<t.graphSet.length;i++){var n=t.graphSet[i],r=n.length;if(0===i)var o=t.clientHeight/2,s=t.clientWidth/2;else{var a=t.layoutNodes[t.idToIndex[t.layoutNodes[t.idToIndex[n[0]]].parentId]];o=a.positionX,s=a.positionY}for(var h=0;h<r;h++){var l=t.layoutNodes[t.idToIndex[n[h]]];if(!l.isLocked){var d=o-l.positionX,u=s-l.positionY,c=Math.sqrt(d*d+u*u);if(c>1){var f=e.gravity*u/c;l.offsetX+=e.gravity*d/c,l.offsetY+=f}}}}},Ko=function(t,e){var i=[],n=0,r=-1;for(i.push.apply(i,t.graphSet[0]),r+=t.graphSet[0].length;n<=r;){var o=i[n++],s=t.layoutNodes[t.idToIndex[o]],a=s.children;if(0<a.length&&!s.isLocked){for(var h=s.offsetX,l=s.offsetY,d=0;d<a.length;d++){var u=t.layoutNodes[t.idToIndex[a[d]]];u.offsetX+=h,u.offsetY+=l,i[++r]=a[d]}s.offsetX=0,s.offsetY=0}}},Zo=function(t,e){for(var i=0;i<t.nodeSize;i++)0<(r=t.layoutNodes[i]).children.length&&(r.maxX=void 0,r.minX=void 0,r.maxY=void 0,r.minY=void 0);for(i=0;i<t.nodeSize;i++)if(!(0<(r=t.layoutNodes[i]).children.length||r.isLocked)){var n=Qo(r.offsetX,r.offsetY,t.temperature);r.positionX+=n.x,r.positionY+=n.y,r.offsetX=0,r.offsetY=0,r.minX=r.positionX-r.width,r.maxX=r.positionX+r.width,r.minY=r.positionY-r.height,r.maxY=r.positionY+r.height,$o(r,t)}for(i=0;i<t.nodeSize;i++){var r;0<(r=t.layoutNodes[i]).children.length&&!r.isLocked&&(r.positionX=(r.maxX+r.minX)/2,r.positionY=(r.maxY+r.minY)/2,r.width=r.maxX-r.minX,r.height=r.maxY-r.minY)}},Qo=function(t,e,i){var n=Math.sqrt(t*t+e*e);if(n>i)var r={x:i*t/n,y:i*e/n};else r={x:t,y:e};return r},$o=function t(e,i){var n=e.parentId;if(null!=n){var r=i.layoutNodes[i.idToIndex[n]],o=!1;return(null==r.maxX||e.maxX+r.padRight>r.maxX)&&(r.maxX=e.maxX+r.padRight,o=!0),(null==r.minX||e.minX-r.padLeft<r.minX)&&(r.minX=e.minX-r.padLeft,o=!0),(null==r.maxY||e.maxY+r.padBottom>r.maxY)&&(r.maxY=e.maxY+r.padBottom,o=!0),(null==r.minY||e.minY-r.padTop<r.minY)&&(r.minY=e.minY-r.padTop,o=!0),o?t(r,i):void 0}},Jo=function(t,e){for(var i=t.layoutNodes,n=[],r=0;r<i.length;r++){var o=i[r],s=o.cmptId;(n[s]=n[s]||[]).push(o)}var a=0;for(r=0;r<n.length;r++)if(g=n[r]){g.x1=1/0,g.x2=-1/0,g.y1=1/0,g.y2=-1/0;for(var h=0;h<g.length;h++){var l=g[h];g.x1=Math.min(g.x1,l.positionX-l.width/2),g.x2=Math.max(g.x2,l.positionX+l.width/2),g.y1=Math.min(g.y1,l.positionY-l.height/2),g.y2=Math.max(g.y2,l.positionY+l.height/2)}g.w=g.x2-g.x1,g.h=g.y2-g.y1,a+=g.w*g.h}n.sort(function(t,e){return e.w*e.h-t.w*t.h});var d=0,u=0,c=0,f=0,p=Math.sqrt(a)*t.clientWidth/t.clientHeight;for(r=0;r<n.length;r++){var g;if(g=n[r]){for(h=0;h<g.length;h++)(l=g[h]).isLocked||(l.positionX+=d-g.x1,l.positionY+=u-g.y1);d+=g.w+e.componentSpacing,c+=g.w+e.componentSpacing,f=Math.max(f,g.h),c>p&&(u+=f+e.componentSpacing,d=0,c=0,f=0)}}},ts={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:function(t){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,e){return!0},ready:void 0,stop:void 0,transform:function(t,e){return e}};function es(t){this.options=O({},ts,t)}es.prototype.run=function(){var t=this.options,e=t,i=t.cy,n=e.eles.nodes().not(":parent");e.sort&&(n=n.sort(e.sort));var r=ue(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:i.width(),h:i.height()});if(0===r.h||0===r.w)n.layoutPositions(this,e,function(t){return{x:r.x1,y:r.y1}});else{var o=n.size(),s=Math.sqrt(o*r.h/r.w),a=Math.round(s),h=Math.round(r.w/r.h*s),l=function(t){if(null==t)return Math.min(a,h);Math.min(a,h)==a?a=t:h=t},d=function(t){if(null==t)return Math.max(a,h);Math.max(a,h)==a?a=t:h=t},u=e.rows,c=null!=e.cols?e.cols:e.columns;if(null!=u&&null!=c)a=u,h=c;else if(null!=u&&null==c)a=u,h=Math.ceil(o/a);else if(null==u&&null!=c)h=c,a=Math.ceil(o/h);else if(h*a>o){var f=l(),p=d();(f-1)*p>=o?l(f-1):(p-1)*f>=o&&d(p-1)}else for(;h*a<o;){var g=l(),m=d();(m+1)*g>=o?d(m+1):l(g+1)}var v=r.w/h,y=r.h/a;if(e.condense&&(v=0,y=0),e.avoidOverlap)for(var b=0;b<n.length;b++){var w=n[b],x=w._private.position;null!=x.x&&null!=x.y||(x.x=0,x.y=0);var _=w.layoutDimensions(e),k=e.avoidOverlapPadding,S=_.h+k;v=Math.max(v,_.w+k),y=Math.max(y,S)}for(var M={},C=function(t,e){return!!M["c-"+t+"-"+e]},E=function(t,e){M["c-"+t+"-"+e]=!0},N=0,A=0,D=function(){++A>=h&&(A=0,N++)},T={},L=0;L<n.length;L++){var O=n[L],P=e.position(O);if(P&&(void 0!==P.row||void 0!==P.col)){var I={row:P.row,col:P.col};if(void 0===I.col)for(I.col=0;C(I.row,I.col);)I.col++;else if(void 0===I.row)for(I.row=0;C(I.row,I.col);)I.row++;T[O.id()]=I,E(I.row,I.col)}}n.layoutPositions(this,e,function(t,e){var i,n;if(t.locked()||t.isParent())return!1;var o=T[t.id()];if(o)i=o.col*v+v/2+r.x1,n=o.row*y+y/2+r.y1;else{for(;C(N,A);)D();i=A*v+v/2+r.x1,n=N*y+y/2+r.y1,E(N,A),D()}return{x:i,y:n}})}return this};var is={ready:function(){},stop:function(){}};function ns(t){this.options=O({},is,t)}ns.prototype.run=function(){var t=this.options,e=t.eles;return this.emit("layoutstart"),e.nodes().positions(function(){return{x:0,y:0}}),this.one("layoutready",t.ready),this.emit("layoutready"),this.one("layoutstop",t.stop),this.emit("layoutstop"),this},ns.prototype.stop=function(){return this};var rs={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,e){return!0},ready:void 0,stop:void 0,transform:function(t,e){return e}};function os(t){this.options=O({},rs,t)}os.prototype.run=function(){var t=this.options,e=t.eles.nodes(),i=f(t.positions);return e.layoutPositions(this,t,function(e,n){var r=function(e){if(null==t.positions)return function(t){return{x:t.x,y:t.y}}(e.position());if(i)return t.positions(e);var n=t.positions[e._private.data.id];return null==n?null:n}(e);return!e.locked()&&null!=r&&r}),this};var ss={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,e){return!0},ready:void 0,stop:void 0,transform:function(t,e){return e}};function as(t){this.options=O({},ss,t)}as.prototype.run=function(){var t=this.options,e=t.cy,i=t.eles.nodes().not(":parent"),n=ue(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()});return i.layoutPositions(this,t,function(t,e){return{x:n.x1+Math.round(Math.random()*n.w),y:n.y1+Math.round(Math.random()*n.h)}}),this};var hs=[{name:"breadthfirst",impl:Eo},{name:"circle",impl:Ao},{name:"concentric",impl:Lo},{name:"cose",impl:Po},{name:"grid",impl:es},{name:"null",impl:ns},{name:"preset",impl:os},{name:"random",impl:as}];function ls(t){this.options=t,this.notifications=0}var ds=function(){};ls.prototype={recalculateRenderedStyle:ds,notify:function(){this.notifications++},init:ds,isHeadless:function(){return!0}};var us={arrowShapeWidth:.3,registerArrowShapes:function(){var t=this.arrowShapes={},e=this,i=function(t,e,i,n,r,o,s){return r.x-i/2-s<=t&&t<=r.x+i/2+s&&r.y-i/2-s<=e&&e<=r.y+i/2+s},n=function(t,e,i,n,r){var o=t*Math.cos(n)-e*Math.sin(n),s=(t*Math.sin(n)+e*Math.cos(n))*i;return{x:o*i+r.x,y:s+r.y}},r=function(t,e,i,r){for(var o=[],s=0;s<t.length;s+=2)o.push(n(t[s],t[s+1],e,i,r));return o},o=function(t){for(var e=[],i=0;i<t.length;i++){var n=t[i];e.push(n.x,n.y)}return e},s=function(t){return t.pstyle("width").pfValue*t.pstyle("arrow-scale").pfValue*2},a=function(n,a){c(a)&&(a=t[a]),t[n]=O({name:n,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:function(t,e,i,n,s,a){var h=o(r(this.points,i+2*a,n,s));return Me(t,e,h)},roughCollide:i,draw:function(t,i,n,o){var s=r(this.points,i,n,o);e.arrowShapeImpl("polygon")(t,s)},spacing:function(t){return 0},gap:s},a)};a("none",{collide:yt,roughCollide:yt,draw:wt,spacing:bt,gap:bt}),a("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),a("arrow","triangle"),a("triangle-backcurve",{points:t.triangle.points,controlPoint:[0,-.15],roughCollide:i,draw:function(t,i,o,s,a){var h=r(this.points,i,o,s),l=this.controlPoint,d=n(l[0],l[1],i,o,s);e.arrowShapeImpl(this.name)(t,h,d)},gap:function(t){return.8*s(t)}}),a("triangle-tee",{points:[0,0,.15,-.3,-.15,-.3,0,0],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(t,e,i,n,s,a,h){var l=o(r(this.points,i+2*h,n,s)),d=o(r(this.pointsTee,i+2*h,n,s));return Me(t,e,l)||Me(t,e,d)},draw:function(t,i,n,o,s){var a=r(this.points,i,n,o),h=r(this.pointsTee,i,n,o);e.arrowShapeImpl(this.name)(t,a,h)}}),a("triangle-cross",{points:[0,0,.15,-.3,-.15,-.3,0,0],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:function(t,e){var i=this.baseCrossLinePts.slice(),n=e/t;return i[3]=i[3]-n,i[5]=i[5]-n,i},collide:function(t,e,i,n,s,a,h){var l=o(r(this.points,i+2*h,n,s)),d=o(r(this.crossLinePts(i,a),i+2*h,n,s));return Me(t,e,l)||Me(t,e,d)},draw:function(t,i,n,o,s){var a=r(this.points,i,n,o),h=r(this.crossLinePts(i,s),i,n,o);e.arrowShapeImpl(this.name)(t,a,h)}}),a("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:function(t){return.525*s(t)}}),a("circle",{radius:.15,collide:function(t,e,i,n,r,o,s){var a=r;return Math.pow(a.x-t,2)+Math.pow(a.y-e,2)<=Math.pow((i+2*s)*this.radius,2)},draw:function(t,i,n,r,o){e.arrowShapeImpl(this.name)(t,r.x,r.y,this.radius*i)},spacing:function(t){return e.getArrowWidth(t.pstyle("width").pfValue,t.pstyle("arrow-scale").value)*this.radius}}),a("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:function(t){return 1},gap:function(t){return 1}}),a("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),a("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:function(t){return t.pstyle("width").pfValue*t.pstyle("arrow-scale").value}}),a("chevron",{points:[0,0,-.15,-.15,-.1,-.2,0,-.1,.1,-.2,.15,-.15],gap:function(t){return.95*t.pstyle("width").pfValue*t.pstyle("arrow-scale").value}})}},cs={projectIntoViewport:function(t,e){var i=this.cy,n=this.findContainerClientCoords(),r=n[0],o=n[1],s=n[4],a=i.pan(),h=i.zoom();return[((t-r)/s-a.x)/h,((e-o)/s-a.y)/h]},findContainerClientCoords:function(){if(this.containerBB)return this.containerBB;var t=this.container,e=t.getBoundingClientRect(),i=o.getComputedStyle(t),n=function(t){return parseFloat(i.getPropertyValue(t))},r=n("padding-left"),s=n("padding-right"),a=n("padding-top"),h=n("padding-bottom"),l=n("border-left-width"),d=n("border-right-width"),u=n("border-top-width"),c=(n("border-bottom-width"),t.clientWidth);return this.containerBB=[e.left+r+l,e.top+a+u,c-(r+s),t.clientHeight-(a+h),e.width/(c+(l+d))]},invalidateContainerClientCoordsCache:function(){this.containerBB=null},findNearestElement:function(t,e,i,n){return this.findNearestElements(t,e,i,n)[0]},findNearestElements:function(t,e,i,n){var r,o,s=this,a=this,h=a.getCachedZSortedEles(),l=[],d=a.cy.zoom(),u=a.cy.hasCompoundNodes(),c=(n?24:8)/d,f=(n?8:2)/d,p=(n?8:2)/d,g=1/0;function m(t,e){if(t.isNode()){if(o)return;o=t,l.push(t)}if(t.isEdge()&&(null==e||e<g))if(r){if(r.pstyle("z-compound-depth").value===t.pstyle("z-compound-depth").value&&r.pstyle("z-compound-depth").value===t.pstyle("z-compound-depth").value)for(var i=0;i<l.length;i++)if(l[i].isEdge()){l[i]=t,r=t,g=null!=e?e:g;break}}else l.push(t),r=t,g=null!=e?e:g}function v(i){var n=i.outerWidth()+2*f,r=i.outerHeight()+2*f,o=n/2,h=r/2,l=i.position();if(l.x-o<=t&&t<=l.x+o&&l.y-h<=e&&e<=l.y+h&&a.nodeShapes[s.getNodeShape(i)].checkPoint(t,e,0,n,r,l.x,l.y))return m(i,0),!0}function y(i){var n,r=i._private,o=r.rscratch,h=i.pstyle("width").pfValue,d=i.pstyle("arrow-scale").value,f=h/2+c,p=f*f,g=2*f,y=r.source,b=r.target;if("segments"===o.edgeType||"straight"===o.edgeType||"haystack"===o.edgeType){for(var w=o.allpts,x=0;x+3<w.length;x+=2)if(xe(t,e,w[x],w[x+1],w[x+2],w[x+3],g)&&p>(n=Se(t,e,w[x],w[x+1],w[x+2],w[x+3])))return m(i,n),!0}else if("bezier"===o.edgeType||"multibezier"===o.edgeType||"self"===o.edgeType||"compound"===o.edgeType)for(w=o.allpts,x=0;x+5<o.allpts.length;x+=4)if(_e(t,e,w[x],w[x+1],w[x+2],w[x+3],w[x+4],w[x+5],g)&&p>(n=ke(t,e,w[x],w[x+1],w[x+2],w[x+3],w[x+4],w[x+5])))return m(i,n),!0;y=y||r.source,b=b||r.target;var _=s.getArrowWidth(h,d),k=[{name:"source",x:o.arrowStartX,y:o.arrowStartY,angle:o.srcArrowAngle},{name:"target",x:o.arrowEndX,y:o.arrowEndY,angle:o.tgtArrowAngle},{name:"mid-source",x:o.midX,y:o.midY,angle:o.midsrcArrowAngle},{name:"mid-target",x:o.midX,y:o.midY,angle:o.midtgtArrowAngle}];for(x=0;x<k.length;x++){var S=k[x],M=a.arrowShapes[i.pstyle(S.name+"-arrow-shape").value],C=i.pstyle("width").pfValue;if(M.roughCollide(t,e,_,S.angle,{x:S.x,y:S.y},C,c)&&M.collide(t,e,_,S.angle,{x:S.x,y:S.y},C,c))return m(i),!0}u&&l.length>0&&(v(y),v(b))}function b(t,e,i){return Tt(t,e,i)}function w(i,n){var r=i._private,o=p,s=r.labelBounds[n||"main"],a=i.pstyle((n?n+"-":"")+"label").value;if("yes"===i.pstyle("text-events").strValue&&a){var h=r.rstyle,l=b(h,"labelX",n),d=b(h,"labelY",n),u=b(r.rscratch,"labelAngle",n),c=s.x1-o,f=s.x2+o,g=s.y1-o,v=s.y2+o;if(u){var y=Math.cos(u),w=Math.sin(u),x=function(t,e){return{x:(t-=l)*y-(e-=d)*w+l,y:t*w+e*y+d}},_=x(c,g),k=x(c,v),S=x(f,g),M=x(f,v);if(Me(t,e,[_.x,_.y,S.x,S.y,M.x,M.y,k.x,k.y]))return m(i),!0}else if(ye(s,t,e))return m(i),!0}}i&&(h=h.interactive);for(var x=h.length-1;x>=0;x--){var _=h[x];_.isNode()?v(_)||w(_):y(_)||w(_)||w(_,"source")||w(_,"target")}return l},getAllInBox:function(t,e,i,n){for(var r,o=this.getCachedZSortedEles().interactive,s=[],a=Math.min(t,i),h=Math.max(t,i),l=Math.min(e,n),d=Math.max(e,n),u=ue({x1:t=a,y1:e=l,x2:i=h,y2:n=d}),c=0;c<o.length;c++){var f=o[c];if(f.isNode()){var p=f,g=p.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:!1});ve(u,g)&&!be(g,u)&&s.push(p)}else{var m=f,v=m._private,y=v.rscratch;if(null!=y.startX&&null!=y.startY&&!ye(u,y.startX,y.startY))continue;if(null!=y.endX&&null!=y.endY&&!ye(u,y.endX,y.endY))continue;if("bezier"===y.edgeType||"multibezier"===y.edgeType||"self"===y.edgeType||"compound"===y.edgeType||"segments"===y.edgeType||"haystack"===y.edgeType){for(var b=v.rstyle.bezierPts||v.rstyle.linePts||v.rstyle.haystackPts,w=!0,x=0;x<b.length;x++)if(!ye(u,(r=b[x]).x,r.y)){w=!1;break}w&&s.push(m)}else"haystack"!==y.edgeType&&"straight"!==y.edgeType||s.push(m)}}return s}},fs={calculateArrowAngles:function(t){var e,i,n,r,o,s,a=t._private.rscratch,h="haystack"===a.edgeType,l="bezier"===a.edgeType,d="multibezier"===a.edgeType,u="segments"===a.edgeType,c="compound"===a.edgeType,f="self"===a.edgeType;h?(n=a.haystackPts[0],r=a.haystackPts[1],o=a.haystackPts[2],s=a.haystackPts[3]):(n=a.arrowStartX,r=a.arrowStartY,o=a.arrowEndX,s=a.arrowEndY),p=a.midX,g=a.midY,u?(e=n-a.segpts[0],i=r-a.segpts[1]):d||c||f||l?(e=n-he((k=a.allpts)[0],k[2],k[4],.1),i=r-he(k[1],k[3],k[5],.1)):(e=n-p,i=r-g),a.srcArrowAngle=ie(e,i);var p=a.midX,g=a.midY;if(h&&(p=(n+o)/2,g=(r+s)/2),e=o-n,i=s-r,u)if((k=a.allpts).length/2%2==0){var m=(v=k.length/2)-2;e=k[v]-k[m],i=k[v+1]-k[m+1]}else{m=(v=k.length/2-1)-2;var v,y=v+2;e=k[v]-k[m],i=k[v+1]-k[m+1]}else if(d||c||f){var b,w,x,_,k=a.allpts;if(a.ctrlpts.length/2%2==0){var S=2+(M=2+(C=k.length/2-1));b=he(k[C],k[M],k[S],0),w=he(k[C+1],k[M+1],k[S+1],0),x=he(k[C],k[M],k[S],1e-4),_=he(k[C+1],k[M+1],k[S+1],1e-4)}else{var M,C;S=2+(M=k.length/2-1),b=he(k[C=M-2],k[M],k[S],.4999),w=he(k[C+1],k[M+1],k[S+1],.4999),x=he(k[C],k[M],k[S],.5),_=he(k[C+1],k[M+1],k[S+1],.5)}e=x-b,i=_-w}if(a.midtgtArrowAngle=ie(e,i),a.midDispX=e,a.midDispY=i,e*=-1,i*=-1,u&&((k=a.allpts).length/2%2==0||(e=-(k[y=2+(v=k.length/2-1)]-k[v]),i=-(k[y+1]-k[v+1]))),a.midsrcArrowAngle=ie(e,i),u)e=o-a.segpts[a.segpts.length-2],i=s-a.segpts[a.segpts.length-1];else if(d||c||f||l){var E=(k=a.allpts).length;e=o-he(k[E-6],k[E-4],k[E-2],.9),i=s-he(k[E-5],k[E-3],k[E-1],.9)}else e=o-p,i=s-g;a.tgtArrowAngle=ie(e,i)}};fs.getArrowWidth=fs.getArrowHeight=function(t,e){var i=this.arrowWidthCache=this.arrowWidthCache||{},n=i[t+", "+e];return n||(n=Math.max(Math.pow(13.37*t,.9),29)*e,i[t+", "+e]=n,n)};var ps={};function gs(t){var e=[];if(null!=t){for(var i=0;i<t.length;i+=2)e.push({x:t[i],y:t[i+1]});return e}}ps.findHaystackPoints=function(t){for(var e=0;e<t.length;e++){var i=t[e],n=i._private,r=n.rscratch;if(!r.haystack){var o=2*Math.random()*Math.PI;r.source={x:Math.cos(o),y:Math.sin(o)},o=2*Math.random()*Math.PI,r.target={x:Math.cos(o),y:Math.sin(o)}}var s=n.source,a=n.target,h=s.position(),l=a.position(),d=s.width(),u=a.width(),c=s.height(),f=a.height(),p=i.pstyle("haystack-radius").value/2;r.haystackPts=r.allpts=[r.source.x*d*p+h.x,r.source.y*c*p+h.y,r.target.x*u*p+l.x,r.target.y*f*p+l.y],r.midX=(r.allpts[0]+r.allpts[2])/2,r.midY=(r.allpts[1]+r.allpts[3])/2,r.edgeType="haystack",r.haystack=!0,this.storeEdgeProjections(i),this.calculateArrowAngles(i),this.recalculateEdgeLabelProjections(i),this.calculateLabelAngles(i)}},ps.findSegmentsPoints=function(t,e){var i=t._private.rscratch,n=e.posPts,r=e.intersectionPts,o=e.vectorNormInverse,s=t.pstyle("edge-distances").value,a=t.pstyle("segment-weights"),h=t.pstyle("segment-distances"),l=Math.min(a.pfValue.length,h.pfValue.length);i.edgeType="segments",i.segpts=[];for(var d=0;d<l;d++){var u=a.pfValue[d],c=h.pfValue[d],f=1-u,p="node-position"===s?n:r,g={x:p.x1*f+p.x2*u,y:p.y1*f+p.y2*u};i.segpts.push(g.x+o.x*c,g.y+o.y*c)}},ps.findLoopPoints=function(t,e,i,n){var r=t._private.rscratch,o=e.dirCounts,s=e.srcPos,a=t.pstyle("control-point-distances"),h=a?a.pfValue[0]:void 0,l=t.pstyle("loop-direction").pfValue,d=t.pstyle("loop-sweep").pfValue,u=t.pstyle("control-point-step-size").pfValue;r.edgeType="self";var c=i,f=u;n&&(c=0,f=h);var p=l-Math.PI/2,g=p-d/2,m=p+d/2,v=String(l+"_"+d);c=void 0===o[v]?o[v]=0:++o[v],r.ctrlpts=[s.x+1.4*Math.cos(g)*f*(c/3+1),s.y+1.4*Math.sin(g)*f*(c/3+1),s.x+1.4*Math.cos(m)*f*(c/3+1),s.y+1.4*Math.sin(m)*f*(c/3+1)]},ps.findCompoundLoopPoints=function(t,e,i,n){var r=t._private.rscratch;r.edgeType="compound";var o=e.srcPos,s=e.tgtPos,a=e.srcW,h=e.srcH,l=e.tgtW,d=e.tgtH,u=t.pstyle("control-point-step-size").pfValue,c=t.pstyle("control-point-distances"),f=i,p=u;n&&(f=0,p=c?c.pfValue[0]:void 0);var g={x:o.x-a/2,y:o.y-h/2},m={x:s.x-l/2,y:s.y-d/2},v={x:Math.min(g.x,m.x),y:Math.min(g.y,m.y)},y=Math.max(.5,Math.log(.01*a)),b=Math.max(.5,Math.log(.01*l));r.ctrlpts=[v.x,v.y-(1+Math.pow(50,1.12)/100)*p*(f/3+1)*y,v.x-(1+Math.pow(50,1.12)/100)*p*(f/3+1)*b,v.y]},ps.findStraightEdgePoints=function(t){t._private.rscratch.edgeType="straight"},ps.findBezierPoints=function(t,e,i,n,r){var o=t._private.rscratch,s=e.vectorNormInverse,a=e.posPts,h=e.intersectionPts,l=t.pstyle("edge-distances").value,d=t.pstyle("control-point-step-size").pfValue,u=t.pstyle("control-point-distances"),c=t.pstyle("control-point-weights"),f=u&&c?Math.min(u.value.length,c.value.length):1,p=u?u.pfValue[0]:void 0,g=c.value[0],m=n;o.edgeType=m?"multibezier":"bezier",o.ctrlpts=[];for(var v=0;v<f;v++){var y,b=(.5-e.eles.length/2+i)*d*(r?-1:1),w=re(b);m&&(p=u?u.pfValue[v]:d,g=c.value[v]);var x=void 0!==(y=n?p:void 0!==p?w*p:void 0)?y:b,_=1-g,k="node-position"===l?a:h,S={x:k.x1*_+k.x2*g,y:k.y1*_+k.y2*g};o.ctrlpts.push(S.x+s.x*x,S.y+s.y*x)}},ps.findTaxiPoints=function(t,e){var i=t._private.rscratch;i.edgeType="segments";var n=e.posPts,r=e.srcW,o=e.srcH,s=e.tgtW,a=e.tgtH,h="node-position"!==t.pstyle("edge-distances").value,l=t.pstyle("taxi-direction").value,d=l,u=t.pstyle("taxi-turn"),c=u.pfValue,f=t.pstyle("taxi-turn-min-distance").pfValue,p="%"===u.units,g=h?(o+a)/2:0,m=n.x2-n.x1,v=n.y2-n.y1,y=function(t,e){return t>0?Math.max(t-e,0):Math.min(t+e,0)},b=y(m,h?(r+s)/2:0),w=y(v,g),x=!1;"auto"===l?l=Math.abs(b)>Math.abs(w)?"horizontal":"vertical":"upward"===l||"downward"===l?(l="vertical",x=!0):"leftward"!==l&&"rightward"!==l||(l="horizontal",x=!0);var _="vertical"===l,k=_?w:b,S=_?v:m,M=re(S),C=!1;x&&p||!("downward"===d&&S<0||"upward"===d&&S>0||"leftward"===d&&S>0||"rightward"===d&&S<0)||(k=(M*=-1)*Math.abs(k),C=!0);var E=p?c*k:c*M,N=function(t){return Math.abs(t)<f||Math.abs(t)>=Math.abs(k)},A=N(E),D=N(k-E);if(!A&&!D||C)if(_){var T=n.y1+E+(h?o/2*M:0);i.segpts=[n.x1,T,n.x2,T]}else{var L=n.x1+E+(h?r/2*M:0);i.segpts=[L,n.y1,L,n.y2]}else if(_){var O=Math.abs(S)<=o/2,P=Math.abs(m)<=s/2;if(O){var I=(n.x1+n.x2)/2;i.segpts=[I,n.y1,I,n.y2]}else if(P){var B=(n.y1+n.y2)/2;i.segpts=[n.x1,B,n.x2,B]}else i.segpts=[n.x1,n.y2]}else{var R=Math.abs(S)<=r/2,F=Math.abs(v)<=a/2;if(R){var z=(n.y1+n.y2)/2;i.segpts=[n.x1,z,n.x2,z]}else if(F){var j=(n.x1+n.x2)/2;i.segpts=[j,n.y1,j,n.y2]}else i.segpts=[n.x2,n.y1]}},ps.tryToCorrectInvalidPoints=function(t,e){var i=t._private.rscratch;if("bezier"===i.edgeType){var n=e.srcPos,r=e.tgtPos,o=e.srcW,s=e.srcH,a=e.tgtW,h=e.tgtH,l=e.srcShape,d=e.tgtShape,u=!m(i.startX)||!m(i.startY),c=!m(i.arrowStartX)||!m(i.arrowStartY),f=!m(i.endX)||!m(i.endY),p=!m(i.arrowEndX)||!m(i.arrowEndY),g=this.getArrowWidth(t.pstyle("width").pfValue,t.pstyle("arrow-scale").value)*this.arrowShapeWidth*3,v=oe({x:i.ctrlpts[0],y:i.ctrlpts[1]},{x:i.startX,y:i.startY}),y=v<g,b=oe({x:i.ctrlpts[0],y:i.ctrlpts[1]},{x:i.endX,y:i.endY}),w=b<g,x=!1;if(u||c||y){x=!0;var _={x:i.ctrlpts[0]-n.x,y:i.ctrlpts[1]-n.y},k=Math.sqrt(_.x*_.x+_.y*_.y),S={x:_.x/k,y:_.y/k},M=Math.max(o,s),C={x:i.ctrlpts[0]+2*S.x*M,y:i.ctrlpts[1]+2*S.y*M},E=l.intersectLine(n.x,n.y,o,s,C.x,C.y,0);y?(i.ctrlpts[0]=i.ctrlpts[0]+S.x*(g-v),i.ctrlpts[1]=i.ctrlpts[1]+S.y*(g-v)):(i.ctrlpts[0]=E[0]+S.x*g,i.ctrlpts[1]=E[1]+S.y*g)}if(f||p||w){x=!0;var N={x:i.ctrlpts[0]-r.x,y:i.ctrlpts[1]-r.y},A=Math.sqrt(N.x*N.x+N.y*N.y),D={x:N.x/A,y:N.y/A},T=Math.max(o,s),L={x:i.ctrlpts[0]+2*D.x*T,y:i.ctrlpts[1]+2*D.y*T},O=d.intersectLine(r.x,r.y,a,h,L.x,L.y,0);w?(i.ctrlpts[0]=i.ctrlpts[0]+D.x*(g-b),i.ctrlpts[1]=i.ctrlpts[1]+D.y*(g-b)):(i.ctrlpts[0]=O[0]+D.x*g,i.ctrlpts[1]=O[1]+D.y*g)}x&&this.findEndpoints(t)}},ps.storeAllpts=function(t){var e=t._private.rscratch;if("multibezier"===e.edgeType||"bezier"===e.edgeType||"self"===e.edgeType||"compound"===e.edgeType){e.allpts=[],e.allpts.push(e.startX,e.startY);for(var i=0;i+1<e.ctrlpts.length;i+=2)e.allpts.push(e.ctrlpts[i],e.ctrlpts[i+1]),i+3<e.ctrlpts.length&&e.allpts.push((e.ctrlpts[i]+e.ctrlpts[i+2])/2,(e.ctrlpts[i+1]+e.ctrlpts[i+3])/2);var n;e.allpts.push(e.endX,e.endY),e.ctrlpts.length/2%2==0?(e.midX=e.allpts[n=e.allpts.length/2-1],e.midY=e.allpts[n+1]):(e.midX=he(e.allpts[n=e.allpts.length/2-3],e.allpts[n+2],e.allpts[n+4],.5),e.midY=he(e.allpts[n+1],e.allpts[n+3],e.allpts[n+5],.5))}else if("straight"===e.edgeType)e.allpts=[e.startX,e.startY,e.endX,e.endY],e.midX=(e.startX+e.endX+e.arrowStartX+e.arrowEndX)/4,e.midY=(e.startY+e.endY+e.arrowStartY+e.arrowEndY)/4;else if("segments"===e.edgeType)if(e.allpts=[],e.allpts.push(e.startX,e.startY),e.allpts.push.apply(e.allpts,e.segpts),e.allpts.push(e.endX,e.endY),e.segpts.length%4==0){var r=e.segpts.length/2,o=r-2;e.midX=(e.segpts[o]+e.segpts[r])/2,e.midY=(e.segpts[o+1]+e.segpts[r+1])/2}else{var s=e.segpts.length/2-1;e.midX=e.segpts[s],e.midY=e.segpts[s+1]}},ps.checkForInvalidEdgeWarning=function(t){var e=t[0]._private.rscratch;e.nodesOverlap||m(e.startX)&&m(e.startY)&&m(e.endX)&&m(e.endY)?e.loggedErr=!1:e.loggedErr||(e.loggedErr=!0,kt("Edge `"+t.id()+"` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap."))},ps.findEdgeControlPoints=function(t){var e=this;if(t&&0!==t.length){for(var i=this,n=i.cy.hasCompoundNodes(),r={map:new Ot,get:function(t){var e=this.map.get(t[0]);return null!=e?e.get(t[1]):null},set:function(t,e){var i=this.map.get(t[0]);null==i&&(i=new Ot,this.map.set(t[0],i)),i.set(t[1],e)}},o=[],s=[],a=0;a<t.length;a++){var h=t[a],l=h._private,d=h.pstyle("curve-style").value;if(!h.removed()&&h.takesUpSpace())if("haystack"!==d){var u="unbundled-bezier"===d||"segments"===d||"straight"===d||"taxi"===d,c="unbundled-bezier"===d||"bezier"===d,f=l.target,p=[l.source.poolIndex(),f.poolIndex()].sort(),g=r.get(p);null==g&&(r.set(p,g={eles:[]}),o.push(p)),g.eles.push(h),u&&(g.hasUnbundled=!0),c&&(g.hasBezier=!0)}else s.push(h)}for(var v=function(t){var s=r.get(o[t]),a=void 0;if(!s.hasUnbundled){var h=s.eles[0].parallelEdges().filter(function(t){return t.isBundledBezier()});Dt(s.eles),h.forEach(function(t){return s.eles.push(t)}),s.eles.sort(function(t,e){return t.poolIndex()-e.poolIndex()})}var l=s.eles[0],d=l.source(),u=l.target();if(d.poolIndex()>u.poolIndex()){var c=d;d=u,u=c}var f=s.srcPos=d.position(),p=s.tgtPos=u.position(),g=s.srcW=d.outerWidth(),v=s.srcH=d.outerHeight(),y=s.tgtW=u.outerWidth(),b=s.tgtH=u.outerHeight(),w=s.srcShape=i.nodeShapes[e.getNodeShape(d)],x=s.tgtShape=i.nodeShapes[e.getNodeShape(u)];s.dirCounts={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0};for(var _=0;_<s.eles.length;_++){var k=s.eles[_],S=k[0]._private.rscratch,M=k.pstyle("curve-style").value,C="unbundled-bezier"===M||"segments"===M||"taxi"===M,E=!d.same(k.source());if(!s.calculatedIntersection&&d!==u&&(s.hasBezier||s.hasUnbundled)){s.calculatedIntersection=!0;var N=w.intersectLine(f.x,f.y,g,v,p.x,p.y,0),A=s.srcIntn=N,D=x.intersectLine(p.x,p.y,y,b,f.x,f.y,0),T=s.tgtIntn=D,L=s.intersectionPts={x1:N[0],x2:D[0],y1:N[1],y2:D[1]},O=s.posPts={x1:f.x,x2:p.x,y1:f.y,y2:p.y},P=D[1]-N[1],I=D[0]-N[0],B=Math.sqrt(I*I+P*P),R=s.vector={x:I,y:P},F=s.vectorNorm={x:R.x/B,y:R.y/B},z={x:-F.y,y:F.x};s.nodesOverlap=!m(B)||x.checkPoint(N[0],N[1],0,y,b,p.x,p.y)||w.checkPoint(D[0],D[1],0,g,v,f.x,f.y),s.vectorNormInverse=z,a={nodesOverlap:s.nodesOverlap,dirCounts:s.dirCounts,calculatedIntersection:!0,hasBezier:s.hasBezier,hasUnbundled:s.hasUnbundled,eles:s.eles,srcPos:p,tgtPos:f,srcW:y,srcH:b,tgtW:g,tgtH:v,srcIntn:T,tgtIntn:A,srcShape:x,tgtShape:w,posPts:{x1:O.x2,y1:O.y2,x2:O.x1,y2:O.y1},intersectionPts:{x1:L.x2,y1:L.y2,x2:L.x1,y2:L.y1},vector:{x:-R.x,y:-R.y},vectorNorm:{x:-F.x,y:-F.y},vectorNormInverse:{x:-z.x,y:-z.y}}}var j=E?a:s;S.nodesOverlap=j.nodesOverlap,S.srcIntn=j.srcIntn,S.tgtIntn=j.tgtIntn,n&&(d.isParent()||d.isChild()||u.isParent()||u.isChild())&&(d.parents().anySame(u)||u.parents().anySame(d)||d.same(u)&&d.isParent())?e.findCompoundLoopPoints(k,j,_,C):d===u?e.findLoopPoints(k,j,_,C):"segments"===M?e.findSegmentsPoints(k,j):"taxi"===M?e.findTaxiPoints(k,j):"straight"===M||!C&&s.eles.length%2==1&&_===Math.floor(s.eles.length/2)?e.findStraightEdgePoints(k):e.findBezierPoints(k,j,_,C,E),e.findEndpoints(k),e.tryToCorrectInvalidPoints(k,j),e.checkForInvalidEdgeWarning(k),e.storeAllpts(k),e.storeEdgeProjections(k),e.calculateArrowAngles(k),e.recalculateEdgeLabelProjections(k),e.calculateLabelAngles(k)}},y=0;y<o.length;y++)v(y);this.findHaystackPoints(s)}},ps.getSegmentPoints=function(t){var e=t[0]._private.rscratch;if("segments"===e.edgeType)return this.recalculateRenderedStyle(t),gs(e.segpts)},ps.getControlPoints=function(t){var e=t[0]._private.rscratch,i=e.edgeType;if("bezier"===i||"multibezier"===i||"self"===i||"compound"===i)return this.recalculateRenderedStyle(t),gs(e.ctrlpts)},ps.getEdgeMidpoint=function(t){var e=t[0]._private.rscratch;return this.recalculateRenderedStyle(t),{x:e.midX,y:e.midY}};var ms={manualEndptToPx:function(t,e){var i=t.position(),n=t.outerWidth(),r=t.outerHeight();if(2===e.value.length){var o=[e.pfValue[0],e.pfValue[1]];return"%"===e.units[0]&&(o[0]=o[0]*n),"%"===e.units[1]&&(o[1]=o[1]*r),o[0]+=i.x,o[1]+=i.y,o}var s=e.pfValue[0];s=-Math.PI/2+s;var a=2*Math.max(n,r),h=[i.x+Math.cos(s)*a,i.y+Math.sin(s)*a];return this.nodeShapes[this.getNodeShape(t)].intersectLine(i.x,i.y,n,r,h[0],h[1],0)},findEndpoints:function(t){var e,i,n,r,o,s=this,a=t.source()[0],h=t.target()[0],l=a.position(),d=h.position(),u=t.pstyle("target-arrow-shape").value,c=t.pstyle("source-arrow-shape").value,f=t.pstyle("target-distance-from-node").pfValue,p=t.pstyle("source-distance-from-node").pfValue,g=t.pstyle("curve-style").value,v=t._private.rscratch,y=v.edgeType,b="self"===y||"compound"===y,w="bezier"===y||"multibezier"===y||b,x="bezier"!==y,_="straight"===y||"segments"===y,k="segments"===y,S=w||x||_,M=b||"taxi"===g,C=t.pstyle("source-endpoint"),E=M?"outside-to-node":C.value,N=t.pstyle("target-endpoint"),A=M?"outside-to-node":N.value;if(v.srcManEndpt=C,v.tgtManEndpt=N,w){var D=[v.ctrlpts[0],v.ctrlpts[1]];i=x?[v.ctrlpts[v.ctrlpts.length-2],v.ctrlpts[v.ctrlpts.length-1]]:D,n=D}else if(_){var T=k?v.segpts.slice(0,2):[d.x,d.y];i=k?v.segpts.slice(v.segpts.length-2):[l.x,l.y],n=T}if("inside-to-node"===A)e=[d.x,d.y];else if(N.units)e=this.manualEndptToPx(h,N);else if("outside-to-line"===A)e=v.tgtIntn;else if("outside-to-node"===A||"outside-to-node-or-label"===A?r=i:"outside-to-line"!==A&&"outside-to-line-or-label"!==A||(r=[l.x,l.y]),e=s.nodeShapes[this.getNodeShape(h)].intersectLine(d.x,d.y,h.outerWidth(),h.outerHeight(),r[0],r[1],0),"outside-to-node-or-label"===A||"outside-to-line-or-label"===A){var L=h._private.rscratch,O=L.labelWidth,P=L.labelHeight,I=L.labelX,B=L.labelY,R=h.pstyle("text-valign").value;"top"===R?B-=P/2:"bottom"===R&&(B+=P/2);var F=h.pstyle("text-halign").value;"left"===F?I-=O/2:"right"===F&&(I+=O/2);var z=s.nodeShapes.rectangle.intersectLine(I,B,O,P,r[0],r[1],0),j=l,q=se(j,ee(e));se(j,ee(z))<q&&(e=z)}var H=Pe(e,i,s.arrowShapes[u].spacing(t)+f),W=Pe(e,i,s.arrowShapes[u].gap(t)+f);if(v.endX=W[0],v.endY=W[1],v.arrowEndX=H[0],v.arrowEndY=H[1],"inside-to-node"===E)e=[l.x,l.y];else if(C.units)e=this.manualEndptToPx(a,C);else if("outside-to-line"===E)e=v.srcIntn;else if("outside-to-node"===E||"outside-to-node-or-label"===E?o=n:"outside-to-line"!==E&&"outside-to-line-or-label"!==E||(o=[d.x,d.y]),e=s.nodeShapes[this.getNodeShape(a)].intersectLine(l.x,l.y,a.outerWidth(),a.outerHeight(),o[0],o[1],0),"outside-to-node-or-label"===E||"outside-to-line-or-label"===E){var U=a._private.rscratch,V=U.labelWidth,Y=U.labelHeight,G=U.labelX,X=U.labelY,K=a.pstyle("text-valign").value;"top"===K?X-=Y/2:"bottom"===K&&(X+=Y/2);var Z=a.pstyle("text-halign").value;"left"===Z?G-=V/2:"right"===Z&&(G+=V/2);var Q=s.nodeShapes.rectangle.intersectLine(G,X,V,Y,o[0],o[1],0),$=d,J=se($,ee(e));se($,ee(Q))<J&&(e=Q)}var tt=Pe(e,n,s.arrowShapes[c].spacing(t)+p),et=Pe(e,n,s.arrowShapes[c].gap(t)+p);v.startX=et[0],v.startY=et[1],v.arrowStartX=tt[0],v.arrowStartY=tt[1],S&&(v.badLine=!(m(v.startX)&&m(v.startY)&&m(v.endX)&&m(v.endY)))},getSourceEndpoint:function(t){var e=t[0]._private.rscratch;switch(this.recalculateRenderedStyle(t),e.edgeType){case"haystack":return{x:e.haystackPts[0],y:e.haystackPts[1]};default:return{x:e.arrowStartX,y:e.arrowStartY}}},getTargetEndpoint:function(t){var e=t[0]._private.rscratch;switch(this.recalculateRenderedStyle(t),e.edgeType){case"haystack":return{x:e.haystackPts[2],y:e.haystackPts[3]};default:return{x:e.arrowEndX,y:e.arrowEndY}}}},vs={};function ys(t,e,i){for(var n=function(t,e,i,n){return he(t,e,i,n)},r=e._private.rstyle.bezierPts,o=0;o<t.bezierProjPcts.length;o++){var s=t.bezierProjPcts[o];r.push({x:n(i[0],i[2],i[4],s),y:n(i[1],i[3],i[5],s)})}}vs.storeEdgeProjections=function(t){var e=t._private,i=e.rscratch,n=i.edgeType;if(e.rstyle.bezierPts=null,e.rstyle.linePts=null,e.rstyle.haystackPts=null,"multibezier"===n||"bezier"===n||"self"===n||"compound"===n){e.rstyle.bezierPts=[];for(var r=0;r+5<i.allpts.length;r+=4)ys(this,t,i.allpts.slice(r,r+6))}else if("segments"===n){var o=e.rstyle.linePts=[];for(r=0;r+1<i.allpts.length;r+=2)o.push({x:i.allpts[r],y:i.allpts[r+1]})}else if("haystack"===n){var s=i.haystackPts;e.rstyle.haystackPts=[{x:s[0],y:s[1]},{x:s[2],y:s[3]}]}e.rstyle.arrowWidth=this.getArrowWidth(t.pstyle("width").pfValue,t.pstyle("arrow-scale").value)*this.arrowShapeWidth},vs.recalculateEdgeProjections=function(t){this.findEdgeControlPoints(t)};var bs={recalculateNodeLabelProjection:function(t){var e=t.pstyle("label").strValue;if(!k(e)){var i,n,r=t._private,o=t.width(),s=t.height(),a=t.padding(),h=t.position(),l=t.pstyle("text-halign").strValue,d=t.pstyle("text-valign").strValue,u=r.rscratch,c=r.rstyle;switch(l){case"left":i=h.x-o/2-a;break;case"right":i=h.x+o/2+a;break;default:i=h.x}switch(d){case"top":n=h.y-s/2-a;break;case"bottom":n=h.y+s/2+a;break;default:n=h.y}u.labelX=i,u.labelY=n,c.labelX=i,c.labelY=n,this.applyLabelDimensions(t)}}},ws=function(t,e){var i=Math.atan(e/t);return 0===t&&i<0&&(i*=-1),i},xs=function(t,e){return ws(e.x-t.x,e.y-t.y)};bs.recalculateEdgeLabelProjections=function(t){var e,i=t._private,n=i.rscratch,r=this,o={mid:t.pstyle("label").strValue,source:t.pstyle("source-label").strValue,target:t.pstyle("target-label").strValue};if(o.mid||o.source||o.target){var s=function(t,e,n){Lt(i.rscratch,t,e,n),Lt(i.rstyle,t,e,n)};s("labelX",null,(e={x:n.midX,y:n.midY}).x),s("labelY",null,e.y);var a=ws(n.midDispX,n.midDispY);s("labelAutoAngle",null,a);var h=function(a){var h,l="source"===a;if(o[a]){var d=t.pstyle(a+"-text-offset").pfValue;switch(n.edgeType){case"self":case"compound":case"bezier":case"multibezier":for(var u,c=function t(){if(t.cache)return t.cache;for(var e=[],o=0;o+5<n.allpts.length;o+=4)e.push({p0:{x:n.allpts[o],y:n.allpts[o+1]},p1:{x:n.allpts[o+2],y:n.allpts[o+3]},p2:{x:n.allpts[o+4],y:n.allpts[o+5]},startDist:0,length:0,segments:[]});var s=i.rstyle.bezierPts,a=r.bezierProjPcts.length;function h(t,e,i,n,r){var o=oe(e,i),s=t.segments[t.segments.length-1];t.segments.push({p0:e,p1:i,t0:n,t1:r,startDist:s?s.startDist+s.length:0,length:o}),t.length+=o}for(var l=0;l<e.length;l++){var d=e[l],u=e[l-1];u&&(d.startDist=u.startDist+u.length),h(d,d.p0,s[l*a],0,r.bezierProjPcts[0]);for(var c=0;c<a-1;c++)h(d,s[l*a+c],s[l*a+c+1],r.bezierProjPcts[c],r.bezierProjPcts[c+1]);h(d,s[l*a+a-1],d.p2,r.bezierProjPcts[a-1],1)}return t.cache=e}(),f=0,p=0,g=0;g<c.length;g++){for(var m=c[l?g:c.length-1-g],v=0;v<m.segments.length;v++){var y=m.segments[l?v:m.segments.length-1-v];if(f=p,(p+=y.length)>=d||g===c.length-1&&v===m.segments.length-1){u={cp:m,segment:y};break}}if(u)break}var b=u.cp,w=u.segment,x=(d-f)/w.length,_=w.t1-w.t0,k=l?w.t0+_*x:w.t1-_*x;k=de(0,k,1),e=le(b.p0,b.p1,b.p2,k),h=function(t,e,i,n){var r=de(0,n-.001,1),o=de(0,n+.001,1),s=le(t,e,i,r),a=le(t,e,i,o);return xs(s,a)}(b.p0,b.p1,b.p2,k);break;case"straight":case"segments":case"haystack":for(var S,M,C,E,N=0,A=n.allpts.length,D=0;D+3<A&&(l?(C={x:n.allpts[D],y:n.allpts[D+1]},E={x:n.allpts[D+2],y:n.allpts[D+3]}):(C={x:n.allpts[A-2-D],y:n.allpts[A-1-D]},E={x:n.allpts[A-4-D],y:n.allpts[A-3-D]}),M=N,!((N+=S=oe(C,E))>=d));D+=2);var T=(d-M)/S;T=de(0,T,1),e=function(t,e,i,n){var r=E.x-t.x,o=E.y-t.y,s=oe(t,E);return i=null==i?0:i,{x:t.x+r/s*(n=null!=n?n:i*s),y:t.y+o/s*n}}(C,0,T),h=xs(C,E)}s("labelX",a,e.x),s("labelY",a,e.y),s("labelAutoAngle",a,h)}};h("source"),h("target"),this.applyLabelDimensions(t)}},bs.applyLabelDimensions=function(t){this.applyPrefixedLabelDimensions(t),t.isEdge()&&(this.applyPrefixedLabelDimensions(t,"source"),this.applyPrefixedLabelDimensions(t,"target"))},bs.applyPrefixedLabelDimensions=function(t,e){var i=t._private,n=this.getLabelText(t,e),r=this.calculateLabelDimensions(t,n),o=t.pstyle("line-height").pfValue,s=t.pstyle("text-wrap").strValue,a=Tt(i.rscratch,"labelWrapCachedLines",e)||[],h="wrap"!==s?1:Math.max(a.length,1),l=r.height/h,d=l*o,u=r.width,c=r.height+(h-1)*(o-1)*l;Lt(i.rstyle,"labelWidth",e,u),Lt(i.rscratch,"labelWidth",e,u),Lt(i.rstyle,"labelHeight",e,c),Lt(i.rscratch,"labelHeight",e,c),Lt(i.rscratch,"labelLineHeight",e,d)},bs.getLabelText=function(t,e){var i=t._private,n=t.pstyle((e?e+"-":"")+"label").strValue,r=t.pstyle("text-transform").value,o=function(t,n){return n?(Lt(i.rscratch,t,e,n),n):Tt(i.rscratch,t,e)};if(!n)return"";"none"==r||("uppercase"==r?n=n.toUpperCase():"lowercase"==r&&(n=n.toLowerCase()));var s=t.pstyle("text-wrap").value;if("wrap"===s){var a=o("labelKey");if(null!=a&&o("labelWrapKey")===a)return o("labelWrapCachedText");for(var h=n.split("\n"),l=t.pstyle("text-max-width").pfValue,d="anywhere"===t.pstyle("text-overflow-wrap").value,u=[],c=/[\s\u200b]+/,f=d?"":" ",p=0;p<h.length;p++){var g=h[p],m=this.calculateLabelDimensions(t,g).width;if(d){var v=g.split("").join("​");g=v}if(m>l){for(var y=g.split(c),b="",w=0;w<y.length;w++){var x=y[w];this.calculateLabelDimensions(t,0===b.length?x:b+f+x).width<=l?b+=x+f:(b&&u.push(b),b=x+f)}b.match(/^[\s\u200b]+$/)||u.push(b)}else u.push(g)}o("labelWrapCachedLines",u),n=o("labelWrapCachedText",u.join("\n")),o("labelWrapKey",a)}else if("ellipsis"===s){for(var _=t.pstyle("text-max-width").pfValue,k="",S=!1,M=0;M<n.length&&!(this.calculateLabelDimensions(t,k+n[M]+"…").width>_);M++)k+=n[M],M===n.length-1&&(S=!0);return S||(k+="…"),k}return n},bs.getLabelJustification=function(t){var e=t.pstyle("text-justification").strValue,i=t.pstyle("text-halign").strValue;if("auto"!==e)return e;if(!t.isNode())return"center";switch(i){case"left":return"right";case"right":return"left";default:return"center"}},bs.calculateLabelDimensions=function(t,e){var i=dt(e,t._private.labelDimsKey),n=this.labelDimCache||(this.labelDimCache=[]),r=n[i];if(null!=r)return r;var o=t.pstyle("font-style").strValue,s=1*t.pstyle("font-size").pfValue+"px",a=t.pstyle("font-family").strValue,h=t.pstyle("font-weight").strValue,l=this.labelCalcDiv;l||(l=this.labelCalcDiv=document.createElement("div"),document.body.appendChild(l));var d=l.style;return d.fontFamily=a,d.fontStyle=o,d.fontSize=s,d.fontWeight=h,d.position="absolute",d.left="-9999px",d.top="-9999px",d.zIndex="-1",d.visibility="hidden",d.pointerEvents="none",d.padding="0",d.lineHeight="1",d.whiteSpace="wrap"===t.pstyle("text-wrap").value?"pre":"normal",l.textContent=e,n[i]={width:Math.ceil(l.clientWidth/1),height:Math.ceil(l.clientHeight/1)}},bs.calculateLabelAngle=function(t,e){var i=t._private.rscratch,n=t.isEdge(),r=t.pstyle((e?e+"-":"")+"text-rotation"),o=r.strValue;return"none"===o?0:n&&"autorotate"===o?i.labelAutoAngle:"autorotate"===o?0:r.pfValue},bs.calculateLabelAngles=function(t){var e=this,i=t.isEdge(),n=t._private.rscratch;n.labelAngle=e.calculateLabelAngle(t),i&&(n.sourceLabelAngle=e.calculateLabelAngle(t,"source"),n.targetLabelAngle=e.calculateLabelAngle(t,"target"))};var _s={},ks=!1;_s.getNodeShape=function(t){var e=t.pstyle("shape").value;if("cutrectangle"===e&&(t.width()<28||t.height()<28))return ks||(kt("The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead"),ks=!0),"rectangle";if(t.isParent())return"rectangle"===e||"roundrectangle"===e||"cutrectangle"===e||"barrel"===e?e:"rectangle";if("polygon"===e){var i=t.pstyle("shape-polygon-points").value;return this.nodeShapes.makePolygon(i).name}return e};var Ss={};[cs,fs,ps,ms,vs,bs,_s,{registerCalculationListeners:function(){var t=this.cy,e=t.collection(),i=this,n=function(t){var i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e.merge(t),i)for(var n=0;n<t.length;n++){var r=t[n]._private.rstyle;r.clean=!1,r.cleanConnected=!1}};i.binder(t).on("bounds.* dirty.*",function(t){n(t.target)}).on("style.* background.*",function(t){n(t.target,!1)});var r=function(r){if(r){for(var o=i.onUpdateEleCalcsFns,s=0;s<e.length;s++){var a=e[s],h=a._private.rstyle;a.isNode()&&!h.cleanConnected&&(n(a.connectedEdges()),h.cleanConnected=!0)}if(o)for(s=0;s<o.length;s++)(0,o[s])(r,e);i.recalculateRenderedStyle(e),e=t.collection()}};i.flushRenderedStyleQueue=function(){r(!0)},i.beforeRender(r,i.beforeRenderPriorities.eleCalcs)},onUpdateEleCalcs:function(t){(this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[]).push(t)},recalculateRenderedStyle:function(t,e){var i=[],n=[];if(!this.destroyed){void 0===e&&(e=!0);for(var r=0;r<t.length;r++){var o=(h=(a=t[r])._private).rstyle;e&&o.clean||a.removed()||"none"!==a.pstyle("display").value&&("nodes"===h.group?n.push(a):i.push(a),o.clean=!0)}for(r=0;r<n.length;r++){o=(h=(a=n[r])._private).rstyle;var s=a.position();this.recalculateNodeLabelProjection(a),o.nodeX=s.x,o.nodeY=s.y,o.nodeW=a.pstyle("width").pfValue,o.nodeH=a.pstyle("height").pfValue}for(this.recalculateEdgeProjections(i),r=0;r<i.length;r++){o=(h=(a=i[r])._private).rstyle;var a,h,l=h.rscratch;o.srcX=l.arrowStartX,o.srcY=l.arrowStartY,o.tgtX=l.arrowEndX,o.tgtY=l.arrowEndY,o.midX=l.midX,o.midY=l.midY,o.labelAngle=l.labelAngle,o.sourceLabelAngle=l.sourceLabelAngle,o.targetLabelAngle=l.targetLabelAngle}}}},{updateCachedGrabbedEles:function(){var t=this.cachedZSortedEles;if(t){t.drag=[],t.nondrag=[];for(var e=[],i=0;i<t.length;i++){var n=(r=t[i])._private.rscratch;r.grabbed()&&!r.isParent()?e.push(r):n.inDragLayer?t.drag.push(r):t.nondrag.push(r)}for(i=0;i<e.length;i++){var r=e[i];t.drag.push(r)}}},invalidateCachedZSortedEles:function(){this.cachedZSortedEles=null},getCachedZSortedEles:function(t){if(t||!this.cachedZSortedEles){var e=this.cy.mutableElements().toArray();e.sort(pr),e.interactive=e.filter(function(t){return t.interactive()}),this.cachedZSortedEles=e,this.updateCachedGrabbedEles()}else e=this.cachedZSortedEles;return e}}].forEach(function(t){O(Ss,t)});var Ms={getCachedImage:function(t,e,i){var n=this.imageCache=this.imageCache||{},r=n[t];if(r)return r.image.complete||r.image.addEventListener("load",i),r.image;var o=(r=n[t]=n[t]||{}).image=new Image;return o.addEventListener("load",i),o.addEventListener("error",function(){o.error=!0}),"data:"===t.substring(0,"data:".length).toLowerCase()||(o.crossOrigin=e),o.src=t,o}},Cs={registerBinding:function(t,e,i,n){var r=Array.prototype.slice.apply(arguments,[1]),o=this.binder(t);return o.on.apply(o,r)},binder:function(t){var e=this,i=t===window||t===document||t===document.body||"undefined"!=typeof HTMLElement&&t instanceof HTMLElement;if(null==e.supportsPassiveEvents){var n=!1;try{var r=Object.defineProperty({},"passive",{get:function(){return n=!0,!0}});window.addEventListener("test",null,r)}catch(t){}e.supportsPassiveEvents=n}var o=function(n,r,o){var s=Array.prototype.slice.call(arguments);return i&&e.supportsPassiveEvents&&(s[2]={capture:null!=o&&o,passive:!1,once:!1}),e.bindings.push({target:t,args:s}),(t.addEventListener||t.on).apply(t,s),this};return{on:o,addEventListener:o,addListener:o,bind:o}},nodeIsDraggable:function(t){return t&&t.isNode()&&!t.locked()&&t.grabbable()},nodeIsGrabbable:function(t){return this.nodeIsDraggable(t)&&t.interactive()},load:function(){var t=this,e=function(t){return t.selected()},i=function(e,i,n,r){null==e&&(e=t.cy);for(var o=0;o<i.length;o++)e.emit({originalEvent:n,type:i[o],position:r})},n=function(t){return t.shiftKey||t.metaKey||t.ctrlKey},r=function(e,i){var n=!0;if(t.cy.hasCompoundNodes()&&e&&e.pannable()){for(var r=0;i&&r<i.length;r++)if((e=i[r]).isNode()&&e.isParent()){n=!1;break}}else n=!0;return n},o=function(t){t[0]._private.rscratch.inDragLayer=!0},s=function(t){t[0]._private.rscratch.isGrabTarget=!0},a=function(t,e){var i=e.addToList;i.has(t)||(i.merge(t),function(t){t[0]._private.grabbed=!0}(t))},h=function(e,i){i=i||{};var n=e.cy().hasCompoundNodes();i.inDragLayer&&(e.forEach(o),e.neighborhood().stdFilter(function(t){return!n||t.isEdge()}).forEach(o)),i.addToList&&e.forEach(function(t){a(t,i)}),function(t,e){if(t.cy().hasCompoundNodes()&&(null!=e.inDragLayer||null!=e.addToList)){var i=t.descendants();e.inDragLayer&&(i.forEach(o),i.connectedEdges().forEach(o)),e.addToList&&e.addToList.unmerge(i)}}(e,i),u(e,{inDragLayer:i.inDragLayer}),t.updateCachedGrabbedEles()},l=h,d=function(e){e&&(t.getCachedZSortedEles().forEach(function(t){!function(t){t[0]._private.grabbed=!1}(t),function(t){t[0]._private.rscratch.inDragLayer=!1}(t),function(t){t[0]._private.rscratch.isGrabTarget=!1}(t)}),t.updateCachedGrabbedEles())},u=function(t,e){if((null!=e.inDragLayer||null!=e.addToList)&&t.cy().hasCompoundNodes()){var i=t.ancestors().orphans();if(!i.same(t)){var n=i.descendants().spawnSelf().merge(i).unmerge(t).unmerge(t.descendants()),r=n.connectedEdges();e.inDragLayer&&(r.forEach(o),n.forEach(o)),e.addToList&&n.forEach(function(t){a(t,e)})}}},c=function(){null!=document.activeElement&&null!=document.activeElement.blur&&document.activeElement.blur()},f="undefined"!=typeof MutationObserver,p="undefined"!=typeof ResizeObserver;f?(t.removeObserver=new MutationObserver(function(e){for(var i=0;i<e.length;i++){var n=e[i].removedNodes;if(n)for(var r=0;r<n.length;r++)if(n[r]===t.container){t.destroy();break}}}),t.container.parentNode&&t.removeObserver.observe(t.container.parentNode,{childList:!0})):t.registerBinding(t.container,"DOMNodeRemoved",function(e){t.destroy()});var g=et(function(){t.cy.resize()},100);f&&(t.styleObserver=new MutationObserver(g),t.styleObserver.observe(t.container,{attributes:!0})),t.registerBinding(window,"resize",g),p&&(t.resizeObserver=new ResizeObserver(g),t.resizeObserver.observe(t.container));var v=function(){t.invalidateContainerClientCoordsCache()};!function(t,e){for(;null!=t;)e(t),t=t.parentNode}(t.container,function(e){t.registerBinding(e,"transitionend",v),t.registerBinding(e,"animationend",v),t.registerBinding(e,"scroll",v)}),t.registerBinding(t.container,"contextmenu",function(t){t.preventDefault()});var y,b,w,x,_,k,S,M,C,E,N,A,D,T=function(e){for(var i=t.findContainerClientCoords(),n=i[0],r=i[1],o=i[2],s=i[3],a=e.touches?e.touches:[e],h=!1,l=0;l<a.length;l++){var d=a[l];if(n<=d.clientX&&d.clientX<=n+o&&r<=d.clientY&&d.clientY<=r+s){h=!0;break}}if(!h)return!1;for(var u=t.container,c=e.target.parentNode,f=!1;c;){if(c===u){f=!0;break}c=c.parentNode}return!!f};t.registerBinding(t.container,"mousedown",function(e){if(T(e)){e.preventDefault(),c(),t.hoverData.capture=!0,t.hoverData.which=e.which;var n=t.cy,r=[e.clientX,e.clientY],o=t.projectIntoViewport(r[0],r[1]),a=t.selection,d=t.findNearestElements(o[0],o[1],!0,!1),u=d[0],f=t.dragData.possibleDragElements;if(t.hoverData.mdownPos=o,t.hoverData.mdownGPos=r,3==e.which){t.hoverData.cxtStarted=!0;var p={originalEvent:e,type:"cxttapstart",position:{x:o[0],y:o[1]}};u?(u.activate(),u.emit(p),t.hoverData.down=u):n.emit(p),t.hoverData.downTime=(new Date).getTime(),t.hoverData.cxtDragged=!1}else if(1==e.which){if(u&&u.activate(),null!=u&&t.nodeIsGrabbable(u)){var g=function(t){return{originalEvent:e,type:t,position:{x:o[0],y:o[1]}}};if(s(u),u.selected()){f=t.dragData.possibleDragElements=n.collection();var m=n.$(function(e){return e.isNode()&&e.selected()&&t.nodeIsGrabbable(e)});h(m,{addToList:f}),u.emit(g("grabon")),m.forEach(function(t){t.emit(g("grab"))})}else f=t.dragData.possibleDragElements=n.collection(),l(u,{addToList:f}),u.emit(g("grabon")).emit(g("grab"));t.redrawHint("eles",!0),t.redrawHint("drag",!0)}t.hoverData.down=u,t.hoverData.downs=d,t.hoverData.downTime=(new Date).getTime(),i(u,["mousedown","tapstart","vmousedown"],e,{x:o[0],y:o[1]}),null==u?(a[4]=1,t.data.bgActivePosistion={x:o[0],y:o[1]},t.redrawHint("select",!0),t.redraw()):u.pannable()&&(a[4]=1),t.hoverData.tapholdCancelled=!1,clearTimeout(t.hoverData.tapholdTimeout),t.hoverData.tapholdTimeout=setTimeout(function(){if(!t.hoverData.tapholdCancelled){var i=t.hoverData.down;i?i.emit({originalEvent:e,type:"taphold",position:{x:o[0],y:o[1]}}):n.emit({originalEvent:e,type:"taphold",position:{x:o[0],y:o[1]}})}},t.tapholdDuration)}a[0]=a[2]=o[0],a[1]=a[3]=o[1]}},!1),t.registerBinding(window,"mousemove",function(e){if(t.hoverData.capture||T(e)){var o=!1,s=t.cy,a=s.zoom(),l=[e.clientX,e.clientY],u=t.projectIntoViewport(l[0],l[1]),c=t.hoverData.mdownPos,f=t.hoverData.mdownGPos,p=t.selection,g=null;t.hoverData.draggingEles||t.hoverData.dragging||t.hoverData.selecting||(g=t.findNearestElement(u[0],u[1],!0,!1));var v,y=t.hoverData.last,b=t.hoverData.down,w=[u[0]-p[2],u[1]-p[3]],x=t.dragData.possibleDragElements;if(f){var _=l[0]-f[0],k=l[1]-f[1];t.hoverData.isOverThresholdDrag=v=_*_+k*k>=t.desktopTapThreshold2}var S=n(e);v&&(t.hoverData.tapholdCancelled=!0),o=!0,i(g,["mousemove","vmousemove","tapdrag"],e,{x:u[0],y:u[1]});var M=function(){t.data.bgActivePosistion=void 0,t.hoverData.selecting||s.emit({originalEvent:e,type:"boxstart",position:{x:u[0],y:u[1]}}),p[4]=1,t.hoverData.selecting=!0,t.redrawHint("select",!0),t.redraw()};if(3===t.hoverData.which){if(v){var C={originalEvent:e,type:"cxtdrag",position:{x:u[0],y:u[1]}};b?b.emit(C):s.emit(C),t.hoverData.cxtDragged=!0,t.hoverData.cxtOver&&g===t.hoverData.cxtOver||(t.hoverData.cxtOver&&t.hoverData.cxtOver.emit({originalEvent:e,type:"cxtdragout",position:{x:u[0],y:u[1]}}),t.hoverData.cxtOver=g,g&&g.emit({originalEvent:e,type:"cxtdragover",position:{x:u[0],y:u[1]}}))}}else if(t.hoverData.dragging){if(o=!0,s.panningEnabled()&&s.userPanningEnabled()){var E;if(t.hoverData.justStartedPan){var N=t.hoverData.mdownPos;E={x:(u[0]-N[0])*a,y:(u[1]-N[1])*a},t.hoverData.justStartedPan=!1}else E={x:w[0]*a,y:w[1]*a};s.panBy(E),t.hoverData.dragged=!0}u=t.projectIntoViewport(e.clientX,e.clientY)}else if(1!=p[4]||null!=b&&!b.pannable()){if(b&&b.pannable()&&b.active()&&b.unactivate(),b&&b.grabbed()||g==y||(y&&i(y,["mouseout","tapdragout"],e,{x:u[0],y:u[1]}),g&&i(g,["mouseover","tapdragover"],e,{x:u[0],y:u[1]}),t.hoverData.last=g),b)if(v){if(s.boxSelectionEnabled()&&S)b&&b.grabbed()&&(d(x),b.emit("freeon"),x.emit("free"),t.dragData.didDrag&&(b.emit("dragfreeon"),x.emit("dragfree"))),M();else if(b&&b.grabbed()&&t.nodeIsDraggable(b)){var A=!t.dragData.didDrag;A&&t.redrawHint("eles",!0),t.dragData.didDrag=!0;var D=s.collection();t.hoverData.draggingEles||h(x,{inDragLayer:!0});var L={x:0,y:0};if(m(w[0])&&m(w[1])&&(L.x+=w[0],L.y+=w[1],A)){var O=t.hoverData.dragDelta;O&&m(O[0])&&m(O[1])&&(L.x+=O[0],L.y+=O[1])}for(var P=0;P<x.length;P++){var I=x[P];t.nodeIsDraggable(I)&&I.grabbed()&&D.merge(I)}t.hoverData.draggingEles=!0,D.silentShift(L).emit("position drag"),t.redrawHint("drag",!0),t.redraw()}}else!function(){var e=t.hoverData.dragDelta=t.hoverData.dragDelta||[];0===e.length?(e.push(w[0]),e.push(w[1])):(e[0]+=w[0],e[1]+=w[1])}();o=!0}else v&&(t.hoverData.dragging||!s.boxSelectionEnabled()||!S&&s.panningEnabled()&&s.userPanningEnabled()?!t.hoverData.selecting&&s.panningEnabled()&&s.userPanningEnabled()&&r(b,t.hoverData.downs)&&(t.hoverData.dragging=!0,t.hoverData.justStartedPan=!0,p[4]=0,t.data.bgActivePosistion=ee(c),t.redrawHint("select",!0),t.redraw()):M(),b&&b.pannable()&&b.active()&&b.unactivate());return p[2]=u[0],p[3]=u[1],o?(e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),!1):void 0}},!1),t.registerBinding(window,"mouseup",function(r){if(t.hoverData.capture){t.hoverData.capture=!1;var o=t.cy,s=t.projectIntoViewport(r.clientX,r.clientY),a=t.selection,h=t.findNearestElement(s[0],s[1],!0,!1),l=t.dragData.possibleDragElements,u=t.hoverData.down,c=n(r);if(t.data.bgActivePosistion&&(t.redrawHint("select",!0),t.redraw()),t.hoverData.tapholdCancelled=!0,t.data.bgActivePosistion=void 0,u&&u.unactivate(),3===t.hoverData.which){var f={originalEvent:r,type:"cxttapend",position:{x:s[0],y:s[1]}};if(u?u.emit(f):o.emit(f),!t.hoverData.cxtDragged){var p={originalEvent:r,type:"cxttap",position:{x:s[0],y:s[1]}};u?u.emit(p):o.emit(p)}t.hoverData.cxtDragged=!1,t.hoverData.which=null}else if(1===t.hoverData.which){if(i(h,["mouseup","tapend","vmouseup"],r,{x:s[0],y:s[1]}),t.dragData.didDrag||t.hoverData.dragged||t.hoverData.selecting||t.hoverData.isOverThresholdDrag||i(u,["click","tap","vclick"],r,{x:s[0],y:s[1]}),null!=u||t.dragData.didDrag||t.hoverData.selecting||t.hoverData.dragged||n(r)||(o.$(e).unselect(["tapunselect"]),l.length>0&&t.redrawHint("eles",!0),t.dragData.possibleDragElements=l=o.collection()),h!=u||t.dragData.didDrag||t.hoverData.selecting||null!=h&&h._private.selectable&&(t.hoverData.dragging||("additive"===o.selectionType()||c?h.selected()?h.unselect(["tapunselect"]):h.select(["tapselect"]):c||(o.$(e).unmerge(h).unselect(["tapunselect"]),h.select(["tapselect"]))),t.redrawHint("eles",!0)),t.hoverData.selecting){var g=o.collection(t.getAllInBox(a[0],a[1],a[2],a[3]));t.redrawHint("select",!0),g.length>0&&t.redrawHint("eles",!0),o.emit({type:"boxend",originalEvent:r,position:{x:s[0],y:s[1]}});var m=function(t){return t.selectable()&&!t.selected()};"additive"===o.selectionType()?g.emit("box").stdFilter(m).select().emit("boxselect"):(c||o.$(e).unmerge(g).unselect(),g.emit("box").stdFilter(m).select().emit("boxselect")),t.redraw()}if(t.hoverData.dragging&&(t.hoverData.dragging=!1,t.redrawHint("select",!0),t.redrawHint("eles",!0),t.redraw()),!a[4]){t.redrawHint("drag",!0),t.redrawHint("eles",!0);var v=u&&u.grabbed();d(l),v&&(u.emit("freeon"),l.emit("free"),t.dragData.didDrag&&(u.emit("dragfreeon"),l.emit("dragfree")))}}a[4]=0,t.hoverData.down=null,t.hoverData.cxtStarted=!1,t.hoverData.draggingEles=!1,t.hoverData.selecting=!1,t.hoverData.isOverThresholdDrag=!1,t.dragData.didDrag=!1,t.hoverData.dragged=!1,t.hoverData.dragDelta=[],t.hoverData.mdownPos=null,t.hoverData.mdownGPos=null}},!1),t.registerBinding(t.container,"wheel",function(e){if(!t.scrollingPage){var i,n=t.cy,r=t.projectIntoViewport(e.clientX,e.clientY),o=[r[0]*n.zoom()+n.pan().x,r[1]*n.zoom()+n.pan().y];t.hoverData.draggingEles||t.hoverData.dragging||t.hoverData.cxtStarted||0!==t.selection[4]?e.preventDefault():n.panningEnabled()&&n.userPanningEnabled()&&n.zoomingEnabled()&&n.userZoomingEnabled()&&(e.preventDefault(),t.data.wheelZooming=!0,clearTimeout(t.data.wheelTimeout),t.data.wheelTimeout=setTimeout(function(){t.data.wheelZooming=!1,t.redrawHint("eles",!0),t.redraw()},150),i=null!=e.deltaY?e.deltaY/-250:null!=e.wheelDeltaY?e.wheelDeltaY/1e3:e.wheelDelta/1e3,i*=t.wheelSensitivity,1===e.deltaMode&&(i*=33),n.zoom({level:n.zoom()*Math.pow(10,i),renderedPosition:{x:o[0],y:o[1]}}))}},!0),t.registerBinding(window,"scroll",function(e){t.scrollingPage=!0,clearTimeout(t.scrollingPageTimeout),t.scrollingPageTimeout=setTimeout(function(){t.scrollingPage=!1},250)},!0),t.registerBinding(t.container,"mouseout",function(e){var i=t.projectIntoViewport(e.clientX,e.clientY);t.cy.emit({originalEvent:e,type:"mouseout",position:{x:i[0],y:i[1]}})},!1),t.registerBinding(t.container,"mouseover",function(e){var i=t.projectIntoViewport(e.clientX,e.clientY);t.cy.emit({originalEvent:e,type:"mouseover",position:{x:i[0],y:i[1]}})},!1);var L,O,P,I,B=function(t,e,i,n){return Math.sqrt((i-t)*(i-t)+(n-e)*(n-e))},R=function(t,e,i,n){return(i-t)*(i-t)+(n-e)*(n-e)};if(t.registerBinding(t.container,"touchstart",L=function(e){if(T(e)){c(),t.touchData.capture=!0,t.data.bgActivePosistion=void 0;var n=t.cy,r=t.touchData.now,o=t.touchData.earlier;if(e.touches[0]){var a=t.projectIntoViewport(e.touches[0].clientX,e.touches[0].clientY);r[0]=a[0],r[1]=a[1]}if(e.touches[1]&&(a=t.projectIntoViewport(e.touches[1].clientX,e.touches[1].clientY),r[2]=a[0],r[3]=a[1]),e.touches[2]&&(a=t.projectIntoViewport(e.touches[2].clientX,e.touches[2].clientY),r[4]=a[0],r[5]=a[1]),e.touches[1]){t.touchData.singleTouchMoved=!0,d(t.dragData.touchDragEles);var u=t.findContainerClientCoords();N=u[2],A=u[3],b=e.touches[0].clientY-(E=u[1]),w=e.touches[1].clientX-(C=u[0]),x=e.touches[1].clientY-E,D=0<=(y=e.touches[0].clientX-C)&&y<=N&&0<=w&&w<=N&&0<=b&&b<=A&&0<=x&&x<=A;var f=n.pan(),p=n.zoom();if(_=B(y,b,w,x),k=R(y,b,w,x),M=[((S=[(y+w)/2,(b+x)/2])[0]-f.x)/p,(S[1]-f.y)/p],k<4e4&&!e.touches[2]){var g=t.findNearestElement(r[0],r[1],!0,!0),m=t.findNearestElement(r[2],r[3],!0,!0);return g&&g.isNode()?(g.activate().emit({originalEvent:e,type:"cxttapstart",position:{x:r[0],y:r[1]}}),t.touchData.start=g):m&&m.isNode()?(m.activate().emit({originalEvent:e,type:"cxttapstart",position:{x:r[0],y:r[1]}}),t.touchData.start=m):n.emit({originalEvent:e,type:"cxttapstart",position:{x:r[0],y:r[1]}}),t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxt=!0,t.touchData.cxtDragged=!1,t.data.bgActivePosistion=void 0,void t.redraw()}}if(e.touches[2])n.boxSelectionEnabled()&&e.preventDefault();else if(e.touches[1]);else if(e.touches[0]){var v=t.findNearestElements(r[0],r[1],!0,!0),L=v[0];if(null!=L&&(L.activate(),t.touchData.start=L,t.touchData.starts=v,t.nodeIsGrabbable(L))){var O=t.dragData.touchDragEles=n.collection(),P=null;t.redrawHint("eles",!0),t.redrawHint("drag",!0),L.selected()?(P=n.$(function(e){return e.selected()&&t.nodeIsGrabbable(e)}),h(P,{addToList:O})):l(L,{addToList:O}),s(L);var I=function(t){return{originalEvent:e,type:t,position:{x:r[0],y:r[1]}}};L.emit(I("grabon")),P?P.forEach(function(t){t.emit(I("grab"))}):L.emit(I("grab"))}i(L,["touchstart","tapstart","vmousedown"],e,{x:r[0],y:r[1]}),null==L&&(t.data.bgActivePosistion={x:a[0],y:a[1]},t.redrawHint("select",!0),t.redraw()),t.touchData.singleTouchMoved=!1,t.touchData.singleTouchStartTime=+new Date,clearTimeout(t.touchData.tapholdTimeout),t.touchData.tapholdTimeout=setTimeout(function(){!1!==t.touchData.singleTouchMoved||t.pinching||t.touchData.selecting||i(t.touchData.start,["taphold"],e,{x:r[0],y:r[1]})},t.tapholdDuration)}if(e.touches.length>=1){for(var F=t.touchData.startPosition=[],z=0;z<r.length;z++)F[z]=o[z]=r[z];var j=e.touches[0];t.touchData.startGPosition=[j.clientX,j.clientY]}}},!1),t.registerBinding(window,"touchmove",O=function(e){var n=t.touchData.capture;if(n||T(e)){var o=t.selection,s=t.cy,a=t.touchData.now,l=t.touchData.earlier,u=s.zoom();if(e.touches[0]){var c=t.projectIntoViewport(e.touches[0].clientX,e.touches[0].clientY);a[0]=c[0],a[1]=c[1]}e.touches[1]&&(c=t.projectIntoViewport(e.touches[1].clientX,e.touches[1].clientY),a[2]=c[0],a[3]=c[1]),e.touches[2]&&(c=t.projectIntoViewport(e.touches[2].clientX,e.touches[2].clientY),a[4]=c[0],a[5]=c[1]);var f,p=t.touchData.startGPosition;if(n&&e.touches[0]&&p){for(var g=[],v=0;v<a.length;v++)g[v]=a[v]-l[v];var S=e.touches[0].clientX-p[0],N=e.touches[0].clientY-p[1];f=S*S+N*N>=t.touchTapThreshold2}if(n&&t.touchData.cxt){e.preventDefault();var A=e.touches[0].clientX-C,L=e.touches[0].clientY-E,O=e.touches[1].clientX-C,P=e.touches[1].clientY-E,I=R(A,L,O,P);if(I/k>=2.25||I>=22500){t.touchData.cxt=!1,t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var F={originalEvent:e,type:"cxttapend",position:{x:a[0],y:a[1]}};t.touchData.start?(t.touchData.start.unactivate().emit(F),t.touchData.start=null):s.emit(F)}}if(n&&t.touchData.cxt){F={originalEvent:e,type:"cxtdrag",position:{x:a[0],y:a[1]}},t.data.bgActivePosistion=void 0,t.redrawHint("select",!0),t.touchData.start?t.touchData.start.emit(F):s.emit(F),t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxtDragged=!0;var z=t.findNearestElement(a[0],a[1],!0,!0);t.touchData.cxtOver&&z===t.touchData.cxtOver||(t.touchData.cxtOver&&t.touchData.cxtOver.emit({originalEvent:e,type:"cxtdragout",position:{x:a[0],y:a[1]}}),t.touchData.cxtOver=z,z&&z.emit({originalEvent:e,type:"cxtdragover",position:{x:a[0],y:a[1]}}))}else if(n&&e.touches[2]&&s.boxSelectionEnabled())e.preventDefault(),t.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,t.touchData.selecting||s.emit({originalEvent:e,type:"boxstart",position:{x:a[0],y:a[1]}}),t.touchData.selecting=!0,t.touchData.didSelect=!0,o[4]=1,o&&0!==o.length&&void 0!==o[0]?(o[2]=(a[0]+a[2]+a[4])/3,o[3]=(a[1]+a[3]+a[5])/3):(o[0]=(a[0]+a[2]+a[4])/3,o[1]=(a[1]+a[3]+a[5])/3,o[2]=(a[0]+a[2]+a[4])/3+1,o[3]=(a[1]+a[3]+a[5])/3+1),t.redrawHint("select",!0),t.redraw();else if(n&&e.touches[1]&&!t.touchData.didSelect&&s.zoomingEnabled()&&s.panningEnabled()&&s.userZoomingEnabled()&&s.userPanningEnabled()){if(e.preventDefault(),t.data.bgActivePosistion=void 0,t.redrawHint("select",!0),J=t.dragData.touchDragEles){t.redrawHint("drag",!0);for(var j=0;j<J.length;j++){var q=J[j]._private;q.grabbed=!1,q.rscratch.inDragLayer=!1}}var H=t.touchData.start,W=B(A=e.touches[0].clientX-C,L=e.touches[0].clientY-E,O=e.touches[1].clientX-C,P=e.touches[1].clientY-E),U=W/_;if(D){var V=(A-y+(O-w))/2,Y=(L-b+(P-x))/2,G=s.zoom(),X=G*U,K=s.pan(),Z=M[0]*G+K.x,Q=M[1]*G+K.y,$={x:-X/G*(Z-K.x-V)+Z,y:-X/G*(Q-K.y-Y)+Q};if(H&&H.active()){var J=t.dragData.touchDragEles;d(J),t.redrawHint("drag",!0),t.redrawHint("eles",!0),H.unactivate().emit("freeon"),J.emit("free"),t.dragData.didDrag&&(H.emit("dragfreeon"),J.emit("dragfree"))}s.viewport({zoom:X,pan:$,cancelOnFailedZoom:!0}),_=W,y=A,b=L,w=O,x=P,t.pinching=!0}e.touches[0]&&(c=t.projectIntoViewport(e.touches[0].clientX,e.touches[0].clientY),a[0]=c[0],a[1]=c[1]),e.touches[1]&&(c=t.projectIntoViewport(e.touches[1].clientX,e.touches[1].clientY),a[2]=c[0],a[3]=c[1]),e.touches[2]&&(c=t.projectIntoViewport(e.touches[2].clientX,e.touches[2].clientY),a[4]=c[0],a[5]=c[1])}else if(e.touches[0]&&!t.touchData.didSelect){var tt=t.touchData.start,et=t.touchData.last;if(t.hoverData.draggingEles||t.swipePanning||(z=t.findNearestElement(a[0],a[1],!0,!0)),n&&null!=tt&&e.preventDefault(),n&&null!=tt&&t.nodeIsDraggable(tt))if(f){J=t.dragData.touchDragEles;var it=!t.dragData.didDrag;it&&h(J,{inDragLayer:!0}),t.dragData.didDrag=!0;var nt={x:0,y:0};m(g[0])&&m(g[1])&&(nt.x+=g[0],nt.y+=g[1],it&&(t.redrawHint("eles",!0),(rt=t.touchData.dragDelta)&&m(rt[0])&&m(rt[1])&&(nt.x+=rt[0],nt.y+=rt[1]))),t.hoverData.draggingEles=!0,J.silentShift(nt).emit("position drag"),t.redrawHint("drag",!0),t.touchData.startPosition[0]==l[0]&&t.touchData.startPosition[1]==l[1]&&t.redrawHint("eles",!0),t.redraw()}else{var rt;0===(rt=t.touchData.dragDelta=t.touchData.dragDelta||[]).length?(rt.push(g[0]),rt.push(g[1])):(rt[0]+=g[0],rt[1]+=g[1])}if(i(tt||z,["touchmove","tapdrag","vmousemove"],e,{x:a[0],y:a[1]}),tt&&tt.grabbed()||z==et||(et&&et.emit({originalEvent:e,type:"tapdragout",position:{x:a[0],y:a[1]}}),z&&z.emit({originalEvent:e,type:"tapdragover",position:{x:a[0],y:a[1]}})),t.touchData.last=z,n)for(j=0;j<a.length;j++)a[j]&&t.touchData.startPosition[j]&&f&&(t.touchData.singleTouchMoved=!0);n&&(null==tt||tt.pannable())&&s.panningEnabled()&&s.userPanningEnabled()&&(r(tt,t.touchData.starts)&&(e.preventDefault(),t.data.bgActivePosistion||(t.data.bgActivePosistion=ee(t.touchData.startPosition)),t.swipePanning?s.panBy({x:g[0]*u,y:g[1]*u}):f&&(t.swipePanning=!0,s.panBy({x:S*u,y:N*u}),tt&&(tt.unactivate(),t.redrawHint("select",!0),t.touchData.start=null))),c=t.projectIntoViewport(e.touches[0].clientX,e.touches[0].clientY),a[0]=c[0],a[1]=c[1])}for(v=0;v<a.length;v++)l[v]=a[v];n&&e.touches.length>0&&!t.hoverData.draggingEles&&!t.swipePanning&&null!=t.data.bgActivePosistion&&(t.data.bgActivePosistion=void 0,t.redrawHint("select",!0),t.redraw())}},!1),t.registerBinding(window,"touchcancel",P=function(e){var i=t.touchData.start;t.touchData.capture=!1,i&&i.unactivate()}),t.registerBinding(window,"touchend",I=function(n){var r=t.touchData.start;if(t.touchData.capture){0===n.touches.length&&(t.touchData.capture=!1),n.preventDefault();var o=t.selection;t.swipePanning=!1,t.hoverData.draggingEles=!1;var s,a=t.cy,h=a.zoom(),l=t.touchData.now,u=t.touchData.earlier;if(n.touches[0]){var c=t.projectIntoViewport(n.touches[0].clientX,n.touches[0].clientY);l[0]=c[0],l[1]=c[1]}if(n.touches[1]&&(c=t.projectIntoViewport(n.touches[1].clientX,n.touches[1].clientY),l[2]=c[0],l[3]=c[1]),n.touches[2]&&(c=t.projectIntoViewport(n.touches[2].clientX,n.touches[2].clientY),l[4]=c[0],l[5]=c[1]),r&&r.unactivate(),t.touchData.cxt){if(s={originalEvent:n,type:"cxttapend",position:{x:l[0],y:l[1]}},r?r.emit(s):a.emit(s),!t.touchData.cxtDragged){var f={originalEvent:n,type:"cxttap",position:{x:l[0],y:l[1]}};r?r.emit(f):a.emit(f)}return t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxt=!1,t.touchData.start=null,void t.redraw()}if(!n.touches[2]&&a.boxSelectionEnabled()&&t.touchData.selecting){t.touchData.selecting=!1;var p=a.collection(t.getAllInBox(o[0],o[1],o[2],o[3]));o[0]=void 0,o[1]=void 0,o[2]=void 0,o[3]=void 0,o[4]=0,t.redrawHint("select",!0),a.emit({type:"boxend",originalEvent:n,position:{x:l[0],y:l[1]}}),p.emit("box").stdFilter(function(t){return t.selectable()&&!t.selected()}).select().emit("boxselect"),p.nonempty()&&t.redrawHint("eles",!0),t.redraw()}if(null!=r&&r.unactivate(),n.touches[2])t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);else if(n.touches[1]);else if(n.touches[0]);else if(!n.touches[0]){t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var g=t.dragData.touchDragEles;if(null!=r){var m=r._private.grabbed;d(g),t.redrawHint("drag",!0),t.redrawHint("eles",!0),m&&(r.emit("freeon"),g.emit("free"),t.dragData.didDrag&&(r.emit("dragfreeon"),g.emit("dragfree"))),i(r,["touchend","tapend","vmouseup","tapdragout"],n,{x:l[0],y:l[1]}),r.unactivate(),t.touchData.start=null}else{var v=t.findNearestElement(l[0],l[1],!0,!0);i(v,["touchend","tapend","vmouseup","tapdragout"],n,{x:l[0],y:l[1]})}var y=t.touchData.startPosition[0]-l[0],b=t.touchData.startPosition[1]-l[1],w=(y*y+b*b)*h*h;t.touchData.singleTouchMoved||(r||a.$(":selected").unselect(["tapunselect"]),i(r,["tap","vclick"],n,{x:l[0],y:l[1]})),null!=r&&!t.dragData.didDrag&&r._private.selectable&&w<t.touchTapThreshold2&&!t.pinching&&("single"===a.selectionType()?(a.$(e).unmerge(r).unselect(["tapunselect"]),r.select(["tapselect"])):r.selected()?r.unselect(["tapunselect"]):r.select(["tapselect"]),t.redrawHint("eles",!0)),t.touchData.singleTouchMoved=!0}for(var x=0;x<l.length;x++)u[x]=l[x];t.dragData.didDrag=!1,0===n.touches.length&&(t.touchData.dragDelta=[],t.touchData.startPosition=null,t.touchData.startGPosition=null,t.touchData.didSelect=!1),n.touches.length<2&&(1===n.touches.length&&(t.touchData.startGPosition=[n.touches[0].clientX,n.touches[0].clientY]),t.pinching=!1,t.redrawHint("eles",!0),t.redraw())}},!1),"undefined"==typeof TouchEvent){var F=[],z=function(t){return{clientX:t.clientX,clientY:t.clientY,force:1,identifier:t.pointerId,pageX:t.pageX,pageY:t.pageY,radiusX:t.width/2,radiusY:t.height/2,screenX:t.screenX,screenY:t.screenY,target:t.target}},j=function(t){for(var e=0;e<F.length;e++)if(F[e].event.pointerId===t.pointerId)return void F.splice(e,1)},q=function(t){t.touches=F.map(function(t){return t.touch})},H=function(t){return"mouse"===t.pointerType||4===t.pointerType};t.registerBinding(t.container,"pointerdown",function(t){H(t)||(t.preventDefault(),function(t){F.push(function(t){return{event:t,touch:z(t)}}(t))}(t),q(t),L(t))}),t.registerBinding(t.container,"pointerup",function(t){H(t)||(j(t),q(t),I(t))}),t.registerBinding(t.container,"pointercancel",function(t){H(t)||(j(t),q(t),P())}),t.registerBinding(t.container,"pointermove",function(t){H(t)||(t.preventDefault(),function(t){var e=F.filter(function(e){return e.event.pointerId===t.pointerId})[0];e.event=t,e.touch=z(t)}(t),q(t),O(t))})}}},Es={generatePolygon:function(t,e){return this.nodeShapes[t]={renderer:this,name:t,points:e,draw:function(t,e,i,n,r){this.renderer.nodeShapeImpl("polygon",t,e,i,n,r,this.points)},intersectLine:function(t,e,i,n,r,o,s){return Oe(r,o,this.points,t,e,i/2,n/2,s)},checkPoint:function(t,e,i,n,r,o,s){return Ce(t,e,this.points,o,s,n,r,[0,-1],i)}}},generateEllipse:function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:function(t,e,i,n,r){this.renderer.nodeShapeImpl(this.name,t,e,i,n,r)},intersectLine:function(t,e,i,n,r,o,s){return function(t,e,i,n,r,o){var s=i-t,a=n-e;s/=r,a/=o;var h=Math.sqrt(s*s+a*a),l=h-1;if(l<0)return[];var d=l/h;return[(i-t)*d+t,(n-e)*d+e]}(r,o,t,e,i/2+s,n/2+s)},checkPoint:function(t,e,i,n,r,o,s){return Ae(t,e,n,r,o,s,i)}}},generateRoundRectangle:function(){return this.nodeShapes["round-rectangle"]=this.nodeShapes.roundrectangle={renderer:this,name:"round-rectangle",points:Ie(4,0),draw:function(t,e,i,n,r){this.renderer.nodeShapeImpl(this.name,t,e,i,n,r)},intersectLine:function(t,e,i,n,r,o,s){return we(r,o,t,e,i,n,s)},checkPoint:function(t,e,i,n,r,o,s){var a=Fe(n,r),h=2*a;return!!(Ce(t,e,this.points,o,s,n,r-h,[0,-1],i)||Ce(t,e,this.points,o,s,n-h,r,[0,-1],i)||Ae(t,e,h,h,o-n/2+a,s-r/2+a,i)||Ae(t,e,h,h,o+n/2-a,s-r/2+a,i)||Ae(t,e,h,h,o+n/2-a,s+r/2-a,i)||Ae(t,e,h,h,o-n/2+a,s+r/2-a,i))}}},generateCutRectangle:function(){return this.nodeShapes["cut-rectangle"]=this.nodeShapes.cutrectangle={renderer:this,name:"cut-rectangle",cornerLength:8,points:Ie(4,0),draw:function(t,e,i,n,r){this.renderer.nodeShapeImpl(this.name,t,e,i,n,r)},generateCutTrianglePts:function(t,e,i,n){var r=this.cornerLength,o=e/2,s=t/2,a=i-s,h=i+s,l=n-o,d=n+o;return{topLeft:[a,l+r,a+r,l,a+r,l+r],topRight:[h-r,l,h,l+r,h-r,l+r],bottomRight:[h,d-r,h-r,d,h-r,d-r],bottomLeft:[a+r,d,a,d-r,a+r,d-r]}},intersectLine:function(t,e,i,n,r,o,s){var a=this.generateCutTrianglePts(i+2*s,n+2*s,t,e),h=[].concat.apply([],[a.topLeft.splice(0,4),a.topRight.splice(0,4),a.bottomRight.splice(0,4),a.bottomLeft.splice(0,4)]);return Oe(r,o,h,t,e)},checkPoint:function(t,e,i,n,r,o,s){if(Ce(t,e,this.points,o,s,n,r-2*this.cornerLength,[0,-1],i))return!0;if(Ce(t,e,this.points,o,s,n-2*this.cornerLength,r,[0,-1],i))return!0;var a=this.generateCutTrianglePts(n,r,o,s);return Me(t,e,a.topLeft)||Me(t,e,a.topRight)||Me(t,e,a.bottomRight)||Me(t,e,a.bottomLeft)}}},generateBarrel:function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:Ie(4,0),draw:function(t,e,i,n,r){this.renderer.nodeShapeImpl(this.name,t,e,i,n,r)},intersectLine:function(t,e,i,n,r,o,s){var a=this.generateBarrelBezierPts(i+2*s,n+2*s,t,e),h=function(t){var e=le({x:t[0],y:t[1]},{x:t[2],y:t[3]},{x:t[4],y:t[5]},.15),i=le({x:t[0],y:t[1]},{x:t[2],y:t[3]},{x:t[4],y:t[5]},.5),n=le({x:t[0],y:t[1]},{x:t[2],y:t[3]},{x:t[4],y:t[5]},.85);return[t[0],t[1],e.x,e.y,i.x,i.y,n.x,n.y,t[4],t[5]]},l=[].concat(h(a.topLeft),h(a.topRight),h(a.bottomRight),h(a.bottomLeft));return Oe(r,o,l,t,e)},generateBarrelBezierPts:function(t,e,i,n){var r=e/2,o=t/2,s=i-o,a=i+o,h=n-r,l=n+r,d=ze(t,e),u=d.heightOffset,c=d.widthOffset,f=d.ctrlPtOffsetPct*t,p={topLeft:[s,h+u,s+f,h,s+c,h],topRight:[a-c,h,a-f,h,a,h+u],bottomRight:[a,l-u,a-f,l,a-c,l],bottomLeft:[s+c,l,s+f,l,s,l-u]};return p.topLeft.isTop=!0,p.topRight.isTop=!0,p.bottomLeft.isBottom=!0,p.bottomRight.isBottom=!0,p},checkPoint:function(t,e,i,n,r,o,s){var a=ze(n,r),h=a.widthOffset;if(Ce(t,e,this.points,o,s,n,r-2*a.heightOffset,[0,-1],i))return!0;if(Ce(t,e,this.points,o,s,n-2*h,r,[0,-1],i))return!0;for(var l=this.generateBarrelBezierPts(n,r,o,s),d=function(t,e,i){var n,r,o=i[4],s=i[2],a=i[0],h=i[5],l=i[1],d=Math.min(o,a),u=Math.max(o,a),c=Math.min(h,l),f=Math.max(h,l);if(d<=t&&t<=u&&c<=e&&e<=f){var p=[(n=o)-2*(r=s)+a,2*(r-n),n],g=function(t,e,i,n){var r=e*e-4*t*(i-=n);if(r<0)return[];var o=Math.sqrt(r),s=2*t;return[(-e+o)/s,(-e-o)/s]}(p[0],p[1],p[2],t).filter(function(t){return 0<=t&&t<=1});if(g.length>0)return g[0]}return null},u=Object.keys(l),c=0;c<u.length;c++){var f=l[u[c]],p=d(t,e,f);if(null!=p){var g=he(f[5],f[3],f[1],p);if(f.isTop&&g<=e)return!0;if(f.isBottom&&e<=g)return!0}}return!1}}},generateBottomRoundrectangle:function(){return this.nodeShapes["bottom-round-rectangle"]=this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottom-round-rectangle",points:Ie(4,0),draw:function(t,e,i,n,r){this.renderer.nodeShapeImpl(this.name,t,e,i,n,r)},intersectLine:function(t,e,i,n,r,o,s){var a=e-(n/2+s),h=Le(r,o,t,e,t-(i/2+s),a,t+(i/2+s),a,!1);return h.length>0?h:we(r,o,t,e,i,n,s)},checkPoint:function(t,e,i,n,r,o,s){var a=Fe(n,r),h=2*a;if(Ce(t,e,this.points,o,s,n,r-h,[0,-1],i))return!0;if(Ce(t,e,this.points,o,s,n-h,r,[0,-1],i))return!0;var l=n/2+2*i,d=r/2+2*i;return!!Me(t,e,[o-l,s-d,o-l,s,o+l,s,o+l,s-d])||!!Ae(t,e,h,h,o+n/2-a,s+r/2-a,i)||!!Ae(t,e,h,h,o-n/2+a,s+r/2-a,i)}}},registerNodeShapes:function(){var t=this.nodeShapes={},e=this;this.generateEllipse(),this.generatePolygon("triangle",Ie(3,0)),this.generatePolygon("rectangle",Ie(4,0)),t.square=t.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle(),this.generatePolygon("diamond",[0,1,1,0,0,-1,-1,0]),this.generatePolygon("pentagon",Ie(5,0)),this.generatePolygon("hexagon",Ie(6,0)),this.generatePolygon("heptagon",Ie(7,0)),this.generatePolygon("octagon",Ie(8,0));var i=new Array(20),n=Re(5,0),r=Re(5,Math.PI/5),o=.5*(3-Math.sqrt(5));o*=1.57;for(var s=0;s<r.length/2;s++)r[2*s]*=o,r[2*s+1]*=o;for(s=0;s<5;s++)i[4*s]=n[2*s],i[4*s+1]=n[2*s+1],i[4*s+2]=r[2*s],i[4*s+3]=r[2*s+1];i=Be(i),this.generatePolygon("star",i),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),this.nodeShapes.concavehexagon=this.generatePolygon("concave-hexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]),this.generatePolygon("tag",[-1,-1,.25,-1,1,0,.25,1,-1,1]),t.makePolygon=function(t){var i,n="polygon-"+t.join("$");return(i=this[n])?i:e.generatePolygon(n,t)}}},Ns={timeToRender:function(){return this.redrawTotalTime/this.redrawCount},redraw:function(t){t=t||Et();var e=this;void 0===e.averageRedrawTime&&(e.averageRedrawTime=0),void 0===e.lastRedrawTime&&(e.lastRedrawTime=0),void 0===e.lastDrawTime&&(e.lastDrawTime=0),e.requestedFrame=!0,e.renderOptions=t},beforeRender:function(t,e){if(!this.destroyed){null==e&&xt("Priority is not optional for beforeRender");var i=this.beforeRenderCallbacks;i.push({fn:t,priority:e}),i.sort(function(t,e){return e.priority-t.priority})}}},As=function(t,e,i){for(var n=t.beforeRenderCallbacks,r=0;r<n.length;r++)n[r].fn(e,i)};Ns.startRenderLoop=function(){var t=this,e=t.cy;t.renderLoopStarted||(t.renderLoopStarted=!0,ot(function i(n){if(!t.destroyed){if(e.batching());else if(t.requestedFrame&&!t.skipFrame){As(t,!0,n);var r=st();t.render(t.renderOptions);var o=t.lastDrawTime=st();void 0===t.averageRedrawTime&&(t.averageRedrawTime=o-r),void 0===t.redrawCount&&(t.redrawCount=0),t.redrawCount++,void 0===t.redrawTotalTime&&(t.redrawTotalTime=0);var s=o-r;t.redrawTotalTime+=s,t.lastRedrawTime=s,t.averageRedrawTime=t.averageRedrawTime/2+s/2,t.requestedFrame=!1}else As(t,!1,n);t.skipFrame=!1,ot(i)}}))};var Ds=function(t){this.init(t)},Ts=Ds.prototype;Ts.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"],Ts.init=function(t){var e=this;e.options=t,e.cy=t.cy;var i=e.container=t.cy.container();if(o){var n=o.document,r=n.head,s="__________cytoscape_container",a=null!=n.getElementById("__________cytoscape_stylesheet");if(i.className.indexOf(s)<0&&(i.className=(i.className||"")+" "+s),!a){var h=n.createElement("style");h.id="__________cytoscape_stylesheet",h.innerHTML="."+s+" { position: relative; }",r.insertBefore(h,r.children[0])}"static"===o.getComputedStyle(i).getPropertyValue("position")&&kt("A Cytoscape container has style position:static and so can not use UI extensions properly")}e.selection=[void 0,void 0,void 0,void 0,0],e.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],e.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},e.dragData={possibleDragElements:[]},e.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},e.redraws=0,e.showFps=t.showFps,e.debug=t.debug,e.hideEdgesOnViewport=t.hideEdgesOnViewport,e.hideLabelsOnViewport=t.hideLabelsOnViewport,e.textureOnViewport=t.textureOnViewport,e.wheelSensitivity=t.wheelSensitivity,e.motionBlurEnabled=t.motionBlur,e.forcedPixelRatio=m(t.pixelRatio)?t.pixelRatio:null,e.motionBlur=t.motionBlur,e.motionBlurOpacity=t.motionBlurOpacity,e.motionBlurTransparency=1-e.motionBlurOpacity,e.motionBlurPxRatio=1,e.mbPxRBlurry=1,e.minMbLowQualFrames=4,e.fullQualityMb=!1,e.clearedForMotionBlur=[],e.desktopTapThreshold=t.desktopTapThreshold,e.desktopTapThreshold2=t.desktopTapThreshold*t.desktopTapThreshold,e.touchTapThreshold=t.touchTapThreshold,e.touchTapThreshold2=t.touchTapThreshold*t.touchTapThreshold,e.tapholdDuration=500,e.bindings=[],e.beforeRenderCallbacks=[],e.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:150,lyrTxrSkip:100},e.registerNodeShapes(),e.registerArrowShapes(),e.registerCalculationListeners()},Ts.notify=function(t,e){var i=this;this.destroyed||("init"!==t?"destroy"!==t?(("add"===t||"remove"===t||"move"===t&&i.cy.hasCompoundNodes()||"load"===t||"zorder"===t||"mount"===t)&&i.invalidateCachedZSortedEles(),"viewport"===t&&i.redrawHint("select",!0),"load"!==t&&"resize"!==t&&"mount"!==t||(i.invalidateContainerClientCoordsCache(),i.matchCanvasSize(i.container)),i.redrawHint("eles",!0),i.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()):i.destroy():i.load())},Ts.destroy=function(){var t=this;t.destroyed=!0,t.cy.stopAnimationLoop();for(var e=0;e<t.bindings.length;e++){var i=t.bindings[e],n=i.target;(n.off||n.removeEventListener).apply(n,i.args)}if(t.bindings=[],t.beforeRenderCallbacks=[],t.onUpdateEleCalcsFns=[],t.removeObserver&&t.removeObserver.disconnect(),t.styleObserver&&t.styleObserver.disconnect(),t.resizeObserver&&t.resizeObserver.disconnect(),t.labelCalcDiv)try{document.body.removeChild(t.labelCalcDiv)}catch(t){}},Ts.isHeadless=function(){return!1},[us,Ss,Ms,Cs,Es,Ns].forEach(function(t){O(Ts,t)});var Ls=function(t){return function(){var e=this,i=this.renderer;if(!e.dequeueingSetup){e.dequeueingSetup=!0;var n=et(function(){i.redrawHint("eles",!0),i.redrawHint("drag",!0),i.redraw()},t.deqRedrawThreshold);i.beforeRender(function(r,o){var s=st(),a=i.averageRedrawTime,h=i.lastRedrawTime,l=[],d=i.cy.extent(),u=i.getPixelRatio();for(r||i.flushRenderedStyleQueue();;){var c=st(),f=c-s,p=c-o;if(h<1e3/60){if(p>=t.deqFastCost*(1e3/60-(r?a:0)))break}else if(r){if(f>=t.deqCost*h||f>=t.deqAvgCost*a)break}else if(p>=t.deqNoDrawCost*(1e3/60))break;var g=t.deq(e,u,d);if(!(g.length>0))break;for(var m=0;m<g.length;m++)l.push(g[m])}l.length>0&&(t.onDeqd(e,l),!r&&t.shouldRedraw(e,l,u,d)&&n())},(t.priority||wt)(e))}}},Os=function(){function t(i){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:yt;e(this,t),this.idsByKey=new Ot,this.keyForId=new Ot,this.cachesByLvl=new Ot,this.lvls=[],this.getKey=i,this.doesEleInvalidateKey=n}return n(t,[{key:"getIdsFor",value:function(t){null==t&&xt("Can not get id list for null key");var e=this.idsByKey,i=this.idsByKey.get(t);return i||(i=new It,e.set(t,i)),i}},{key:"addIdForKey",value:function(t,e){null!=t&&this.getIdsFor(t).add(e)}},{key:"deleteIdForKey",value:function(t,e){null!=t&&this.getIdsFor(t).delete(e)}},{key:"getNumberOfIdsForKey",value:function(t){return null==t?0:this.getIdsFor(t).size}},{key:"updateKeyMappingFor",value:function(t){var e=t.id(),i=this.keyForId.get(e),n=this.getKey(t);this.deleteIdForKey(i,e),this.addIdForKey(n,e),this.keyForId.set(e,n)}},{key:"deleteKeyMappingFor",value:function(t){var e=t.id(),i=this.keyForId.get(e);this.deleteIdForKey(i,e),this.keyForId.delete(e)}},{key:"keyHasChangedFor",value:function(t){var e=t.id();return this.keyForId.get(e)!==this.getKey(t)}},{key:"isInvalid",value:function(t){return this.keyHasChangedFor(t)||this.doesEleInvalidateKey(t)}},{key:"getCachesAt",value:function(t){var e=this.cachesByLvl,i=this.lvls,n=e.get(t);return n||(n=new Ot,e.set(t,n),i.push(t)),n}},{key:"getCache",value:function(t,e){return this.getCachesAt(e).get(t)}},{key:"get",value:function(t,e){var i=this.getKey(t),n=this.getCache(i,e);return null!=n&&this.updateKeyMappingFor(t),n}},{key:"getForCachedKey",value:function(t,e){var i=this.keyForId.get(t.id());return this.getCache(i,e)}},{key:"hasCache",value:function(t,e){return this.getCachesAt(e).has(t)}},{key:"has",value:function(t,e){var i=this.getKey(t);return this.hasCache(i,e)}},{key:"setCache",value:function(t,e,i){i.key=t,this.getCachesAt(e).set(t,i)}},{key:"set",value:function(t,e,i){var n=this.getKey(t);this.setCache(n,e,i),this.updateKeyMappingFor(t)}},{key:"deleteCache",value:function(t,e){this.getCachesAt(e).delete(t)}},{key:"delete",value:function(t,e){var i=this.getKey(t);this.deleteCache(i,e)}},{key:"invalidateKey",value:function(t){var e=this;this.lvls.forEach(function(i){return e.deleteCache(t,i)})}},{key:"invalidate",value:function(t){var e=t.id(),i=this.keyForId.get(e);this.deleteKeyMappingFor(t);var n=this.doesEleInvalidateKey(t);return n&&this.invalidateKey(i),n||0===this.getNumberOfIdsForKey(i)}}]),t}(),Ps={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},Is=Nt({getKey:null,doesEleInvalidateKey:yt,drawElement:null,getBoundingBox:null,getRotationPoint:null,getRotationOffset:null,isVisible:vt,allowEdgeTxrCaching:!0,allowParentTxrCaching:!0}),Bs=function(t,e){this.renderer=t,this.onDequeues=[];var i=Is(e);O(this,i),this.lookup=new Os(i.getKey,i.doesEleInvalidateKey),this.setupDequeueing()},Rs=Bs.prototype;Rs.reasons=Ps,Rs.getTextureQueue=function(t){return this.eleImgCaches=this.eleImgCaches||{},this.eleImgCaches[t]=this.eleImgCaches[t]||[]},Rs.getRetiredTextureQueue=function(t){var e=this.eleImgCaches.retired=this.eleImgCaches.retired||{};return e[t]=e[t]||[]},Rs.getElementQueue=function(){return this.eleCacheQueue=this.eleCacheQueue||new zt(function(t,e){return e.reqs-t.reqs})},Rs.getElementKeyToQueue=function(){return this.eleKeyToCacheQueue=this.eleKeyToCacheQueue||{}},Rs.getElement=function(t,e,i,n,r){var o=this,s=this.renderer,a=s.cy.zoom(),h=this.lookup;if(0===e.w||0===e.h||isNaN(e.w)||isNaN(e.h)||!t.visible())return null;if(!o.allowEdgeTxrCaching&&t.isEdge()||!o.allowParentTxrCaching&&t.isParent())return null;if(null==n&&(n=Math.ceil(ne(a*i))),n<-4)n=-4;else if(a>=7.99||n>3)return null;var l=Math.pow(2,n),d=e.h*l,u=e.w*l,c=s.eleTextBiggerThanMin(t,l);if(!this.isVisible(t,c))return null;var f,p=h.get(t,n);if(p&&p.invalidated&&(p.invalidated=!1,p.texture.invalidatedWidth-=p.width),p)return p;if(f=d<=25?25:d<=50?50:50*Math.ceil(d/50),d>1024||u>1024)return null;var g=o.getTextureQueue(f),m=g[g.length-2],v=function(){return o.recycleTexture(f,u)||o.addTexture(f,u)};m||(m=g[g.length-1]),m||(m=v()),m.width-m.usedWidth<u&&(m=v());for(var y,b=function(t){return t&&t.scaledLabelShown===c},w=r&&r===Ps.dequeue,x=r&&r===Ps.highQuality,_=r&&r===Ps.downscale,k=n+1;k<=3;k++){var S=h.get(t,k);if(S){y=S;break}}var M=y&&y.level===n+1?y:null,C=function(){m.context.drawImage(M.texture.canvas,M.x,0,M.width,M.height,m.usedWidth,0,u,d)};if(m.context.setTransform(1,0,0,1,0,0),m.context.clearRect(m.usedWidth,0,u,f),b(M))C();else if(b(y)){if(!x)return o.queueElement(t,y.level-1),y;for(var E=y.level;E>n;E--)M=o.getElement(t,e,i,E,Ps.downscale);C()}else{var N;if(!w&&!x&&!_)for(var A=n-1;A>=-4;A--){var D=h.get(t,A);if(D){N=D;break}}if(b(N))return o.queueElement(t,n),N;m.context.translate(m.usedWidth,0),m.context.scale(l,l),this.drawElement(m.context,t,e,c,!1),m.context.scale(1/l,1/l),m.context.translate(-m.usedWidth,0)}return p={x:m.usedWidth,texture:m,level:n,scale:l,width:u,height:d,scaledLabelShown:c},m.usedWidth+=Math.ceil(u+8),m.eleCaches.push(p),h.set(t,n,p),o.checkTextureFullness(m),p},Rs.invalidateElements=function(t){for(var e=0;e<t.length;e++)this.invalidateElement(t[e])},Rs.invalidateElement=function(t){var e=this.lookup,i=[];if(e.isInvalid(t)){for(var n=-4;n<=3;n++){var r=e.getForCachedKey(t,n);r&&i.push(r)}if(e.invalidate(t))for(var o=0;o<i.length;o++){var s=i[o],a=s.texture;a.invalidatedWidth+=s.width,s.invalidated=!0,this.checkTextureUtility(a)}this.removeFromQueue(t)}},Rs.checkTextureUtility=function(t){t.invalidatedWidth>=.2*t.width&&this.retireTexture(t)},Rs.checkTextureFullness=function(t){var e=this.getTextureQueue(t.height);t.usedWidth/t.width>.8&&t.fullnessChecks>=10?At(e,t):t.fullnessChecks++},Rs.retireTexture=function(t){var e=t.height,i=this.getTextureQueue(e),n=this.lookup;At(i,t),t.retired=!0;for(var r=t.eleCaches,o=0;o<r.length;o++){var s=r[o];n.deleteCache(s.key,s.level)}Dt(r),this.getRetiredTextureQueue(e).push(t)},Rs.addTexture=function(t,e){var i={};return this.getTextureQueue(t).push(i),i.eleCaches=[],i.height=t,i.width=Math.max(1024,e),i.usedWidth=0,i.invalidatedWidth=0,i.fullnessChecks=0,i.canvas=this.renderer.makeOffscreenCanvas(i.width,i.height),i.context=i.canvas.getContext("2d"),i},Rs.recycleTexture=function(t,e){for(var i=this.getTextureQueue(t),n=this.getRetiredTextureQueue(t),r=0;r<n.length;r++){var o=n[r];if(o.width>=e)return o.retired=!1,o.usedWidth=0,o.invalidatedWidth=0,o.fullnessChecks=0,Dt(o.eleCaches),o.context.setTransform(1,0,0,1,0,0),o.context.clearRect(0,0,o.width,o.height),At(n,o),i.push(o),o}},Rs.queueElement=function(t,e){var i=this.getElementQueue(),n=this.getElementKeyToQueue(),r=this.getKey(t),o=n[r];if(o)o.level=Math.max(o.level,e),o.eles.merge(t),o.reqs++,i.updateItem(o);else{var s={eles:t.spawn().merge(t),level:e,reqs:1,key:r};i.push(s),n[r]=s}},Rs.dequeue=function(t){for(var e=this.getElementQueue(),i=this.getElementKeyToQueue(),n=[],r=this.lookup,o=0;o<1&&e.size()>0;o++){var s=e.pop(),a=s.key,h=s.eles[0],l=r.hasCache(h,s.level);if(i[a]=null,!l){n.push(s);var d=this.getBoundingBox(h);this.getElement(h,d,t,s.level,Ps.dequeue)}}return n},Rs.removeFromQueue=function(t){var e=this.getElementQueue(),i=this.getElementKeyToQueue(),n=this.getKey(t),r=i[n];null!=r&&(1===r.eles.length?(r.reqs=mt,e.updateItem(r),e.pop(),i[n]=null):r.eles.unmerge(t))},Rs.onDequeue=function(t){this.onDequeues.push(t)},Rs.offDequeue=function(t){At(this.onDequeues,t)},Rs.setupDequeueing=Ls({deqRedrawThreshold:100,deqCost:.15,deqAvgCost:.1,deqNoDrawCost:.9,deqFastCost:.9,deq:function(t,e,i){return t.dequeue(e,i)},onDeqd:function(t,e){for(var i=0;i<t.onDequeues.length;i++)(0,t.onDequeues[i])(e)},shouldRedraw:function(t,e,i,n){for(var r=0;r<e.length;r++)for(var o=e[r].eles,s=0;s<o.length;s++){var a=o[s].boundingBox();if(ve(a,n))return!0}return!1},priority:function(t){return t.renderer.beforeRenderPriorities.eleTxrDeq}});var Fs=function(t){var e=this,i=e.renderer=t,n=i.cy;e.layersByLevel={},e.firstGet=!0,e.lastInvalidationTime=st()-500,e.skipping=!1,e.eleTxrDeqs=n.collection(),e.scheduleElementRefinement=et(function(){e.refineElementTextures(e.eleTxrDeqs),e.eleTxrDeqs.unmerge(e.eleTxrDeqs)},50),i.beforeRender(function(t,i){e.skipping=i-e.lastInvalidationTime<=250},i.beforeRenderPriorities.lyrTxrSkip),e.layersQueue=new zt(function(t,e){return e.reqs-t.reqs}),e.setupDequeueing()},zs=Fs.prototype,js=0,qs=Math.pow(2,53)-1;zs.makeLayer=function(t,e){var i=Math.pow(2,e),n=Math.ceil(t.w*i),r=Math.ceil(t.h*i),o=this.renderer.makeOffscreenCanvas(n,r),s={id:js=++js%qs,bb:t,level:e,width:n,height:r,canvas:o,context:o.getContext("2d"),eles:[],elesQueue:[],reqs:0},a=s.context,h=-s.bb.x1,l=-s.bb.y1;return a.scale(i,i),a.translate(h,l),s},zs.getLayers=function(t,e,i){var n=this,r=n.renderer.cy.zoom(),o=n.firstGet;if(n.firstGet=!1,null==i)if((i=Math.ceil(ne(r*e)))<-4)i=-4;else if(r>=3.99||i>2)return null;n.validateLayersElesOrdering(i,t);var s,a,h=n.layersByLevel,l=Math.pow(2,i),d=h[i]=h[i]||[];if(n.levelIsComplete(i,t))return d;!function(){var e=function(e){if(n.validateLayersElesOrdering(e,t),n.levelIsComplete(e,t))return a=h[e],!0},r=function(t){if(!a)for(var n=i+t;-4<=n&&n<=2&&!e(n);n+=t);};r(1),r(-1);for(var o=d.length-1;o>=0;o--){var s=d[o];s.invalid&&At(d,s)}}();var u=function(e){var r=(e=e||{}).after;if(function(){if(!s){s=ue();for(var e=0;e<t.length;e++)i=s,n=t[e].boundingBox(),i.x1=Math.min(i.x1,n.x1),i.x2=Math.max(i.x2,n.x2),i.w=i.x2-i.x1,i.y1=Math.min(i.y1,n.y1),i.y2=Math.max(i.y2,n.y2),i.h=i.y2-i.y1}var i,n}(),s.w*l*(s.h*l)>16e6)return null;var o=n.makeLayer(s,i);if(null!=r){var a=d.indexOf(r)+1;d.splice(a,0,o)}else(void 0===e.insert||e.insert)&&d.unshift(o);return o};if(n.skipping&&!o)return null;for(var c=null,f=t.length/1,p=!o,g=0;g<t.length;g++){var m=t[g],v=m._private.rscratch,y=v.imgLayerCaches=v.imgLayerCaches||{},b=y[i];if(b)c=b;else{if((!c||c.eles.length>=f||!be(c.bb,m.boundingBox()))&&!(c=u({insert:!0,after:c})))return null;a||p?n.queueLayer(c,m):n.drawEleInLayer(c,m,i,e),c.eles.push(m),y[i]=c}}return a||(p?null:d)},zs.getEleLevelForLayerLevel=function(t,e){return t},zs.drawEleInLayer=function(t,e,i,n){var r=this.renderer,o=t.context,s=e.boundingBox();0!==s.w&&0!==s.h&&e.visible()&&(i=this.getEleLevelForLayerLevel(i,n),r.setImgSmoothing(o,!1),r.drawCachedElement(o,e,null,null,i,!0),r.setImgSmoothing(o,!0))},zs.levelIsComplete=function(t,e){var i=this.layersByLevel[t];if(!i||0===i.length)return!1;for(var n=0,r=0;r<i.length;r++){var o=i[r];if(o.reqs>0)return!1;if(o.invalid)return!1;n+=o.eles.length}return n===e.length},zs.validateLayersElesOrdering=function(t,e){var i=this.layersByLevel[t];if(i)for(var n=0;n<i.length;n++){for(var r=i[n],o=-1,s=0;s<e.length;s++)if(r.eles[0]===e[s]){o=s;break}if(o<0)this.invalidateLayer(r);else{var a=o;for(s=0;s<r.eles.length;s++)if(r.eles[s]!==e[a+s]){this.invalidateLayer(r);break}}}},zs.updateElementsInLayers=function(t,e){for(var i=b(t[0]),n=0;n<t.length;n++)for(var r=i?null:t[n],o=i?t[n]:t[n].ele,s=o._private.rscratch,a=s.imgLayerCaches=s.imgLayerCaches||{},h=-4;h<=2;h++){var l=a[h];l&&(r&&this.getEleLevelForLayerLevel(l.level)!==r.level||e(l,o,r))}},zs.haveLayers=function(){for(var t=!1,e=-4;e<=2;e++){var i=this.layersByLevel[e];if(i&&i.length>0){t=!0;break}}return t},zs.invalidateElements=function(t){var e=this;0!==t.length&&(e.lastInvalidationTime=st(),0!==t.length&&e.haveLayers()&&e.updateElementsInLayers(t,function(t,i,n){e.invalidateLayer(t)}))},zs.invalidateLayer=function(t){if(this.lastInvalidationTime=st(),!t.invalid){var e=t.level,i=t.eles;At(this.layersByLevel[e],t),t.elesQueue=[],t.invalid=!0,t.replacement&&(t.replacement.invalid=!0);for(var n=0;n<i.length;n++){var r=i[n]._private.rscratch.imgLayerCaches;r&&(r[e]=null)}}},zs.refineElementTextures=function(t){var e=this;e.updateElementsInLayers(t,function(t,i,n){var r=t.replacement;if(r||((r=t.replacement=e.makeLayer(t.bb,t.level)).replaces=t,r.eles=t.eles),!r.reqs)for(var o=0;o<r.eles.length;o++)e.queueLayer(r,r.eles[o])})},zs.enqueueElementRefinement=function(t){this.eleTxrDeqs.merge(t),this.scheduleElementRefinement()},zs.queueLayer=function(t,e){var i=this.layersQueue,n=t.elesQueue,r=n.hasId=n.hasId||{};if(!t.replacement){if(e){if(r[e.id()])return;n.push(e),r[e.id()]=!0}t.reqs?(t.reqs++,i.updateItem(t)):(t.reqs=1,i.push(t))}},zs.dequeue=function(t){for(var e=this.layersQueue,i=[],n=0;n<1&&0!==e.size();){var r=e.peek();if(r.replacement)e.pop();else if(r.replaces&&r!==r.replaces.replacement)e.pop();else if(r.invalid)e.pop();else{var o=r.elesQueue.shift();o&&(this.drawEleInLayer(r,o,r.level,t),n++),0===i.length&&i.push(!0),0===r.elesQueue.length&&(e.pop(),r.reqs=0,r.replaces&&this.applyLayerReplacement(r),this.requestRedraw())}}return i},zs.applyLayerReplacement=function(t){var e=this.layersByLevel[t.level],i=t.replaces,n=e.indexOf(i);if(!(n<0||i.invalid)){e[n]=t;for(var r=0;r<t.eles.length;r++){var o=t.eles[r]._private,s=o.imgLayerCaches=o.imgLayerCaches||{};s&&(s[t.level]=t)}this.requestRedraw()}},zs.requestRedraw=et(function(){var t=this.renderer;t.redrawHint("eles",!0),t.redrawHint("drag",!0),t.redraw()},100),zs.setupDequeueing=Ls({deqRedrawThreshold:50,deqCost:.15,deqAvgCost:.1,deqNoDrawCost:.9,deqFastCost:.9,deq:function(t,e){return t.dequeue(e)},onDeqd:wt,shouldRedraw:vt,priority:function(t){return t.renderer.beforeRenderPriorities.lyrTxrDeq}});var Hs,Ws={};function Us(t,e){for(var i=0;i<e.length;i++){var n=e[i];t.lineTo(n.x,n.y)}}function Vs(t,e,i){for(var n,r=0;r<e.length;r++){var o=e[r];0===r&&(n=o),t.lineTo(o.x,o.y)}t.quadraticCurveTo(i.x,i.y,n.x,n.y)}function Ys(t,e,i){t.beginPath&&t.beginPath();for(var n=e,r=0;r<n.length;r++){var o=n[r];t.lineTo(o.x,o.y)}var s=i,a=i[0];for(t.moveTo(a.x,a.y),r=1;r<s.length;r++)t.lineTo((o=s[r]).x,o.y);t.closePath&&t.closePath()}function Gs(t,e,i,n){t.arc(e,i,n,0,2*Math.PI,!1)}Ws.arrowShapeImpl=function(t){return(Hs||(Hs={polygon:Us,"triangle-backcurve":Vs,"triangle-tee":Ys,"triangle-cross":Ys,circle:Gs}))[t]};var Xs={drawElement:function(t,e,i,n,r,o){e.isNode()?this.drawNode(t,e,i,n,r,o):this.drawEdge(t,e,i,n,r,o)},drawElementOverlay:function(t,e){e.isNode()?this.drawNodeOverlay(t,e):this.drawEdgeOverlay(t,e)},drawCachedElementPortion:function(t,e,i,n,r,o,s,a){var h=this,l=i.getBoundingBox(e);if(0!==l.w&&0!==l.h){var d=i.getElement(e,l,n,r,o);if(null!=d){var u=a(h,e);if(0===u)return;var c,f,p,g,m,v,y=s(h,e),b=l.x1,w=l.y1,x=l.w,_=l.h;if(0!==y){var k=i.getRotationPoint(e);t.translate(p=k.x,g=k.y),t.rotate(y),(m=h.getImgSmoothing(t))||h.setImgSmoothing(t,!0);var S=i.getRotationOffset(e);c=S.x,f=S.y}else c=b,f=w;1!==u&&(t.globalAlpha=(v=t.globalAlpha)*u),t.drawImage(d.texture.canvas,d.x,0,d.width,d.height,c,f,x,_),1!==u&&(t.globalAlpha=v),0!==y&&(t.rotate(-y),t.translate(-p,-g),m||h.setImgSmoothing(t,!1))}else i.drawElement(t,e)}}},Ks=function(){return 0},Zs=function(t,e){return t.getTextAngle(e,null)},Qs=function(t,e){return t.getTextAngle(e,"source")},$s=function(t,e){return t.getTextAngle(e,"target")},Js=function(t,e){return e.effectiveOpacity()},ta=function(t,e){return e.pstyle("text-opacity").pfValue*e.effectiveOpacity()};Xs.drawCachedElement=function(t,e,i,n,r,o){var s=this,a=s.data,h=a.eleTxrCache,l=a.lblTxrCache,d=a.slbTxrCache,u=a.tlbTxrCache,c=e.boundingBox(),f=!0===o?h.reasons.highQuality:null;0!==c.w&&0!==c.h&&e.visible()&&(n&&!ve(c,n)||(s.drawCachedElementPortion(t,e,h,i,r,f,Ks,Js),s.drawCachedElementPortion(t,e,l,i,r,f,Zs,ta),e.isEdge()&&(s.drawCachedElementPortion(t,e,d,i,r,f,Qs,ta),s.drawCachedElementPortion(t,e,u,i,r,f,$s,ta)),s.drawElementOverlay(t,e)))},Xs.drawElements=function(t,e){for(var i=0;i<e.length;i++)this.drawElement(t,e[i])},Xs.drawCachedElements=function(t,e,i,n){for(var r=0;r<e.length;r++)this.drawCachedElement(t,e[r],i,n)},Xs.drawCachedNodes=function(t,e,i,n){for(var r=0;r<e.length;r++){var o=e[r];o.isNode()&&this.drawCachedElement(t,o,i,n)}},Xs.drawLayeredElements=function(t,e,i,n){var r=this.data.lyrTxrCache.getLayers(e,i);if(r)for(var o=0;o<r.length;o++){var s=r[o],a=s.bb;0!==a.w&&0!==a.h&&t.drawImage(s.canvas,a.x1,a.y1,a.w,a.h)}else this.drawCachedElements(t,e,i,n)};for(var ea={drawEdge:function(t,e,i){var n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],s=this,a=e._private.rscratch;if((!o||e.visible())&&!a.badLine&&null!=a.allpts&&!isNaN(a.allpts[0])){var h;i&&t.translate(-(h=i).x1,-h.y1);var l=o?e.pstyle("opacity").value:1,d=e.pstyle("line-style").value,u=e.pstyle("width").pfValue,c=e.pstyle("line-cap").value,f=function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l;t.lineWidth=u,t.lineCap=c,s.eleStrokeStyle(t,e,i),s.drawEdgePath(e,t,a.allpts,d),t.lineCap="butt"},p=function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l;s.drawArrowheads(t,e,i)};if(t.lineJoin="round","yes"===e.pstyle("ghost").value){var g=e.pstyle("ghost-offset-x").pfValue,m=e.pstyle("ghost-offset-y").pfValue,v=e.pstyle("ghost-opacity").value,y=l*v;t.translate(g,m),f(y),p(y),t.translate(-g,-m)}f(),p(),r&&s.drawEdgeOverlay(t,e),s.drawElementText(t,e,null,n),i&&t.translate(h.x1,h.y1)}},drawEdgeOverlay:function(t,e){if(e.visible()){var i=e.pstyle("overlay-opacity").value;if(0!==i){var n=this,r=n.usePaths(),o=e._private.rscratch,s=2*e.pstyle("overlay-padding").pfValue,a=e.pstyle("overlay-color").value;t.lineWidth=s,t.lineCap="self"!==o.edgeType||r?"round":"butt",n.colorStrokeStyle(t,a[0],a[1],a[2],i),n.drawEdgePath(e,t,o.allpts,"solid")}}},drawEdgePath:function(t,e,i,n){var r,o=t._private.rscratch,s=e,a=!1,h=this.usePaths(),l=t.pstyle("line-dash-pattern").pfValue,d=t.pstyle("line-dash-offset").pfValue;if(h){var u=i.join("$");o.pathCacheKey&&o.pathCacheKey===u?(r=e=o.pathCache,a=!0):(r=e=new Path2D,o.pathCacheKey=u,o.pathCache=r)}if(s.setLineDash)switch(n){case"dotted":s.setLineDash([1,1]);break;case"dashed":s.setLineDash(l),s.lineDashOffset=d;break;case"solid":s.setLineDash([])}if(!a&&!o.badLine)switch(e.beginPath&&e.beginPath(),e.moveTo(i[0],i[1]),o.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var c=2;c+3<i.length;c+=4)e.quadraticCurveTo(i[c],i[c+1],i[c+2],i[c+3]);break;case"straight":case"segments":case"haystack":for(var f=2;f+1<i.length;f+=2)e.lineTo(i[f],i[f+1])}e=s,h?e.stroke(r):e.stroke(),e.setLineDash&&e.setLineDash([])},drawArrowheads:function(t,e,i){var n=e._private.rscratch,r="haystack"===n.edgeType;r||this.drawArrowhead(t,e,"source",n.arrowStartX,n.arrowStartY,n.srcArrowAngle,i),this.drawArrowhead(t,e,"mid-target",n.midX,n.midY,n.midtgtArrowAngle,i),this.drawArrowhead(t,e,"mid-source",n.midX,n.midY,n.midsrcArrowAngle,i),r||this.drawArrowhead(t,e,"target",n.arrowEndX,n.arrowEndY,n.tgtArrowAngle,i)},drawArrowhead:function(t,e,i,n,r,o,s){if(!(isNaN(n)||null==n||isNaN(r)||null==r||isNaN(o)||null==o)){var a=e.pstyle(i+"-arrow-shape").value;if("none"!==a){var h="hollow"===e.pstyle(i+"-arrow-fill").value?"both":"filled",l=e.pstyle(i+"-arrow-fill").value,d=e.pstyle("width").pfValue,u=e.pstyle("opacity").value;void 0===s&&(s=u);var c=t.globalCompositeOperation;1===s&&"hollow"!==l||(t.globalCompositeOperation="destination-out",this.colorFillStyle(t,255,255,255,1),this.colorStrokeStyle(t,255,255,255,1),this.drawArrowShape(e,t,h,d,a,n,r,o),t.globalCompositeOperation=c);var f=e.pstyle(i+"-arrow-color").value;this.colorFillStyle(t,f[0],f[1],f[2],s),this.colorStrokeStyle(t,f[0],f[1],f[2],s),this.drawArrowShape(e,t,l,d,a,n,r,o)}}},drawArrowShape:function(t,e,i,n,r,o,s,a){var h,l=this,d=this.usePaths()&&"triangle-cross"!==r,u=!1,c=e,f={x:o,y:s},p=t.pstyle("arrow-scale").value,g=this.getArrowWidth(n,p),m=l.arrowShapes[r];if(d){var v=l.arrowPathCache=l.arrowPathCache||[],y=dt(r),b=v[y];null!=b?(h=e=b,u=!0):(h=e=new Path2D,v[y]=h)}e.beginPath&&e.beginPath(),u||(d?m.draw(e,1,0,{x:0,y:0},1):m.draw(e,g,a,f,n)),e.closePath&&e.closePath(),e=c,d&&(e.translate(o,s),e.rotate(a),e.scale(g,g)),"filled"!==i&&"both"!==i||(d?e.fill(h):e.fill()),"hollow"!==i&&"both"!==i||(e.lineWidth=(m.matchEdgeWidth?n:1)/(d?g:1),e.lineJoin="miter",d?e.stroke(h):e.stroke()),d&&(e.scale(1/g,1/g),e.rotate(-a),e.translate(-o,-s))}},ia={safeDrawImage:function(t,e,i,n,r,o,s,a,h,l){r<=0||o<=0||h<=0||l<=0||t.drawImage(e,i,n,r,o,s,a,h,l)},drawInscribedImage:function(t,e,i,n,r){var o=this,s=i.position(),a=s.x,h=s.y,l=i.cy().style(),d=l.getIndexedStyle.bind(l),u=d(i,"background-fit","value",n),c=d(i,"background-repeat","value",n),f=i.width(),p=i.height(),g=2*i.padding(),m=f+("inner"===d(i,"background-width-relative-to","value",n)?0:g),v=p+("inner"===d(i,"background-height-relative-to","value",n)?0:g),y=i._private.rscratch,b="node"===d(i,"background-clip","value",n),w=d(i,"background-image-opacity","value",n)*r,x=e.width||e.cachedW,_=e.height||e.cachedH;null!=x&&null!=_||(document.body.appendChild(e),x=e.cachedW=e.width||e.offsetWidth,_=e.cachedH=e.height||e.offsetHeight,document.body.removeChild(e));var k=x,S=_;if("auto"!==d(i,"background-width","value",n)&&(k="%"===d(i,"background-width","units",n)?d(i,"background-width","pfValue",n)*m:d(i,"background-width","pfValue",n)),"auto"!==d(i,"background-height","value",n)&&(S="%"===d(i,"background-height","units",n)?d(i,"background-height","pfValue",n)*v:d(i,"background-height","pfValue",n)),0!==k&&0!==S){if("contain"===u)k*=M=Math.min(m/k,v/S),S*=M;else if("cover"===u){var M;k*=M=Math.max(m/k,v/S),S*=M}var C=a-m/2,E=d(i,"background-position-x","units",n),N=d(i,"background-position-x","pfValue",n);C+="%"===E?(m-k)*N:N;var A=d(i,"background-offset-x","units",n),D=d(i,"background-offset-x","pfValue",n);C+="%"===A?(m-k)*D:D;var T=h-v/2,L=d(i,"background-position-y","units",n),O=d(i,"background-position-y","pfValue",n);T+="%"===L?(v-S)*O:O;var P=d(i,"background-offset-y","units",n),I=d(i,"background-offset-y","pfValue",n);T+="%"===P?(v-S)*I:I,y.pathCache&&(C-=a,T-=h,a=0,h=0);var B=t.globalAlpha;if(t.globalAlpha=w,"no-repeat"===c)b&&(t.save(),y.pathCache?t.clip(y.pathCache):(o.nodeShapes[o.getNodeShape(i)].draw(t,a,h,m,v),t.clip())),o.safeDrawImage(t,e,0,0,x,_,C,T,k,S),b&&t.restore();else{var R=t.createPattern(e,c);t.fillStyle=R,o.nodeShapes[o.getNodeShape(i)].draw(t,a,h,m,v),t.translate(C,T),t.fill(),t.translate(-C,-T)}t.globalAlpha=B}}},na={eleTextBiggerThanMin:function(t,e){if(!e){var i=t.cy().zoom(),n=this.getPixelRatio(),r=Math.ceil(ne(i*n));e=Math.pow(2,r)}return!(t.pstyle("font-size").pfValue*e<t.pstyle("min-zoomed-font-size").pfValue)},drawElementText:function(t,e,i,n,r){var o=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],s=this;if(null==n){if(o&&!s.eleTextBiggerThanMin(e))return}else if(!1===n)return;if(e.isNode()){var a=e.pstyle("label");if(!a||!a.value)return;var h=s.getLabelJustification(e);t.textAlign=h,t.textBaseline="bottom"}else{var l=e.pstyle("label"),d=e.pstyle("source-label"),u=e.pstyle("target-label");if(!(l&&l.value||d&&d.value||u&&u.value))return;t.textAlign="center",t.textBaseline="bottom"}var c,f=!i;i&&t.translate(-(c=i).x1,-c.y1),null==r?(s.drawText(t,e,null,f,o),e.isEdge()&&(s.drawText(t,e,"source",f,o),s.drawText(t,e,"target",f,o))):s.drawText(t,e,r,f,o),i&&t.translate(c.x1,c.y1)},getFontCache:function(t){var e;this.fontCaches=this.fontCaches||[];for(var i=0;i<this.fontCaches.length;i++)if((e=this.fontCaches[i]).context===t)return e;return this.fontCaches.push(e={context:t}),e},setupTextStyle:function(t,e){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=e.pstyle("font-style").strValue,r=e.pstyle("font-size").pfValue+"px",o=e.pstyle("font-family").strValue,s=e.pstyle("font-weight").strValue,a=i?e.effectiveOpacity()*e.pstyle("text-opacity").value:1,h=e.pstyle("text-outline-opacity").value*a,l=e.pstyle("color").value,d=e.pstyle("text-outline-color").value;t.font=n+" "+s+" "+r+" "+o,t.lineJoin="round",this.colorFillStyle(t,l[0],l[1],l[2],a),this.colorStrokeStyle(t,d[0],d[1],d[2],h)},getTextAngle:function(t,e){var i=t._private.rscratch,n=t.pstyle((e?e+"-":"")+"text-rotation"),r=Tt(i,"labelAngle",e);return"autorotate"===n.strValue?t.isEdge()?r:0:"none"===n.strValue?0:n.pfValue},drawText:function(t,e,i){var n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=e._private.rscratch,s=r?e.effectiveOpacity():1;if(!r||0!==s&&0!==e.pstyle("text-opacity").value){"main"===i&&(i=null);var a,h,l=Tt(o,"labelX",i),d=Tt(o,"labelY",i),u=this.getLabelText(e,i);if(null!=u&&""!==u&&!isNaN(l)&&!isNaN(d)){this.setupTextStyle(t,e,r);var c,f=i?i+"-":"",p=Tt(o,"labelWidth",i),g=Tt(o,"labelHeight",i),m=e.pstyle(f+"text-margin-x").pfValue,v=e.pstyle(f+"text-margin-y").pfValue,y=e.isEdge(),b=e.pstyle("text-halign").value,w=e.pstyle("text-valign").value;switch(y&&(b="center",w="center"),l+=m,d+=v,0!==(c=n?this.getTextAngle(e,i):0)&&(t.translate(a=l,h=d),t.rotate(c),l=0,d=0),w){case"top":break;case"center":d+=g/2;break;case"bottom":d+=g}var x=e.pstyle("text-background-opacity").value,_=e.pstyle("text-border-opacity").value,k=e.pstyle("text-border-width").pfValue,S=e.pstyle("text-background-padding").pfValue;if(x>0||k>0&&_>0){var M=l-S;switch(b){case"left":M-=p;break;case"center":M-=p/2}var C=d-g-S,E=p+2*S,N=g+2*S;if(x>0){var A=t.fillStyle,D=e.pstyle("text-background-color").value;t.fillStyle="rgba("+D[0]+","+D[1]+","+D[2]+","+x*s+")","roundrectangle"==e.pstyle("text-background-shape").strValue?function(t,e,i,n,r){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:5;t.beginPath(),t.moveTo(e+o,i),t.lineTo(e+n-o,i),t.quadraticCurveTo(e+n,i,e+n,i+o),t.lineTo(e+n,i+r-o),t.quadraticCurveTo(e+n,i+r,e+n-o,i+r),t.lineTo(e+o,i+r),t.quadraticCurveTo(e,i+r,e,i+r-o),t.lineTo(e,i+o),t.quadraticCurveTo(e,i,e+o,i),t.closePath(),t.fill()}(t,M,C,E,N,2):t.fillRect(M,C,E,N),t.fillStyle=A}if(k>0&&_>0){var T=t.strokeStyle,L=t.lineWidth,O=e.pstyle("text-border-color").value,P=e.pstyle("text-border-style").value;if(t.strokeStyle="rgba("+O[0]+","+O[1]+","+O[2]+","+_*s+")",t.lineWidth=k,t.setLineDash)switch(P){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash([4,2]);break;case"double":t.lineWidth=k/4,t.setLineDash([]);break;case"solid":t.setLineDash([])}if(t.strokeRect(M,C,E,N),"double"===P){var I=k/2;t.strokeRect(M+I,C+I,E-2*I,N-2*I)}t.setLineDash&&t.setLineDash([]),t.lineWidth=L,t.strokeStyle=T}}var B=2*e.pstyle("text-outline-width").pfValue;if(B>0&&(t.lineWidth=B),"wrap"===e.pstyle("text-wrap").value){var R=Tt(o,"labelWrapCachedLines",i),F=Tt(o,"labelLineHeight",i),z=p/2,j=this.getLabelJustification(e);switch("auto"===j||("left"===b?"left"===j?l+=-p:"center"===j&&(l+=-z):"center"===b?"left"===j?l+=-z:"right"===j&&(l+=z):"right"===b&&("center"===j?l+=z:"right"===j&&(l+=p))),w){case"top":d-=(R.length-1)*F;break;case"center":case"bottom":d-=(R.length-1)*F}for(var q=0;q<R.length;q++)B>0&&t.strokeText(R[q],l,d),t.fillText(R[q],l,d),d+=F}else B>0&&t.strokeText(u,l,d),t.fillText(u,l,d);0!==c&&(t.rotate(-c),t.translate(-a,-h))}}}},ra={drawNode:function(t,e,i){var n,r,o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],s=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],a=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],h=this,l=e._private,d=l.rscratch,u=e.position();if(m(u.x)&&m(u.y)&&(!a||e.visible())){var c,f,p=a?e.effectiveOpacity():1,g=h.usePaths(),v=!1,y=e.padding();n=e.width()+2*y,r=e.height()+2*y,i&&t.translate(-(f=i).x1,-f.y1);for(var b=e.pstyle("background-image").value,w=new Array(b.length),x=new Array(b.length),_=0,k=0;k<b.length;k++){var S=b[k];if(w[k]=null!=S&&"none"!==S){var M=e.cy().style().getIndexedStyle(e,"background-image-crossorigin","value",k);_++,x[k]=h.getCachedImage(S,M,function(){l.backgroundTimestamp=Date.now(),e.emitAndNotify("background")})}}var C=e.pstyle("background-blacken").value,E=e.pstyle("border-width").pfValue,N=e.pstyle("background-opacity").value*p,A=e.pstyle("border-color").value,D=e.pstyle("border-style").value,T=e.pstyle("border-opacity").value*p;t.lineJoin="miter";var L=function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N;h.eleFillStyle(t,e,i)},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T;h.colorStrokeStyle(t,A[0],A[1],A[2],e)},P=e.pstyle("shape").strValue,I=e.pstyle("shape-polygon-points").pfValue;if(g){t.translate(u.x,u.y);var B=h.nodePathCache=h.nodePathCache||[],R=ut("polygon"===P?P+","+I.join(","):P,""+r,""+n),F=B[R];null!=F?(v=!0,d.pathCache=c=F):(c=new Path2D,B[R]=d.pathCache=c)}var z=function(){if(!v){var i=u;g&&(i={x:0,y:0}),h.nodeShapes[h.getNodeShape(e)].draw(c||t,i.x,i.y,n,r)}g?t.fill(c):t.fill()},j=function(){for(var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,n=l.backgrounding,r=0,o=0;o<x.length;o++)w[o]&&x[o].complete&&!x[o].error&&(r++,h.drawInscribedImage(t,x[o],e,o,i));l.backgrounding=!(r===_),n!==l.backgrounding&&e.updateStyle(!1)},q=function(){var i=arguments.length>0&&void 0!==arguments[0]&&arguments[0],o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p;h.hasPie(e)&&(h.drawPie(t,e,o),i&&(g||h.nodeShapes[h.getNodeShape(e)].draw(t,u.x,u.y,n,r)))},H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,i=(C>0?C:-C)*e,n=C>0?0:255;0!==C&&(h.colorFillStyle(t,n,n,n,i),g?t.fill(c):t.fill())},W=function(){if(E>0){if(t.lineWidth=E,t.lineCap="butt",t.setLineDash)switch(D){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash([4,2]);break;case"solid":case"double":t.setLineDash([])}if(g?t.stroke(c):t.stroke(),"double"===D){t.lineWidth=E/3;var e=t.globalCompositeOperation;t.globalCompositeOperation="destination-out",g?t.stroke(c):t.stroke(),t.globalCompositeOperation=e}t.setLineDash&&t.setLineDash([])}};if("yes"===e.pstyle("ghost").value){var U=e.pstyle("ghost-offset-x").pfValue,V=e.pstyle("ghost-offset-y").pfValue,Y=e.pstyle("ghost-opacity").value,G=Y*p;t.translate(U,V),L(Y*N),z(),j(G),q(0!==C||0!==E),H(G),O(Y*T),W(),t.translate(-U,-V)}L(),z(),j(),q(0!==C||0!==E),H(),O(),W(),g&&t.translate(-u.x,-u.y),h.drawElementText(t,e,null,o),s&&h.drawNodeOverlay(t,e,u,n,r),i&&t.translate(f.x1,f.y1)}},drawNodeOverlay:function(t,e,i,n,r){if(e.visible()){var o=e.pstyle("overlay-padding").pfValue,s=e.pstyle("overlay-opacity").value,a=e.pstyle("overlay-color").value;if(s>0){if(i=i||e.position(),null==n||null==r){var h=e.padding();n=e.width()+2*h,r=e.height()+2*h}this.colorFillStyle(t,a[0],a[1],a[2],s),this.nodeShapes.roundrectangle.draw(t,i.x,i.y,n+2*o,r+2*o),t.fill()}}},hasPie:function(t){return(t=t[0])._private.hasPie},drawPie:function(t,e,i,n){e=e[0],n=n||e.position();var r=e.cy().style(),o=e.pstyle("pie-size"),s=n.x,a=n.y,h=e.width(),l=e.height(),d=Math.min(h,l)/2,u=0;this.usePaths()&&(s=0,a=0),"%"===o.units?d*=o.pfValue:void 0!==o.pfValue&&(d=o.pfValue/2);for(var c=1;c<=r.pieBackgroundN;c++){var f=e.pstyle("pie-"+c+"-background-size").value,p=e.pstyle("pie-"+c+"-background-color").value,g=e.pstyle("pie-"+c+"-background-opacity").value*i,m=f/100;m+u>1&&(m=1-u);var v=1.5*Math.PI+2*Math.PI*u,y=v+2*Math.PI*m;0===f||u>=1||u+m>1||(t.beginPath(),t.moveTo(s,a),t.arc(s,a,d,v,y),t.closePath(),this.colorFillStyle(t,p[0],p[1],p[2],g),t.fill(),u+=m)}}},oa={getPixelRatio:function(){var t=this.data.contexts[0];return null!=this.forcedPixelRatio?this.forcedPixelRatio:(window.devicePixelRatio||1)/(t.backingStorePixelRatio||t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1)},paintCache:function(t){for(var e,i=this.paintCaches=this.paintCaches||[],n=!0,r=0;r<i.length;r++)if((e=i[r]).context===t){n=!1;break}return n&&i.push(e={context:t}),e},createGradientStyleFor:function(t,e,i,n,r){var o,s=this.usePaths(),a=i.pstyle(e+"-gradient-stop-colors").value,h=i.pstyle(e+"-gradient-stop-positions").pfValue;if("radial-gradient"===n)if(i.isEdge()){var l=i.sourceEndpoint(),d=i.targetEndpoint(),u=i.midpoint(),c=oe(l,u),f=oe(d,u);o=t.createRadialGradient(u.x,u.y,0,u.x,u.y,Math.max(c,f))}else{var p=s?{x:0,y:0}:i.position(),g=i.paddedWidth(),m=i.paddedHeight();o=t.createRadialGradient(p.x,p.y,0,p.x,p.y,Math.max(g,m))}else if(i.isEdge()){var v=i.sourceEndpoint(),y=i.targetEndpoint();o=t.createLinearGradient(v.x,v.y,y.x,y.y)}else{var b=s?{x:0,y:0}:i.position(),w=i.paddedWidth()/2,x=i.paddedHeight()/2;switch(i.pstyle("background-gradient-direction").value){case"to-bottom":o=t.createLinearGradient(b.x,b.y-x,b.x,b.y+x);break;case"to-top":o=t.createLinearGradient(b.x,b.y+x,b.x,b.y-x);break;case"to-left":o=t.createLinearGradient(b.x+w,b.y,b.x-w,b.y);break;case"to-right":o=t.createLinearGradient(b.x-w,b.y,b.x+w,b.y);break;case"to-bottom-right":case"to-right-bottom":o=t.createLinearGradient(b.x-w,b.y-x,b.x+w,b.y+x);break;case"to-top-right":case"to-right-top":o=t.createLinearGradient(b.x-w,b.y+x,b.x+w,b.y-x);break;case"to-bottom-left":case"to-left-bottom":o=t.createLinearGradient(b.x+w,b.y-x,b.x-w,b.y+x);break;case"to-top-left":case"to-left-top":o=t.createLinearGradient(b.x+w,b.y+x,b.x-w,b.y-x)}}if(!o)return null;for(var _=h.length===a.length,k=a.length,S=0;S<k;S++)o.addColorStop(_?h[S]:S/(k-1),"rgba("+a[S][0]+","+a[S][1]+","+a[S][2]+","+r+")");return o},gradientFillStyle:function(t,e,i,n){var r=this.createGradientStyleFor(t,"background",e,i,n);if(!r)return null;t.fillStyle=r},colorFillStyle:function(t,e,i,n,r){t.fillStyle="rgba("+e+","+i+","+n+","+r+")"},eleFillStyle:function(t,e,i){var n=e.pstyle("background-fill").value;if("linear-gradient"===n||"radial-gradient"===n)this.gradientFillStyle(t,e,n,i);else{var r=e.pstyle("background-color").value;this.colorFillStyle(t,r[0],r[1],r[2],i)}},gradientStrokeStyle:function(t,e,i,n){var r=this.createGradientStyleFor(t,"line",e,i,n);if(!r)return null;t.strokeStyle=r},colorStrokeStyle:function(t,e,i,n,r){t.strokeStyle="rgba("+e+","+i+","+n+","+r+")"},eleStrokeStyle:function(t,e,i){var n=e.pstyle("line-fill").value;if("linear-gradient"===n||"radial-gradient"===n)this.gradientStrokeStyle(t,e,n,i);else{var r=e.pstyle("line-color").value;this.colorStrokeStyle(t,r[0],r[1],r[2],i)}},matchCanvasSize:function(t){var e=this,i=e.data,n=e.findContainerClientCoords(),r=n[2],o=n[3],s=e.getPixelRatio();t!==e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_NODE]&&t!==e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_DRAG]||(s=e.motionBlurPxRatio);var a,h=r*s,l=o*s;if(h!==e.canvasWidth||l!==e.canvasHeight){e.fontCaches=null;var d=i.canvasContainer;d.style.width=r+"px",d.style.height=o+"px";for(var u=0;u<e.CANVAS_LAYERS;u++)(a=i.canvases[u]).width=h,a.height=l,a.style.width=r+"px",a.style.height=o+"px";for(u=0;u<e.BUFFER_COUNT;u++)(a=i.bufferCanvases[u]).width=h,a.height=l,a.style.width=r+"px",a.style.height=o+"px";e.textureMult=1,s<=1&&(a=i.bufferCanvases[e.TEXTURE_BUFFER],e.textureMult=2,a.width=h*e.textureMult,a.height=l*e.textureMult),e.canvasWidth=h,e.canvasHeight=l}},renderTo:function(t,e,i,n){this.render({forcedContext:t,forcedZoom:e,forcedPan:i,drawAllLayers:!0,forcedPxRatio:n})},render:function(t){var e=(t=t||Et()).forcedContext,i=t.drawAllLayers,n=t.drawOnlyNodeLayer,r=t.forcedZoom,o=t.forcedPan,s=this,a=void 0===t.forcedPxRatio?this.getPixelRatio():t.forcedPxRatio,h=s.cy,l=s.data,d=l.canvasNeedsRedraw,u=s.textureOnViewport&&!e&&(s.pinching||s.hoverData.dragging||s.swipePanning||s.data.wheelZooming),c=void 0!==t.motionBlur?t.motionBlur:s.motionBlur,f=s.motionBlurPxRatio,p=h.hasCompoundNodes(),g=s.hoverData.draggingEles,m=c=c&&!e&&s.motionBlurEnabled&&!(s.hoverData.selecting||s.touchData.selecting);e||(s.prevPxRatio!==a&&(s.invalidateContainerClientCoordsCache(),s.matchCanvasSize(s.container),s.redrawHint("eles",!0),s.redrawHint("drag",!0)),s.prevPxRatio=a),!e&&s.motionBlurTimeout&&clearTimeout(s.motionBlurTimeout),c&&(null==s.mbFrames&&(s.mbFrames=0),s.mbFrames++,s.mbFrames<3&&(m=!1),s.mbFrames>s.minMbLowQualFrames&&(s.motionBlurPxRatio=s.mbPxRBlurry)),s.clearingMotionBlur&&(s.motionBlurPxRatio=1),s.textureDrawLastFrame&&!u&&(d[s.NODE]=!0,d[s.SELECT_BOX]=!0);var v=h.style(),y=h.zoom(),b=void 0!==r?r:y,w=h.pan(),x={x:w.x,y:w.y},_={zoom:y,pan:{x:w.x,y:w.y}},k=s.prevViewport;void 0===k||_.zoom!==k.zoom||_.pan.x!==k.pan.x||_.pan.y!==k.pan.y||g&&!p||(s.motionBlurPxRatio=1),o&&(x=o),b*=a,x.x*=a,x.y*=a;var S=s.getCachedZSortedEles();function M(t,e,i,n,r){var o=t.globalCompositeOperation;t.globalCompositeOperation="destination-out",s.colorFillStyle(t,255,255,255,s.motionBlurTransparency),t.fillRect(e,i,n,r),t.globalCompositeOperation=o}function C(t,n){var a,h,d,u;s.clearingMotionBlur||t!==l.bufferContexts[s.MOTIONBLUR_BUFFER_NODE]&&t!==l.bufferContexts[s.MOTIONBLUR_BUFFER_DRAG]?(a=x,h=b,d=s.canvasWidth,u=s.canvasHeight):(a={x:w.x*f,y:w.y*f},h=y*f,d=s.canvasWidth*f,u=s.canvasHeight*f),t.setTransform(1,0,0,1,0,0),"motionBlur"===n?M(t,0,0,d,u):e||void 0!==n&&!n||t.clearRect(0,0,d,u),i||(t.translate(a.x,a.y),t.scale(h,h)),o&&t.translate(o.x,o.y),r&&t.scale(r,r)}if(u||(s.textureDrawLastFrame=!1),u){if(s.textureDrawLastFrame=!0,!s.textureCache){s.textureCache={},s.textureCache.bb=h.mutableElements().boundingBox(),s.textureCache.texture=s.data.bufferCanvases[s.TEXTURE_BUFFER];var E=s.data.bufferContexts[s.TEXTURE_BUFFER];E.setTransform(1,0,0,1,0,0),E.clearRect(0,0,s.canvasWidth*s.textureMult,s.canvasHeight*s.textureMult),s.render({forcedContext:E,drawOnlyNodeLayer:!0,forcedPxRatio:a*s.textureMult}),(_=s.textureCache.viewport={zoom:h.zoom(),pan:h.pan(),width:s.canvasWidth,height:s.canvasHeight}).mpan={x:(0-_.pan.x)/_.zoom,y:(0-_.pan.y)/_.zoom}}d[s.DRAG]=!1,d[s.NODE]=!1;var N=l.contexts[s.NODE],A=s.textureCache.texture;_=s.textureCache.viewport,N.setTransform(1,0,0,1,0,0),c?M(N,0,0,_.width,_.height):N.clearRect(0,0,_.width,_.height);var D=v.core("outside-texture-bg-color").value,T=v.core("outside-texture-bg-opacity").value;s.colorFillStyle(N,D[0],D[1],D[2],T),N.fillRect(0,0,_.width,_.height),y=h.zoom(),C(N,!1),N.clearRect(_.mpan.x,_.mpan.y,_.width/_.zoom/a,_.height/_.zoom/a),N.drawImage(A,_.mpan.x,_.mpan.y,_.width/_.zoom/a,_.height/_.zoom/a)}else s.textureOnViewport&&!e&&(s.textureCache=null);var L=h.extent(),O=s.pinching||s.hoverData.dragging||s.swipePanning||s.data.wheelZooming||s.hoverData.draggingEles||s.cy.animated(),P=s.hideEdgesOnViewport&&O,I=[];if(I[s.NODE]=!d[s.NODE]&&c&&!s.clearedForMotionBlur[s.NODE]||s.clearingMotionBlur,I[s.NODE]&&(s.clearedForMotionBlur[s.NODE]=!0),I[s.DRAG]=!d[s.DRAG]&&c&&!s.clearedForMotionBlur[s.DRAG]||s.clearingMotionBlur,I[s.DRAG]&&(s.clearedForMotionBlur[s.DRAG]=!0),d[s.NODE]||i||n||I[s.NODE]){var B=c&&!I[s.NODE]&&1!==f;C(N=e||(B?s.data.bufferContexts[s.MOTIONBLUR_BUFFER_NODE]:l.contexts[s.NODE]),c&&!B?"motionBlur":void 0),P?s.drawCachedNodes(N,S.nondrag,a,L):s.drawLayeredElements(N,S.nondrag,a,L),s.debug&&s.drawDebugPoints(N,S.nondrag),i||c||(d[s.NODE]=!1)}if(!n&&(d[s.DRAG]||i||I[s.DRAG])&&(B=c&&!I[s.DRAG]&&1!==f,C(N=e||(B?s.data.bufferContexts[s.MOTIONBLUR_BUFFER_DRAG]:l.contexts[s.DRAG]),c&&!B?"motionBlur":void 0),P?s.drawCachedNodes(N,S.drag,a,L):s.drawCachedElements(N,S.drag,a,L),s.debug&&s.drawDebugPoints(N,S.drag),i||c||(d[s.DRAG]=!1)),s.showFps||!n&&d[s.SELECT_BOX]&&!i){if(C(N=e||l.contexts[s.SELECT_BOX]),1==s.selection[4]&&(s.hoverData.selecting||s.touchData.selecting)){y=s.cy.zoom();var R=v.core("selection-box-border-width").value/y;N.lineWidth=R,N.fillStyle="rgba("+v.core("selection-box-color").value[0]+","+v.core("selection-box-color").value[1]+","+v.core("selection-box-color").value[2]+","+v.core("selection-box-opacity").value+")",N.fillRect(s.selection[0],s.selection[1],s.selection[2]-s.selection[0],s.selection[3]-s.selection[1]),R>0&&(N.strokeStyle="rgba("+v.core("selection-box-border-color").value[0]+","+v.core("selection-box-border-color").value[1]+","+v.core("selection-box-border-color").value[2]+","+v.core("selection-box-opacity").value+")",N.strokeRect(s.selection[0],s.selection[1],s.selection[2]-s.selection[0],s.selection[3]-s.selection[1]))}if(l.bgActivePosistion&&!s.hoverData.selecting){y=s.cy.zoom();var F=l.bgActivePosistion;N.fillStyle="rgba("+v.core("active-bg-color").value[0]+","+v.core("active-bg-color").value[1]+","+v.core("active-bg-color").value[2]+","+v.core("active-bg-opacity").value+")",N.beginPath(),N.arc(F.x,F.y,v.core("active-bg-size").pfValue/y,0,2*Math.PI),N.fill()}var z=s.lastRedrawTime;if(s.showFps&&z){z=Math.round(z);var j=Math.round(1e3/z);N.setTransform(1,0,0,1,0,0),N.fillStyle="rgba(255, 0, 0, 0.75)",N.strokeStyle="rgba(255, 0, 0, 0.75)",N.lineWidth=1,N.fillText("1 frame = "+z+" ms = "+j+" fps",0,20),N.strokeRect(0,30,250,20),N.fillRect(0,30,250*Math.min(j/60,1),20)}i||(d[s.SELECT_BOX]=!1)}if(c&&1!==f){var q=l.contexts[s.DRAG],H=s.data.bufferCanvases[s.MOTIONBLUR_BUFFER_DRAG],W=function(t,e,i){t.setTransform(1,0,0,1,0,0),i||!m?t.clearRect(0,0,s.canvasWidth,s.canvasHeight):M(t,0,0,s.canvasWidth,s.canvasHeight),t.drawImage(e,0,0,s.canvasWidth*f,s.canvasHeight*f,0,0,s.canvasWidth,s.canvasHeight)};(d[s.NODE]||I[s.NODE])&&(W(l.contexts[s.NODE],s.data.bufferCanvases[s.MOTIONBLUR_BUFFER_NODE],I[s.NODE]),d[s.NODE]=!1),(d[s.DRAG]||I[s.DRAG])&&(W(q,H,I[s.DRAG]),d[s.DRAG]=!1)}s.prevViewport=_,s.clearingMotionBlur&&(s.clearingMotionBlur=!1,s.motionBlurCleared=!0,s.motionBlur=!0),c&&(s.motionBlurTimeout=setTimeout(function(){s.motionBlurTimeout=null,s.clearedForMotionBlur[s.NODE]=!1,s.clearedForMotionBlur[s.DRAG]=!1,s.motionBlur=!1,s.clearingMotionBlur=!u,s.mbFrames=0,d[s.NODE]=!0,d[s.DRAG]=!0,s.redraw()},100)),e||h.emit("render")}},sa={drawPolygonPath:function(t,e,i,n,r,o){var s=n/2,a=r/2;t.beginPath&&t.beginPath(),t.moveTo(e+s*o[0],i+a*o[1]);for(var h=1;h<o.length/2;h++)t.lineTo(e+s*o[2*h],i+a*o[2*h+1]);t.closePath()},drawRoundRectanglePath:function(t,e,i,n,r){var o=n/2,s=r/2,a=Fe(n,r);t.beginPath&&t.beginPath(),t.moveTo(e,i-s),t.arcTo(e+o,i-s,e+o,i,a),t.arcTo(e+o,i+s,e,i+s,a),t.arcTo(e-o,i+s,e-o,i,a),t.arcTo(e-o,i-s,e,i-s,a),t.lineTo(e,i-s),t.closePath()},drawBottomRoundRectanglePath:function(t,e,i,n,r){var o=n/2,s=r/2,a=Fe(n,r);t.beginPath&&t.beginPath(),t.moveTo(e,i-s),t.lineTo(e+o,i-s),t.lineTo(e+o,i),t.arcTo(e+o,i+s,e,i+s,a),t.arcTo(e-o,i+s,e-o,i,a),t.lineTo(e-o,i-s),t.lineTo(e,i-s),t.closePath()},drawCutRectanglePath:function(t,e,i,n,r){var o=n/2,s=r/2;t.beginPath&&t.beginPath(),t.moveTo(e-o+8,i-s),t.lineTo(e+o-8,i-s),t.lineTo(e+o,i-s+8),t.lineTo(e+o,i+s-8),t.lineTo(e+o-8,i+s),t.lineTo(e-o+8,i+s),t.lineTo(e-o,i+s-8),t.lineTo(e-o,i-s+8),t.closePath()},drawBarrelPath:function(t,e,i,n,r){var o=n/2,s=r/2,a=e-o,h=e+o,l=i-s,d=i+s,u=ze(n,r),c=u.widthOffset,f=u.heightOffset,p=u.ctrlPtOffsetPct*c;t.beginPath&&t.beginPath(),t.moveTo(a,l+f),t.lineTo(a,d-f),t.quadraticCurveTo(a+p,d,a+c,d),t.lineTo(h-c,d),t.quadraticCurveTo(h-p,d,h,d-f),t.lineTo(h,l+f),t.quadraticCurveTo(h-p,l,h-c,l),t.lineTo(a+c,l),t.quadraticCurveTo(a+p,l,a,l+f),t.closePath()}},aa=Math.sin(0),ha=Math.cos(0),la={},da={},ua=Math.PI/40,ca=0*Math.PI;ca<2*Math.PI;ca+=ua)la[ca]=Math.sin(ca),da[ca]=Math.cos(ca);sa.drawEllipsePath=function(t,e,i,n,r){if(t.beginPath&&t.beginPath(),t.ellipse)t.ellipse(e,i,n/2,r/2,0,0,2*Math.PI);else for(var o,s,a=n/2,h=r/2,l=0*Math.PI;l<2*Math.PI;l+=ua)o=e-a*la[l]*aa+a*da[l]*ha,s=i+h*da[l]*aa+h*la[l]*ha,0===l?t.moveTo(o,s):t.lineTo(o,s);t.closePath()};var fa={};function pa(t){var e=t.indexOf(",");return t.substr(e+1)}function ga(t,e,i){var n=function(){return e.toDataURL(i,t.quality)};switch(t.output){case"blob-promise":return new Ui(function(n,r){try{e.toBlob(function(t){null!=t?n(t):r(new Error("`canvas.toBlob()` sent a null value in its callback"))},i,t.quality)}catch(t){r(t)}});case"blob":return function(t,e){for(var i=atob(t),n=new ArrayBuffer(i.length),r=new Uint8Array(n),o=0;o<i.length;o++)r[o]=i.charCodeAt(o);return new Blob([n],{type:e})}(pa(n()),i);case"base64":return pa(n());case"base64uri":default:return n()}}fa.createBuffer=function(t,e){var i=document.createElement("canvas");return i.width=t,i.height=e,[i,i.getContext("2d")]},fa.bufferCanvasImage=function(t){var e=this.cy,i=e.mutableElements().boundingBox(),n=this.findContainerClientCoords(),r=t.full?Math.ceil(i.w):n[2],o=t.full?Math.ceil(i.h):n[3],s=m(t.maxWidth)||m(t.maxHeight),a=this.getPixelRatio(),h=1;if(void 0!==t.scale)r*=t.scale,o*=t.scale,h=t.scale;else if(s){var l=1/0,d=1/0;m(t.maxWidth)&&(l=h*t.maxWidth/r),m(t.maxHeight)&&(d=h*t.maxHeight/o),r*=h=Math.min(l,d),o*=h}s||(r*=a,o*=a,h*=a);var u=document.createElement("canvas");u.width=r,u.height=o,u.style.width=r+"px",u.style.height=o+"px";var c=u.getContext("2d");if(r>0&&o>0){c.clearRect(0,0,r,o),c.globalCompositeOperation="source-over";var f=this.getCachedZSortedEles();if(t.full)c.translate(-i.x1*h,-i.y1*h),c.scale(h,h),this.drawElements(c,f),c.scale(1/h,1/h),c.translate(i.x1*h,i.y1*h);else{var p=e.pan(),g={x:p.x*h,y:p.y*h};h*=e.zoom(),c.translate(g.x,g.y),c.scale(h,h),this.drawElements(c,f),c.scale(1/h,1/h),c.translate(-g.x,-g.y)}t.bg&&(c.globalCompositeOperation="destination-over",c.fillStyle=t.bg,c.rect(0,0,r,o),c.fill())}return u},fa.png=function(t){return ga(t,this.bufferCanvasImage(t),"image/png")},fa.jpg=function(t){return ga(t,this.bufferCanvasImage(t),"image/jpeg")};var ma=ya,va=ya.prototype;function ya(t){var e=this;e.data={canvases:new Array(va.CANVAS_LAYERS),contexts:new Array(va.CANVAS_LAYERS),canvasNeedsRedraw:new Array(va.CANVAS_LAYERS),bufferCanvases:new Array(va.BUFFER_COUNT),bufferContexts:new Array(va.CANVAS_LAYERS)},e.data.canvasContainer=document.createElement("div");var i=e.data.canvasContainer.style;e.data.canvasContainer.style["-webkit-tap-highlight-color"]="rgba(0,0,0,0)",i.position="relative",i.zIndex="0",i.overflow="hidden";var n=t.cy.container();n.appendChild(e.data.canvasContainer),n.style["-webkit-tap-highlight-color"]="rgba(0,0,0,0)";var r={"-webkit-user-select":"none","-moz-user-select":"-moz-none","user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","outline-style":"none"};M()&&(r["-ms-touch-action"]="none",r["touch-action"]="none");for(var o=0;o<va.CANVAS_LAYERS;o++){var s=e.data.canvases[o]=document.createElement("canvas");e.data.contexts[o]=s.getContext("2d"),Object.keys(r).forEach(function(t){s.style[t]=r[t]}),s.style.position="absolute",s.setAttribute("data-id","layer"+o),s.style.zIndex=String(va.CANVAS_LAYERS-o),e.data.canvasContainer.appendChild(s),e.data.canvasNeedsRedraw[o]=!1}for(e.data.topCanvas=e.data.canvases[0],e.data.canvases[va.NODE].setAttribute("data-id","layer"+va.NODE+"-node"),e.data.canvases[va.SELECT_BOX].setAttribute("data-id","layer"+va.SELECT_BOX+"-selectbox"),e.data.canvases[va.DRAG].setAttribute("data-id","layer"+va.DRAG+"-drag"),o=0;o<va.BUFFER_COUNT;o++)e.data.bufferCanvases[o]=document.createElement("canvas"),e.data.bufferContexts[o]=e.data.bufferCanvases[o].getContext("2d"),e.data.bufferCanvases[o].style.position="absolute",e.data.bufferCanvases[o].setAttribute("data-id","buffer"+o),e.data.bufferCanvases[o].style.zIndex=String(-o-1),e.data.bufferCanvases[o].style.visibility="hidden";e.pathsEnabled=!0;var a=ue(),h=function(t){return{x:-t.w/2,y:-t.h/2}},l=function(t){return t.boundingBox(),t[0]._private.bodyBounds},d=function(t){return t.boundingBox(),t[0]._private.labelBounds.main||a},u=function(t){return t.boundingBox(),t[0]._private.labelBounds.source||a},c=function(t){return t.boundingBox(),t[0]._private.labelBounds.target||a},f=function(t,e){return e},p=function(t,e,i){var n=t?t+"-":"";return{x:e.x+i.pstyle(n+"text-margin-x").pfValue,y:e.y+i.pstyle(n+"text-margin-y").pfValue}},g=function(t,e,i){var n=t[0]._private.rscratch;return{x:n[e],y:n[i]}},m=e.data.eleTxrCache=new Bs(e,{getKey:function(t){return t[0]._private.nodeKey},doesEleInvalidateKey:function(t){var e=t[0]._private;return!(e.oldBackgroundTimestamp===e.backgroundTimestamp)},drawElement:function(t,i,n,r,o){return e.drawElement(t,i,n,!1,!1,o)},getBoundingBox:l,getRotationPoint:function(t){return{x:((e=l(t)).x1+e.x2)/2,y:(e.y1+e.y2)/2};var e},getRotationOffset:function(t){return h(l(t))},allowEdgeTxrCaching:!1,allowParentTxrCaching:!1}),v=e.data.lblTxrCache=new Bs(e,{getKey:function(t){return t[0]._private.labelStyleKey},drawElement:function(t,i,n,r,o){return e.drawElementText(t,i,n,r,"main",o)},getBoundingBox:d,getRotationPoint:function(t){return p("",g(t,"labelX","labelY"),t)},getRotationOffset:function(t){var e=d(t),i=h(d(t));if(t.isNode()){switch(t.pstyle("text-halign").value){case"left":i.x=-e.w;break;case"right":i.x=0}switch(t.pstyle("text-valign").value){case"top":i.y=-e.h;break;case"bottom":i.y=0}}return i},isVisible:f}),y=e.data.slbTxrCache=new Bs(e,{getKey:function(t){return t[0]._private.sourceLabelStyleKey},drawElement:function(t,i,n,r,o){return e.drawElementText(t,i,n,r,"source",o)},getBoundingBox:u,getRotationPoint:function(t){return p("source",g(t,"sourceLabelX","sourceLabelY"),t)},getRotationOffset:function(t){return h(u(t))},isVisible:f}),b=e.data.tlbTxrCache=new Bs(e,{getKey:function(t){return t[0]._private.targetLabelStyleKey},drawElement:function(t,i,n,r,o){return e.drawElementText(t,i,n,r,"target",o)},getBoundingBox:c,getRotationPoint:function(t){return p("target",g(t,"targetLabelX","targetLabelY"),t)},getRotationOffset:function(t){return h(c(t))},isVisible:f}),w=e.data.lyrTxrCache=new Fs(e);e.onUpdateEleCalcs(function(t,e){m.invalidateElements(e),v.invalidateElements(e),y.invalidateElements(e),b.invalidateElements(e),w.invalidateElements(e);for(var i=0;i<e.length;i++){var n=e[i]._private;n.oldBackgroundTimestamp=n.backgroundTimestamp}});var x=function(t){for(var e=0;e<t.length;e++)w.enqueueElementRefinement(t[e].ele)};m.onDequeue(x),v.onDequeue(x),y.onDequeue(x),b.onDequeue(x)}va.CANVAS_LAYERS=3,va.SELECT_BOX=0,va.DRAG=1,va.NODE=2,va.BUFFER_COUNT=3,va.TEXTURE_BUFFER=0,va.MOTIONBLUR_BUFFER_NODE=1,va.MOTIONBLUR_BUFFER_DRAG=2,va.redrawHint=function(t,e){var i=this;switch(t){case"eles":i.data.canvasNeedsRedraw[va.NODE]=e;break;case"drag":i.data.canvasNeedsRedraw[va.DRAG]=e;break;case"select":i.data.canvasNeedsRedraw[va.SELECT_BOX]=e}};var ba="undefined"!=typeof Path2D;va.path2dEnabled=function(t){if(void 0===t)return this.pathsEnabled;this.pathsEnabled=!!t},va.usePaths=function(){return ba&&this.pathsEnabled},va.setImgSmoothing=function(t,e){null!=t.imageSmoothingEnabled?t.imageSmoothingEnabled=e:(t.webkitImageSmoothingEnabled=e,t.mozImageSmoothingEnabled=e,t.msImageSmoothingEnabled=e)},va.getImgSmoothing=function(t){return null!=t.imageSmoothingEnabled?t.imageSmoothingEnabled:t.webkitImageSmoothingEnabled||t.mozImageSmoothingEnabled||t.msImageSmoothingEnabled},va.makeOffscreenCanvas=function(e,i){var n;return"undefined"!==("undefined"==typeof OffscreenCanvas?"undefined":t(OffscreenCanvas))?n=new OffscreenCanvas(e,i):((n=document.createElement("canvas")).width=e,n.height=i),n},[Ws,Xs,ea,ia,na,ra,oa,sa,fa,{nodeShapeImpl:function(t,e,i,n,r,o,s){switch(t){case"ellipse":return this.drawEllipsePath(e,i,n,r,o);case"polygon":return this.drawPolygonPath(e,i,n,r,o,s);case"roundrectangle":case"round-rectangle":return this.drawRoundRectanglePath(e,i,n,r,o);case"cutrectangle":case"cut-rectangle":return this.drawCutRectanglePath(e,i,n,r,o);case"bottomroundrectangle":case"bottom-round-rectangle":return this.drawBottomRoundRectanglePath(e,i,n,r,o);case"barrel":return this.drawBarrelPath(e,i,n,r,o)}}}].forEach(function(t){O(va,t)});var wa=[{type:"layout",extensions:hs},{type:"renderer",extensions:[{name:"null",impl:ls},{name:"base",impl:Ds},{name:"canvas",impl:ma}]}],xa={},_a={};function ka(t,e,i){var n=i,r=function(i){xt("Can not register `"+e+"` for `"+t+"` since `"+i+"` already exists in the prototype and can not be overridden")};if("core"===t){if(_o.prototype[e])return r(e);_o.prototype[e]=i}else if("collection"===t){if(zr.prototype[e])return r(e);zr.prototype[e]=i}else if("layout"===t){for(var o=function(t){this.options=t,i.call(this,t),g(this._private)||(this._private={}),this._private.cy=t.cy,this._private.listeners=[],this.createEmitter()},s=o.prototype=Object.create(i.prototype),a=[],h=0;h<a.length;h++){var l=a[h];s[l]=s[l]||function(){return this}}s.start&&!s.run?s.run=function(){return this.start(),this}:!s.start&&s.run&&(s.start=function(){return this.run(),this});var d=i.prototype.stop;s.stop=function(){var t=this.options;if(t&&t.animate){var e=this.animations;if(e)for(var i=0;i<e.length;i++)e[i].stop()}return d?d.call(this):this.emit("layoutstop"),this},s.destroy||(s.destroy=function(){return this}),s.cy=function(){return this._private.cy};var u=function(t){return t._private.cy},c={addEventFields:function(t,e){e.layout=t,e.cy=u(t),e.target=t},bubble:function(){return!0},parent:function(t){return u(t)}};O(s,{createEmitter:function(){return this._private.emitter=new or(c,this),this},emitter:function(){return this._private.emitter},on:function(t,e){return this.emitter().on(t,e),this},one:function(t,e){return this.emitter().one(t,e),this},once:function(t,e){return this.emitter().one(t,e),this},removeListener:function(t,e){return this.emitter().removeListener(t,e),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},emit:function(t,e){return this.emitter().emit(t,e),this}}),Gi.eventAliasesOn(s),n=o}else if("renderer"===t&&"null"!==e&&"base"!==e){var f=Sa("renderer","base"),p=f.prototype,m=i,v=i.prototype,y=function(){f.apply(this,arguments),m.apply(this,arguments)},b=y.prototype;for(var w in p){var x=p[w];if(null!=v[w])return r(w);b[w]=x}for(var _ in v)b[_]=v[_];p.clientFunctions.forEach(function(t){b[t]=b[t]||function(){xt("Renderer does not implement `renderer."+t+"()` on its prototype")}}),n=y}return B({map:xa,keys:[t,e],value:n})}function Sa(t,e){return R({map:xa,keys:[t,e]})}var Ma=function(){return 2===arguments.length?Sa.apply(null,arguments):3===arguments.length?ka.apply(null,arguments):4===arguments.length?(function(t,e,i,n){return R({map:_a,keys:[t,e,i,n]})}).apply(null,arguments):5===arguments.length?(function(t,e,i,n,r){return B({map:_a,keys:[t,e,i,n],value:r})}).apply(null,arguments):void xt("Invalid extension access syntax")};_o.prototype.extension=Ma,wa.forEach(function(t){t.extensions.forEach(function(e){ka(t.type,e.name,e.impl)})});var Ca=function t(){if(!(this instanceof t))return new t;this.length=0},Ea=Ca.prototype;Ea.instanceString=function(){return"stylesheet"},Ea.selector=function(t){return this[this.length++]={selector:t,properties:[]},this},Ea.css=function(t,e){var i=this.length-1;if(c(t))this[i].properties.push({name:t,value:e});else if(g(t))for(var n=t,r=Object.keys(n),o=0;o<r.length;o++){var s=r[o],a=n[s];if(null!=a){var h=vo.properties[s]||vo.properties[N(s)];null!=h&&this[i].properties.push({name:h.name,value:a})}}return this},Ea.style=Ea.css,Ea.generateStyle=function(t){var e=new vo(t);return this.appendToStyle(e)},Ea.appendToStyle=function(t){for(var e=0;e<this.length;e++){var i=this[e],n=i.properties;t.selector(i.selector);for(var r=0;r<n.length;r++){var o=n[r];t.css(o.name,o.value)}}return t};var Na=function(t){return void 0===t&&(t={}),g(t)?new _o(t):c(t)?Ma.apply(Ma,arguments):void 0};return Na.use=function(t){var e=Array.prototype.slice.call(arguments,1);return e.unshift(Na),t.apply(null,e),this},Na.warnings=function(t){return _t(t)},Na.version="3.10.1",Na.stylesheet=Na.Stylesheet=Ca,Na});