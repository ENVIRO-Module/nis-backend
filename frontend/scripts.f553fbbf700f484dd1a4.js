!function(t,e){"object"==typeof exports?module.exports=e():"function"==typeof define&&define.amd?define([],e):t.ol=e()}(this,function(){var t,e,i,o={},n=this;function r(t,e){var i,r=o;(t=t.split("."))[0]in(r=r||n)||!r.execScript||r.execScript("var "+t[0]);for(;t.length&&(i=t.shift());)t.length||void 0===e?r=r[i]&&r[i]!==Object.prototype[i]?r[i]:r[i]={}:r[i]=e}function s(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t}function a(){}function h(t){return t.xp||(t.xp=++l)}var l=0;function p(t){this.message="Assertion failed. See https://openlayers.org/en/v4.6.5/doc/errors/#"+t+" for details.",this.code=t,this.name="AssertionError"}function u(t,e,i,o){this.fa=t,this.la=e,this.ea=i,this.ka=o}function d(t,e,i,o,n){return void 0!==n?(n.fa=t,n.la=e,n.ea=i,n.ka=o,n):new u(t,e,i,o)}function c(t,e,i){return t.fa<=e&&e<=t.la&&t.ea<=i&&i<=t.ka}function f(t,e){if(!t)throw new p(e)}function y(t,e,i){return Math.min(Math.max(t,e),i)}s(p,Error);var g="cosh"in Math?Math.cosh:function(t){return((t=Math.exp(t))+1/t)/2};function m(t,e,i,o,n,r){var s=n-i,a=r-o;if(0!==s||0!==a){var h=((t-i)*s+(e-o)*a)/(s*s+a*a);1<h?(i=n,o=r):0<h&&(i+=s*h,o+=a*h)}return v(t,e,i,o)}function v(t,e,i,o){return(t=i-t)*t+(e=o-e)*e}function b(t){return t*Math.PI/180}function w(t,e){return 0>(t%=e)*e?t+e:t}function x(t,e,i){return t+i*(e-t)}function _(t,e,i){return void 0===i&&(i=[0,0]),i[0]=t[0]+2*e,i[1]=t[1]+2*e,i}function M(t,e,i){return void 0===i&&(i=[0,0]),i[0]=t[0]*e+.5|0,i[1]=t[1]*e+.5|0,i}function k(t,e){return Array.isArray(t)?t:(void 0===e?e=[t,t]:e[0]=e[1]=t,e)}function S(t){for(var e=[1/0,1/0,-1/0,-1/0],i=0,o=t.length;i<o;++i)z(e,t[i]);return e}function C(t,e,i){return i?(i[0]=t[0]-e,i[1]=t[1]-e,i[2]=t[2]+e,i[3]=t[3]+e,i):[t[0]-e,t[1]-e,t[2]+e,t[3]+e]}function E(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t.slice()}function T(t,e,i){return(e=e<t[0]?t[0]-e:t[2]<e?e-t[2]:0)*e+(t=i<t[1]?t[1]-i:t[3]<i?i-t[3]:0)*t}function P(t,e){return O(t,e[0],e[1])}function A(t,e){return t[0]<=e[0]&&e[2]<=t[2]&&t[1]<=e[1]&&e[3]<=t[3]}function O(t,e,i){return t[0]<=e&&e<=t[2]&&t[1]<=i&&i<=t[3]}function D(t,e){var i=e[0];e=e[1];var o=0;return i<t[0]?o|=16:i>t[2]&&(o|=4),e<t[1]?o|=8:e>t[3]&&(o|=2),0===o&&(o=1),o}function I(t,e,i,o,n){return n?(n[0]=t,n[1]=e,n[2]=i,n[3]=o,n):[t,e,i,o]}function R(t){return I(1/0,1/0,-1/0,-1/0,t)}function N(t,e){var i=t[0];return I(i,t=t[1],i,t,e)}function L(t,e,i,o,n){return B(n=R(n),t,e,i,o)}function j(t,e){return t[0]==e[0]&&t[2]==e[2]&&t[1]==e[1]&&t[3]==e[3]}function F(t,e){return e[0]<t[0]&&(t[0]=e[0]),e[2]>t[2]&&(t[2]=e[2]),e[1]<t[1]&&(t[1]=e[1]),e[3]>t[3]&&(t[3]=e[3]),t}function z(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function B(t,e,i,o,n){for(;i<o;i+=n){var r=t,s=e[i],a=e[i+1];r[0]=Math.min(r[0],s),r[1]=Math.min(r[1],a),r[2]=Math.max(r[2],s),r[3]=Math.max(r[3],a)}return t}function q(t,e,i){var o;return(o=e.call(i,U(t)))||(o=e.call(i,W(t)))||(o=e.call(i,K(t)))?o:!!(o=e.call(i,Z(t)))&&o}function H(t){var e=0;return Q(t)||(e=J(t)*V(t)),e}function U(t){return[t[0],t[1]]}function W(t){return[t[2],t[1]]}function G(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]}function Y(t,e,i,o,n){var r=e*o[0]/2;o=e*o[1]/2,e=Math.cos(i);var s=Math.sin(i);i=r*e,r*=s,e*=o;var a=o*s,h=t[0],l=t[1];t=h-i+a,o=h-i-a,s=h+i-a,i=h+i+a,a=l-r-e,h=l-r+e;var p=l+r+e;return r=l+r-e,I(Math.min(t,o,s,i),Math.min(a,h,p,r),Math.max(t,o,s,i),Math.max(a,h,p,r),n)}function V(t){return t[3]-t[1]}function X(t,e,i){return i=i||[1/0,1/0,-1/0,-1/0],$(t,e)&&(i[0]=t[0]>e[0]?t[0]:e[0],i[1]=t[1]>e[1]?t[1]:e[1],i[2]=t[2]<e[2]?t[2]:e[2],i[3]=t[3]<e[3]?t[3]:e[3]),i}function Z(t){return[t[0],t[3]]}function K(t){return[t[2],t[3]]}function J(t){return t[2]-t[0]}function $(t,e){return t[0]<=e[2]&&t[2]>=e[0]&&t[1]<=e[3]&&t[3]>=e[1]}function Q(t){return t[2]<t[0]||t[3]<t[1]}function tt(t,e){var i=(t[2]-t[0])/2*(e-1);e=(t[3]-t[1])/2*(e-1),t[0]-=i,t[2]+=i,t[1]-=e,t[3]+=e}function et(t,e,i){e(t=[t[0],t[1],t[0],t[3],t[2],t[1],t[2],t[3]],t,2);var o=[t[0],t[2],t[4],t[6]],n=[t[1],t[3],t[5],t[7]];return I(e=Math.min.apply(null,o),t=Math.min.apply(null,n),o=Math.max.apply(null,o),n=Math.max.apply(null,n),i)}var it="function"==typeof Object.assign?Object.assign:function(t,e){if(void 0===t||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(t),o=1,n=arguments.length;o<n;++o){var r=arguments[o];if(void 0!==r&&null!==r)for(var s in r)r.hasOwnProperty(s)&&(i[s]=r[s])}return i};function ot(t){for(var e in t)delete t[e]}function nt(t){var e,i=[];for(e in t)i.push(t[e]);return i}function rt(t){for(var e in t)return!1;return!e}function st(t){this.radius=t}function at(t,e){for(var i=0,o=0,n=t.length;o<n-1;++o)i+=ht(t[o],t[o+1],e);return i}function ht(t,e,i){var o=b(t[1]),n=b(e[1]),r=(n-o)/2;return t=b(e[0]-t[0])/2,o=Math.sin(r)*Math.sin(r)+Math.sin(t)*Math.sin(t)*Math.cos(o)*Math.cos(n),2*i*Math.atan2(Math.sqrt(o),Math.sqrt(1-o))}function lt(t,e){for(var i=0,o=t.length,n=t[o-1][0],r=t[o-1][1],s=0;s<o;s++){var a=t[s][0],h=t[s][1];i+=b(a-n)*(2+Math.sin(b(r))+Math.sin(b(h))),n=a,r=h}return i*e*e/2}st.prototype.a=function(t){return lt(t,this.radius)},st.prototype.b=function(t,e){return ht(t,e,this.radius)},st.prototype.offset=function(t,e,i){var o=b(t[1]);e/=this.radius;var n=Math.asin(Math.sin(o)*Math.cos(e)+Math.cos(o)*Math.sin(e)*Math.cos(i));return[180*(b(t[0])+Math.atan2(Math.sin(i)*Math.sin(e)*Math.cos(o),Math.cos(e)-Math.sin(o)*Math.sin(n)))/Math.PI,180*n/Math.PI]};var pt={};pt.degrees=12741994*Math.PI/360,pt.ft=.3048,pt.m=1,pt["us-ft"]=1200/3937;var ut=null;function dt(t){this.wb=t.code,this.a=t.units,this.i=void 0!==t.extent?t.extent:null,this.oe=void 0!==t.worldExtent?t.worldExtent:null,this.b=void 0!==t.axisOrientation?t.axisOrientation:"enu",this.c=void 0!==t.global&&t.global,this.g=!(!this.c||!this.i),this.j=t.getPointResolution,this.f=null,this.l=t.metersPerUnit;var e=t.code,i=ut||window.proj4;"function"==typeof i&&void 0!==(e=i.defs(e))&&(void 0!==e.axis&&void 0===t.axisOrientation&&(this.b=e.axis),void 0===t.metersPerUnit&&(this.l=e.to_meter),void 0===t.units&&(this.a=e.units))}function ct(t){dt.call(this,{code:t,units:"m",extent:yt,global:!0,worldExtent:gt,getPointResolution:function(t,e){return t/g(e[1]/6378137)}})}(t=dt.prototype).ml=function(){return this.wb},t.G=function(){return this.i},t.zo=function(){return this.a},t.Bc=function(){return this.l||pt[this.a]},t.Vl=function(){return this.oe},t.il=function(){return this.b},t.Gm=function(){return this.c},t.xq=function(t){this.c=t,this.g=!(!t||!this.i)},t.Si=function(t){this.i=t,this.g=!(!this.c||!t)},t.Sj=function(t){this.oe=t},t.wq=function(t){this.j=t},s(ct,dt);var ft=6378137*Math.PI,yt=[-ft,-ft,ft,ft],gt=[-180,-85,180,85],mt=[new ct("EPSG:3857"),new ct("EPSG:102100"),new ct("EPSG:102113"),new ct("EPSG:900913"),new ct("urn:ogc:def:crs:EPSG:6.18:3:3857"),new ct("urn:ogc:def:crs:EPSG::3857"),new ct("http://www.opengis.net/gml/srs/epsg.xml#3857")];function vt(t,e,i){var o=t.length;i=1<i?i:2,void 0===e&&(e=2<i?t.slice():Array(o));for(var n=0;n<o;n+=i){e[n]=ft*t[n]/180;var r=6378137*Math.log(Math.tan(Math.PI*(t[n+1]+90)/360));r>ft?r=ft:r<-ft&&(r=-ft),e[n+1]=r}return e}function bt(t,e,i){var o=t.length;i=1<i?i:2,void 0===e&&(e=2<i?t.slice():Array(o));for(var n=0;n<o;n+=i)e[n]=180*t[n]/ft,e[n+1]=360*Math.atan(Math.exp(t[n+1]/6378137))/Math.PI-90;return e}function wt(t,e){dt.call(this,{code:t,units:"degrees",extent:xt,axisOrientation:e,global:!0,metersPerUnit:_t,worldExtent:xt})}s(wt,dt);var xt=[-180,-90,180,90],_t=6378137*Math.PI/180,Mt=[new wt("CRS:84"),new wt("EPSG:4326","neu"),new wt("urn:ogc:def:crs:EPSG::4326","neu"),new wt("urn:ogc:def:crs:EPSG:6.6:4326","neu"),new wt("urn:ogc:def:crs:OGC:1.3:CRS84"),new wt("urn:ogc:def:crs:OGC:2:84"),new wt("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new wt("urn:x-ogc:def:crs:EPSG:4326","neu")],kt={},St={};function Ct(t,e,i){e=e.wb,(t=t.wb)in St||(St[t]={}),St[t][e]=i}function Et(t,e){var i;return t in St&&e in St[t]&&(i=St[t][e]),i}var Tt=new st(6371008.8);function Pt(t,e,i,o){var n=(t=Nt(t)).j;return n?e=n(e,i):"degrees"==t.a&&!o||"degrees"==o||(e=(n=Ft(t,Nt("EPSG:4326")))(e=[i[0]-e/2,i[1],i[0]+e/2,i[1],i[0],i[1]-e/2,i[0],i[1]+e/2],e,2),e=(Tt.b(e.slice(0,2),e.slice(2,4))+Tt.b(e.slice(4,6),e.slice(6,8)))/2,void 0!==(t=o?pt[o]:t.Bc())&&(e/=t)),e}function At(t){t.forEach(Ot),t.forEach(function(e){t.forEach(function(t){e!==t&&Ct(e,t,Bt)})})}function Ot(t){kt[t.wb]=t,Ct(t,t,Bt)}function Dt(t){return t?"string"==typeof t?Nt(t):t:Nt("EPSG:3857")}function It(t,e,i,o){Ct(t=Nt(t),e=Nt(e),Rt(i)),Ct(e,t,Rt(o))}function Rt(t){return function(e,i,o){var n,r=e.length;for(o=void 0!==o?o:2,i=void 0!==i?i:Array(r),n=0;n<r;n+=o){var s=t([e[n],e[n+1]]);for(i[n]=s[0],i[n+1]=s[1],s=o-1;2<=s;--s)i[n+s]=e[n+s]}return i}}function Nt(t){var e=null;if(t instanceof dt)e=t;else if("string"==typeof t&&!(e=kt[t]||null)){var i=ut||window.proj4;"function"==typeof i&&void 0!==i.defs(t)&&Ot(e=new dt({code:t}))}return e}function Lt(t,e){if(t===e)return!0;var i=t.a===e.a;return t.wb===e.wb?i:Ft(t,e)===Bt&&i}function jt(t,e){return Ft(t=Nt(t),e=Nt(e))}function Ft(t,e){var i=t.wb,o=e.wb,n=Et(i,o);if(!n){var r=ut||window.proj4;if("function"==typeof r){var s=r.defs(i),a=r.defs(o);void 0!==s&&void 0!==a&&(s===a?At([e,t]):It(e,t,(n=r(o,i)).forward,n.inverse),n=Et(i,o))}}return n||(n=zt),n}function zt(t,e){if(void 0!==e&&t!==e){for(var i=0,o=t.length;i<o;++i)e[i]=t[i];t=e}return t}function Bt(t,e){if(void 0!==e){for(var i=0,o=t.length;i<o;++i)e[i]=t[i];t=e}else t=t.slice();return t}function qt(t,e,i){return jt(e,i)(t,void 0,t.length)}function Ht(t,e,i){return et(t,e=jt(e,i))}function Ut(){At(mt),At(Mt),Mt.forEach(function(t){mt.forEach(function(e){Ct(t,e,vt),Ct(e,t,bt)})})}function Wt(t,e){return t>e?1:t<e?-1:0}function Gt(t,e){return 0<=t.indexOf(e)}function Yt(t,e,i){var o=t.length;if(t[0]<=e)return 0;if(!(e<=t[o-1]))if(0<i){for(i=1;i<o;++i)if(t[i]<e)return i-1}else if(0>i){for(i=1;i<o;++i)if(t[i]<=e)return i}else for(i=1;i<o;++i){if(t[i]==e)return i;if(t[i]<e)return t[i-1]-e<e-t[i]?i-1:i}return o-1}function Vt(t,e){var i=Array.isArray(e)?e:[e],o=i.length;for(e=0;e<o;e++)t[t.length]=i[e]}function Xt(t,e){for(var i,o=t.length>>>0,n=0;n<o;n++)if(e(i=t[n],n,t))return i;return null}function Zt(t,e){var i=t.length;if(i!==e.length)return!1;for(var o=0;o<i;o++)if(t[o]!==e[o])return!1;return!0}function Kt(t){var e,i=$s,o=t.length,n=Array(t.length);for(e=0;e<o;e++)n[e]={index:e,value:t[e]};for(n.sort(function(t,e){return i(t.value,e.value)||t.index-e.index}),e=0;e<t.length;e++)t[e]=n[e].value}function Jt(t,e){var i;return t.every(function(o,n){return i=n,!e(o,n,t)})?-1:i}function $t(t,e,i,o){return void 0!==o?(o[0]=t,o[1]=e,o[2]=i,o):[t,e,i]}function Qt(t){if(this.minZoom=void 0!==t.minZoom?t.minZoom:0,this.b=t.resolutions,f(function(t,e){var i=function(t,e){return e-t}||Wt;return t.every(function(e,o){return 0===o||!(0<(e=i(t[o-1],e))||0===e)})}(this.b),17),!t.origins)for(var e=0,i=this.b.length-1;e<i;++e)if(o){if(this.b[e]/this.b[e+1]!==o){o=void 0;break}}else var o=this.b[e]/this.b[e+1];this.l=o,this.maxZoom=this.b.length-1,this.g=void 0!==t.origin?t.origin:null,this.c=null,void 0!==t.origins&&(this.c=t.origins,f(this.c.length==this.b.length,20)),void 0===(o=t.extent)||this.g||this.c||(this.g=Z(o)),f(!this.g&&this.c||this.g&&!this.c,18),this.i=null,void 0!==t.tileSizes&&(this.i=t.tileSizes,f(this.i.length==this.b.length,19)),this.j=void 0!==t.tileSize?t.tileSize:this.i?null:256,f(!this.j&&this.i||this.j&&!this.i,22),this.o=void 0!==o?o:null,this.a=null,this.f=[0,0],void 0!==t.sizes?this.a=t.sizes.map(function(t){return new u(Math.min(0,t[0]),Math.max(t[0]-1,-1),Math.min(0,t[1]),Math.max(t[1]-1,-1))},this):o&&function(t,e){for(var i=t.b.length,o=Array(i),n=t.minZoom;n<i;++n)o[n]=oe(t,e,n);t.a=o}(this,o)}Ut();var te=[0,0,0];function ee(t,e,i,o,n){var r=null,s=e[0]-1;if(2===t.l)var a=e[1],h=e[2];else r=t.Ma(e,n);for(;s>=t.minZoom;){if(e=2===t.l?d(a=Math.floor(a/2),a,h=Math.floor(h/2),h,o):oe(t,r,s,o),i.call(null,s,e))return!0;--s}return!1}function ie(t,e,i,o){return e[0]<t.maxZoom?2===t.l?d(t=2*e[1],t+1,e=2*e[2],e+1,i):oe(t,o=t.Ma(e,o),e[0]+1,i):null}function oe(t,e,i,o){re(t,e[0],e[1],i,!1,te);var n=te[1],r=te[2];return re(t,e[2],e[3],i,!0,te),d(n,te[1],r,te[2],o)}function ne(t,e){var i=t.Ic(e[0]),o=t.Ta(e[0]);return t=k(t.Za(e[0]),t.f),[i[0]+(e[1]+.5)*t[0]*o,i[1]+(e[2]+.5)*t[1]*o]}function re(t,e,i,o,n,r){var s=t.Ic(o),a=t.Ta(o);return t=k(t.Za(o),t.f),e=Math.floor((e-s[0])/a+(n?.5:0))/t[0],i=Math.floor((i-s[1])/a+(n?0:.5))/t[1],n?(e=Math.ceil(e)-1,i=Math.ceil(i)-1):(e=Math.floor(e),i=Math.floor(i)),$t(o,e,i,r)}function se(t){var e=t.f;return e||(e=le(t),t.f=e),e}function ae(t){var e={};return it(e,void 0!==t?t:{}),void 0===e.extent&&(e.extent=Nt("EPSG:3857").G()),e.resolutions=he(e.extent,e.maxZoom,e.tileSize),delete e.maxZoom,new Qt(e)}function he(t,e,i){e=void 0!==e?e:42;var o=V(t);for(t=J(t),i=k(void 0!==i?i:256),i=Math.max(t/i[0],o/i[1]),e+=1,o=Array(e),t=0;t<e;++t)o[t]=i/Math.pow(2,t);return o}function le(t,e,i){return e=he(t=pe(t),e,i),new Qt({extent:t,origin:Z(t),resolutions:e,tileSize:i})}function pe(t){var e=(t=Nt(t)).G();return e||(e=I(-(t=180*pt.degrees/t.Bc()),-t,t,t)),e}function ue(t){this.og=t.html}function de(t,e,i,o){for(var n,r=0,s=t.length;r<s;++r)if((n=t[r]).listener===e&&n.Ch===i)return o&&(n.deleteIndex=r),n}function ce(t,e){return(t=t.ab)?t[e]:void 0}function fe(t){var e=t.ab;return e||(e=t.ab={}),e}function ye(t,e){var i=ce(t,e);if(i){for(var o=0,n=i.length;o<n;++o)t.removeEventListener(e,i[o].Dh),ot(i[o]);i.length=0,(i=t.ab)&&(delete i[e],0===Object.keys(i).length&&delete t.ab)}}function ge(t,e,i,o,n){var r=fe(t),s=r[e];return s||(s=r[e]=[]),(r=de(s,i,o,!1))?n||(r.Eh=!1):(t.addEventListener(e,function(t){return t.Dh=function(e){var i=t.listener,o=t.Ch||t.target;return t.Eh&&be(t),i.call(o,e)}}(r={Ch:o,Eh:!!n,listener:i,target:t,type:e})),s.push(r)),r}function me(t,e,i,o){return ge(t,e,i,o,!0)}function ve(t,e,i,o){(t=ce(t,e))&&(i=de(t,i,o,!0))&&be(i)}function be(t){if(t&&t.target){t.target.removeEventListener(t.type,t.Dh);var e=ce(t.target,t.type);if(e){var i="deleteIndex"in t?t.deleteIndex:e.indexOf(t);-1!==i&&e.splice(i,1),0===e.length&&ye(t.target,t.type)}ot(t)}}function we(t){var e,i=fe(t);for(e in i)ye(t,e)}function xe(){}function _e(t){t.Ub||(t.Ub=!0,t.ia())}function Me(t){this.type=t,this.target=null}function ke(t){t.stopPropagation()}function Se(){this.Wa={},this.qa={},this.oa={}}function Ce(t,e){return e?e in t.oa:0<Object.keys(t.oa).length}function Ee(){Se.call(this),this.g=0}function Te(t){Ee.call(this),h(this),this.N={},void 0!==t&&this.H(t)}(t=Qt.prototype).Vf=function(t,e,i){for(var o=(t=oe(this,t,e)).fa,n=t.la;o<=n;++o)for(var r=t.ea,s=t.ka;r<=s;++r)i([e,o,r])},t.G=function(){return this.o},t.mj=function(){return this.maxZoom},t.nj=function(){return this.minZoom},t.Ic=function(t){return this.g?this.g:this.c[t]},t.Ta=function(t){return this.b[t]},t.oj=function(){return this.b},t.Ma=function(t,e){var i=this.Ic(t[0]),o=this.Ta(t[0]),n=k(this.Za(t[0]),this.f),r=i[0]+t[1]*n[0]*o;return I(r,t=i[1]+t[2]*n[1]*o,r+n[0]*o,t+n[1]*o,e)},t.Le=function(t,e,i){var o=t[0],n=t[1];t=this.Dc(e);var r=e/this.Ta(t),s=this.Ic(t),a=k(this.Za(t),this.f);return o=r*Math.floor((o-s[0])/e+0)/a[0],e=r*Math.floor((n-s[1])/e+.5)/a[1],$t(t,o=Math.floor(o),e=Math.floor(e),i)},t.jg=function(t,e,i){return re(this,t[0],t[1],e,!1,i)},t.Za=function(t){return this.j?this.j:this.i[t]},t.Dc=function(t,e){return y(Yt(this.b,t,e||0),this.minZoom,this.maxZoom)},ue.prototype.b=function(){return this.og},xe.prototype.Ub=!1,xe.prototype.ia=a,Me.prototype.preventDefault=Me.prototype.stopPropagation=function(){this.sj=!0},s(Se,xe),Se.prototype.addEventListener=function(t,e){var i=this.oa[t];i||(i=this.oa[t]=[]),-1===i.indexOf(e)&&i.push(e)},Se.prototype.b=function(t){var e="string"==typeof t?new Me(t):t;t=e.type,e.target=this;var i=this.oa[t];if(i){t in this.qa||(this.qa[t]=0,this.Wa[t]=0),++this.qa[t];for(var o=0,n=i.length;o<n;++o)if(!1===i[o].call(this,e)||e.sj){var r=!1;break}if(--this.qa[t],0===this.qa[t]){for(e=this.Wa[t],delete this.Wa[t];e--;)this.removeEventListener(t,a);delete this.qa[t]}return r}},Se.prototype.ia=function(){we(this)},Se.prototype.removeEventListener=function(t,e){var i=this.oa[t];i&&(e=i.indexOf(e),t in this.Wa?(i[e]=a,++this.Wa[t]):(i.splice(e,1),0===i.length&&delete this.oa[t]))},s(Ee,Se),(t=Ee.prototype).u=function(){++this.g,this.b("change")},t.K=function(){return this.g},t.I=function(t,e,i){if(Array.isArray(t)){for(var o=t.length,n=Array(o),r=0;r<o;++r)n[r]=ge(this,t[r],e,i);return n}return ge(this,t,e,i)},t.once=function(t,e,i){if(Array.isArray(t)){for(var o=t.length,n=Array(o),r=0;r<o;++r)n[r]=me(this,t[r],e,i);return n}return me(this,t,e,i)},t.J=function(t,e,i){if(Array.isArray(t))for(var o=0,n=t.length;o<n;++o)ve(this,t[o],e,i);else ve(this,t,e,i)},s(Te,Ee);var Pe={};function Ae(t){return Pe.hasOwnProperty(t)?Pe[t]:Pe[t]="change:"+t}function Oe(t,e,i){var o=Ae(e);t.b(new De(o,e,i)),t.b(new De("propertychange",e,i))}function De(t,e,i){Me.call(this,t),this.key=e,this.oldValue=i}function Ie(t,e){if(Te.call(this),this.c=!!(e||{}).unique,this.a=t||[],this.c)for(t=0,e=this.a.length;t<e;++t)Ne(this,this.a[t],t);Re(this)}function Re(t){t.set(Le,t.a.length)}function Ne(t,e,i){for(var o=0,n=t.a.length;o<n;++o)if(t.a[o]===e&&o!==i)throw new p(58)}(t=Te.prototype).get=function(t){var e;return this.N.hasOwnProperty(t)&&(e=this.N[t]),e},t.P=function(){return Object.keys(this.N)},t.L=function(){return it({},this.N)},t.set=function(t,e,i){i?this.N[t]=e:(i=this.N[t],this.N[t]=e,i!==e&&Oe(this,t,i))},t.H=function(t,e){for(var i in t)this.set(i,t[i],e)},t.R=function(t,e){if(t in this.N){var i=this.N[t];delete this.N[t],e||Oe(this,t,i)}},s(De,Me),s(Ie,Te),(t=Ie.prototype).clear=function(){for(;0<this.kc();)this.pop()},t.qg=function(t){var e,i=0;for(e=t.length;i<e;++i)this.push(t[i]);return this},t.forEach=function(t,e){t=e?t.bind(e):t;for(var i=0,o=(e=this.a).length;i<o;++i)t(e[i],i,e)},t.Xm=function(){return this.a},t.item=function(t){return this.a[t]},t.kc=function(){return this.get(Le)},t.Re=function(t,e){this.c&&Ne(this,e),this.a.splice(t,0,e),Re(this),this.b(new je("add",e))},t.pop=function(){return this.Wg(this.kc()-1)},t.push=function(t){this.c&&Ne(this,t);var e=this.kc();return this.Re(e,t),this.kc()},t.remove=function(t){var e,i=this.a,o=0;for(e=i.length;o<e;++o)if(i[o]===t)return this.Wg(o)},t.Wg=function(t){var e=this.a[t];return this.a.splice(t,1),Re(this),this.b(new je("remove",e)),e},t.rq=function(t,e){var i=this.kc();if(t<i)this.c&&Ne(this,e,t),i=this.a[t],this.a[t]=e,this.b(new je("remove",i)),this.b(new je("add",e));else{for(;i<t;++i)this.Re(i,void 0);this.Re(t,e)}};var Le="length";function je(t,e){Me.call(this,t),this.element=e}function Fe(t,e,i){Me.call(this,t),this.map=e,this.frameState=void 0!==i?i:null}function ze(t,e,i,o,n){Fe.call(this,t,e,n),this.originalEvent=i,this.pixel=e.ud(i),this.coordinate=e.Ra(this.pixel),this.dragging=void 0!==o&&o}s(je,Me),s(Fe,Me),s(ze,Fe),ze.prototype.preventDefault=function(){Fe.prototype.preventDefault.call(this),this.originalEvent.preventDefault()},ze.prototype.stopPropagation=function(){Fe.prototype.stopPropagation.call(this),this.originalEvent.stopPropagation()};var Be=["experimental-webgl","webgl","webkit-3d","moz-webgl"];function qe(t,e){var i,o,n=Be.length;for(o=0;o<n;++o)try{if(i=t.getContext(Be[o],e))return i}catch(t){}return null}var He,Ue,We="undefined"!=typeof navigator?navigator.userAgent.toLowerCase():"",Ge=-1!==We.indexOf("firefox"),Ye=-1!==We.indexOf("safari")&&-1==We.indexOf("chrom"),Ve=-1!==We.indexOf("webkit")&&-1==We.indexOf("edge"),Xe=-1!==We.indexOf("macintosh"),Ze=window.devicePixelRatio||1,Ke=!1,Je=function(){if(!("HTMLCanvasElement"in window))return!1;try{var t=document.createElement("CANVAS").getContext("2d");return!!t&&(void 0!==t.setLineDash&&(Ke=!0),!0)}catch(t){return!1}}(),$e="DeviceOrientationEvent"in window,Qe="geolocation"in navigator,ti="ontouchstart"in window,ei="PointerEvent"in window,ii=!!navigator.msPointerEnabled,oi=!1,ni=[];if("WebGLRenderingContext"in window)try{var ri=qe(document.createElement("CANVAS"),{failIfMajorPerformanceCaveat:!0});ri&&(oi=!0,Ue=ri.getParameter(ri.MAX_TEXTURE_SIZE),ni=ri.getSupportedExtensions())}catch(Dn){}He=oi,i=ni,e=Ue;var si={gr:"singleclick",Wq:"click",Xq:"dblclick",$q:"pointerdrag",cr:"pointermove",Zq:"pointerdown",fr:"pointerup",er:"pointerover",dr:"pointerout",ar:"pointerenter",br:"pointerleave",Yq:"pointercancel"};function ai(t,e,i,o,n){ze.call(this,t,e,i.b,o,n),this.b=i}function hi(t,e){this.b=t,this.i=e}function li(t){hi.call(this,t,{mousedown:this.Jm,mousemove:this.Km,mouseup:this.Nm,mouseover:this.Mm,mouseout:this.Lm}),this.a=t.g,this.g=[]}function pi(t,e){var i=e.clientX;e=e.clientY;for(var o,n=0,r=(t=t.g).length;n<r&&(o=t[n]);n++){var s=Math.abs(e-o[1]);if(25>=Math.abs(i-o[0])&&25>=s)return!0}return!1}function ui(t){var e=Si(t,t),i=e.preventDefault;return e.preventDefault=function(){t.preventDefault(),i()},e.pointerId=1,e.isPrimary=!0,e.pointerType="mouse",e}function di(t){hi.call(this,t,{MSPointerDown:this.Sm,MSPointerMove:this.Tm,MSPointerUp:this.Wm,MSPointerOut:this.Um,MSPointerOver:this.Vm,MSPointerCancel:this.Rm,MSGotPointerCapture:this.Pm,MSLostPointerCapture:this.Qm}),this.a=t.g,this.g=["","unavailable","touch","pen","mouse"]}function ci(t,e){var i=e;return"number"==typeof e.pointerType&&((i=Si(e,e)).pointerType=t.g[e.pointerType]),i}function fi(t){hi.call(this,t,{pointerdown:this.Kp,pointermove:this.Lp,pointerup:this.Op,pointerout:this.Mp,pointerover:this.Np,pointercancel:this.Jp,gotpointercapture:this.Wl,lostpointercapture:this.Hm})}function yi(t,e,i){Me.call(this,t),this.b=e,this.buttons=function(t){if(t.buttons||gi)t=t.buttons;else switch(t.which){case 1:t=1;break;case 2:t=4;break;case 3:t=2;break;default:t=0}return t}(t=i||{}),this.pressure=function(t,e){return t.pressure?t.pressure:e?.5:0}(t,this.buttons),this.bubbles="bubbles"in t&&t.bubbles,this.cancelable="cancelable"in t&&t.cancelable,this.view="view"in t?t.view:null,this.detail="detail"in t?t.detail:null,this.screenX="screenX"in t?t.screenX:0,this.screenY="screenY"in t?t.screenY:0,this.clientX="clientX"in t?t.clientX:0,this.clientY="clientY"in t?t.clientY:0,this.ctrlKey="ctrlKey"in t&&t.ctrlKey,this.altKey="altKey"in t&&t.altKey,this.shiftKey="shiftKey"in t&&t.shiftKey,this.metaKey="metaKey"in t&&t.metaKey,this.button="button"in t?t.button:0,this.relatedTarget="relatedTarget"in t?t.relatedTarget:null,this.pointerId="pointerId"in t?t.pointerId:0,this.width="width"in t?t.width:0,this.height="height"in t?t.height:0,this.tiltX="tiltX"in t?t.tiltX:0,this.tiltY="tiltY"in t?t.tiltY:0,this.pointerType="pointerType"in t?t.pointerType:"",this.isPrimary="isPrimary"in t&&t.isPrimary,e.preventDefault&&(this.preventDefault=function(){e.preventDefault()})}s(ai,ze),s(li,hi),(t=li.prototype).Jm=function(t){if(!pi(this,t)){1..toString()in this.a&&this.cancel(t);var e=ui(t);this.a[1..toString()]=t,Pi(this.b,"pointerdown",e,t)}},t.Km=function(t){if(!pi(this,t)){var e=ui(t);Pi(this.b,"pointermove",e,t)}},t.Nm=function(t){if(!pi(this,t)){var e=this.a[1..toString()];e&&e.button===t.button&&(e=ui(t),Pi(this.b,"pointerup",e,t),delete this.a[1..toString()])}},t.Mm=function(t){if(!pi(this,t)){var e=ui(t);Ti(this.b,e,t)}},t.Lm=function(t){if(!pi(this,t)){var e=ui(t);Ei(this.b,e,t)}},t.cancel=function(t){var e=ui(t);this.b.cancel(e,t),delete this.a[1..toString()]},s(di,hi),(t=di.prototype).Sm=function(t){this.a[t.pointerId.toString()]=t;var e=ci(this,t);Pi(this.b,"pointerdown",e,t)},t.Tm=function(t){var e=ci(this,t);Pi(this.b,"pointermove",e,t)},t.Wm=function(t){var e=ci(this,t);Pi(this.b,"pointerup",e,t),delete this.a[t.pointerId.toString()]},t.Um=function(t){var e=ci(this,t);Ei(this.b,e,t)},t.Vm=function(t){var e=ci(this,t);Ti(this.b,e,t)},t.Rm=function(t){var e=ci(this,t);this.b.cancel(e,t),delete this.a[t.pointerId.toString()]},t.Qm=function(t){this.b.b(new yi("lostpointercapture",t,t))},t.Pm=function(t){this.b.b(new yi("gotpointercapture",t,t))},s(fi,hi),(t=fi.prototype).Kp=function(t){Ai(this.b,t)},t.Lp=function(t){Ai(this.b,t)},t.Op=function(t){Ai(this.b,t)},t.Mp=function(t){Ai(this.b,t)},t.Np=function(t){Ai(this.b,t)},t.Jp=function(t){Ai(this.b,t)},t.Hm=function(t){Ai(this.b,t)},t.Wl=function(t){Ai(this.b,t)},s(yi,Me);var gi=!1;try{gi=1===new MouseEvent("click",{buttons:1}).buttons}catch(Dn){}function mi(t,e){hi.call(this,t,{touchstart:this.Qq,touchmove:this.Pq,touchend:this.Oq,touchcancel:this.Nq}),this.a=t.g,this.j=e,this.g=void 0,this.f=0,this.c=void 0}function vi(t,e,i){return(e=Si(e,i)).pointerId=i.identifier+2,e.bubbles=!0,e.cancelable=!0,e.detail=t.f,e.button=0,e.buttons=1,e.width=i.webkitRadiusX||i.radiusX||0,e.height=i.webkitRadiusY||i.radiusY||0,e.pressure=i.webkitForce||i.force||.5,e.isPrimary=t.g===i.identifier,e.pointerType="touch",e.clientX=i.clientX,e.clientY=i.clientY,e.screenX=i.screenX,e.screenY=i.screenY,e}function bi(t,e,i){function o(){e.preventDefault()}var n,r=Array.prototype.slice.call(e.changedTouches),s=r.length;for(n=0;n<s;++n){var a=vi(t,e,r[n]);a.preventDefault=o,i.call(t,e,a)}}function wi(t,e){var i=t.j.g;if(t.g===(e=e.changedTouches[0]).identifier){var o=[e.clientX,e.clientY];i.push(o),setTimeout(function(){var t=i.indexOf(o);-1<t&&i.splice(t,1)},2500)}}function xi(t){Se.call(this),this.f=t,this.g={},this.i={},this.a=[],ei?_i(this,new fi(this)):ii?_i(this,new di(this)):(_i(this,t=new li(this)),ti&&_i(this,new mi(this,t))),t=this.a.length;for(var e=0;e<t;e++)Mi(this,Object.keys(this.a[e].i))}function _i(t,e){var i=Object.keys(e.i);i&&(i.forEach(function(t){var i=e.i[t];i&&(this.i[t]=i.bind(e))},t),t.a.push(e))}function Mi(t,e){e.forEach(function(t){ge(this.f,t,this.c,this)},t)}function ki(t,e){e.forEach(function(t){ve(this.f,t,this.c,this)},t)}function Si(t,e){for(var i,o={},n=0,r=Oi.length;n<r;n++)o[i=Oi[n][0]]=t[i]||e[i]||Oi[n][1];return o}function Ci(t,e,i){e.bubbles=!1,Pi(t,"pointerleave",e,i)}function Ei(t,e,i){t.out(e,i);var o=e.target,n=e.relatedTarget;o&&n&&o.contains(n)||Ci(t,e,i)}function Ti(t,e,i){e.bubbles=!0,Pi(t,"pointerover",e,i);var o=e.target,n=e.relatedTarget;o&&n&&o.contains(n)||(e.bubbles=!1,Pi(t,"pointerenter",e,i))}function Pi(t,e,i,o){t.b(new yi(e,o,i))}function Ai(t,e){t.b(new yi(e.type,e,e))}s(mi,hi),(t=mi.prototype).Ej=function(){this.f=0,this.c=void 0},t.Qq=function(t){var e=t.touches,i=Object.keys(this.a),o=i.length;if(o>=e.length){var n,r=[];for(n=0;n<o;++n){var s,a=i[n],h=this.a[a];if(!(s=1==a))t:{for(var l=e.length,p=0;p<l;p++)if((s=e[p]).identifier===a-2){s=!0;break t}s=!1}s||r.push(h.out)}for(n=0;n<r.length;++n)this.Of(t,r[n])}e=t.changedTouches[0],(0===(i=Object.keys(this.a).length)||1===i&&1..toString()in this.a)&&(this.g=e.identifier,void 0!==this.c&&clearTimeout(this.c)),wi(this,t),this.f++,bi(this,t,this.Fp)},t.Fp=function(t,e){this.a[e.pointerId]={target:e.target,out:e,pj:e.target};var i=this.b;e.bubbles=!0,Pi(i,"pointerover",e,t),i=this.b,e.bubbles=!1,Pi(i,"pointerenter",e,t),Pi(this.b,"pointerdown",e,t)},t.Pq=function(t){t.preventDefault(),bi(this,t,this.Om)},t.Om=function(t,e){var i=this.a[e.pointerId];if(i){var o=i.out,n=i.pj;Pi(this.b,"pointermove",e,t),o&&n!==e.target&&(o.relatedTarget=e.target,e.relatedTarget=n,o.target=n,e.target?(Ei(this.b,o,t),Ti(this.b,e,t)):(e.target=n,e.relatedTarget=null,this.Of(t,e))),i.out=e,i.pj=e.target}},t.Oq=function(t){wi(this,t),bi(this,t,this.Rq)},t.Rq=function(t,e){Pi(this.b,"pointerup",e,t),this.b.out(e,t),Ci(this.b,e,t),delete this.a[e.pointerId],e.isPrimary&&(this.g=void 0,this.c=setTimeout(this.Ej.bind(this),200))},t.Nq=function(t){bi(this,t,this.Of)},t.Of=function(t,e){this.b.cancel(e,t),this.b.out(e,t),Ci(this.b,e,t),delete this.a[e.pointerId],e.isPrimary&&(this.g=void 0,this.c=setTimeout(this.Ej.bind(this),200))},s(xi,Se),xi.prototype.c=function(t){var e=this.i[t.type];e&&e(t)},xi.prototype.out=function(t,e){t.bubbles=!0,Pi(this,"pointerout",t,e)},xi.prototype.cancel=function(t,e){Pi(this,"pointercancel",t,e)},xi.prototype.ia=function(){for(var t=this.a.length,e=0;e<t;e++)ki(this,Object.keys(this.a[e].i));Se.prototype.ia.call(this)};var Oi=[["bubbles",!1],["cancelable",!1],["view",null],["detail",null],["screenX",0],["screenY",0],["clientX",0],["clientY",0],["ctrlKey",!1],["altKey",!1],["shiftKey",!1],["metaKey",!1],["button",0],["relatedTarget",null],["buttons",0],["pointerId",0],["width",0],["height",0],["pressure",0],["tiltX",0],["tiltY",0],["pointerType",""],["hwTimestamp",0],["isPrimary",!1],["type",""],["target",null],["currentTarget",null],["which",0]];function Di(t,e){Se.call(this),this.g=t,this.j=0,this.l=!1,this.i=[],this.D=e?e*Ze:Ze,this.c=null,t=this.g.a,this.N=0,this.o={},this.f=new xi(t),this.a=null,this.s=ge(this.f,"pointerdown",this.pm,this),this.v=ge(this.f,"pointermove",this.mq,this)}function Ii(t,e){"pointerup"==e.type||"pointercancel"==e.type?delete t.o[e.pointerId]:"pointerdown"==e.type&&(t.o[e.pointerId]=!0),t.N=Object.keys(t.o).length}function Ri(t,e){return Math.abs(e.clientX-t.c.clientX)>t.D||Math.abs(e.clientY-t.c.clientY)>t.D}function Ni(t,e){this.s=t,this.c=e,this.b=[],this.g=[],this.a={}}function Li(t){var e=t.b,i=t.g,o=e[0];return 1==e.length?(e.length=0,i.length=0):(e[0]=e.pop(),i[0]=i.pop(),ji(t,0)),e=t.c(o),delete t.a[e],o}function ji(t,e){for(var i=t.b,o=t.g,n=i.length,r=i[e],s=o[e],a=e;e<n>>1;){var h=2*e+1,l=2*e+2;i[e]=i[h=l<n&&o[l]<o[h]?l:h],o[e]=o[h],e=h}i[e]=r,o[e]=s,Fi(t,a,e)}function Fi(t,e,i){for(var o=t.b,n=o[i],r=(t=t.g)[i];i>e;){var s=i-1>>1;if(!(t[s]>r))break;o[i]=o[s],t[i]=t[s],i=s}o[i]=n,t[i]=r}function zi(t){var e,i=t.s,o=t.b,n=t.g,r=0,s=o.length;for(e=0;e<s;++e){var a=o[e],h=i(a);1/0==h?delete t.a[t.c(a)]:(n[r]=h,o[r++]=a)}for(o.length=r,n.length=r,i=(t.b.length>>1)-1;0<=i;i--)ji(t,i)}function Bi(t,e){Ni.call(this,function(e){return t.apply(null,e)},function(t){return t[0].lb()}),this.v=e,this.j=0,this.f={}}function qi(t,e,i){for(var o,n,r,s=0,a=!1;t.j<e&&s<i&&0<t.b.length;)r=(n=Li(t)[0]).lb(),5===(o=n.getState())?a=!0:0!==o||r in t.f||(t.f[r]=!0,++t.j,++s,n.load());0===s&&a&&t.v()}function Hi(t){return t}function Ui(t){if(void 0!==t)return 0}function Wi(t,e){if(void 0!==t)return t+e}function Gi(t,e){return 2<(e=-1===(e=(t=void 0!==e?t.toFixed(e):""+t).indexOf("."))?t.length:e)?t:Array(3-e).join("0")+t}function Yi(t){t=(""+t).split(".");for(var e=["1","3"],i=0;i<Math.max(t.length,e.length);i++){var o=parseInt(t[i]||"0",10),n=parseInt(e[i]||"0",10);if(o>n)return 1;if(n>o)return-1}return 0}function Vi(t,e){return t[0]+=e[0],t[1]+=e[1],t}function Xi(t,e){var i=t[0];t=t[1];var o=e[0],n=e[1],r=n[0],s=r-(e=o[0]),a=(n=n[1])-(o=o[1]);return 0>=(i=0===s&&0===a?0:(s*(i-e)+a*(t-o))/(s*s+a*a||0))?(t=e,i=o):1<=i?(t=r,i=n):(t=e+i*s,i=o+i*a),[t,i]}function Zi(t,e,i){e=w(e+180,360)-180;var o=Math.abs(3600*e);i=i||0;var n=Math.pow(10,i),r=Math.floor(o/3600),s=Math.floor((o-3600*r)/60);return 60<=(o=Math.ceil((o-3600*r-60*s)*n)/n)&&(o=0,s+=1),60<=s&&(s=0,r+=1),r+"\xb0 "+Gi(s)+"\u2032 "+Gi(o,i)+"\u2033"+(0==e?"":" "+t.charAt(0>e?1:0))}function Ki(t,e,i){return t?e.replace("{x}",t[0].toFixed(i)).replace("{y}",t[1].toFixed(i)):""}function Ji(t,e){for(var i=!0,o=t.length-1;0<=o;--o)if(t[o]!=e[o]){i=!1;break}return i}function $i(t,e){var i=Math.cos(e);e=Math.sin(e);var o=t[1]*i+t[0]*e;return t[0]=t[0]*i-t[1]*e,t[1]=o,t}function Qi(t,e){t[0]*=e,t[1]*=e}function to(t,e){var i=t[0]-e[0];return i*i+(t=t[1]-e[1])*t}function eo(t,e){return Math.sqrt(to(t,e))}function io(t,e){return to(t,Xi(t,e))}function oo(t,e){return Ki(t,"{x}, {y}",e)}function no(t){return Math.pow(t,3)}function ro(t){return 1-no(1-t)}function so(t){return 3*t*t-2*t*t*t}function ao(t){return t}function ho(){return!0}function lo(){return!1}function po(t,e,i,o,n,r){for(var s=r||[],a=0;e<i;e+=o){var h=t[e],l=t[e+1];s[a++]=n[0]*h+n[2]*l+n[4],s[a++]=n[1]*h+n[3]*l+n[5]}return r&&s.length!=a&&(s.length=a),s}function uo(t,e,i,o,n,r,s){for(var a,h=s||[],l=0;e<i;e+=o)for(h[l++]=t[e]+n,h[l++]=t[e+1]+r,a=e+2;a<e+o;++a)h[l++]=t[a];return s&&h.length!=l&&(h.length=l),h}s(Di,Se),(t=Di.prototype).ci=function(t){Ii(this,t);var e=new ai("pointerup",this.g,t);this.b(e),e.sj||this.l||0!==t.button||function(t,e){var i=new ai("click",t.g,e);t.b(i),0!==t.j?(clearTimeout(t.j),t.j=0,i=new ai("dblclick",t.g,e),t.b(i)):t.j=setTimeout((function(){this.j=0;var t=new ai("singleclick",this.g,e);this.b(t)}).bind(t),250)}(this,this.c),0===this.N&&(this.i.forEach(be),this.i.length=0,this.l=!1,this.c=null,_e(this.a),this.a=null)},t.pm=function(t){Ii(this,t);var e=new ai("pointerdown",this.g,t);this.b(e),this.c=t,0===this.i.length&&(this.a=new xi(document),this.i.push(ge(this.a,"pointermove",this.mn,this),ge(this.a,"pointerup",this.ci,this),ge(this.f,"pointercancel",this.ci,this)))},t.mn=function(t){if(Ri(this,t)){this.l=!0;var e=new ai("pointerdrag",this.g,t,this.l);this.b(e)}t.preventDefault()},t.mq=function(t){this.b(new ai(t.type,this.g,t,!(!this.c||!Ri(this,t))))},t.ia=function(){this.v&&(be(this.v),this.v=null),this.s&&(be(this.s),this.s=null),this.i.forEach(be),this.i.length=0,this.a&&(_e(this.a),this.a=null),this.f&&(_e(this.f),this.f=null),Se.prototype.ia.call(this)},Ni.prototype.clear=function(){this.b.length=0,this.g.length=0,ot(this.a)},Ni.prototype.i=function(t){f(!(this.c(t)in this.a),31);var e=this.s(t);return 1/0!=e&&(this.b.push(t),this.g.push(e),this.a[this.c(t)]=!0,Fi(this,0,this.b.length-1),!0)},s(Bi,Ni),Bi.prototype.i=function(t){var e=Ni.prototype.i.call(this,t);return e&&ge(t[0],"change",this.l,this),e},Bi.prototype.l=function(t){var e=(t=t.target).getState();2!==e&&3!==e&&4!==e&&5!==e||(ve(t,"change",this.l,this),(t=t.lb())in this.f&&(delete this.f[t],--this.j),this.v())};var co=Array(6);function fo(t){return go(t,1,0,0,1,0,0)}function yo(t,e){var i=t[0],o=t[1],n=t[2],r=t[3],s=t[4],a=t[5],h=e[0],l=e[1],p=e[2],u=e[3],d=e[4];return e=e[5],t[0]=i*h+n*l,t[1]=o*h+r*l,t[2]=i*p+n*u,t[3]=o*p+r*u,t[4]=i*d+n*e+s,t[5]=o*d+r*e+a,t}function go(t,e,i,o,n,r,s){return t[0]=e,t[1]=i,t[2]=o,t[3]=n,t[4]=r,t[5]=s,t}function mo(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function vo(t,e){var i=e[0],o=e[1];return e[0]=t[0]*i+t[2]*o+t[4],e[1]=t[1]*i+t[3]*o+t[5],e}function bo(t,e){var i=Math.cos(e);e=Math.sin(e),yo(t,go(co,i,e,-e,i,0,0))}function wo(t,e,i){return yo(t,go(co,e,0,0,i,0,0))}function xo(t,e,i){yo(t,go(co,1,0,0,1,e,i))}function _o(t,e,i,o,n,r,s,a){var h=Math.sin(r);return r=Math.cos(r),t[0]=o*r,t[1]=n*h,t[2]=-o*h,t[3]=n*r,t[4]=s*o*r-a*o*h+e,t[5]=s*n*h+a*n*r+i,t}function Mo(t){var e=t[0]*t[3]-t[1]*t[2];f(0!==e,32);var i=t[0],o=t[1],n=t[2],r=t[3],s=t[4],a=t[5];return t[0]=r/e,t[1]=-o/e,t[2]=-n/e,t[3]=i/e,t[4]=(n*a-r*s)/e,t[5]=-(i*a-o*s)/e,t}function ko(){Te.call(this),this.s=[1/0,1/0,-1/0,-1/0],this.v=-1,this.i={},this.l=this.f=0,this.O=[1,0,0,1,0,0]}function So(){ko.call(this),this.ja="XY",this.a=2,this.A=null}function Co(t){var e;return"XY"==t?e=2:"XYZ"==t||"XYM"==t?e=3:"XYZM"==t&&(e=4),e}function Eo(t,e,i){t.a=Co(e),t.ja=e,t.A=i}function To(t,e,i,o){if(e)i=Co(e);else{for(e=0;e<o;++e){if(0===i.length)return t.ja="XY",void(t.a=2);i=i[0]}var n;2==(i=i.length)?n="XY":3==i?n="XYZ":4==i&&(n="XYZM"),e=n}t.ja=e,t.a=i}function Po(t,e,i,o){for(var n=0,r=t[i-o],s=t[i-o+1];e<i;e+=o){var a=t[e],h=t[e+1];n+=s*a-r*h,r=a,s=h}return n/2}function Ao(t,e,i,o){var n,r=0,s=0;for(n=i.length;s<n;++s){var a=i[s];r+=Po(t,e,a,o),e=a}return r}function Oo(t,e,i,o,n,r,s){var a=t[e],h=t[e+1],l=t[i]-a,p=t[i+1]-h;if(0!==l||0!==p)if(1<(r=((n-a)*l+(r-h)*p)/(l*l+p*p)))e=i;else if(0<r){for(n=0;n<o;++n)s[n]=x(t[e+n],t[i+n],r);return void(s.length=o)}for(n=0;n<o;++n)s[n]=t[e+n];s.length=o}function Do(t,e,i,o,n){var r=t[e],s=t[e+1];for(e+=o;e<i;e+=o){var a=t[e],h=t[e+1];(r=v(r,s,a,h))>n&&(n=r),r=a,s=h}return n}function Io(t,e,i,o,n){var r,s=0;for(r=i.length;s<r;++s){var a=i[s];n=Do(t,e,a,o,n),e=a}return n}function Ro(t,e,i,o,n,r,s,a,h,l,p){if(e==i)return l;if(0===n){var u=v(s,a,t[e],t[e+1]);if(u<l){for(p=0;p<o;++p)h[p]=t[e+p];return h.length=o,u}return l}for(var d=p||[NaN,NaN],c=e+o;c<i;)if(Oo(t,c-o,c,o,s,a,d),(u=v(s,a,d[0],d[1]))<l){for(l=u,p=0;p<o;++p)h[p]=d[p];h.length=o,c+=o}else c+=o*Math.max((Math.sqrt(u)-Math.sqrt(l))/n|0,1);if(r&&(Oo(t,i-o,e,o,s,a,d),(u=v(s,a,d[0],d[1]))<l)){for(l=u,p=0;p<o;++p)h[p]=d[p];h.length=o}return l}function No(t,e,i,o,n,r,s,a,h,l,p){var u;p=p||[NaN,NaN];var d=0;for(u=i.length;d<u;++d){var c=i[d];l=Ro(t,e,c,o,n,r,s,a,h,l,p),e=c}return l}function Lo(t,e){var i,o=0,n=0;for(i=e.length;n<i;++n)t[o++]=e[n];return o}function jo(t,e,i,o){var n,r=0;for(n=i.length;r<n;++r){var s,a=i[r];for(s=0;s<o;++s)t[e++]=a[s]}return e}function Fo(t,e,i,o,n){n=n||[];var r,s=0,a=0;for(r=i.length;a<r;++a)e=jo(t,e,i[a],o),n[s++]=e;return n.length=s,n}function zo(t,e,i,o,n){n=void 0!==n?n:[];for(var r=0;e<i;e+=o)n[r++]=t.slice(e,e+o);return n.length=r,n}function Bo(t,e,i,o,n){n=void 0!==n?n:[];var r,s=0,a=0;for(r=i.length;a<r;++a){var h=i[a];n[s++]=zo(t,e,h,o,n[s]),e=h}return n.length=s,n}function qo(t,e,i,o,n){n=void 0!==n?n:[];var r,s=0,a=0;for(r=i.length;a<r;++a){var h=i[a];n[s++]=Bo(t,e,h,o,n[s]),e=h[h.length-1]}return n.length=s,n}function Ho(t,e,i,o,n,r,s){var a=(i-e)/o;if(3>a){for(;e<i;e+=o)r[s++]=t[e],r[s++]=t[e+1];return s}var h=Array(a);h[0]=1,h[a-1]=1,i=[e,i-o];for(var l,p=0;0<i.length;){var u=i.pop(),d=i.pop(),c=0,f=t[d],y=t[d+1],g=t[u],v=t[u+1];for(l=d+o;l<u;l+=o){var b=m(t[l],t[l+1],f,y,g,v);b>c&&(p=l,c=b)}c>n&&(h[(p-e)/o]=1,d+o<p&&i.push(d,p),p+o<u&&i.push(p,u))}for(l=0;l<a;++l)h[l]&&(r[s++]=t[e+l*o],r[s++]=t[e+l*o+1]);return s}function Uo(t,e,i,o,n,r,s,a){var h,l=0;for(h=i.length;l<h;++l){var p=i[l];t:{var u=t,d=p,c=o,f=n,y=r,g=s;if(e!=d){var m=f*Math.round(u[e]/f),v=f*Math.round(u[e+1]/f);e+=c,y[g++]=m,y[g++]=v;do{var b=f*Math.round(u[e]/f);if(s=f*Math.round(u[e+1]/f),(e+=c)==d){y[g++]=b,y[g++]=s,s=g;break t}}while(b==m&&s==v);for(;e<d;){var w=f*Math.round(u[e]/f),x=f*Math.round(u[e+1]/f);if(e+=c,w!=b||x!=s){var _=b-m,M=s-v,k=w-m,S=x-v;_*S==M*k&&(0>_&&k<_||_==k||0<_&&k>_)&&(0>M&&S<M||M==S||0<M&&S>M)||(y[g++]=b,y[g++]=s,m=b,v=s),b=w,s=x}}y[g++]=b,y[g++]=s}s=g}a.push(s),e=p}return s}function Wo(t,e){So.call(this),this.c=this.j=-1,this.na(t,e)}function Go(t,e,i){Eo(t,e,i),t.u()}function Yo(t,e){So.call(this),this.na(t,e)}function Vo(t,e,i,o,n){return!q(n,function(n){return!Xo(t,e,i,o,n[0],n[1])})}function Xo(t,e,i,o,n,r){for(var s=0,a=t[i-o],h=t[i-o+1];e<i;e+=o){var l=t[e],p=t[e+1];h<=r?p>r&&0<(l-a)*(r-h)-(n-a)*(p-h)&&s++:p<=r&&0>(l-a)*(r-h)-(n-a)*(p-h)&&s--,a=l,h=p}return 0!==s}function Zo(t,e,i,o,n,r){if(0===i.length||!Xo(t,e,i[0],o,n,r))return!1;var s;for(e=1,s=i.length;e<s;++e)if(Xo(t,i[e-1],i[e],o,n,r))return!1;return!0}function Ko(t,e,i,o,n,r,s){for(var a,h,l,p,u,d=n[r+1],c=[],f=0,y=i.length;f<y;++f){var g=i[f];for(l=t[g-o],u=t[g-o+1],a=e;a<g;a+=o)p=t[a],h=t[a+1],(d<=u&&h<=d||u<=d&&d<=h)&&c.push(l=(d-u)/(h-u)*(p-l)+l),l=p,u=h}for(f=NaN,y=-1/0,c.sort(Wt),l=c[0],a=1,h=c.length;a<h;++a)p=c[a],(g=Math.abs(p-l))>y&&Zo(t,e,i,o,l=(l+p)/2,d)&&(f=l,y=g),l=p;return isNaN(f)&&(f=n[r]),s?(s.push(f,d,y),s):[f,d,y]}function Jo(t,e,i,o,n,r){for(var s,a=[t[e],t[e+1]],h=[];e+o<i;e+=o){if(h[0]=t[e+o],h[1]=t[e+o+1],s=n.call(r,a,h))return s;a[0]=h[0],a[1]=h[1]}return!1}function $o(t,e,i,o,n){var r=B([1/0,1/0,-1/0,-1/0],t,e,i,o);return!!$(n,r)&&(!!(A(n,r)||r[0]>=n[0]&&r[2]<=n[2]||r[1]>=n[1]&&r[3]<=n[3])||Jo(t,e,i,o,function(t,e){var i=!1,o=D(n,t),r=D(n,e);if(1===o||1===r)i=!0;else{var s=n[0],a=n[1],h=n[2],l=n[3],p=e[0];t=((e=e[1])-t[1])/(p-t[0]),2&r&&!(2&o)&&(i=(i=p-(e-l)/t)>=s&&i<=h),i||!(4&r)||4&o||(i=(i=e-(p-h)*t)>=a&&i<=l),i||!(8&r)||8&o||(i=(i=p-(e-a)/t)>=s&&i<=h),i||!(16&r)||16&o||(i=(i=e-(p-s)*t)>=a&&i<=l)}return i}))}function Qo(t,e,i,o,n){var r=i[0];if(!($o(t,e,r,o,n)||Xo(t,e,r,o,n[0],n[1])||Xo(t,e,r,o,n[0],n[3])||Xo(t,e,r,o,n[2],n[1])||Xo(t,e,r,o,n[2],n[3])))return!1;if(1===i.length)return!0;for(e=1,r=i.length;e<r;++e)if(Vo(t,i[e-1],i[e],o,n))return!1;return!0}function tn(t,e,i,o){for(var n=0,r=t[i-o],s=t[i-o+1];e<i;e+=o){var a=t[e],h=t[e+1];n+=(a-r)*(h+s),r=a,s=h}return 0<n}function en(t,e,i,o){var n,r=0;o=void 0!==o&&o;var s=0;for(n=e.length;s<n;++s){var a=e[s];if(r=tn(t,r,a,i),0===s){if(o&&r||!o&&!r)return!1}else if(o&&!r||!o&&r)return!1;r=a}return!0}function on(t,e,i,o,n){var r;n=void 0!==n&&n;var s=0;for(r=i.length;s<r;++s){var a=i[s],h=tn(t,e,a,o);if(0===s?n&&h||!n&&!h:n&&!h||!n&&h){h=t;for(var l=a,p=o;e<l-p;){var u;for(u=0;u<p;++u){var d=h[e+u];h[e+u]=h[l-p+u],h[l-p+u]=d}e+=p,l-=p}}e=a}return e}function nn(t,e,i,o){var n,r=0,s=0;for(n=e.length;s<n;++s)r=on(t,r,e[s],i,o);return r}function rn(t,e){So.call(this),this.c=[],this.o=-1,this.D=null,this.T=this.C=this.B=-1,this.j=null,this.na(t,e)}function sn(t,e,i,o){var n,r=o||32;for(o=[],n=0;n<r;++n)Vt(o,t.offset(e,i,2*Math.PI*n/r));return o.push(o[0],o[1]),(t=new rn(null)).ba("XY",o,[o.length]),t}function an(t){var e=t[0],i=t[1],o=t[2];return e=[e,i,e,t=t[3],o,t,o,i,e,i],(i=new rn(null)).ba("XY",e,[e.length]),i}function hn(t,e,i){var o=e||32,n=t.pa(),r=new rn(null,e=t.ja);o=n*(o+1),n=Array(o);for(var s=0;s<o;s++)n[s]=0;return r.ba(e,n,[n.length]),ln(r,t.xa(),t.Bd(),i),r}function ln(t,e,i,o){var n=t.da(),r=t.ja,s=t.pa(),a=t.pb(),h=n.length/s-1;o=o||0;for(var l,p,u=0;u<=h;++u)p=u*s,l=o+2*w(u,h)*Math.PI/h,n[p]=e[0]+i*Math.cos(l),n[p+1]=e[1]+i*Math.sin(l);t.ba(r,n,a)}function pn(t){Te.call(this),t=it({},t),this.f=[0,0],this.c=[],this.Ff=this.Ff.bind(this),this.v=Dt(t.projection),un(this,t)}function un(t,e){var i={};i.center=void 0!==e.center?e.center:null;var o=void 0!==e.minZoom?e.minZoom:0,n=void 0!==e.maxZoom?e.maxZoom:28,r=void 0!==e.zoomFactor?e.zoomFactor:2;if(void 0!==e.resolutions){var s=e.resolutions,a=s[o],h=void 0!==s[n]?s[n]:s[s.length-1];n=function(t){return function(e,i,o){if(void 0!==e)return(e=y((e=Yt(t,e,o))+i,0,t.length-1))!=(i=Math.floor(e))&&i<t.length-1?t[i]/Math.pow(t[i]/t[i+1],e-i):t[i]}}(s)}else{var l=(s=((h=(a=Dt(e.projection)).G())?Math.max(J(h),V(h)):360*pt.degrees/a.Bc())/256/Math.pow(2,0))/Math.pow(2,28);void 0!==(a=e.maxResolution)?o=0:a=s/Math.pow(r,o),void 0===(h=e.minResolution)&&(h=void 0!==e.maxZoom?void 0!==e.maxResolution?a/Math.pow(r,n):s/Math.pow(r,n):l),n=o+Math.floor(Math.log(a/h)/Math.log(r)),h=a/Math.pow(r,n-o),n=function(t,e,i){return function(o,n,r){if(void 0!==o)return o=Math.max(Math.floor(Math.log(e/o)/Math.log(t)+(-r/2+.5))+n,0),void 0!==i&&(o=Math.min(o,i)),e/Math.pow(t,o)}}(r,a,n-o)}t.a=a,t.i=h,t.D=r,t.j=e.resolutions,t.s=o,o=void 0===e.enableRotation||e.enableRotation?void 0===(o=e.constrainRotation)||!0===o?function(){var t=b(5);return function(e,i){if(void 0!==e)return Math.abs(e+i)<=t?0:e+i}}():!1===o?Wi:"number"==typeof o?function(t){var e=2*Math.PI/o;return function(t,i){if(void 0!==t)return Math.floor((t+i)/e+.5)*e}}():Wi:Ui,t.l={center:void 0!==e.extent?function(t){return function(e){if(e)return[y(e[0],t[0],t[2]),y(e[1],t[1],t[3])]}}(e.extent):Hi,resolution:n,rotation:o},void 0!==e.resolution?i.resolution=e.resolution:void 0!==e.zoom&&(i.resolution=t.constrainResolution(t.a,e.zoom-t.s),t.j&&(i.resolution=y(Number(t.Pa()||i.resolution),t.i,t.a))),i.rotation=void 0!==e.rotation?e.rotation:0,t.H(i),t.C=e}function dn(t,e){var i=it({},t.C);return void 0!==i.resolution?i.resolution=t.Pa():i.zoom=t.lg(),i.center=t.xa(),i.rotation=t.Sa(),it({},i,e)}function cn(t,e,i){var o=t.xa();if(void 0!==o){var n=[o[0]-i[0],o[1]-i[1]];$i(n,e-t.Sa()),Vi(n,i)}return n}function fn(t,e,i){var o,n=t.xa();return t=t.Pa(),void 0!==n&&void 0!==t&&(o=[i[0]-e*(i[0]-n[0])/t,i[1]-e*(i[1]-n[1])/t]),o}function yn(t){var e=[100,100];return t='.ol-viewport[data-view="'+h(t)+'"]',(t=document.querySelector(t))&&(t=getComputedStyle(t),e[0]=parseInt(t.width,10),e[1]=parseInt(t.height,10)),e}function gn(t){return!!t.xa()&&void 0!==t.Pa()}function mn(t,e,i){t.f[e]+=i,t.u()}function vn(t,e){var i=document.createElement("CANVAS");return t&&(i.width=t),e&&(i.height=e),i.getContext("2d")}function bn(t,e){var i=e.parentNode;i&&i.replaceChild(t,e)}function wn(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function xn(t){Te.call(this);var e=it({},t);e.opacity=void 0!==t.opacity?t.opacity:1,e.visible=void 0===t.visible||t.visible,e.zIndex=void 0!==t.zIndex?t.zIndex:0,e.maxResolution=void 0!==t.maxResolution?t.maxResolution:1/0,e.minResolution=void 0!==t.minResolution?t.minResolution:0,this.H(e),this.a={layer:this,Te:!0}}function _n(t){return t.a.opacity=y(t.nc(),0,1),t.a.Vj=t.hg(),t.a.visible=t.Jb(),t.a.extent=t.G(),t.a.zIndex=t.Ba(),t.a.maxResolution=t.lc(),t.a.minResolution=Math.max(t.mc(),0),t.a}function Mn(t){var e=t||{};delete(t=it({},e)).layers,e=e.layers,xn.call(this,t),this.i=[],this.c={},ge(this,Ae(kn),this.im,this),e?Array.isArray(e)?e=new Ie(e.slice(),{unique:!0}):f(e instanceof Ie,43):e=new Ie(void 0,{unique:!0}),this.Qi(e)}s(ko,Te),(t=ko.prototype).Ib=function(t,e){return this.Nb(t[0],t[1],e=e||[NaN,NaN],1/0),e},t.Bb=function(t){return this.Zc(t[0],t[1])},t.Zc=lo,t.G=function(t){this.v!=this.g&&(this.s=this.Ae(this.s),this.v=this.g);var e=this.s;return t?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3]):t=e,t},t.Sb=function(t){return this.Wd(t*t)},t.mb=function(t,e){var i=this.O,o="tile-pixels"==(t=Nt(t)).a?function(o,n,r){var s=t.G(),a=t.oe;return s=V(a)/V(s),_o(i,a[0],a[3],s,-s,0,0,0),po(o,0,o.length,r,i,n),jt(t,e)(o,n,r)}:jt(t,e);return this.Rc(o),this},s(So,ko),(t=So.prototype).Zc=lo,t.Ae=function(t){return L(this.A,0,this.A.length,this.a,t)},t.fc=function(){return this.A.slice(0,this.a)},t.da=function(){return this.A},t.gc=function(){return this.A.slice(this.A.length-this.a)},t.ic=function(){return this.ja},t.Wd=function(t){if(this.l!=this.g&&(ot(this.i),this.f=0,this.l=this.g),0>t||0!==this.f&&t<=this.f)return this;var e=t.toString();if(this.i.hasOwnProperty(e))return this.i[e];var i=this.xd(t);return i.da().length<this.A.length?this.i[e]=i:(this.f=t,this)},t.xd=function(){return this},t.pa=function(){return this.a},t.Rc=function(t){this.A&&(t(this.A,this.A,this.a),this.u())},t.rotate=function(t,e){var i=this.da();if(i){var o=i.length,n=this.pa(),r=i||[],s=Math.cos(t);t=Math.sin(t);var a=e[0];e=e[1];for(var h=0,l=0;l<o;l+=n){var p=i[l]-a,u=i[l+1]-e;for(r[h++]=a+p*s-u*t,r[h++]=e+p*t+u*s,p=l+2;p<l+n;++p)r[h++]=i[p]}i&&r.length!=h&&(r.length=h),this.u()}},t.scale=function(t,e,i){var o=e;void 0===o&&(o=t);var n=i;if(n||(n=G(this.G())),i=this.da()){e=i.length;var r=this.pa(),s=i||[],a=n[0];n=n[1];for(var h=0,l=0;l<e;l+=r){var p=i[l]-a,u=i[l+1]-n;for(s[h++]=a+t*p,s[h++]=n+o*u,p=l+2;p<l+r;++p)s[h++]=i[p]}i&&s.length!=h&&(s.length=h),this.u()}},t.translate=function(t,e){var i=this.da();i&&(uo(i,0,i.length,this.pa(),t,e,i),this.u())},s(Wo,So),(t=Wo.prototype).clone=function(){var t=new Wo(null);return Go(t,this.ja,this.A.slice()),t},t.Nb=function(t,e,i,o){return o<T(this.G(),t,e)?o:(this.c!=this.g&&(this.j=Math.sqrt(Do(this.A,0,this.A.length,this.a,0)),this.c=this.g),Ro(this.A,0,this.A.length,this.a,this.j,!0,t,e,i,o))},t.Vn=function(){return Po(this.A,0,this.A.length,this.a)},t.W=function(){return zo(this.A,0,this.A.length,this.a)},t.xd=function(t){var e=[];return e.length=Ho(this.A,0,this.A.length,this.a,t,e,0),Go(t=new Wo(null),"XY",e),t},t.S=function(){return"LinearRing"},t.$a=function(){},t.na=function(t,e){t?(To(this,e,t,1),this.A||(this.A=[]),this.A.length=jo(this.A,0,t,this.a),this.u()):Go(this,"XY",null)},s(Yo,So),(t=Yo.prototype).clone=function(){var t=new Yo(null);return t.ba(this.ja,this.A.slice()),t},t.Nb=function(t,e,i,o){var n=this.A;if((t=v(t,e,n[0],n[1]))<o){for(o=this.a,e=0;e<o;++e)i[e]=n[e];return i.length=o,t}return o},t.W=function(){return this.A?this.A.slice():[]},t.Ae=function(t){return N(this.A,t)},t.S=function(){return"Point"},t.$a=function(t){return O(t,this.A[0],this.A[1])},t.na=function(t,e){t?(To(this,e,t,0),this.A||(this.A=[]),this.A.length=Lo(this.A,t),this.u()):this.ba("XY",null)},t.ba=function(t,e){Eo(this,t,e),this.u()},s(rn,So),(t=rn.prototype).Hk=function(t){this.A?Vt(this.A,t.da()):this.A=t.da().slice(),this.c.push(this.A.length),this.u()},t.clone=function(){var t=new rn(null);return t.ba(this.ja,this.A.slice(),this.c.slice()),t},t.Nb=function(t,e,i,o){return o<T(this.G(),t,e)?o:(this.C!=this.g&&(this.B=Math.sqrt(Io(this.A,0,this.c,this.a,0)),this.C=this.g),No(this.A,0,this.c,this.a,this.B,!0,t,e,i,o))},t.Zc=function(t,e){return Zo(this.Xb(),0,this.c,this.a,t,e)},t.Yn=function(){return Ao(this.Xb(),0,this.c,this.a)},t.W=function(t){if(void 0!==t){var e=this.Xb().slice();on(e,0,this.c,this.a,t)}else e=this.A;return Bo(e,0,this.c,this.a)},t.pb=function(){return this.c},t.Td=function(){if(this.o!=this.g){var t=G(this.G());this.D=Ko(this.Xb(),0,this.c,this.a,t,0),this.o=this.g}return this.D},t.tl=function(){return new Yo(this.Td(),"XYM")},t.zl=function(){return this.c.length},t.Wh=function(t){if(0>t||this.c.length<=t)return null;var e=new Wo(null);return Go(e,this.ja,this.A.slice(0===t?0:this.c[t-1],this.c[t])),e},t.Ud=function(){var t,e=this.ja,i=this.A,o=this.c,n=[],r=0,s=0;for(t=o.length;s<t;++s){var a=o[s],h=new Wo(null);Go(h,e,i.slice(r,a)),n.push(h),r=a}return n},t.Xb=function(){if(this.T!=this.g){var t=this.A;en(t,this.c,this.a)?this.j=t:(this.j=t.slice(),this.j.length=on(this.j,0,this.c,this.a)),this.T=this.g}return this.j},t.xd=function(t){var e=[],i=[];return e.length=Uo(this.A,0,this.c,this.a,Math.sqrt(t),e,0,i),(t=new rn(null)).ba("XY",e,i),t},t.S=function(){return"Polygon"},t.$a=function(t){return Qo(this.Xb(),0,this.c,this.a,t)},t.na=function(t,e){t?(To(this,e,t,2),this.A||(this.A=[]),t=Fo(this.A,0,t,this.a,this.c),this.A.length=0===t.length?0:t[t.length-1],this.u()):this.ba("XY",null,this.c)},t.ba=function(t,e,i){Eo(this,t,e),this.c=i,this.u()},s(pn,Te),(t=pn.prototype).animate=function(t){var e=arguments.length;if(1<e&&"function"==typeof arguments[e-1]){var i=arguments[e-1];--e}if(gn(this)){for(var o=Date.now(),n=this.xa().slice(),r=this.Pa(),s=this.Sa(),a=[],h=0;h<e;++h){var l=arguments[h],p={start:o,complete:!1,anchor:l.anchor,duration:void 0!==l.duration?l.duration:1e3,easing:l.easing||so};l.center&&(p.ie=n,p.me=l.center,n=p.me),void 0!==l.zoom?(p.ke=r,p.kd=this.constrainResolution(this.a,l.zoom-this.s,0),r=p.kd):l.resolution&&(p.ke=r,p.kd=l.resolution,r=p.kd),void 0!==l.rotation&&(p.Df=s,p.ne=s+(w(l.rotation-s+Math.PI,2*Math.PI)-Math.PI),s=p.ne),p.callback=i,p.ie&&p.me&&!Ji(p.ie,p.me)||p.ke!==p.kd||p.Df!==p.ne?o+=p.duration:p.complete=!0,a.push(p)}this.c.push(a),mn(this,0,1),this.Ff()}else(e=arguments[e-1]).center&&this.ub(e.center),void 0!==e.zoom&&this.Tj(e.zoom),void 0!==e.rotation&&this.ce(e.rotation),i&&i(!0)},t.Ac=function(){return 0<this.f[0]},t.Vh=function(){return 0<this.f[1]},t.rd=function(){mn(this,0,-this.f[0]);for(var t=0,e=this.c.length;t<e;++t){var i=this.c[t];i[0].callback&&i[0].callback(!1)}this.c.length=0},t.Ff=function(){if(void 0!==this.o&&(cancelAnimationFrame(this.o),this.o=void 0),this.Ac()){for(var t=Date.now(),e=!1,i=this.c.length-1;0<=i;--i){for(var o=this.c[i],n=!0,r=0,s=o.length;r<s;++r){var a=o[r];if(!a.complete){if(e=t-a.start,1<=(e=0<a.duration?e/a.duration:1)?(a.complete=!0,e=1):n=!1,e=a.easing(e),a.ie){var h=a.ie[0],l=a.ie[1];this.set("center",[h+e*(a.me[0]-h),l+e*(a.me[1]-l)])}if(a.ke&&a.kd&&(h=1===e?a.kd:a.ke+e*(a.kd-a.ke),a.anchor&&this.set("center",fn(this,h,a.anchor)),this.set("resolution",h)),void 0!==a.Df&&void 0!==a.ne&&(e=1===e?w(a.ne+Math.PI,2*Math.PI)-Math.PI:a.Df+e*(a.ne-a.Df),a.anchor&&this.set("center",cn(this,e,a.anchor)),this.set("rotation",e)),e=!0,!a.complete)break}}n&&(this.c[i]=null,mn(this,0,-1),(o=o[0].callback)&&o(!0))}this.c=this.c.filter(Boolean),e&&void 0===this.o&&(this.o=requestAnimationFrame(this.Ff))}},t.Sc=function(t){return this.l.center(t)},t.constrainResolution=function(t,e,i){return this.l.resolution(t,e||0,i||0)},t.constrainRotation=function(t,e){return this.l.rotation(t,e||0)},t.xa=function(){return this.get("center")},t.qd=function(t){t=t||yn(this);var e=this.xa();f(e,1);var i=this.Pa();f(void 0!==i,2);var o=this.Sa();return f(void 0!==o,3),Y(e,i,o,t)},t.sn=function(){return this.a},t.vn=function(){return this.i},t.tn=function(){return this.Me(this.i)},t.Cq=function(t){un(this,dn(this,{maxZoom:t}))},t.wn=function(){return this.Me(this.a)},t.Dq=function(t){un(this,dn(this,{minZoom:t}))},t.xn=function(){return this.v},t.Pa=function(){return this.get("resolution")},t.yn=function(){return this.j},t.Je=function(t,e){return e=e||yn(this),Math.max(J(t)/e[0],V(t)/e[1])},t.Sa=function(){return this.get("rotation")},t.getState=function(){var t=this.xa(),e=this.v,i=this.Pa(),o=this.Sa();return{center:t.slice(),projection:void 0!==e?e:null,resolution:i,rotation:o,zoom:this.lg()}},t.lg=function(){var t,e=this.Pa();return void 0!==e&&(t=this.Me(e)),t},t.Me=function(t){var e,i=this.s||0;if(this.j){i=e=Yt(this.j,t,1);var o=this.j[e];e=e==this.j.length-1?2:o/this.j[e+1]}else o=this.a,e=this.D;return i+Math.log(o/t)/Math.log(e)},t.$h=function(t){return this.constrainResolution(this.a,t-this.s,0)},t.Uf=function(t,e){var i=(e=e||{}).size;if(i||(i=yn(this)),t instanceof So)if("Circle"===t.S()){var o=an(t=t.G());o.rotate(this.Sa(),G(t))}else o=t;else f(Array.isArray(t),24),f(!Q(t),25),o=an(t);var n,r=void 0!==e.padding?e.padding:[0,0,0,0],s=void 0===e.constrainResolution||e.constrainResolution,h=void 0!==e.nearest&&e.nearest;n=void 0!==e.minResolution?e.minResolution:void 0!==e.maxZoom?this.constrainResolution(this.a,e.maxZoom-this.s,0):0;var l=o.da(),p=this.Sa();t=Math.cos(-p),p=Math.sin(-p);var u=1/0,d=1/0,c=-1/0,y=-1/0;o=o.pa();for(var g=0,m=l.length;g<m;g+=o){var v=l[g]*t-l[g+1]*p,b=l[g]*p+l[g+1]*t;u=Math.min(u,v),d=Math.min(d,b),c=Math.max(c,v),y=Math.max(y,b)}i=this.Je([u,d,c,y],[i[0]-r[1]-r[3],i[1]-r[0]-r[2]]),i=isNaN(i)?n:Math.max(i,n),s&&(n=this.constrainResolution(i,0,0),!h&&n<i&&(n=this.constrainResolution(n,-1,0)),i=n),t=[(n=(u+c)/2+(r[1]-r[3])/2*i)*t-(r=(d+y)/2+(r[0]-r[2])/2*i)*(p=-p),r*t+n*p],r=e.callback?e.callback:a,void 0!==e.duration?this.animate({resolution:i,center:t,duration:e.duration,easing:e.easing},r):(this.gd(i),this.ub(t),setTimeout(r.bind(void 0,!0),0))},t.Nk=function(t,e,i){var o=this.Sa(),n=Math.cos(-o);o=Math.sin(-o);var r=t[0]*n-t[1]*o;t=t[1]*n+t[0]*o;var s=this.Pa();this.ub([(r+=(e[0]/2-i[0])*s)*n-(t+=(i[1]-e[1]/2)*s)*(o=-o),t*n+r*o])},t.rotate=function(t,e){void 0!==e&&(e=cn(this,t,e),this.ub(e)),this.ce(t)},t.ub=function(t){this.set("center",t),this.Ac()&&this.rd()},t.gd=function(t){this.set("resolution",t),this.Ac()&&this.rd()},t.ce=function(t){this.set("rotation",t),this.Ac()&&this.rd()},t.Tj=function(t){this.gd(this.$h(t))},s(xn,Te),(t=xn.prototype).S=function(){return this.type},t.G=function(){return this.get("extent")},t.lc=function(){return this.get("maxResolution")},t.mc=function(){return this.get("minResolution")},t.nc=function(){return this.get("opacity")},t.Jb=function(){return this.get("visible")},t.Ba=function(){return this.get("zIndex")},t.Fc=function(t){this.set("extent",t)},t.Mc=function(t){this.set("maxResolution",t)},t.Nc=function(t){this.set("minResolution",t)},t.Gc=function(t){this.set("opacity",t)},t.Hc=function(t){this.set("visible",t)},t.$b=function(t){this.set("zIndex",t)},s(Mn,xn),(t=Mn.prototype).Pe=function(){this.u()},t.im=function(){this.i.forEach(be),this.i.length=0;var t,e=this.Cd();for(var i in this.i.push(ge(e,"add",this.hm,this),ge(e,"remove",this.jm,this)),this.c)this.c[i].forEach(be);for(ot(this.c),i=0,t=(e=e.a).length;i<t;i++){var o=e[i];this.c[h(o).toString()]=[ge(o,"propertychange",this.Pe,this),ge(o,"change",this.Pe,this)]}this.u()},t.hm=function(t){var e=h(t=t.element).toString();this.c[e]=[ge(t,"propertychange",this.Pe,this),ge(t,"change",this.Pe,this)],this.u()},t.jm=function(t){t=h(t.element).toString(),this.c[t].forEach(be),delete this.c[t],this.u()},t.Cd=function(){return this.get(kn)},t.Qi=function(t){this.set(kn,t)},t.dg=function(t){var e,i=void 0!==t?t:[],o=i.length;for(this.Cd().forEach(function(t){t.dg(i)}),t=_n(this),e=i.length;o<e;o++){var n=i[o];n.opacity*=t.opacity,n.visible=n.visible&&t.visible,n.maxResolution=Math.min(n.maxResolution,t.maxResolution),n.minResolution=Math.max(n.minResolution,t.minResolution),void 0!==t.extent&&(n.extent=void 0!==n.extent?X(n.extent,t.extent):t.extent)}return i},t.hg=function(){return"ready"};var kn="layers",Sn=[],Cn=[];function En(t,e){switch(t){case"MAP_RENDERER":(t=Sn).push(e);break;case"LAYER_RENDERER":(t=Cn).push(e);break;default:throw Error("Unsupported plugin type: "+t)}}function Tn(t){for(var e=0,i=t.length;e<i;++e)En("LAYER_RENDERER",t[e])}function Pn(t){Te.call(this);var e=function(t){var e=null;void 0!==t.keyboardEventTarget&&(e="string"==typeof t.keyboardEventTarget?document.getElementById(t.keyboardEventTarget):t.keyboardEventTarget);var i,o={},n={};if(void 0===t.logo||"boolean"==typeof t.logo&&t.logo)n["data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAAHGAAABxgEXwfpGAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAhNQTFRF////AP//AICAgP//AFVVQECA////K1VVSbbbYL/fJ05idsTYJFtbbcjbJllmZszWWMTOIFhoHlNiZszTa9DdUcHNHlNlV8XRIVdiasrUHlZjIVZjaMnVH1RlIFRkH1RkH1ZlasvYasvXVsPQH1VkacnVa8vWIVZjIFRjVMPQa8rXIVVkXsXRsNveIFVkIFZlIVVj3eDeh6GmbMvXH1ZkIFRka8rWbMvXIFVkIFVjIFVkbMvWH1VjbMvWIFVlbcvWIFVla8vVIFVkbMvWbMvVH1VkbMvWIFVlbcvWIFVkbcvVbMvWjNPbIFVkU8LPwMzNIFVkbczWIFVkbsvWbMvXIFVkRnB8bcvW2+TkW8XRIFVkIlZlJVloJlpoKlxrLl9tMmJwOWd0Omh1RXF8TneCT3iDUHiDU8LPVMLPVcLPVcPQVsPPVsPQV8PQWMTQWsTQW8TQXMXSXsXRX4SNX8bSYMfTYcfTYsfTY8jUZcfSZsnUaIqTacrVasrVa8jTa8rWbI2VbMvWbcvWdJObdcvUdszUd8vVeJaee87Yfc3WgJyjhqGnitDYjaarldPZnrK2oNbborW5o9bbo9fbpLa6q9ndrL3ArtndscDDutzfu8fJwN7gwt7gxc/QyuHhy+HizeHi0NfX0+Pj19zb1+Tj2uXk29/e3uLg3+Lh3+bl4uXj4ufl4+fl5Ofl5ufl5ujm5+jmySDnBAAAAFp0Uk5TAAECAgMEBAYHCA0NDg4UGRogIiMmKSssLzU7PkJJT1JTVFliY2hrdHZ3foSFhYeJjY2QkpugqbG1tre5w8zQ09XY3uXn6+zx8vT09vf4+Pj5+fr6/P39/f3+gz7SsAAAAVVJREFUOMtjYKA7EBDnwCPLrObS1BRiLoJLnte6CQy8FLHLCzs2QUG4FjZ5GbcmBDDjxJBXDWxCBrb8aM4zbkIDzpLYnAcE9VXlJSWlZRU13koIeW57mGx5XjoMZEUqwxWYQaQbSzLSkYGfKFSe0QMsX5WbjgY0YS4MBplemI4BdGBW+DQ11eZiymfqQuXZIjqwyadPNoSZ4L+0FVM6e+oGI6g8a9iKNT3o8kVzNkzRg5lgl7p4wyRUL9Yt2jAxVh6mQCogae6GmflI8p0r13VFWTHBQ0rWPW7ahgWVcPm+9cuLoyy4kCJDzCm6d8PSFoh0zvQNC5OjDJhQopPPJqph1doJBUD5tnkbZiUEqaCnB3bTqLTFG1bPn71kw4b+GFdpLElKIzRxxgYgWNYc5SCENVHKeUaltHdXx0dZ8uBI1hJ2UUDgq82CM2MwKeibqAvSO7MCABq0wXEPiqWEAAAAAElFTkSuQmCC"]="https://openlayers.org/";else{var r=t.logo;"string"==typeof r?n[r]="":r instanceof HTMLElement?n[h(r).toString()]=r:r&&(f("string"==typeof r.href,44),f("string"==typeof r.src,45),n[r.src]=r.href)}r=t.layers instanceof Mn?t.layers:new Mn({layers:t.layers}),o.layergroup=r,o.target=t.target,o.view=void 0!==t.view?t.view:new pn,void 0!==t.renderer?(Array.isArray(t.renderer)?i=t.renderer:"string"==typeof t.renderer?i=[t.renderer]:f(!1,46),0<=i.indexOf("dom")&&(i=i.concat(An))):i=An,r=0;var s=i.length;t:for(;r<s;++r)for(var a=i[r],l=0,p=Sn.length;l<p;++l){var u=Sn[l];if(u.handles(a)){var d=u;break t}}if(!d)throw Error("Unable to create a map renderer for types: "+i.join(", "));if(void 0!==t.controls)if(Array.isArray(t.controls))var c=new Ie(t.controls.slice());else f(t.controls instanceof Ie,47),c=t.controls;if(void 0!==t.interactions)if(Array.isArray(t.interactions))var y=new Ie(t.interactions.slice());else f(t.interactions instanceof Ie,48),y=t.interactions;return void 0!==t.overlays?Array.isArray(t.overlays)?t=new Ie(t.overlays.slice()):(f(t.overlays instanceof Ie,49),t=t.overlays):t=new Ie,{controls:c,interactions:y,keyboardEventTarget:e,logos:n,overlays:t,Im:d,values:o}}(t);this.ob=void 0!==t.loadTilesWhileAnimating&&t.loadTilesWhileAnimating,this.sc=void 0!==t.loadTilesWhileInteracting&&t.loadTilesWhileInteracting,this.ra=void 0!==t.pixelRatio?t.pixelRatio:Ze,this.Md=e.logos,this.V=(function(){this.j=void 0,this.pq.call(this)}).bind(this),this.La=[1,0,0,1,0,0],this.If=[1,0,0,1,0,0],this.bb=0,this.D=this.C=this.B=this.f=this.c=null,this.a=document.createElement("DIV"),this.a.className="ol-viewport"+(ti?" ol-touch":""),this.a.style.position="relative",this.a.style.overflow="hidden",this.a.style.width="100%",this.a.style.height="100%",this.a.style.msTouchAction="none",this.a.style.touchAction="none",this.o=document.createElement("DIV"),this.o.className="ol-overlaycontainer",this.a.appendChild(this.o),this.v=document.createElement("DIV"),this.v.className="ol-overlaycontainer-stopevent";for(var i="click dblclick mousedown touchstart MSPointerDown pointerdown mousewheel wheel".split(" "),o=0,n=i.length;o<n;++o)ge(this.v,i[o],ke);for(var r in this.a.appendChild(this.v),this.ca=new Di(this,t.moveTolerance),si)ge(this.ca,si[r],this.bi,this);this.$=e.keyboardEventTarget,this.s=null,ge(this.a,"wheel",this.yd,this),ge(this.a,"mousewheel",this.yd,this),this.controls=e.controls||new Ie,this.interactions=e.interactions||new Ie,this.l=e.overlays,this.Fg={},this.pc=e.Im.create(this.a,this),this.T=null,this.Ea=[],this.ua=new Bi(this.Tl.bind(this),this.zm.bind(this)),this.O={},ge(this,Ae("layergroup"),this.fm,this),ge(this,Ae("view"),this.Am,this),ge(this,Ae("size"),this.um,this),ge(this,Ae("target"),this.ym,this),this.H(e.values),this.controls.forEach(function(t){t.setMap(this)},this),ge(this.controls,"add",function(t){t.element.setMap(this)},this),ge(this.controls,"remove",function(t){t.element.setMap(null)},this),this.interactions.forEach(function(t){t.setMap(this)},this),ge(this.interactions,"add",function(t){t.element.setMap(this)},this),ge(this.interactions,"remove",function(t){t.element.setMap(null)},this),this.l.forEach(this.zh,this),ge(this.l,"add",function(t){this.zh(t.element)},this),ge(this.l,"remove",function(t){var e=t.element.id;void 0!==e&&delete this.Fg[e.toString()],t.element.setMap(null)},this)}s(Pn,Te),(t=Pn.prototype).Mf=function(t){this.controls.push(t)},t.Nf=function(t){this.interactions.push(t)},t.xe=function(t){this.hc().Cd().push(t)},t.ye=function(t){this.l.push(t)},t.zh=function(t){var e=t.id;void 0!==e&&(this.Fg[e.toString()]=t),t.setMap(this)},t.ia=function(){_e(this.ca),ve(this.a,"wheel",this.yd,this),ve(this.a,"mousewheel",this.yd,this),void 0!==this.i&&(window.removeEventListener("resize",this.i,!1),this.i=void 0),this.j&&(cancelAnimationFrame(this.j),this.j=void 0),this.Ad(null),Te.prototype.ia.call(this)},t.Tc=function(t,e,i){if(this.c)return t=this.Ra(t),this.pc.wa(t,this.c,void 0!==(i=void 0!==i?i:{}).hitTolerance?i.hitTolerance*this.c.pixelRatio:0,e,null,void 0!==i.layerFilter?i.layerFilter:ho,null)},t.Xf=function(t,e){var i=null;return this.Tc(t,function(t){i||(i=[]),i.push(t)},e),i},t.tg=function(t,e,i,o,n){if(this.c)return this.pc.Ti(t,this.c,e,void 0!==i?i:null,void 0!==o?o:ho,void 0!==n?n:null)},t.ng=function(t,e){return!!this.c&&(t=this.Ra(t),this.pc.Ui(t,this.c,void 0!==(e=void 0!==e?e:{}).hitTolerance?e.hitTolerance*this.c.pixelRatio:0,void 0!==e.layerFilter?e.layerFilter:ho,null))},t.Sd=function(t){return this.Ra(this.ud(t))},t.ud=function(t){var e=this.a.getBoundingClientRect();return[(t=t.changedTouches?t.changedTouches[0]:t).clientX-e.left,t.clientY-e.top]},t.Xd=function(){return this.get("target")},t.Cc=function(){var t=this.Xd();return void 0!==t?"string"==typeof t?document.getElementById(t):t:null},t.Ra=function(t){var e=this.c;return e?vo(e.pixelToCoordinateTransform,t.slice()):null},t.Wf=function(){return this.controls},t.gg=function(){return this.l},t.fg=function(t){return void 0!==(t=this.Fg[t.toString()])?t:null},t.bg=function(){return this.interactions},t.hc=function(){return this.get("layergroup")},t.Xe=function(){return this.hc().Cd()},t.Ia=function(t){var e=this.c;return e?vo(e.coordinateToPixelTransform,t.slice(0,2)):null},t.Ie=function(){return this.pc},t.Cb=function(){return this.get("size")},t.aa=function(){return this.get("view")},t.kg=function(){return this.a},t.Tl=function(t,e,i,o){var n=this.c;return n&&e in n.wantedTiles&&n.wantedTiles[e][t.lb()]?(t=i[0]-n.focus[0],i=i[1]-n.focus[1],65536*Math.log(o)+Math.sqrt(t*t+i*i)/o):1/0},t.yd=function(t,e){t=new ze(e||t.type,this,t),this.bi(t)},t.bi=function(t){if(this.c){this.T=t.coordinate,t.frameState=this.c;var e,i=this.interactions.a;if(!1!==this.b(t))for(e=i.length-1;0<=e;e--){var o=i[e];if(o.c()&&!o.handleEvent(t))break}}},t.sm=function(){var t=this.c,e=this.ua;if(0!==e.b.length){var i=16,o=i;if(t){var n=t.viewHints;n[0]&&(i=this.ob?8:0,o=2),n[1]&&(i=this.sc?8:0,o=2)}e.j<i&&(zi(e),qi(e,i,o))}for(i=0,o=(e=this.Ea).length;i<o;++i)e[i](this,t);e.length=0},t.um=function(){this.render()},t.ym=function(){var t;if(this.Xd()&&(t=this.Cc()),this.s){for(var e=0,i=this.s.length;e<i;++e)be(this.s[e]);this.s=null}if(t){t.appendChild(this.a);var o=this.$?this.$:t;this.s=[ge(o,"keydown",this.yd,this),ge(o,"keypress",this.yd,this)],this.i||(this.i=this.Oc.bind(this),window.addEventListener("resize",this.i,!1))}else{for(o in(t=this.pc).c)_e(Ks(t,o));wn(this.a),void 0!==this.i&&(window.removeEventListener("resize",this.i,!1),this.i=void 0)}this.Oc()},t.zm=function(){this.render()},t.ei=function(){this.render()},t.Am=function(){this.B&&(be(this.B),this.B=null),this.C&&(be(this.C),this.C=null);var t=this.aa();t&&(this.a.setAttribute("data-view",h(t)),this.B=ge(t,"propertychange",this.ei,this),this.C=ge(t,"change",this.ei,this)),this.render()},t.fm=function(){this.D&&(this.D.forEach(be),this.D=null);var t=this.hc();t&&(this.D=[ge(t,"propertychange",this.render,this),ge(t,"change",this.render,this)]),this.render()},t.dh=function(){this.j&&cancelAnimationFrame(this.j),this.V()},t.render=function(){void 0===this.j&&(this.j=requestAnimationFrame(this.V))},t.Xg=function(t){return this.controls.remove(t)},t.Zg=function(t){return this.interactions.remove(t)},t.$g=function(t){return this.hc().Cd().remove(t)},t.ah=function(t){return this.l.remove(t)},t.pq=function(){var t,e=Date.now(),i=this.Cb(),o=this.aa(),n=[1/0,1/0,-1/0,-1/0],r=this.c,s=null;if(void 0!==i&&0<i[0]&&0<i[1]&&o&&gn(o)){void 0!==(s=this.c?this.c.viewHints:void 0)?(s[0]=o.f[0],s[1]=o.f[1]):s=o.f.slice();var a=this.hc().dg(),l={},p=0;for(t=a.length;p<t;++p)l[h(a[p].layer)]=a[p];t=(p=o.getState()).resolution/this.ra,(o=p.center)[0]=Math.round(o[0]/t)*t,o[1]=Math.round(o[1]/t)*t,s={animate:!1,coordinateToPixelTransform:this.La,extent:n,focus:this.T?this.T:o,index:this.bb++,layerStates:l,layerStatesArray:a,logos:it({},this.Md),pixelRatio:this.ra,pixelToCoordinateTransform:this.If,postRenderFunctions:[],size:i,skippedFeatureUids:this.O,tileQueue:this.ua,time:e,usedTiles:{},viewState:p,viewHints:s,wantedTiles:{}}}s&&(s.extent=Y(p.center,p.resolution,p.rotation,s.size,n)),this.c=s,this.pc.bh(s),s&&(s.animate&&this.render(),Array.prototype.push.apply(this.Ea,s.postRenderFunctions),!r||this.f&&(Q(this.f)||j(s.extent,this.f))||(this.b(new Fe("movestart",this,r)),this.f=R(this.f)),!this.f||s.viewHints[0]||s.viewHints[1]||j(s.extent,this.f)||(this.b(new Fe("moveend",this,s)),E(s.extent,this.f))),this.b(new Fe("postrender",this,s)),setTimeout(this.sm.bind(this),0)},t.zf=function(t){this.set("layergroup",t)},t.be=function(t){this.set("size",t)},t.Ad=function(t){this.set("target",t)},t.jh=function(t){this.set("view",t)},t.Uj=function(t){t=h(t).toString(),this.O[t]=!0,this.render()},t.Oc=function(){var t=this.Cc();if(t){var e=getComputedStyle(t);this.be([t.offsetWidth-parseFloat(e.borderLeftWidth)-parseFloat(e.paddingLeft)-parseFloat(e.paddingRight)-parseFloat(e.borderRightWidth),t.offsetHeight-parseFloat(e.borderTopWidth)-parseFloat(e.paddingTop)-parseFloat(e.paddingBottom)-parseFloat(e.borderBottomWidth)])}else this.be(void 0)},t.Zj=function(t){t=h(t).toString(),delete this.O[t],this.render()};var An=["canvas","webgl"];function On(t){Te.call(this),this.element=t.element?t.element:null,this.a=this.T=null,this.s=[],this.render=t.render?t.render:a,t.target&&this.i(t.target)}s(On,Te),On.prototype.ia=function(){wn(this.element),Te.prototype.ia.call(this)},On.prototype.f=function(){return this.a},On.prototype.setMap=function(t){this.a&&wn(this.element);for(var e=0,i=this.s.length;e<i;++e)be(this.s[e]);this.s.length=0,(this.a=t)&&((this.T?this.T:t.v).appendChild(this.element),this.render!==a&&this.s.push(ge(t,"postrender",this.render,this)),t.render())},On.prototype.i=function(t){this.T="string"==typeof t?document.getElementById(t):t};var Dn,In,Rn=(In={},function(t){if(Dn||(Dn=document.createElement("div").style),!(t in In)){Dn.font=t;var e=Dn.fontFamily;if(Dn.font="",!e)return null;In[t]=e.split(/,\s?/)}return In[t]});function Nn(t){var e=it({},t);delete e.source,xn.call(this,e),this.o=this.v=this.s=null,t.map&&this.setMap(t.map),ge(this,Ae("source"),this.wm,this),this.hd(t.source?t.source:null)}function Ln(t,e){return t.visible&&e>=t.minResolution&&e<t.maxResolution}function jn(t){t=t||{},this.v=document.createElement("UL"),this.l=document.createElement("LI"),this.v.appendChild(this.l),this.l.style.display="none",this.c=void 0===t.collapsed||t.collapsed,this.j=void 0===t.collapsible||t.collapsible,this.j||(this.c=!1);var e=void 0!==t.className?t.className:"ol-attribution",i=void 0!==t.tipLabel?t.tipLabel:"Attributions",o=void 0!==t.collapseLabel?t.collapseLabel:"\xbb";"string"==typeof o?(this.o=document.createElement("span"),this.o.textContent=o):this.o=o,"string"==typeof(o=void 0!==t.label?t.label:"i")?(this.D=document.createElement("span"),this.D.textContent=o):this.D=o;var n=this.j&&!this.c?this.o:this.D;(o=document.createElement("button")).setAttribute("type","button"),o.title=i,o.appendChild(n),ge(o,"click",this.Bn,this),(i=document.createElement("div")).className=e+" ol-unselectable ol-control"+(this.c&&this.j?" ol-collapsed":"")+(this.j?"":" ol-uncollapsible"),i.appendChild(this.v),i.appendChild(o),On.call(this,{element:i,render:t.render?t.render:Fn,target:t.target}),this.B=[],this.C=!0,this.O={}}function Fn(t){if(t=t.frameState){for(var e={},i=[],o=t.layerStatesArray,n=t.viewState.resolution,r=0,s=o.length;r<s;++r){var a=o[r];if(Ln(a,n)&&(a=a.layer.ha())&&(a=a.C)&&(a=a(t)))if(Array.isArray(a))for(var h=0,l=a.length;h<l;++h)a[h]in e||(i.push(a[h]),e[a[h]]=!0);else a in e||(i.push(a),e[a]=!0)}if(!Zt(i,this.B)){for(;this.v.lastChild!==this.l;)this.v.removeChild(this.v.lastChild);for(e=0,o=i.length;e<o;++e)(n=document.createElement("LI")).innerHTML=i[e],this.v.appendChild(n);for(u in 0===i.length&&0<this.B.length?this.element.classList.add("ol-logo-only"):0===this.B.length&&0<i.length&&this.element.classList.remove("ol-logo-only"),e=0<i.length||!rt(t.logos),this.C!=e&&(this.element.style.display=e?"":"none",this.C=e),this.B=i,t=t.logos,i=this.O)u in t||(wn(i[u]),delete i[u]);for(var p in t)if((o=t[p])instanceof HTMLElement&&(this.l.appendChild(o),i[p]=o),!(p in i)){var u=new Image;u.src=p,""===o?e=u:((e=document.createElement("a")).href=o,e.appendChild(u)),this.l.appendChild(e),i[p]=e}this.l.style.display=rt(t)?"none":""}}else this.C&&(this.element.style.display="none",this.C=!1)}function zn(t){t.element.classList.toggle("ol-collapsed"),t.c?bn(t.o,t.D):bn(t.D,t.o),t.c=!t.c}function Bn(t){var e=void 0!==(t=t||{}).className?t.className:"ol-rotate",i=void 0!==t.label?t.label:"\u21e7";this.c=null,"string"==typeof i?(this.c=document.createElement("span"),this.c.className="ol-compass",this.c.textContent=i):(this.c=i,this.c.classList.add("ol-compass"));var o=t.tipLabel?t.tipLabel:"Reset rotation";(i=document.createElement("button")).className=e+"-reset",i.setAttribute("type","button"),i.title=o,i.appendChild(this.c),ge(i,"click",Bn.prototype.D,this),(o=document.createElement("div")).className=e+" ol-unselectable ol-control",o.appendChild(i),e=t.render?t.render:qn,this.l=t.resetNorth?t.resetNorth:void 0,On.call(this,{element:o,render:e,target:t.target}),this.v=void 0!==t.duration?t.duration:250,this.j=void 0===t.autoHide||t.autoHide,this.o=void 0,this.j&&this.element.classList.add("ol-hidden")}function qn(t){if(t=t.frameState){if((t=t.viewState.rotation)!=this.o){var e="rotate("+t+"rad)";if(this.j){var i=this.element.classList.contains("ol-hidden");i||0!==t?i&&0!==t&&this.element.classList.remove("ol-hidden"):this.element.classList.add("ol-hidden")}this.c.style.msTransform=e,this.c.style.webkitTransform=e,this.c.style.transform=e}this.o=t}}function Hn(t){var e=void 0!==(t=t||{}).className?t.className:"ol-zoom",i=void 0!==t.delta?t.delta:1,o=void 0!==t.zoomInLabel?t.zoomInLabel:"+",n=void 0!==t.zoomOutLabel?t.zoomOutLabel:"\u2212",r=void 0!==t.zoomInTipLabel?t.zoomInTipLabel:"Zoom in",s=void 0!==t.zoomOutTipLabel?t.zoomOutTipLabel:"Zoom out",a=document.createElement("button");a.className=e+"-in",a.setAttribute("type","button"),a.title=r,a.appendChild("string"==typeof o?document.createTextNode(o):o),ge(a,"click",Hn.prototype.j.bind(this,i)),(o=document.createElement("button")).className=e+"-out",o.setAttribute("type","button"),o.title=s,o.appendChild("string"==typeof n?document.createTextNode(n):n),ge(o,"click",Hn.prototype.j.bind(this,-i)),(i=document.createElement("div")).className=e+" ol-unselectable ol-control",i.appendChild(a),i.appendChild(o),On.call(this,{element:i,target:t.target}),this.c=void 0!==t.duration?t.duration:250}function Un(t){t=t||{};var e=new Ie;return(void 0===t.zoom||t.zoom)&&e.push(new Hn(t.zoomOptions)),(void 0===t.rotate||t.rotate)&&e.push(new Bn(t.rotateOptions)),(void 0===t.attribution||t.attribution)&&e.push(new jn(t.attributionOptions)),e}function Wn(t,e,i){this.i=t,this.c=e,this.f=i,this.b=[],this.a=this.g=0}function Gn(t){t.b.length=0,t.g=0,t.a=0}function Yn(t){Te.call(this),this.v=null,this.Ha(!0),this.handleEvent=t.handleEvent}function Vn(t,e,i,o){if(void 0!==e){var n=t.Sa(),r=t.xa();void 0!==n&&r&&0<o?t.animate({rotation:e,anchor:i,duration:o,easing:ro}):t.rotate(e,i)}}function Xn(t,e,i,o){var n=t.Pa();if(void 0!==(e=t.constrainResolution(n,e,0))){var r=t.j;e=y(e,t.i||r[r.length-1],t.a||r[0])}i&&void 0!==e&&e!==n&&(r=t.xa(),i=fn(t,e,i),i=t.Sc(i),i=[(e*r[0]-n*i[0])/(e-n),(e*r[1]-n*i[1])/(e-n)]),Zn(t,e,i,o)}function Zn(t,e,i,o){if(e){var n=t.Pa(),r=t.xa();void 0!==n&&r&&e!==n&&o?t.animate({resolution:e,anchor:i,duration:o,easing:ro}):(i&&(i=fn(t,e,i),t.ub(i)),t.gd(e))}}function Kn(t){this.a=(t=t||{}).delta?t.delta:1,Yn.call(this,{handleEvent:Jn}),this.f=void 0!==t.duration?t.duration:250}function Jn(t){var e=!1,i=t.originalEvent;return"dblclick"==t.type&&(e=t.coordinate,i=i.shiftKey?-this.a:this.a,Xn(t.map.aa(),i,e,this.f),t.preventDefault(),e=!0),!e}function $n(t){return(t=t.originalEvent).altKey&&!(t.metaKey||t.ctrlKey)&&!t.shiftKey}function Qn(t){return(t=t.originalEvent).altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey}function tr(t){return 0==(t=t.originalEvent).button&&!(Ve&&Xe&&t.ctrlKey)}function er(t){return"pointermove"==t.type}function ir(t){return"singleclick"==t.type}function or(t){return!(t=t.originalEvent).altKey&&!(t.metaKey||t.ctrlKey)&&!t.shiftKey}function nr(t){return!(t=t.originalEvent).altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey}function rr(t){return"INPUT"!==(t=t.originalEvent.target.tagName)&&"SELECT"!==t&&"TEXTAREA"!==t}function sr(t){return f(t.b,56),"mouse"==t.b.pointerType}function ar(t){return(t=t.b).isPrimary&&0===t.button}function hr(t){Yn.call(this,{handleEvent:(t=t||{}).handleEvent?t.handleEvent:pr}),this.ck=t.handleDownEvent?t.handleDownEvent:lo,this.Ek=t.handleDragEvent?t.handleDragEvent:a,this.Kk=t.handleMoveEvent?t.handleMoveEvent:a,this.Lk=t.handleUpEvent?t.handleUpEvent:lo,this.D=!1,this.$={},this.l=[]}function lr(t){for(var e=t.length,i=0,o=0,n=0;n<e;n++)i+=t[n].clientX,o+=t[n].clientY;return[i/e,o/e]}function pr(t){if(!(t instanceof ai))return!0;var e=!1,i=t.type;if("pointerdown"===i||"pointerdrag"===i||"pointerup"===i){var o=(i=t.b).pointerId.toString();"pointerup"==t.type?delete this.$[o]:"pointerdown"==t.type?this.$[o]=i:o in this.$&&(this.$[o]=i),this.l=nt(this.$)}return this.D?"pointerdrag"==t.type?this.Ek(t):"pointerup"==t.type&&(this.D=this.Lk(t)&&0<this.l.length):"pointerdown"==t.type?(this.D=t=this.ck(t),e=this.jd(t)):"pointermove"==t.type&&this.Kk(t),!e}function ur(t){hr.call(this,{handleDownEvent:fr,handleDragEvent:dr,handleUpEvent:cr}),this.a=(t=t||{}).kinetic,this.f=null,this.o=t.condition?t.condition:or,this.j=!1}function dr(t){var e=this.l,i=lr(e);if(e.length==this.s){if(this.a&&this.a.b.push(i[0],i[1],Date.now()),this.f){var o=this.f[0]-i[0],n=i[1]-this.f[1],r=(t=t.map.aa()).getState();Qi(o=[o,n],r.resolution),$i(o,r.rotation),Vi(o,r.center),o=t.Sc(o),t.ub(o)}}else this.a&&Gn(this.a);this.f=i,this.s=e.length}function cr(t){var e=t.map;if(t=e.aa(),0===this.l.length){if(!this.j&&this.a&&function(t){if(6>t.b.length)return!1;var e=Date.now()-t.f,i=t.b.length-3;if(t.b[i+2]<e)return!1;for(var o=i-3;0<o&&t.b[o+2]>e;)o-=3;if((e=t.b[i+2]-t.b[o+2])<1e3/60)return!1;var n=t.b[i]-t.b[o];return i=t.b[i+1]-t.b[o+1],t.g=Math.atan2(i,n),t.a=Math.sqrt(n*n+i*i)/e,t.a>t.c}(this.a)){var i=this.a;i=(i.c-i.a)/i.i;var o=this.a.g,n=t.xa();n=e.Ia(n),e=e.Ra([n[0]-i*Math.cos(o),n[1]-i*Math.sin(o)]),t.animate({center:t.Sc(e),duration:500,easing:ro})}return mn(t,1,-1),!1}return this.a&&Gn(this.a),this.f=null,!0}function fr(t){if(0<this.l.length&&this.o(t)){var e=t.map.aa();return this.f=null,this.D||mn(e,1,1),e.Ac()&&e.ub(t.frameState.viewState.center),this.a&&Gn(this.a),this.j=1<this.l.length,!0}return!1}function yr(t){t=t||{},hr.call(this,{handleDownEvent:vr,handleDragEvent:gr,handleUpEvent:mr}),this.f=t.condition?t.condition:Qn,this.a=void 0,this.j=void 0!==t.duration?t.duration:250}function gr(t){if(sr(t)){var e=t.map,i=e.aa();i.l.rotation!==Ui&&(e=e.Cb(),t=t.pixel,t=Math.atan2(e[1]/2-t[1],t[0]-e[0]/2),void 0!==this.a&&(e=t-this.a,Vn(i,i.Sa()-e)),this.a=t)}}function mr(t){if(!sr(t))return!0;mn(t=t.map.aa(),1,-1);var e=t.Sa(),i=this.j;return Vn(t,e=t.constrainRotation(e,0),void 0,i),!1}function vr(t){return!!(sr(t)&&tr(t)&&this.f(t))&&(mn(t.map.aa(),1,1),this.a=void 0,!0)}function br(t){this.Uc=null,this.a=document.createElement("div"),this.a.style.position="absolute",this.a.className="ol-box "+t,this.g=this.c=this.b=null}function wr(t){var e=t.c,i=t.g;(t=t.a.style).left=Math.min(e[0],i[0])+"px",t.top=Math.min(e[1],i[1])+"px",t.width=Math.abs(i[0]-e[0])+"px",t.height=Math.abs(i[1]-e[1])+"px"}function xr(t){var e=t.c,i=t.g;(e=[e,[e[0],i[1]],i,[i[0],e[1]]].map(t.b.Ra,t.b))[4]=e[0].slice(),t.Uc?t.Uc.na([e]):t.Uc=new rn([e])}function _r(t){hr.call(this,{handleDownEvent:Cr,handleDragEvent:kr,handleUpEvent:Sr}),this.a=new br((t=t||{}).className||"ol-dragbox"),this.o=void 0!==t.minArea?t.minArea:64,this.f=null,this.C=t.condition?t.condition:ho,this.s=t.boxEndCondition?t.boxEndCondition:Mr}function Mr(t,e,i){return(t=i[0]-e[0])*t+(e=i[1]-e[1])*e>=this.o}function kr(t){if(sr(t)){var e=this.a,i=t.pixel;e.c=this.f,e.g=i,xr(e),wr(e),this.b(new Ar(Tr,t.coordinate,t))}}function Sr(t){return!sr(t)||(this.a.setMap(null),this.s(t,this.f,t.pixel)&&(this.j(t),this.b(new Ar(Pr,t.coordinate,t))),!1)}function Cr(t){if(sr(t)&&tr(t)&&this.C(t)){this.f=t.pixel,this.a.setMap(t.map);var e=this.a,i=this.f;return e.c=this.f,e.g=i,xr(e),wr(e),this.b(new Ar(Er,t.coordinate,t)),!0}return!1}s(Nn,xn),(t=Nn.prototype).dg=function(t){return(t=t||[]).push(_n(this)),t},t.ha=function(){return this.get("source")||null},t.hg=function(){var t=this.ha();return t?t.getState():"undefined"},t.yo=function(){this.u()},t.wm=function(){this.o&&(be(this.o),this.o=null);var t=this.ha();t&&(this.o=ge(t,"change",this.yo,this)),this.u()},t.setMap=function(t){this.s&&(be(this.s),this.s=null),t||this.u(),this.v&&(be(this.v),this.v=null),t&&(this.s=ge(t,"precompose",function(t){var e=_n(this);e.Te=!1,e.zIndex=1/0,t.frameState.layerStatesArray.push(e),t.frameState.layerStates[h(this)]=e},this),this.v=ge(this,"change",t.render,t),this.u())},t.hd=function(t){this.set("source",t)},s(jn,On),(t=jn.prototype).Bn=function(t){t.preventDefault(),zn(this)},t.An=function(){return this.j},t.Dn=function(t){this.j!==t&&(this.j=t,this.element.classList.toggle("ol-uncollapsible"),!t&&this.c&&zn(this))},t.Cn=function(t){this.j&&this.c!==t&&zn(this)},t.zn=function(){return this.c},s(Bn,On),Bn.prototype.D=function(t){t.preventDefault(),void 0!==this.l?this.l():(t=this.a.aa())&&void 0!==t.Sa()&&(0<this.v?t.animate({rotation:0,duration:this.v,easing:ro}):t.ce(0))},s(Hn,On),Hn.prototype.j=function(t,e){if(e.preventDefault(),e=this.a.aa()){var i=e.Pa();i&&(t=e.constrainResolution(i,t),0<this.c?(e.Ac()&&e.rd(),e.animate({resolution:t,duration:this.c,easing:ro})):e.gd(t))}},s(Yn,Te),Yn.prototype.c=function(){return this.get("active")},Yn.prototype.i=function(){return this.v},Yn.prototype.Ha=function(t){this.set("active",t)},Yn.prototype.setMap=function(t){this.v=t},s(Kn,Yn),s(hr,Yn),hr.prototype.jd=function(t){return t},s(ur,hr),ur.prototype.jd=lo,s(yr,hr),yr.prototype.jd=lo,s(br,xe),br.prototype.ia=function(){this.setMap(null)},br.prototype.setMap=function(t){if(this.b){this.b.o.removeChild(this.a);var e=this.a.style;e.left=e.top=e.width=e.height="inherit"}(this.b=t)&&this.b.o.appendChild(this.a)},br.prototype.U=function(){return this.Uc},s(_r,hr),_r.prototype.U=function(){return this.a.U()},_r.prototype.j=a;var Er="boxstart",Tr="boxdrag",Pr="boxend";function Ar(t,e,i){Me.call(this,t),this.coordinate=e,this.mapBrowserEvent=i}function Or(t){var e=(t=t||{}).condition?t.condition:nr;this.B=void 0!==t.duration?t.duration:200,this.T=void 0!==t.out&&t.out,_r.call(this,{condition:e,className:t.className||"ol-dragzoom"})}function Dr(t){Yn.call(this,{handleEvent:Ir}),t=t||{},this.a=function(t){return or(t)&&rr(t)},this.f=void 0!==t.condition?t.condition:this.a,this.j=void 0!==t.duration?t.duration:100,this.l=void 0!==t.pixelDelta?t.pixelDelta:128}function Ir(t){var e=!1;if("keydown"==t.type){var i=t.originalEvent.keyCode;if(this.f(t)&&(40==i||37==i||39==i||38==i)){var o=(e=t.map.aa()).Pa()*this.l,n=0,r=0;40==i?r=-o:37==i?n=-o:39==i?n=o:r=o,$i(o=[n,r],e.Sa()),i=this.j,(n=e.xa())&&(o=e.Sc([n[0]+o[0],n[1]+o[1]]),i?e.animate({duration:i,easing:ao,center:o}):e.ub(o)),t.preventDefault(),e=!0}}return!e}function Rr(t){Yn.call(this,{handleEvent:Nr}),this.f=(t=t||{}).condition?t.condition:rr,this.a=t.delta?t.delta:1,this.j=void 0!==t.duration?t.duration:100}function Nr(t){var e=!1;if("keydown"==t.type||"keypress"==t.type){var i=t.originalEvent.charCode;!this.f(t)||43!=i&&45!=i||(e=43==i?this.a:-this.a,Xn(i=t.map.aa(),e,void 0,this.j),t.preventDefault(),e=!0)}return!e}function Lr(t){Yn.call(this,{handleEvent:jr}),t=t||{},this.j=0,this.D=void 0!==t.duration?t.duration:250,this.$=void 0!==t.timeout?t.timeout:80,this.C=void 0===t.useAnchor||t.useAnchor,this.O=t.constrainResolution||!1,this.a=null,this.s=this.l=this.o=this.f=void 0}function jr(t){var e=t.type;if("wheel"!==e&&"mousewheel"!==e)return!0;t.preventDefault(),e=t.map;var i=t.originalEvent;if(this.C&&(this.a=t.coordinate),"wheel"==t.type){var o=i.deltaY;Ge&&i.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(o/=Ze),i.deltaMode===WheelEvent.DOM_DELTA_LINE&&(o*=40)}else"mousewheel"==t.type&&(o=-i.wheelDeltaY,Ye&&(o/=3));if(0===o)return!1;if(t=Date.now(),void 0===this.f&&(this.f=t),(!this.l||400<t-this.f)&&(this.l=4>Math.abs(o)?Fr:zr),this.l===Fr){e=e.aa(),this.s?clearTimeout(this.s):mn(e,1,1),this.s=setTimeout(this.B.bind(this),400),i=e.Pa()*Math.pow(2,o/300);var n=e.i,r=e.a,s=0;if(i<n?(i=Math.max(i,n/1.5),s=1):i>r&&(i=Math.min(i,1.5*r),s=-1),this.a){var a=fn(e,i,this.a);e.ub(e.Sc(a))}return e.gd(i),0===s&&this.O&&e.animate({resolution:e.constrainResolution(i,0<o?-1:1),easing:ro,anchor:this.a,duration:this.D}),0<s?e.animate({resolution:n,easing:ro,anchor:this.a,duration:500}):0>s&&e.animate({resolution:r,easing:ro,anchor:this.a,duration:500}),this.f=t,!1}return this.j+=o,o=Math.max(this.$-(t-this.f),0),clearTimeout(this.o),this.o=setTimeout(this.T.bind(this,e),o),!1}s(Ar,Me),s(Or,_r),Or.prototype.j=function(){var t=this.v,e=t.aa(),i=t.Cb(),o=this.U().G();if(this.T){var n,r=e.qd(i);o=[t.Ia(U(o)),t.Ia(K(o))],t=R(void 0);var s=0;for(n=o.length;s<n;++s)z(t,o[s]);tt(r,1/(o=e.Je(t,i))),o=r}i=e.constrainResolution(e.Je(o,i)),r=G(o),r=e.Sc(r),e.animate({resolution:i,center:r,duration:this.B,easing:ro})},s(Dr,Yn),s(Rr,Yn),s(Lr,Yn),Lr.prototype.B=function(){this.s=void 0,mn(this.v.aa(),1,-1)},Lr.prototype.T=function(t){(t=t.aa()).Ac()&&t.rd(),Xn(t,-y(this.j,-1,1),this.a,this.D),this.l=void 0,this.j=0,this.a=null,this.o=this.f=void 0},Lr.prototype.V=function(t){this.C=t,t||(this.a=null)};var Fr="trackpad",zr="wheel";function Br(t){hr.call(this,{handleDownEvent:Ur,handleDragEvent:qr,handleUpEvent:Hr}),t=t||{},this.f=null,this.j=void 0,this.a=!1,this.s=0,this.C=void 0!==t.threshold?t.threshold:.3,this.o=void 0!==t.duration?t.duration:250}function qr(t){var e=0,i=this.l[0],o=this.l[1];if(i=Math.atan2(o.clientY-i.clientY,o.clientX-i.clientX),void 0!==this.j&&(this.s+=e=i-this.j,!this.a&&Math.abs(this.s)>this.C&&(this.a=!0)),this.j=i,(i=(t=t.map).aa()).l.rotation!==Ui){o=t.a.getBoundingClientRect();var n=lr(this.l);n[0]-=o.left,n[1]-=o.top,this.f=t.Ra(n),this.a&&(o=i.Sa(),t.render(),Vn(i,o+e,this.f))}}function Hr(t){if(2>this.l.length){if(mn(t=t.map.aa(),1,-1),this.a){var e=t.Sa(),i=this.f,o=this.o;Vn(t,e=t.constrainRotation(e,0),i,o)}return!1}return!0}function Ur(t){return 2<=this.l.length&&(t=t.map,this.f=null,this.j=void 0,this.a=!1,this.s=0,this.D||mn(t.aa(),1,1),!0)}function Wr(t){hr.call(this,{handleDownEvent:Vr,handleDragEvent:Gr,handleUpEvent:Yr}),this.s=(t=t||{}).constrainResolution||!1,this.f=null,this.o=void 0!==t.duration?t.duration:400,this.a=void 0,this.j=1}function Gr(t){var e=1,i=this.l[0],o=this.l[1],n=i.clientX-o.clientX;i=i.clientY-o.clientY,n=Math.sqrt(n*n+i*i),void 0!==this.a&&(e=this.a/n),this.a=n,o=(n=(t=t.map).aa()).Pa();var r=n.a,s=n.i;(i=o*e)>r?(e=r/o,i=r):i<s&&(e=s/o,i=s),1!=e&&(this.j=e),e=t.a.getBoundingClientRect(),(o=lr(this.l))[0]-=e.left,o[1]-=e.top,this.f=t.Ra(o),t.render(),Zn(n,i,this.f)}function Yr(t){if(2>this.l.length){mn(t=t.map.aa(),1,-1);var e=t.Pa();if(this.s||e<t.i||e>t.a){var i=this.f,o=this.o;Zn(t,e=t.constrainResolution(e,0,this.j-1),i,o)}return!1}return!0}function Vr(t){return 2<=this.l.length&&(t=t.map,this.f=null,this.a=void 0,this.j=1,this.D||mn(t.aa(),1,1),!0)}function Xr(t){t=t||{};var e=new Ie,i=new Wn(-.005,.05,100);return(void 0===t.altShiftDragRotate||t.altShiftDragRotate)&&e.push(new yr),(void 0===t.doubleClickZoom||t.doubleClickZoom)&&e.push(new Kn({delta:t.zoomDelta,duration:t.zoomDuration})),(void 0===t.dragPan||t.dragPan)&&e.push(new ur({kinetic:i})),(void 0===t.pinchRotate||t.pinchRotate)&&e.push(new Br),(void 0===t.pinchZoom||t.pinchZoom)&&e.push(new Wr({constrainResolution:t.constrainResolution,duration:t.zoomDuration})),(void 0===t.keyboard||t.keyboard)&&(e.push(new Dr),e.push(new Rr({delta:t.zoomDelta,duration:t.zoomDuration}))),(void 0===t.mouseWheelZoom||t.mouseWheelZoom)&&e.push(new Lr({constrainResolution:t.constrainResolution,duration:t.zoomDuration})),(void 0===t.shiftDragZoom||t.shiftDragZoom)&&e.push(new Or({duration:t.zoomDuration})),e}function Zr(t,e,i,o){Se.call(this),this.extent=t,this.a=i,this.resolution=e,this.state=o}function Kr(t,e,i,o,n){this.c=void 0!==n?n:null,Zr.call(this,t,e,i,void 0!==n?0:2),this.g=o}function Jr(t,e,i,o,n){Me.call(this,t),this.vectorContext=e,this.frameState=i,this.context=o,this.glContext=n}function $r(t){Se.call(this),this.highWaterMark=void 0!==t?t:2048,this.i=0,this.a={},this.c=this.g=null}function Qr(t){return t.i>t.highWaterMark}s(Br,hr),Br.prototype.jd=lo,s(Wr,hr),Wr.prototype.jd=lo,s(Zr,Se),Zr.prototype.u=function(){this.b("change")},Zr.prototype.G=function(){return this.extent},Zr.prototype.getState=function(){return this.state},s(Kr,Zr),Kr.prototype.i=function(t){this.state=t?3:2,this.u()},Kr.prototype.load=function(){0==this.state&&(this.state=1,this.u(),this.c(this.i.bind(this)))},Kr.prototype.Y=function(){return this.g},s(Jr,Me),s($r,Se),(t=$r.prototype).clear=function(){this.i=0,this.a={},this.c=this.g=null,this.b("clear")},t.forEach=function(t,e){for(var i=this.g;i;)t.call(e,i.Pc,i.jc,this),i=i.kb},t.get=function(t){return f(void 0!==(t=this.a[t]),15),t===this.c?t.Pc:(t===this.g?(this.g=this.g.kb,this.g.Pb=null):(t.kb.Pb=t.Pb,t.Pb.kb=t.kb),t.kb=null,t.Pb=this.c,this.c=this.c.kb=t,t.Pc)},t.remove=function(t){var e=this.a[t];return f(void 0!==e,15),e===this.c?(this.c=e.Pb)&&(this.c.kb=null):e===this.g?(this.g=e.kb)&&(this.g.Pb=null):(e.kb.Pb=e.Pb,e.Pb.kb=e.kb),delete this.a[t],--this.i,e.Pc},t.pop=function(){var t=this.g;return delete this.a[t.jc],t.kb&&(t.kb.Pb=null),this.g=t.kb,this.g||(this.c=null),--this.i,t.Pc},t.replace=function(t,e){this.get(t),this.a[t].Pc=e},t.set=function(t,e){f(!(t in this.a),16),e={jc:t,kb:null,Pb:this.c,Pc:e},this.c?this.c.kb=e:this.g=e,this.c=e,this.a[t]=e,++this.i};var ts=[0,0,0,1],es=[],is=[0,0,0,1],os=[0,0,0,0],ns=new $r,rs={},ss=null,as={},hs=function(){function t(t){var e=ls();e.font="32px monospace",o=e.measureText("wmytzilWMYTZIL@#/&?$%10").width;var i=!0;return"monospace"!=t&&(e.font="32px "+t+",monospace",i=e.measureText("wmytzilWMYTZIL@#/&?$%10").width!=o),i}function e(){var e,o=!0;for(e in n)60>n[e]&&(t(e)?(n[e]=60,ot(as),ss=null,r.clear()):(++n[e],o=!1));o&&(window.clearInterval(i),i=void 0)}var i,o,n=rs,r=ns;return function(o){if(o=Rn(o))for(var r=0,s=o.length;r<s;++r){var a=o[r];a in n||(n[a]=60,t(a)||(n[a]=0,void 0===i&&(i=window.setInterval(e,32))))}}}();function ls(){var t=ss;return t||(t=ss=vn(1,1)),t}var ps=function(){var t;return function(e){var i=as[e];return void 0==i&&(t||((t=document.createElement("span")).textContent="M",t.style.margin=t.style.padding="0 !important",t.style.position="absolute !important",t.style.left="-99999px !important"),t.style.font=e,document.body.appendChild(t),i=as[e]=t.offsetHeight,document.body.removeChild(t)),i}}();function us(t,e){var i=ls();return t!=i.font&&(i.font=t),i.measureText(e).width}function ds(t,e,i,o){0!==e&&(t.translate(i,o),t.rotate(e),t.translate(-i,-o))}var cs=[1,0,0,1,0,0];function fs(t,e,i,o,n,r,s,a,h,l,p){if(1!=i){var u=t.globalAlpha;t.globalAlpha=u*i}e&&t.setTransform.apply(t,e),t.drawImage(o,n,r,s,a,h,l,s*p,a*p),u&&(t.globalAlpha=u),e&&t.setTransform.apply(t,cs)}var ys=/^#(?:[0-9a-f]{3,4}){1,2}$/i,gs=/^([a-z]*)$/i;function ms(t){return Array.isArray(t)?t:bs(t)}function vs(t){if("string"!=typeof t){var e=t[0];e!=(0|e)&&(e=e+.5|0);var i=t[1];i!=(0|i)&&(i=i+.5|0);var o=t[2];o!=(0|o)&&(o=o+.5|0),t="rgba("+e+","+i+","+o+","+(void 0===t[3]?1:t[3])+")"}return t}var bs=function(){var t={},e=0;return function(i){if(t.hasOwnProperty(i))var o=t[i];else{if(1024<=e)for(var n in o=0,t)0==(3&o++)&&(delete t[n],--e);if(gs.exec(o=i)&&((n=document.createElement("div")).style.color=o,document.body.appendChild(n),o=getComputedStyle(n).color,document.body.removeChild(n)),ys.exec(o)){var r=4>=(n=o.length-1)?1:2,s=4===n||8===n;n=parseInt(o.substr(1+0*r,r),16);var a=parseInt(o.substr(1+1*r,r),16),h=parseInt(o.substr(1+2*r,r),16);o=s?parseInt(o.substr(1+3*r,r),16):255,1==r&&(n=(n<<4)+n,a=(a<<4)+a,h=(h<<4)+h,s&&(o=(o<<4)+o)),r=[n,a,h,o/255]}else 0==o.indexOf("rgba(")?r=ws(o=o.slice(5,-1).split(",").map(Number)):0==o.indexOf("rgb(")?((o=o.slice(4,-1).split(",").map(Number)).push(1),r=ws(o)):f(!1,14);t[i]=o=r,++e}return o}}();function ws(t){var e=[];return e[0]=y(t[0]+.5|0,0,255),e[1]=y(t[1]+.5|0,0,255),e[2]=y(t[2]+.5|0,0,255),e[3]=y(t[3],0,1),e}function xs(t){return"string"==typeof t||t instanceof CanvasPattern||t instanceof CanvasGradient?t:vs(t)}function _s(){}function Ms(t,e,i,o,n){this.g=t,this.f=e,this.c=i,this.N=o,this.ob=n,this.M=this.b=this.a=this.Wa=this.O=this.T=null,this.$=this.V=this.v=this.B=this.C=this.D=0,this.ca=!1,this.i=this.ab=0,this.ra=!1,this.oa=0,this.ta="",this.Ub=this.ua=0,this.Ea=!1,this.s=this.La=0,this.qa=this.l=this.j=null,this.o=[],this.bb=[1,0,0,1,0,0]}function ks(t,e,i){if(t.M){e=po(e,0,i,2,t.N,t.o);var o=t.bb,n=(i=t.g).globalAlpha;1!=t.v&&(i.globalAlpha=n*t.v);var r,s=t.ab;t.ca&&(s+=t.ob);var a=0;for(r=e.length;a<r;a+=2){var h=e[a]-t.D,l=e[a+1]-t.C;if(t.ra&&(h=Math.round(h),l=Math.round(l)),0!==s||1!=t.i){var p=h+t.D,u=l+t.C;_o(o,p,u,t.i,t.i,s,-p,-u),i.setTransform.apply(i,o)}i.drawImage(t.M,t.V,t.$,t.oa,t.B,h,l,t.oa,t.B)}0===s&&1==t.i||i.setTransform(1,0,0,1,0,0),1!=t.v&&(i.globalAlpha=n)}}function Ss(t,e,i,o){var n=0;if(t.qa&&""!==t.ta){t.j&&Ts(t,t.j),t.l&&Ps(t,t.l);var r=t.qa,s=t.g,a=t.Wa,h=r.textAlign?r.textAlign:"center";for(a?(a.font!=r.font&&(a.font=s.font=r.font),a.textAlign!=h&&(a.textAlign=h),a.textBaseline!=r.textBaseline&&(a.textBaseline=s.textBaseline=r.textBaseline)):(s.font=r.font,s.textAlign=h,s.textBaseline=r.textBaseline,t.Wa={font:r.font,textAlign:h,textBaseline:r.textBaseline}),e=po(e,n,i,o,t.N,t.o),r=t.g,s=t.La,t.Ea&&(s+=t.ob);n<i;n+=o){if(a=e[n]+t.ua,h=e[n+1]+t.Ub,0!==s||1!=t.s){var l=_o(t.bb,a,h,t.s,t.s,s,-a,-h);r.setTransform.apply(r,l)}t.l&&r.strokeText(t.ta,a,h),t.j&&r.fillText(t.ta,a,h)}0===s&&1==t.s||r.setTransform(1,0,0,1,0,0)}}function Cs(t,e,i,o,n,r){var s=t.g;for(t=po(e,i,o,n,t.N,t.o),s.moveTo(t[0],t[1]),e=t.length,r&&(e-=2),i=2;i<e;i+=2)s.lineTo(t[i],t[i+1]);return r&&s.closePath(),o}function Es(t,e,i,o,n){var r,s=0;for(r=o.length;s<r;++s)i=Cs(t,e,i,o[s],n,!0);return i}function Ts(t,e){var i=t.g,o=t.T;o?o.fillStyle!=e.fillStyle&&(o.fillStyle=i.fillStyle=e.fillStyle):(i.fillStyle=e.fillStyle,t.T={fillStyle:e.fillStyle})}function Ps(t,e){var i=t.g,o=t.O;o?(o.lineCap!=e.lineCap&&(o.lineCap=i.lineCap=e.lineCap),Ke&&(Zt(o.lineDash,e.lineDash)||i.setLineDash(o.lineDash=e.lineDash),o.lineDashOffset!=e.lineDashOffset&&(o.lineDashOffset=i.lineDashOffset=e.lineDashOffset)),o.lineJoin!=e.lineJoin&&(o.lineJoin=i.lineJoin=e.lineJoin),o.lineWidth!=e.lineWidth&&(o.lineWidth=i.lineWidth=e.lineWidth),o.miterLimit!=e.miterLimit&&(o.miterLimit=i.miterLimit=e.miterLimit),o.strokeStyle!=e.strokeStyle&&(o.strokeStyle=i.strokeStyle=e.strokeStyle)):(i.lineCap=e.lineCap,Ke&&(i.setLineDash(e.lineDash),i.lineDashOffset=e.lineDashOffset),i.lineJoin=e.lineJoin,i.lineWidth=e.lineWidth,i.miterLimit=e.miterLimit,i.strokeStyle=e.strokeStyle,t.O={lineCap:e.lineCap,lineDash:e.lineDash,lineDashOffset:e.lineDashOffset,lineJoin:e.lineJoin,lineWidth:e.lineWidth,miterLimit:e.miterLimit,strokeStyle:e.strokeStyle})}function As(t){Ee.call(this),this.a=t}function Os(t,e){var i=e.getState();return 2!=i&&3!=i&&ge(e,"change",t.$,t),0==i&&(e.load(),i=e.getState()),2==i}function Ds(t){var e=t.a;e.Jb()&&"ready"==e.hg()&&t.u()}function Is(t,e){e.cj()&&t.postRenderFunctions.push((function(t,e,i){(e=h(t).toString())in i.usedTiles&&t.sd(i.viewState.projection,i.usedTiles[e])}).bind(null,e))}function Rs(t,e){void 0!==(e=e.T)&&("string"==typeof e?t.logos[e]="":e&&(f("string"==typeof e.href,44),f("string"==typeof e.src,45),t.logos[e.src]=e.href))}function Ns(t,e,i,o){e=h(e).toString(),i=i.toString(),e in t?i in t[e]?(o.fa<(t=t[e][i]).fa&&(t.fa=o.fa),o.la>t.la&&(t.la=o.la),o.ea<t.ea&&(t.ea=o.ea),o.ka>t.ka&&(t.ka=o.ka)):t[e][i]=o:(t[e]={},t[e][i]=o)}function Ls(t,e,i,o,n,r,s,a,l,p){var u=h(e).toString();u in t.wantedTiles||(t.wantedTiles[u]={});var d,c,f,y=t.wantedTiles[u];for(t=t.tileQueue,f=i.minZoom;f<=s;++f){var g=oe(i,r,f,g),m=i.Ta(f);for(d=g.fa;d<=g.la;++d)for(c=g.ea;c<=g.ka;++c)if(s-f<=a){var v=e.ad(f,d,c,o,n);0==v.getState()&&(y[v.lb()]=!0,v.lb()in t.a||t.i([v,u,ne(i,v.ya),m])),void 0!==l&&l.call(p,v)}else e.kh(f,d,c,n)}}function js(t){As.call(this,t),this.V=[1,0,0,1,0,0]}function Fs(t,e,i){var o=e.pixelRatio,n=e.size[0]*o,r=e.size[1]*o,s=e.viewState.rotation,a=Z(i),h=K(i),l=W(i);i=U(i),vo(e.coordinateToPixelTransform,a),vo(e.coordinateToPixelTransform,h),vo(e.coordinateToPixelTransform,l),vo(e.coordinateToPixelTransform,i),t.save(),ds(t,-s,n/2,r/2),t.beginPath(),t.moveTo(a[0]*o,a[1]*o),t.lineTo(h[0]*o,h[1]*o),t.lineTo(l[0]*o,l[1]*o),t.lineTo(i[0]*o,i[1]*o),t.clip(),ds(t,s,n/2,r/2)}function zs(t,e,i,o,n){var r=t.a;if(Ce(r,e)){var s=o.size[0]*o.pixelRatio,a=o.size[1]*o.pixelRatio,h=o.viewState.rotation;ds(i,-h,s/2,a/2),t=void 0!==n?n:Bs(t,o,0),r.b(new Jr(e,new Ms(i,o.pixelRatio,o.extent,t,o.viewState.rotation),o,i,null)),ds(i,h,s/2,a/2)}}function Bs(t,e,i){var o=e.viewState,n=e.pixelRatio,r=n/o.resolution;return _o(t.V,n*e.size[0]/2,n*e.size[1]/2,r,-r,-o.rotation,-o.center[0]+i,-o.center[1])}function qs(t){js.call(this,t),this.l=[1,0,0,1,0,0],this.j=null}function Hs(t){qs.call(this,t),this.M=null,this.f=[1,0,0,1,0,0],this.o=[],this.c=null}function Us(){this.b={},this.a=0,this.g=32}function Ws(t){if(t.a>t.g){var e,i=0;for(e in t.b)0!=(3&i++)||Ce(t.b[e])||(delete t.b[e],--t.a)}}(t=_s.prototype).Hh=function(){},t.Hb=function(){},t.Dd=function(){},t.cc=function(){},t.Ce=function(){},t.De=function(){},t.uc=function(){},t.vc=function(){},t.wc=function(){},t.xc=function(){},t.yc=function(){},t.zc=function(){},t.Wb=function(){},t.Oa=function(){},t.Zb=function(){},t.nb=function(){},s(Ms,_s),(t=Ms.prototype).cc=function(t){if($(this.c,t.G())){if(this.a||this.b){this.a&&Ts(this,this.a),this.b&&Ps(this,this.b);var e=this.N,i=this.o,o=t.da();i=(e=o?po(o,0,o.length,t.pa(),e,i):null)[2]-e[0],o=e[3]-e[1],i=Math.sqrt(i*i+o*o),(o=this.g).beginPath(),o.arc(e[0],e[1],i,0,2*Math.PI),this.a&&o.fill(),this.b&&o.stroke()}""!==this.ta&&Ss(this,t.xa(),2,2)}},t.Dd=function(t){this.Oa(t.Fa(),t.Ga()),this.Zb(t.Y()),this.nb(t.Ka())},t.Hb=function(t){switch(t.S()){case"Point":this.yc(t);break;case"LineString":this.uc(t);break;case"Polygon":this.zc(t);break;case"MultiPoint":this.wc(t);break;case"MultiLineString":this.vc(t);break;case"MultiPolygon":this.xc(t);break;case"GeometryCollection":this.De(t);break;case"Circle":this.cc(t)}},t.Ce=function(t,e){(t=(0,e.cb)(t))&&$(this.c,t.G())&&(this.Dd(e),this.Hb(t))},t.De=function(t){var e,i=0;for(e=(t=t.a).length;i<e;++i)this.Hb(t[i])},t.yc=function(t){var e=t.da();t=t.pa(),this.M&&ks(this,e,e.length),""!==this.ta&&Ss(this,e,e.length,t)},t.wc=function(t){var e=t.da();t=t.pa(),this.M&&ks(this,e,e.length),""!==this.ta&&Ss(this,e,e.length,t)},t.uc=function(t){if($(this.c,t.G())){if(this.b){Ps(this,this.b);var e=this.g,i=t.da();e.beginPath(),Cs(this,i,0,i.length,t.pa(),!1),e.stroke()}""!==this.ta&&Ss(this,t=t.Fe(),2,2)}},t.vc=function(t){var e=t.G();if($(this.c,e)){if(this.b){Ps(this,this.b),e=this.g;var i,o=t.da(),n=0,r=t.pb(),s=t.pa();e.beginPath();var a=0;for(i=r.length;a<i;++a)n=Cs(this,o,n,r[a],s,!1);e.stroke()}""!==this.ta&&Ss(this,t=t.Ge(),t.length,2)}},t.zc=function(t){if($(this.c,t.G())){if(this.b||this.a){this.a&&Ts(this,this.a),this.b&&Ps(this,this.b);var e=this.g;e.beginPath(),Es(this,t.Xb(),0,t.pb(),t.pa()),this.a&&e.fill(),this.b&&e.stroke()}""!==this.ta&&Ss(this,t=t.Td(),2,2)}},t.xc=function(t){if($(this.c,t.G())){if(this.b||this.a){this.a&&Ts(this,this.a),this.b&&Ps(this,this.b);var e,i=this.g,o=$u(t),n=0,r=t.td(),s=t.pa();i.beginPath();var a=0;for(e=r.length;a<e;++a)n=Es(this,o,n,r[a],s);this.a&&i.fill(),this.b&&i.stroke()}""!==this.ta&&Ss(this,t=Ju(t),t.length,2)}},t.Oa=function(t,e){if(this.a=t?{fillStyle:xs((t=t.b)||ts)}:null,e){t=e.a;var i=e.f,o=e.g,n=e.i,r=e.j,s=e.c;e=e.l,this.b={lineCap:void 0!==i?i:"round",lineDash:o||es,lineDashOffset:n||0,lineJoin:void 0!==r?r:"round",lineWidth:this.f*(void 0!==s?s:1),miterLimit:void 0!==e?e:10,strokeStyle:xs(t||is)}}else this.b=null},t.Zb=function(t){if(t){var e=t.Vc(),i=t.Y(1),o=t.bd(),n=t.oc();this.D=e[0],this.C=e[1],this.B=n[1],this.M=i,this.v=t.i,this.V=o[0],this.$=o[1],this.ca=t.s,this.ab=t.f,this.i=t.a*this.f,this.ra=t.v,this.oa=n[0]}else this.M=null},t.nb=function(t){if(t){var e=t.Fa();this.j=e?{fillStyle:xs((e=e.b)||ts)}:null;var i=t.Ga();if(i){e=i.a;var o=i.f,n=i.g,r=i.i,s=i.j,a=i.c;i=i.l,this.l={lineCap:void 0!==o?o:"round",lineDash:n||es,lineDashOffset:r||0,lineJoin:void 0!==s?s:"round",lineWidth:void 0!==a?a:1,miterLimit:void 0!==i?i:10,strokeStyle:xs(e||is)}}else this.l=null;e=t.a,o=t.g,n=t.c,r=t.l,s=t.i,a=t.b,i=t.Ka();var h=t.f;t=t.j,this.qa={font:void 0!==e?e:"10px sans-serif",textAlign:void 0!==h?h:"center",textBaseline:void 0!==t?t:"middle"},this.ta=void 0!==i?i:"",this.ua=void 0!==o?this.f*o:0,this.Ub=void 0!==n?this.f*n:0,this.Ea=void 0!==r&&r,this.La=void 0!==s?s:0,this.s=this.f*(void 0!==a?a:1)}else this.ta=""},s(As,Ee),As.prototype.wa=a,As.prototype.cf=lo,As.prototype.Rf=function(t,e,i){return function(o,n){return vw(t,e,o,n,function(t){i[o]||(i[o]={}),i[o][t.ya.toString()]=t})}},As.prototype.$=function(t){2===t.target.getState()&&Ds(this)},s(js,As),js.prototype.s=function(t,e,i,o){if(this.wa(t,e,0,ho,this))return i.call(o,this.a,null)},js.prototype.pf=function(t,e,i,o){zs(this,"postcompose",t,e,o)},s(qs,js),qs.prototype.df=function(t,e,i){zs(this,"precompose",i,t,void 0);var o=this.Y();if(o){var n=e.extent,r=void 0!==n&&!A(n,t.extent)&&$(n,t.extent);r&&Fs(i,t,n),n=this.v();var s=i.globalAlpha;i.globalAlpha=e.opacity,i.drawImage(o,0,0,+o.width,+o.height,Math.round(n[4]),Math.round(n[5]),Math.round(o.width*n[0]),Math.round(o.height*n[3])),i.globalAlpha=s,r&&i.restore()}this.pf(i,t,e)},qs.prototype.wa=function(t,e,i,o,n){var r=this.a;return r.ha().wa(t,e.viewState.resolution,e.viewState.rotation,i,e.skippedFeatureUids,function(t){return o.call(n,t,r)})},qs.prototype.s=function(t,e,i,o){if(this.Y()){if(this.a.ha().wa!==a)return js.prototype.s.apply(this,arguments);var n=vo(this.l,t.slice());if(Qi(n,e.viewState.resolution/this.i),this.j||(this.j=vn(1,1)),this.j.clearRect(0,0,1,1),this.j.drawImage(this.Y(),n[0],n[1],1,1,0,0,1,1),0<(n=this.j.getImageData(0,0,1,1).data)[3])return i.call(o,this.a,n)}},s(Hs,qs),Hs.handles=function(t,e){return"canvas"===t&&("IMAGE"===e.S()||"VECTOR"===e.S()&&"image"===e.l)},Hs.create=function(t,e){var i=new Hs(e);if("VECTOR"===e.S())for(var o=0,n=Cn.length;o<n;++o){var r=Cn[o];r!==Hs&&r.handles("canvas",e)&&(r=r.create(t,e),i.c=r)}return i},Hs.prototype.Y=function(){return this.M?this.M.Y():null},Hs.prototype.v=function(){return this.f},Hs.prototype.$c=function(t,e){var i=t.pixelRatio,o=t.size,n=t.viewState,r=n.center,s=n.resolution,a=this.a.ha(),h=t.viewHints,l=t.extent;if(void 0!==e.extent&&(l=X(l,e.extent)),!h[0]&&!h[1]&&!Q(l))if(h=n.projection,n=this.c){h=n.context;var p=it({},t,{size:[J(l)/s,V(l)/s],viewState:it({},t.viewState,{rotation:0})}),u=Object.keys(p.skippedFeatureUids).sort();!n.$c(p,e)||!n.j&&Zt(u,this.o)||(h.canvas.width=p.size[0]*i,h.canvas.height=p.size[1]*i,n.df(p,e,h),this.M=new Kr(l,s,i,h.canvas),this.o=u)}else(n=a.Y(l,s,i,h))&&Os(this,n)&&(this.M=n);return this.M&&(l=(n=this.M).G(),l=_o(this.f,i*o[0]/2,i*o[1]/2,h=i*(e=n.resolution)/(s*(n=n.a)),h,0,n*(l[0]-r[0])/e,n*(r[1]-l[3])/e),_o(this.l,i*o[0]/2-l[4],i*o[1]/2-l[5],i/s,-i/s,0,-r[0],-r[1]),Rs(t,a),this.i=e*i/n),!!this.M},Hs.prototype.wa=function(t,e,i,o,n){return this.c?this.c.wa(t,e,i,o,n):qs.prototype.wa.call(this,t,e,i,o,n)},Us.prototype.clear=function(){this.b={},this.a=0},Us.prototype.get=function(t,e,i){return(t=e+":"+t+":"+(i?vs(i):"null"))in this.b?this.b[t]:null},Us.prototype.set=function(t,e,i,o){this.b[e+":"+t+":"+(i?vs(i):"null")]=o,++this.a},Us.prototype.c=function(t){this.g=t,Ws(this)};var Gs=new Us;function Ys(t,e){this.l=e,this.c={},this.v={}}function Vs(t){var e=t.viewState,i=t.coordinateToPixelTransform,o=t.pixelToCoordinateTransform;_o(i,t.size[0]/2,t.size[1]/2,1/e.resolution,-1/e.resolution,-e.rotation,-e.center[0],-e.center[1]),Mo(mo(o,i))}function Xs(){Ws(Gs)}function Zs(t,e){var i=h(e).toString();if(i in t.c)return t.c[i];for(var o,n=t.S(),r=0,s=Cn.length;r<s;++r){var a=Cn[r];if(a.handles(n,e)){o=a.create(t,e);break}}if(!o)throw Error("Unable to create renderer for layer: "+e.S());return t.c[i]=o,t.v[i]=ge(o,"change",t.gm,t),o}function Ks(t,e){var i=t.c[e];return delete t.c[e],be(t.v[e]),delete t.v[e],i}function Js(t,e){for(var i in t.c)if(!(i in e.layerStates)){e.postRenderFunctions.push(t.oq.bind(t));break}}function $s(t,e){return t.zIndex-e.zIndex}function Qs(t,e){Ys.call(this,t,e),this.g=vn(),this.b=this.g.canvas,this.b.style.width="100%",this.b.style.height="100%",this.b.style.display="block",this.b.className="ol-unselectable",t.insertBefore(this.b,t.childNodes[0]||null),this.a=!0,this.i=[1,0,0,1,0,0]}function ta(t,e,i){var o=t.l,n=t.g;if(Ce(o,e)){var r=i.extent,s=i.pixelRatio,a=i.viewState.rotation,h=i.viewState,l=i.pixelRatio/h.resolution;t=_o(t.i,t.b.width/2,t.b.height/2,l,-l,-h.rotation,-h.center[0],-h.center[1]),o.b(new Jr(e,new Ms(n,s,r,t,a),i,n,null))}}function ea(t){qs.call(this,t),this.context=null===this.context?null:vn(),this.c=null,this.f=[],this.T=[1/0,1/0,-1/0,-1/0],this.ra=new u(0,0,0,0),this.o=[1,0,0,1,0,0],this.O=0}function ia(t,e){return e=e.getState(),t=t.a.i(),2==e||4==e||3==e&&!t}s(Ys,xe),(t=Ys.prototype).wa=function(t,e,i,o,n,r,s){function a(t,i){var r=h(t).toString(),s=e.layerStates[h(i)].Te;if(!(r in e.skippedFeatureUids)||s)return o.call(n,t,s?i:null)}var l,p=e.viewState,u=p.resolution,d=p.projection;if(p=t,d.g){var c=J(d=d.G()),f=t[0];(f<d[0]||f>d[2])&&(p=[f+c*Math.ceil((d[0]-f)/c),t[1]])}for(c=(d=e.layerStatesArray).length-1;0<=c;--c){var y=d[c];if(f=y.layer,Ln(y,u)&&r.call(s,f)&&(y=Zs(this,f),f.ha()&&(l=y.wa(f.ha().D?p:t,e,i,a,n)),l))return l}},t.Ui=function(t,e,i,o,n){return void 0!==this.wa(t,e,i,ho,this,o,n)},t.gm=function(){this.l.render()},t.bh=a,t.oq=function(t,e){for(var i in this.c)e&&i in e.layerStates||_e(Ks(this,i))},s(Qs,Ys),Qs.handles=function(t){return"canvas"===t},Qs.create=function(t,e){return new Qs(t,e)},Qs.prototype.S=function(){return"canvas"},Qs.prototype.bh=function(t){if(t){var e=this.g,i=t.pixelRatio,o=Math.round(t.size[0]*i),n=Math.round(t.size[1]*i);this.b.width!=o||this.b.height!=n?(this.b.width=o,this.b.height=n):e.clearRect(0,0,o,n),i=t.viewState.rotation,Vs(t),ta(this,"precompose",t);var r,s=t.layerStatesArray;for(Kt(s),i&&(e.save(),ds(e,i,o/2,n/2)),o=t.viewState.resolution,n=0,r=s.length;n<r;++n){var a=s[n],h=a.layer;h=Zs(this,h),Ln(a,o)&&"ready"==a.Vj&&h.$c(t,a)&&h.df(t,a,e)}i&&e.restore(),ta(this,"postcompose",t),this.a||(this.b.style.display="",this.a=!0),Js(this,t),t.postRenderFunctions.push(Xs)}else this.a&&(this.b.style.display="none",this.a=!1)},Qs.prototype.Ti=function(t,e,i,o,n,r){var s=e.viewState.resolution,a=e.layerStatesArray,h=a.length;for(t=vo(e.pixelToCoordinateTransform,t.slice()),--h;0<=h;--h){var l=a[h],p=l.layer;if(Ln(l,s)&&n.call(r,p)&&(l=Zs(this,p).s(t,e,i,o)))return l}},s(ea,qs),ea.handles=function(t,e){return"canvas"===t&&"TILE"===e.S()},ea.create=function(t,e){return new ea(e)},ea.prototype.$c=function(t,e){var i=t.pixelRatio,o=t.size,n=t.viewState,r=n.projection,s=n.resolution;n=n.center;var a=this.a,l=a.ha(),p=l.g,u=l.eb(r),d=u.Dc(s,this.O),c=u.Ta(d),f=Math.round(s/c)||1,y=t.extent;if(void 0!==e.extent&&(y=X(y,e.extent)),Q(y))return!1;var g=oe(u,y,d),m=function(t,e,i){var o=t.Ic(e),n=t.Ta(e);return t=k(t.Za(e),t.f),I(o[0]+i.fa*t[0]*n,o[1]+i.ea*t[1]*n,o[0]+(i.la+1)*t[0]*n,o[1]+(i.ka+1)*t[1]*n,void 0)}(u,d,g),v=l.Xc(i),b={};b[d]={};var w,x,_=this.Rf(l,r,b),M=this.T,S=this.ra,C=!1;for(w=g.fa;w<=g.la;++w)for(x=g.ea;x<=g.ka;++x){var E=l.ad(d,w,x,i,r);if(3==E.getState()&&(a.i()?0<a.c()&&(C=!0):Ch(E,2)),ia(this,E)||(E=kh(E)),ia(this,E)){var T=h(this);if(2==E.getState()){b[d][E.ya.toString()]=E;var P=!!E.j&&-1!==E.s[T];C||!P&&-1!==this.f.indexOf(E)||(C=!0)}if(1===Eh(E,T,t.time))continue}P=!1,(T=ie(u,E.ya,S,M))&&(P=_(d+1,T)),P||ee(u,E.ya,_,S,M)}if(E=(E=t.viewHints)[0]||E[1],!(this.i&&16<Date.now()-t.time&&E||!C&&this.c&&A(this.c,y)&&this.wf==p&&f==this.C&&(E||c*i/v*f==this.i))){for((E=this.context)&&(x=l.Zd(d,i,r),w=Math.round((g.la-g.fa+1)*x[0]/f),x=Math.round((g.ka-g.ea+1)*x[1]/f),(C=E.canvas).width!=w||C.height!=x?(this.C=f,C.width=w,C.height=x):(this.c&&!j(m,this.c)&&E.clearRect(0,0,w,x),f=this.C)),this.f.length=0,(C=Object.keys(b).map(Number)).sort(function(t,e){return t===d?1:e===d?-1:t>e?1:t<e?-1:0}),T=0,P=C.length;T<P;++T){_=l.Zd(S=C[T],i,r);var O=(E=u.Ta(S))/c,D=v*l.Zf(r),R=b[S];for(var N in R)x=u.Ma((E=R[N]).ya,M),this.Sf(E,t,e,w=(x[0]-m[0])/c*v/f,x=(m[3]-x[3])/c*v/f,_[0]*O/f,_[1]*O/f,D,d===S),this.f.push(E)}this.wf=p,this.i=c*i/v*f,this.c=m}return e=_o(this.o,i*o[0]/2,i*o[1]/2,e=this.i/s,e,0,(this.c[0]-n[0])/this.i*i,(n[1]-this.c[3])/this.i*i),_o(this.l,i*o[0]/2-e[4],i*o[1]/2-e[5],i/s,-i/s,0,-n[0],-n[1]),Ns(t.usedTiles,l,d,g),Ls(t,l,u,i,r,y,d,a.c()),Is(t,l),Rs(t,l),0<this.f.length},ea.prototype.Sf=function(t,e,i,o,n,r,s,a,l){if(i=t.Y(this.a)){var p=h(this),u=l?Eh(t,p,e.time):1;1!==u||this.a.ha().eg(e.viewState.projection)||this.context.clearRect(o,n,r,s);var d=u!==this.context.globalAlpha;d&&(this.context.save(),this.context.globalAlpha=u),this.context.drawImage(i,a,a,i.width-2*a,i.height-2*a,o,n,r,s),d&&this.context.restore(),1!==u?e.animate=!0:l&&t.j&&(t.s[p]=-1)}},ea.prototype.Y=function(){var t=this.context;return t?t.canvas:null},ea.prototype.v=function(){return this.o};var oa={Jc:function(){}};function na(){}function ra(t,e,i,o){var n=t[e],r=t[e+1],s=0;for(e+=o;e<i;e+=o){var a=t[e],h=t[e+1];s+=Math.sqrt((a-n)*(a-n)+(h-r)*(h-r)),n=a,r=h}return s}!function(t){function e(t,e,o,r,s){i(t,e,o||0,r||t.length-1,s||n)}function i(t,e,n,r,s){for(;r>n;){if(600<r-n){var a=r-n+1,h=e-n+1,l=Math.log(a),p=.5*Math.exp(2*l/3);l=.5*Math.sqrt(l*p*(a-p)/a)*(0>h-a/2?-1:1),i(t,e,Math.max(n,Math.floor(e-h*p/a+l)),Math.min(r,Math.floor(e+(a-h)*p/a+l)),s)}for(a=t[e],h=n,p=r,o(t,n,e),0<s(t[r],a)&&o(t,n,r);h<p;){for(o(t,h,p),h++,p--;0>s(t[h],a);)h++;for(;0<s(t[p],a);)p--}0===s(t[n],a)?o(t,n,p):o(t,++p,r),p<=e&&(n=p+1),e<=p&&(r=p-1)}}function o(t,e,i){var o=t[e];t[e]=t[i],t[i]=o}function n(t,e){return t<e?-1:t>e?1:0}function r(t,e){if(!(this instanceof r))return new r(t,e);this.Lf=Math.max(4,t||9),this.wh=Math.max(2,Math.ceil(.4*this.Lf)),e&&this.Ak(e),this.clear()}function s(t,e){a(t,0,t.children.length,e,t)}function a(t,e,i,o,n){n||(n=y(null)),n.fa=1/0,n.ea=1/0,n.la=-1/0,n.ka=-1/0;for(var r;e<i;e++)r=t.children[e],h(n,t.fb?o(r):r);return n}function h(t,e){return t.fa=Math.min(t.fa,e.fa),t.ea=Math.min(t.ea,e.ea),t.la=Math.max(t.la,e.la),t.ka=Math.max(t.ka,e.ka),t}function l(t,e){return t.fa-e.fa}function p(t,e){return t.ea-e.ea}function u(t){return(t.la-t.fa)*(t.ka-t.ea)}function d(t){return t.la-t.fa+(t.ka-t.ea)}function c(t,e){return t.fa<=e.fa&&t.ea<=e.ea&&e.la<=t.la&&e.ka<=t.ka}function f(t,e){return e.fa<=t.la&&e.ea<=t.ka&&e.la>=t.fa&&e.ka>=t.ea}function y(t){return{children:t,height:1,fb:!0,fa:1/0,ea:1/0,la:-1/0,ka:-1/0}}function g(t,e,i,o,n){for(var r,s=[e,i];s.length;)(i=s.pop())-(e=s.pop())<=o||(r=e+Math.ceil((i-e)/o/2)*o,m(t,r,e,i,n),s.push(e,r,r,i))}var m=e;m.default=e,r.prototype={all:function(){return this.rh(this.data,[])},search:function(t){var e=this.data,i=[],o=this.xb;if(!f(t,e))return i;for(var n,r,s,a,h=[];e;){for(n=0,r=e.children.length;n<r;n++)s=e.children[n],f(t,a=e.fb?o(s):s)&&(e.fb?i.push(s):c(t,a)?this.rh(s,i):h.push(s));e=h.pop()}return i},Ok:function(t){var e=this.data,i=this.xb;if(!f(t,e))return!1;for(var o,n,r,s,a=[];e;){for(o=0,n=e.children.length;o<n;o++)if(r=e.children[o],f(t,s=e.fb?i(r):r)){if(e.fb||c(t,s))return!0;a.push(r)}e=a.pop()}return!1},load:function(t){if(!t||!t.length)return this;if(t.length<this.wh){for(var e=0,i=t.length;e<i;e++)this.Ca(t[e]);return this}return t=this.th(t.slice(),0,t.length-1,0),this.data.children.length?this.data.height===t.height?this.yh(this.data,t):(this.data.height<t.height&&(e=this.data,this.data=t,t=e),this.vh(t,this.data.height-t.height-1,!0)):this.data=t,this},Ca:function(t){return t&&this.vh(t,this.data.height-1),this},clear:function(){return this.data=y([]),this},remove:function(t,e){if(!t)return this;for(var i,o,n,r,s=this.data,a=this.xb(t),h=[],l=[];s||h.length;){if(s||(s=h.pop(),o=h[h.length-1],i=l.pop(),r=!0),s.fb){t:{n=t;var p=s.children,u=e;if(u){for(var d=0;d<p.length;d++)if(u(n,p[d])){n=d;break t}n=-1}else n=p.indexOf(n)}if(-1!==n){s.children.splice(n,1),h.push(s),this.yk(h);break}}r||s.fb||!c(s,a)?o?(s=o.children[++i],r=!1):s=null:(h.push(s),l.push(i),i=0,o=s,s=s.children[0])}return this},xb:function(t){return t},Pf:l,Qf:p,toJSON:function(){return this.data},rh:function(t,e){for(var i=[];t;)t.fb?e.push.apply(e,t.children):i.push.apply(i,t.children),t=i.pop();return e},th:function(t,e,i,o){var n,r=i-e+1,a=this.Lf;if(r<=a){var h=y(t.slice(e,i+1));return s(h,this.xb),h}for(o||(o=Math.ceil(Math.log(r)/Math.log(a)),a=Math.ceil(r/Math.pow(a,o-1))),(h=y([])).fb=!1,h.height=o,g(t,e,i,a=(r=Math.ceil(r/a))*Math.ceil(Math.sqrt(a)),this.Pf);e<=i;e+=a){var l=Math.min(e+a-1,i);for(g(t,e,l,r,this.Qf),n=e;n<=l;n+=r){var p=Math.min(n+r-1,l);h.children.push(this.th(t,n,p,o-1))}}return s(h,this.xb),h},xk:function(t,e,i,o){for(var n,r,s,a,h,l,p,d;o.push(e),!e.fb&&o.length-1!==i;){for(p=d=1/0,n=0,r=e.children.length;n<r;n++)h=u(s=e.children[n]),(l=(Math.max(s.la,t.la)-Math.min(s.fa,t.fa))*(Math.max(s.ka,t.ka)-Math.min(s.ea,t.ea))-h)<d?(d=l,p=h<p?h:p,a=s):l===d&&h<p&&(p=h,a=s);e=a||e.children[0]}return e},vh:function(t,e,i){var o=this.xb;i=i?t:o(t);var n=this.xk(i,this.data,e,o=[]);for(n.children.push(t),h(n,i);0<=e&&o[e].children.length>this.Lf;)this.Dk(o,e),e--;this.uk(i,o,e)},Dk:function(t,e){var i=t[e],o=i.children.length,n=this.wh;this.vk(i,n,o),o=this.wk(i,n,o),(o=y(i.children.splice(o,i.children.length-o))).height=i.height,o.fb=i.fb,s(i,this.xb),s(o,this.xb),e?t[e-1].children.push(o):this.yh(i,o)},yh:function(t,e){this.data=y([t,e]),this.data.height=t.height+1,this.data.fb=!1,s(this.data,this.xb)},wk:function(t,e,i){var o,n,r=n=1/0;for(o=e;o<=i-e;o++){var s=a(t,0,o,this.xb),h=a(t,o,i,this.xb),l=Math.max(0,Math.min(s.la,h.la)-Math.max(s.fa,h.fa))*Math.max(0,Math.min(s.ka,h.ka)-Math.max(s.ea,h.ea));if(s=u(s)+u(h),l<r){r=l;var p=o;n=s<n?s:n}else l===r&&s<n&&(n=s,p=o)}return p},vk:function(t,e,i){var o=t.fb?this.Pf:l,n=t.fb?this.Qf:p;this.sh(t,e,i,o)<(e=this.sh(t,e,i,n))&&t.children.sort(o)},sh:function(t,e,i,o){t.children.sort(o);var n,r=a(t,0,e,o=this.xb),s=a(t,i-e,i,o),l=d(r)+d(s);for(n=e;n<i-e;n++){var p=t.children[n];h(r,t.fb?o(p):p),l+=d(r)}for(n=i-e-1;n>=e;n--)p=t.children[n],h(s,t.fb?o(p):p),l+=d(s);return l},uk:function(t,e,i){for(;0<=i;i--)h(e[i],t)},yk:function(t){for(var e,i=t.length-1;0<=i;i--)0===t[i].children.length?0<i?(e=t[i-1].children).splice(e.indexOf(t[i]),1):this.clear():s(t[i],this.xb)},Ak:function(t){var e=["return a"," - b",";"];this.Pf=new Function("a","b",e.join(t[0])),this.Qf=new Function("a","b",e.join(t[1])),this.xb=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}},t.default=r}(oa.Jc=oa.Jc||{}),oa.Jc=oa.Jc.default;var sa="Polygon Circle LineString Image Text Default".split(" "),aa={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1};function ha(t,e,i,o,n,r){this.ra=r,this.La=[1/0,1/0,-1/0,-1/0],this.ob=t,this.Ea=e,this.overlaps=n,this.pixelRatio=o,this.Wa=0,this.resolution=i,this.i=this.T=this.qa=null,this.a=[],this.coordinates=[],this.Ub={},this.ca=[1,0,0,1,0,0],this.b=[],this.oa=null,this.state={},this.$=0,this.bb=[1,0,0,1,0,0]}function la(t,e,i,o,n,r,s,a){e.beginPath(),e.moveTo.apply(e,i),e.lineTo.apply(e,o),e.lineTo.apply(e,n),e.lineTo.apply(e,r),e.lineTo.apply(e,i),s&&(t.O=s[2],t.Xa(e)),a&&(fa(e,a),e.stroke())}function pa(t,e,i,o,n,r,s,a,h,l,p,u,d,c,f,y,g,m,v){var b=m||v,w=t.bb;i-=r*=c,o-=s*=c,f&&(i=Math.round(i),o=Math.round(o)),f=y+p>n.width?n.width-p:y,y=t.La;var x=g[3]+f*c+g[1],_=g[0]+(h=h+u>n.height?n.height-u:h)*c+g[2],M=i-g[3],k=o-g[0];if(b||0!==d)var S=[M,k],C=[M+x,k],E=[M+x,k+_],T=[M,k+_];g=null,0!==d?(g=_o(w,r=i+r,s=o+s,1,1,d,-r,-s),R(y),z(y,vo(w,S)),z(y,vo(w,C)),z(y,vo(w,E)),z(y,vo(w,T))):I(M,k,M+x,k+_,y),d=y[0]<=(d=e.canvas).width&&0<=y[2]&&y[1]<=d.height&&0<=y[3],a?(d||1!=a[4])&&(F(a,y),(t=d?[e,g?g.slice(0):null,l,n,p,u,f,h,i,o,c]:null)&&b&&t.push(m,v,S,C,E,T),a.push(t)):d&&(b&&la(t,e,S,C,E,T,m,v),fs(e,g,l,n,p,u,f,h,i,o,c))}function ua(t,e,i,o,n,r,s){var a=t.coordinates.length,h=_a(t);s&&(i+=n),s=[e[i],e[i+1]];var l,p=[NaN,NaN],u=!0;for(l=i+n;l<o;l+=n){p[0]=e[l],p[1]=e[l+1];var d=D(h,p);d!==c?(u&&(t.coordinates[a++]=s[0],t.coordinates[a++]=s[1]),t.coordinates[a++]=p[0],t.coordinates[a++]=p[1],u=!1):1===d?(t.coordinates[a++]=p[0],t.coordinates[a++]=p[1],u=!1):u=!0,s[0]=p[0],s[1]=p[1];var c=d}return(r&&u||l===i+n)&&(t.coordinates[a++]=s[0],t.coordinates[a++]=s[1]),a}function da(t,e,i,o,n,r){for(var s=0,a=o.length;s<a;++s){var h=o[s];i=ua(t,e,i,h,n,!1,!1),r.push(i),i=h}return i}function ca(t,e){t.qa=[0,e,0],t.a.push(t.qa),t.T=[0,e,0],t.b.push(t.T)}function fa(t,e){t.strokeStyle=e[1],t.lineWidth=e[2],t.lineCap=e[3],t.lineJoin=e[4],t.miterLimit=e[5],Ke&&(t.lineDashOffset=e[7],t.setLineDash(e[6]))}function ya(t,e,i){if(e&&5<e.length){var o=e[4];if(1==o||o==e.length-5){if(!t.ra.Ok(i={fa:e[0],ea:e[1],la:e[2],ka:e[3],value:i}))for(t.ra.Ca(i),i=5,o=e.length;i<o;++i){var n=e[i];n&&(11<n.length&&la(t,n[0],n[13],n[14],n[15],n[16],n[11],n[12]),fs.apply(void 0,n))}e.length=5,R(e)}}}function ga(t,e,i,o,n,r,s){if(t.oa&&Zt(i,t.ca))var a=t.oa;else t.oa||(t.oa=[]),a=po(t.coordinates,0,t.coordinates.length,2,i,t.oa),mo(t.ca,i);for(var l,p,u,d,c,f,y,g,m,v=!rt(o),b=0,w=n.length,_=0,M=0,k=0,S=null,C=null,E=t.Ub,T=t.$,P={context:e,pixelRatio:t.pixelRatio,resolution:t.resolution,rotation:T},A=t.a!=n||t.overlaps?0:200;b<w;){var O=n[b];switch(O[0]){case 0:var D=O[1];v&&o[h(D).toString()]||!D.U()?b=O[2]:void 0===s||$(s,D.U().G())?++b:b=O[2]+1;break;case 1:M>A&&(t.Xa(e),M=0),k>A&&(e.stroke(),k=0),M||k||(e.beginPath(),d=c=NaN),++b;break;case 2:var I=a[_=O[1]],R=a[_+1],N=a[_+2]-I,L=a[_+3]-R,j=Math.sqrt(N*N+L*L);e.moveTo(I+j,R),e.arc(I,R,j,0,2*Math.PI,!0),++b;break;case 3:e.closePath(),++b;break;case 4:_=O[1],l=O[2];var F=O[4],z=6==O.length?O[5]:void 0;P.geometry=O[3],P.feature=D,b in E||(E[b]=[]);var B=E[b];z?z(a,_,l,2,B):(B[0]=a[_],B[1]=a[_+1],B.length=2),F(B,P),++b;break;case 6:_=O[1],l=O[2],m=O[3],p=O[4],u=O[5],g=r?null:O[6];var q=O[7],H=O[8],U=O[9],W=O[10],G=O[12],Y=O[13],V=O[14],X=O[15];if(16<O.length)var Z=O[16],K=O[17],J=O[18];else Z=os,K=J=!1;for(O[11]&&(G+=T);_<l;_+=2)pa(t,e,a[_],a[_+1],m,p,u,g,q,H,U,W,G,Y,V,X,Z,K?S:null,J?C:null);ya(t,g,D),++b;break;case 5:var Q=O[1],tt=O[2],et=O[3];g=r?null:O[4];var it=O[5],ot=O[6],nt=O[7],st=O[8],at=O[9],ht=O[10],lt=O[11],pt=O[12],ut=O[13],dt=O[14],ct=ra(a,Q,tt,2),ft=st(pt);if(it||ft<=ct){t:{for(var yt=void 0,gt=void 0,mt=a,vt=Q,bt=tt,wt=pt,xt=st,_t=(ct-ft)*aa[t.s[ut].textAlign],Mt=nt,kt=[],St=mt[vt]>mt[bt-2],Ct=wt.length,Et=mt[vt],Tt=mt[vt+1],Pt=mt[vt+=2],At=mt[vt+1],Ot=0,Dt=Math.sqrt(Math.pow(Pt-Et,2)+Math.pow(At-Tt,2)),It="",Rt=0,Nt=0;Nt<Ct;++Nt){var Lt=wt.charAt(St?Ct-Nt-1:Nt),jt=xt(It=St?Lt+It:It+Lt)-Rt;Rt+=jt;for(var Ft=_t+jt/2;vt<bt-2&&Ot+Dt<Ft;)Et=Pt,Tt=At,Pt=mt[vt+=2],At=mt[vt+1],Ot+=Dt,Dt=Math.sqrt(Math.pow(Pt-Et,2)+Math.pow(At-Tt,2));var zt=Ft-Ot,Bt=Math.atan2(At-Tt,Pt-Et);if(St&&(Bt+=0<Bt?-Math.PI:Math.PI),void 0!==yt){var qt=Bt-yt;if(qt+=qt>Math.PI?-2*Math.PI:qt<-Math.PI?2*Math.PI:0,Math.abs(qt)>Mt){var Ht=null;break t}}var Ut=zt/Dt,Wt=x(Et,Pt,Ut),Gt=x(Tt,At,Ut);yt==Bt?(St&&(gt[0]=Wt,gt[1]=Gt,gt[2]=jt/2),gt[4]=It):(Rt=jt,gt=[Wt,Gt,jt/2,Bt,It=Lt],St?kt.unshift(gt):kt.push(gt),yt=Bt),_t+=jt}Ht=kt}if(Ht){var Yt;if(ht){var Vt=0;for(Yt=Ht.length;Vt<Yt;++Vt){var Xt=Ht[Vt],Kt=Xt[4],Jt=t.Y(Kt,ut,"",ht);pa(t,e,Xt[0],Xt[1],Jt,p=Xt[2]+lt,u=et*Jt.height+2*(.5-et)*lt-at,g,Jt.height,1,0,0,Xt[3],dt,!1,Jt.width,os,null,null)}}if(ot)for(Vt=0,Yt=Ht.length;Vt<Yt;++Vt)Jt=t.Y(Kt=(Xt=Ht[Vt])[4],ut,ot,""),pa(t,e,Xt[0],Xt[1],Jt,p=Xt[2],u=et*Jt.height-at,g,Jt.height,1,0,0,Xt[3],dt,!1,Jt.width,os,null,null)}}ya(t,g,D),++b;break;case 7:if(void 0!==r){var $t=r(D=O[1]);if($t)return $t}++b;break;case 8:A?M++:t.Xa(e),++b;break;case 9:l=O[2];var Qt=a[_=O[1]],te=a[_+1];for(y=te+.5|0,(f=Qt+.5|0)===d&&y===c||(e.moveTo(Qt,te),d=f,c=y),_+=2;_<l;_+=2)f=(Qt=a[_])+.5|0,y=(te=a[_+1])+.5|0,(_==l-2||f!==d||y!==c)&&(e.lineTo(Qt,te),d=f,c=y);++b;break;case 10:S=O,t.O=O[2],M&&(t.Xa(e),M=0,k&&(e.stroke(),k=0)),e.fillStyle=O[1],++b;break;case 11:C=O,k&&(e.stroke(),k=0),fa(e,O),++b;break;case 12:A?k++:e.stroke(),++b;break;default:++b}}M&&t.Xa(e),k&&e.stroke()}function ma(t,e,i,o,n,r,s){return t.$=o,ga(t,e,i,n,t.b,r,s)}function va(t){var e=t.b;e.reverse();var i,o=e.length,n=-1;for(i=0;i<o;++i){var r=e[i],s=r[0];if(7==s)n=i;else if(0==s){for(r[2]=i,r=t.b,s=i;n<s;){var a=r[n];r[n]=r[s],r[s]=a,++n,--s}n=-1}}}function ba(t,e,i,o){var n=e.fillStyle;"string"==typeof n&&e.Pk==n||(i.call(t,e,o),e.Pk=n)}function wa(t,e,i){var o=e.strokeStyle,n=e.lineCap,r=e.lineDash,s=e.lineDashOffset,a=e.lineJoin,h=e.lineWidth,l=e.miterLimit;(e.Vk!=o||e.Qk!=n||r!=e.Fh&&!Zt(e.Fh,r)||e.Rk!=s||e.Sk!=a||e.Tk!=h||e.Uk!=l)&&(i.call(t,e),e.Vk=o,e.Qk=n,e.Fh=r,e.Rk=s,e.Sk=a,e.Tk=h,e.Uk=l)}function xa(t,e){t.qa[2]=t.a.length,t.qa=null,t.T[2]=t.b.length,t.T=null,t.a.push(e=[7,e]),t.b.push(e)}function _a(t){return t.i||(t.i=E(t.Ea),0<t.Wa&&C(t.i,t.resolution*(t.Wa+1)/2,t.i)),t.i}function Ma(t,e,i,o,n,r){ha.call(this,t,e,i,o,n,r),this.M=this.V=this.B=null,this.N=this.o=this.v=this.s=this.l=this.C=this.D=this.j=this.f=this.c=this.g=void 0}function ka(t,e,i,o,n,r){ha.call(this,t,e,i,o,n,r)}function Sa(t,e,i,o,n){var r=t.coordinates.length;return e=ua(t,e,i,o,n,!1,!1),t.a.push(r=[9,r,e]),t.b.push(r),o}function Ca(t,e,i,o,n,r){ha.call(this,t,e,i,o,n,r)}function Ea(t,e,i,o,n){var r=t.state,s=void 0!==r.fillStyle;r=void 0!=r.strokeStyle;var a=o.length,h=[1];for(t.a.push(h),t.b.push(h),h=0;h<a;++h){var l=o[h],p=t.coordinates.length;i=ua(t,e,i,l,n,!0,!r),t.a.push(i=[9,p,i]),t.b.push(i),r&&(t.a.push(i=[3]),t.b.push(i)),i=l}return t.b.push(e=[8]),s&&t.a.push(e),r&&(t.a.push(s=[12]),t.b.push(s)),i}function Ta(t,e){var i=t.state;void 0!==i.fillStyle&&ba(t,i,t.Ah,e),void 0!==i.strokeStyle&&wa(t,i,t.pd)}function Pa(t,e,i,o,n,r){for(ha.call(this,t,e,i,o,n,r),this.ta="",this.l=this.D=0,this.C=void 0,this.B=0,this.c=null,this.o={},this.g=null,this.ab={},this.f={},this.s={},this.V=this.v=this.j="",this.ua={};Qr(ns);)ns.pop()}function Aa(t,e,i,o){var n=t.g,r=t.f,s=t.c,a=t.V;n&&(a in t.ab||(t.ab[a]={strokeStyle:n.strokeStyle,lineCap:n.lineCap,lineDashOffset:n.lineDashOffset,lineWidth:n.lineWidth,lineJoin:n.lineJoin,miterLimit:n.miterLimit,lineDash:n.lineDash}));var h=t.j;t.j in t.s||(t.s[t.j]={font:r.font,textAlign:r.textAlign||"center",scale:r.scale});var l=t.v;s&&(l in t.o||(t.o[l]={fillStyle:s.fillStyle}));var p=t.pixelRatio;s=aa[r.textBaseline];var u=t.l*p,d=t.ta,c=r.font,f=r.scale;n=n?n.lineWidth*f/2:0;var y=t.ua[c];y||(t.ua[c]=y={}),t.a.push([5,e,i,s,o,r.overflow,l,r.maxAngle,function(t){var e=y[t];return e||(e=y[t]=us(c,t)),e*f*p},u,a,n*p,d,h,1]),t.b.push([5,e,i,s,o,r.overflow,l,r.maxAngle,function(t){var e=y[t];return e||(e=y[t]=us(c,t)),e*f},u,a,n,d,h,1/p])}function Oa(t,e,i,o,n,r,s){this.a=r,this.g=null,this.o=t,this.c=e,this.l=n,this.s=o,this.v=i,this.i=s,this.b={},this.f=vn(1,1),this.j=[1,0,0,1,0,0]}s(ha,_s),(t=ha.prototype).Hh=function(t,e,i){ca(this,e);var o,n=t.S(),r=t.pa(),s=this.coordinates.length;if("MultiPolygon"==n){n=$u(t);for(var a=[],h=t.td(),l=o=0,p=h.length;l<p;++l){var u=[];o=da(this,n,o,h[l],r,u),a.push(u)}this.a.push([4,s,a,t,i,qo])}else"Polygon"==n||"MultiLineString"==n?(a=[],da(this,n="Polygon"==n?t.Xb():t.da(),0,t.pb(),r,a),this.a.push([4,s,a,t,i,Bo])):"LineString"==n||"MultiPoint"==n?(r=ua(this,n=t.da(),0,n.length,r,!1,!1),this.a.push([4,s,r,t,i,zo])):"Point"==n&&(n=t.da(),this.coordinates.push(n[0],n[1]),this.a.push([4,s,r=this.coordinates.length,t,i]));xa(this,e)},t.Xa=function(t){if(this.O){var e=vo(this.ca,this.O.slice());t.translate(e[0],e[1]),t.rotate(this.$)}t.fill(),this.O&&t.setTransform.apply(t,cs)},t.Na=function(t,e,i,o){this.$=i,ga(this,t,e,o,this.a,void 0,void 0)},t.Oa=function(t,e){var i=this.state;i.fillStyle=t?xs((t=t.b)||ts):void 0,e?(i.strokeStyle=xs((t=e.a)||is),i.lineCap=void 0!==(t=e.f)?t:"round",i.lineDash=(t=e.g)?t.slice():es,i.lineDashOffset=(t=e.i)||0,i.lineJoin=void 0!==(t=e.j)?t:"round",i.lineWidth=void 0!==(t=e.c)?t:1,i.miterLimit=void 0!==(e=e.l)?e:10,i.lineWidth>this.Wa&&(this.Wa=i.lineWidth,this.i=null)):(i.strokeStyle=void 0,i.lineCap=void 0,i.lineDash=null,i.lineDashOffset=void 0,i.lineJoin=void 0,i.lineWidth=void 0,i.miterLimit=void 0)},t.Ah=function(t,e){var i=t.fillStyle;t=[10,i],"string"!=typeof i&&(e=e.G(),t.push([e[0],e[3]])),this.a.push(t)},t.pd=function(t){this.a.push([11,t.strokeStyle,t.lineWidth*this.pixelRatio,t.lineCap,t.lineJoin,t.miterLimit,function(t,e){var i=t.pixelRatio;return 1==i?e:e.map(function(t){return t*i})}(this,t.lineDash),t.lineDashOffset*this.pixelRatio])},t.bf=a,s(Ma,ha),Ma.prototype.yc=function(t,e){if(this.M){ca(this,e);var i=t.da(),o=this.coordinates.length;t=ua(this,i,0,i.length,t.pa(),!1,!1),this.a.push([6,o,t,this.M,this.g,this.c,this.B,this.f,this.j,this.D,this.C,this.l,this.s,this.v*this.pixelRatio,this.o,this.N]),this.b.push([6,o,t,this.V,this.g,this.c,this.B,this.f,this.j,this.D,this.C,this.l,this.s,this.v,this.o,this.N]),xa(this,e)}},Ma.prototype.wc=function(t,e){if(this.M){ca(this,e);var i=t.da(),o=this.coordinates.length;t=ua(this,i,0,i.length,t.pa(),!1,!1),this.a.push([6,o,t,this.M,this.g,this.c,this.B,this.f,this.j,this.D,this.C,this.l,this.s,this.v*this.pixelRatio,this.o,this.N]),this.b.push([6,o,t,this.V,this.g,this.c,this.B,this.f,this.j,this.D,this.C,this.l,this.s,this.v,this.o,this.N]),xa(this,e)}},Ma.prototype.bf=function(){va(this),this.c=this.g=void 0,this.M=this.V=null,this.N=this.o=this.s=this.l=this.C=this.D=this.j=this.v=this.f=void 0},Ma.prototype.Zb=function(t,e){var i=t.Vc(),o=t.oc(),n=t.Eg(),r=t.Y(1),s=t.bd();this.g=i[0],this.c=i[1],this.B=e,this.V=n,this.M=r,this.f=o[1],this.j=t.i,this.D=s[0],this.C=s[1],this.l=t.s,this.s=t.f,this.v=t.a,this.o=t.v,this.N=o[0]},s(ka,ha),ka.prototype.uc=function(t,e){var i=this.state;void 0!==i.strokeStyle&&void 0!==i.lineWidth&&(wa(this,i,this.pd),ca(this,e),this.b.push([11,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset],[1]),Sa(this,i=t.da(),0,i.length,t.pa()),this.b.push([12]),xa(this,e))},ka.prototype.vc=function(t,e){var i=this.state,o=i.lineWidth;if(void 0!==i.strokeStyle&&void 0!==o){wa(this,i,this.pd),ca(this,e),this.b.push([11,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset],[1]),i=t.pb(),o=t.da(),t=t.pa();var n,r=0,s=0;for(n=i.length;s<n;++s)r=Sa(this,o,r,i[s],t);this.b.push([12]),xa(this,e)}},ka.prototype.bf=function(){var t=this.state;void 0!=t.$d&&t.$d!=this.coordinates.length&&this.a.push([12]),va(this),this.state=null},ka.prototype.pd=function(t){void 0!=t.$d&&t.$d!=this.coordinates.length&&(this.a.push([12]),t.$d=this.coordinates.length),t.$d=0,ha.prototype.pd.call(this,t),this.a.push([1])},s(Ca,ha),Ca.prototype.cc=function(t,e){var i=this.state,o=i.strokeStyle;if(void 0!==i.fillStyle||void 0!==o){Ta(this,t),ca(this,e),this.b.push([10,vs(ts)]),void 0!==i.strokeStyle&&this.b.push([11,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);var n=t.da();o=this.coordinates.length,ua(this,n,0,n.length,t.pa(),!1,!1),this.a.push(t=[1],o=[2,o]),this.b.push(t,o),this.b.push(t=[8]),void 0!==i.fillStyle&&this.a.push(t),void 0!==i.strokeStyle&&(this.a.push(i=[12]),this.b.push(i)),xa(this,e)}},Ca.prototype.zc=function(t,e){var i=this.state;Ta(this,t),ca(this,e),this.b.push([10,vs(ts)]),void 0!==i.strokeStyle&&this.b.push([11,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]),i=t.pb(),Ea(this,t.Xb(),0,i,t.pa()),xa(this,e)},Ca.prototype.xc=function(t,e){var i=this.state,o=i.strokeStyle;if(void 0!==i.fillStyle||void 0!==o){Ta(this,t),ca(this,e),this.b.push([10,vs(ts)]),void 0!==i.strokeStyle&&this.b.push([11,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]),i=t.td(),o=$u(t),t=t.pa();var n,r=0,s=0;for(n=i.length;s<n;++s)r=Ea(this,o,r,i[s],t);xa(this,e)}},Ca.prototype.bf=function(){va(this),this.state=null;var t=this.ob;if(0!==t){var e,i=this.coordinates,o=0;for(e=i.length;o<e;++o)i[o]=t*Math.round(i[o]/t)}},s(Pa,ha),Pa.prototype.Wb=function(t,e){var i=this.c,o=this.g,n=this.f;if(""!==this.ta&&n&&(i||o)){i=this.coordinates.length;var r=t.S();o=null;var s=2,a=2;if("line"===n.placement){if(!$(_a(this),t.G()))return;if(o=t.da(),a=t.pa(),"LineString"==r)var h=[o.length];else if("MultiLineString"==r)h=t.pb();else if("Polygon"==r)h=t.pb().slice(0,1);else if("MultiPolygon"==r)for(h=[],s=0,r=(t=t.td()).length;s<r;++s)h.push(t[s][0]);ca(this,e),t=n.textAlign;var l,p=0;r=0;for(var u=h.length;r<u;++r){if(void 0==t){for(var d,c,f=void 0,y=void 0,g=s=c=d=void 0,m=l=p,v=0,b=0,w=p;p<h[r];p+=a){var x=o[p],_=o[p+1];void 0!==c&&(c=x-c,d=_-d,s=Math.sqrt(c*c+d*d),void 0!==y&&(b+=g,(f=Math.acos((y*c+f*d)/(g*s)))>n.maxAngle&&(b>v&&(v=b,l=w,m=p),b=0,w=p-a)),g=s,y=c,f=d),c=x,d=_}p=(s=b+s>v?[w,p]:[l,m])[0],l=s[1]}else l=h[r];for(s=p;s<l;s+=a)this.coordinates.push(o[s],o[s+1]);p=h[r],Aa(this,i,s=this.coordinates.length,this.N),i=s}}else{switch(u=(h=this.Y(this.ta,this.j,this.v,this.V)).width/this.pixelRatio,r){case"Point":case"MultiPoint":s=(o=t.da()).length;break;case"LineString":o=t.Fe();break;case"Circle":o=t.xa();break;case"MultiLineString":s=(o=t.Ge()).length;break;case"Polygon":if(o=t.Td(),!n.overflow&&o[2]/this.resolution<u)return;a=3;break;case"MultiPolygon":for(o=[],s=0,r=(l=Ju(t)).length;s<r;s+=3)(n.overflow||l[s+2]/this.resolution>=u)&&o.push(l[s],l[s+1]);if(0==(s=o.length))return}s=ua(this,o,0,s,a,!1,!1),ca(this,e),(n.backgroundFill||n.backgroundStroke)&&(this.Oa(n.backgroundFill,n.backgroundStroke),ba(this,this.state,this.Ah,t),wa(this,this.state,this.pd)),function(t,e,i,o){var n=t.f,r=t.g,s=t.pixelRatio,a=aa[n.textAlign||"center"],h=aa[n.textBaseline];t.a.push([6,i,o,e,((a=a*e.width/s+2*(.5-a)*(r=r&&r.lineWidth?r.lineWidth:0))-t.D)*s,((h=h*e.height/s+2*(.5-h)*r)-t.l)*s,t.N,e.height,1,0,0,t.C,t.B,1,!0,e.width,n.padding==os?os:n.padding.map(function(t){return t*s}),!!n.backgroundFill,!!n.backgroundStroke]),t.b.push([6,i,o,e,(a-t.D)*s,(h-t.l)*s,t.N,e.height,1,0,0,t.C,t.B,1/s,!0,e.width,n.padding,!!n.backgroundFill,!!n.backgroundStroke])}(this,h,i,s)}xa(this,e)}},Pa.prototype.Y=function(t,e,i,o){var n=o+e+t+i+this.pixelRatio;if(!ns.a.hasOwnProperty(n)){var r=o?this.ab[o]||this.g:null,s=i?this.o[i]||this.c:null,a=this.s[e]||this.f,h=a.scale*this.pixelRatio,l=aa[a.textAlign||"center"];e=o&&r.lineWidth?r.lineWidth:0;var p,u=(t=t.split("\n")).length,d=[],c=a.font,f=t.length,y=0;for(p=0;p<f;++p){var g=us(c,t[p]);y=Math.max(y,g),d.push(g)}if(f=y,c=ps(a.font),f=vn(Math.ceil((f+e)*h),Math.ceil((c*u+e)*h)),ns.set(n,y=f.canvas),1!=h&&f.scale(h,h),f.font=a.font,o&&(f.strokeStyle=r.strokeStyle,f.lineWidth=e*(Ye?h:1),f.lineCap=r.lineCap,f.lineJoin=r.lineJoin,f.miterLimit=r.miterLimit,Ke&&r.lineDash.length&&(f.setLineDash(r.lineDash),f.lineDashOffset=r.lineDashOffset)),i&&(f.fillStyle=s.fillStyle),f.textBaseline="middle",f.textAlign="center",s=l*y.width/h+(r=.5-l)*e,o)for(o=0;o<u;++o)f.strokeText(t[o],s+r*d[o],.5*(e+c)+o*c);if(i)for(o=0;o<u;++o)f.fillText(t[o],s+r*d[o],.5*(e+c)+o*c)}return ns.get(n)},Pa.prototype.nb=function(t,e){var i,o;if(t){if(this.N=e,(o=t.Fa())?((e=this.c)||(e=this.c={}),e.fillStyle=xs(o.b||ts)):e=this.c=null,i=t.Ga()){(o=this.g)||(o=this.g={});var n=i.g,r=i.i,s=i.c,a=i.l;o.lineCap=i.f||"round",o.lineDash=n?n.slice():es,o.lineDashOffset=void 0===r?0:r,o.lineJoin=i.j||"round",o.lineWidth=void 0===s?1:s,o.miterLimit=void 0===a?10:a,o.strokeStyle=xs(i.a||is)}else o=this.g=null;i=this.f,hs(n=t.a||"10px sans-serif"),r=t.b,i.overflow=t.v,i.font=n,i.maxAngle=t.s,i.placement=t.o,i.textAlign=t.f,i.textBaseline=t.j||"middle",i.backgroundFill=t.N,i.backgroundStroke=t.D,i.padding=t.C||os,i.scale=void 0===r?1:r,n=t.g,r=t.c,s=t.l,a=t.i,this.ta=t.Ka()||"",this.D=void 0===n?0:n,this.l=void 0===r?0:r,this.C=void 0!==s&&s,this.B=void 0===a?0:a,this.V=o?("string"==typeof o.strokeStyle?o.strokeStyle:h(o.strokeStyle))+o.lineCap+o.lineDashOffset+"|"+o.lineWidth+o.lineJoin+o.miterLimit+"["+o.lineDash.join()+"]":"",this.j=i.font+i.scale+(i.textAlign||"?"),this.v=e?"string"==typeof e.fillStyle?e.fillStyle:"|"+h(e.fillStyle):""}else this.ta=""},s(Oa,na);var Da={0:[[!0]]};function Ia(t,e,i){var o,n=Math.floor(t.length/2);if(e>=n)for(o=n;o<e;o++)t[o][i]=!0;else if(e<n)for(o=e+1;o<n;o++)t[o][i]=!0}function Ra(t){for(var e in t.b){var i,o=t.b[e];for(i in o)o[i].bf()}}function Na(t,e){var i=t.c,o=i[1],n=i[2];return po(t=[t=i[0],o,t,i=i[3],n,i,n,o],0,8,2,e,t),t}(t=Oa.prototype).Vb=function(t){var e=null;return this.a&&(t?(e=this.g)[4]++:(e=this.g=[1/0,1/0,-1/0,-1/0]).push(1)),e},t.wa=function(t,e,i,o,n,r,s){function a(t){for(var e=p.getImageData(0,0,h,h).data,i=0;i<h;i++)for(var o=0;o<h;o++)if(c[i][o]&&0<e[4*(o*h+i)+3]){if(!d||"Image"!=g&&"Text"!=g||-1!==d.indexOf(t))var n=r(t);return n||void p.clearRect(0,0,h,h)}}var h=2*(o=Math.round(o))+1,l=_o(this.j,o+.5,o+.5,1/e,-1/e,-i,-t[0],-t[1]),p=this.f;if(p.canvas.width!==h||p.canvas.height!==h?(p.canvas.width=h,p.canvas.height=h):p.clearRect(0,0,h,h),void 0!==this.i){var u=[1/0,1/0,-1/0,-1/0];z(u,t),C(u,e*(this.i+o),u)}var d,c=function(t){if(void 0!==Da[t])return Da[t];for(var e=2*t+1,i=Array(e),o=0;o<e;o++)i[o]=Array(e);e=t;for(var n=o=0;e>=o;)Ia(i,t+e,t+o),Ia(i,t+o,t+e),Ia(i,t-o,t+e),Ia(i,t-e,t+o),Ia(i,t-e,t-o),Ia(i,t-o,t-e),Ia(i,t+o,t-e),Ia(i,t+e,t-o),0<2*((n+=1+2*++o)-e)+1&&(n+=1-2*--e);return Da[t]=i}(o);for(this.a&&(d=this.a.all().map(function(t){return t.value})),(t=Object.keys(this.b).map(Number)).sort(Wt),e=t.length-1;0<=e;--e){var f=t[e].toString(),y=this.b[f];for(o=sa.length-1;0<=o;--o){var g=sa[o],m=y[g];if(void 0!==m)if(!s||"Image"!=g&&"Text"!=g){if(m=ma(m,p,l,i,n,a,u))return m}else{var v=s[f];v?v.push(m,l.slice(0)):s[f]=[m,l.slice(0)]}}}},t.Ja=function(t,e){var i=void 0!==t?t.toString():"0";return void 0===(t=this.b[i])&&(this.b[i]=t={}),void 0===(i=t[e])&&(i=new La[e](this.o,this.c,this.v,this.s,this.l,this.a),t[e]=i),i},t.yg=function(){return rt(this.b)},t.Na=function(t,e,i,o,n,r){var s=Object.keys(this.b).map(Number);s.sort(Wt),t.save();var a,h,l=Na(this,e);for(t.beginPath(),t.moveTo(l[0],l[1]),t.lineTo(l[2],l[3]),t.lineTo(l[4],l[5]),t.lineTo(l[6],l[7]),t.clip(),n=n||sa,l=0,a=s.length;l<a;++l){var p=s[l].toString(),u=this.b[p],d=0;for(h=n.length;d<h;++d){var c=n[d],f=u[c];void 0!==f&&(!r||"Image"!=c&&"Text"!=c?f.Na(t,e,i,o):(c=r[p])?c.push(f,e.slice(0)):r[p]=[f,e.slice(0)])}}t.restore()};var La={Circle:Ca,Default:ha,Image:Ma,LineString:ka,Polygon:Ca,Text:Pa};function ja(t,e){return h(t)-h(e)}function Fa(t,e){return(t=.5*t/e)*t}function za(t,e,i,o,n,r){var s,a=!1;if(s=i.Y()){var h=s.gf();2==h||3==h?s.Yj(n,r):(0==h&&s.load(),s.gi(n,r),a=!0)}return(n=(0,i.cb)(e))&&(o=n.Wd(o),i.Ie()?function t(e,i,o,n){if("GeometryCollection"==i.S())for(var r=0,s=(i=i.vd()).length;r<s;++r)t(e,i[r],o,n);else e.Ja(o.Ba(),"Default").Hh(i,n,o.Ie())}(t,o,i,e):(0,Ba[o.S()])(t,o,i,e)),a}var Ba={Point:function(t,e,i,o){var n=i.Y();if(n){if(2!=n.gf())return;var r=t.Ja(i.Ba(),"Image");r.Zb(n,t.Vb(!1)),r.yc(e,o)}(r=i.Ka())&&((i=t.Ja(i.Ba(),"Text")).nb(r,t.Vb(!!n)),i.Wb(e,o))},LineString:function(t,e,i,o){var n=i.Ga();if(n){var r=t.Ja(i.Ba(),"LineString");r.Oa(null,n),r.uc(e,o)}(n=i.Ka())&&((i=t.Ja(i.Ba(),"Text")).nb(n,t.Vb(!1)),i.Wb(e,o))},Polygon:function(t,e,i,o){var n=i.Fa(),r=i.Ga();if(n||r){var s=t.Ja(i.Ba(),"Polygon");s.Oa(n,r),s.zc(e,o)}(n=i.Ka())&&((i=t.Ja(i.Ba(),"Text")).nb(n,t.Vb(!1)),i.Wb(e,o))},MultiPoint:function(t,e,i,o){var n=i.Y();if(n){if(2!=n.gf())return;var r=t.Ja(i.Ba(),"Image");r.Zb(n,t.Vb(!1)),r.wc(e,o)}(r=i.Ka())&&((i=t.Ja(i.Ba(),"Text")).nb(r,t.Vb(!!n)),i.Wb(e,o))},MultiLineString:function(t,e,i,o){var n=i.Ga();if(n){var r=t.Ja(i.Ba(),"LineString");r.Oa(null,n),r.vc(e,o)}(n=i.Ka())&&((i=t.Ja(i.Ba(),"Text")).nb(n,t.Vb(!1)),i.Wb(e,o))},MultiPolygon:function(t,e,i,o){var n=i.Fa(),r=i.Ga();if(r||n){var s=t.Ja(i.Ba(),"Polygon");s.Oa(n,r),s.xc(e,o)}(n=i.Ka())&&((i=t.Ja(i.Ba(),"Text")).nb(n,t.Vb(!1)),i.Wb(e,o))},GeometryCollection:function(t,e,i,o){var n,r=0;for(n=(e=e.a).length;r<n;++r)(0,Ba[e[r].S()])(t,e[r],i,o)},Circle:function(t,e,i,o){var n=i.Fa(),r=i.Ga();if(n||r){var s=t.Ja(i.Ba(),"Circle");s.Oa(n,r),s.cc(e,o)}(n=i.Ka())&&((i=t.Ja(i.Ba(),"Text")).nb(n,t.Vb(!1)),i.Wb(e,o))}};function qa(t){js.call(this,t),this.f=t.D?oa.Jc(9):null,this.i=!1,this.N=-1,this.o=NaN,this.l=[1/0,1/0,-1/0,-1/0],this.c=this.v=null,this.j=!0,this.context=vn(),ge(ns,"clear",this.Vi,this)}function Ha(t){this.context=null,ea.call(this,t),this.N=t.D?oa.Jc(9):null,this.D=!1,this.ca=[1,0,0,1,0,0],this.O="vector"==t.l?1:0,ge(ns,"clear",this.Xi,this)}s(qa,js),qa.handles=function(t,e){return"canvas"===t&&"VECTOR"===e.S()},qa.create=function(t,e){return new qa(e)},(t=qa.prototype).ia=function(){ve(ns,"clear",this.Vi,this),js.prototype.ia.call(this)},t.df=function(t,e,i){var o=t.extent,n=t.pixelRatio,r=e.Te?t.skippedFeatureUids:{},s=t.viewState,a=s.projection,h=s.rotation,l=a.G(),p=this.a.ha(),u=Bs(this,t,0);zs(this,"precompose",i,t,u);var d=e.extent;(s=void 0!==d)&&Fs(i,t,d);var c=this.c;if(c&&!c.yg()){this.f&&this.f.clear();var f=d=0,y=1!==e.opacity,g=Ce(this.a,"render");if(y||g){var m=i.canvas.width,v=i.canvas.height;if(h){var b=Math.round(Math.sqrt(m*m+v*v));d=(b-m)/2,f=(b-v)/2,m=v=b}this.context.canvas.width=m,this.context.canvas.height=v,m=this.context}else m=i;if(v=m.globalAlpha,y||(m.globalAlpha=e.opacity),m!=i&&m.translate(d,f),ds(m,-h,(b=t.size[0]*n)/2,(n*=t.size[1])/2),c.Na(m,u,h,r),p.D&&a.g&&!A(l,o)){a=o[0],p=J(l);for(var w=0;a<l[0];)u=Bs(this,t,u=p*--w),c.Na(m,u,h,r),a+=p;for(w=0,a=o[2];a>l[2];)u=Bs(this,t,u=p*++w),c.Na(m,u,h,r),a-=p;u=Bs(this,t,0)}ds(m,h,b/2,n/2),m!=i&&(g&&zs(this,"render",m,t,u),y?(o=i.globalAlpha,i.globalAlpha=e.opacity,i.drawImage(m.canvas,-d,-f),i.globalAlpha=o):i.drawImage(m.canvas,-d,-f),m.translate(-d,-f)),y||(m.globalAlpha=v)}s&&i.restore(),this.pf(i,t,e,u)},t.wa=function(t,e,i,o,n){if(this.c){var r=this.a,s={};return this.c.wa(t,e.viewState.resolution,e.viewState.rotation,i,{},function(t){var e=h(t).toString();if(!(e in s))return s[e]=!0,o.call(n,t,r)},null)}},t.Vi=function(){var t=this.a;t.Jb()&&this.c&&t.u()},t.Wi=function(){Ds(this)},t.$c=function(t){var e=this.a,i=e.ha();Rs(t,i);var o=t.viewHints[0],n=t.viewHints[1],r=e.ca,s=e.ra;if(!this.i&&!r&&o||!s&&n)return!0;r=t.extent;var a=t.viewState;s=a.projection;var h=a.resolution,l=t.pixelRatio;o=e.g;var p=e.f;if(void 0===(n=e.get(zv))&&(n=ja),r=C(r,p*h),p=a.projection.G(),i.D&&a.projection.g&&!A(p,t.extent)&&(t=Math.max(J(r)/2,J(p)),r[0]=p[0]-t,r[2]=p[2]+t),!this.i&&this.o==h&&this.N==o&&this.v==n&&A(this.l,r))return this.j=!1,!0;this.c=null,this.i=!1;var u=new Oa(.5*h/l,r,h,l,i.$,this.f,e.f);if(i.ae(r,h,s),t=(function(t){var i=t.ib();if(i)var o=i.call(t,h);else(i=e.ib())&&(o=i(t,h));if(o){if(o){if(i=!1,Array.isArray(o))for(var n=0,r=o.length;n<r;++n)i=za(u,t,o[n],Fa(h,l),this.Wi,this)||i;else i=za(u,t,o,Fa(h,l),this.Wi,this);t=i}else t=!1;this.i=this.i||t}}).bind(this),n){var d=[];for(i.ec(r,function(t){d.push(t)},this),d.sort(n),i=0,s=d.length;i<s;++i)t(d[i])}else i.ec(r,t,this);return Ra(u),this.o=h,this.N=o,this.v=n,this.l=r,this.c=u,this.j=!0},s(Ha,ea),Ha.handles=function(t,e){return"canvas"===t&&"VECTOR_TILE"===e.S()},Ha.create=function(t,e){return new Ha(e)};var Ua={image:["Polygon","Circle","LineString","Image","Text"],hybrid:["Polygon","LineString"]},Wa={image:["Default"],hybrid:["Image","Text","Default"],vector:sa};function Ga(t){delete(t=it({},t)).renderer,t.controls||(t.controls=Un()),t.interactions||(t.interactions=Xr()),Pn.call(this,t)}function Ya(t){Te.call(this),t=t||{},this.a=null,ge(this,Ae(Ja),this.$m,this),this.rg(void 0!==t.tracking&&t.tracking)}(t=Ha.prototype).ia=function(){ve(ns,"clear",this.Xi,this),ea.prototype.ia.call(this)},t.$c=function(t,e){var i=this.a,o=i.g;return this.B!=o&&(this.f.length=0,i=i.l,this.context||"vector"==i||(this.context=vn()),this.context&&"vector"==i&&(this.context=null)),this.B=o,ea.prototype.$c.apply(this,arguments)},t.Sf=function(t,e,i,o,n,r,s,a,l){var p=t,u=this.a,d=e.pixelRatio,c=e.viewState.projection,f=u.g,y=u.get(zv)||null,g=Mx(p,u);if(g.Be||g.wf!=f||g.eh!=y){var m=u.ha(),v=m.tileGrid,b=m.eb(c),w=b.Ta(p.ya[0]);b=b.Ma(p.l);for(var x=0,_=p.a.length;x<_;++x){var M=p.c[p.a[x]];if(3!=M.getState()){var k=v.Ma(M.ya),S=X(b,k),E=j(k,S)?null:C(S,u.f*w),T=M.o,P=!1;Lt(c,T)||(P=!0,M.vg(c)),g.Be=!1,S=new Oa(0,S,w,d,m.s,this.N,u.f);var A=Fa(w,d),O=M.a;y&&y!==g.eh&&O.sort(y);for(var D,I=0,R=O.length;I<R;++I)if(D=O[I],P&&("tile-pixels"==T.a&&(T.Sj(k),T.Si(M.G())),D.U().mb(T,c)),!E||$(E,D.U().G())){var N=void 0,L=D.ib();if(L?N=L.call(D,w):(L=u.ib())&&(N=L(D,w)),N){L=A;var F=S;if(N){var z=!1;if(Array.isArray(N))for(var B=0,q=N.length;B<q;++B)z=za(F,D,N[B],L,this.Yi,this)||z;else z=za(F,D,N,L,this.Yi,this);D=z}else D=!1;this.D=this.D||D,g.Be=g.Be||D}}for(var H in Ra(S),S.b);k=p.ya.toString(),E=S,M.f[h(u)+","+k]=E}}g.wf=f,g.eh=y}if(this.context){if(g=e,c=Mx(p,u=this.a),f=u.g,(d=Ua[u.l])&&c.fh!==f)for(c.fh=f,w=(m=p.l)[0],c=g.pixelRatio,f=(v=(H=u.ha()).eb(g.viewState.projection)).Ta(w),y=_x(p,u),g=H.Zd(w,c,g.viewState.projection),y.canvas.width=g[0],y.canvas.height=g[1],g=v.Ma(m),m=0,v=p.a.length;m<v;++m)3!=(w=p.c[p.a[m]]).getState()&&(H=c/f,wo(b=fo(this.ca),H,-H),xo(b,-g[0],-g[3]),Wp(w,u,p.ya.toString()).Na(y,b,0,{},d));ea.prototype.Sf.apply(this,arguments)}},t.wa=function(t,e,i,o,n){var r=e.viewState.resolution,s=e.viewState.rotation;i=void 0==i?0:i;var a,l=this.a,p={},u=this.f;e=l.ha().eb(e.viewState.projection);var d=0;for(a=u.length;d<a;++d){var c=u[d],f=c.l,y=C(f=e.Ma(f,this.T),i*r,y);if(P(y,t)){f=0;for(var g=c.a.length;f<g;++f){var m=c.c[c.a[f]];if(3!=m.getState()){m=Wp(m,l,c.ya.toString());var v=v||m.wa(t,r,s,i,{},function(t){var e=h(t).toString();if(!(e in p))return p[e]=!0,o.call(n,t,l)},null)}}}}return v},t.Xi=function(){var t=this.a;t.Jb()&&void 0!==this.B&&t.u()},t.Yi=function(){Ds(this)},t.pf=function(t,e,i){var o=this.a,n=o.D?{}:null,r=o.ha(),s=o.l,a=Wa[s],h=e.pixelRatio,l=e.viewState.rotation,p=e.size;if(l){var u=Math.round(h*p[0]/2),d=Math.round(h*p[1]/2);ds(t,-l,u,d)}n&&this.N.clear(),h=this.f,r=r.eb(e.viewState.projection),p=[];for(var c=[],f=h.length-1;0<=f;--f){var y=h[f];if(5!=y.getState())for(var g=y.ya,m=r.Ma(g)[0]-r.Ma(y.l)[0],v=void 0,b=0,w=y.a.length;b<w;++b){var x=y.c[y.a[b]];if(3!=x.getState()){var _,M=Wp(x,o,g.toString());if(!(_="vector"==s))t:{for(_ in _=void 0,M.b)for(var k=M.b[_],S=0,C=a.length;S<C;++S)if(a[S]in k){_=!0;break t}_=!1}if(_){for(v||(v=Bs(this,e,m)),x=x.ya[0],_=Na(M,v),t.save(),t.globalAlpha=i.opacity,k=0,S=p.length;k<S;++k)C=p[k],x<c[k]&&(t.beginPath(),t.moveTo(_[0],_[1]),t.lineTo(_[2],_[3]),t.lineTo(_[4],_[5]),t.lineTo(_[6],_[7]),t.moveTo(C[6],C[7]),t.lineTo(C[4],C[5]),t.lineTo(C[2],C[3]),t.lineTo(C[0],C[1]),t.clip());M.Na(t,v,l,{},a,n),t.restore(),p.push(_),c.push(x)}}}}if(n)for(o=t,a={},h=0,r=(s=Object.keys(n).map(Number).sort(Wt)).length;h<r;++h)for(c=0,f=(p=n[s[h].toString()]).length;c<f;)y=p[c++],g=p[c++],y.Na(o,g,l,a);l&&ds(t,l,u,d),ea.prototype.pf.apply(this,arguments)},En("MAP_RENDERER",Qs),Tn([Hs,ea,qa,Ha]),s(Ga,Pn),s(Ya,Te),(t=Ya.prototype).ia=function(){this.rg(!1),Te.prototype.ia.call(this)},t.Dp=function(t){if(null!==t.alpha){var e=b(t.alpha);this.set(Va,e),"boolean"==typeof t.absolute&&t.absolute?this.set(Ka,e):"number"==typeof t.webkitCompassHeading&&-1!=t.webkitCompassAccuracy&&this.set(Ka,b(t.webkitCompassHeading))}null!==t.beta&&this.set(Xa,b(t.beta)),null!==t.gamma&&this.set(Za,b(t.gamma)),this.u()},t.Ym=function(){return this.get(Va)},t.ll=function(){return this.get(Xa)},t.ql=function(){return this.get(Za)},t.Zm=function(){return this.get(Ka)},t.li=function(){return this.get(Ja)},t.$m=function(){if($e){var t=this.li();t&&!this.a?this.a=ge(window,"deviceorientation",this.Dp,this):t||null===this.a||(be(this.a),this.a=null)}},t.rg=function(t){this.set(Ja,t)};var Va="alpha",Xa="beta",Za="gamma",Ka="heading",Ja="tracking";function $a(t){this.i=t.opacity,this.s=t.rotateWithView,this.f=t.rotation,this.a=t.scale,this.v=t.snapToPixel}function Qa(t){this.D=this.o=this.c=null,this.Xa=void 0!==t.fill?t.fill:null,this.oa=[0,0],this.l=t.points,this.b=void 0!==t.radius?t.radius:t.radius1,this.g=t.radius2,this.j=void 0!==t.angle?t.angle:0,this.Ya=void 0!==t.stroke?t.stroke:null,this.B=this.qa=this.C=null,this.N=t.atlasManager,th(this,this.N),$a.call(this,{opacity:1,rotateWithView:void 0!==t.rotateWithView&&t.rotateWithView,rotation:void 0!==t.rotation?t.rotation:0,scale:1,snapToPixel:void 0===t.snapToPixel||t.snapToPixel})}function th(t,e){var i="",o="",n=0,r=null,s=0,a=0;if(t.Ya){var l=t.Ya.a;null===l&&(l=is),l=xs(l),void 0===(a=t.Ya.c)&&(a=1),r=t.Ya.g,s=t.Ya.i,Ke||(r=null,s=0),void 0===(o=t.Ya.j)&&(o="round"),void 0===(i=t.Ya.f)&&(i="round"),void 0===(n=t.Ya.l)&&(n=10)}var p=2*(t.b+a)+1;if(i={strokeStyle:l,Wj:a,size:p,lineCap:i,lineDash:r,lineDashOffset:s,lineJoin:o,miterLimit:n},void 0===e){var u=vn(p,p);t.o=u.canvas,e=p=t.o.width,t.Jh(i,u,0,0),t.Xa?t.D=t.o:(u=vn(i.size,i.size),t.D=u.canvas,t.Ih(i,u,0,0))}else p=Math.round(p),(o=!t.Xa)&&(u=t.Ih.bind(t,i)),t.Ya?(void 0===(n=t.Ya).b&&(n.b="s",n.b=n.a?"string"==typeof n.a?n.b+n.a:n.b+h(n.a).toString():n.b+"-",n.b+=","+(void 0!==n.f?n.f.toString():"-")+","+(n.g?n.g.toString():"-")+","+(void 0!==n.i?n.i:"-")+","+(void 0!==n.j?n.j:"-")+","+(void 0!==n.l?n.l.toString():"-")+","+(void 0!==n.c?n.c.toString():"-")),n=n.b):n="-",t.Xa?(void 0===(r=t.Xa).a&&(r.a=r.b instanceof CanvasPattern||r.b instanceof CanvasGradient?h(r.b).toString():"f"+(r.b?vs(r.b):"-")),r=r.a):r="-",t.c&&n==t.c[1]&&r==t.c[2]&&t.b==t.c[3]&&t.g==t.c[4]&&t.j==t.c[5]&&t.l==t.c[6]||(t.c=["r"+n+r+(void 0!==t.b?t.b.toString():"-")+(void 0!==t.g?t.g.toString():"-")+(void 0!==t.j?t.j.toString():"-")+(void 0!==t.l?t.l.toString():"-"),n,r,t.b,t.g,t.j,t.l]),u=e.add(t.c[0],p,p,t.Jh.bind(t,i),u),t.o=u.image,t.oa=[u.offsetX,u.offsetY],e=u.image.width,t.D=o?u.Bm:t.o;t.C=[p/2,p/2],t.qa=[p,p],t.B=[e,e]}function eh(t){Qa.call(this,{points:1/0,fill:(t=t||{}).fill,radius:t.radius,snapToPixel:t.snapToPixel,stroke:t.stroke,atlasManager:t.atlasManager})}function ih(t){this.b=void 0!==(t=t||{}).color?t.color:null,this.a=void 0}function oh(t){this.a=void 0!==(t=t||{}).color?t.color:null,this.f=t.lineCap,this.g=void 0!==t.lineDash?t.lineDash:null,this.i=t.lineDashOffset,this.j=t.lineJoin,this.l=t.miterLimit,this.c=t.width,this.b=void 0}function nh(t){t=t||{},this.Uc=null,this.cb=lh,void 0!==t.geometry&&this.Va(t.geometry),this.Xa=void 0!==t.fill?t.fill:null,this.M=void 0!==t.image?t.image:null,this.pc=void 0!==t.renderer?t.renderer:null,this.Ya=void 0!==t.stroke?t.stroke:null,this.ta=void 0!==t.text?t.text:null,this.bk=t.zIndex}function rh(t){if("function"!=typeof t){if(Array.isArray(t))var e=t;else f(t instanceof nh,41),e=[t];t=function(){return e}}return t}(t=$a.prototype).hf=function(){return this.i},t.jf=function(){return this.s},t.kf=function(){return this.f},t.lf=function(){return this.a},t.Ke=function(){return this.v},t.Ed=function(t){this.i=t},t.mf=function(t){this.f=t},t.Fd=function(t){this.a=t},s(Qa,$a),(t=Qa.prototype).clone=function(){var t=new Qa({fill:this.Fa()?this.Fa().clone():void 0,points:this.l,radius:this.b,radius2:this.g,angle:this.j,snapToPixel:this.v,stroke:this.Ga()?this.Ga().clone():void 0,rotation:this.f,rotateWithView:this.s,atlasManager:this.N});return t.Ed(this.i),t.Fd(this.a),t},t.Vc=function(){return this.C},t.ij=function(){return this.j},t.Fa=function(){return this.Xa},t.Eg=function(){return this.D},t.Y=function(){return this.o},t.He=function(){return this.B},t.gf=function(){return 2},t.bd=function(){return this.oa},t.jj=function(){return this.l},t.kj=function(){return this.b},t.Zh=function(){return this.g},t.oc=function(){return this.qa},t.Ga=function(){return this.Ya},t.gi=function(){},t.load=function(){},t.Yj=function(){},t.Jh=function(t,e,i,o){e.setTransform(1,0,0,1,0,0),e.translate(i,o),e.beginPath();var n=this.l;if(1/0===n)e.arc(t.size/2,t.size/2,this.b,0,2*Math.PI,!0);else{var r=void 0!==this.g?this.g:this.b;for(r!==this.b&&(n*=2),i=0;i<=n;i++){o=2*i*Math.PI/n-Math.PI/2+this.j;var s=0==i%2?this.b:r;e.lineTo(t.size/2+s*Math.cos(o),t.size/2+s*Math.sin(o))}}this.Xa&&(null===(i=this.Xa.b)&&(i=ts),e.fillStyle=xs(i),e.fill()),this.Ya&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.Wj,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineCap=t.lineCap,e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke()),e.closePath()},t.Ih=function(t,e,i,o){var n;if(e.setTransform(1,0,0,1,0,0),e.translate(i,o),e.beginPath(),1/0===(i=this.l))e.arc(t.size/2,t.size/2,this.b,0,2*Math.PI,!0);else for((o=void 0!==this.g?this.g:this.b)!==this.b&&(i*=2),n=0;n<=i;n++){var r=2*n*Math.PI/i-Math.PI/2+this.j,s=0==n%2?this.b:o;e.lineTo(t.size/2+s*Math.cos(r),t.size/2+s*Math.sin(r))}e.fillStyle=ts,e.fill(),this.Ya&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.Wj,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.stroke()),e.closePath()},s(eh,Qa),eh.prototype.clone=function(){var t=new eh({fill:this.Fa()?this.Fa().clone():void 0,stroke:this.Ga()?this.Ga().clone():void 0,radius:this.b,snapToPixel:this.v,atlasManager:this.N});return t.Ed(this.i),t.Fd(this.a),t},eh.prototype.fd=function(t){this.b=t,th(this,this.N)},ih.prototype.clone=function(){var t=this.b;return new ih({color:t&&t.slice?t.slice():t||void 0})},ih.prototype.g=function(){return this.b},ih.prototype.c=function(t){this.b=t,this.a=void 0},(t=oh.prototype).clone=function(){var t=this.a;return new oh({color:t&&t.slice?t.slice():t||void 0,lineCap:this.f,lineDash:this.g?this.g.slice():void 0,lineDashOffset:this.i,lineJoin:this.j,miterLimit:this.l,width:this.c})},t.pp=function(){return this.a},t.vl=function(){return this.f},t.qp=function(){return this.g},t.wl=function(){return this.i},t.xl=function(){return this.j},t.Dl=function(){return this.l},t.rp=function(){return this.c},t.sp=function(t){this.a=t,this.b=void 0},t.yq=function(t){this.f=t,this.b=void 0},t.setLineDash=function(t){this.g=t,this.b=void 0},t.zq=function(t){this.i=t,this.b=void 0},t.Aq=function(t){this.j=t,this.b=void 0},t.Eq=function(t){this.l=t,this.b=void 0},t.Kq=function(t){this.c=t,this.b=void 0},(t=nh.prototype).clone=function(){var t=this.U();return t&&t.clone&&(t=t.clone()),new nh({geometry:t,fill:this.Fa()?this.Fa().clone():void 0,image:this.Y()?this.Y().clone():void 0,stroke:this.Ga()?this.Ga().clone():void 0,text:this.Ka()?this.Ka().clone():void 0,zIndex:this.Ba()})},t.Ie=function(){return this.pc},t.Iq=function(t){this.pc=t},t.U=function(){return this.Uc},t.rl=function(){return this.cb},t.Fa=function(){return this.Xa},t.yf=function(t){this.Xa=t},t.Y=function(){return this.M},t.ih=function(t){this.M=t},t.Ga=function(){return this.Ya},t.Af=function(t){this.Ya=t},t.Ka=function(){return this.ta},t.Hd=function(t){this.ta=t},t.Ba=function(){return this.bk},t.Va=function(t){"function"==typeof t?this.cb=t:"string"==typeof t?this.cb=function(e){return e.get(t)}:t?void 0!==t&&(this.cb=function(){return t}):this.cb=lh,this.Uc=t},t.$b=function(t){this.bk=t};var sh=null;function ah(){if(!sh){var t=new ih({color:"rgba(255,255,255,0.4)"}),e=new oh({color:"#3399CC",width:1.25});sh=[new nh({image:new eh({fill:t,stroke:e,radius:5}),fill:t,stroke:e})]}return sh}function hh(){var t={},e=[255,255,255,1],i=[0,153,255,1];return t.Polygon=[new nh({fill:new ih({color:[255,255,255,.5]})})],t.MultiPolygon=t.Polygon,t.LineString=[new nh({stroke:new oh({color:e,width:5})}),new nh({stroke:new oh({color:i,width:3})})],t.MultiLineString=t.LineString,t.Circle=t.Polygon.concat(t.LineString),t.Point=[new nh({image:new eh({radius:6,fill:new ih({color:i}),stroke:new oh({color:e,width:1.5})}),zIndex:1/0})],t.MultiPoint=t.Point,t.GeometryCollection=t.Polygon.concat(t.LineString,t.Point),t}function lh(t){return t.U()}function ph(t){Te.call(this),this.c=void 0,this.a="geometry",this.f=null,this.j=void 0,this.i=null,ge(this,Ae(this.a),this.Oe,this),void 0!==t&&(t instanceof ko||!t?this.Va(t):this.H(t))}function uh(t){Te.call(this),t=t||{},this.a=null,this.i=zt,this.f=new st(6378137),this.c=void 0,ge(this,Ae("projection"),this.en,this),ge(this,Ae("tracking"),this.fn,this),void 0!==t.projection&&this.oi(t.projection),void 0!==t.trackingOptions&&this.Rj(t.trackingOptions),this.Ue(void 0!==t.tracking&&t.tracking)}function dh(t,e,i,o,n,r){var s=NaN,a=NaN,h=(i-e)/o;if(1===h)s=t[e],a=t[e+1];else if(2==h)s=(1-n)*t[e]+n*t[e+o],a=(1-n)*t[e+1]+n*t[e+o+1];else if(0!==h){a=t[e],h=t[e+1];var l,p=0;for(s=[0],l=e+o;l<i;l+=o){var u=t[l],d=t[l+1];p+=Math.sqrt((u-a)*(u-a)+(d-h)*(d-h)),s.push(p),a=u,h=d}for(i=n*p,h=0,p=s.length,l=!1;h<p;)0>(a=+Wt(s[n=h+(p-h>>1)],i))?h=n+1:(p=n,l=!a);0>(n=l?h:~h)?(s=x(t[e+=(-n-2)*o],t[e+o],i=(i-s[-n-2])/(s[-n-1]-s[-n-2])),a=x(t[e+1],t[e+o+1],i)):(s=t[e+n*o],a=t[e+n*o+1])}return r?(r[0]=s,r[1]=a,r):[s,a]}function ch(t,e,i,o,n,r){if(i==e)return null;if(n<t[e+o-1])return r?((i=t.slice(e,e+o))[o-1]=n,i):null;if(t[i-1]<n)return r?((i=t.slice(i-o,i))[o-1]=n,i):null;if(n==t[e+o-1])return t.slice(e,e+o);for(e/=o,i/=o;e<i;)n<t[(1+(r=e+i>>1))*o-1]?i=r:e=r+1;if(n==(i=t[e*o-1]))return t.slice((e-1)*o,(e-1)*o+o);var s;for(r=(n-i)/(t[(e+1)*o-1]-i),i=[],s=0;s<o-1;++s)i.push(x(t[(e-1)*o+s],t[e*o+s],r));return i.push(n),i}function fh(t,e){So.call(this),this.c=null,this.o=this.D=this.j=-1,this.na(t,e)}function yh(t,e,i){for(var o,n,r,s,a,h=[],l=t(0),p=t(1),u=e(l),d=e(p),c=[p,l],f=[d,u],y=[1,0],g={},v=1e5;0<--v&&0<y.length;)r=y.pop(),l=c.pop(),u=f.pop(),(p=r.toString())in g||(h.push(u[0],u[1]),g[p]=!0),s=y.pop(),p=c.pop(),d=f.pop(),m((n=e(o=t(a=(r+s)/2)))[0],n[1],u[0],u[1],d[0],d[1])<i?(h.push(d[0],d[1]),g[p=s.toString()]=!0):(y.push(s,a,a,r),f.push(d,n,n,u),c.push(p,o,o,l));return h}function gh(t){this.a=(t=t||{}).font,this.i=t.rotation,this.l=t.rotateWithView,this.b=t.scale,this.ta=t.text,this.f=t.textAlign,this.j=t.textBaseline,this.Xa=void 0!==t.fill?t.fill:new ih({color:"#333"}),this.s=void 0!==t.maxAngle?t.maxAngle:Math.PI/4,this.o=void 0!==t.placement?t.placement:"point";var e=void 0===t.overflow?t.exceedLength:t.overflow;this.v=void 0!==e&&e,this.Ya=void 0!==t.stroke?t.stroke:null,this.g=void 0!==t.offsetX?t.offsetX:0,this.c=void 0!==t.offsetY?t.offsetY:0,this.N=t.backgroundFill?t.backgroundFill:null,this.D=t.backgroundStroke?t.backgroundStroke:null,this.C=void 0===t.padding?null:t.padding}function mh(t){t=t||{},this.i=this.v=null,this.j=this.f=1/0,this.s=this.l=-1/0,this.qa=this.oa=1/0,this.O=this.T=-1/0,this.ua=void 0!==t.targetSize?t.targetSize:100,this.ab=void 0!==t.maxLines?t.maxLines:100,this.g=[],this.c=[],this.ra=void 0!==t.strokeStyle?t.strokeStyle:vh,this.D=this.o=void 0,this.a=this.b=this.N=null,1==t.showLabels&&(this.$=void 0==t.lonLabelFormatter?Zi.bind(this,"EW"):t.lonLabelFormatter,this.Wa=void 0==t.latLabelFormatter?Zi.bind(this,"NS"):t.latLabelFormatter,this.ca=void 0==t.lonLabelPosition?0:t.lonLabelPosition,this.V=void 0==t.latLabelPosition?1:t.latLabelPosition,this.B=void 0!==t.lonLabelStyle?t.lonLabelStyle:new gh({font:"12px Calibri,sans-serif",textBaseline:"bottom",fill:new ih({color:"rgba(0,0,0,1)"}),stroke:new oh({color:"rgba(255,255,255,1)",width:3})}),this.C=void 0!==t.latLabelStyle?t.latLabelStyle:new gh({font:"12px Calibri,sans-serif",textAlign:"end",fill:new ih({color:"rgba(0,0,0,1)"}),stroke:new oh({color:"rgba(255,255,255,1)",width:3})}),this.b=[],this.a=[]),this.setMap(void 0!==t.map?t.map:null)}s(ph,Te),(t=ph.prototype).clone=function(){var t=new ph(this.L());t.Lc(this.a);var e=this.U();return e&&t.Va(e.clone()),(e=this.f)&&t.sg(e),t},t.U=function(){return this.get(this.a)},t.an=function(){return this.c},t.sl=function(){return this.a},t.bn=function(){return this.f},t.ib=function(){return this.j},t.bm=function(){this.u()},t.Oe=function(){this.i&&(be(this.i),this.i=null);var t=this.U();t&&(this.i=ge(t,"change",this.bm,this)),this.u()},t.Va=function(t){this.set(this.a,t)},t.sg=function(t){this.j=(this.f=t)?function(t){var e;if("function"==typeof t)e=2==t.length?function(e){return t(this,e)}:t;else{if(Array.isArray(t))var i=t;else f(t instanceof nh,41),i=[t];e=function(){return i}}return e}(t):void 0,this.u()},t.qc=function(t){this.c=t,this.u()},t.Lc=function(t){ve(this,Ae(this.a),this.Oe,this),this.a=t,ge(this,Ae(this.a),this.Oe,this),this.Oe()},s(uh,Te),(t=uh.prototype).ia=function(){this.Ue(!1),Te.prototype.ia.call(this)},t.en=function(){var t=this.mi();t&&(this.i=Ft(Nt("EPSG:4326"),t),this.a&&this.set("position",this.i(this.a)))},t.fn=function(){if(Qe){var t=this.ni();t&&void 0===this.c?this.c=navigator.geolocation.watchPosition(this.Pp.bind(this),this.Qp.bind(this),this.ai()):t||void 0===this.c||(navigator.geolocation.clearWatch(this.c),this.c=void 0)}},t.Pp=function(t){this.set("accuracy",(t=t.coords).accuracy),this.set("altitude",null===t.altitude?void 0:t.altitude),this.set("altitudeAccuracy",null===t.altitudeAccuracy?void 0:t.altitudeAccuracy),this.set("heading",null===t.heading?void 0:b(t.heading)),this.a?(this.a[0]=t.longitude,this.a[1]=t.latitude):this.a=[t.longitude,t.latitude];var e=this.i(this.a);this.set("position",e),this.set("speed",null===t.speed?void 0:t.speed),(t=sn(this.f,this.a,t.accuracy)).Rc(this.i),this.set("accuracyGeometry",t),this.u()},t.Qp=function(t){t.type="error",this.Ue(!1),this.b(t)},t.el=function(){return this.get("accuracy")},t.fl=function(){return this.get("accuracyGeometry")||null},t.gl=function(){return this.get("altitude")},t.hl=function(){return this.get("altitudeAccuracy")},t.cn=function(){return this.get("heading")},t.dn=function(){return this.get("position")},t.mi=function(){return this.get("projection")},t.Ol=function(){return this.get("speed")},t.ni=function(){return this.get("tracking")},t.ai=function(){return this.get("trackingOptions")},t.oi=function(t){this.set("projection",Nt(t))},t.Ue=function(t){this.set("tracking",t)},t.Rj=function(t){this.set("trackingOptions",t)},s(fh,So),(t=fh.prototype).Fk=function(t){this.A?Vt(this.A,t):this.A=t.slice(),this.u()},t.clone=function(){var t=new fh(null);return t.ba(this.ja,this.A.slice()),t},t.Nb=function(t,e,i,o){return o<T(this.G(),t,e)?o:(this.o!=this.g&&(this.D=Math.sqrt(Do(this.A,0,this.A.length,this.a,0)),this.o=this.g),Ro(this.A,0,this.A.length,this.a,this.D,!1,t,e,i,o))},t.dl=function(t,e){return Jo(this.A,0,this.A.length,this.a,t,e)},t.Tn=function(t,e){return"XYM"!=this.ja&&"XYZM"!=this.ja?null:ch(this.A,0,this.A.length,this.a,t,void 0!==e&&e)},t.W=function(){return zo(this.A,0,this.A.length,this.a)},t.Ph=function(t,e){return dh(this.A,0,this.A.length,this.a,t,e)},t.Un=function(){return ra(this.A,0,this.A.length,this.a)},t.Fe=function(){return this.j!=this.g&&(this.c=this.Ph(.5,this.c),this.j=this.g),this.c},t.xd=function(t){var e=[];return e.length=Ho(this.A,0,this.A.length,this.a,t,e,0),(t=new fh(null)).ba("XY",e),t},t.S=function(){return"LineString"},t.$a=function(t){return $o(this.A,0,this.A.length,this.a,t)},t.na=function(t,e){t?(To(this,e,t,1),this.A||(this.A=[]),this.A.length=jo(this.A,0,t,this.a),this.u()):this.ba("XY",null)},t.ba=function(t,e){Eo(this,t,e),this.u()},(t=gh.prototype).clone=function(){return new gh({font:this.a,placement:this.o,maxAngle:this.s,overflow:this.v,rotation:this.i,rotateWithView:this.l,scale:this.b,text:this.Ka(),textAlign:this.f,textBaseline:this.j,fill:this.Fa()?this.Fa().clone():void 0,stroke:this.Ga()?this.Ga().clone():void 0,offsetX:this.g,offsetY:this.c})},t.Gl=function(){return this.v},t.pl=function(){return this.a},t.Bl=function(){return this.s},t.Kl=function(){return this.o},t.El=function(){return this.g},t.Fl=function(){return this.c},t.Fa=function(){return this.Xa},t.tp=function(){return this.l},t.up=function(){return this.i},t.vp=function(){return this.b},t.Ga=function(){return this.Ya},t.Ka=function(){return this.ta},t.Ql=function(){return this.f},t.Rl=function(){return this.j},t.jl=function(){return this.N},t.kl=function(){return this.D},t.Il=function(){return this.C},t.Fq=function(t){this.v=t},t.Jj=function(t){this.a=t},t.Bq=function(t){this.s=t},t.Nj=function(t){this.g=t},t.Oj=function(t){this.c=t},t.Hq=function(t){this.o=t},t.yf=function(t){this.Xa=t},t.wp=function(t){this.i=t},t.lj=function(t){this.b=t},t.Af=function(t){this.Ya=t},t.Hd=function(t){this.ta=t},t.Qj=function(t){this.f=t},t.Jq=function(t){this.j=t},t.sq=function(t){this.N=t},t.tq=function(t){this.D=t},t.Gq=function(t){this.C=t};var vh=new oh({color:"rgba(0,0,0,0.2)"}),bh=[90,45,30,20,10,5,2,1,.5,.2,.1,.05,.01,.005,.002,.001];function wh(t,e,i,o,n,r,s){var a=s;return i=function(t,e,i,o,n){return yh(function(o){return[t,e+(i-e)*o]},jt(Nt("EPSG:4326"),o),n)}(e,i,o,t.i,n),(a=void 0!==t.g[a]?t.g[a]:new fh(null)).ba("XY",i),$(a.G(),r)&&(t.b&&(i=s,r=[(o=a.da())[0],y(r[1]+Math.abs(r[1]-r[3])*t.ca,Math.max(r[1],o[1]),Math.min(r[3],o[o.length-1]))],(i=void 0!==t.b[i]?t.b[i].Qd:new Yo(null)).na(r),t.b[s]={Qd:i,text:t.$(e)}),t.g[s++]=a),s}function xh(t,e,i,o,n,r,s){var a=s;return i=function(t,e,i,o,n){return yh(function(o){return[e+(i-e)*o,t]},jt(Nt("EPSG:4326"),o),n)}(e,i,o,t.i,n),(a=void 0!==t.c[a]?t.c[a]:new fh(null)).ba("XY",i),$(a.G(),r)&&(t.a&&(i=s,o=a.da(),r=[y(r[0]+Math.abs(r[0]-r[2])*t.V,Math.max(r[0],o[0]),Math.min(r[2],o[o.length-2])),o[1]],(i=void 0!==t.a[i]?t.a[i].Qd:new Yo(null)).na(r),t.a[s]={Qd:i,text:t.Wa(e)}),t.c[s++]=a),s}function _h(t,e,i,o,n,r){Zr.call(this,t,e,i,0),this.i=o,this.M=new Image,null!==n&&(this.M.crossOrigin=n),this.g=null,this.state=0,this.c=r}function Mh(t,e,i){Se.call(this),i=i||{},this.ya=t,this.state=e,this.g=null,this.key="",this.j=void 0===i.transition?250:i.transition,this.s={}}function kh(t){if(!t.g)return t;var e=t.g;do{if(2==e.getState())return e;e=e.g}while(e);return t}function Sh(t){if(t.g){var e=t.g;do{if(2==e.getState()){e.g=null;break}1==e.getState()?t=e:0==e.getState()?t.g=e.g:t=e,e=t.g}while(e)}}function Ch(t,e){t.state=e,t.u()}function Eh(t,e,i){if(!t.j)return 1;var o=t.s[e];if(o){if(-1===o)return 1}else t.s[e]=o=i;return(e=i-o+1e3/60)>=t.j?1:no(e/t.j)}function Th(t,e,i,o,n,r){Mh.call(this,t,e,r),this.f=o,this.l=i,this.M=new Image,null!==o&&(this.M.crossOrigin=o),this.c=null,this.v=n}function Ph(t){t.c.forEach(be),t.c=null}function Ah(){var t=vn(1,1);return t.fillStyle="rgba(0,0,0,0)",t.fillRect(0,0,1,1),t.canvas}function Oh(t){this.b=t}function Dh(t){this.b=t}function Ih(t){this.b=t}(t=mh.prototype).gn=function(){return this.v},t.Cl=function(){return this.g},t.Jl=function(){return this.c},t.di=function(t){var e=t.vectorContext,i=t.frameState;t=i.extent;var o=i.viewState,n=o.center,r=o.projection;if(i=(o=o.resolution)*o/(4*(i=i.pixelRatio)*i),!this.i||!Lt(this.i,r)){var s=Nt("EPSG:4326"),a=r.G(),h=r.oe,l=Ht(h,s,r),p=h[2],u=h[1],d=h[0],c=l[3],f=l[2],g=l[1];l=l[0],this.f=h[3],this.j=p,this.l=u,this.s=d,this.oa=c,this.qa=f,this.T=g,this.O=l,this.o=jt(s,r),this.D=jt(r,s),this.N=this.D(G(a)),this.i=r}for(r=this.N[0],s=this.N[1],a=-1,p=Math.pow(this.ua*o,2),u=[],d=[],o=0,h=bh.length;o<h&&(u[0]=r-(c=bh[o]/2),u[1]=s-c,d[0]=r+c,d[1]=s+c,this.o(u,u),this.o(d,d),!((c=Math.pow(d[0]-u[0],2)+Math.pow(d[1]-u[1],2))<=p));++o)a=bh[o];if(-1==(o=a))this.g.length=this.c.length=0,this.b&&(this.b.length=0),this.a&&(this.a.length=0);else{for(n=(r=this.D(n))[0],r=r[1],s=this.ab,u=(h=Ht(h=[Math.max(t[0],this.O),Math.max(t[1],this.T),Math.min(t[2],this.qa),Math.min(t[3],this.oa)],this.i,"EPSG:4326"))[3],a=h[2],d=h[1],c=h[0],p=wh(this,f=y(n=Math.floor(n/o)*o,this.s,this.j),d,u,i,t,0),h=0;f!=this.s&&h++<s;)p=wh(this,f=Math.max(f-o,this.s),d,u,i,t,p);for(f=y(n,this.s,this.j),h=0;f!=this.j&&h++<s;)p=wh(this,f=Math.min(f+o,this.j),d,u,i,t,p);for(this.g.length=p,this.b&&(this.b.length=p),p=xh(this,n=y(r=Math.floor(r/o)*o,this.l,this.f),c,a,i,t,0),h=0;n!=this.l&&h++<s;)p=xh(this,n=Math.max(n-o,this.l),c,a,i,t,p);for(n=y(r,this.l,this.f),h=0;n!=this.f&&h++<s;)p=xh(this,n=Math.min(n+o,this.f),c,a,i,t,p);this.c.length=p,this.a&&(this.a.length=p)}for(e.Oa(null,this.ra),t=0,i=this.g.length;t<i;++t)e.Hb(n=this.g[t]);for(t=0,i=this.c.length;t<i;++t)e.Hb(n=this.c[t]);if(this.b)for(t=0,i=this.b.length;t<i;++t)this.B.Hd((n=this.b[t]).text),e.nb(this.B),e.Hb(n.Qd);if(this.a)for(t=0,i=this.a.length;t<i;++t)this.C.Hd((n=this.a[t]).text),e.nb(this.C),e.Hb(n.Qd)},t.setMap=function(t){this.v&&(this.v.J("postcompose",this.di,this),this.v.render()),t&&(t.I("postcompose",this.di,this),t.render()),this.v=t},s(_h,Zr),(t=_h.prototype).Y=function(){return this.M},t.kn=function(){this.state=3,this.g.forEach(be),this.g=null,this.u()},t.ln=function(){void 0===this.resolution&&(this.resolution=V(this.extent)/this.M.height),this.state=2,this.g.forEach(be),this.g=null,this.u()},t.load=function(){0!=this.state&&3!=this.state||(this.state=1,this.u(),this.g=[me(this.M,"error",this.kn,this),me(this.M,"load",this.ln,this)],this.c(this,this.i))},t.ih=function(t){this.M=t},s(Mh,Se),Mh.prototype.u=function(){this.b("change")},Mh.prototype.lb=function(){return this.key+"/"+this.ya},Mh.prototype.i=function(){return this.ya},Mh.prototype.getState=function(){return this.state},s(Th,Mh),(t=Th.prototype).ia=function(){1==this.state&&(Ph(this),this.M=Ah()),this.g&&_e(this.g),this.state=5,this.u(),Mh.prototype.ia.call(this)},t.Y=function(){return this.M},t.lb=function(){return this.l},t.hn=function(){this.state=3,Ph(this),this.M=Ah(),this.u()},t.jn=function(){this.state=this.M.naturalWidth&&this.M.naturalHeight?2:4,Ph(this),this.u()},t.load=function(){3==this.state&&(this.state=0,this.M=new Image,null!==this.f&&(this.M.crossOrigin=this.f)),0==this.state&&(this.state=1,this.u(),this.c=[me(this.M,"error",this.hn,this),me(this.M,"load",this.jn,this)],this.v(this,this.l))},s(Dh,Oh),Dh.prototype.S=function(){return 35632},s(Ih,Oh),Ih.prototype.S=function(){return 35633};var Rh=new Dh("precision mediump float;varying vec2 a;varying vec2 b;varying float c;varying float d;uniform float m;uniform vec4 n;uniform vec4 o;uniform vec2 p;void main(void){vec2 windowCenter=vec2((a.x+1.0)/2.0*p.x*d,(a.y+1.0)/2.0*p.y*d);vec2 windowOffset=vec2((b.x+1.0)/2.0*p.x*d,(b.y+1.0)/2.0*p.y*d);float radius=length(windowCenter-windowOffset);float dist=length(windowCenter-gl_FragCoord.xy);if(dist>radius+c){if(o.a==0.0){gl_FragColor=n;}else{gl_FragColor=o;}gl_FragColor.a=gl_FragColor.a-(dist-(radius+c));}else if(n.a==0.0){gl_FragColor=o;if(dist<radius-c){gl_FragColor.a=gl_FragColor.a-(radius-c-dist);}} else{gl_FragColor=n;float strokeDist=radius-c;float antialias=2.0*d;if(dist>strokeDist){gl_FragColor=o;}else if(dist>=strokeDist-antialias){float step=smoothstep(strokeDist-antialias,strokeDist,dist);gl_FragColor=mix(n,o,step);}} gl_FragColor.a=gl_FragColor.a*m;if(gl_FragColor.a<=0.0){discard;}}"),Nh=new Ih("varying vec2 a;varying vec2 b;varying float c;varying float d;attribute vec2 e;attribute float f;attribute float g;uniform mat4 h;uniform mat4 i;uniform mat4 j;uniform float k;uniform float l;void main(void){mat4 offsetMatrix=i*j;a=vec4(h*vec4(e,0.0,1.0)).xy;d=l;float lineWidth=k*l;c=lineWidth/2.0;if(lineWidth==0.0){lineWidth=2.0*l;}vec2 offset;float radius=g+3.0*l;//Until we get gl_VertexID in WebGL,we store an instruction.if(f==0.0){//Offsetting the edges of the triangle by lineWidth/2 is necessary,however//we should also leave some space for the antialiasing,thus we offset by lineWidth.offset=vec2(-1.0,1.0);}else if(f==1.0){offset=vec2(-1.0,-1.0);}else if(f==2.0){offset=vec2(1.0,-1.0);}else{offset=vec2(1.0,1.0);}gl_Position=h*vec4(e+offset*radius,0.0,1.0)+offsetMatrix*vec4(offset*lineWidth,0.0,0.0);b=vec4(h*vec4(e.x+g,e.y,0.0,1.0)).xy;if(distance(a,b)>20000.0){gl_Position=vec4(a,0.0,1.0);}}");function Lh(t,e){return t[0]=e[0],t[1]=e[1],t[4]=e[2],t[5]=e[3],t[12]=e[4],t[13]=e[5],t}function jh(t,e){this.origin=G(e),this.bb=[1,0,0,1,0,0],this.Ea=[1,0,0,1,0,0],this.La=[1,0,0,1,0,0],this.V=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],this.b=[],this.j=null,this.g=[],this.i=[],this.a=[],this.s=null,this.f=void 0}function Fh(t,e,i,o){t.drawElements(4,o-i,e.f?5125:5123,i*(e.f?4:2))}s(jh,_s),jh.prototype.Na=function(t,e,i,o,n,r,s,a,h,l,p){var u=t.b;if(this.f){var d=u.isEnabled(u.STENCIL_TEST),c=u.getParameter(u.STENCIL_FUNC),f=u.getParameter(u.STENCIL_VALUE_MASK),y=u.getParameter(u.STENCIL_REF),g=u.getParameter(u.STENCIL_WRITEMASK),m=u.getParameter(u.STENCIL_FAIL),v=u.getParameter(u.STENCIL_PASS_DEPTH_PASS),b=u.getParameter(u.STENCIL_PASS_DEPTH_FAIL);u.enable(u.STENCIL_TEST),u.clear(u.STENCIL_BUFFER_BIT),u.stencilMask(255),u.stencilFunc(u.ALWAYS,1,255),u.stencilOp(u.KEEP,u.KEEP,u.REPLACE),this.f.Na(t,e,i,o,n,r,s,a,h,l,p),u.stencilMask(0),u.stencilFunc(u.NOTEQUAL,1,255)}Jh(t,34962,this.s),Jh(t,34963,this.j),r=this.Bf(u,t,n,r);var w=fo(this.bb);if(wo(w,2/(i*n[0]),2/(i*n[1])),bo(w,-o),xo(w,-(e[0]-this.origin[0]),-(e[1]-this.origin[1])),wo(e=fo(this.La),2/n[0],2/n[1]),n=fo(this.Ea),0!==o&&bo(n,-o),u.uniformMatrix4fv(r.g,!1,Lh(this.V,w)),u.uniformMatrix4fv(r.i,!1,Lh(this.V,e)),u.uniformMatrix4fv(r.c,!1,Lh(this.V,n)),u.uniform1f(r.a,s),void 0===h)this.Od(u,t,a,!1);else{l?t=this.Ee(u,t,a,h,p):(u.clear(u.COLOR_BUFFER_BIT|u.DEPTH_BUFFER_BIT),this.Od(u,t,a,!0),t=(t=h(null))?t:void 0);var x=t}return this.Cf(u,r),this.f&&(d||u.disable(u.STENCIL_TEST),u.clear(u.STENCIL_BUFFER_BIT),u.stencilFunc(c,y,f),u.stencilMask(g),u.stencilOp(m,b,v)),x};var zh=[0,0,0,1],Bh=[],qh=[0,0,0,1];function Hh(t,e,i,o,n,r){return(t=(i-t)*(r-e)-(n-t)*(o-e))<=Uh&&t>=-Uh?void 0:0<t}var Uh=Number.EPSILON||2.220446049250313e-16;function Wh(t){this.b=void 0!==t?t:[],this.a=Gh}var Gh=35044;function Yh(t,e){jh.call(this,t,e),this.v=null,this.l=[],this.o=[],this.N=0,this.c={fillColor:null,strokeColor:null,lineDash:null,lineDashOffset:void 0,lineWidth:void 0,u:!1}}function Vh(t,e,i,o){e.uniform4fv(t.v.O,i),e.uniform1f(t.v.oa,o)}s(Yh,jh),(t=Yh.prototype).cc=function(t,e){var i=t.Bd(),o=t.pa();if(i){this.g.push(this.b.length),this.i.push(e),this.c.u&&(this.o.push(this.b.length),this.c.u=!1),this.N=i,t=uo(t=t.da(),0,2,o,-this.origin[0],-this.origin[1]),i=this.b.length;var n,r=(e=this.a.length)/4;for(n=0;2>n;n+=o)this.a[e++]=t[n],this.a[e++]=t[n+1],this.a[e++]=0,this.a[e++]=this.N,this.a[e++]=t[n],this.a[e++]=t[n+1],this.a[e++]=1,this.a[e++]=this.N,this.a[e++]=t[n],this.a[e++]=t[n+1],this.a[e++]=2,this.a[e++]=this.N,this.a[e++]=t[n],this.a[e++]=t[n+1],this.a[e++]=3,this.a[e++]=this.N,this.b[i++]=r,this.b[i++]=r+1,this.b[i++]=r+2,this.b[i++]=r+2,this.b[i++]=r+3,this.b[i++]=r,r+=4}else this.c.u&&(this.l.pop(),this.l.length&&(this.c.fillColor=(o=this.l[this.l.length-1])[0],this.c.strokeColor=o[1],this.c.lineWidth=o[2],this.c.u=!1))},t.gb=function(){this.s=new Wh(this.a),this.j=new Wh(this.b),this.g.push(this.b.length),0===this.o.length&&0<this.l.length&&(this.l=[]),this.b=this.a=null},t.Db=function(t){var e=this.s,i=this.j;return function(){$h(t,e),$h(t,i)}},t.Bf=function(t,e,i,o){var n=el(e,Rh,Nh);if(this.v)var r=this.v;else this.v=r=new function(t,e){this.g=t.getUniformLocation(e,"h"),this.i=t.getUniformLocation(e,"i"),this.c=t.getUniformLocation(e,"j"),this.oa=t.getUniformLocation(e,"k"),this.qa=t.getUniformLocation(e,"l"),this.a=t.getUniformLocation(e,"m"),this.C=t.getUniformLocation(e,"n"),this.O=t.getUniformLocation(e,"o"),this.T=t.getUniformLocation(e,"p"),this.b=t.getAttribLocation(e,"e"),this.j=t.getAttribLocation(e,"f"),this.N=t.getAttribLocation(e,"g")}(t,n);return e.cd(n),t.enableVertexAttribArray(r.b),t.vertexAttribPointer(r.b,2,5126,!1,16,0),t.enableVertexAttribArray(r.j),t.vertexAttribPointer(r.j,1,5126,!1,16,8),t.enableVertexAttribArray(r.N),t.vertexAttribPointer(r.N,1,5126,!1,16,12),t.uniform2fv(r.T,i),t.uniform1f(r.qa,o),r},t.Cf=function(t,e){t.disableVertexAttribArray(e.b),t.disableVertexAttribArray(e.j),t.disableVertexAttribArray(e.N)},t.Od=function(t,e,i){if(rt(i)){var o=this.g[this.g.length-1];for(i=this.o.length-1;0<=i;--i){var n=this.o[i],r=this.l[i];t.uniform4fv(this.v.C,r[0]),Vh(this,t,r[1],r[2]),Fh(t,e,n,o),o=n}}else{var s=this.g.length-2;for(r=o=this.g[s+1],n=this.o.length-1;0<=n;--n){var a=this.l[n];for(t.uniform4fv(this.v.C,a[0]),Vh(this,t,a[1],a[2]),a=this.o[n];0<=s&&this.g[s]>=a;){var l=this.g[s],p=this.i[s];i[p=h(p).toString()]&&(o!==r&&Fh(t,e,o,r),r=l),s--,o=l}o!==r&&Fh(t,e,o,r),o=r=a}}},t.Ee=function(t,e,i,o,n){var r,s,a=this.g.length-2,l=this.g[a+1];for(r=this.o.length-1;0<=r;--r){var p=this.l[r];for(t.uniform4fv(this.v.C,p[0]),Vh(this,t,p[1],p[2]),s=this.o[r];0<=a&&this.g[a]>=s;){p=this.g[a];var u=this.i[a];if(void 0===i[h(u).toString()]&&u.U()&&(void 0===n||$(n,u.U().G()))&&(t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),Fh(t,e,p,l),l=o(u)))return l;a--,l=p}}},t.Oa=function(t,e){if(e){var i=e.g;this.c.lineDash=i||Bh,this.c.lineDashOffset=(i=e.i)||0,i=(i=e.a)instanceof CanvasGradient||i instanceof CanvasPattern?qh:ms(i).map(function(t,e){return 3!=e?t/255:t})||qh,e=void 0!==(e=e.c)?e:1}else i=[0,0,0,0],e=0;t=(t=t?t.b:[0,0,0,0])instanceof CanvasGradient||t instanceof CanvasPattern?zh:ms(t).map(function(t,e){return 3!=e?t/255:t})||zh,this.c.strokeColor&&Zt(this.c.strokeColor,i)&&this.c.fillColor&&Zt(this.c.fillColor,t)&&this.c.lineWidth===e||(this.c.u=!0,this.c.fillColor=t,this.c.strokeColor=i,this.c.lineWidth=e,this.l.push([t,i,e]))};var Xh=new Dh("precision mediump float;varying vec2 a;varying float b;uniform float k;uniform sampler2D l;void main(void){vec4 texColor=texture2D(l,a);gl_FragColor.rgb=texColor.rgb;float alpha=texColor.a*b*k;if(alpha==0.0){discard;}gl_FragColor.a=alpha;}"),Zh=new Ih("varying vec2 a;varying float b;attribute vec2 c;attribute vec2 d;attribute vec2 e;attribute float f;attribute float g;uniform mat4 h;uniform mat4 i;uniform mat4 j;void main(void){mat4 offsetMatrix=i;if(g==1.0){offsetMatrix=i*j;}vec4 offsets=offsetMatrix*vec4(e,0.0,0.0);gl_Position=h*vec4(c,0.0,1.0)+offsets;a=d;b=f;}");function Kh(t,e){this.j=t,this.b=e,this.a={},this.c={},this.g={},this.s=this.v=this.i=this.l=null,(this.f=Gt(i,"OES_element_index_uint"))&&e.getExtension("OES_element_index_uint"),ge(this.j,"webglcontextlost",this.zp,this),ge(this.j,"webglcontextrestored",this.Ap,this)}function Jh(t,e,i){var o=t.b,n=i.b,r=String(h(i));if(r in t.a)o.bindBuffer(e,t.a[r].buffer);else{var s,a=o.createBuffer();o.bindBuffer(e,a),34962==e?s=new Float32Array(n):34963==e&&(s=t.f?new Uint32Array(n):new Uint16Array(n)),o.bufferData(e,s,i.a),t.a[r]={tc:i,buffer:a}}}function $h(t,e){var i=t.b;e=String(h(e));var o=t.a[e];i.isContextLost()||i.deleteBuffer(o.buffer),delete t.a[e]}function Qh(t){if(!t.i){var e=t.b,i=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,i);var o=ol(e,1,1),n=e.createRenderbuffer();e.bindRenderbuffer(e.RENDERBUFFER,n),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_COMPONENT16,1,1),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,o,0),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,n),e.bindTexture(e.TEXTURE_2D,null),e.bindRenderbuffer(e.RENDERBUFFER,null),e.bindFramebuffer(e.FRAMEBUFFER,null),t.i=i,t.v=o,t.s=n}return t.i}function tl(t,e){var i=String(h(e));if(i in t.c)return t.c[i];var o=t.b,n=o.createShader(e.S());return o.shaderSource(n,e.b),o.compileShader(n),t.c[i]=n}function el(t,e,i){var o=h(e)+"/"+h(i);if(o in t.g)return t.g[o];var n=t.b,r=n.createProgram();return n.attachShader(r,tl(t,e)),n.attachShader(r,tl(t,i)),n.linkProgram(r),t.g[o]=r}function il(t,e,i){var o=t.createTexture();return t.bindTexture(t.TEXTURE_2D,o),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),void 0!==e&&t.texParameteri(3553,10242,e),void 0!==i&&t.texParameteri(3553,10243,i),o}function ol(t,e,i){var o=il(t,void 0,void 0);return t.texImage2D(t.TEXTURE_2D,0,t.RGBA,e,i,0,t.RGBA,t.UNSIGNED_BYTE,null),o}function nl(t,e){var i=il(t,33071,33071);return t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e),i}function rl(t,e){jh.call(this,t,e),this.C=this.D=void 0,this.v=[],this.o=[],this.qa=this.oa=this.height=void 0,this.Wa=null,this.width=this.scale=this.rotation=this.rotateWithView=this.O=this.T=this.opacity=void 0}function sl(t,e,i,o){var n=t.D,r=t.C,s=t.height,a=t.oa,h=t.qa,l=t.opacity,p=t.T,u=t.O,d=t.rotateWithView?1:0,c=-t.rotation,f=t.scale,y=t.width,g=Math.cos(c);c=Math.sin(c);var m,v=t.b.length,b=t.a.length;for(m=0;m<i;m+=o){var w=e[m]-t.origin[0],x=e[m+1]-t.origin[1],_=b/8,M=-f*n,k=-f*(s-r);t.a[b++]=w,t.a[b++]=x,t.a[b++]=M*g-k*c,t.a[b++]=M*c+k*g,t.a[b++]=p/h,t.a[b++]=(u+s)/a,t.a[b++]=l,t.a[b++]=d,M=f*(y-n),k=-f*(s-r),t.a[b++]=w,t.a[b++]=x,t.a[b++]=M*g-k*c,t.a[b++]=M*c+k*g,t.a[b++]=(p+y)/h,t.a[b++]=(u+s)/a,t.a[b++]=l,t.a[b++]=d,M=f*(y-n),k=f*r,t.a[b++]=w,t.a[b++]=x,t.a[b++]=M*g-k*c,t.a[b++]=M*c+k*g,t.a[b++]=(p+y)/h,t.a[b++]=u/a,t.a[b++]=l,t.a[b++]=d,M=-f*n,k=f*r,t.a[b++]=w,t.a[b++]=x,t.a[b++]=M*g-k*c,t.a[b++]=M*c+k*g,t.a[b++]=p/h,t.a[b++]=u/a,t.a[b++]=l,t.a[b++]=d,t.b[v++]=_,t.b[v++]=_+1,t.b[v++]=_+2,t.b[v++]=_,t.b[v++]=_+2,t.b[v++]=_+3}}function al(t,e,i,o){var n,r=e.length;for(n=0;n<r;++n){var s=e[n],a=h(s).toString();a in i?s=i[a]:(s=nl(o,s),i[a]=s),t[n]=s}}function hl(t,e){rl.call(this,t,e),this.l=[],this.c=[],this.B=[],this.N=[]}function ll(t,e,i){var o=e-i;return t[0]===t[o]&&t[1]===t[o+1]&&3<(e-0)/i&&!!Po(t,0,e,i)}s(Kh,xe),(t=Kh.prototype).ia=function(){we(this.j);var t=this.b;if(!t.isContextLost()){for(var e in this.a)t.deleteBuffer(this.a[e].buffer);for(e in this.g)t.deleteProgram(this.g[e]);for(e in this.c)t.deleteShader(this.c[e]);t.deleteFramebuffer(this.i),t.deleteRenderbuffer(this.s),t.deleteTexture(this.v)}},t.yp=function(){return this.b},t.zp=function(){ot(this.a),ot(this.c),ot(this.g),this.s=this.v=this.i=this.l=null},t.Ap=function(){},t.cd=function(t){return t!=this.l&&(this.b.useProgram(t),this.l=t,!0)},s(rl,jh),(t=rl.prototype).Db=function(t){var e=this.s,i=this.j,o=this.ig(!0),n=t.b;return function(){if(!n.isContextLost()){var r,s=0;for(r=o.length;s<r;++s)n.deleteTexture(o[s])}$h(t,e),$h(t,i)}},t.Bf=function(t,e){var i=el(e,Xh,Zh);if(this.Wa)var o=this.Wa;else this.Wa=o=new function(t,e){this.g=t.getUniformLocation(e,"h"),this.i=t.getUniformLocation(e,"i"),this.c=t.getUniformLocation(e,"j"),this.a=t.getUniformLocation(e,"k"),this.b=t.getAttribLocation(e,"c"),this.B=t.getAttribLocation(e,"d"),this.v=t.getAttribLocation(e,"e"),this.o=t.getAttribLocation(e,"f"),this.D=t.getAttribLocation(e,"g")}(t,i);return e.cd(i),t.enableVertexAttribArray(o.b),t.vertexAttribPointer(o.b,2,5126,!1,32,0),t.enableVertexAttribArray(o.v),t.vertexAttribPointer(o.v,2,5126,!1,32,8),t.enableVertexAttribArray(o.B),t.vertexAttribPointer(o.B,2,5126,!1,32,16),t.enableVertexAttribArray(o.o),t.vertexAttribPointer(o.o,1,5126,!1,32,24),t.enableVertexAttribArray(o.D),t.vertexAttribPointer(o.D,1,5126,!1,32,28),o},t.Cf=function(t,e){t.disableVertexAttribArray(e.b),t.disableVertexAttribArray(e.v),t.disableVertexAttribArray(e.B),t.disableVertexAttribArray(e.o),t.disableVertexAttribArray(e.D)},t.Od=function(t,e,i,o){var n=o?this.ag():this.ig();if(o=o?this.o:this.v,rt(i)){var r;i=0;var s=n.length;for(r=0;i<s;++i){t.bindTexture(3553,n[i]);var a=o[i];Fh(t,e,r,a),r=a}}else for(r=s=0,a=n.length;r<a;++r){t.bindTexture(3553,n[r]);for(var l=0<r?o[r-1]:0,p=o[r],u=l;s<this.g.length&&this.g[s]<=p;)void 0!==i[h(this.i[s]).toString()]?(u!==l&&Fh(t,e,u,l),l=u=s===this.g.length-1?p:this.g[s+1]):l=s===this.g.length-1?p:this.g[s+1],s++;u!==l&&Fh(t,e,u,l)}},t.Ee=function(t,e,i,o,n){var r,s,a=this.g.length-1,l=this.ag();for(r=l.length-1;0<=r;--r){t.bindTexture(3553,l[r]);var p=0<r?this.o[r-1]:0;for(s=this.o[r];0<=a&&this.g[a]>=p;){var u=this.g[a],d=this.i[a];if(void 0===i[h(d).toString()]&&d.U()&&(void 0===n||$(n,d.U().G()))&&(t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),Fh(t,e,u,s),s=o(d)))return s;s=u,a--}}},t.gb=function(){this.qa=this.oa=this.height=this.C=this.D=void 0,this.b=null,this.scale=this.rotation=this.rotateWithView=this.O=this.T=this.opacity=void 0,this.a=null,this.width=void 0},s(hl,rl),(t=hl.prototype).wc=function(t,e){this.g.push(this.b.length),this.i.push(e),sl(this,e=t.da(),e.length,t.pa())},t.yc=function(t,e){this.g.push(this.b.length),this.i.push(e),sl(this,e=t.da(),e.length,t.pa())},t.gb=function(t){var e=t.b;this.v.push(this.b.length),this.o.push(this.b.length),this.s=new Wh(this.a),this.j=new Wh(this.b);var i={};al(this.B,this.l,i,e),al(this.N,this.c,i,e),this.c=this.l=null,rl.prototype.gb.call(this,t)},t.Zb=function(t){var e=t.Vc(),i=t.Y(1),o=t.He(),n=t.Eg(),r=t.i,s=t.bd(),a=t.s,l=t.f,p=t.oc();if(t=t.a,0===this.l.length)this.l.push(i);else{var u=this.l[this.l.length-1];h(u)!=h(i)&&(this.v.push(this.b.length),this.l.push(i))}0===this.c.length?this.c.push(n):h(u=this.c[this.c.length-1])!=h(n)&&(this.o.push(this.b.length),this.c.push(n)),this.D=e[0],this.C=e[1],this.height=p[1],this.oa=o[1],this.qa=o[0],this.opacity=r,this.T=s[0],this.O=s[1],this.rotation=l,this.rotateWithView=a,this.scale=t,this.width=p[0]},t.ig=function(t){return t?this.B.concat(this.N):this.B},t.ag=function(){return this.N};var pl=new Dh("precision mediump float;varying float a;varying vec2 aVertex;varying float c;uniform float m;uniform vec4 n;uniform vec2 o;uniform float p;void main(void){if(a>0.0){vec2 windowCoords=vec2((aVertex.x+1.0)/2.0*o.x*p,(aVertex.y+1.0)/2.0*o.y*p);if(length(windowCoords-gl_FragCoord.xy)>c*p){discard;}} gl_FragColor=n;float alpha=n.a*m;if(alpha==0.0){discard;}gl_FragColor.a=alpha;}"),ul=new Ih("varying float a;varying vec2 aVertex;varying float c;attribute vec2 d;attribute vec2 e;attribute vec2 f;attribute float g;uniform mat4 h;uniform mat4 i;uniform mat4 j;uniform float k;uniform float l;bool nearlyEquals(in float value,in float ref){float epsilon=0.000000000001;return value>=ref-epsilon&&value<=ref+epsilon;}void alongNormal(out vec2 offset,in vec2 nextP,in float turnDir,in float direction){vec2 dirVect=nextP-e;vec2 normal=normalize(vec2(-turnDir*dirVect.y,turnDir*dirVect.x));offset=k/2.0*normal*direction;}void miterUp(out vec2 offset,out float round,in bool isRound,in float direction){float halfWidth=k/2.0;vec2 tangent=normalize(normalize(f-e)+normalize(e-d));vec2 normal=vec2(-tangent.y,tangent.x);vec2 dirVect=f-e;vec2 tmpNormal=normalize(vec2(-dirVect.y,dirVect.x));float miterLength=abs(halfWidth/dot(normal,tmpNormal));offset=normal*direction*miterLength;round=0.0;if(isRound){round=1.0;}else if(miterLength>l+k){offset=halfWidth*tmpNormal*direction;}} bool miterDown(out vec2 offset,in vec4 projPos,in mat4 offsetMatrix,in float direction){bool degenerate=false;vec2 tangent=normalize(normalize(f-e)+normalize(e-d));vec2 normal=vec2(-tangent.y,tangent.x);vec2 dirVect=d-e;vec2 tmpNormal=normalize(vec2(-dirVect.y,dirVect.x));vec2 longOffset,shortOffset,longVertex;vec4 shortProjVertex;float halfWidth=k/2.0;if(length(f-e)>length(d-e)){longOffset=tmpNormal*direction*halfWidth;shortOffset=normalize(vec2(dirVect.y,-dirVect.x))*direction*halfWidth;longVertex=f;shortProjVertex=h*vec4(d,0.0,1.0);}else{shortOffset=tmpNormal*direction*halfWidth;longOffset=normalize(vec2(dirVect.y,-dirVect.x))*direction*halfWidth;longVertex=d;shortProjVertex=h*vec4(f,0.0,1.0);}vec4 p1=h*vec4(longVertex,0.0,1.0)+offsetMatrix*vec4(longOffset,0.0,0.0);vec4 p2=projPos+offsetMatrix*vec4(longOffset,0.0,0.0);vec4 p3=shortProjVertex+offsetMatrix*vec4(-shortOffset,0.0,0.0);vec4 p4=shortProjVertex+offsetMatrix*vec4(shortOffset,0.0,0.0);float denom=(p4.y-p3.y)*(p2.x-p1.x)-(p4.x-p3.x)*(p2.y-p1.y);float firstU=((p4.x-p3.x)*(p1.y-p3.y)-(p4.y-p3.y)*(p1.x-p3.x))/denom;float secondU=((p2.x-p1.x)*(p1.y-p3.y)-(p2.y-p1.y)*(p1.x-p3.x))/denom;float epsilon=0.000000000001;if(firstU>epsilon&&firstU<1.0-epsilon&&secondU>epsilon&&secondU<1.0-epsilon){shortProjVertex.x=p1.x+firstU*(p2.x-p1.x);shortProjVertex.y=p1.y+firstU*(p2.y-p1.y);offset=shortProjVertex.xy;degenerate=true;}else{float miterLength=abs(halfWidth/dot(normal,tmpNormal));offset=normal*direction*miterLength;}return degenerate;}void squareCap(out vec2 offset,out float round,in bool isRound,in vec2 nextP,in float turnDir,in float direction){round=0.0;vec2 dirVect=e-nextP;vec2 firstNormal=normalize(dirVect);vec2 secondNormal=vec2(turnDir*firstNormal.y*direction,-turnDir*firstNormal.x*direction);vec2 hypotenuse=normalize(firstNormal-secondNormal);vec2 normal=vec2(turnDir*hypotenuse.y*direction,-turnDir*hypotenuse.x*direction);float length=sqrt(c*c*2.0);offset=normal*length;if(isRound){round=1.0;}} void main(void){bool degenerate=false;float direction=float(sign(g));mat4 offsetMatrix=i*j;vec2 offset;vec4 projPos=h*vec4(e,0.0,1.0);bool round=nearlyEquals(mod(g,2.0),0.0);a=0.0;c=k/2.0;aVertex=projPos.xy;if(nearlyEquals(mod(g,3.0),0.0)||nearlyEquals(mod(g,17.0),0.0)){alongNormal(offset,f,1.0,direction);}else if(nearlyEquals(mod(g,5.0),0.0)||nearlyEquals(mod(g,13.0),0.0)){alongNormal(offset,d,-1.0,direction);}else if(nearlyEquals(mod(g,23.0),0.0)){miterUp(offset,a,round,direction);}else if(nearlyEquals(mod(g,19.0),0.0)){degenerate=miterDown(offset,projPos,offsetMatrix,direction);}else if(nearlyEquals(mod(g,7.0),0.0)){squareCap(offset,a,round,f,1.0,direction);}else if(nearlyEquals(mod(g,11.0),0.0)){squareCap(offset,a,round,d,-1.0,direction);}if(!degenerate){vec4 offsets=offsetMatrix*vec4(offset,0.0,0.0);gl_Position=projPos+offsets;}else{gl_Position=vec4(offset,0.0,1.0);}}");function dl(t,e){jh.call(this,t,e),this.v=null,this.o=[],this.l=[],this.c={strokeColor:null,lineCap:void 0,lineDash:null,lineDashOffset:void 0,lineJoin:void 0,lineWidth:void 0,miterLimit:void 0,u:!1}}function cl(t,e,i,o){var n,r=t.a.length,s=t.b.length,a="bevel"===t.c.lineJoin?0:"miter"===t.c.lineJoin?1:2,h="butt"===t.c.lineCap?0:"square"===t.c.lineCap?1:2,l=ll(e,i,o),p=s,u=1;for(n=0;n<i;n+=o){var d=r/7,c=f,f=y||[e[n],e[n+1]];if(0===n){var y=[e[n+o],e[n+o+1]];if(i-0==2*o&&Zt(f,y))break;if(!l){h&&(r=fl(t,[0,0],f,y,u*xl*h,r),r=fl(t,[0,0],f,y,-u*xl*h,r),t.b[s++]=d+2,t.b[s++]=d,t.b[s++]=d+1,t.b[s++]=d+1,t.b[s++]=d+3,t.b[s++]=d+2),r=fl(t,[0,0],f,y,u*bl*(h||1),r),p=(r=fl(t,[0,0],f,y,-u*bl*(h||1),r))/7-1;continue}c=[e[i-2*o],e[i-2*o+1]];var g=y}else{if(n===i-o){l?y=g:(r=fl(t,c=c||[0,0],f,[0,0],u*wl*(h||1),r),r=fl(t,c,f,[0,0],-u*wl*(h||1),r),t.b[s++]=d,t.b[s++]=p-1,t.b[s++]=p,t.b[s++]=p,t.b[s++]=d+1,t.b[s++]=d,h&&(r=fl(t,c,f,[0,0],u*_l*h,r),r=fl(t,c,f,[0,0],-u*_l*h,r),t.b[s++]=d+2,t.b[s++]=d,t.b[s++]=d+1,t.b[s++]=d+1,t.b[s++]=d+3,t.b[s++]=d+2));break}y=[e[n+o],e[n+o+1]]}var m=Hh(c[0],c[1],f[0],f[1],y[0],y[1])?-1:1;r=fl(t,c,f,y,m*Ml*(a||1),r),r=fl(t,c,f,y,m*kl*(a||1),r),r=fl(t,c,f,y,-m*Sl*(a||1),r),0<n&&(t.b[s++]=d,t.b[s++]=p-1,t.b[s++]=p,t.b[s++]=d+2,t.b[s++]=d,t.b[s++]=0<u*m?p:p-1),t.b[s++]=d,t.b[s++]=d+2,t.b[s++]=d+1,p=d+2,u=m,a&&(r=fl(t,c,f,y,m*Cl*a,r),t.b[s++]=d+1,t.b[s++]=d+3,t.b[s++]=d)}l&&(d=d||r/7,r=fl(t,c,f,y,(m=tn([c[0],c[1],f[0],f[1],y[0],y[1]],0,6,2)?1:-1)*Ml*(a||1),r),fl(t,c,f,y,-m*Sl*(a||1),r),t.b[s++]=d,t.b[s++]=p-1,t.b[s++]=p,t.b[s++]=d+1,t.b[s++]=d,t.b[s++]=0<u*m?p:p-1)}function fl(t,e,i,o,n,r){return t.a[r++]=e[0],t.a[r++]=e[1],t.a[r++]=i[0],t.a[r++]=i[1],t.a[r++]=o[0],t.a[r++]=o[1],t.a[r++]=n,r}function yl(t,e,i,o){return!((i-=e)<2*o||i===2*o&&Zt([t[e],t[e+1]],[t[e+o],t[e+o+1]]))}function gl(t,e,i,o){var n;if(ll(e,e.length,o)||(e.push(e[0]),e.push(e[1])),cl(t,e,e.length,o),i.length)for(e=0,n=i.length;e<n;++e)ll(i[e],i[e].length,o)||(i[e].push(i[e][0]),i[e].push(i[e][1])),cl(t,i[e],i[e].length,o)}function ml(t,e,i){t.g.push(i=void 0===i?t.b.length:i),t.i.push(e),t.c.u&&(t.l.push(i),t.c.u=!1)}function vl(t,e,i,o,n){e.uniform4fv(t.v.C,i),e.uniform1f(t.v.oa,o),e.uniform1f(t.v.O,n)}s(dl,jh),(t=dl.prototype).uc=function(t,e){var i=t.da();t=t.pa(),yl(i,0,i.length,t)&&(i=uo(i,0,i.length,t,-this.origin[0],-this.origin[1]),this.c.u&&(this.l.push(this.b.length),this.c.u=!1),this.g.push(this.b.length),this.i.push(e),cl(this,i,i.length,t))},t.vc=function(t,e){var i=this.b.length,o=t.pb();o.unshift(0);var n,r=t.da();if(t=t.pa(),1<o.length){var s=1;for(n=o.length;s<n;++s)if(yl(r,o[s-1],o[s],t)){var a=uo(r,o[s-1],o[s],t,-this.origin[0],-this.origin[1]);cl(this,a,a.length,t)}}this.b.length>i&&(this.g.push(i),this.i.push(e),this.c.u&&(this.l.push(i),this.c.u=!1))},t.gb=function(){this.s=new Wh(this.a),this.j=new Wh(this.b),this.g.push(this.b.length),0===this.l.length&&0<this.o.length&&(this.o=[]),this.b=this.a=null},t.Db=function(t){var e=this.s,i=this.j;return function(){$h(t,e),$h(t,i)}},t.Bf=function(t,e,i,o){var n=el(e,pl,ul);if(this.v)var r=this.v;else this.v=r=new function(t,e){this.g=t.getUniformLocation(e,"h"),this.i=t.getUniformLocation(e,"i"),this.c=t.getUniformLocation(e,"j"),this.oa=t.getUniformLocation(e,"k"),this.O=t.getUniformLocation(e,"l"),this.a=t.getUniformLocation(e,"m"),this.C=t.getUniformLocation(e,"n"),this.T=t.getUniformLocation(e,"o"),this.qa=t.getUniformLocation(e,"p"),this.l=t.getAttribLocation(e,"d"),this.b=t.getAttribLocation(e,"e"),this.s=t.getAttribLocation(e,"f"),this.f=t.getAttribLocation(e,"g")}(t,n);return e.cd(n),t.enableVertexAttribArray(r.l),t.vertexAttribPointer(r.l,2,5126,!1,28,0),t.enableVertexAttribArray(r.b),t.vertexAttribPointer(r.b,2,5126,!1,28,8),t.enableVertexAttribArray(r.s),t.vertexAttribPointer(r.s,2,5126,!1,28,16),t.enableVertexAttribArray(r.f),t.vertexAttribPointer(r.f,1,5126,!1,28,24),t.uniform2fv(r.T,i),t.uniform1f(r.qa,o),r},t.Cf=function(t,e){t.disableVertexAttribArray(e.l),t.disableVertexAttribArray(e.b),t.disableVertexAttribArray(e.s),t.disableVertexAttribArray(e.f)},t.Od=function(t,e,i,o){var n=t.getParameter(t.DEPTH_FUNC),r=t.getParameter(t.DEPTH_WRITEMASK);if(o||(t.enable(t.DEPTH_TEST),t.depthMask(!0),t.depthFunc(t.NOTEQUAL)),rt(i)){var s=this.g[this.g.length-1];for(i=this.l.length-1;0<=i;--i){var a=this.l[i],l=this.o[i];vl(this,t,l[0],l[1],l[2]),Fh(t,e,a,s),t.clear(t.DEPTH_BUFFER_BIT),s=a}}else{var p=this.g.length-2;for(l=s=this.g[p+1],a=this.l.length-1;0<=a;--a){var u=this.o[a];for(vl(this,t,u[0],u[1],u[2]),u=this.l[a];0<=p&&this.g[p]>=u;){var d=this.g[p],c=this.i[p];i[c=h(c).toString()]&&(s!==l&&(Fh(t,e,s,l),t.clear(t.DEPTH_BUFFER_BIT)),l=d),p--,s=d}s!==l&&(Fh(t,e,s,l),t.clear(t.DEPTH_BUFFER_BIT)),s=l=u}}o||(t.disable(t.DEPTH_TEST),t.clear(t.DEPTH_BUFFER_BIT),t.depthMask(r),t.depthFunc(n))},t.Ee=function(t,e,i,o,n){var r,s,a=this.g.length-2,l=this.g[a+1];for(r=this.l.length-1;0<=r;--r){var p=this.o[r];for(vl(this,t,p[0],p[1],p[2]),s=this.l[r];0<=a&&this.g[a]>=s;){p=this.g[a];var u=this.i[a];if(void 0===i[h(u).toString()]&&u.U()&&(void 0===n||$(n,u.U().G()))&&(t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),Fh(t,e,p,l),l=o(u)))return l;a--,l=p}}},t.Oa=function(t,e){this.c.lineCap=void 0!==(t=e.f)?t:"round",this.c.lineDash=(t=e.g)||Bh,this.c.lineDashOffset=(t=e.i)||0,this.c.lineJoin=void 0!==(t=e.j)?t:"round",t=(t=e.a)instanceof CanvasGradient||t instanceof CanvasPattern?qh:ms(t).map(function(t,e){return 3!=e?t/255:t})||qh;var i=e.c;i=void 0!==i?i:1,e=void 0!==(e=e.l)?e:10,this.c.strokeColor&&Zt(this.c.strokeColor,t)&&this.c.lineWidth===i&&this.c.miterLimit===e||(this.c.u=!0,this.c.strokeColor=t,this.c.lineWidth=i,this.c.miterLimit=e,this.o.push([t,i,e]))};var bl=3,wl=5,xl=7,_l=11,Ml=13,kl=17,Sl=19,Cl=23,El=new Dh("precision mediump float;uniform vec4 e;uniform float f;void main(void){gl_FragColor=e;float alpha=e.a*f;if(alpha==0.0){discard;}gl_FragColor.a=alpha;}"),Tl=new Ih("attribute vec2 a;uniform mat4 b;uniform mat4 c;uniform mat4 d;void main(void){gl_Position=b*vec4(a,0.0,1.0);}");function Pl(){this.b=this.a=this.g=void 0,this.c=0}function Al(t){var e=t.b;if(e){var i=e.next,o=e.Eb;i&&(i.Eb=o),o&&(o.next=i),t.b=i||o,t.g===t.a?(t.b=void 0,t.g=void 0,t.a=void 0):t.g===e?t.g=t.b:t.a===e&&(t.a=o?t.b.Eb:t.b),t.c--}}function Ol(t){if(t.b=t.g,t.b)return t.b.data}function Dl(t){if(t.b&&t.b.next)return t.b=t.b.next,t.b.data}function Il(t){if(t.b&&t.b.next)return t.b.next.data}function Rl(t){if(t.b&&t.b.Eb)return t.b=t.b.Eb,t.b.data}function Nl(t){if(t.b&&t.b.Eb)return t.b.Eb.data}function Ll(t){if(t.b)return t.b.data}function jl(){this.a=oa.Jc(void 0),this.b={}}function Fl(t,e,i){var o=t.b[h(i)];j([o.fa,o.ea,o.la,o.ka],e)||(t.remove(i),t.Ca(e,i))}function zl(t){return t.a.all().map(function(t){return t.value})}function Bl(t,e){return t.a.search({fa:e[0],ea:e[1],la:e[2],ka:e[3]}).map(function(t){return t.value})}function ql(t,e,i,o){return Hl(Bl(t,e),i,o)}function Hl(t,e,i){for(var o,n=0,r=t.length;n<r&&!(o=e.call(i,t[n]));n++);return o}function Ul(t,e){jh.call(this,t,e),this.f=new dl(t,e),this.v=null,this.o=[],this.c=[],this.l={fillColor:null,u:!1}}function Wl(t,e,i,o){var n=new Pl,r=new jl;if(Gl(t,e,o,n,r,!0),e=Yl(n),i.length){var s,a=[],h=0;for(s=i.length;h<s;++h){var l={list:new Pl,Ec:void 0,gh:new jl};a.push(l),Gl(t,i[h],o,l.list,l.gh,!1),Vl(l.list,l.gh,!0),l.Ec=Yl(l.list)}for(a.sort(function(t,e){return e.Ec[0]===t.Ec[0]?t.Ec[1]-e.Ec[1]:e.Ec[0]-t.Ec[0]}),h=0;h<a.length;++h){s=o=Ol(i=a[h].list);do{if(ip(s,r).length){var p=!0;break}s=Dl(i)}while(o!==s);!p&&Xl(i,a[h].Ec[0],n,e[0],r)&&(r.concat(a[h].gh),Vl(n,r,!1))}}else Vl(n,r,!1);!function t(e,i,o){for(var n=!1,r=Jl(i,o);3<i.c;)if(r){if(!Zl(e,i,o,r,n)&&!Vl(i,o,n)&&!Kl(e,i,o,!0))break}else if(!Zl(e,i,o,r,n)&&!Vl(i,o,n)&&!Kl(e,i,o)){if(!(r=Jl(i,o))){r=e,s=a=Ol(n=i);do{if((h=ip(s,o)).length){for(h=$l(r,(h=op(s.Z,s.X,(a=h[0]).Z,a.X))[0],h[1],r.a.length/2),l=new Pl,p=new jl,Ql(h,s.X,l,p),s.X=h,Fl(o,[Math.min(s.Z.x,h.x),Math.min(s.Z.y,h.y),Math.max(s.Z.x,h.x),Math.max(s.Z.y,h.y)],s),s=Dl(n);s!==a;)Ql(s.Z,s.X,l,p),o.remove(s),Al(n),s=Ll(n);Ql(a.Z,h,l,p),a.Z=h,Fl(o,[Math.min(a.X.x,h.x),Math.min(a.X.y,h.y),Math.max(a.X.x,h.x),Math.max(a.X.y,h.y)],a),Vl(n,o,!1),t(r,n,o),Vl(l,p,!1),t(r,l,p);break}s=Dl(n)}while(s!==a);break}var s=2*(n=i).c,a=Array(s),h=Ol(n),l=h,p=0;do{a[p++]=l.Z.x,a[p++]=l.Z.y,l=Dl(n)}while(l!==h);Vl(i,o,n=!tn(a,0,s,2))}3===i.c&&(r=e.b.length,e.b[r++]=Nl(i).Z.qb,e.b[r++]=Ll(i).Z.qb,e.b[r++]=Il(i).Z.qb)}(t,n,r)}function Gl(t,e,i,o,n,r){var s,a=t.a.length/2,h=[],l=[];if(r===tn(e,0,e.length,i)){var p=r=$l(t,e[0],e[1],a++),u=i;for(s=e.length;u<s;u+=i){var d=$l(t,e[u],e[u+1],a++);l.push(Ql(p,d,o)),h.push([Math.min(p.x,d.x),Math.min(p.y,d.y),Math.max(p.x,d.x),Math.max(p.y,d.y)]),p=d}}else for(p=r=$l(t,e[u=e.length-i],e[u+1],a++),u-=i,s=0;u>=s;u-=i)d=$l(t,e[u],e[u+1],a++),l.push(Ql(p,d,o)),h.push([Math.min(p.x,d.x),Math.min(p.y,d.y),Math.max(p.x,d.x),Math.max(p.y,d.y)]),p=d;l.push(Ql(d,r,o)),h.push([Math.min(p.x,d.x),Math.min(p.y,d.y),Math.max(p.x,d.x),Math.max(p.y,d.y)]),n.load(h,l)}function Yl(t){var e=Ol(t),i=e,o=[i.Z.x,i.Z.y];do{(i=Dl(t)).Z.x>o[0]&&(o=[i.Z.x,i.Z.y])}while(i!==e);return o}function Vl(t,e,i){var o=Ol(t),n=o,r=Dl(t),s=!1;do{var a=i?Hh(r.X.x,r.X.y,n.X.x,n.X.y,n.Z.x,n.Z.y):Hh(n.Z.x,n.Z.y,n.X.x,n.X.y,r.X.x,r.X.y);void 0===a?(tp(n,r,t,e),s=!0,r===o&&(o=Il(t)),r=n,Rl(t)):n.X.Kb!==a&&(n.X.Kb=a,s=!0),n=r,r=Dl(t)}while(n!==o);return s}function Xl(t,e,i,o,n){for(var r=Ol(t);r.X.x!==e;)r=Dl(t);var s,a=1/0,h=ip({Z:e=r.X,X:o={x:o,y:e.y,qb:-1}},n,!0),l=0;for(s=h.length;l<s;++l){var p=h[l],u=op(e,o,p.Z,p.X,!0),d=Math.abs(e.x-u[0]);if(d<a&&void 0!==Hh(e.x,e.y,p.Z.x,p.Z.y,p.X.x,p.X.y)){a=d;var c={x:u[0],y:u[1],qb:-1};r=p}}if(1/0===a)return!1;if(h=r.X,0<a&&(r=ep(e,c,r.X,n)).length)for(c=1/0,l=0,s=r.length;l<s;++l)a=r[l],((p=Math.atan2(e.y-a.y,o.x-a.x))<c||p===c&&a.x<h.x)&&(c=p,h=a);for(r=Ol(i);r.X.x!==h.x||r.X.y!==h.y;)r=Dl(i);return o={x:e.x,y:e.y,qb:e.qb,Kb:void 0},l={x:r.X.x,y:r.X.y,qb:r.X.qb,Kb:void 0},Il(t).Z=o,Ql(e,r.X,t,n),Ql(l,o,t,n),r.X=l,t.b&&(t.g=t.b,t.a=t.b.Eb),i.concat(t),!0}function Zl(t,e,i,o,n){var r=t.b.length,s=Ol(e),a=Nl(e),h=s,l=Dl(e),p=Il(e),u=!1;do{var d=h.Z,c=h.X,f=l.X;if(!1===c.Kb){var y=o?0===ep(d,c,f,i,!0).length:n?np(p.X,f,c,d,a.Z):np(a.Z,d,c,f,p.X);!o&&0!==ip({Z:d,X:f},i).length||!y||!o&&!1!==d.Kb&&!1!==f.Kb&&tn([a.Z.x,a.Z.y,d.x,d.y,c.x,c.y,f.x,f.y,p.X.x,p.X.y],0,10,2)!==!n||(t.b[r++]=d.qb,t.b[r++]=c.qb,t.b[r++]=f.qb,tp(h,l,e,i),l===s&&(s=p),u=!0)}a=Nl(e),h=Ll(e),l=Dl(e),p=Il(e)}while(h!==s&&3<e.c);return u}function Kl(t,e,i,o){var n=Ol(e);Dl(e);var r=n,s=Dl(e),a=!1;do{var h=op(r.Z,r.X,s.Z,s.X,o);if(h){a=t.b.length;var l=t.a.length/2,p=Rl(e);Al(e),i.remove(p);var u=p===n;if(o?(h[0]===r.Z.x&&h[1]===r.Z.y?(Rl(e),s.Z=h=r.Z,i.remove(r),u=u||r===n):(r.X=h=s.X,i.remove(s),u=u||s===n),Al(e)):(h=$l(t,h[0],h[1],l),r.X=h,s.Z=h,Fl(i,[Math.min(r.Z.x,r.X.x),Math.min(r.Z.y,r.X.y),Math.max(r.Z.x,r.X.x),Math.max(r.Z.y,r.X.y)],r),Fl(i,[Math.min(s.Z.x,s.X.x),Math.min(s.Z.y,s.X.y),Math.max(s.Z.x,s.X.x),Math.max(s.Z.y,s.X.y)],s)),t.b[a++]=p.Z.qb,t.b[a++]=p.X.qb,t.b[a++]=h.qb,a=!0,u)break}r=Nl(e),s=Dl(e)}while(r!==n);return a}function Jl(t,e){var i=Ol(t),o=i;do{if(ip(o,e).length)return!1;o=Dl(t)}while(o!==i);return!0}function $l(t,e,i,o){var n=t.a.length;return t.a[n++]=e,t.a[n++]=i,{x:e,y:i,qb:o,Kb:void 0}}function Ql(t,e,i,o){var n={Z:t,X:e},r={Eb:void 0,next:void 0,data:n},s=i.b;if(s){var a=s.next;r.Eb=s,r.next=a,s.next=r,a&&(a.Eb=r),s===i.a&&(i.a=r)}else i.g=r,i.a=r,r.next=r,r.Eb=r;return i.b=r,i.c++,o&&o.Ca([Math.min(t.x,e.x),Math.min(t.y,e.y),Math.max(t.x,e.x),Math.max(t.y,e.y)],n),n}function tp(t,e,i,o){Ll(i)===e&&(Al(i),t.X=e.X,o.remove(e),Fl(o,[Math.min(t.Z.x,t.X.x),Math.min(t.Z.y,t.X.y),Math.max(t.Z.x,t.X.x),Math.max(t.Z.y,t.X.y)],t))}function ep(t,e,i,o,n){var r,s,a=[],h=Bl(o,[Math.min(t.x,e.x,i.x),Math.min(t.y,e.y,i.y),Math.max(t.x,e.x,i.x),Math.max(t.y,e.y,i.y)]);for(o=0,r=h.length;o<r;++o)for(s in h[o]){var l=h[o][s];"object"!=typeof l||n&&!l.Kb||l.x===t.x&&l.y===t.y||l.x===e.x&&l.y===e.y||l.x===i.x&&l.y===i.y||-1!==a.indexOf(l)||!Xo([t.x,t.y,e.x,e.y,i.x,i.y],0,6,2,l.x,l.y)||a.push(l)}return a}function ip(t,e,i){var o,n=t.Z,r=t.X,s=[],a=0;for(o=(e=Bl(e,[Math.min(n.x,r.x),Math.min(n.y,r.y),Math.max(n.x,r.x),Math.max(n.y,r.y)])).length;a<o;++a){var h=e[a];t!==h&&(i||h.Z!==r||h.X!==n)&&op(n,r,h.Z,h.X,i)&&s.push(h)}return s}function op(t,e,i,o,n){var r=(o.y-i.y)*(e.x-t.x)-(o.x-i.x)*(e.y-t.y);if(0!==r&&(o=((o.x-i.x)*(t.y-i.y)-(o.y-i.y)*(t.x-i.x))/r,i=((e.x-t.x)*(t.y-i.y)-(e.y-t.y)*(t.x-i.x))/r,!n&&o>Uh&&o<1-Uh&&i>Uh&&i<1-Uh||n&&0<=o&&1>=o&&0<=i&&1>=i))return[t.x+o*(e.x-t.x),t.y+o*(e.y-t.y)]}function np(t,e,i,o,n){if(void 0===e.Kb||void 0===o.Kb)return!1;var r=(i.x-o.x)*(e.y-o.y)>(i.y-o.y)*(e.x-o.x);return n=(n.x-o.x)*(e.y-o.y)<(n.y-o.y)*(e.x-o.x),t=(t.x-e.x)*(o.y-e.y)>(t.y-e.y)*(o.x-e.x),i=(i.x-e.x)*(o.y-e.y)<(i.y-e.y)*(o.x-e.x),e=e.Kb?i||t:i&&t,(o.Kb?n||r:n&&r)&&e}function rp(t,e){this.b=e,this.a=[{x:0,y:0,width:t,height:t}],this.c={},this.g=vn(t,t),this.i=this.g.canvas}function sp(t,e,i,o){e=[e,1],0<i.width&&0<i.height&&e.push(i),0<o.width&&0<o.height&&e.push(o),t.a.splice.apply(t.a,e)}function ap(t){this.a=void 0!==(t=t||{}).initialSize?t.initialSize:256,this.g=void 0!==t.maxSize?t.maxSize:void 0!==e?e:2048,this.b=void 0!==t.space?t.space:1,this.f=[new rp(this.a,this.b)],this.c=this.a,this.i=[new rp(this.c,this.b)]}function hp(t,e){var i,o=0;for(i=t.length;o<i;++o){var n=t[o];if(n=n.get(e))return n}return null}function lp(t,e){return{offsetX:t.offsetX,offsetY:t.offsetY,image:t.image,Bm:e.image}}function pp(t,e,i,o,n,r,s){var a,h=e?t.i:t.f,l=0;for(a=h.length;l<a;++l){var p=h[l];if(p=p.add(i,o,n,r,s))return p;p||l!==a-1||(e?(p=Math.min(2*t.c,t.g),t.c=p):(p=Math.min(2*t.a,t.g),t.a=p),p=new rp(p,t.b),h.push(p),++a)}return null}function up(t,e){rl.call(this,t,e),this.c=[],this.ua=[],this.Ub=vn(0,0).canvas,this.N={strokeColor:null,lineCap:void 0,lineDash:null,lineDashOffset:void 0,lineJoin:void 0,lineWidth:0,miterLimit:void 0,fillColor:null,font:void 0,scale:void 0},this.ta="",this.ca=this.$=this.ra=this.ab=void 0,this.B={},this.l=void 0,this.opacity=this.scale=1}function dp(t,e){if(1===e.length){var i=t.l,o=t.N;(t=t.Ub.getContext("2d")).font=o.font,t=Math.ceil(t.measureText(e).width*o.scale),i.Bh.add(e,t,i.height,function(t,i,n){t.font=o.font,t.fillStyle=o.fillColor,t.strokeStyle=o.strokeColor,t.lineWidth=o.lineWidth,t.lineCap=o.lineCap,t.lineJoin=o.lineJoin,t.miterLimit=o.miterLimit,t.textAlign="left",t.textBaseline="top",Ke&&o.lineDash&&(t.setLineDash(o.lineDash),t.lineDashOffset=o.lineDashOffset),1!==o.scale&&t.setTransform(o.scale,0,0,o.scale,0,0),o.strokeColor&&t.strokeText(e,i,n),o.fillColor&&t.fillText(e,i,n)})&&(i.width[e]=t)}}function cp(t,e,i){this.c=e,this.i=t,this.g=i,this.a={}}function fp(t,e){var i,o=[];for(i in t.a){var n,r=t.a[i];for(n in r)o.push(r[n].Db(e))}return function(){for(var t,e=o.length,i=0;i<e;i++)t=o[i].apply(this,arguments);return t}}function yp(t,e,i,o,n,r,s,a,h,l,p){var u,d,c=gp,f=Object.keys(t.a).map(Number);f.sort(function(t,e){return e-t});var y=0;for(u=f.length;y<u;++y){var g=t.a[f[y].toString()];for(d=sa.length-1;0<=d;--d){var m=g[sa[d]];if(void 0!==m&&(m=m.Na(e,i,o,n,c,r,s,a,h,l,p)))return m}}}Pl.prototype.concat=function(t){if(t.b){if(this.b){var e=this.b.next;this.b.next=t.g,t.g.Eb=this.b,e.Eb=t.a,t.a.next=e,this.c+=t.c}else this.b=t.b,this.g=t.g,this.a=t.a,this.c=t.c;t.b=void 0,t.g=void 0,t.a=void 0,t.c=0}},(t=jl.prototype).Ca=function(t,e){this.a.Ca(t={fa:t[0],ea:t[1],la:t[2],ka:t[3],value:e}),this.b[h(e)]=t},t.load=function(t,e){for(var i=Array(e.length),o=0,n=e.length;o<n;o++){var r=t[o],s=e[o];i[o]=r={fa:r[0],ea:r[1],la:r[2],ka:r[3],value:s},this.b[h(s)]=r}this.a.load(i)},t.remove=function(t){t=h(t);var e=this.b[t];return delete this.b[t],null!==this.a.remove(e)},t.forEach=function(t,e){return Hl(zl(this),t,e)},t.clear=function(){this.a.clear(),this.b={}},t.G=function(t){var e=this.a.data;return I(e.fa,e.ea,e.la,e.ka,t)},t.concat=function(t){for(var e in this.a.load(t.a.all()),t.b)this.b[0|e]=t.b[0|e]},s(Ul,jh),(t=Ul.prototype).xc=function(t,e){var i,o,n,r=t.td(),s=t.pa(),a=this.b.length,h=this.f.b.length;t=t.da();var l=o=0;for(i=r.length;l<i;++l){var p=r[l];if(0<p.length){var u=uo(t,o,p[0],s,-this.origin[0],-this.origin[1]);if(u.length){var d=[];for(o=1,n=p.length;o<n;++o)if(p[o]!==p[o-1]){var c=uo(t,p[o-1],p[o],s,-this.origin[0],-this.origin[1]);d.push(c)}gl(this.f,u,d,s),Wl(this,u,d,s)}}o=p[p.length-1]}this.b.length>a&&(this.g.push(a),this.i.push(e),this.l.u&&(this.c.push(a),this.l.u=!1)),this.f.b.length>h&&ml(this.f,e,h)},t.zc=function(t,e){var i=t.pb(),o=t.pa();if(0<i.length){var n=uo(t=t.da().map(Number),0,i[0],o,-this.origin[0],-this.origin[1]);if(n.length){var r,s=[],a=1;for(r=i.length;a<r;++a)if(i[a]!==i[a-1]){var h=uo(t,i[a-1],i[a],o,-this.origin[0],-this.origin[1]);s.push(h)}this.g.push(this.b.length),this.i.push(e),this.l.u&&(this.c.push(this.b.length),this.l.u=!1),ml(this.f,e),gl(this.f,n,s,o),Wl(this,n,s,o)}}},t.gb=function(t){this.s=new Wh(this.a),this.j=new Wh(this.b),this.g.push(this.b.length),this.f.gb(t),0===this.c.length&&0<this.o.length&&(this.o=[]),this.b=this.a=null},t.Db=function(t){var e=this.s,i=this.j,o=this.f.Db(t);return function(){$h(t,e),$h(t,i),o()}},t.Bf=function(t,e){var i=el(e,El,Tl);if(this.v)var o=this.v;else this.v=o=new function(t,e){this.g=t.getUniformLocation(e,"b"),this.i=t.getUniformLocation(e,"c"),this.c=t.getUniformLocation(e,"d"),this.C=t.getUniformLocation(e,"e"),this.a=t.getUniformLocation(e,"f"),this.b=t.getAttribLocation(e,"a")}(t,i);return e.cd(i),t.enableVertexAttribArray(o.b),t.vertexAttribPointer(o.b,2,5126,!1,8,0),o},t.Cf=function(t,e){t.disableVertexAttribArray(e.b)},t.Od=function(t,e,i,o){var n=t.getParameter(t.DEPTH_FUNC),r=t.getParameter(t.DEPTH_WRITEMASK);if(o||(t.enable(t.DEPTH_TEST),t.depthMask(!0),t.depthFunc(t.NOTEQUAL)),rt(i)){var s=this.g[this.g.length-1];for(i=this.c.length-1;0<=i;--i){var a=this.c[i],l=this.o[i];t.uniform4fv(this.v.C,l),Fh(t,e,a,s),s=a}}else{var p=this.g.length-2;for(l=s=this.g[p+1],a=this.c.length-1;0<=a;--a){var u=this.o[a];for(t.uniform4fv(this.v.C,u),u=this.c[a];0<=p&&this.g[p]>=u;){var d=this.g[p],c=this.i[p];i[c=h(c).toString()]&&(s!==l&&(Fh(t,e,s,l),t.clear(t.DEPTH_BUFFER_BIT)),l=d),p--,s=d}s!==l&&(Fh(t,e,s,l),t.clear(t.DEPTH_BUFFER_BIT)),s=l=u}}o||(t.disable(t.DEPTH_TEST),t.clear(t.DEPTH_BUFFER_BIT),t.depthMask(r),t.depthFunc(n))},t.Ee=function(t,e,i,o,n){var r,s,a=this.g.length-2,l=this.g[a+1];for(r=this.c.length-1;0<=r;--r){var p=this.o[r];for(t.uniform4fv(this.v.C,p),s=this.c[r];0<=a&&this.g[a]>=s;){p=this.g[a];var u=this.i[a];if(void 0===i[h(u).toString()]&&u.U()&&(void 0===n||$(n,u.U().G()))&&(t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),Fh(t,e,p,l),l=o(u)))return l;a--,l=p}}},t.Oa=function(t,e){t=(t=t?t.b:[0,0,0,0])instanceof CanvasGradient||t instanceof CanvasPattern?zh:ms(t).map(function(t,e){return 3!=e?t/255:t})||zh,this.l.fillColor&&Zt(t,this.l.fillColor)||(this.l.fillColor=t,this.l.u=!0,this.o.push(t)),this.f.Oa(null,e||new oh({color:[0,0,0,0],lineWidth:0}))},rp.prototype.get=function(t){return this.c[t]||null},rp.prototype.add=function(t,e,i,o,n){var r,s=0;for(r=this.a.length;s<r;++s){var a=this.a[s];if(a.width>=e+this.b&&a.height>=i+this.b)return this.c[t]=r={offsetX:a.x+this.b,offsetY:a.y+this.b,image:this.i},o.call(n,this.g,a.x+this.b,a.y+this.b),t=s,a.width-(e+=this.b)>a.height-(o=i+this.b)?sp(this,t,i={x:a.x+e,y:a.y,width:a.width-e,height:a.height},e={x:a.x,y:a.y+o,width:e,height:a.height-o}):sp(this,t,i={x:a.x+e,y:a.y,width:a.width-e,height:o},e={x:a.x,y:a.y+o,width:a.width,height:a.height-o}),r}return null},ap.prototype.add=function(t,e,i,o,n,r){return e+this.b>this.g||i+this.b>this.g?null:(o=pp(this,!1,t,e,i,o,r))?lp(o,t=pp(this,!0,t,e,i,void 0!==n?n:a,r)):null},s(up,rl),(t=up.prototype).Wb=function(t,e){if(this.ta){var i=null,o=2,n=2;switch(t.S()){case"Point":case"MultiPoint":o=(i=t.da()).length,n=t.pa();break;case"Circle":i=t.xa();break;case"LineString":i=t.Fe();break;case"MultiLineString":o=(i=t.Ge()).length;break;case"Polygon":i=t.Td();break;case"MultiPolygon":o=(i=Ju(t)).length}this.g.push(this.b.length),this.i.push(e),t=this.l;var r,s,a=function(t,e){var i=t.l,o=e.length*i.height;return[e.map(function(e){var o,n=0,r=0;for(o=e.length;r<o;++r){var s=e[r];i.width[s]||dp(t,s),n+=i.width[s]?i.width[s]:0}return n}).reduce(function(t,e){return Math.max(t,e)}),o]}(this,e=this.ta.split("\n")),l=Math.round(a[0]*this.ab-this.$),p=Math.round(a[1]*this.ra-this.ca),u=this.N.lineWidth/2*this.N.scale;for(a=0,r=e.length;a<r;++a){var d=0,c=t.height*a,f=e[a].split(""),y=0;for(s=f.length;y<s;++y){var g=t.Bh,m=f[y],v=hp(g.f,m);if(g=v?lp(v,g=hp(g.i,m)):null){v=g.image,this.D=l-d,this.C=p-c,this.T=0===y?g.offsetX-u:g.offsetX,this.O=g.offsetY,this.height=t.height,this.width=0===y||y===f.length-1?t.width[f[y]]+u:t.width[f[y]],this.oa=v.height,this.qa=v.width,0===this.c.length?this.c.push(v):h(g=this.c[this.c.length-1])!=h(v)&&(this.v.push(this.b.length),this.c.push(v)),g=i,m=o;var b=n;for(v=0;v<m;v+=b)sl(this,g,m,b)}d+=this.width}}}},t.gb=function(t){var e=t.b;this.v.push(this.b.length),this.o=this.v,this.s=new Wh(this.a),this.j=new Wh(this.b),al(this.ua,this.c,{},e),this.N={strokeColor:null,lineCap:void 0,lineDash:null,lineDashOffset:void 0,lineJoin:void 0,lineWidth:0,miterLimit:void 0,fillColor:null,font:void 0,scale:void 0},this.ta="",this.ca=this.$=this.ra=this.ab=void 0,this.c=null,this.B={},this.l=void 0,rl.prototype.gb.call(this,t)},t.nb=function(t){var e=this.N,i=t.Fa(),o=t.Ga();if(t&&t.Ka()&&(i||o)){for(var n in e.fillColor=i?xs((i=i.b)||zh):null,o?(e.strokeColor=xs((i=o.a)||qh),e.lineWidth=o.c||1,e.lineCap=o.f||"round",e.lineDashOffset=o.i||0,e.lineJoin=o.j||"round",e.miterLimit=o.l||10,e.lineDash=(o=o.g)?o.slice():Bh):(e.strokeColor=null,e.lineWidth=0),e.font=t.a||"10px sans-serif",e.scale=t.b||1,this.ta=t.Ka(),i=aa[t.j],this.ab=void 0===(o=aa[t.f])?.5:o,this.ra=void 0===i?.5:i,this.$=t.g||0,this.ca=t.c||0,this.rotateWithView=!!t.l,this.rotation=t.i||0,t=[],e)(e[n]||0===e[n])&&(Array.isArray(e[n])?t=t.concat(e[n]):t.push(e[n]));for(i="",n=0,o=t.length;n<o;++n)i+=t[n];this.B[n=i]||((t=this.Ub.getContext("2d")).font=e.font,t=Math.ceil((1.5*t.measureText("M").width+e.lineWidth/2)*e.scale),this.B[n]={Bh:new ap({space:e.lineWidth+1}),width:{},height:t}),this.l=this.B[n]}else this.ta=""},t.ig=function(){return this.ua},t.ag=function(){return this.ua},s(cp,na),(t=cp.prototype).Vb=function(){},t.Ja=function(t,e){var i=void 0!==t?t.toString():"0";return void 0===(t=this.a[i])&&(this.a[i]=t={}),void 0===(i=t[e])&&(i=new mp[e](this.i,this.c),t[e]=i),i},t.yg=function(){return rt(this.a)},t.Na=function(t,e,i,o,n,r,s,a){var h,l,p=Object.keys(this.a).map(Number);p.sort(Wt);var u=0;for(h=p.length;u<h;++u){var d=this.a[p[u].toString()],c=0;for(l=sa.length;c<l;++c){var f=d[sa[c]];void 0!==f&&f.Na(t,e,i,o,n,r,s,a,void 0,!1)}}},t.wa=function(t,e,i,o,n,r,s,a,h,l){var p,u=e.b;return u.bindFramebuffer(u.FRAMEBUFFER,Qh(e)),void 0!==this.g&&(p=C(N(t),o*this.g)),yp(this,e,t,o,n,s,a,h,function(t){var e=new Uint8Array(4);if(u.readPixels(0,0,1,1,u.RGBA,u.UNSIGNED_BYTE,e),0<e[3]&&(t=l(t)))return t},!0,p)};var gp=[1,1],mp={Circle:Yh,Image:hl,LineString:dl,Polygon:Ul,Text:up};function vp(t,e,i,o,n,r,s){this.b=t,this.g=e,this.c=r,this.i=s,this.l=n,this.j=o,this.f=i,this.a=this.s=this.v=this.o=null}function bp(t,e,i){var o=t.b;(e=e.Ja(0,"Text")).nb(t.a),e.Wb(i,null),e.gb(o),e.Na(t.b,t.g,t.f,t.j,t.l,t.i,1,{},void 0,!1),e.Db(o)()}s(vp,_s),(t=vp.prototype).Dd=function(t){this.Oa(t.Fa(),t.Ga()),this.Zb(t.Y()),this.nb(t.Ka())},t.Hb=function(t){switch(t.S()){case"Point":this.yc(t,null);break;case"LineString":this.uc(t,null);break;case"Polygon":this.zc(t,null);break;case"MultiPoint":this.wc(t,null);break;case"MultiLineString":this.vc(t,null);break;case"MultiPolygon":this.xc(t,null);break;case"GeometryCollection":this.De(t);break;case"Circle":this.cc(t,null)}},t.Ce=function(t,e){(t=(0,e.cb)(t))&&$(this.c,t.G())&&(this.Dd(e),this.Hb(t))},t.De=function(t){var e,i=0;for(e=(t=t.a).length;i<e;++i)this.Hb(t[i])},t.yc=function(t,e){var i=this.b,o=new cp(1,this.c),n=o.Ja(0,"Image");n.Zb(this.o),n.yc(t,e),n.gb(i),n.Na(this.b,this.g,this.f,this.j,this.l,this.i,1,{},void 0,!1),n.Db(i)(),this.a&&bp(this,o,t)},t.wc=function(t,e){var i=this.b,o=new cp(1,this.c),n=o.Ja(0,"Image");n.Zb(this.o),n.wc(t,e),n.gb(i),n.Na(this.b,this.g,this.f,this.j,this.l,this.i,1,{},void 0,!1),n.Db(i)(),this.a&&bp(this,o,t)},t.uc=function(t,e){var i=this.b,o=new cp(1,this.c),n=o.Ja(0,"LineString");n.Oa(null,this.s),n.uc(t,e),n.gb(i),n.Na(this.b,this.g,this.f,this.j,this.l,this.i,1,{},void 0,!1),n.Db(i)(),this.a&&bp(this,o,t)},t.vc=function(t,e){var i=this.b,o=new cp(1,this.c),n=o.Ja(0,"LineString");n.Oa(null,this.s),n.vc(t,e),n.gb(i),n.Na(this.b,this.g,this.f,this.j,this.l,this.i,1,{},void 0,!1),n.Db(i)(),this.a&&bp(this,o,t)},t.zc=function(t,e){var i=this.b,o=new cp(1,this.c),n=o.Ja(0,"Polygon");n.Oa(this.v,this.s),n.zc(t,e),n.gb(i),n.Na(this.b,this.g,this.f,this.j,this.l,this.i,1,{},void 0,!1),n.Db(i)(),this.a&&bp(this,o,t)},t.xc=function(t,e){var i=this.b,o=new cp(1,this.c),n=o.Ja(0,"Polygon");n.Oa(this.v,this.s),n.xc(t,e),n.gb(i),n.Na(this.b,this.g,this.f,this.j,this.l,this.i,1,{},void 0,!1),n.Db(i)(),this.a&&bp(this,o,t)},t.cc=function(t,e){var i=this.b,o=new cp(1,this.c),n=o.Ja(0,"Circle");n.Oa(this.v,this.s),n.cc(t,e),n.gb(i),n.Na(this.b,this.g,this.f,this.j,this.l,this.i,1,{},void 0,!1),n.Db(i)(),this.a&&bp(this,o,t)},t.Zb=function(t){this.o=t},t.Oa=function(t,e){this.v=t,this.s=e},t.nb=function(t){this.a=t};var wp=new Dh("precision mediump float;varying vec2 a;uniform float f;uniform sampler2D g;void main(void){vec4 texColor=texture2D(g,a);gl_FragColor.rgb=texColor.rgb;gl_FragColor.a=texColor.a*f;}"),xp=new Ih("varying vec2 a;attribute vec2 b;attribute vec2 c;uniform mat4 d;uniform mat4 e;void main(void){gl_Position=e*vec4(b,0.,1.);a=(d*vec4(c,0.,1.)).st;}");function _p(t,e){As.call(this,e),this.c=t,this.V=new Wh([-1,-1,0,0,1,-1,1,0,-1,1,0,1,1,1,1,1]),this.f=this.Mb=null,this.j=void 0,this.v=[1,0,0,1,0,0],this.N=[1,0,0,1,0,0],this.C=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],this.o=null}function Mp(t,e,i,o){if(Ce(t=t.a,e)){var n=o.viewState;t.b(new Jr(e,new vp(i,n.center,n.resolution,n.rotation,o.size,o.extent,o.pixelRatio),o,null,i))}}function kp(t,e){_p.call(this,t,e),this.l=this.i=this.M=null}function Sp(t,e){Ys.call(this,t,e),this.b=document.createElement("CANVAS"),this.b.style.width="100%",this.b.style.height="100%",this.b.style.display="block",this.b.className="ol-unselectable",t.insertBefore(this.b,t.childNodes[0]||null),this.N=this.D=0,this.C=vn(),this.s=!0,this.g=qe(this.b,{antialias:!0,depth:!0,failIfMajorPerformanceCaveat:!0,preserveDrawingBuffer:!1,stencil:!0}),this.i=new Kh(this.b,this.g),ge(this.b,"webglcontextlost",this.Co,this),ge(this.b,"webglcontextrestored",this.Do,this),this.a=new $r,this.o=null,this.j=new Ni((function(t){var e=t[1];t=t[2];var i=e[0]-this.o[0];return e=e[1]-this.o[1],65536*Math.log(t)+Math.sqrt(i*i+e*e)/t}).bind(this),function(t){return t[0].lb()}),this.B=(function(){if(0!==this.j.b.length){zi(this.j);var t=Li(this.j);Cp(this,t[0],t[3],t[4])}return!1}).bind(this),this.f=0,Tp(this)}function Cp(t,e,i,o){var n=t.g,r=e.lb();if(t.a.a.hasOwnProperty(r))t=t.a.get(r),n.bindTexture(3553,t.Mb),9729!=t.hi&&(n.texParameteri(3553,10240,9729),t.hi=9729),9729!=t.ji&&(n.texParameteri(3553,10241,9729),t.ji=9729);else{var s=n.createTexture();if(n.bindTexture(3553,s),0<o){var a=t.C.canvas,h=t.C;t.D!==i[0]||t.N!==i[1]?(a.width=i[0],a.height=i[1],t.D=i[0],t.N=i[1]):h.clearRect(0,0,i[0],i[1]),h.drawImage(e.Y(),o,o,i[0],i[1],0,0,i[0],i[1]),n.texImage2D(3553,0,6408,6408,5121,a)}else n.texImage2D(3553,0,6408,6408,5121,e.Y());n.texParameteri(3553,10240,9729),n.texParameteri(3553,10241,9729),n.texParameteri(3553,10242,33071),n.texParameteri(3553,10243,33071),t.a.set(r,{Mb:s,hi:9729,ji:9729})}}function Ep(t,e,i){var o=t.l;if(Ce(o,e)){var n=i.viewState;o.b(new Jr(e,new vp(t=t.i,n.center,n.resolution,n.rotation,i.size,i.extent,i.pixelRatio),i,null,t))}}function Tp(t){(t=t.g).activeTexture(33984),t.blendFuncSeparate(770,771,1,771),t.disable(2884),t.disable(2929),t.disable(3089),t.disable(2960)}s(_p,As),_p.prototype.Zi=function(t,e,i){Mp(this,"precompose",i,t),Jh(i,34962,this.V);var o=i.b,n=el(i,wp,xp);if(this.o)var r=this.o;else this.o=r=new function(t,e){this.f=t.getUniformLocation(e,"d"),this.c=t.getUniformLocation(e,"e"),this.g=t.getUniformLocation(e,"f"),this.i=t.getUniformLocation(e,"g"),this.b=t.getAttribLocation(e,"b"),this.a=t.getAttribLocation(e,"c")}(o,n);i.cd(n)&&(o.enableVertexAttribArray(r.b),o.vertexAttribPointer(r.b,2,5126,!1,16,0),o.enableVertexAttribArray(r.a),o.vertexAttribPointer(r.a,2,5126,!1,16,8),o.uniform1i(r.i,0)),o.uniformMatrix4fv(r.f,!1,Lh(this.C,this.v)),o.uniformMatrix4fv(r.c,!1,Lh(this.C,this.N)),o.uniform1f(r.g,e.opacity),o.bindTexture(3553,this.Mb),o.drawArrays(5,0,4),Mp(this,"postcompose",i,t)},_p.prototype.Ag=function(){this.f=this.Mb=null,this.j=void 0},s(kp,_p),kp.handles=function(t,e){return"webgl"===t&&"IMAGE"===e.S()},kp.create=function(t,e){return new kp(t,e)},kp.prototype.wa=function(t,e,i,o,n){var r=this.a;return r.ha().wa(t,e.viewState.resolution,e.viewState.rotation,i,e.skippedFeatureUids,function(t){return o.call(n,t,r)})},kp.prototype.Bg=function(t,e){var i=this.c.g,o=t.pixelRatio,n=t.viewState,r=n.center,s=n.resolution,a=n.rotation,h=this.M,l=this.Mb,p=this.a.ha(),u=t.viewHints,d=t.extent;return void 0!==e.extent&&(d=X(d,e.extent)),u[0]||u[1]||Q(d)||(e=p.Y(d,s,o,n.projection))&&Os(this,e)&&(h=e,l=function(t,e){return e=e.Y(),nl(t.c.g,e)}(this,e),this.Mb&&t.postRenderFunctions.push((function(t,e){t.isContextLost()||t.deleteTexture(e)}).bind(null,i,this.Mb))),h&&(function(t,e,i,o,n,r,s,a){e*=r,i*=r,fo(t=t.N),wo(t,2*o/e,2*o/i),bo(t,-s),xo(t,a[0]-n[0],a[1]-n[1]),wo(t,(a[2]-a[0])/2,(a[3]-a[1])/2),xo(t,1,1)}(this,(i=this.c.i.j).width,i.height,o,r,s,a,h.G()),this.l=null,fo(o=this.v),wo(o,1,-1),xo(o,0,-1),this.M=h,this.Mb=l,Rs(t,p)),!!h},kp.prototype.cf=function(t,e){return void 0!==this.wa(t,e,0,ho,this)},kp.prototype.zg=function(t,e,i,o){if(this.M&&this.M.Y())if(this.a.ha().wa!==a){var n=vo(e.pixelToCoordinateTransform,t.slice());if(this.wa(n,e,0,ho,this))return i.call(o,this.a,null)}else{if(n=[this.M.Y().width,this.M.Y().height],!this.l){var r=e.size;xo(e=[1,0,0,1,0,0],-1,-1),wo(e,2/r[0],2/r[1]),xo(e,0,r[1]),wo(e,1,-1),r=Mo(this.N.slice());var s=[1,0,0,1,0,0];xo(s,0,n[1]),wo(s,1,-1),wo(s,n[0]/2,n[1]/2),xo(s,1,1),yo(s,r),yo(s,e),this.l=s}if(!(0>(t=vo(this.l,t.slice()))[0]||t[0]>n[0]||0>t[1]||t[1]>n[1])&&(this.i||(this.i=vn(1,1)),this.i.clearRect(0,0,1,1),this.i.drawImage(this.M.Y(),t[0],t[1],1,1,0,0,1,1),0<(n=this.i.getImageData(0,0,1,1).data)[3]))return i.call(o,this.a,n)}},s(Sp,Ys),Sp.handles=function(t){return He&&"webgl"===t},Sp.create=function(t,e){return new Sp(t,e)},(t=Sp.prototype).ia=function(){var t=this.g;t.isContextLost()||this.a.forEach(function(e){e&&t.deleteTexture(e.Mb)}),_e(this.i),Ys.prototype.ia.call(this)},t.Yk=function(t,e){t=this.g;for(var i;1024<this.a.i-this.f;){if(i=this.a.g.Pc)t.deleteTexture(i.Mb);else{if(+this.a.g.jc==e.index)break;--this.f}this.a.pop()}},t.S=function(){return"webgl"},t.Co=function(t){for(var e in t.preventDefault(),this.a.clear(),this.f=0,t=this.c)t[e].Ag()},t.Do=function(){Tp(this),this.l.render()},t.bh=function(t){var e=this.i,i=this.g;if(i.isContextLost())return!1;if(!t)return this.s&&(this.b.style.display="none",this.s=!1),!1;this.o=t.focus,this.a.set((-t.index).toString(),null),++this.f,Ep(this,"precompose",t);var o=[],n=t.layerStatesArray;Kt(n);var r,s=t.viewState.resolution,a=0;for(r=n.length;a<r;++a){var h=n[a];if(Ln(h,s)&&"ready"==h.Vj){var l=Zs(this,h.layer);l.Bg(t,h,e)&&o.push(h)}}for(s=t.size[1]*t.pixelRatio,this.b.width==(n=t.size[0]*t.pixelRatio)&&this.b.height==s||(this.b.width=n,this.b.height=s),i.bindFramebuffer(36160,null),i.clearColor(0,0,0,0),i.clear(16384),i.enable(3042),i.viewport(0,0,this.b.width,this.b.height),a=0,r=o.length;a<r;++a)(l=Zs(this,(h=o[a]).layer)).Zi(t,h,e);this.s||(this.b.style.display="",this.s=!0),Vs(t),1024<this.a.i-this.f&&t.postRenderFunctions.push(this.Yk.bind(this)),0!==this.j.b.length&&(t.postRenderFunctions.push(this.B),t.animate=!0),Ep(this,"postcompose",t),Js(this,t),t.postRenderFunctions.push(Xs)},t.wa=function(t,e,i,o,n,r,s){if(this.g.isContextLost())return!1;var a,h=e.viewState,l=e.layerStatesArray;for(a=l.length-1;0<=a;--a){var p=l[a],u=p.layer;if(Ln(p,h.resolution)&&r.call(s,u)&&(p=Zs(this,u).wa(t,e,i,o,n)))return p}},t.Ui=function(t,e,i,o,n){if(i=!1,this.g.isContextLost())return!1;var r,s=e.viewState,a=e.layerStatesArray;for(r=a.length-1;0<=r;--r){var h=a[r],l=h.layer;if(Ln(h,s.resolution)&&o.call(n,l)&&(i=Zs(this,l).cf(t,e)))return!0}return i},t.Ti=function(t,e,i,o,n){if(this.g.isContextLost())return!1;var r,s=e.viewState,a=e.layerStatesArray;for(r=a.length-1;0<=r;--r){var h=a[r],l=h.layer;if(Ln(h,s.resolution)&&n.call(o,l)&&(h=Zs(this,l).zg(t,e,i,o)))return h}};var Pp=new Dh("precision mediump float;varying vec2 a;uniform sampler2D e;void main(void){gl_FragColor=texture2D(e,a);}"),Ap=new Ih("varying vec2 a;attribute vec2 b;attribute vec2 c;uniform vec4 d;void main(void){gl_Position=vec4(b*d.xy+d.zw,0.,1.);a=c;}");function Op(t,e){_p.call(this,t,e),this.T=Pp,this.ca=Ap,this.i=null,this.B=new Wh([0,0,0,1,1,0,1,1,0,1,0,0,1,1,1,0]),this.D=this.l=null,this.s=-1,this.O=[0,0]}function Dp(t,e){_p.call(this,t,e),this.s=!1,this.O=-1,this.T=NaN,this.D=[1/0,1/0,-1/0,-1/0],this.l=this.i=this.B=null}function Ip(t){(t=it({},t)).controls||(t.controls=Un()),t.interactions||(t.interactions=Xr()),Pn.call(this,t)}function Rp(t){Te.call(this),this.id=t.id,this.insertFirst=void 0===t.insertFirst||t.insertFirst,this.stopEvent=void 0===t.stopEvent||t.stopEvent,this.element=document.createElement("DIV"),this.element.className=void 0!==t.className?t.className:"ol-overlay-container ol-selectable",this.element.style.position="absolute",this.autoPan=void 0!==t.autoPan&&t.autoPan,this.autoPanAnimation=t.autoPanAnimation||{},this.autoPanMargin=void 0!==t.autoPanMargin?t.autoPanMargin:20,this.a={ze:"",Se:"",xf:"",Ef:"",visible:!0},this.c=null,ge(this,Ae(Fp),this.am,this),ge(this,Ae(zp),this.km,this),ge(this,Ae(Bp),this.om,this),ge(this,Ae(qp),this.qm,this),ge(this,Ae(Hp),this.rm,this),void 0!==t.element&&this.Hj(t.element),this.Mj(void 0!==t.offset?t.offset:[0,0]),this.Pj(void 0!==t.positioning?t.positioning:"top-left"),void 0!==t.position&&this.We(t.position)}function Np(t,e){var i=t.getBoundingClientRect();return[t=i.left+window.pageXOffset,i=i.top+window.pageYOffset,t+e[0],i+e[1]]}function Lp(t,e){t.a.visible!==e&&(t.element.style.display=e?"":"none",t.a.visible=e)}function jp(t){var e=t.Ve(),i=t.pi();if(e&&e.c&&i){i=e.Ia(i);var o=e.Cb();e=t.element.style;var n=t.Xh(),r=t.Yh();Lp(t,!0);var s=n[0];n=n[1],"bottom-right"==r||"center-right"==r||"top-right"==r?(""!==t.a.Se&&(t.a.Se=e.left=""),s=Math.round(o[0]-i[0]-s)+"px",t.a.xf!=s&&(t.a.xf=e.right=s)):(""!==t.a.xf&&(t.a.xf=e.right=""),"bottom-center"!=r&&"center-center"!=r&&"top-center"!=r||(s-=t.element.offsetWidth/2),s=Math.round(i[0]+s)+"px",t.a.Se!=s&&(t.a.Se=e.left=s)),"bottom-left"==r||"bottom-center"==r||"bottom-right"==r?(""!==t.a.Ef&&(t.a.Ef=e.top=""),i=Math.round(o[1]-i[1]-n)+"px",t.a.ze!=i&&(t.a.ze=e.bottom=i)):(""!==t.a.ze&&(t.a.ze=e.bottom=""),"center-left"!=r&&"center-center"!=r&&"center-right"!=r||(n-=t.element.offsetHeight/2),i=Math.round(i[1]+n)+"px",t.a.Ef!=i&&(t.a.Ef=e.top=i))}else Lp(t,!1)}s(Op,_p),Op.handles=function(t,e){return"webgl"===t&&"TILE"===e.S()},Op.create=function(t,e){return new Op(t,e)},(t=Op.prototype).ia=function(){$h(this.c.i,this.B),_p.prototype.ia.call(this)},t.Rf=function(t,e,i){var o=this.c;return function(n,r){return vw(t,e,n,r,function(t){var e=o.a.a.hasOwnProperty(t.lb());return e&&(i[n]||(i[n]={}),i[n][t.ya.toString()]=t),e})}},t.Ag=function(){_p.prototype.Ag.call(this),this.i=null},t.Bg=function(t,e,i){var o=this.c,n=i.b,r=t.viewState,s=r.projection,a=this.a,h=a.ha(),l=h.eb(s),p=l.Dc(r.resolution),d=l.Ta(p),c=h.Zd(p,t.pixelRatio,s),y=c[0]/k(l.Za(p),this.O)[0],g=d/y,m=h.Xc(y)*h.Zf(s),v=r.center,b=t.extent,w=oe(l,b,p);if(this.l&&function(t,e){return t.fa==w.fa&&t.ea==w.ea&&t.la==w.la&&t.ka==w.ka}(this.l)&&this.s==h.g)g=this.D;else{var x=[w.la-w.fa+1,w.ka-w.ea+1],_=function(t){return f(0<t,29),Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}(Math.max(x[0]*c[0],x[1]*c[1]));x=g*_;var M=l.Ic(p),S=M[0]+w.fa*c[0]*g;g=[S,g=M[1]+w.ea*c[1]*g,S+x,g+x],function(t,e,i){var o=t.c.g;if(void 0===t.j||t.j!=i){e.postRenderFunctions.push((function(t,e,i){t.isContextLost()||(t.deleteFramebuffer(e),t.deleteTexture(i))}).bind(null,o,t.f,t.Mb)),e=ol(o,i,i);var n=o.createFramebuffer();o.bindFramebuffer(36160,n),o.framebufferTexture2D(36160,36064,3553,e,0),t.Mb=e,t.f=n,t.j=i}else o.bindFramebuffer(36160,t.f)}(this,t,_),n.viewport(0,0,_,_),n.clearColor(0,0,0,0),n.clear(16384),n.disable(3042),_=el(i,this.T,this.ca),i.cd(_),this.i||(this.i=new function(t,e){this.c=t.getUniformLocation(e,"d"),this.g=t.getUniformLocation(e,"e"),this.b=t.getAttribLocation(e,"b"),this.a=t.getAttribLocation(e,"c")}(n,_)),Jh(i,34962,this.B),n.enableVertexAttribArray(this.i.b),n.vertexAttribPointer(this.i.b,2,5126,!1,16,0),n.enableVertexAttribArray(this.i.a),n.vertexAttribPointer(this.i.a,2,5126,!1,16,8),n.uniform1i(this.i.g,0),(i={})[p]={};var C=this.Rf(h,s,i),E=a.i();_=!0,S=[1/0,1/0,-1/0,-1/0];var T,P,A,O=new u(0,0,0,0);for(T=w.fa;T<=w.la;++T)for(P=w.ea;P<=w.ka;++P){if(M=h.ad(p,T,P,y,s),void 0!==e.extent){var D=l.Ma(M.ya,S);if(!$(D,e.extent))continue}if((D=2==(D=M.getState())||4==D||3==D&&!E)||(M=kh(M)),2==(D=M.getState())){if(o.a.a.hasOwnProperty(M.lb())){i[p][M.ya.toString()]=M;continue}}else if(4==D||3==D&&!E)continue;_=!1,(D=ee(l,M.ya,C,O,S))||(M=ie(l,M.ya,O,S))&&C(p+1,M)}for((e=Object.keys(i).map(Number)).sort(Wt),C=new Float32Array(4),E=0,O=e.length;E<O;++E)for(A in T=i[e[E]])D=l.Ma((M=T[A]).ya,S),C[0]=2*(D[2]-D[0])/x,C[1]=2*(D[3]-D[1])/x,C[2]=2*(D[0]-g[0])/x-1,C[3]=2*(D[1]-g[1])/x-1,n.uniform4fv(this.i.c,C),Cp(o,M,c,m*y),n.drawArrays(5,0,4);_?(this.l=w,this.D=g,this.s=h.g):(this.D=this.l=null,this.s=-1,t.animate=!0)}Ns(t.usedTiles,h,p,w);var I=o.j;return Ls(t,h,l,y,s,b,p,a.c(),function(t){2!=t.getState()||o.a.a.hasOwnProperty(t.lb())||t.lb()in I.a||I.i([t,ne(l,t.ya),l.Ta(t.ya[0]),c,m*y])},this),Is(t,h),Rs(t,h),fo(n=this.v),xo(n,(Math.round(v[0]/d)*d-g[0])/(g[2]-g[0]),(Math.round(v[1]/d)*d-g[1])/(g[3]-g[1])),0!==r.rotation&&bo(n,r.rotation),wo(n,t.size[0]*r.resolution/(g[2]-g[0]),t.size[1]*r.resolution/(g[3]-g[1])),xo(n,-.5,-.5),!0},t.zg=function(t,e,i,o){if(this.f){t=[(t=vo(this.v,[t[0]/e.size[0],(e.size[1]-t[1])/e.size[1]].slice()))[0]*this.j,t[1]*this.j],(e=this.c.i.b).bindFramebuffer(e.FRAMEBUFFER,this.f);var n=new Uint8Array(4);if(e.readPixels(t[0],t[1],1,1,e.RGBA,e.UNSIGNED_BYTE,n),0<n[3])return i.call(o,this.a,n)}},s(Dp,_p),Dp.handles=function(t,e){return"webgl"===t&&"VECTOR"===e.S()},Dp.create=function(t,e){return new Dp(t,e)},(t=Dp.prototype).Zi=function(t,e,i){this.l=e;var o=t.viewState,n=this.i,r=t.size,s=t.pixelRatio,a=this.c.g;n&&!n.yg()&&(a.enable(a.SCISSOR_TEST),a.scissor(0,0,r[0]*s,r[1]*s),n.Na(i,o.center,o.resolution,o.rotation,r,s,e.opacity,e.Te?t.skippedFeatureUids:{}),a.disable(a.SCISSOR_TEST))},t.ia=function(){var t=this.i;t&&(fp(t,this.c.i)(),this.i=null),_p.prototype.ia.call(this)},t.wa=function(t,e,i,o,n){if(this.i&&this.l){var r=this.a,s={};return this.i.wa(t,this.c.i,(i=e.viewState).center,i.resolution,i.rotation,e.size,e.pixelRatio,this.l.opacity,{},function(t){var e=h(t).toString();if(!(e in s))return s[e]=!0,o.call(n,t,r)})}},t.cf=function(t,e){if(this.i&&this.l){var i=e.viewState;return function(t,e,i,o,n,r,s,a){var h=i.b;return h.bindFramebuffer(h.FRAMEBUFFER,Qh(i)),void 0!==yp(t,i,e,o,n,r,s,a,function(){var t=new Uint8Array(4);return h.readPixels(0,0,1,1,h.RGBA,h.UNSIGNED_BYTE,t),0<t[3]},!1)}(this.i,t,this.c.i,i.resolution,i.rotation,e.pixelRatio,this.l.opacity,e.skippedFeatureUids)}return!1},t.zg=function(t,e,i,o){if(t=vo(e.pixelToCoordinateTransform,t.slice()),this.cf(t,e))return i.call(o,this.a,null)},t.$i=function(){Ds(this)},t.Bg=function(t,e,i){function o(t){var e=t.ib();if(e)var i=e.call(t,l);else(e=n.ib())&&(i=e(t,l));if(i){if(i){if(e=!1,Array.isArray(i))for(var o=i.length-1;0<=o;--o)e=za(d,t,i[o],Fa(l,p),this.$i,this)||e;else e=za(d,t,i,Fa(l,p),this.$i,this)||e;t=e}else t=!1;this.s=this.s||t}}var n=this.a;Rs(t,e=n.ha());var r=t.viewHints[0],s=t.viewHints[1],a=n.ca,h=n.ra;if(!this.s&&!a&&r||!h&&s)return!0;s=t.extent,r=(a=t.viewState).projection;var l=a.resolution,p=t.pixelRatio;a=n.g;var u=n.f;if(void 0===(h=n.get(zv))&&(h=ja),s=C(s,u*l),!this.s&&this.T==l&&this.O==a&&this.B==h&&A(this.D,s))return!0;this.i&&t.postRenderFunctions.push(fp(this.i,i)),this.s=!1;var d=new cp(.5*l/p,s,n.f);if(e.ae(s,l,r),h){var c=[];e.ec(s,function(t){c.push(t)},this),c.sort(h),c.forEach(o,this)}else e.ec(s,o,this);return function(t,e){for(var i in t.a){var o,n=t.a[i];for(o in n)n[o].gb(e)}}(d,i),this.T=l,this.O=a,this.B=h,this.D=s,this.i=d,!0},En("MAP_RENDERER",Qs),Tn([Hs,ea,qa,Ha]),En("MAP_RENDERER",Sp),Tn([kp,Op,Dp]),s(Ip,Pn),s(Rp,Te),(t=Rp.prototype).Rd=function(){return this.get(Fp)},t.nn=function(){return this.id},t.Ve=function(){return this.get(zp)},t.Xh=function(){return this.get(Bp)},t.pi=function(){return this.get(qp)},t.Yh=function(){return this.get(Hp)},t.am=function(){for(var t=this.element;t.lastChild;)t.removeChild(t.lastChild);(t=this.Rd())&&this.element.appendChild(t)},t.km=function(){this.c&&(wn(this.element),be(this.c),this.c=null);var t=this.Ve();t&&(this.c=ge(t,"postrender",this.render,this),jp(this),t=this.stopEvent?t.v:t.o,this.insertFirst?t.insertBefore(this.element,t.childNodes[0]||null):t.appendChild(this.element))},t.render=function(){jp(this)},t.om=function(){jp(this)},t.qm=function(){if(jp(this),this.get(qp)&&this.autoPan){var t=this.Ve();if(t&&t.Cc()){var e=Np(t.Cc(),t.Cb()),i=this.Rd(),o=i.offsetWidth,n=getComputedStyle(i);o+=parseInt(n.marginLeft,10)+parseInt(n.marginRight,10),n=i.offsetHeight;var r=getComputedStyle(i),s=Np(i,[o,n+=parseInt(r.marginTop,10)+parseInt(r.marginBottom,10)]);i=this.autoPanMargin,A(e,s)||(o=s[0]-e[0],n=e[2]-s[2],r=s[1]-e[1],s=e[3]-s[3],e=[0,0],0>o?e[0]=o-i:0>n&&(e[0]=Math.abs(n)+i),0>r?e[1]=r-i:0>s&&(e[1]=Math.abs(s)+i),0===e[0]&&0===e[1])||(i=t.aa().xa(),e=[(i=t.Ia(i))[0]+e[0],i[1]+e[1]],t.aa().animate({center:t.Ra(e),duration:this.autoPanAnimation.duration,easing:this.autoPanAnimation.easing}))}}},t.rm=function(){jp(this)},t.Hj=function(t){this.set(Fp,t)},t.setMap=function(t){this.set(zp,t)},t.Mj=function(t){this.set(Bp,t)},t.We=function(t){this.set(qp,t)},t.Pj=function(t){this.set(Hp,t)};var Fp="element",zp="map",Bp="offset",qp="position",Hp="positioning";function Up(t,e,i,o,n,r){Mh.call(this,t,e,r),this.c=0,this.l=null,this.v=o,this.a=null,this.f={},this.C=n,this.N=i}function Wp(t,e,i){return t.f[h(e)+","+i]}s(Up,Mh),(t=Up.prototype).ia=function(){this.a=null,this.f={},this.state=5,this.u(),Mh.prototype.ia.call(this)},t.G=function(){return this.l||Gp},t.qn=function(){return this.v},t.pn=function(){return this.a},t.lb=function(){return this.N},t.rn=function(){return this.o},t.load=function(){0==this.state&&(Ch(this,1),this.C(this,this.N),this.D(null,NaN,null))},t.Cp=function(t,e,i){this.vg(e),this.Ij(t),this.ri(i)},t.Bp=function(){Ch(this,3)},t.ri=function(t){this.l=t},t.Ij=function(t){this.a=t,Ch(this,2)},t.vg=function(t){this.o=t},t.ug=function(t){this.D=t};var Gp=[0,0,4096,4096];function Yp(t){this.c=void 0!==(t=t||{}).className?t.className:"ol-full-screen";var e=void 0!==t.label?t.label:"\u2922";this.l="string"==typeof e?document.createTextNode(e):e,this.v="string"==typeof(e=void 0!==t.labelActive?t.labelActive:"\xd7")?document.createTextNode(e):e;var i=t.tipLabel?t.tipLabel:"Toggle full-screen";(e=document.createElement("button")).className=this.c+"-"+Xp(),e.setAttribute("type","button"),e.title=i,e.appendChild(this.l),ge(e,"click",this.C,this),(i=document.createElement("div")).className=this.c+" ol-unselectable ol-control "+(Vp()?"":"ol-unsupported"),i.appendChild(e),On.call(this,{element:i,target:t.target}),this.D=void 0!==t.keys&&t.keys,this.j=t.source}function Vp(){var t=document.body;return!!(t.webkitRequestFullscreen||t.mozRequestFullScreen&&document.mozFullScreenEnabled||t.msRequestFullscreen&&document.msFullscreenEnabled||t.requestFullscreen&&document.fullscreenEnabled)}function Xp(){return!!(document.webkitIsFullScreen||document.mozFullScreen||document.msFullscreenElement||document.fullscreenElement)}function Zp(t){t.requestFullscreen?t.requestFullscreen():t.msRequestFullscreen?t.msRequestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen&&t.webkitRequestFullscreen()}s(Yp,On),Yp.prototype.C=function(t){t.preventDefault(),Vp()&&(t=this.a)&&(Xp()?document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen():(t=this.j?"string"==typeof this.j?document.getElementById(this.j):this.j:t.Cc(),this.D?t.mozRequestFullScreenWithKeys?t.mozRequestFullScreenWithKeys():t.webkitRequestFullscreen?t.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):Zp(t):Zp(t)))},Yp.prototype.o=function(){var t=this.element.firstElementChild,e=this.a;Xp()?(t.className=this.c+"-true",bn(this.v,this.l)):(t.className=this.c+"-false",bn(this.l,this.v)),e&&e.Oc()},Yp.prototype.setMap=function(t){On.prototype.setMap.call(this,t),t&&this.s.push(ge(document,Kp(),this.o,this))};var Kp=function(){var t;return function(){if(!t){var e=document.body;e.webkitRequestFullscreen?t="webkitfullscreenchange":e.mozRequestFullScreen?t="mozfullscreenchange":e.msRequestFullscreen?t="MSFullscreenChange":e.requestFullscreen&&(t="fullscreenchange")}return t}}();function Jp(t){t=t||{};var e=document.createElement("DIV");e.className=void 0!==t.className?t.className:"ol-mouse-position",On.call(this,{element:e,render:t.render?t.render:$p,target:t.target}),ge(this,Ae(tu),this.En,this),t.coordinateFormat&&this.Gj(t.coordinateFormat),t.projection&&this.ti(t.projection),this.o=void 0!==t.undefinedHTML?t.undefinedHTML:"",this.v=e.innerHTML,this.l=this.j=this.c=null}function $p(t){(t=t.frameState)?this.c!=t.viewState.projection&&(this.c=t.viewState.projection,this.j=null):this.c=null,Qp(this,this.l)}function Qp(t,e){var i=t.o;if(e&&t.c){if(!t.j){var o=t.si();t.j=o?Ft(t.c,o):zt}(e=t.a.Ra(e))&&(t.j(e,e),i=(i=t.Qh())?i(e):e.toString())}t.v&&i==t.v||(t.element.innerHTML=i,t.v=i)}s(Jp,On),(t=Jp.prototype).En=function(){this.j=null},t.Qh=function(){return this.get(eu)},t.si=function(){return this.get(tu)},t.mm=function(t){this.l=this.a.ud(t),Qp(this,this.l)},t.nm=function(){Qp(this,null),this.l=null},t.setMap=function(t){On.prototype.setMap.call(this,t),t&&this.s.push(ge(t=t.a,"mousemove",this.mm,this),ge(t,"mouseout",this.nm,this))},t.Gj=function(t){this.set(eu,t)},t.ti=function(t){this.set(tu,Nt(t))};var tu="projection",eu="coordinateFormat";function iu(t){function e(t){t=a.Sd(t),h.a.aa().ub(t),window.removeEventListener("mousemove",i),window.removeEventListener("mouseup",e)}function i(t){t=a.Sd({clientX:t.clientX-p.offsetWidth/2,clientY:t.clientY+p.offsetHeight/2}),l.We(t)}this.j=void 0===(t=t||{}).collapsed||t.collapsed,this.l=void 0===t.collapsible||t.collapsible,this.l||(this.j=!1);var o=void 0!==t.className?t.className:"ol-overviewmap",n=void 0!==t.tipLabel?t.tipLabel:"Overview map",r=void 0!==t.collapseLabel?t.collapseLabel:"\xab";"string"==typeof r?(this.o=document.createElement("span"),this.o.textContent=r):this.o=r,"string"==typeof(r=void 0!==t.label?t.label:"\xbb")?(this.D=document.createElement("span"),this.D.textContent=r):this.D=r;var s=this.l&&!this.j?this.o:this.D;(r=document.createElement("button")).setAttribute("type","button"),r.title=n,r.appendChild(s),ge(r,"click",this.Hn,this),this.C=document.createElement("DIV"),this.C.className="ol-overviewmap-map";var a=this.c=new Pn({controls:new Ie,interactions:new Ie,view:t.view});t.layers&&t.layers.forEach(function(t){a.xe(t)},this),(n=document.createElement("DIV")).className="ol-overviewmap-box",n.style.boxSizing="border-box",this.v=new Rp({position:[0,0],positioning:"bottom-left",element:n}),this.c.ye(this.v),(n=document.createElement("div")).className=o+" ol-unselectable ol-control"+(this.j&&this.l?" ol-collapsed":"")+(this.l?"":" ol-uncollapsible"),n.appendChild(this.C),n.appendChild(r),On.call(this,{element:n,render:t.render?t.render:ou,target:t.target});var h=this,l=this.v,p=this.v.Rd();p.addEventListener("mousedown",function(){window.addEventListener("mousemove",i),window.addEventListener("mouseup",e)})}function ou(){var t=this.a,e=this.c;if(t.c&&e.c){var i=t.Cb();t=t.aa().qd(i);var o=e.Cb();i=e.aa().qd(o);var n=e.Ia(Z(t)),r=e.Ia(W(t));e=Math.abs(n[0]-r[0]),n=Math.abs(n[1]-r[1]),r=o[0],o=o[1],e<.1*r||n<.1*o||e>.75*r||n>.75*o?nu(this):A(i,t)||(t=this.c,i=this.a.aa(),t.aa().ub(i.xa()))}ru(this)}function nu(t){var e=t.a;t=t.c;var i=e.Cb();e=e.aa().qd(i),t=t.aa(),tt(e,1/(.1*Math.pow(2,Math.log(7.5)/Math.LN2/2))),t.Uf(e)}function ru(t){var e=t.a,i=t.c;if(e.c&&i.c){var o=e.Cb(),n=e.aa(),r=i.aa();i=n.Sa(),e=t.v;var s=t.v.Rd(),a=n.qd(o);if(o=r.Pa(),n=U(a),r=K(a),t=t.a.aa().xa()){var h=[n[0]-t[0],n[1]-t[1]];$i(h,i),Vi(h,t)}e.We(h),s&&(s.style.width=Math.abs((n[0]-r[0])/o)+"px",s.style.height=Math.abs((r[1]-n[1])/o)+"px")}}function su(t){t.element.classList.toggle("ol-collapsed"),t.j?bn(t.o,t.D):bn(t.D,t.o),t.j=!t.j;var e=t.c;t.j||e.c||(e.Oc(),nu(t),me(e,"postrender",function(){ru(this)},t))}function au(t){var e=void 0!==(t=t||{}).className?t.className:"ol-scale-line";this.l=document.createElement("DIV"),this.l.className=e+"-inner",this.c=document.createElement("DIV"),this.c.className=e+" ol-unselectable",this.c.appendChild(this.l),this.o=null,this.v=void 0!==t.minWidth?t.minWidth:64,this.j=!1,this.B=void 0,this.D="",On.call(this,{element:this.c,render:t.render?t.render:lu,target:t.target}),ge(this,Ae(uu),this.V,this),this.O(t.units||"metric")}s(iu,On),(t=iu.prototype).setMap=function(t){var e=this.a;t!==e&&(e&&((e=e.aa())&&ve(e,Ae("rotation"),this.Qe,this),this.c.Ad(null)),On.prototype.setMap.call(this,t),t&&(this.c.Ad(this.C),this.s.push(ge(t,"propertychange",this.lm,this)),0===this.c.Xe().kc()&&this.c.zf(t.hc()),t=t.aa()))&&(ge(t,Ae("rotation"),this.Qe,this),gn(t)&&(this.c.Oc(),nu(this)))},t.lm=function(t){"view"===t.key&&((t=t.oldValue)&&ve(t,Ae("rotation"),this.Qe,this),ge(t=this.a.aa(),Ae("rotation"),this.Qe,this))},t.Qe=function(){this.c.aa().ce(this.a.aa().Sa())},t.Hn=function(t){t.preventDefault(),su(this)},t.Gn=function(){return this.l},t.Jn=function(t){this.l!==t&&(this.l=t,this.element.classList.toggle("ol-uncollapsible"),!t&&this.j&&su(this))},t.In=function(t){this.l&&this.j!==t&&su(this)},t.Fn=function(){return this.j},t.Hl=function(){return this.c},s(au,On);var hu=[1,2,5];function lu(t){this.o=(t=t.frameState)?t.viewState:null,pu(this)}function pu(t){var e=t.o;if(e){var i=e.center,o=e.projection,n=t.C();e=Pt(o,e.resolution,i,"degrees"==n?"degrees":"m"),"degrees"!=n&&(e*=o.Bc());var r=t.v*e;for(i="","degrees"==n?(i=pt.degrees,"degrees"==o.a?r*=i:e/=i,r<i/60?(i="\u2033",e*=3600):r<i?(i="\u2032",e*=60):i="\xb0"):"imperial"==n?.9144>r?(i="in",e/=.0254):1609.344>r?(i="ft",e/=.3048):(i="mi",e/=1609.344):"nautical"==n?(e/=1852,i="nm"):"metric"==n?.001>r?(i="\u03bcm",e*=1e6):1>r?(i="mm",e*=1e3):1e3>r?i="m":(i="km",e/=1e3):"us"==n?.9144>r?(i="in",e*=39.37):1609.344>r?(i="ft",e/=.30480061):(i="mi",e/=1609.3472):f(!1,33),n=3*Math.floor(Math.log(t.v*e)/Math.log(10));;){if(r=hu[(n%3+3)%3]*Math.pow(10,Math.floor(n/3)),o=Math.round(r/e),isNaN(o))return t.c.style.display="none",void(t.j=!1);if(o>=t.v)break;++n}t.D!=(e=r+" "+i)&&(t.l.innerHTML=e,t.D=e),t.B!=o&&(t.l.style.width=o+"px",t.B=o),t.j||(t.c.style.display="",t.j=!0)}else t.j&&(t.c.style.display="none",t.j=!1)}au.prototype.C=function(){return this.get(uu)},au.prototype.V=function(){pu(this)},au.prototype.O=function(t){this.set(uu,t)};var uu="units";function du(t){t=t||{},this.c=void 0,this.j=cu,this.D=this.v=0,this.O=null,this.$=!1,this.V=void 0!==t.duration?t.duration:200;var e=void 0!==t.className?t.className:"ol-zoomslider",i=document.createElement("button");i.setAttribute("type","button"),i.className=e+"-thumb ol-unselectable";var o=document.createElement("div");o.className=e+" ol-unselectable ol-control",o.appendChild(i),this.l=new xi(o),ge(this.l,"pointerdown",this.$l,this),ge(this.l,"pointermove",this.Yl,this),ge(this.l,"pointerup",this.Zl,this),ge(o,"click",this.Xl,this),ge(i,"click",ke),On.call(this,{element:o,render:t.render?t.render:fu})}s(du,On),du.prototype.ia=function(){_e(this.l),On.prototype.ia.call(this)};var cu=0;function fu(t){if(t.frameState){if(!this.$){var e=this.element,i=e.offsetWidth,o=e.offsetHeight,n=e.firstElementChild,r=getComputedStyle(n);e=n.offsetWidth+parseFloat(r.marginRight)+parseFloat(r.marginLeft),n=n.offsetHeight+parseFloat(r.marginTop)+parseFloat(r.marginBottom),this.O=[e,n],i>o?(this.j=1,this.D=i-e):(this.j=cu,this.v=o-n),this.$=!0}(t=t.frameState.viewState.resolution)!==this.c&&(this.c=t,yu(this,t))}}function yu(t,e){e=1-function(t){var e=t.a,i=Math.log(e/t.i)/Math.log(2);return function(t){return Math.log(e/t)/Math.log(2)/i}}(t.a.aa())(e);var i=t.element.firstElementChild;1==t.j?i.style.left=t.D*e+"px":i.style.top=t.v*e+"px"}function gu(t,e){return function(t){var e=t.a,i=Math.log(e/t.i)/Math.log(2);return function(t){return e/Math.pow(2,t*i)}}(t.a.aa())(1-e)}function mu(t){this.extent=(t=t||{}).extent?t.extent:null;var e=void 0!==t.className?t.className:"ol-zoom-extent",i=void 0!==t.label?t.label:"E",o=void 0!==t.tipLabel?t.tipLabel:"Fit to extent",n=document.createElement("button");n.setAttribute("type","button"),n.title=o,n.appendChild("string"==typeof i?document.createTextNode(i):i),ge(n,"click",this.c,this),(i=document.createElement("div")).className=e+" ol-unselectable ol-control",i.appendChild(n),On.call(this,{element:i,target:t.target})}(t=du.prototype).setMap=function(t){On.prototype.setMap.call(this,t),t&&t.render()},t.Xl=function(t){var e=this.a.aa();t=gu(this,y(1===this.j?(t.offsetX-this.O[0]/2)/this.D:(t.offsetY-this.O[1]/2)/this.v,0,1)),e.animate({resolution:e.constrainResolution(t),duration:this.V,easing:ro})},t.$l=function(t){this.o||t.b.target!==this.element.firstElementChild||(mn(this.a.aa(),1,1),this.C=t.clientX,this.B=t.clientY,this.o=!0)},t.Yl=function(t){if(this.o){var e=this.element.firstElementChild;this.c=gu(this,y(1===this.j?(t.clientX-this.C+parseInt(e.style.left,10))/this.D:(t.clientY-this.B+parseInt(e.style.top,10))/this.v,0,1)),this.a.aa().gd(this.c),yu(this,this.c),this.C=t.clientX,this.B=t.clientY}},t.Zl=function(){if(this.o){var t=this.a.aa();mn(t,1,-1),t.animate({resolution:t.constrainResolution(this.c),duration:this.V,easing:ro}),this.o=!1,this.B=this.C=void 0}},s(mu,On),mu.prototype.c=function(t){t.preventDefault(),t=this.a.aa();var e=this.extent?this.extent:t.v.G();t.Uf(e)};var vu=document.implementation.createDocument("","",null);function bu(t,e){return vu.createElementNS(t,e)}function wu(t,e){return function t(e,i,o){if(e.nodeType==Node.CDATA_SECTION_NODE||e.nodeType==Node.TEXT_NODE)o.push(i?String(e.nodeValue).replace(/(\r\n|\r|\n)/g,""):e.nodeValue);else for(e=e.firstChild;e;e=e.nextSibling)t(e,i,o);return o}(t,e,[]).join("")}function xu(t){return t instanceof Document}function _u(t){return t instanceof Node}function Mu(t){return(new DOMParser).parseFromString(t,"application/xml")}function ku(t,e){return function(i,o){void 0!==(i=t.call(e,i,o))&&Vt(o[o.length-1],i)}}function Su(t,e){return function(i,o){void 0!==(i=t.call(void 0!==e?e:this,i,o))&&o[o.length-1].push(i)}}function Cu(t,e){return function(i,o){void 0!==(i=t.call(void 0!==e?e:this,i,o))&&(o[o.length-1]=i)}}function Eu(t){return function(e,i){var o=t.call(this,e,i);void 0!==o&&((e=e.localName)in(i=i[i.length-1])?i[e]:i[e]=[]).push(o)}}function Tu(t,e){return function(i,o){var n=t.call(this,i,o);void 0!==n&&(o[o.length-1][void 0!==e?e:i.localName]=n)}}function Pu(t,e){return function(i,o,n){t.call(void 0!==e?e:this,i,o,n),n[n.length-1].node.appendChild(i)}}function Au(t){var e,i;return function(o,n,r){if(void 0===e){e={};var s={};s[o.localName]=t,e[o.namespaceURI]=s,i=Ou(o.localName)}ju(e,i,n,r)}}function Ou(t,e){return function(i,o,n){return i=o[o.length-1].node,void 0===(o=t)&&(o=n),n=e,void 0===e&&(n=i.namespaceURI),bu(n,o)}}var Du=Ou();function Iu(t,e){for(var i=e.length,o=Array(i),n=0;n<i;++n)o[n]=t[e[n]];return o}function Ru(t,e,i){var o;i=void 0!==i?i:{};var n=0;for(o=t.length;n<o;++n)i[t[n]]=e;return i}function Nu(t,e,i,o){for(e=e.firstElementChild;e;e=e.nextElementSibling){var n=t[e.namespaceURI];void 0!==n&&void 0!==(n=n[e.localName])&&n.call(o,e,i)}}function Lu(t,e,i,o,n){return o.push(t),Nu(e,i,o,n),o.pop()}function ju(t,e,i,o,n,r){for(var s,a,h=(void 0!==n?n:i).length,l=0;l<h;++l)void 0!==(s=i[l])&&void 0!==(a=e.call(r,s,o,void 0!==n?n[l]:void 0))&&t[a.namespaceURI][a.localName].call(r,a,s,o)}function Fu(t,e,i,o,n,r,s){n.push(t),ju(e,i,o,n,r,s),n.pop()}function zu(t,e,i,o){return function(n,r,s){var a=new XMLHttpRequest;a.open("GET","function"==typeof t?t(n,r,s):t,!0),"arraybuffer"==e.S()&&(a.responseType="arraybuffer"),a.onload=(function(){if(!a.status||200<=a.status&&300>a.status){var t=e.S();if("json"==t||"text"==t)var n=a.responseText;else"xml"==t?(n=a.responseXML)||(n=Mu(a.responseText)):"arraybuffer"==t&&(n=a.response);n?i.call(this,e.Qa(n,{featureProjection:s}),e.sb(n),e.cg()):o.call(this)}else o.call(this)}).bind(this),a.onerror=(function(){o.call(this)}).bind(this),a.send()}}function Bu(t,e){return zu(t,e,function(t){this.Qc(t)},a)}function qu(){this.i=this.defaultDataProjection=null}function Hu(t,e,i){var o;return i&&(o={dataProjection:i.dataProjection?i.dataProjection:t.sb(e),featureProjection:i.featureProjection}),Uu(t,o)}function Uu(t,e){return it({dataProjection:t.defaultDataProjection,featureProjection:t.i},e)}function Wu(t,e,i){var o,n=i?Nt(i.featureProjection):null,r=i?Nt(i.dataProjection):null;if(o=n&&r&&!Lt(n,r)?t instanceof ko?(e?t.clone():t).mb(e?n:r,e?r:n):Ht(t,r,n):t,e&&i&&void 0!==i.decimals){var s=Math.pow(10,i.decimals);o===t&&(o=o.clone()),o.Rc(function(t){for(var e=0,i=t.length;e<i;++e)t[e]=Math.round(t[e]*s)/s;return t})}return o}function Gu(){qu.call(this)}function Yu(t){return"string"==typeof t?(t=JSON.parse(t))?t:null:null!==t?t:null}function Vu(t,e){So.call(this),this.c=[],this.j=this.o=-1,this.na(t,e)}function Xu(t,e){var i,o=t.ja,n=[],r=[],s=0;for(i=e.length;s<i;++s){var a=e[s];0===s&&(o=a.ja),Vt(n,a.da()),r.push(n.length)}t.ba(o,n,r)}function Zu(t,e){So.call(this),this.na(t,e)}function Ku(t,e){So.call(this),this.c=[],this.o=-1,this.D=null,this.T=this.C=this.B=-1,this.j=null,this.na(t,e)}function Ju(t){if(t.o!=t.g){var e,i=t.A,o=t.c,n=t.a,r=0,s=[],a=0;for(e=o.length;a<e;++a){var h=o[a];r=L(i,r,h[0],n),s.push((r[0]+r[2])/2,(r[1]+r[3])/2),r=h[h.length-1]}for(i=$u(t),n=t.a,a=0,e=[],h=0,r=(o=t.c).length;h<r;++h){var l=o[h];e=Ko(i,a,l,n,s,2*h,e),a=l[l.length-1]}t.D=e,t.o=t.g}return t.D}function $u(t){if(t.T!=t.g){var e=t.A;t:{var i,o=t.c,n=0;for(i=o.length;n<i;++n)if(!en(e,o[n],t.a,void 0)){o=!1;break t}o=!0}o?t.j=e:(t.j=e.slice(),t.j.length=nn(t.j,t.c,t.a)),t.T=t.g}return t.j}function Qu(t,e){var i,o=t.ja,n=[],r=[],s=0;for(i=e.length;s<i;++s){var a=e[s];0===s&&(o=a.ja);var h,l=n.length,p=a.pb(),u=0;for(h=p.length;u<h;++u)p[u]+=l;Vt(n,a.da()),r.push(p)}t.ba(o,n,r)}function td(t){t=t||{},qu.call(this),this.b=t.geometryName}function ed(t,e){if(!t)return null;if("number"==typeof t.x&&"number"==typeof t.y)var i="Point";else if(t.points)i="MultiPoint";else if(t.paths)i=1===t.paths.length?"LineString":"MultiLineString";else if(t.rings){var o,n=t.rings,r=id(t),s=[],a=[];i=[];var h=0;for(o=n.length;h<o;++h)s.length=0,jo(s,0,n[h],r.length),tn(s,0,s.length,r.length)?a.push([n[h]]):i.push(n[h]);for(;i.length;){for(n=i.shift(),r=!1,h=a.length-1;0<=h;h--)if(A(new Wo(a[h][0]).G(),new Wo(n).G())){a[h].push(n),r=!0;break}r||a.push([n.reverse()])}t=it({},t),1===a.length?(i="Polygon",t.rings=a[0]):(i="MultiPolygon",t.rings=a)}return Wu((0,nd[i])(t),!1,e)}function id(t){var e="XY";return!0===t.hasZ&&!0===t.hasM?e="XYZM":!0===t.hasZ?e="XYZ":!0===t.hasM&&(e="XYM"),e}function od(t){return{hasZ:"XYZ"===(t=t.ja)||"XYZM"===t,hasM:"XYM"===t||"XYZM"===t}}qu.prototype.cg=function(){return null},s(Gu,qu),(t=Gu.prototype).S=function(){return"json"},t.Yb=function(t,e){return this.dd(Yu(t),Hu(this,t,e))},t.Qa=function(t,e){return this.Mg(Yu(t),Hu(this,t,e))},t.ed=function(t,e){return this.Qg(Yu(t),Hu(this,t,e))},t.sb=function(t){return this.Tg(Yu(t))},t.Jd=function(t,e){return JSON.stringify(this.ld(t,e))},t.ac=function(t,e){return JSON.stringify(this.qe(t,e))},t.md=function(t,e){return JSON.stringify(this.se(t,e))},s(Vu,So),(t=Vu.prototype).Gk=function(t){this.A?Vt(this.A,t.da().slice()):this.A=t.da().slice(),this.c.push(this.A.length),this.u()},t.clone=function(){var t=new Vu(null);return t.ba(this.ja,this.A.slice(),this.c.slice()),t},t.Nb=function(t,e,i,o){return o<T(this.G(),t,e)?o:(this.j!=this.g&&(this.o=Math.sqrt(Io(this.A,0,this.c,this.a,0)),this.j=this.g),No(this.A,0,this.c,this.a,this.o,!1,t,e,i,o))},t.Wn=function(t,e,i){return"XYM"!=this.ja&&"XYZM"!=this.ja||0===this.A.length?null:function(t,e,i,o,n,r){var s=0;if(r)return ch(t,s,e[e.length-1],i,o,n);if(o<t[i-1])return n?((t=t.slice(0,i))[i-1]=o,t):null;if(t[t.length-1]<o)return n?((t=t.slice(t.length-i))[i-1]=o,t):null;for(n=0,r=e.length;n<r;++n){var a=e[n];if(s!=a){if(o<t[s+i-1])break;if(o<=t[a-1])return ch(t,s,a,i,o,!1);s=a}}return null}(this.A,this.c,this.a,t,void 0!==e&&e,void 0!==i&&i)},t.W=function(){return Bo(this.A,0,this.c,this.a)},t.pb=function(){return this.c},t.yl=function(t){if(0>t||this.c.length<=t)return null;var e=new fh(null);return e.ba(this.ja,this.A.slice(0===t?0:this.c[t-1],this.c[t])),e},t.wd=function(){var t,e=this.A,i=this.c,o=this.ja,n=[],r=0,s=0;for(t=i.length;s<t;++s){var a=i[s],h=new fh(null);h.ba(o,e.slice(r,a)),n.push(h),r=a}return n},t.Ge=function(){var t,e=[],i=this.A,o=0,n=this.c,r=this.a,s=0;for(t=n.length;s<t;++s){var a=n[s];Vt(e,o=dh(i,o,a,r,.5)),o=a}return e},t.xd=function(t){var e,i=[],o=[],n=this.A,r=this.c,s=this.a,a=0,h=0,l=0;for(e=r.length;l<e;++l){var p=r[l];h=Ho(n,a,p,s,t,i,h),o.push(h),a=p}return i.length=h,(t=new Vu(null)).ba("XY",i,o),t},t.S=function(){return"MultiLineString"},t.$a=function(t){t:{var e,i=this.A,o=this.c,n=this.a,r=0,s=0;for(e=o.length;s<e;++s){if($o(i,r,o[s],n,t)){t=!0;break t}r=o[s]}t=!1}return t},t.na=function(t,e){t?(To(this,e,t,2),this.A||(this.A=[]),t=Fo(this.A,0,t,this.a,this.c),this.A.length=0===t.length?0:t[t.length-1],this.u()):this.ba("XY",null,this.c)},t.ba=function(t,e,i){Eo(this,t,e),this.c=i,this.u()},s(Zu,So),(t=Zu.prototype).Ik=function(t){this.A?Vt(this.A,t.da()):this.A=t.da().slice(),this.u()},t.clone=function(){var t=new Zu(null);return t.ba(this.ja,this.A.slice()),t},t.Nb=function(t,e,i,o){if(o<T(this.G(),t,e))return o;var n,r=this.A,s=this.a,a=0;for(n=r.length;a<n;a+=s){var h=v(t,e,r[a],r[a+1]);if(h<o){for(o=h,h=0;h<s;++h)i[h]=r[a+h];i.length=s}}return o},t.W=function(){return zo(this.A,0,this.A.length,this.a)},t.Ll=function(t){var e=this.A?this.A.length/this.a:0;return 0>t||e<=t?null:((e=new Yo(null)).ba(this.ja,this.A.slice(t*this.a,(t+1)*this.a)),e)},t.de=function(){var t,e=this.A,i=this.ja,o=this.a,n=[],r=0;for(t=e.length;r<t;r+=o){var s=new Yo(null);s.ba(i,e.slice(r,r+o)),n.push(s)}return n},t.S=function(){return"MultiPoint"},t.$a=function(t){var e,i=this.A,o=this.a,n=0;for(e=i.length;n<e;n+=o)if(O(t,i[n],i[n+1]))return!0;return!1},t.na=function(t,e){t?(To(this,e,t,1),this.A||(this.A=[]),this.A.length=jo(this.A,0,t,this.a),this.u()):this.ba("XY",null)},t.ba=function(t,e){Eo(this,t,e),this.u()},s(Ku,So),(t=Ku.prototype).Jk=function(t){if(this.A){var e,i=this.A.length;Vt(this.A,t.da());var o=0;for(e=(t=t.pb().slice()).length;o<e;++o)t[o]+=i}else this.A=t.da().slice(),t=t.pb().slice(),this.c.push();this.c.push(t),this.u()},t.clone=function(){for(var t=new Ku(null),e=this.c.length,i=Array(e),o=0;o<e;++o)i[o]=this.c[o].slice();return t.ba(this.ja,this.A.slice(),i),t},t.Nb=function(t,e,i,o){if(o<T(this.G(),t,e))return o;if(this.C!=this.g){var n,r=this.c,s=0,a=0,h=0;for(n=r.length;h<n;++h){var l=r[h];a=Io(this.A,s,l,this.a,a),s=l[l.length-1]}this.B=Math.sqrt(a),this.C=this.g}var p;r=$u(this),a=this.a,h=this.B,n=0,l=[NaN,NaN];var u=0;for(p=(s=this.c).length;u<p;++u){var d=s[u];o=No(r,n,d,a,h,!0,t,e,i,o,l),n=d[d.length-1]}return o},t.Zc=function(t,e){t:{var i=$u(this),o=this.c,n=0;if(0!==o.length){var r,s=0;for(r=o.length;s<r;++s){var a=o[s];if(Zo(i,n,a,this.a,t,e)){t=!0;break t}n=a[a.length-1]}}t=!1}return t},t.Xn=function(){var t,e=$u(this),i=this.c,o=0,n=0,r=0;for(t=i.length;r<t;++r){var s=i[r];n+=Ao(e,o,s,this.a),o=s[s.length-1]}return n},t.W=function(t){if(void 0!==t){var e=$u(this).slice();nn(e,this.c,this.a,t)}else e=this.A;return qo(e,0,this.c,this.a)},t.td=function(){return this.c},t.ul=function(){var t=new Zu(null);return t.ba("XYM",Ju(this).slice()),t},t.xd=function(t){var e=[],i=[],o=this.A,n=this.c,r=this.a;t=Math.sqrt(t);var s,a=0,h=0,l=0;for(s=n.length;l<s;++l){var p=n[l],u=[];h=Uo(o,a,p,r,t,e,h,u),i.push(u),a=p[p.length-1]}return e.length=h,(o=new Ku(null)).ba("XY",e,i),o},t.Ml=function(t){if(0>t||this.c.length<=t)return null;if(0===t)var e=0;else e=(e=this.c[t-1])[e.length-1];var i=(t=this.c[t].slice())[t.length-1];if(0!==e){var o,n=0;for(o=t.length;n<o;++n)t[n]-=e}return(n=new rn(null)).ba(this.ja,this.A.slice(e,i),t),n},t.Vd=function(){var t,e,i=this.ja,o=this.A,n=this.c,r=[],s=0,a=0;for(t=n.length;a<t;++a){var h=n[a].slice(),l=h[h.length-1];if(0!==s){var p=0;for(e=h.length;p<e;++p)h[p]-=s}(p=new rn(null)).ba(i,o.slice(s,l),h),r.push(p),s=l}return r},t.S=function(){return"MultiPolygon"},t.$a=function(t){t:{var e,i=$u(this),o=this.c,n=this.a,r=0,s=0;for(e=o.length;s<e;++s){var a=o[s];if(Qo(i,r,a,n,t)){t=!0;break t}r=a[a.length-1]}t=!1}return t},t.na=function(t,e){if(t){To(this,e,t,3),this.A||(this.A=[]),e=this.A;var i=this.a,o=this.c,n=0;o=o||[];var r,s=0,a=0;for(r=t.length;a<r;++a)n=Fo(e,n,t[a],i,o[s]),o[s++]=n,n=n[n.length-1];o.length=s,this.A.length=0===o.length?0:0===(t=o[o.length-1]).length?0:t[t.length-1],this.u()}else this.ba("XY",null,this.c)},t.ba=function(t,e,i){Eo(this,t,e),this.c=i,this.u()},s(td,Gu);var nd={Point:function(t){return void 0!==t.m&&void 0!==t.z?new Yo([t.x,t.y,t.z,t.m],"XYZM"):void 0!==t.z?new Yo([t.x,t.y,t.z],"XYZ"):void 0!==t.m?new Yo([t.x,t.y,t.m],"XYM"):new Yo([t.x,t.y])},LineString:function(t){return new fh(t.paths[0],id(t))},Polygon:function(t){return new rn(t.rings,id(t))},MultiPoint:function(t){return new Zu(t.points,id(t))},MultiLineString:function(t){return new Vu(t.paths,id(t))},MultiPolygon:function(t){return new Ku(t.rings,id(t))}},rd={Point:function(t){var e,i=t.W();return"XYZ"===(t=t.ja)?e={x:i[0],y:i[1],z:i[2]}:"XYM"===t?e={x:i[0],y:i[1],m:i[2]}:"XYZM"===t?e={x:i[0],y:i[1],z:i[2],m:i[3]}:"XY"===t?e={x:i[0],y:i[1]}:f(!1,34),e},LineString:function(t){var e=od(t);return{hasZ:e.hasZ,hasM:e.hasM,paths:[t.W()]}},Polygon:function(t){var e=od(t);return{hasZ:e.hasZ,hasM:e.hasM,rings:t.W(!1)}},MultiPoint:function(t){var e=od(t);return{hasZ:e.hasZ,hasM:e.hasM,points:t.W()}},MultiLineString:function(t){var e=od(t);return{hasZ:e.hasZ,hasM:e.hasM,paths:t.W()}},MultiPolygon:function(t){var e=od(t);t=t.W(!1);for(var i=[],o=0;o<t.length;o++)for(var n=t[o].length-1;0<=n;n--)i.push(t[o][n]);return{hasZ:e.hasZ,hasM:e.hasM,rings:i}}};function sd(t,e){return(0,rd[t.S()])(Wu(t,!0,e),e)}function ad(){this.g=new XMLSerializer,qu.call(this)}function hd(t,e,i){return 0<(t=ld(t,e,i)).length?t[0]:null}function ld(t,e,i){var o=[];for(e=e.firstChild;e;e=e.nextSibling)e.nodeType==Node.ELEMENT_NODE&&Vt(o,t.Kc(e,i));return o}function pd(t){this.featureType=(t=t||{}).featureType,this.featureNS=t.featureNS,this.srsName=t.srsName,this.schemaLocation="",this.b={},this.b["http://www.opengis.net/gml"]={featureMember:Cu(pd.prototype.ge),featureMembers:Cu(pd.prototype.ge)},ad.call(this)}(t=td.prototype).dd=function(t,e){var i=ed(t.geometry,e),o=new ph;return this.b&&o.Lc(this.b),o.Va(i),e&&e.pg&&t.attributes[e.pg]&&o.qc(t.attributes[e.pg]),t.attributes&&o.H(t.attributes),o},t.Mg=function(t,e){if(e=e||{},t.features){var i,o=[],n=t.features;for(e.pg=t.objectIdFieldName,t=0,i=n.length;t<i;++t)o.push(this.dd(n[t],e));return o}return[this.dd(t,e)]},t.Qg=function(t,e){return ed(t,e)},t.Tg=function(t){return t.spatialReference&&t.spatialReference.wkid?Nt("EPSG:"+t.spatialReference.wkid):null},t.se=function(t,e){return sd(t,Uu(this,e))},t.ld=function(t,e){e=Uu(this,e);var i={},o=t.U();return o&&(i.geometry=sd(o,e),e&&e.featureProjection&&(i.geometry.spatialReference={wkid:Nt(e.featureProjection).wb.split(":").pop()})),delete(e=t.L())[t.a],i.attributes=rt(e)?{}:e,i},t.qe=function(t,e){e=Uu(this,e);var i,o=[],n=0;for(i=t.length;n<i;++n)o.push(this.ld(t[n],e));return{features:o}},s(ad,qu),(t=ad.prototype).S=function(){return"xml"},t.Yb=function(t,e){return xu(t)?hd(this,t,e):_u(t)?this.Lg(t,e):"string"==typeof t?hd(this,t=Mu(t),e):null},t.Lg=function(){return null},t.Qa=function(t,e){return xu(t)?ld(this,t,e):_u(t)?this.Kc(t,e):"string"==typeof t?ld(this,t=Mu(t),e):[]},t.ed=function(t,e){return xu(t)?null:_u(t)?this.vj(t,e):("string"==typeof t&&Mu(t),null)},t.vj=function(){return null},t.sb=function(t){return xu(t)?this.Sg(t):_u(t)?this.uf(t):"string"==typeof t?(t=Mu(t),this.Sg(t)):null},t.Sg=function(){return this.defaultDataProjection},t.uf=function(){return this.defaultDataProjection},t.Jd=function(){return this.g.serializeToString(this.mh())},t.mh=function(){return null},t.ac=function(t,e){return t=this.bc(t,e),this.g.serializeToString(t)},t.bc=function(){return null},t.md=function(t,e){return t=this.re(t,e),this.g.serializeToString(t)},t.re=function(){return null},s(pd,ad);var ud=/^[\s\xa0]*$/;function dd(t){return cd(t=wu(t,!1))}function cd(t){if(t=/^\s*(true|1)|(false|0)\s*$/.exec(t))return void 0!==t[1]||!1}function fd(t){return t=wu(t,!1),t=Date.parse(t),isNaN(t)?void 0:t/1e3}function yd(t){return gd(t=wu(t,!1))}function gd(t){if(t=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*$/i.exec(t))return parseFloat(t[1])}function md(t){return vd(t=wu(t,!1))}function vd(t){if(t=/^\s*(\d+)\s*$/.exec(t))return parseInt(t[1],10)}function bd(t){return wu(t,!1).trim()}function wd(t,e){Md(t,e?"1":"0")}function xd(t,e){t.appendChild(vu.createTextNode(e.toPrecision()))}function _d(t,e){t.appendChild(vu.createTextNode(e.toString()))}function Md(t,e){t.appendChild(vu.createTextNode(e))}function kd(t){pd.call(this,t=t||{}),this.s=void 0!==t.surface&&t.surface,this.c=void 0!==t.curve&&t.curve,this.f=void 0===t.multiCurve||t.multiCurve,this.j=void 0===t.multiSurface||t.multiSurface,this.schemaLocation=t.schemaLocation?t.schemaLocation:"http://www.opengis.net/gml http://schemas.opengis.net/gml/3.1.1/profiles/gmlsfProfile/1.0.0/gmlsf.xsd",this.hasZ=void 0!==t.hasZ&&t.hasZ}function Sd(t,e,i){var o=i[i.length-1];t.setAttribute("srsDimension",(i=o.hasZ)?3:2),o=o.srsName;for(var n,r=(e=e.W()).length,s=Array(r),a=0;a<r;++a){n=e[a];var h=a,l=i,p="enu";o&&(p=Nt(o).b),p="en"===p.substr(0,2)?n[0]+" "+n[1]:n[1]+" "+n[0],l&&(p+=" "+(n[2]||0)),s[h]=p}Md(t,s.join(" "))}(t=pd.prototype).ge=function(t,e){var i=t.localName,o=null;if("FeatureCollection"==i)o=Lu("http://www.opengis.net/wfs"===t.namespaceURI?[]:null,this.b,t,e,this);else if("featureMembers"==i||"featureMember"==i){var n,r=e[0],s=r.featureType,a=r.featureNS;if(!s&&t.childNodes){s=[],a={};var h=0;for(n=t.childNodes.length;h<n;++h){var l=t.childNodes[h];if(1===l.nodeType){var p=l.nodeName.split(":").pop();if(-1===s.indexOf(p)){var u="",d=0;for(var c in l=l.namespaceURI,a){if(a[c]===l){u=c;break}++d}u||(a[u="p"+d]=l),s.push(u+":"+p)}}}"featureMember"!=i&&(r.featureType=s,r.featureNS=a)}for(var f in"string"==typeof a&&(h=a,(a={}).p0=h),r={},s=Array.isArray(s)?s:[s],a){for(p={},h=0,n=s.length;h<n;++h)(-1===s[h].indexOf(":")?"p0":s[h].split(":")[0])===f&&(p[s[h].split(":").pop()]="featureMembers"==i?Su(this.Kg,this):Cu(this.Kg,this));r[a[f]]=p}o=Lu("featureMember"==i?void 0:[],r,t,e)}return null===o&&(o=[]),o},t.rf=function(t,e){var i=e[0];if(i.srsName=t.firstElementChild.getAttribute("srsName"),i.srsDimension=t.firstElementChild.getAttribute("srsDimension"),t=Lu(null,this.qh,t,e,this))return Wu(t,!1,i)},t.Kg=function(t,e){var i;(i=t.getAttribute("fid"))||(i=t.getAttributeNS("http://www.opengis.net/gml","id")||"");var o,n={};for(t=t.firstElementChild;t;t=t.nextElementSibling){var r=t.localName;if(0===t.childNodes.length||1===t.childNodes.length&&(3===t.firstChild.nodeType||4===t.firstChild.nodeType)){var s=wu(t,!1);ud.test(s)&&(s=void 0),n[r]=s}else"boundedBy"!==r&&(o=r),n[r]=this.rf(t,e)}return e=new ph(n),o&&e.Lc(o),i&&e.qc(i),e},t.Aj=function(t,e){if(t=this.qf(t,e))return(e=new Yo(null)).ba("XYZ",t),e},t.yj=function(t,e){if(t=Lu([],this.kk,t,e,this))return new Zu(t)},t.xj=function(t,e){if(t=Lu([],this.jk,t,e,this))return Xu(e=new Vu(null),t),e},t.zj=function(t,e){if(t=Lu([],this.lk,t,e,this))return Qu(e=new Ku(null),t),e},t.qj=function(t,e){Nu(this.pk,t,e,this)},t.fi=function(t,e){Nu(this.hk,t,e,this)},t.rj=function(t,e){Nu(this.qk,t,e,this)},t.sf=function(t,e){if(t=this.qf(t,e))return(e=new fh(null)).ba("XYZ",t),e},t.Xp=function(t,e){if(t=Lu(null,this.te,t,e,this))return t},t.wj=function(t,e){if(t=this.qf(t,e))return Go(e=new Wo(null),"XYZ",t),e},t.tf=function(t,e){if((t=Lu([null],this.Gf,t,e,this))&&t[0]){e=new rn(null);var i,o=t[0],n=[o.length],r=1;for(i=t.length;r<i;++r)Vt(o,t[r]),n.push(o.length);return e.ba("XYZ",o,n),e}},t.qf=function(t,e){return Lu(null,this.te,t,e,this)},t.kk={"http://www.opengis.net/gml":{pointMember:Su(pd.prototype.qj),pointMembers:Su(pd.prototype.qj)}},t.jk={"http://www.opengis.net/gml":{lineStringMember:Su(pd.prototype.fi),lineStringMembers:Su(pd.prototype.fi)}},t.lk={"http://www.opengis.net/gml":{polygonMember:Su(pd.prototype.rj),polygonMembers:Su(pd.prototype.rj)}},t.pk={"http://www.opengis.net/gml":{Point:Su(pd.prototype.qf)}},t.hk={"http://www.opengis.net/gml":{LineString:Su(pd.prototype.sf)}},t.qk={"http://www.opengis.net/gml":{Polygon:Su(pd.prototype.tf)}},t.ue={"http://www.opengis.net/gml":{LinearRing:Cu(pd.prototype.Xp)}},t.vj=function(t,e){return(t=this.rf(t,[Hu(this,t,e||{})]))?t:null},t.Kc=function(t,e){var i={featureType:this.featureType,featureNS:this.featureNS};return e&&it(i,Hu(this,t,e)),this.ge(t,[i])||[]},t.uf=function(t){return Nt(this.srsName?this.srsName:t.firstElementChild.getAttribute("srsName"))},s(kd,pd),(t=kd.prototype).aq=function(t,e){if(t=Lu([],this.ik,t,e,this))return Xu(e=new Vu(null),t),e},t.bq=function(t,e){if(t=Lu([],this.mk,t,e,this))return Qu(e=new Ku(null),t),e},t.Gh=function(t,e){Nu(this.ek,t,e,this)},t.Xj=function(t,e){Nu(this.sk,t,e,this)},t.fq=function(t,e){return Lu([null],this.nk,t,e,this)},t.iq=function(t,e){return Lu([null],this.rk,t,e,this)},t.gq=function(t,e){return Lu([null],this.Gf,t,e,this)},t.$p=function(t,e){return Lu([null],this.te,t,e,this)},t.Fm=function(t,e){(t=Lu(void 0,this.ue,t,e,this))&&e[e.length-1].push(t)},t.Zk=function(t,e){(t=Lu(void 0,this.ue,t,e,this))&&(e[e.length-1][0]=t)},t.Bj=function(t,e){if((t=Lu([null],this.tk,t,e,this))&&t[0]){e=new rn(null);var i,o=t[0],n=[o.length],r=1;for(i=t.length;r<i;++r)Vt(o,t[r]),n.push(o.length);return e.ba("XYZ",o,n),e}},t.tj=function(t,e){if(t=Lu([null],this.fk,t,e,this))return(e=new fh(null)).ba("XYZ",t),e},t.Wp=function(t,e){return I((t=Lu([null],this.gk,t,e,this))[1][0],t[1][1],t[2][0],t[2][1])},t.Yp=function(t,e){var i,o=wu(t,!1),n=/^\s*([+\-]?\d*\.?\d+(?:[eE][+\-]?\d+)?)\s*/;for(t=[];i=n.exec(o);)t.push(parseFloat(i[1])),o=o.substr(i[0].length);if(""===o){if(o="enu",(e=e[0].srsName)&&(o=Nt(e).b),"neu"===o)for(e=0,o=t.length;e<o;e+=3)n=t[e],t[e]=t[e+1],t[e+1]=n;if(2==(e=t.length)&&t.push(0),0!==e)return t}},t.Pg=function(t,e){var i=wu(t,!1).replace(/^\s*|\s*$/g,""),o=(e=e[0]).srsName,n=e.srsDimension;e="enu",o&&(e=Nt(o).b),i=i.split(/\s+/),o=2,t.getAttribute("srsDimension")?o=vd(t.getAttribute("srsDimension")):t.getAttribute("dimension")?o=vd(t.getAttribute("dimension")):t.parentNode.getAttribute("srsDimension")?o=vd(t.parentNode.getAttribute("srsDimension")):n&&(o=vd(n));for(var r,s=[],a=0,h=i.length;a<h;a+=o)t=parseFloat(i[a]),n=parseFloat(i[a+1]),r=3===o?parseFloat(i[a+2]):0,"en"===e.substr(0,2)?s.push(t,n,r):s.push(n,t,r);return s},t.te={"http://www.opengis.net/gml":{pos:Cu(kd.prototype.Yp),posList:Cu(kd.prototype.Pg)}},t.Gf={"http://www.opengis.net/gml":{interior:kd.prototype.Fm,exterior:kd.prototype.Zk}},t.qh={"http://www.opengis.net/gml":{Point:Cu(pd.prototype.Aj),MultiPoint:Cu(pd.prototype.yj),LineString:Cu(pd.prototype.sf),MultiLineString:Cu(pd.prototype.xj),LinearRing:Cu(pd.prototype.wj),Polygon:Cu(pd.prototype.tf),MultiPolygon:Cu(pd.prototype.zj),Surface:Cu(kd.prototype.Bj),MultiSurface:Cu(kd.prototype.bq),Curve:Cu(kd.prototype.tj),MultiCurve:Cu(kd.prototype.aq),Envelope:Cu(kd.prototype.Wp)}},t.ik={"http://www.opengis.net/gml":{curveMember:Su(kd.prototype.Gh),curveMembers:Su(kd.prototype.Gh)}},t.mk={"http://www.opengis.net/gml":{surfaceMember:Su(kd.prototype.Xj),surfaceMembers:Su(kd.prototype.Xj)}},t.ek={"http://www.opengis.net/gml":{LineString:Su(pd.prototype.sf),Curve:Su(kd.prototype.tj)}},t.sk={"http://www.opengis.net/gml":{Polygon:Su(pd.prototype.tf),Surface:Su(kd.prototype.Bj)}},t.tk={"http://www.opengis.net/gml":{patches:Cu(kd.prototype.fq)}},t.fk={"http://www.opengis.net/gml":{segments:Cu(kd.prototype.iq)}},t.gk={"http://www.opengis.net/gml":{lowerCorner:Su(kd.prototype.Pg),upperCorner:Su(kd.prototype.Pg)}},t.nk={"http://www.opengis.net/gml":{PolygonPatch:Cu(kd.prototype.gq)}},t.rk={"http://www.opengis.net/gml":{LineStringSegment:Cu(kd.prototype.$p)}},t.Hi=function(t,e,i){var o=i[i.length-1].srsName;o&&t.setAttribute("srsName",o),o=bu(t.namespaceURI,"pos"),t.appendChild(o),o.setAttribute("srsDimension",(t=(i=i[i.length-1]).hasZ)?3:2);var n=i.srsName;i="enu",n&&(i=Nt(n).b),e=e.W(),i="en"===i.substr(0,2)?e[0]+" "+e[1]:e[1]+" "+e[0],t&&(i+=" "+(e[2]||0)),Md(o,i)};var Cd={"http://www.opengis.net/gml":{lowerCorner:Pu(Md),upperCorner:Pu(Md)}};(t=kd.prototype).Pn=function(t,e,i){var o=i[i.length-1].srsName;o&&t.setAttribute("srsName",o),Fu({node:t},Cd,Du,[e[0]+" "+e[1],e[2]+" "+e[3]],i,["lowerCorner","upperCorner"],this)},t.Ei=function(t,e,i){var o=i[i.length-1].srsName;o&&t.setAttribute("srsName",o),o=bu(t.namespaceURI,"posList"),t.appendChild(o),Sd(o,e,i)},t.On=function(t,e){e=(t=e[e.length-1]).node;var i=t.exteriorWritten;return void 0===i&&(t.exteriorWritten=!0),bu(e.namespaceURI,void 0!==i?"interior":"exterior")},t.af=function(t,e,i){var o=i[i.length-1],n=o.hasZ;o=o.srsName,"PolygonPatch"!==t.nodeName&&o&&t.setAttribute("srsName",o),"Polygon"===t.nodeName||"PolygonPatch"===t.nodeName?(e=e.Ud(),Fu({node:t,hasZ:n,srsName:o},Ad,this.On,e,i,void 0,this)):"Surface"===t.nodeName&&(n=bu(t.namespaceURI,"patches"),t.appendChild(n),t=bu(n.namespaceURI,"PolygonPatch"),n.appendChild(t),this.af(t,e,i))},t.$e=function(t,e,i){var o=i[i.length-1].srsName;"LineStringSegment"!==t.nodeName&&o&&t.setAttribute("srsName",o),"LineString"===t.nodeName||"LineStringSegment"===t.nodeName?(o=bu(t.namespaceURI,"posList"),t.appendChild(o),Sd(o,e,i)):"Curve"===t.nodeName&&(o=bu(t.namespaceURI,"segments"),t.appendChild(o),t=bu(o.namespaceURI,"LineStringSegment"),o.appendChild(t),this.$e(t,e,i))},t.Gi=function(t,e,i){var o=i[i.length-1],n=o.hasZ,r=o.srsName;o=o.surface,r&&t.setAttribute("srsName",r),e=e.Vd(),Fu({node:t,hasZ:n,srsName:r,surface:o},Ed,this.l,e,i,void 0,this)},t.Qn=function(t,e,i){var o=i[i.length-1],n=o.srsName;o=o.hasZ,n&&t.setAttribute("srsName",n),e=e.de(),Fu({node:t,hasZ:o,srsName:n},Td,Ou("pointMember"),e,i,void 0,this)},t.Fi=function(t,e,i){var o=i[i.length-1],n=o.hasZ,r=o.srsName;o=o.curve,r&&t.setAttribute("srsName",r),e=e.wd(),Fu({node:t,hasZ:n,srsName:r,curve:o},Pd,this.l,e,i,void 0,this)},t.Ii=function(t,e,i){var o=bu(t.namespaceURI,"LinearRing");t.appendChild(o),this.Ei(o,e,i)},t.Ji=function(t,e,i){var o=this.a(e,i);o&&(t.appendChild(o),this.af(o,e,i))},t.Rn=function(t,e,i){var o=bu(t.namespaceURI,"Point");t.appendChild(o),this.Hi(o,e,i)},t.Di=function(t,e,i){var o=this.a(e,i);o&&(t.appendChild(o),this.$e(o,e,i))},t.Yc=function(t,e,i){var o,n=i[i.length-1],r=it({},n);r.node=t,o=Array.isArray(e)?n.dataProjection?Ht(e,n.featureProjection,n.dataProjection):e:Wu(e,!0,n),Fu(r,Od,this.a,[o],i,void 0,this)},t.Ci=function(t,e,i){var o=e.c;o&&t.setAttribute("fid",o);var n=(o=i[i.length-1]).featureNS,r=e.a;o.tb||(o.tb={},o.tb[n]={});var s=e.L();e=[];var a=[];for(l in s){var h=s[l];null!==h&&(e.push(l),a.push(h),l==r||h instanceof ko?l in o.tb[n]||(o.tb[n][l]=Pu(this.Yc,this)):l in o.tb[n]||(o.tb[n][l]=Pu(Md)))}var l=it({},o);l.node=t,Fu(l,o.tb,Ou(void 0,n),a,i,e)};var Ed={"http://www.opengis.net/gml":{surfaceMember:Pu(kd.prototype.Ji),polygonMember:Pu(kd.prototype.Ji)}},Td={"http://www.opengis.net/gml":{pointMember:Pu(kd.prototype.Rn)}},Pd={"http://www.opengis.net/gml":{lineStringMember:Pu(kd.prototype.Di),curveMember:Pu(kd.prototype.Di)}},Ad={"http://www.opengis.net/gml":{exterior:Pu(kd.prototype.Ii),interior:Pu(kd.prototype.Ii)}},Od={"http://www.opengis.net/gml":{Curve:Pu(kd.prototype.$e),MultiCurve:Pu(kd.prototype.Fi),Point:Pu(kd.prototype.Hi),MultiPoint:Pu(kd.prototype.Qn),LineString:Pu(kd.prototype.$e),MultiLineString:Pu(kd.prototype.Fi),LinearRing:Pu(kd.prototype.Ei),Polygon:Pu(kd.prototype.af),MultiPolygon:Pu(kd.prototype.Gi),Surface:Pu(kd.prototype.af),MultiSurface:Pu(kd.prototype.Gi),Envelope:Pu(kd.prototype.Pn)}},Dd={MultiLineString:"lineStringMember",MultiCurve:"curveMember",MultiPolygon:"polygonMember",MultiSurface:"surfaceMember"};function Id(t){pd.call(this,t=t||{}),this.b["http://www.opengis.net/gml"].featureMember=Su(pd.prototype.ge),this.schemaLocation=t.schemaLocation?t.schemaLocation:"http://www.opengis.net/gml http://schemas.opengis.net/gml/2.1.2/feature.xsd"}function Rd(t){return(t=bu(t,"coordinates")).setAttribute("decimal","."),t.setAttribute("cs",","),t.setAttribute("ts"," "),t}function Nd(t,e,i){var o=i[i.length-1];i=o.hasZ,o=o.srsName;for(var n=(e=e.W()).length,r=Array(n),s=0;s<n;++s)r[s]=Ld(e[s],o,i);Md(t,r.join(" "))}function Ld(t,e,i){var o="enu";return e&&(o=Nt(e).b),e="en"===o.substr(0,2)?t[0]+","+t[1]:t[1]+","+t[0],i&&(e+=","+(t[2]||0)),e}kd.prototype.l=function(t,e){return bu("http://www.opengis.net/gml",Dd[e[e.length-1].node.nodeName])},kd.prototype.a=function(t,e){var i=e[e.length-1];e=i.multiSurface;var o=i.surface,n=i.curve;return i=i.multiCurve,Array.isArray(t)?t="Envelope":"MultiPolygon"===(t=t.S())&&!0===e?t="MultiSurface":"Polygon"===t&&!0===o?t="Surface":"LineString"===t&&!0===n?t="Curve":"MultiLineString"===t&&!0===i&&(t="MultiCurve"),bu("http://www.opengis.net/gml",t)},kd.prototype.re=function(t,e){e=Uu(this,e);var i=bu("http://www.opengis.net/gml","geom"),o={node:i,hasZ:this.hasZ,srsName:this.srsName,curve:this.c,surface:this.s,multiSurface:this.j,multiCurve:this.f};return e&&it(o,e),this.Yc(i,t,[o]),i},kd.prototype.bc=function(t,e){e=Uu(this,e);var i=bu("http://www.opengis.net/gml","featureMembers");i.setAttributeNS("http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation",this.schemaLocation);var o={srsName:this.srsName,hasZ:this.hasZ,curve:this.c,surface:this.s,multiSurface:this.j,multiCurve:this.f,featureNS:this.featureNS,featureType:this.featureType};e&&it(o,e);var n=(e=[o])[e.length-1];o=n.featureType;var r=n.featureNS,s={};return s[r]={},s[r][o]=Pu(this.Ci,this),(n=it({},n)).node=i,Fu(n,s,Ou(o,r),t,e),i},s(Id,pd),(t=Id.prototype).uj=function(t,e){t=wu(t,!1).replace(/^\s*|\s*$/g,"");var i=e[0].srsName;e="enu",i&&(i=Nt(i))&&(e=i.b);for(var o,n,r=[],s=0,a=(t=t.trim().split(/\s+/)).length;s<a;s++)n=t[s].split(/,+/),i=parseFloat(n[0]),o=parseFloat(n[1]),n=3===n.length?parseFloat(n[2]):0,"en"===e.substr(0,2)?r.push(i,o,n):r.push(o,i,n);return r},t.Up=function(t,e){return I((t=Lu([null],this.dk,t,e,this))[1][0],t[1][1],t[1][3],t[1][4])},t.Dm=function(t,e){(t=Lu(void 0,this.ue,t,e,this))&&e[e.length-1].push(t)},t.Ep=function(t,e){(t=Lu(void 0,this.ue,t,e,this))&&(e[e.length-1][0]=t)},t.te={"http://www.opengis.net/gml":{coordinates:Cu(Id.prototype.uj)}},t.Gf={"http://www.opengis.net/gml":{innerBoundaryIs:Id.prototype.Dm,outerBoundaryIs:Id.prototype.Ep}},t.dk={"http://www.opengis.net/gml":{coordinates:Su(Id.prototype.uj)}},t.qh={"http://www.opengis.net/gml":{Point:Cu(pd.prototype.Aj),MultiPoint:Cu(pd.prototype.yj),LineString:Cu(pd.prototype.sf),MultiLineString:Cu(pd.prototype.xj),LinearRing:Cu(pd.prototype.wj),Polygon:Cu(pd.prototype.tf),MultiPolygon:Cu(pd.prototype.zj),Box:Cu(Id.prototype.Up)}},t.wg=function(t,e){var i=e[e.length-1];e=i.multiSurface;var o=i.surface;return i=i.multiCurve,Array.isArray(t)?t="Envelope":"MultiPolygon"===(t=t.S())&&!0===e?t="MultiSurface":"Polygon"===t&&!0===o?t="Surface":"MultiLineString"===t&&!0===i&&(t="MultiCurve"),bu("http://www.opengis.net/gml",t)},t.ui=function(t,e,i){var o,n=i[i.length-1],r=it({},n);r.node=t,o=Array.isArray(e)?n.dataProjection?Ht(e,n.featureProjection,n.dataProjection):e:Wu(e,!0,n),Fu(r,jd,this.wg,[o],i,void 0,this)},t.Ye=function(t,e,i){var o=i[i.length-1].srsName;"LineStringSegment"!==t.nodeName&&o&&t.setAttribute("srsName",o),"LineString"===t.nodeName||"LineStringSegment"===t.nodeName?(o=Rd(t.namespaceURI),t.appendChild(o),Nd(o,e,i)):"Curve"===t.nodeName&&(o=bu(t.namespaceURI,"segments"),t.appendChild(o),t=bu(o.namespaceURI,"LineStringSegment"),o.appendChild(t),this.Ye(t,e,i))},t.Ze=function(t,e,i){var o=i[i.length-1],n=o.hasZ;o=o.srsName,"PolygonPatch"!==t.nodeName&&o&&t.setAttribute("srsName",o),"Polygon"===t.nodeName||"PolygonPatch"===t.nodeName?(e=e.Ud(),Fu({node:t,hasZ:n,srsName:o},Fd,this.Kn,e,i,void 0,this)):"Surface"===t.nodeName&&(n=bu(t.namespaceURI,"patches"),t.appendChild(n),t=bu(n.namespaceURI,"PolygonPatch"),n.appendChild(t),this.Ze(t,e,i))},t.Kn=function(t,e){e=(t=e[e.length-1]).node;var i=t.exteriorWritten;return void 0===i&&(t.exteriorWritten=!0),bu(e.namespaceURI,void 0!==i?"innerBoundaryIs":"outerBoundaryIs")},t.Ai=function(t,e,i){var o=bu(t.namespaceURI,"LinearRing");t.appendChild(o),this.wi(o,e,i)},t.xi=function(t,e,i){var o=i[i.length-1],n=o.hasZ,r=o.srsName;o=o.curve,r&&t.setAttribute("srsName",r),e=e.wd(),Fu({node:t,hasZ:n,srsName:r,curve:o},Bd,this.a,e,i,void 0,this)},t.zi=function(t,e,i){var o=i[i.length-1];i=o.hasZ;var n=o.srsName;n&&t.setAttribute("srsName",n),o=Rd(t.namespaceURI),t.appendChild(o),Md(o,t=Ld(t=e.W(),n,i))},t.Mn=function(t,e,i){var o=i[i.length-1],n=o.hasZ;(o=o.srsName)&&t.setAttribute("srsName",o),e=e.de(),Fu({node:t,hasZ:n,srsName:o},zd,Ou("pointMember"),e,i,void 0,this)},t.Nn=function(t,e,i){var o=bu(t.namespaceURI,"Point");t.appendChild(o),this.zi(o,e,i)},t.vi=function(t,e,i){var o=this.wg(e,i);o&&(t.appendChild(o),this.Ye(o,e,i))},t.wi=function(t,e,i){var o=i[i.length-1].srsName;o&&t.setAttribute("srsName",o),o=Rd(t.namespaceURI),t.appendChild(o),Nd(o,e,i)},t.yi=function(t,e,i){var o=i[i.length-1],n=o.hasZ,r=o.srsName;o=o.surface,r&&t.setAttribute("srsName",r),e=e.Vd(),Fu({node:t,hasZ:n,srsName:r,surface:o},Hd,this.a,e,i,void 0,this)},t.Bi=function(t,e,i){var o=this.wg(e,i);o&&(t.appendChild(o),this.Ze(o,e,i))},t.Ln=function(t,e,i){var o=i[i.length-1].srsName;o&&t.setAttribute("srsName",o),Fu({node:t},Ud,Du,[e[0]+" "+e[1],e[2]+" "+e[3]],i,["lowerCorner","upperCorner"],this)};var jd={"http://www.opengis.net/gml":{Curve:Pu(Id.prototype.Ye),MultiCurve:Pu(Id.prototype.xi),Point:Pu(Id.prototype.zi),MultiPoint:Pu(Id.prototype.Mn),LineString:Pu(Id.prototype.Ye),MultiLineString:Pu(Id.prototype.xi),LinearRing:Pu(Id.prototype.wi),Polygon:Pu(Id.prototype.Ze),MultiPolygon:Pu(Id.prototype.yi),Surface:Pu(Id.prototype.Ze),MultiSurface:Pu(Id.prototype.yi),Envelope:Pu(Id.prototype.Ln)}},Fd={"http://www.opengis.net/gml":{outerBoundaryIs:Pu(Id.prototype.Ai),innerBoundaryIs:Pu(Id.prototype.Ai)}},zd={"http://www.opengis.net/gml":{pointMember:Pu(Id.prototype.Nn)}},Bd={"http://www.opengis.net/gml":{lineStringMember:Pu(Id.prototype.vi),curveMember:Pu(Id.prototype.vi)}};Id.prototype.a=function(t,e){return bu("http://www.opengis.net/gml",qd[e[e.length-1].node.nodeName])};var qd={MultiLineString:"lineStringMember",MultiCurve:"curveMember",MultiPolygon:"polygonMember",MultiSurface:"surfaceMember"},Hd={"http://www.opengis.net/gml":{surfaceMember:Pu(Id.prototype.Bi),polygonMember:Pu(Id.prototype.Bi)}},Ud={"http://www.opengis.net/gml":{lowerCorner:Pu(Md),upperCorner:Pu(Md)}};function Wd(t){t=t||{},ad.call(this),this.defaultDataProjection=Nt("EPSG:4326"),this.b=t.readExtensions}s(Wd,ad);var Gd=[null,"http://www.topografix.com/GPX/1/0","http://www.topografix.com/GPX/1/1"];function Yd(t,e,i,o){return t.push(parseFloat(i.getAttribute("lon")),parseFloat(i.getAttribute("lat"))),"ele"in o?(t.push(o.ele),delete o.ele,e.hasZ=!0):t.push(0),"time"in o?(t.push(o.time),delete o.time,e.hasM=!0):t.push(0),t}function Vd(t,e,i){var o="XY",n=2;if(t.hasZ&&t.hasM?(o="XYZM",n=4):t.hasZ?(o="XYZ",n=3):t.hasM&&(o="XYM",n=3),4!==n){var r,s=0;for(r=e.length/4;s<r;s++)e[s*n]=e[4*s],e[s*n+1]=e[4*s+1],t.hasZ&&(e[s*n+2]=e[4*s+2]),t.hasM&&(e[s*n+2]=e[4*s+3]);if(e.length=e.length/4*n,i)for(s=0,r=i.length;s<r;s++)i[s]=i[s]/4*n}return o}function Xd(t,e){var i=e[e.length-1],o=t.getAttribute("href");null!==o&&(i.link=o),Nu(ec,t,e)}function Zd(t,e){e[e.length-1].extensionsNode_=t}function Kd(t,e){var i=e[0];if(t=Lu({flatCoordinates:[],layoutOptions:{}},ic,t,e)){e=t.flatCoordinates,delete t.flatCoordinates;var o=t.layoutOptions;delete t.layoutOptions,o=Vd(o,e);var n=new fh(null);return n.ba(o,e),Wu(n,!1,i),(i=new ph(n)).H(t),i}}function Jd(t,e){var i=e[0];if(t=Lu({flatCoordinates:[],ends:[],layoutOptions:{}},nc,t,e)){e=t.flatCoordinates,delete t.flatCoordinates;var o=t.ends;delete t.ends;var n=t.layoutOptions;delete t.layoutOptions,n=Vd(n,e,o);var r=new Vu(null);return r.ba(n,e,o),Wu(r,!1,i),(i=new ph(r)).H(t),i}}function $d(t,e){var i=e[0];if(e=Lu({},ac,t,e)){var o={};return Wu(t=new Yo(t=Yd([],o,t,e),o=Vd(o,t)),!1,i),(i=new ph(t)).H(e),i}}var Qd={rte:Kd,trk:Jd,wpt:$d},tc=Ru(Gd,{rte:Su(Kd),trk:Su(Jd),wpt:Su($d)}),ec=Ru(Gd,{text:Tu(bd,"linkText"),type:Tu(bd,"linkType")}),ic=Ru(Gd,{name:Tu(bd),cmt:Tu(bd),desc:Tu(bd),src:Tu(bd),link:Xd,number:Tu(md),extensions:Zd,type:Tu(bd),rtept:function(t,e){var i=Lu({},oc,t,e);i&&Yd((e=e[e.length-1]).flatCoordinates,e.layoutOptions,t,i)}}),oc=Ru(Gd,{ele:Tu(yd),time:Tu(fd)}),nc=Ru(Gd,{name:Tu(bd),cmt:Tu(bd),desc:Tu(bd),src:Tu(bd),link:Xd,number:Tu(md),type:Tu(bd),extensions:Zd,trkseg:function(t,e){var i=e[e.length-1];Nu(rc,t,e),i.ends.push(i.flatCoordinates.length)}}),rc=Ru(Gd,{trkpt:function(t,e){var i=Lu({},sc,t,e);i&&Yd((e=e[e.length-1]).flatCoordinates,e.layoutOptions,t,i)}}),sc=Ru(Gd,{ele:Tu(yd),time:Tu(fd)}),ac=Ru(Gd,{ele:Tu(yd),time:Tu(fd),magvar:Tu(yd),geoidheight:Tu(yd),name:Tu(bd),cmt:Tu(bd),desc:Tu(bd),src:Tu(bd),link:Xd,sym:Tu(bd),type:Tu(bd),fix:Tu(bd),sat:Tu(md),hdop:Tu(yd),vdop:Tu(yd),pdop:Tu(yd),ageofdgpsdata:Tu(yd),dgpsid:Tu(md),extensions:Zd});function hc(t,e){e||(e=[]);for(var i=0,o=e.length;i<o;++i){var n=e[i];if(t.b){var r=n.get("extensionsNode_")||null;t.b(n,r)}n.set("extensionsNode_",void 0)}}function lc(t,e,i){t.setAttribute("href",e),Fu({node:t},dc,Du,[(e=i[i.length-1].properties).linkText,e.linkType],i,uc)}function pc(t,e,i){var o=i[i.length-1],n=o.node.namespaceURI,r=o.properties;switch(t.setAttributeNS(null,"lat",e[1]),t.setAttributeNS(null,"lon",e[0]),o.geometryLayout){case"XYZM":0!==e[3]&&(r.time=e[3]);case"XYZ":0!==e[2]&&(r.ele=e[2]);break;case"XYM":0!==e[2]&&(r.time=e[2])}o=Iu(r,e="rtept"==t.nodeName?yc[n]:wc[n]),Fu({node:t,properties:r},xc,Du,o,i,e)}Wd.prototype.Lg=function(t,e){if(!Gt(Gd,t.namespaceURI))return null;var i=Qd[t.localName];return i&&(t=i(t,[Hu(this,t,e)]))?(hc(this,[t]),t):null},Wd.prototype.Kc=function(t,e){return Gt(Gd,t.namespaceURI)&&"gpx"==t.localName&&(t=Lu([],tc,t,[Hu(this,t,e)]))?(hc(this,t),t):[]};var uc=["text","type"],dc=Ru(Gd,{text:Pu(Md),type:Pu(Md)}),cc=Ru(Gd,"name cmt desc src link number type rtept".split(" ")),fc=Ru(Gd,{name:Pu(Md),cmt:Pu(Md),desc:Pu(Md),src:Pu(Md),link:Pu(lc),number:Pu(_d),type:Pu(Md),rtept:Au(Pu(pc))}),yc=Ru(Gd,["ele","time"]),gc=Ru(Gd,"name cmt desc src link number type trkseg".split(" ")),mc=Ru(Gd,{name:Pu(Md),cmt:Pu(Md),desc:Pu(Md),src:Pu(Md),link:Pu(lc),number:Pu(_d),type:Pu(Md),trkseg:Au(Pu(function(t,e,i){Fu({node:t,geometryLayout:e.ja,properties:{}},bc,vc,e.W(),i)}))}),vc=Ou("trkpt"),bc=Ru(Gd,{trkpt:Pu(pc)}),wc=Ru(Gd,"ele time magvar geoidheight name cmt desc src link sym type fix sat hdop vdop pdop ageofdgpsdata dgpsid".split(" ")),xc=Ru(Gd,{ele:Pu(xd),time:Pu(function(t,e){e=new Date(1e3*e),t.appendChild(vu.createTextNode(e.getUTCFullYear()+"-"+Gi(e.getUTCMonth()+1)+"-"+Gi(e.getUTCDate())+"T"+Gi(e.getUTCHours())+":"+Gi(e.getUTCMinutes())+":"+Gi(e.getUTCSeconds())+"Z"))}),magvar:Pu(xd),geoidheight:Pu(xd),name:Pu(Md),cmt:Pu(Md),desc:Pu(Md),src:Pu(Md),link:Pu(lc),sym:Pu(Md),type:Pu(Md),fix:Pu(Md),sat:Pu(_d),hdop:Pu(xd),vdop:Pu(xd),pdop:Pu(xd),ageofdgpsdata:Pu(xd),dgpsid:Pu(_d)}),_c={Point:"wpt",LineString:"rte",MultiLineString:"trk"};function Mc(t,e){if((t=t.U())&&(t=_c[t.S()]))return bu(e[e.length-1].node.namespaceURI,t)}var kc=Ru(Gd,{rte:Pu(function(t,e,i){var o=i[0],n=e.L();t={node:t,properties:n},(e=e.U())&&(e=Wu(e,!0,o),t.geometryLayout=e.ja,n.rtept=e.W()),n=Iu(n,o=cc[i[i.length-1].node.namespaceURI]),Fu(t,fc,Du,n,i,o)}),trk:Pu(function(t,e,i){var o=i[0],n=e.L();t={node:t,properties:n},(e=e.U())&&(e=Wu(e,!0,o),n.trkseg=e.wd()),n=Iu(n,o=gc[i[i.length-1].node.namespaceURI]),Fu(t,mc,Du,n,i,o)}),wpt:Pu(function(t,e,i){var o=i[0],n=i[i.length-1];n.properties=e.L(),(e=e.U())&&(e=Wu(e,!0,o),n.geometryLayout=e.ja,pc(t,e.W(),i))})});function Sc(t){ko.call(this),this.a=t||null,Tc(this)}function Cc(t){var e,i=[],o=0;for(e=t.length;o<e;++o)i.push(t[o].clone());return i}function Ec(t){var e;if(t.a){var i=0;for(e=t.a.length;i<e;++i)ve(t.a[i],"change",t.u,t)}}function Tc(t){var e;if(t.a){var i=0;for(e=t.a.length;i<e;++i)ge(t.a[i],"change",t.u,t)}}function Pc(t){t=t||{},qu.call(this),this.defaultDataProjection=Nt(t.defaultDataProjection?t.defaultDataProjection:"EPSG:4326"),t.featureProjection&&(this.i=Nt(t.featureProjection)),this.b=t.geometryName,this.a=t.extractGeometryName}function Ac(t,e){return t?Wu((0,Dc[t.type])(t),!1,e):null}function Oc(t,e){return(0,Ic[t.S()])(Wu(t,!0,e),e)}Wd.prototype.bc=function(t,e){e=Uu(this,e);var i=bu("http://www.topografix.com/GPX/1/1","gpx");return i.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xsi","http://www.w3.org/2001/XMLSchema-instance"),i.setAttributeNS("http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation","http://www.topografix.com/GPX/1/1 http://www.topografix.com/GPX/1/1/gpx.xsd"),i.setAttribute("version","1.1"),i.setAttribute("creator","OpenLayers"),Fu({node:i},kc,Mc,t,[e]),i},s(Sc,ko),(t=Sc.prototype).clone=function(){var t=new Sc(null);return t.Kj(this.a),t},t.Nb=function(t,e,i,o){if(o<T(this.G(),t,e))return o;var n,r=this.a,s=0;for(n=r.length;s<n;++s)o=r[s].Nb(t,e,i,o);return o},t.Zc=function(t,e){var i,o=this.a,n=0;for(i=o.length;n<i;++n)if(o[n].Zc(t,e))return!0;return!1},t.Ae=function(t){R(t);for(var e=this.a,i=0,o=e.length;i<o;++i)F(t,e[i].G());return t},t.vd=function(){return Cc(this.a)},t.Wd=function(t){if(this.l!=this.g&&(ot(this.i),this.f=0,this.l=this.g),0>t||0!==this.f&&t<this.f)return this;var e=t.toString();if(this.i.hasOwnProperty(e))return this.i[e];var i,o=[],n=this.a,r=!1,s=0;for(i=n.length;s<i;++s){var a=n[s],h=a.Wd(t);o.push(h),h!==a&&(r=!0)}return r?(Ec(t=new Sc(null)),t.a=o,Tc(t),t.u(),this.i[e]=t):(this.f=t,this)},t.S=function(){return"GeometryCollection"},t.$a=function(t){var e,i=this.a,o=0;for(e=i.length;o<e;++o)if(i[o].$a(t))return!0;return!1},t.rotate=function(t,e){for(var i=this.a,o=0,n=i.length;o<n;++o)i[o].rotate(t,e);this.u()},t.scale=function(t,e,i){i||(i=G(this.G()));for(var o=this.a,n=0,r=o.length;n<r;++n)o[n].scale(t,e,i);this.u()},t.Kj=function(t){t=Cc(t),Ec(this),this.a=t,Tc(this),this.u()},t.Rc=function(t){var e,i=this.a,o=0;for(e=i.length;o<e;++o)i[o].Rc(t);this.u()},t.translate=function(t,e){var i,o=this.a,n=0;for(i=o.length;n<i;++n)o[n].translate(t,e);this.u()},t.ia=function(){Ec(this),ko.prototype.ia.call(this)},s(Pc,Gu);var Dc={Point:function(t){return new Yo(t.coordinates)},LineString:function(t){return new fh(t.coordinates)},Polygon:function(t){return new rn(t.coordinates)},MultiPoint:function(t){return new Zu(t.coordinates)},MultiLineString:function(t){return new Vu(t.coordinates)},MultiPolygon:function(t){return new Ku(t.coordinates)},GeometryCollection:function(t,e){return new Sc(t=t.geometries.map(function(t){return Ac(t,e)}))}},Ic={Point:function(t){return{type:"Point",coordinates:t.W()}},LineString:function(t){return{type:"LineString",coordinates:t.W()}},Polygon:function(t,e){if(e)var i=e.rightHanded;return{type:"Polygon",coordinates:t.W(i)}},MultiPoint:function(t){return{type:"MultiPoint",coordinates:t.W()}},MultiLineString:function(t){return{type:"MultiLineString",coordinates:t.W()}},MultiPolygon:function(t,e){if(e)var i=e.rightHanded;return{type:"MultiPolygon",coordinates:t.W(i)}},GeometryCollection:function(t,e){return{type:"GeometryCollection",geometries:t.a.map(function(t){var i=it({},e);return delete i.featureProjection,Oc(t,i)})}},Circle:function(){return{type:"GeometryCollection",geometries:[]}}};function Rc(){qu.call(this)}function Nc(t){return"string"==typeof t?t:""}function Lc(t){t=t||{},qu.call(this),this.defaultDataProjection=Nt("EPSG:4326"),this.b=t.altitudeMode?t.altitudeMode:"none"}(t=Pc.prototype).dd=function(t,e){e=Ac((t="Feature"===t.type?t:{type:"Feature",geometry:t}).geometry,e);var i=new ph;return this.b?i.Lc(this.b):this.a&&void 0!==t.geometry_name&&i.Lc(t.geometry_name),i.Va(e),void 0!==t.id&&i.qc(t.id),t.properties&&i.H(t.properties),i},t.Mg=function(t,e){if("FeatureCollection"===t.type){var i,o=[],n=0;for(i=(t=t.features).length;n<i;++n)o.push(this.dd(t[n],e))}else o=[this.dd(t,e)];return o},t.Qg=function(t,e){return Ac(t,e)},t.Tg=function(t){var e;return(t=t.crs)?"name"==t.type?e=Nt(t.properties.name):f(!1,36):e=this.defaultDataProjection,e},t.ld=function(t,e){e=Uu(this,e);var i={type:"Feature"},o=t.c;return void 0!==o&&(i.id=o),i.geometry=(o=t.U())?Oc(o,e):null,delete(e=t.L())[t.a],i.properties=rt(e)?null:e,i},t.qe=function(t,e){e=Uu(this,e);var i,o=[],n=0;for(i=t.length;n<i;++n)o.push(this.ld(t[n],e));return{type:"FeatureCollection",features:o}},t.se=function(t,e){return Oc(t,Uu(this,e))},s(Rc,qu),(t=Rc.prototype).S=function(){return"text"},t.Yb=function(t,e){return this.fe(Nc(t),Uu(this,e))},t.Qa=function(t,e){return this.Ng(Nc(t),Uu(this,e))},t.ed=function(t,e){return this.Gd(Nc(t),Uu(this,e))},t.sb=function(){return this.defaultDataProjection},t.Jd=function(t,e){return this.pe(t,Uu(this,e))},t.ac=function(t,e){return this.nh(t,Uu(this,e))},t.md=function(t,e){return this.Kd(t,Uu(this,e))},s(Lc,Rc);var jc,Fc,zc,Bc,qc,Hc,Uc,Wc,Gc,Yc,Vc,Xc,Zc,Kc,Jc,$c=/^B(\d{2})(\d{2})(\d{2})(\d{2})(\d{5})([NS])(\d{3})(\d{5})([EW])([AV])(\d{5})(\d{5})/,Qc=/^H.([A-Z]{3}).*?:(.*)/,tf=/^HFDTE(\d{2})(\d{2})(\d{2})/,ef=/\r\n|\r|\n/;function of(t,e,i,o,n,r){Se.call(this),this.j=null,this.M=t||new Image,null!==o&&(this.M.crossOrigin=o),this.c=r?document.createElement("CANVAS"):null,this.f=r,this.i=null,this.g=n,this.a=i,this.l=e,this.s=!1,2==this.g&&nf(this)}function nf(t){var e=vn(1,1);try{e.drawImage(t.M,0,0),e.getImageData(0,0,1,1)}catch(e){t.s=!0}}function rf(t){this.l=void 0!==(t=t||{}).anchor?t.anchor:[.5,.5],this.o=null,this.g=void 0!==t.anchorOrigin?t.anchorOrigin:"top-left",this.C=void 0!==t.anchorXUnits?t.anchorXUnits:"fraction",this.B=void 0!==t.anchorYUnits?t.anchorYUnits:"fraction",this.qa=void 0!==t.crossOrigin?t.crossOrigin:null;var e=void 0!==t.img?t.img:null,i=void 0!==t.imgSize?t.imgSize:null,o=t.src;f(!(void 0!==o&&e),4),f(!e||e&&i,5),void 0!==o&&0!==o.length||!e||(o=e.src||h(e).toString()),f(void 0!==o&&0<o.length,6);var n=void 0!==t.src?0:2;this.j=void 0!==t.color?ms(t.color):null;var r=this.qa,s=this.j,a=Gs.get(o,r,s);a||(a=new of(e,o,i,r,n,s),Gs.set(o,r,s,a)),this.b=a,this.oa=void 0!==t.offset?t.offset:[0,0],this.c=void 0!==t.offsetOrigin?t.offsetOrigin:"top-left",this.N=null,this.D=void 0!==t.size?t.size:null,$a.call(this,{opacity:void 0!==t.opacity?t.opacity:1,rotation:void 0!==t.rotation?t.rotation:0,scale:void 0!==t.scale?t.scale:1,snapToPixel:void 0===t.snapToPixel||t.snapToPixel,rotateWithView:void 0!==t.rotateWithView&&t.rotateWithView})}function sf(t){t=t||{},ad.call(this),jc||(zc=new ih({color:Fc=[255,255,255,1]}),Hc=qc="pixels",Yc=new rf({anchor:Bc=[20,2],anchorOrigin:"bottom-left",anchorXUnits:qc,anchorYUnits:Hc,crossOrigin:"anonymous",rotation:0,scale:Gc=.5,size:Uc=[64,64],src:Wc="https://maps.google.com/mapfiles/kml/pushpin/ylw-pushpin.png"}),Vc="NO_IMAGE",Xc=new oh({color:Fc,width:1}),Zc=new oh({color:[51,51,51,1],width:2}),Kc=new gh({font:"bold 16px Helvetica",fill:zc,stroke:Zc,scale:.8}),Jc=new nh({fill:zc,image:Yc,text:Kc,stroke:Xc,zIndex:0}),jc=[Jc]),this.defaultDataProjection=Nt("EPSG:4326"),this.a=t.defaultStyle?t.defaultStyle:jc,this.c=void 0===t.extractStyles||t.extractStyles,this.j=void 0===t.writeStyles||t.writeStyles,this.b={},this.f=void 0===t.showPointNames||t.showPointNames}(t=Lc.prototype).fe=function(t,e){var i=this.b,o=t.split(ef);t={};var n,r=[],s=2e3,a=0,h=1,l=-1,p=0;for(n=o.length;p<n;++p){var u,d=o[p];if("B"==d.charAt(0)){if(u=$c.exec(d)){d=parseInt(u[1],10);var c=parseInt(u[2],10),f=parseInt(u[3],10),y=parseInt(u[4],10)+parseInt(u[5],10)/6e4;"S"==u[6]&&(y=-y);var g=parseInt(u[7],10)+parseInt(u[8],10)/6e4;"W"==u[9]&&(g=-g),r.push(g,y),"none"!=i&&r.push("gps"==i?parseInt(u[11],10):"barometric"==i?parseInt(u[12],10):0),(u=Date.UTC(s,a,h,d,c,f))<l&&(u=Date.UTC(s,a,h+1,d,c,f)),r.push(u/1e3),l=u}}else"H"==d.charAt(0)&&((u=tf.exec(d))?(h=parseInt(u[1],10),a=parseInt(u[2],10)-1,s=2e3+parseInt(u[3],10)):(u=Qc.exec(d))&&(t[u[1]]=u[2].trim()))}return 0===r.length?null:((o=new fh(null)).ba("none"==i?"XYM":"XYZM",r),(e=new ph(Wu(o,!1,e))).H(t),e)},t.Ng=function(t,e){return(t=this.fe(t,e))?[t]:[]},t.pe=function(){},t.nh=function(){},t.Kd=function(){},t.Gd=function(){},s(of,Se),of.prototype.v=function(){this.g=3,this.i.forEach(be),this.i=null,this.b("change")},of.prototype.o=function(){if(this.g=2,this.a&&(this.M.width=this.a[0],this.M.height=this.a[1]),this.a=[this.M.width,this.M.height],this.i.forEach(be),this.i=null,nf(this),!this.s&&null!==this.f){this.c.width=this.M.width,this.c.height=this.M.height;var t=this.c.getContext("2d");t.drawImage(this.M,0,0);for(var e=t.getImageData(0,0,this.M.width,this.M.height),i=e.data,o=this.f[0]/255,n=this.f[1]/255,r=this.f[2]/255,s=0,a=i.length;s<a;s+=4)i[s]*=o,i[s+1]*=n,i[s+2]*=r;t.putImageData(e,0,0)}this.b("change")},of.prototype.Y=function(){return this.c?this.c:this.M},of.prototype.load=function(){if(0==this.g){this.g=1,this.i=[me(this.M,"error",this.v,this),me(this.M,"load",this.o,this)];try{this.M.src=this.l}catch(t){this.v()}}},s(rf,$a),(t=rf.prototype).clone=function(){return new rf({anchor:this.l.slice(),anchorOrigin:this.g,anchorXUnits:this.C,anchorYUnits:this.B,crossOrigin:this.qa,color:this.j&&this.j.slice?this.j.slice():this.j||void 0,src:this.b.l,offset:this.oa.slice(),offsetOrigin:this.c,size:null!==this.D?this.D.slice():void 0,opacity:this.i,scale:this.a,snapToPixel:this.v,rotation:this.f,rotateWithView:this.s})},t.Vc=function(){if(this.o)return this.o;var t=this.l,e=this.oc();if("fraction"==this.C||"fraction"==this.B){if(!e)return null;t=this.l.slice(),"fraction"==this.C&&(t[0]*=e[0]),"fraction"==this.B&&(t[1]*=e[1])}if("top-left"!=this.g){if(!e)return null;t===this.l&&(t=this.l.slice()),"top-right"!=this.g&&"bottom-right"!=this.g||(t[0]=-t[0]+e[0]),"bottom-left"!=this.g&&"bottom-right"!=this.g||(t[1]=-t[1]+e[1])}return this.o=t},t.np=function(){return this.j},t.Y=function(t){return this.b.Y(t)},t.He=function(){return this.b.a},t.gf=function(){return this.b.g},t.Eg=function(){var t=this.b;if(!t.j)if(t.s){var e=t.a[0],i=t.a[1],o=vn(e,i);o.fillRect(0,0,e,i),t.j=o.canvas}else t.j=t.M;return t.j},t.bd=function(){if(this.N)return this.N;var t=this.oa;if("top-left"!=this.c){var e=this.oc(),i=this.b.a;if(!e||!i)return null;t=t.slice(),"top-right"!=this.c&&"bottom-right"!=this.c||(t[0]=i[0]-e[0]-t[0]),"bottom-left"!=this.c&&"bottom-right"!=this.c||(t[1]=i[1]-e[1]-t[1])}return this.N=t},t.op=function(){return this.b.l},t.oc=function(){return this.D?this.D:this.b.a},t.gi=function(t,e){ge(this.b,"change",t,e)},t.load=function(){this.b.load()},t.Yj=function(t,e){ve(this.b,"change",t,e)},s(sf,ad);var af=["http://www.google.com/kml/ext/2.2"],hf=[null,"http://earth.google.com/kml/2.0","http://earth.google.com/kml/2.1","http://earth.google.com/kml/2.2","http://www.opengis.net/kml/2.2"],lf={fraction:"fraction",pixels:"pixels",insetPixels:"pixels"};function pf(t,e){var i=[0,0],o="start";if(t.Y()){var n=t.Y().He();null===n&&(n=Uc),2==n.length&&(o=t.Y().a,i[0]=o*n[0]/2,i[1]=-o*n[1]/2,o="left")}return null!==t.Ka()?((t=(n=t.Ka()).clone()).Jj(n.a||Kc.a),t.lj(n.b||Kc.b),t.yf(n.Fa()||Kc.Fa()),t.Af(n.Ga()||Zc)):t=Kc.clone(),t.Hd(e),t.Nj(i[0]),t.Oj(i[1]),t.Qj(o),new nh({text:t})}function uf(t){if(t=wu(t,!1),t=/^\s*#?\s*([0-9A-Fa-f]{8})\s*$/.exec(t))return t=t[1],[parseInt(t.substr(6,2),16),parseInt(t.substr(4,2),16),parseInt(t.substr(2,2),16),parseInt(t.substr(0,2),16)/255]}function df(t){t=wu(t,!1);for(var e,i=[],o=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*,\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)(?:\s*,\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?))?\s*/i;e=o.exec(t);)i.push(parseFloat(e[1]),parseFloat(e[2]),e[3]?parseFloat(e[3]):0),t=t.substr(e[0].length);if(""===t)return i}function cf(t){var e=wu(t,!1).trim();return(t=t.baseURI)&&"about:blank"!=t||(t=window.location.href),t?new URL(e,t).href:e}function ff(t){return yd(t)}function yf(t,e){return Lu(null,Df,t,e)}function gf(t,e){if(e=Lu({A:[],ak:[]},Rf,t,e)){var i;t=e.A,e=e.ak;var o=0;for(i=Math.min(t.length,e.length);o<i;++o)t[4*o+3]=e[o];return(e=new fh(null)).ba("XYZM",t),e}}function mf(t,e){var i=Lu({},Of,t,e);if(t=Lu(null,Nf,t,e))return(e=new fh(null)).ba("XYZ",t),e.H(i),e}function vf(t,e){var i=Lu({},Of,t,e);if(t=Lu(null,Nf,t,e))return(e=new rn(null)).ba("XYZ",t,[t.length]),e.H(i),e}function bf(t,e){if(!(t=Lu([],qf,t,e)))return null;if(0===t.length)return new Sc(t);var i,o=!0,n=t[0].S(),r=1;for(i=t.length;r<i;++r)if((e=t[r]).S()!=n){o=!1;break}if(o)if("Point"==n){var s=t[0];for(o=s.ja,n=s.da(),r=1,i=t.length;r<i;++r)Vt(n,(e=t[r]).da());(s=new Zu(null)).ba(o,n),Mf(s,t)}else"LineString"==n?(Xu(s=new Vu(null),t),Mf(s,t)):"Polygon"==n?(Qu(s=new Ku(null),t),Mf(s,t)):"GeometryCollection"==n?s=new Sc(t):f(!1,37);else s=new Sc(t);return s}function wf(t,e){var i=Lu({},Of,t,e);if(t=Lu(null,Nf,t,e))return(e=new Yo(null)).ba("XYZ",t),e.H(i),e}function xf(t,e){var i=Lu({},Of,t,e);if((t=Lu([null],If,t,e))&&t[0]){e=new rn(null);var o,n=t[0],r=[n.length],s=1;for(o=t.length;s<o;++s)Vt(n,t[s]),r.push(n.length);return e.ba("XYZ",n,r),e.H(i),e}}function _f(t,e){if(!(e=Lu({},Kf,t,e)))return null;t="fillStyle"in e?e.fillStyle:zc;var i=e.fill;void 0===i||i||(t=null),(i="imageStyle"in e?e.imageStyle:Yc)==Vc&&(i=void 0);var o="textStyle"in e?e.textStyle:Kc,n="strokeStyle"in e?e.strokeStyle:Xc;return void 0===(e=e.outline)||e||(n=null),[new nh({fill:t,image:i,stroke:n,text:o,zIndex:void 0})]}function Mf(t,e){var i,o,n,r=e.length,s=Array(e.length),a=Array(e.length),h=Array(e.length),l=o=n=!1;for(i=0;i<r;++i){var p=e[i];s[i]=p.get("extrude"),a[i]=p.get("tessellate"),h[i]=p.get("altitudeMode"),l=l||void 0!==s[i],o=o||void 0!==a[i],n=n||h[i]}l&&t.set("extrude",s),o&&t.set("tessellate",a),n&&t.set("altitudeMode",h)}function kf(t,e){Nu(Ef,t,e)}function Sf(t,e){Nu(Tf,t,e)}var Cf=Ru(hf,{displayName:Tu(bd),value:Tu(bd)}),Ef=Ru(hf,{Data:function(t,e){var i=t.getAttribute("name");Nu(Cf,t,e),t=e[e.length-1],null!==i?t[i]=t.value:null!==t.displayName&&(t[t.displayName]=t.value),delete t.value},SchemaData:function(t,e){Nu(Zf,t,e)}}),Tf=Ru(hf,{LatLonAltBox:function(t,e){(t=Lu({},Pf,t,e))&&((e=e[e.length-1]).extent=[parseFloat(t.west),parseFloat(t.south),parseFloat(t.east),parseFloat(t.north)],e.altitudeMode=t.altitudeMode,e.minAltitude=parseFloat(t.minAltitude),e.maxAltitude=parseFloat(t.maxAltitude))},Lod:function(t,e){(t=Lu({},Af,t,e))&&((e=e[e.length-1]).minLodPixels=parseFloat(t.minLodPixels),e.maxLodPixels=parseFloat(t.maxLodPixels),e.minFadeExtent=parseFloat(t.minFadeExtent),e.maxFadeExtent=parseFloat(t.maxFadeExtent))}}),Pf=Ru(hf,{altitudeMode:Tu(bd),minAltitude:Tu(yd),maxAltitude:Tu(yd),north:Tu(yd),south:Tu(yd),east:Tu(yd),west:Tu(yd)}),Af=Ru(hf,{minLodPixels:Tu(yd),maxLodPixels:Tu(yd),minFadeExtent:Tu(yd),maxFadeExtent:Tu(yd)}),Of=Ru(hf,{extrude:Tu(dd),tessellate:Tu(dd),altitudeMode:Tu(bd)}),Df=Ru(hf,{coordinates:Cu(df)}),If=Ru(hf,{innerBoundaryIs:function(t,e){(t=Lu(void 0,Ff,t,e))&&e[e.length-1].push(t)},outerBoundaryIs:function(t,e){(t=Lu(void 0,Gf,t,e))&&(e[e.length-1][0]=t)}}),Rf=Ru(hf,{when:function(t,e){e=e[e.length-1].ak,t=wu(t,!1),t=Date.parse(t),e.push(isNaN(t)?0:t)}},Ru(af,{coord:function(t,e){e=e[e.length-1].A,t=wu(t,!1),(t=/^\s*([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s*$/i.exec(t))?e.push(parseFloat(t[1]),parseFloat(t[2]),parseFloat(t[3]),0):e.push(0,0,0,0)}})),Nf=Ru(hf,{coordinates:Cu(df)}),Lf=Ru(hf,{href:Tu(cf)},Ru(af,{x:Tu(yd),y:Tu(yd),w:Tu(yd),h:Tu(yd)})),jf=Ru(hf,{Icon:Tu(function(t,e){return(t=Lu({},Lf,t,e))?t:null}),heading:Tu(yd),hotSpot:Tu(function(t){var e=t.getAttribute("xunits"),i=t.getAttribute("yunits"),o="insetPixels"!==e?"insetPixels"!==i?"bottom-left":"top-left":"insetPixels"!==i?"bottom-right":"top-right";return{x:parseFloat(t.getAttribute("x")),oh:lf[e],y:parseFloat(t.getAttribute("y")),ph:lf[i],origin:o}}),scale:Tu(ff)}),Ff=Ru(hf,{LinearRing:Cu(yf)}),zf=Ru(hf,{color:Tu(uf),scale:Tu(ff)}),Bf=Ru(hf,{color:Tu(uf),width:Tu(yd)}),qf=Ru(hf,{LineString:Su(mf),LinearRing:Su(vf),MultiGeometry:Su(bf),Point:Su(wf),Polygon:Su(xf)}),Hf=Ru(af,{Track:Su(gf)}),Uf=Ru(hf,{ExtendedData:kf,Region:Sf,Link:function(t,e){Nu(Wf,t,e)},address:Tu(bd),description:Tu(bd),name:Tu(bd),open:Tu(dd),phoneNumber:Tu(bd),visibility:Tu(dd)}),Wf=Ru(hf,{href:Tu(cf)}),Gf=Ru(hf,{LinearRing:Cu(yf)}),Yf=Ru(hf,{Style:Tu(_f),key:Tu(bd),styleUrl:Tu(cf)}),Vf=Ru(hf,{ExtendedData:kf,Region:Sf,MultiGeometry:Tu(bf,"geometry"),LineString:Tu(mf,"geometry"),LinearRing:Tu(vf,"geometry"),Point:Tu(wf,"geometry"),Polygon:Tu(xf,"geometry"),Style:Tu(_f),StyleMap:function(t,e){(t=Lu(void 0,Jf,t,e))&&(e=e[e.length-1],Array.isArray(t)?e.Style=t:"string"==typeof t?e.styleUrl=t:f(!1,38))},address:Tu(bd),description:Tu(bd),name:Tu(bd),open:Tu(dd),phoneNumber:Tu(bd),styleUrl:Tu(cf),visibility:Tu(dd)},Ru(af,{MultiTrack:Tu(function(t,e){if(t=Lu([],Hf,t,e))return Xu(e=new Vu(null),t),e},"geometry"),Track:Tu(gf,"geometry")})),Xf=Ru(hf,{color:Tu(uf),fill:Tu(dd),outline:Tu(dd)}),Zf=Ru(hf,{SimpleData:function(t,e){var i=t.getAttribute("name");null!==i&&(t=bd(t),e[e.length-1][i]=t)}}),Kf=Ru(hf,{IconStyle:function(t,e){if(t=Lu({},jf,t,e)){e=e[e.length-1];var i,o="Icon"in t?t.Icon:{},n=!("Icon"in t)||0<Object.keys(o).length,r=o.href;r?i=r:n&&(i=Wc),r="bottom-left";var s,a=t.hotSpot;if(a){var h=[a.x,a.y],l=a.oh,p=a.ph;r=a.origin}else i===Wc?(h=Bc,l=qc,p=Hc):/^http:\/\/maps\.(?:google|gstatic)\.com\//.test(i)&&(h=[.5,0],p=l="fraction");var u,d,c=o.y;void 0!==(a=o.x)&&void 0!==c&&(s=[a,c]),a=o.w,o=o.h,void 0!==a&&void 0!==o&&(u=[a,o]),void 0!==(o=t.heading)&&(d=b(o)),t=t.scale,n?(i==Wc&&(u=Uc,void 0===t&&(t=Gc)),i=new rf({anchor:h,anchorOrigin:r,anchorXUnits:l,anchorYUnits:p,crossOrigin:"anonymous",offset:s,offsetOrigin:"bottom-left",rotation:d,scale:t,size:u,src:i}),e.imageStyle=i):e.imageStyle=Vc}},LabelStyle:function(t,e){(t=Lu({},zf,t,e))&&(e[e.length-1].textStyle=new gh({fill:new ih({color:"color"in t?t.color:Fc}),scale:t.scale}))},LineStyle:function(t,e){(t=Lu({},Bf,t,e))&&(e[e.length-1].strokeStyle=new oh({color:"color"in t?t.color:Fc,width:"width"in t?t.width:1}))},PolyStyle:function(t,e){if(t=Lu({},Xf,t,e)){(e=e[e.length-1]).fillStyle=new ih({color:"color"in t?t.color:Fc});var i=t.fill;void 0!==i&&(e.fill=i),void 0!==(t=t.outline)&&(e.outline=t)}}}),Jf=Ru(hf,{Pair:function(t,e){if(t=Lu({},Yf,t,e)){var i=t.key;i&&"normal"==i&&((i=t.styleUrl)&&(e[e.length-1]=i),(t=t.Style)&&(e[e.length-1]=t))}}});function $f(t,e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType==Node.ELEMENT_NODE){var i=Qf(t,e);if(i)return i}}function Qf(t,e){var i;for(i=e.firstElementChild;i;i=i.nextElementSibling)if(Gt(hf,i.namespaceURI)&&"name"==i.localName)return bd(i);for(i=e.firstElementChild;i;i=i.nextElementSibling)if(e=i.localName,Gt(hf,i.namespaceURI)&&("Document"==e||"Folder"==e||"Placemark"==e||"kml"==e)&&(e=Qf(t,i)))return e}function ty(t,e){var i=[];for(e=e.firstChild;e;e=e.nextSibling)e.nodeType==Node.ELEMENT_NODE&&Vt(i,ey(t,e));return i}function ey(t,e){var i,o=[];for(i=e.firstElementChild;i;i=i.nextElementSibling)if(Gt(hf,i.namespaceURI)&&"NetworkLink"==i.localName){var n=Lu({},Uf,i,[]);o.push(n)}for(i=e.firstElementChild;i;i=i.nextElementSibling)e=i.localName,!Gt(hf,i.namespaceURI)||"Document"!=e&&"Folder"!=e&&"kml"!=e||Vt(o,ey(t,i));return o}function iy(t,e){var i=[];for(e=e.firstChild;e;e=e.nextSibling)e.nodeType==Node.ELEMENT_NODE&&Vt(i,t.vf(e));return i}function oy(t,e){var i;for(e=[255*(4==(e=ms(e)).length?e[3]:1),e[2],e[1],e[0]],i=0;4>i;++i){var o=parseInt(e[i],10).toString(16);e[i]=1==o.length?"0"+o:o}Md(t,e.join(""))}function ny(t,e,i){t={node:t};var o=e.S();if("GeometryCollection"==o)var n=e.vd(),r=Ny;else"MultiPoint"==o?(n=e.de(),r=By):"MultiLineString"==o?(n=e.wd(),r=qy):"MultiPolygon"==o?(n=e.Vd(),r=Uy):f(!1,39);Fu(t,ky,r,n,i)}function ry(t,e,i){Fu({node:t},My,Hy,[e],i)}function sy(t,e,i){var o={node:t};e.c&&t.setAttribute("id",e.c),t=e.L();var n={address:1,description:1,name:1,open:1,phoneNumber:1,styleUrl:1,visibility:1};n[e.a]=1;var r=Object.keys(t||{}).sort().filter(function(t){return!n[t]});if(0<r.length){var s=Iu(t,r);Fu(o,Cy,Fy,[{names:r,values:s}],i)}(r=e.ib())&&(r=r.call(e,0))&&(r=Array.isArray(r)?r[0]:r,this.j&&(t.Style=r),(r=r.Ka())&&(t.name=r.Ka())),t=Iu(t,r=Sy[i[i.length-1].node.namespaceURI]),Fu(o,Cy,Du,t,i,r),t=i[0],(e=e.U())&&(e=Wu(e,!0,t)),Fu(o,Cy,Ny,[e],i)}function ay(t,e,i){var o=e.da();(t={node:t}).layout=e.ja,t.stride=e.pa(),(e=e.L()).coordinates=o,e=Iu(e,o=Ey[i[i.length-1].node.namespaceURI]),Fu(t,Ty,Du,e,i,o)}function hy(t,e,i){var o=(e=e.Ud()).shift();Fu(t={node:t},Py,zy,e,i),Fu(t,Py,Wy,[o],i)}function ly(t,e){xd(t,Math.round(1e6*e)/1e6)}(t=sf.prototype).Jg=function(t,e){if(t=Lu([],Ru(hf,{Document:ku(this.Jg,this),Folder:ku(this.Jg,this),Placemark:Su(this.Rg,this),Style:this.kq.bind(this),StyleMap:this.jq.bind(this)}),t,e,this))return t},t.Rg=function(t,e){var i=Lu({geometry:null},Vf,t,e);if(i){var o=new ph;return null!==(t=t.getAttribute("id"))&&o.qc(t),e=e[0],(t=i.geometry)&&Wu(t,!1,e),o.Va(t),delete i.geometry,this.c&&o.sg(function(t,e,i,o,n){return function(){var r=n,s="";if(r&&this.U()&&(r="Point"===this.U().S()),r&&(s=this.get("name"),r=r&&s),t)return r?(r=pf(t[0],s),t.concat(r)):t;if(e){var a=function t(e,i,o){return Array.isArray(e)?e:"string"==typeof e?(!(e in o)&&"#"+e in o&&(e="#"+e),t(o[e],i,o)):i}(e,i,o);return r?(r=pf(a[0],s),a.concat(r)):a}return r?(r=pf(i[0],s),i.concat(r)):i}}(i.Style,i.styleUrl,this.a,this.b,this.f)),delete i.Style,o.H(i),o}},t.kq=function(t,e){var i=t.getAttribute("id");null!==i&&(e=_f(t,e))&&((t=t.baseURI)&&"about:blank"!=t||(t=window.location.href),i=t?new URL("#"+i,t).href:"#"+i,this.b[i]=e)},t.jq=function(t,e){var i=t.getAttribute("id");null!==i&&(e=Lu(void 0,Jf,t,e))&&((t=t.baseURI)&&"about:blank"!=t||(t=window.location.href),i=t?new URL("#"+i,t).href:"#"+i,this.b[i]=e)},t.Lg=function(t,e){return Gt(hf,t.namespaceURI)&&(t=this.Rg(t,[Hu(this,t,e)]))?t:null},t.Kc=function(t,e){if(!Gt(hf,t.namespaceURI))return[];var i=t.localName;if("Document"==i||"Folder"==i)return(i=this.Jg(t,[Hu(this,t,e)]))?i:[];if("Placemark"==i)return(e=this.Rg(t,[Hu(this,t,e)]))?[e]:[];if("kml"==i){for(i=[],t=t.firstElementChild;t;t=t.nextElementSibling){var o=this.Kc(t,e);o&&Vt(i,o)}return i}return[]},t.cq=function(t){return xu(t)?$f(this,t):_u(t)?Qf(this,t):"string"==typeof t?$f(this,t=Mu(t)):void 0},t.eq=function(t){var e=[];return xu(t)?Vt(e,ty(this,t)):_u(t)?Vt(e,ey(this,t)):"string"==typeof t&&Vt(e,ty(this,t=Mu(t))),e},t.hq=function(t){var e=[];return xu(t)?Vt(e,iy(this,t)):_u(t)?Vt(e,this.vf(t)):"string"==typeof t&&Vt(e,iy(this,t=Mu(t))),e},t.vf=function(t){var e,i=[];for(e=t.firstElementChild;e;e=e.nextElementSibling)if(Gt(hf,e.namespaceURI)&&"Region"==e.localName){var o=Lu({},Tf,e,[]);i.push(o)}for(e=t.firstElementChild;e;e=e.nextElementSibling)t=e.localName,!Gt(hf,e.namespaceURI)||"Document"!=t&&"Folder"!=t&&"kml"!=t||Vt(i,this.vf(e));return i};var py=Ru(hf,["Document","Placemark"]),uy=Ru(hf,{Document:Pu(function(t,e,i){Fu({node:t},dy,Ry,e,i,void 0,this)}),Placemark:Pu(sy)}),dy=Ru(hf,{Placemark:Pu(sy)}),cy=Ru(hf,{Data:Pu(function(t,e,i){t.setAttribute("name",e.name),t={node:t},"object"==typeof(e=e.value)?(null!==e&&e.displayName&&Fu(t,cy,Du,[e.displayName],i,["displayName"]),null!==e&&e.value&&Fu(t,cy,Du,[e.value],i,["value"])):Fu(t,cy,Du,[e],i,["value"])}),value:Pu(function(t,e){Md(t,e)}),displayName:Pu(function(t,e){t.appendChild(vu.createCDATASection(e))})}),fy={Point:"Point",LineString:"LineString",LinearRing:"LinearRing",Polygon:"Polygon",MultiPoint:"MultiGeometry",MultiLineString:"MultiGeometry",MultiPolygon:"MultiGeometry",GeometryCollection:"MultiGeometry"},yy=Ru(hf,["href"],Ru(af,["x","y","w","h"])),gy=Ru(hf,{href:Pu(Md)},Ru(af,{x:Pu(xd),y:Pu(xd),w:Pu(xd),h:Pu(xd)})),my=Ru(hf,["scale","heading","Icon","hotSpot"]),vy=Ru(hf,{Icon:Pu(function(t,e,i){t={node:t};var o=yy[i[i.length-1].node.namespaceURI],n=Iu(e,o);Fu(t,gy,Du,n,i,o),n=Iu(e,o=yy[af[0]]),Fu(t,gy,Iy,n,i,o)}),heading:Pu(xd),hotSpot:Pu(function(t,e){t.setAttribute("x",e.x),t.setAttribute("y",e.y),t.setAttribute("xunits",e.oh),t.setAttribute("yunits",e.ph)}),scale:Pu(ly)}),by=Ru(hf,["color","scale"]),wy=Ru(hf,{color:Pu(oy),scale:Pu(ly)}),xy=Ru(hf,["color","width"]),_y=Ru(hf,{color:Pu(oy),width:Pu(xd)}),My=Ru(hf,{LinearRing:Pu(ay)}),ky=Ru(hf,{LineString:Pu(ay),Point:Pu(ay),Polygon:Pu(hy),GeometryCollection:Pu(ny)}),Sy=Ru(hf,"name open visibility address phoneNumber description styleUrl Style".split(" ")),Cy=Ru(hf,{ExtendedData:Pu(function(t,e,i){t={node:t};var o=e.names;e=e.values;for(var n=o.length,r=0;r<n;r++)Fu(t,cy,jy,[{name:o[r],value:e[r]}],i)}),MultiGeometry:Pu(ny),LineString:Pu(ay),LinearRing:Pu(ay),Point:Pu(ay),Polygon:Pu(hy),Style:Pu(function(t,e,i){t={node:t};var o={},n=e.Fa(),r=e.Ga(),s=e.Y();e=e.Ka(),s instanceof rf&&(o.IconStyle=s),e&&(o.LabelStyle=e),r&&(o.LineStyle=r),n&&(o.PolyStyle=n),o=Iu(o,e=Oy[i[i.length-1].node.namespaceURI]),Fu(t,Dy,Du,o,i,e)}),address:Pu(Md),description:Pu(Md),name:Pu(Md),open:Pu(wd),phoneNumber:Pu(Md),styleUrl:Pu(Md),visibility:Pu(wd)}),Ey=Ru(hf,["extrude","tessellate","altitudeMode","coordinates"]),Ty=Ru(hf,{extrude:Pu(wd),tessellate:Pu(wd),altitudeMode:Pu(Md),coordinates:Pu(function(t,e,i){var o,n=(i=i[i.length-1]).layout;i=i.stride,"XY"==n||"XYM"==n?o=2:"XYZ"==n||"XYZM"==n?o=3:f(!1,34);var r,s=e.length,a="";if(0<s){for(a+=e[0],n=1;n<o;++n)a+=","+e[n];for(r=i;r<s;r+=i)for(a+=" "+e[r],n=1;n<o;++n)a+=","+e[r+n]}Md(t,a)})}),Py=Ru(hf,{outerBoundaryIs:Pu(ry),innerBoundaryIs:Pu(ry)}),Ay=Ru(hf,{color:Pu(oy)}),Oy=Ru(hf,["IconStyle","LabelStyle","LineStyle","PolyStyle"]),Dy=Ru(hf,{IconStyle:Pu(function(t,e,i){t={node:t};var o={},n=e.oc(),r=e.He(),s={href:e.b.l};if(n){s.w=n[0],s.h=n[1];var a=e.Vc(),h=e.bd();h&&r&&0!==h[0]&&h[1]!==n[1]&&(s.x=h[0],s.y=r[1]-(h[1]+n[1])),!a||a[0]===n[0]/2&&a[1]===n[1]/2||(o.hotSpot={x:a[0],oh:"pixels",y:n[1]-a[1],ph:"pixels"})}o.Icon=s,1!==(n=e.a)&&(o.scale=n),0!==(e=e.f)&&(o.heading=e),o=Iu(o,e=my[i[i.length-1].node.namespaceURI]),Fu(t,vy,Du,o,i,e)}),LabelStyle:Pu(function(t,e,i){t={node:t};var o={},n=e.Fa();n&&(o.color=n.b),(e=e.b)&&1!==e&&(o.scale=e),o=Iu(o,e=by[i[i.length-1].node.namespaceURI]),Fu(t,wy,Du,o,i,e)}),LineStyle:Pu(function(t,e,i){t={node:t};var o=xy[i[i.length-1].node.namespaceURI];e=Iu({color:e.a,width:e.c},o),Fu(t,_y,Du,e,i,o)}),PolyStyle:Pu(function(t,e,i){Fu({node:t},Ay,Ly,[e.b],i)})});function Iy(t,e,i){return bu(af[0],"gx:"+i)}function Ry(t,e){return bu(e[e.length-1].node.namespaceURI,"Placemark")}function Ny(t,e){if(t)return bu(e[e.length-1].node.namespaceURI,fy[t.S()])}var Ly=Ou("color"),jy=Ou("Data"),Fy=Ou("ExtendedData"),zy=Ou("innerBoundaryIs"),By=Ou("Point"),qy=Ou("LineString"),Hy=Ou("LinearRing"),Uy=Ou("Polygon"),Wy=Ou("outerBoundaryIs");function Gy(t,e,i,o,n){this.l=n,this.f=t,this.b=e,this.a=this.c=null,this.g=i,this.j=o,this.s=[1,0,0,1,0,0]}function Yy(t){qu.call(this),t=t||{},this.defaultDataProjection=new dt({code:"EPSG:3857",units:"tile-pixels"}),this.b=t.featureClass?t.featureClass:Gy,this.g=t.geometryName,this.f=t.layerName?t.layerName:"layer",this.c=t.layers?t.layers:null,this.a=null}function Vy(t,e,i){if(3===t){t={keys:[],values:[],features:[]};var o=i.Ua()+i.ga;i.Og(Xy,t,o),t.length=t.features.length,t.length&&(e[t.name]=t)}}function Xy(t,e,i){if(15===t)e.version=i.Ua();else if(1===t)e.name=i.Vg();else if(5===t)e.extent=i.Ua();else if(2===t)e.features.push(i.ga);else if(3===t)e.keys.push(i.Vg());else if(4===t){t=null;for(var o=i.Ua()+i.ga;i.ga<o;)t=1==(t=i.Ua()>>3)?i.Vg():2===t?i.Zp():3===t?i.Vp():4===t?i.lq():5===t?i.Ua():6===t?i.Ug():7===t?i.Tp():null;e.values.push(t)}}function Zy(t,e,i){if(1==t)e.id=i.Ua();else if(2==t)for(t=i.Ua()+i.ga;i.ga<t;){var o=e.layer.keys[i.Ua()],n=e.layer.values[i.Ua()];e.properties[o]=n}else 3==t?e.type=i.Ua():4==t&&(e.geometry=i.ga)}function Ky(t,e,i){var o=i.type;if(0===o)return null;var n=i.id,r=i.properties;r[t.f]=i.layer.name;var s,a=[],h=[],l=h;e.ga=i.geometry,i=e.Ua()+e.ga;for(var p=1,u=0,d=0,c=0,y=0,g=0;e.ga<i;)u||(p=7&(u=e.Ua()),u>>=3),u--,1===p||2===p?(d+=e.Ug(),c+=e.Ug(),1===p&&y>g&&(l.push(y),g=y),a.push(d,c),y+=2):7===p?y>g&&(a.push(a[g],a[g+1]),y+=2):f(!1,59);if(y>g&&l.push(y),e=h.length,1===o?s=1===e?"Point":"MultiPoint":2===o?s=1===e?"LineString":"MultiLineString":3===o&&(s="Polygon"),o=s,t.b===Gy)a=new t.b(o,a,h,r,n);else{if("Polygon"==o){for(o=[],l=e=s=0,i=h.length;l<i;++l)tn(a,s,p=h[l],2)||(o.push(h.slice(e,l)),e=l),s=p;1<o.length?(h=o,o=new Ku(null)):o=new rn(null)}else o="Point"===o?new Yo(null):"LineString"===o?new fh(null):"Polygon"===o?new rn(null):"MultiPoint"===o?new Zu(null):"MultiLineString"===o?new Vu(null):null;o.ba("XY",a,h),a=new t.b,t.g&&a.Lc(t.g),t=Wu(o,!1,Uu(t,void 0)),a.Va(t),a.qc(n),a.H(r)}return a}function Jy(){ad.call(this),this.defaultDataProjection=Nt("EPSG:4326")}function $y(t,e){e[e.length-1].le[t.getAttribute("k")]=t.getAttribute("v")}sf.prototype.bc=function(t,e){e=Uu(this,e);var i=bu(hf[4],"kml");i.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:gx",af[0]),i.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xsi","http://www.w3.org/2001/XMLSchema-instance"),i.setAttributeNS("http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation","http://www.opengis.net/kml/2.2 https://developers.google.com/kml/schema/kml22gx.xsd");var o={node:i},n={};return 1<t.length?n.Document=t:1==t.length&&(n.Placemark=t[0]),n=Iu(n,t=py[i.namespaceURI]),Fu(o,uy,Du,n,[e],t,this),i},oa.Ld=function(){},function(t){function e(t){this.tc=ArrayBuffer.isView&&ArrayBuffer.isView(t)?t:new Uint8Array(t||0),this.type=this.ga=0,this.length=this.tc.length}function i(t,e,i){var n=i.tc,r=n[i.ga++],s=(112&r)>>4;if(128>r)return o(t,s,e);if(s|=(127&(r=n[i.ga++]))<<3,128>r)return o(t,s,e);if(s|=(127&(r=n[i.ga++]))<<10,128>r)return o(t,s,e);if(s|=(127&(r=n[i.ga++]))<<17,128>r)return o(t,s,e);if(s|=(127&(r=n[i.ga++]))<<24,128>r)return o(t,s,e);if(128>(r=n[i.ga++]))return o(t,s|(1&r)<<31,e);throw Error("Expected varint not more than 10 bytes")}function o(t,e,i){return i?4294967296*e+(t>>>0):4294967296*(e>>>0)+(t>>>0)}var n=function(t,e,i,o,n){var r=8*n-o-1,s=(1<<r)-1,a=s>>1,h=-7;n=i?n-1:0;var l=i?-1:1,p=t[e+n];for(n+=l,i=p&(1<<-h)-1,p>>=-h,h+=r;0<h;i=256*i+t[e+n],n+=l,h-=8);for(r=i&(1<<-h)-1,i>>=-h,h+=o;0<h;r=256*r+t[e+n],n+=l,h-=8);if(0===i)i=1-a;else{if(i===s)return r?NaN:1/0*(p?-1:1);r+=Math.pow(2,o),i-=a}return(p?-1:1)*r*Math.pow(2,i-o)};e.c=0,e.g=1,e.b=2,e.a=5,e.prototype={Og:function(t,e,i){for(i=i||this.length;this.ga<i;){var o=this.Ua(),n=o>>3,r=this.ga;this.type=7&o,t(n,e,this),this.ga===r&&this.Lq(o)}return e},Zp:function(){var t=n(this.tc,this.ga,!0,23,4);return this.ga+=4,t},Vp:function(){var t=n(this.tc,this.ga,!0,52,8);return this.ga+=8,t},Ua:function(t){var e=this.tc,o=e[this.ga++],n=127&o;return 128>o?n:(n|=(127&(o=e[this.ga++]))<<7,128>o?n:(n|=(127&(o=e[this.ga++]))<<14,128>o?n:(n|=(127&(o=e[this.ga++]))<<21,128>o?n:i(n|(15&(o=e[this.ga]))<<28,t,this))))},lq:function(){return this.Ua(!0)},Ug:function(){var t=this.Ua();return 1==t%2?(t+1)/-2:t/2},Tp:function(){return!!this.Ua()},Vg:function(){for(var t=this.Ua()+this.ga,e=this.tc,i="",o=this.ga;o<t;){var n=e[o],r=null,s=239<n?4:223<n?3:191<n?2:1;if(o+s>t)break;if(1===s)128>n&&(r=n);else if(2===s){var a=e[o+1];128==(192&a)&&127>=(r=(31&n)<<6|63&a)&&(r=null)}else if(3===s){var h=e[o+2];128==(192&(a=e[o+1]))&&128==(192&h)&&(2047>=(r=(15&n)<<12|(63&a)<<6|63&h)||55296<=r&&57343>=r)&&(r=null)}else if(4===s){h=e[o+2];var l=e[o+3];128==(192&(a=e[o+1]))&&128==(192&h)&&128==(192&l)&&(65535>=(r=(15&n)<<18|(63&a)<<12|(63&h)<<6|63&l)||1114112<=r)&&(r=null)}null===r?(r=65533,s=1):65535<r&&(r-=65536,i+=String.fromCharCode(r>>>10&1023|55296),r=56320|1023&r),i+=String.fromCharCode(r),o+=s}return this.ga=t,i},Lq:function(t){if((t&=7)===e.c)for(;127<this.tc[this.ga++];);else if(t===e.b)this.ga=this.Ua()+this.ga;else if(t===e.a)this.ga+=4;else{if(t!==e.g)throw Error("Unimplemented type: "+t);this.ga+=8}}},t.default=e}(oa.Ld=oa.Ld||{}),oa.Ld=oa.Ld.default,(t=Gy.prototype).get=function(t){return this.j[t]},t.pb=Gy.prototype.td=function(){return this.g},t.G=function(){return this.i||(this.i="Point"===this.f?N(this.b):L(this.b,0,this.b.length,2)),this.i},t.Td=function(){if(!this.c){var t=G(this.G());this.c=Ko(this.b,0,this.g,2,t,0)}return this.c},t.Fe=function(){return this.a||(this.a=dh(this.b,0,this.b.length,2,.5)),this.a},t.Ge=function(){if(!this.a){this.a=[];for(var t=this.b,e=0,i=this.g,o=0,n=i.length;o<n;++o){var r=i[o];e=dh(t,e,r,2,.5),Vt(this.a,e),e=r}}return this.a},t.Ao=function(){return this.l},t.Xb=function(){return this.b},t.da=Gy.prototype.Xb,t.U=function(){return this},t.Bo=function(){return this.j},t.Wd=Gy.prototype.U,t.pa=function(){return 2},t.ib=a,t.S=function(){return this.f},t.mb=function(t){var e=t.G();e=V(t=t.oe)/V(e);var i=this.s;_o(i,t[0],t[3],e,-e,0,0,0),po(this.b,0,this.b.length,2,i,this.b)},s(Yy,qu),(t=Yy.prototype).cg=function(){return this.a},t.S=function(){return"arraybuffer"},t.Qa=function(t){var e,i=this.c,o=(t=new oa.Ld(t)).Og(Vy,{}),n=[];for(e in o)if(!i||-1!=i.indexOf(e)){for(var r,s=o[e],a=0,h=s.length;a<h;++a){var l=s;(r=t).ga=l.features[a];var p=r.Ua()+r.ga;r.Og(Zy,l={layer:l,type:0,properties:{}},p),n.push(Ky(this,t,r=l))}this.a=s?[0,0,s.extent,s.extent]:null}return n},t.sb=function(){return this.defaultDataProjection},t.Sn=function(t){this.c=t},t.Yb=function(){},t.ed=function(){},t.Jd=function(){},t.md=function(){},t.ac=function(){},s(Jy,ad);var Qy=[null],tg=Ru(Qy,{nd:function(t,e){e[e.length-1].zd.push(t.getAttribute("ref"))},tag:$y}),eg=Ru(Qy,{node:function(t,e){var i=e[0],o=e[e.length-1],n=t.getAttribute("id"),r=[parseFloat(t.getAttribute("lon")),parseFloat(t.getAttribute("lat"))];o.ki[n]=r,rt((t=Lu({le:{}},ig,t,e)).le)||(Wu(r=new Yo(r),!1,i),(i=new ph(r)).qc(n),i.H(t.le),o.features.push(i))},way:function(t,e){t=Lu({id:t.getAttribute("id"),zd:[],le:{}},tg,t,e),e[e.length-1].lh.push(t)}}),ig=Ru(Qy,{tag:$y});function og(t,e,i,o){var n;n=void 0!==o?o:[];for(var r=o=0;r<e;){var s=t[r++];for(n[o++]=t[r++],n[o++]=s,s=2;s<i;++s)n[o++]=t[r++]}n.length=o}function ng(t){t=t||{},qu.call(this),this.defaultDataProjection=Nt("EPSG:4326"),this.b=t.factor?t.factor:1e5,this.a=t.geometryLayout?t.geometryLayout:"XY"}function rg(t,e,i){var o,n,r=Array(e);for(o=0;o<e;++o)r[o]=0;var s=0;for(n=t.length;s<n;)for(o=0;o<e;++o,++s){var a=t[s],h=a-r[o];r[o]=a,t[s]=h}return ag(t,i||1e5)}function sg(t,e,i){var o,n,r=Array(e);for(o=0;o<e;++o)r[o]=0;for(t=hg(t,i||1e5),i=0,n=t.length;i<n;)for(o=0;o<e;++o,++i)r[o]+=t[i],t[i]=r[o];return t}function ag(t,e){var i;e=e||1e5;var o=0;for(i=t.length;o<i;++o)t[o]=Math.round(t[o]*e);for(e=0,o=t.length;e<o;++e)t[e]=0>(i=t[e])?~(i<<1):i<<1;for(e="",o=0,i=t.length;o<i;++o){for(var n=t[o],r="";32<=n;)r+=String.fromCharCode(63+(32|31&n)),n>>=5;e+=r+=String.fromCharCode(n+63)}return e}function hg(t,e){e=e||1e5;var i,o=[],n=0,r=0,s=0;for(i=t.length;s<i;++s){var a=t.charCodeAt(s)-63;n|=(31&a)<<r,32>a?(o.push(n),r=n=0):r+=5}for(t=0,n=o.length;t<n;++t)o[t]=1&(r=o[t])?~(r>>1):r>>1;for(t=0,n=o.length;t<n;++t)o[t]/=e;return o}function lg(t){t=t||{},qu.call(this),this.a=t.layerName,this.b=t.layers?t.layers:null,this.defaultDataProjection=Nt(t.defaultDataProjection?t.defaultDataProjection:"EPSG:4326")}function pg(t,e){var i,o,n=[],r=0;for(o=t.length;r<o;++r){var s=t[r];0<r&&n.pop(),i=0<=s?e[s]:e[~s].slice().reverse(),n.push.apply(n,i)}for(t=0,e=n.length;t<e;++t)n[t]=n[t].slice();return n}function ug(t,e,i,o,n,r,s){var a,h=[],l=0;for(a=(t=t.geometries).length;l<a;++l)h[l]=dg(t[l],e,i,o,n,r,s);return h}function dg(t,e,i,o,n,r,s){var a=t.type,h=fg[a];return i="Point"===a||"MultiPoint"===a?h(t,i,o):h(t,e),(e=new ph).Va(Wu(i,!1,s)),void 0!==t.id&&e.qc(t.id),t=t.properties,n&&(t||(t={}),t[n]=r),t&&e.H(t),e}function cg(t,e,i){t[0]=t[0]*e[0]+i[0],t[1]=t[1]*e[1]+i[1]}Jy.prototype.Kc=function(t,e){if(e=Hu(this,t,e),"osm"==t.localName){t=Lu({ki:{},lh:[],features:[]},eg,t,[e]);for(var i=0;i<t.lh.length;i++){for(var o=t.lh[i],n=[],r=0,s=o.zd.length;r<s;r++)Vt(n,t.ki[o.zd[r]]);o.zd[0]==o.zd[o.zd.length-1]?(r=new rn(null)).ba("XY",n,[n.length]):(r=new fh(null)).ba("XY",n),Wu(r,!1,e),(n=new ph(r)).qc(o.id),n.H(o.le),t.features.push(n)}if(t.features)return t.features}return[]},Jy.prototype.mh=function(){},Jy.prototype.bc=function(){},Jy.prototype.re=function(){},s(ng,Rc),(t=ng.prototype).fe=function(t,e){return new ph(t=this.Gd(t,e))},t.Ng=function(t,e){return[this.fe(t,e)]},t.Gd=function(t,e){var i=Co(this.a);return og(t=sg(t,i,this.b),t.length,i,t),Wu(new fh(i=zo(t,0,t.length,i),this.a),!1,Uu(this,e))},t.pe=function(t,e){return(t=t.U())?this.Kd(t,e):(f(!1,40),"")},t.nh=function(t,e){return this.pe(t[0],e)},t.Kd=function(t,e){return e=(t=Wu(t,!0,Uu(this,e))).da(),t=t.pa(),og(e,e.length,t,e),rg(e,t,this.b)},s(lg,Gu),lg.prototype.Mg=function(t,e){if("Topology"==t.type){var i=null,o=null;if(t.transform){var n=t.transform;i=n.scale,o=n.translate}var r=t.arcs;if(n){n=i;var s,a=o,h=0;for(s=r.length;h<s;++h){var l,p=r[h],u=n,d=a,c=0,f=0,y=0;for(l=p.length;y<l;++y){var g=p[y];f+=g[1],g[0]=c+=g[0],g[1]=f,cg(g,u,d)}}}for(var m in n=[],a=this.a,t=t.objects)this.b&&-1==this.b.indexOf(m)||("GeometryCollection"===t[m].type?n.push.apply(n,ug(h=t[m],r,i,o,a,m,e)):n.push(dg(h=t[m],r,i,o,a,m,e)));return n}return[]},lg.prototype.Tg=function(){return this.defaultDataProjection};var fg={Point:function(t,e,i){return t=t.coordinates,e&&i&&cg(t,e,i),new Yo(t)},LineString:function(t,e){return new fh(t=pg(t.arcs,e))},Polygon:function(t,e){var i,o=[],n=0;for(i=t.arcs.length;n<i;++n)o[n]=pg(t.arcs[n],e);return new rn(o)},MultiPoint:function(t,e,i){var o;if(t=t.coordinates,e&&i){var n=0;for(o=t.length;n<o;++n)cg(t[n],e,i)}return new Zu(t)},MultiLineString:function(t,e){var i,o=[],n=0;for(i=t.arcs.length;n<i;++n)o[n]=pg(t.arcs[n],e);return new Vu(o)},MultiPolygon:function(t,e){var i,o,n=[],r=0;for(o=t.arcs.length;r<o;++r){var s=t.arcs[r],a=[],h=0;for(i=s.length;h<i;++h)a[h]=pg(s[h],e);n[r]=a}return new Ku(n)}};function yg(t){this.rc=t}function gg(t,e){this.rc=t,this.b=Array.prototype.slice.call(arguments,1),f(2<=this.b.length,57)}function mg(t){var e=["And"].concat(Array.prototype.slice.call(arguments));gg.apply(this,e)}function vg(t,e,i){this.rc="BBOX",this.geometryName=t,this.extent=e,this.srsName=i}function bg(t,e,i,o){this.rc=t,this.geometryName=e||"the_geom",this.geometry=i,this.srsName=o}function wg(t,e,i){bg.call(this,"Contains",t,e,i)}function xg(t,e){this.rc=t,this.b=e}function _g(t,e,i){xg.call(this,"During",t),this.a=e,this.g=i}function Mg(t,e,i,o){xg.call(this,t,e),this.g=i,this.a=o}function kg(t,e,i){Mg.call(this,"PropertyIsEqualTo",t,e,i)}function Sg(t,e){Mg.call(this,"PropertyIsGreaterThan",t,e)}function Cg(t,e){Mg.call(this,"PropertyIsGreaterThanOrEqualTo",t,e)}function Eg(t,e,i){bg.call(this,"Intersects",t,e,i)}function Tg(t,e,i){xg.call(this,"PropertyIsBetween",t),this.a=e,this.g=i}function Pg(t,e,i,o,n,r){xg.call(this,"PropertyIsLike",t),this.c=e,this.f=void 0!==i?i:"*",this.i=void 0!==o?o:".",this.g=void 0!==n?n:"!",this.a=r}function Ag(t){xg.call(this,"PropertyIsNull",t)}function Og(t,e){Mg.call(this,"PropertyIsLessThan",t,e)}function Dg(t,e){Mg.call(this,"PropertyIsLessThanOrEqualTo",t,e)}function Ig(t){this.rc="Not",this.condition=t}function Rg(t,e,i){Mg.call(this,"PropertyIsNotEqualTo",t,e,i)}function Ng(t){var e=["Or"].concat(Array.prototype.slice.call(arguments));gg.apply(this,e)}function Lg(t,e,i){bg.call(this,"Within",t,e,i)}function jg(t){var e=[null].concat(Array.prototype.slice.call(arguments));return new(Function.prototype.bind.apply(mg,e))}function Fg(t,e,i){return new vg(t,e,i)}function zg(t){this.c=(t=t||{}).featureType,this.a=t.featureNS,this.b=t.gmlFormat?t.gmlFormat:new kd,this.l=t.schemaLocation?t.schemaLocation:Bg["1.1.0"],ad.call(this)}(t=lg.prototype).ld=function(){},t.qe=function(){},t.se=function(){},t.Qg=function(){},t.dd=function(){},s(gg,yg),s(mg,gg),s(vg,yg),s(bg,yg),s(wg,bg),s(xg,yg),s(_g,xg),s(Mg,xg),s(kg,Mg),s(Sg,Mg),s(Cg,Mg),s(Eg,bg),s(Tg,xg),s(Pg,xg),s(Ag,xg),s(Og,Mg),s(Dg,Mg),s(Ig,yg),s(Rg,Mg),s(Ng,gg),s(Lg,bg),s(zg,ad);var Bg={"1.1.0":"http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.1.0/wfs.xsd","1.0.0":"http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.0.0/wfs.xsd"};function qg(t,e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType==Node.ELEMENT_NODE)return Ug(t,e)}zg.prototype.Kc=function(t,e){var i={featureType:this.c,featureNS:this.a};return it(i,Hu(this,t,e||{})),e=[i],this.b.b["http://www.opengis.net/gml"].featureMember=Su(pd.prototype.ge),(t=Lu([],this.b.b,t,e,this.b))||(t=[]),t},zg.prototype.j=function(t){return xu(t)?Xg(t):_u(t)?Lu({},Vg,t,[]):"string"==typeof t?Xg(t=Mu(t)):void 0},zg.prototype.f=function(t){return xu(t)?qg(this,t):_u(t)?Ug(this,t):"string"==typeof t?qg(this,t=Mu(t)):void 0};var Hg={"http://www.opengis.net/gml":{boundedBy:Tu(pd.prototype.rf,"bounds")}};function Ug(t,e){var i={},o=vd(e.getAttribute("numberOfFeatures"));return i.numberOfFeatures=o,Lu(i,Hg,e,[],t.b)}var Wg={"http://www.opengis.net/wfs":{totalInserted:Tu(md),totalUpdated:Tu(md),totalDeleted:Tu(md)}},Gg={"http://www.opengis.net/ogc":{FeatureId:Su(function(t){return t.getAttribute("fid")})}},Yg={"http://www.opengis.net/wfs":{Feature:function(t,e){Nu(Gg,t,e)}}},Vg={"http://www.opengis.net/wfs":{TransactionSummary:Tu(function(t,e){return Lu({},Wg,t,e)},"transactionSummary"),InsertResults:Tu(function(t,e){return Lu([],Yg,t,e)},"insertIds")}};function Xg(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE)return Lu({},Vg,t,[])}var Zg={"http://www.opengis.net/wfs":{PropertyName:Pu(Md)}};function Kg(t,e){var i=bu("http://www.opengis.net/ogc","Filter"),o=bu("http://www.opengis.net/ogc","FeatureId");i.appendChild(o),o.setAttribute("fid",e),t.appendChild(i)}function Jg(t,e){return 0===e.indexOf(t=(t||"feature")+":")?e:t+e}var $g={"http://www.opengis.net/wfs":{Insert:Pu(function(t,e,i){var o=i[i.length-1],n=o.gmlVersion;if(o=bu(o.featureNS,o.featureType),t.appendChild(o),2===n){t=Id.prototype,(n=e.c)&&o.setAttribute("fid",n);var r=(n=i[i.length-1]).featureNS,s=e.a;n.tb||(n.tb={},n.tb[r]={});var a=e.L();e=[];var h=[];for(p in a){var l=a[p];null!==l&&(e.push(p),h.push(l),p==s||l instanceof ko?p in n.tb[r]||(n.tb[r][p]=Pu(t.ui,t)):p in n.tb[r]||(n.tb[r][p]=Pu(Md)))}var p=it({},n);p.node=o,Fu(p,n.tb,Ou(void 0,r),h,i,e)}else kd.prototype.Ci(o,e,i)}),Update:Pu(function(t,e,i){var o=i[i.length-1];f(void 0!==e.c,27);var n=o.featurePrefix,r=o.featureNS,s=e.a;if(t.setAttribute("typeName",Jg(n,o.featureType)),t.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:"+n,r),void 0!==(n=e.c)){for(var a=[],h=0,l=(r=e.P()).length;h<l;h++){var p=e.get(r[h]);if(void 0!==p){var u=r[h];p instanceof ko&&(u=s),a.push({name:u,value:p})}}Fu({gmlVersion:o.gmlVersion,node:t,hasZ:o.hasZ,srsName:o.srsName},$g,Ou("Property"),a,i),Kg(t,n)}}),Delete:Pu(function(t,e,i){i=i[i.length-1],f(void 0!==e.c,26);var o=i.featurePrefix,n=i.featureNS;t.setAttribute("typeName",Jg(o,i.featureType)),t.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:"+o,n),void 0!==(e=e.c)&&Kg(t,e)}),Property:Pu(function(t,e,i){var o=bu("http://www.opengis.net/wfs","Name"),n=i[i.length-1].gmlVersion;t.appendChild(o),Md(o,e.name),void 0!==e.value&&null!==e.value&&(o=bu("http://www.opengis.net/wfs","Value"),t.appendChild(o),e.value instanceof ko?2===n?Id.prototype.ui(o,e.value,i):kd.prototype.Yc(o,e.value,i):Md(o,e.value))}),Native:Pu(function(t,e){e.Uq&&t.setAttribute("vendorId",e.Uq),void 0!==e.qq&&t.setAttribute("safeToIgnore",e.qq),void 0!==e.value&&Md(t,e.value)})}};function Qg(t,e,i){t={node:t};for(var o=0,n=(e=e.b).length;o<n;++o){var r=e[o];Fu(t,rm,Ou(r.rc),[r],i)}}function tm(t,e){void 0!==e.a&&t.setAttribute("matchCase",e.a.toString()),im(t,e.b),om(t,""+e.g)}function em(t,e,i){Md(t=bu("http://www.opengis.net/ogc",t),i),e.appendChild(t)}function im(t,e){em("PropertyName",t,e)}function om(t,e){em("Literal",t,e)}function nm(t,e){var i=bu("http://www.opengis.net/gml","TimeInstant");t.appendChild(i),t=bu("http://www.opengis.net/gml","timePosition"),i.appendChild(t),Md(t,e)}var rm={"http://www.opengis.net/wfs":{Query:Pu(function(t,e,i){var o=i[i.length-1],n=o.featurePrefix,r=o.featureNS,s=o.propertyNames,a=o.srsName;t.setAttribute("typeName",n?Jg(n,e):e),a&&t.setAttribute("srsName",a),r&&t.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:"+n,r),(e=it({},o)).node=t,Fu(e,Zg,Ou("PropertyName"),s,i),(o=o.filter)&&(s=bu("http://www.opengis.net/ogc","Filter"),t.appendChild(s),Fu({node:s},rm,Ou(o.rc),[o],i))})},"http://www.opengis.net/ogc":{During:Pu(function(t,e){var i=bu("http://www.opengis.net/fes","ValueReference");Md(i,e.b),t.appendChild(i),i=bu("http://www.opengis.net/gml","TimePeriod"),t.appendChild(i),t=bu("http://www.opengis.net/gml","begin"),i.appendChild(t),nm(t,e.a),t=bu("http://www.opengis.net/gml","end"),i.appendChild(t),nm(t,e.g)}),And:Pu(Qg),Or:Pu(Qg),Not:Pu(function(t,e,i){Fu({node:t},rm,Ou((e=e.condition).rc),[e],i)}),BBOX:Pu(function(t,e,i){i[i.length-1].srsName=e.srsName,im(t,e.geometryName),kd.prototype.Yc(t,e.extent,i)}),Contains:Pu(function(t,e,i){i[i.length-1].srsName=e.srsName,im(t,e.geometryName),kd.prototype.Yc(t,e.geometry,i)}),Intersects:Pu(function(t,e,i){i[i.length-1].srsName=e.srsName,im(t,e.geometryName),kd.prototype.Yc(t,e.geometry,i)}),Within:Pu(function(t,e,i){i[i.length-1].srsName=e.srsName,im(t,e.geometryName),kd.prototype.Yc(t,e.geometry,i)}),PropertyIsEqualTo:Pu(tm),PropertyIsNotEqualTo:Pu(tm),PropertyIsLessThan:Pu(tm),PropertyIsLessThanOrEqualTo:Pu(tm),PropertyIsGreaterThan:Pu(tm),PropertyIsGreaterThanOrEqualTo:Pu(tm),PropertyIsNull:Pu(function(t,e){im(t,e.b)}),PropertyIsBetween:Pu(function(t,e){im(t,e.b);var i=bu("http://www.opengis.net/ogc","LowerBoundary");t.appendChild(i),om(i,""+e.a),i=bu("http://www.opengis.net/ogc","UpperBoundary"),t.appendChild(i),om(i,""+e.g)}),PropertyIsLike:Pu(function(t,e){t.setAttribute("wildCard",e.f),t.setAttribute("singleChar",e.i),t.setAttribute("escapeChar",e.g),void 0!==e.a&&t.setAttribute("matchCase",e.a.toString()),im(t,e.b),om(t,""+e.c)})}};function sm(t){t=t||{},qu.call(this),this.b=void 0!==t.splitCollection&&t.splitCollection}function am(t){return 0===(t=t.W()).length?"":t.join(" ")}function hm(t){for(var e=[],i=0,o=(t=t.W()).length;i<o;++i)e.push(t[i].join(" "));return e.join(",")}function lm(t){for(var e=[],i=0,o=(t=t.Ud()).length;i<o;++i)e.push("("+hm(t[i])+")");return e.join(",")}function pm(t){var e=t.S(),i=(0,um[e])(t);if(e=e.toUpperCase(),t instanceof So){var o="";"XYZ"!==(t=t.ja)&&"XYZM"!==t||(o+="Z"),"XYM"!==t&&"XYZM"!==t||(o+="M"),0<(t=o).length&&(e+=" "+t)}return 0===i.length?e+" EMPTY":e+"("+i+")"}zg.prototype.s=function(t){var e=bu("http://www.opengis.net/wfs","GetFeature");if(e.setAttribute("service","WFS"),e.setAttribute("version","1.1.0"),t){t.handle&&e.setAttribute("handle",t.handle),t.outputFormat&&e.setAttribute("outputFormat",t.outputFormat),void 0!==t.maxFeatures&&e.setAttribute("maxFeatures",t.maxFeatures),t.resultType&&e.setAttribute("resultType",t.resultType),void 0!==t.startIndex&&e.setAttribute("startIndex",t.startIndex),void 0!==t.count&&e.setAttribute("count",t.count);var i=t.filter;if(t.bbox){f(t.geometryName,12);var o=Fg(t.geometryName,t.bbox,t.srsName);i=i?jg(i,o):o}}return e.setAttributeNS("http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation",this.l),i={node:e,srsName:t.srsName,featureNS:t.featureNS?t.featureNS:this.a,featurePrefix:t.featurePrefix,geometryName:t.geometryName,filter:i,propertyNames:t.propertyNames?t.propertyNames:[]},f(Array.isArray(t.featureTypes),11),t=t.featureTypes,(o=it({},(i=[i])[i.length-1])).node=e,Fu(o,rm,Ou("Query"),t,i),e},zg.prototype.v=function(t,e,i,o){var n=[],r=bu("http://www.opengis.net/wfs","Transaction"),s=o.version?o.version:"1.1.0",a="1.0.0"===s?2:3;if(r.setAttribute("service","WFS"),r.setAttribute("version",s),o){var h=o.gmlOptions?o.gmlOptions:{};o.handle&&r.setAttribute("handle",o.handle)}r.setAttributeNS("http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation",Bg[s]);var l=o.featurePrefix?o.featurePrefix:"feature";return t&&(it(s={node:r,featureNS:o.featureNS,featureType:o.featureType,featurePrefix:l,gmlVersion:a,hasZ:o.hasZ,srsName:o.srsName},h),Fu(s,$g,Ou("Insert"),t,n)),e&&(it(s={node:r,featureNS:o.featureNS,featureType:o.featureType,featurePrefix:l,gmlVersion:a,hasZ:o.hasZ,srsName:o.srsName},h),Fu(s,$g,Ou("Update"),e,n)),i&&Fu({node:r,featureNS:o.featureNS,featureType:o.featureType,featurePrefix:l,gmlVersion:a,srsName:o.srsName},$g,Ou("Delete"),i,n),o.nativeElements&&Fu({node:r,featureNS:o.featureNS,featureType:o.featureType,featurePrefix:l,gmlVersion:a,srsName:o.srsName},$g,Ou("Native"),o.nativeElements,n),r},zg.prototype.Sg=function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE)return this.uf(t);return null},zg.prototype.uf=function(t){if(t.firstElementChild&&t.firstElementChild.firstElementChild)for(t=(t=t.firstElementChild.firstElementChild).firstElementChild;t;t=t.nextElementSibling)if(0!==t.childNodes.length&&(1!==t.childNodes.length||3!==t.firstChild.nodeType)){var e=[{}];return this.b.rf(t,e),Nt(e.pop().srsName)}return null},s(sm,Rc);var um={Point:am,LineString:hm,Polygon:lm,MultiPoint:function(t){for(var e=[],i=0,o=(t=t.de()).length;i<o;++i)e.push("("+am(t[i])+")");return e.join(",")},MultiLineString:function(t){for(var e=[],i=0,o=(t=t.wd()).length;i<o;++i)e.push("("+hm(t[i])+")");return e.join(",")},MultiPolygon:function(t){for(var e=[],i=0,o=(t=t.Vd()).length;i<o;++i)e.push("("+lm(t[i])+")");return e.join(",")},GeometryCollection:function(t){for(var e=[],i=0,o=(t=t.vd()).length;i<o;++i)e.push(pm(t[i]));return e.join(",")}};function dm(t){this.g=t,this.a="XY"}function cm(t){t.b=function t(e){var i=e.a.charAt(++e.b),o={position:e.b,value:i};if("("==i)o.type=2;else if(","==i)o.type=5;else if(")"==i)o.type=3;else if("0"<=i&&"9">=i||"."==i||"-"==i){o.type=4,i=e.b;var n=!1,r=!1;do{"."==s?n=!0:"e"!=s&&"E"!=s||(r=!0);var s=e.a.charAt(++e.b)}while("0"<=s&&"9">=s||"."==s&&(void 0===n||!n)||!r&&("e"==s||"E"==s)||r&&("-"==s||"+"==s));e=parseFloat(e.a.substring(i,e.b--)),o.value=e}else if("a"<=i&&"z">=i||"A"<=i&&"Z">=i){o.type=1,i=e.b;do{s=e.a.charAt(++e.b)}while("a"<=s&&"z">=s||"A"<=s&&"Z">=s);e=e.a.substring(i,e.b--).toUpperCase(),o.value=e}else{if(" "==i||"\t"==i||"\r"==i||"\n"==i)return t(e);if(""!==i)throw Error("Unexpected character: "+i);o.type=6}return o}(t.g)}function fm(t,e){return(e=t.b.type==e)&&cm(t),e}function ym(t){for(var e=[],i=t.a.length,o=0;o<i;++o){var n=t.b;if(!fm(t,4))break;e.push(n.value)}if(e.length==i)return e;throw Error(bm(t))}function gm(t){for(var e=[ym(t)];fm(t,5);)e.push(ym(t));return e}function mm(t){for(var e=[t.Gg()];fm(t,5);)e.push(t.Gg());return e}function vm(t){var e=1==t.b.type&&"EMPTY"==t.b.value;return e&&cm(t),e}function bm(t){return"Unexpected `"+t.b.value+"` at position "+t.b.position+" in `"+t.g.a+"`"}(t=sm.prototype).fe=function(t,e){return(t=this.Gd(t,e))?((e=new ph).Va(t),e):null},t.Ng=function(t,e){var i;t=this.Gd(t,e),e=[];for(var o=0,n=(i=this.b&&"GeometryCollection"==t.S()?t.a:[t]).length;o<n;++o)(t=new ph).Va(i[o]),e.push(t);return e},t.Gd=function(t,e){return cm(t=new dm(new function(t){this.a=t,this.b=-1}(t))),(t=function t(e){var i=e.b;if(fm(e,1)){i=i.value;var o="XY",n=e.b;if(1==e.b.type&&("Z"===(n=n.value)?o="XYZ":"M"===n?o="XYM":"ZM"===n&&(o="XYZM"),"XY"!==o&&cm(e)),e.a=o,"GEOMETRYCOLLECTION"==i){t:{if(fm(e,2)){i=[];do{i.push(t(e))}while(fm(e,5));if(fm(e,3)){e=i;break t}}else if(vm(e)){e=[];break t}throw Error(bm(e))}return new Sc(e)}if(o=wm[i],!(n=xm[i])||!o)throw Error("Invalid geometry type: "+i);return new o(i=n.call(e),e.a)}throw Error(bm(e))}(t))?Wu(t,!1,e):null},t.pe=function(t,e){return(t=t.U())?this.Kd(t,e):""},t.nh=function(t,e){if(1==t.length)return this.pe(t[0],e);for(var i=[],o=0,n=t.length;o<n;++o)i.push(t[o].U());return t=new Sc(i),this.Kd(t,e)},t.Kd=function(t,e){return pm(Wu(t,!0,e))},(t=dm.prototype).Hg=function(){if(fm(this,2)){var t=ym(this);if(fm(this,3))return t}else if(vm(this))return null;throw Error(bm(this))},t.Gg=function(){if(fm(this,2)){var t=gm(this);if(fm(this,3))return t}else if(vm(this))return[];throw Error(bm(this))},t.Ig=function(){if(fm(this,2)){var t=mm(this);if(fm(this,3))return t}else if(vm(this))return[];throw Error(bm(this))},t.Hp=function(){if(fm(this,2)){var t;if(2==this.b.type)for(t=[this.Hg()];fm(this,5);)t.push(this.Hg());else t=gm(this);if(fm(this,3))return t}else if(vm(this))return[];throw Error(bm(this))},t.Gp=function(){if(fm(this,2)){var t=mm(this);if(fm(this,3))return t}else if(vm(this))return[];throw Error(bm(this))},t.Ip=function(){if(fm(this,2)){for(var t=[this.Ig()];fm(this,5);)t.push(this.Ig());if(fm(this,3))return t}else if(vm(this))return[];throw Error(bm(this))};var wm={POINT:Yo,LINESTRING:fh,POLYGON:rn,MULTIPOINT:Zu,MULTILINESTRING:Vu,MULTIPOLYGON:Ku},xm={POINT:dm.prototype.Hg,LINESTRING:dm.prototype.Gg,POLYGON:dm.prototype.Ig,MULTIPOINT:dm.prototype.Hp,MULTILINESTRING:dm.prototype.Gp,MULTIPOLYGON:dm.prototype.Ip};function _m(t){return t.getAttributeNS("http://www.w3.org/1999/xlink","href")}function Mm(){}function km(){this.version=void 0}function Sm(t,e){return Lu({},Gm,t,e)}function Cm(t,e){return Lu({},qm,t,e)}function Em(t,e){if(e=Sm(t,e))return t=[vd(t.getAttribute("width")),vd(t.getAttribute("height"))],e.size=t,e}function Tm(t,e){return Lu([],Ym,t,e)}Mm.prototype.read=function(t){return xu(t)?this.a(t):_u(t)?this.b(t):"string"==typeof t?(t=Mu(t),this.a(t)):null},s(km,Mm),km.prototype.a=function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE)return this.b(t);return null},km.prototype.b=function(t){return this.version=t.getAttribute("version").trim(),(t=Lu({version:this.version},Am,t,[]))?t:null};var Pm=[null,"http://www.opengis.net/wms"],Am=Ru(Pm,{Service:Tu(function(t,e){return Lu({},Dm,t,e)}),Capability:Tu(function(t,e){return Lu({},Om,t,e)})}),Om=Ru(Pm,{Request:Tu(function(t,e){return Lu({},Bm,t,e)}),Exception:Tu(function(t,e){return Lu([],Lm,t,e)}),Layer:Tu(function(t,e){return Lu({},jm,t,e)})}),Dm=Ru(Pm,{Name:Tu(bd),Title:Tu(bd),Abstract:Tu(bd),KeywordList:Tu(Tm),OnlineResource:Tu(_m),ContactInformation:Tu(function(t,e){return Lu({},Im,t,e)}),Fees:Tu(bd),AccessConstraints:Tu(bd),LayerLimit:Tu(md),MaxWidth:Tu(md),MaxHeight:Tu(md)}),Im=Ru(Pm,{ContactPersonPrimary:Tu(function(t,e){return Lu({},Rm,t,e)}),ContactPosition:Tu(bd),ContactAddress:Tu(function(t,e){return Lu({},Nm,t,e)}),ContactVoiceTelephone:Tu(bd),ContactFacsimileTelephone:Tu(bd),ContactElectronicMailAddress:Tu(bd)}),Rm=Ru(Pm,{ContactPerson:Tu(bd),ContactOrganization:Tu(bd)}),Nm=Ru(Pm,{AddressType:Tu(bd),Address:Tu(bd),City:Tu(bd),StateOrProvince:Tu(bd),PostCode:Tu(bd),Country:Tu(bd)}),Lm=Ru(Pm,{Format:Su(bd)}),jm=Ru(Pm,{Name:Tu(bd),Title:Tu(bd),Abstract:Tu(bd),KeywordList:Tu(Tm),CRS:Eu(bd),EX_GeographicBoundingBox:Tu(function(t,e){var i=Lu({},zm,t,e);if(i){t=i.westBoundLongitude,e=i.southBoundLatitude;var o=i.eastBoundLongitude;if(i=i.northBoundLatitude,void 0!==t&&void 0!==e&&void 0!==o&&void 0!==i)return[t,e,o,i]}}),BoundingBox:Eu(function(t){var e=[gd(t.getAttribute("minx")),gd(t.getAttribute("miny")),gd(t.getAttribute("maxx")),gd(t.getAttribute("maxy"))],i=[gd(t.getAttribute("resx")),gd(t.getAttribute("resy"))];return{crs:t.getAttribute("CRS"),extent:e,res:i}}),Dimension:Eu(function(t){return{name:t.getAttribute("name"),units:t.getAttribute("units"),unitSymbol:t.getAttribute("unitSymbol"),default:t.getAttribute("default"),multipleValues:cd(t.getAttribute("multipleValues")),nearestValue:cd(t.getAttribute("nearestValue")),current:cd(t.getAttribute("current")),values:bd(t)}}),Attribution:Tu(function(t,e){return Lu({},Fm,t,e)}),AuthorityURL:Eu(function(t,e){if(e=Sm(t,e))return e.name=t.getAttribute("name"),e}),Identifier:Eu(bd),MetadataURL:Eu(function(t,e){if(e=Sm(t,e))return e.type=t.getAttribute("type"),e}),DataURL:Eu(Sm),FeatureListURL:Eu(Sm),Style:Eu(function(t,e){return Lu({},Wm,t,e)}),MinScaleDenominator:Tu(yd),MaxScaleDenominator:Tu(yd),Layer:Eu(function(t,e){var i=e[e.length-1],o=Lu({},jm,t,e);if(o)return void 0===(e=cd(t.getAttribute("queryable")))&&(e=i.queryable),o.queryable=void 0!==e&&e,void 0===(e=vd(t.getAttribute("cascaded")))&&(e=i.cascaded),o.cascaded=e,void 0===(e=cd(t.getAttribute("opaque")))&&(e=i.opaque),o.opaque=void 0!==e&&e,void 0===(e=cd(t.getAttribute("noSubsets")))&&(e=i.noSubsets),o.noSubsets=void 0!==e&&e,(e=gd(t.getAttribute("fixedWidth")))||(e=i.fixedWidth),o.fixedWidth=e,(t=gd(t.getAttribute("fixedHeight")))||(t=i.fixedHeight),o.fixedHeight=t,["Style","CRS","AuthorityURL"].forEach(function(t){t in i&&(o[t]=(o[t]||[]).concat(i[t]))}),"EX_GeographicBoundingBox BoundingBox Dimension Attribution MinScaleDenominator MaxScaleDenominator".split(" ").forEach(function(t){t in o||(o[t]=i[t])}),o})}),Fm=Ru(Pm,{Title:Tu(bd),OnlineResource:Tu(_m),LogoURL:Tu(Em)}),zm=Ru(Pm,{westBoundLongitude:Tu(yd),eastBoundLongitude:Tu(yd),southBoundLatitude:Tu(yd),northBoundLatitude:Tu(yd)}),Bm=Ru(Pm,{GetCapabilities:Tu(Cm),GetMap:Tu(Cm),GetFeatureInfo:Tu(Cm)}),qm=Ru(Pm,{Format:Eu(bd),DCPType:Eu(function(t,e){return Lu({},Hm,t,e)})}),Hm=Ru(Pm,{HTTP:Tu(function(t,e){return Lu({},Um,t,e)})}),Um=Ru(Pm,{Get:Tu(Sm),Post:Tu(Sm)}),Wm=Ru(Pm,{Name:Tu(bd),Title:Tu(bd),Abstract:Tu(bd),LegendURL:Eu(Em),StyleSheetURL:Tu(Sm),StyleURL:Tu(Sm)}),Gm=Ru(Pm,{Format:Tu(bd),OnlineResource:Tu(_m)}),Ym=Ru(Pm,{Keyword:Su(bd)});function Vm(t){t=t||{},this.a="http://mapserver.gis.umn.edu/mapserver",this.b=new Id,this.c=t.layers?t.layers:null,ad.call(this)}function Xm(){}s(Vm,ad),Vm.prototype.Kc=function(t,e){var i={};e&&it(i,Hu(this,t,e)),i=[i],t.setAttribute("namespaceURI",this.a);var o=t.localName;if(e=[],0!==t.childNodes.length){if("msGMLOutput"==o)for(var n=0,r=t.childNodes.length;n<r;n++){var s=t.childNodes[n];if(s.nodeType===Node.ELEMENT_NODE){var a=i[0],h=s.localName.replace("_layer","");if(!this.c||Gt(this.c,h)){a.featureType=h+="_feature",a.featureNS=this.a;var l={};l[h]=Su(this.b.Kg,this.b),a=Ru([a.featureNS,null],l),s.setAttribute("namespaceURI",this.a),(s=Lu([],a,s,i,this.b))&&Vt(e,s)}}}"FeatureCollection"==o&&(t=Lu([],this.b.b,t,[{}],this.b))&&(e=t)}return e},Vm.prototype.mh=function(){},Vm.prototype.bc=function(){},Vm.prototype.re=function(){},s(Xm,Mm),Xm.prototype.a=function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE)return this.b(t);return null},Xm.prototype.b=function(t){return(t=Lu({},Km,t,[]))?t:null};var Zm=[null,"http://www.opengis.net/ows/1.1"],Km=Ru(Zm,{ServiceIdentification:Tu(function(t,e){return Lu({},hv,t,e)}),ServiceProvider:Tu(function(t,e){return Lu({},lv,t,e)}),OperationsMetadata:Tu(function(t,e){return Lu({},nv,t,e)})}),Jm=Ru(Zm,{DeliveryPoint:Tu(bd),City:Tu(bd),AdministrativeArea:Tu(bd),PostalCode:Tu(bd),Country:Tu(bd),ElectronicMailAddress:Tu(bd)}),$m=Ru(Zm,{Value:Eu(function(t){return bd(t)})}),Qm=Ru(Zm,{AllowedValues:Tu(function(t,e){return Lu({},$m,t,e)})}),tv=Ru(Zm,{Phone:Tu(function(t,e){return Lu({},rv,t,e)}),Address:Tu(function(t,e){return Lu({},Jm,t,e)})}),ev=Ru(Zm,{HTTP:Tu(function(t,e){return Lu({},iv,t,e)})}),iv=Ru(Zm,{Get:Eu(function(t,e){var i=_m(t);if(i)return Lu({href:i},sv,t,e)}),Post:void 0}),ov=Ru(Zm,{DCP:Tu(function(t,e){return Lu({},ev,t,e)})}),nv=Ru(Zm,{Operation:function(t,e){var i=t.getAttribute("name");(t=Lu({},ov,t,e))&&(e[e.length-1][i]=t)}}),rv=Ru(Zm,{Voice:Tu(bd),Facsimile:Tu(bd)}),sv=Ru(Zm,{Constraint:Eu(function(t,e){var i=t.getAttribute("name");if(i)return Lu({name:i},Qm,t,e)})}),av=Ru(Zm,{IndividualName:Tu(bd),PositionName:Tu(bd),ContactInfo:Tu(function(t,e){return Lu({},tv,t,e)})}),hv=Ru(Zm,{Abstract:Tu(bd),AccessConstraints:Tu(bd),Fees:Tu(bd),Title:Tu(bd),ServiceTypeVersion:Tu(bd),ServiceType:Tu(bd)}),lv=Ru(Zm,{ProviderName:Tu(bd),ProviderSite:Tu(_m),ServiceContact:Tu(function(t,e){return Lu({},av,t,e)})});function pv(){this.g=new Xm}function uv(t){var e=bd(t).split(" ");if(e&&2==e.length&&(t=+e[0],e=+e[1],!isNaN(t)&&!isNaN(e)))return[t,e]}s(pv,Mm),pv.prototype.a=function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE)return this.b(t);return null},pv.prototype.b=function(t){var e=t.getAttribute("version").trim(),i=this.g.b(t);return i?(i.version=e,(i=Lu(i,fv,t,[]))?i:null):null};var dv=[null,"http://www.opengis.net/wmts/1.0"],cv=[null,"http://www.opengis.net/ows/1.1"],fv=Ru(dv,{Contents:Tu(function(t,e){return Lu({},yv,t,e)})}),yv=Ru(dv,{Layer:Eu(function(t,e){return Lu({},gv,t,e)}),TileMatrixSet:Eu(function(t,e){return Lu({},Mv,t,e)})}),gv=Ru(dv,{Style:Eu(function(t,e){if(e=Lu({},mv,t,e))return t="true"===t.getAttribute("isDefault"),e.isDefault=t,e}),Format:Eu(bd),TileMatrixSetLink:Eu(function(t,e){return Lu({},vv,t,e)}),Dimension:Eu(function(t,e){return Lu({},xv,t,e)}),ResourceURL:Eu(function(t){var e=t.getAttribute("format"),i=t.getAttribute("template");t=t.getAttribute("resourceType");var o={};return e&&(o.format=e),i&&(o.template=i),t&&(o.resourceType=t),o})},Ru(cv,{Title:Tu(bd),Abstract:Tu(bd),WGS84BoundingBox:Tu(function(t,e){if(2==(t=Lu([],_v,t,e)).length)return S(t)}),Identifier:Tu(bd)})),mv=Ru(dv,{LegendURL:Eu(function(t){var e={};return e.format=t.getAttribute("format"),e.href=_m(t),e})},Ru(cv,{Title:Tu(bd),Identifier:Tu(bd)})),vv=Ru(dv,{TileMatrixSet:Tu(bd),TileMatrixSetLimits:Tu(function(t,e){return Lu([],bv,t,e)})}),bv=Ru(dv,{TileMatrixLimits:Su(function(t,e){return Lu({},wv,t,e)})}),wv=Ru(dv,{TileMatrix:Tu(bd),MinTileRow:Tu(md),MaxTileRow:Tu(md),MinTileCol:Tu(md),MaxTileCol:Tu(md)}),xv=Ru(dv,{Default:Tu(bd),Value:Eu(bd)},Ru(cv,{Identifier:Tu(bd)})),_v=Ru(cv,{LowerCorner:Su(uv),UpperCorner:Su(uv)}),Mv=Ru(dv,{WellKnownScaleSet:Tu(bd),TileMatrix:Eu(function(t,e){return Lu({},kv,t,e)})},Ru(cv,{SupportedCRS:Tu(bd),Identifier:Tu(bd)})),kv=Ru(dv,{TopLeftCorner:Tu(uv),ScaleDenominator:Tu(yd),TileWidth:Tu(md),TileHeight:Tu(md),MatrixWidth:Tu(md),MatrixHeight:Tu(md)},Ru(cv,{Identifier:Tu(bd)}));function Sv(t,e,i){So.call(this),this.hh(t,e||0,i)}function Cv(t){var e=t.A[t.a]-t.A[0];return e*e+(t=t.A[t.a+1]-t.A[1])*t}function Ev(t){t=t||{},Yn.call(this,{handleEvent:ho}),this.j=t.formatConstructors?t.formatConstructors:[],this.s=t.projection?Nt(t.projection):null,this.a=null,this.f=t.source||null,this.target=t.target?t.target:null}function Tv(t){var e,i=0;for(e=(t=t.dataTransfer.files).length;i<e;++i){var o=t.item(i),n=new FileReader;n.addEventListener("load",this.l.bind(this,o)),n.readAsText(o)}}function Pv(t){t.stopPropagation(),t.preventDefault(),t.dataTransfer.dropEffect="copy"}function Av(t){var e=t.v;e&&(t.a=[ge(e=t.target?t.target:e.a,"drop",Tv,t),ge(e,"dragenter",Pv,t),ge(e,"dragover",Pv,t),ge(e,"drop",Pv,t)])}function Ov(t){t.a&&(t.a.forEach(be),t.a=null)}s(Sv,So),(t=Sv.prototype).clone=function(){var t=new Sv(null);return Eo(t,this.ja,this.A.slice()),t.u(),t},t.Nb=function(t,e,i,o){var n=this.A,r=e-n[1];if((e=(t-=n[0])*t+r*r)<o){if(0===e)for(o=0;o<this.a;++o)i[o]=n[o];else for(o=this.Bd()/Math.sqrt(e),i[0]=n[0]+o*t,i[1]=n[1]+o*r,o=2;o<this.a;++o)i[o]=n[o];return i.length=this.a,e}return o},t.Zc=function(t,e){var i=this.A;return(t-=i[0])*t+(e-=i[1])*e<=Cv(this)},t.xa=function(){return this.A.slice(0,this.a)},t.Ae=function(t){var e=this.A,i=e[this.a]-e[0];return I(e[0]-i,e[1]-i,e[0]+i,e[1]+i,t)},t.Bd=function(){return Math.sqrt(Cv(this))},t.S=function(){return"Circle"},t.$a=function(t){var e=this.G();return!!$(t,e)&&(e=this.xa(),t[0]<=e[0]&&t[2]>=e[0]||t[1]<=e[1]&&t[3]>=e[1]||q(t,this.Bb,this))},t.ub=function(t){var e,i=this.a,o=t.slice();for(o[i]=o[0]+(this.A[i]-this.A[0]),e=1;e<i;++e)o[i+e]=t[e];Eo(this,this.ja,o),this.u()},t.hh=function(t,e,i){if(t){var o;for(To(this,i,t,0),this.A||(this.A=[]),t=Lo(i=this.A,t),i[t++]=i[0]+e,e=1,o=this.a;e<o;++e)i[t++]=i[e];i.length=t}else Eo(this,"XY",null);this.u()},t.W=function(){},t.na=function(){},t.fd=function(t){this.A[this.a]=this.A[0]+t,this.u()},s(Ev,Yn),Ev.prototype.l=function(t,e){e=e.target.result;var i=this.v,o=this.s;o||(o=i.aa().v);var n,r=[],s=0;for(n=(i=this.j).length;s<n;++s){var a=new i[s],h={featureProjection:o};try{r=a.Qa(e,h)}catch(t){r=null}if(r&&0<r.length)break}this.f&&(this.f.clear(),this.f.Qc(r)),this.b(new Iv(Dv,t,r,o))},Ev.prototype.Ha=function(t){Yn.prototype.Ha.call(this,t),t?Av(this):Ov(this)},Ev.prototype.setMap=function(t){Ov(this),Yn.prototype.setMap.call(this,t),this.c()&&Av(this)};var Dv="addfeatures";function Iv(t,e,i,o){Me.call(this,t),this.features=i,this.file=e,this.projection=o}function Rv(t){t=t||{},hr.call(this,{handleDownEvent:jv,handleDragEvent:Nv,handleUpEvent:Lv}),this.s=t.condition?t.condition:nr,this.a=this.f=void 0,this.j=0,this.o=void 0!==t.duration?t.duration:400}function Nv(t){if(sr(t)){var e=t.map,i=e.Cb(),o=t.pixel;t=o[0]-i[0]/2,o=i[1]/2-o[1],i=Math.atan2(o,t),t=Math.sqrt(t*t+o*o),(e=e.aa()).l.rotation!==Ui&&void 0!==this.f&&(o=i-this.f,Vn(e,e.Sa()-o)),this.f=i,void 0!==this.a&&Zn(e,i=this.a*(e.Pa()/t)),void 0!==this.a&&(this.j=this.a/t),this.a=t}}function Lv(t){if(!sr(t))return!0;mn(t=t.map.aa(),1,-1);var e=this.j-1,i=t.Sa();Vn(t,i=t.constrainRotation(i,0),void 0,void 0),i=t.Pa();var o=this.o;return Zn(t,i=t.constrainResolution(i,0,e),void 0,o),this.j=0,!1}function jv(t){return!(!sr(t)||!this.s(t)||(mn(t.map.aa(),1,1),this.a=this.f=void 0,0))}function Fv(t){var e=it({},t=t||{});delete e.style,delete e.renderBuffer,delete e.updateWhileAnimating,delete e.updateWhileInteracting,Nn.call(this,e),this.D=void 0!==t.declutter&&t.declutter,this.f=void 0!==t.renderBuffer?t.renderBuffer:100,this.C=null,this.V=void 0,this.j(t.style),this.ca=void 0!==t.updateWhileAnimating&&t.updateWhileAnimating,this.ra=void 0!==t.updateWhileInteracting&&t.updateWhileInteracting,this.l=t.renderMode||"vector",this.type="VECTOR"}s(Iv,Me),s(Rv,hr),s(Fv,Nn),Fv.prototype.B=function(){return this.C},Fv.prototype.ib=function(){return this.V},Fv.prototype.j=function(t){this.C=void 0!==t?t:ah,this.V=null===t?void 0:rh(this.C),this.u()};var zv="renderOrder";function Bv(){return[[-1/0,-1/0,1/0,1/0]]}function qv(t){Te.call(this),this.c=Nt(t.projection),this.v=null,this.C=Hv(this,t.attributions),this.T=t.logo,this.ra=void 0!==t.state?t.state:"ready",this.D=void 0!==t.wrapX&&t.wrapX}function Hv(t,e){if(!e)return null;if(e instanceof ue)return t.v=[e],function(){return[e.og]};if(Array.isArray(e)){if(e[0]instanceof ue){t.v=e;var i=e.map(function(t){return t.og});return function(){return i}}return t.v=e.map(function(t){return new ue({html:t})}),function(){return e}}return"function"==typeof e?e:(t.v=[new ue({html:e})],function(){return[e]})}function Uv(t,e){t.ra=e,t.u()}function Wv(t){qv.call(this,{attributions:(t=t||{}).attributions,logo:t.logo,projection:void 0,state:"ready",wrapX:void 0===t.wrapX||t.wrapX}),this.o=a,this.O=t.format,this.$=void 0==t.overlaps||t.overlaps,this.V=t.url,void 0!==t.loader?this.o=t.loader:void 0!==this.V&&(f(this.O,7),this.o=Bu(this.V,this.O)),this.ca=void 0!==t.strategy?t.strategy:Bv;var e=void 0===t.useSpatialIndex||t.useSpatialIndex;if(this.a=e?new jl:null,this.B=new jl,this.f={},this.j={},this.l={},this.s={},this.i=null,t.features instanceof Ie)var i=t.features,o=i.a;else Array.isArray(t.features)&&(o=t.features);e||void 0!==i||(i=new Ie(o)),void 0!==o&&Vv(this,o),void 0!==i&&function(t,e){var i=!1;ge(t,"addfeature",function(t){i||(i=!0,e.push(t.feature),i=!1)}),ge(t,"removefeature",function(t){i||(i=!0,e.remove(t.feature),i=!1)}),ge(e,"add",function(t){i||(i=!0,this.Gb(t.element),i=!1)},t),ge(e,"remove",function(t){i||(i=!0,this.Lb(t.element),i=!1)},t),t.i=e}(this,i)}function Gv(t,e,i){t.s[e]=[ge(i,"change",t.gj,t),ge(i,"propertychange",t.gj,t)]}function Yv(t,e,i){var o=!0,n=i.c;return void 0!==n?n.toString()in t.j?o=!1:t.j[n.toString()]=i:(f(!(e in t.l),30),t.l[e]=i),o}function Vv(t,e){var i,o=[],n=[],r=[],s=0;for(i=e.length;s<i;s++){var a=e[s],l=h(a).toString();Yv(t,l,a)&&n.push(a)}for(s=0,i=n.length;s<i;s++)Gv(t,l=h(a=n[s]).toString(),a),(e=a.U())?(l=e.G(),o.push(l),r.push(a)):t.f[l]=a;for(t.a&&t.a.load(o,r),s=0,i=n.length;s<i;s++)t.b(new Zv("addfeature",n[s]))}function Xv(t,e){for(var i in t.j)if(t.j[i]===e){delete t.j[i];break}}function Zv(t,e){Me.call(this,t),this.feature=e}function Kv(t){hr.call(this,{handleDownEvent:$v,handleEvent:Jv,handleUpEvent:Qv}),this.V=!1,this.ca=null,this.o=!1,this.ob=t.source?t.source:null,this.La=t.features?t.features:null,this.Xk=t.snapTolerance?t.snapTolerance:12,this.O=t.type,this.f=function(t){var e;return"Point"===t||"MultiPoint"===t?e=sb:"LineString"===t||"MultiLineString"===t?e=ab:"Polygon"===t||"MultiPolygon"===t?e=hb:"Circle"===t&&(e=lb),e}(this.O),this.$k=!!t.stopClick,this.Ea=t.minPoints?t.minPoints:this.f===hb?3:2,this.ua=t.maxPoints?t.maxPoints:1/0,this.Md=t.finishCondition?t.finishCondition:ho;var e=t.geometryFunction;if(!e)if("Circle"===this.O)e=function(t,e){return(e=e||new Sv([NaN,NaN])).hh(t[0],Math.sqrt(to(t[0],t[1]))),e};else{var i,o=this.f;o===sb?i=Yo:o===ab?i=fh:o===hb&&(i=rn),e=function(t,e){return e?e.na(o===hb?t[0].length?[t[0].concat([t[0][0]])]:[]:t):e=new i(t),e}}this.cb=e,this.T=this.C=this.a=this.B=this.j=this.s=null,this.sc=t.clickTolerance?t.clickTolerance*t.clickTolerance:36,this.ra=new Fv({source:new Wv({useSpatialIndex:!1,wrapX:!!t.wrapX&&t.wrapX}),style:t.style?t.style:function(){var t=hh();return function(e){return t[e.U().S()]}}()}),this.bb=t.geometryName,this.Wk=t.condition?t.condition:or,this.If=t.freehand?ho:t.freehandCondition?t.freehandCondition:nr,ge(this,Ae("active"),this.Ki,this)}function Jv(t){this.o=this.f!==sb&&this.If(t);var e=!0;return this.o&&"pointerdrag"===t.type&&null!==this.j?(ob(this,t),e=!1):this.o&&"pointerdown"===t.type?e=!1:"pointermove"===t.type?e=tb(this,t):"dblclick"===t.type&&(e=!1),pr.call(this,t)&&e}function $v(t){return this.V=!this.o,this.o?(this.ca=t.pixel,this.s||ib(this,t),!0):!!this.Wk(t)&&(this.ca=t.pixel,!0)}function Qv(t){var e=!0;return tb(this,t),this.V?(this.s?this.o||this.f===lb?this.Pd():eb(this,t)?this.Md(t)&&this.Pd():ob(this,t):(ib(this,t),this.f===sb&&this.Pd()),e=!1):this.o&&(this.s=null,nb(this)),!e&&this.$k&&t.stopPropagation(),e}function tb(t,e){if(t.ca&&(!t.o&&t.V||t.o&&!t.V)){var i=t.ca,o=e.pixel,n=i[0]-o[0];n=n*n+(i=i[1]-o[1])*i,t.V=t.o?n>t.sc:n<=t.sc}return t.s?(n=e.coordinate,i=t.j.U(),t.f===sb?o=t.a:t.f===hb?(o=(o=t.a[0])[o.length-1],eb(t,e)&&(n=t.s.slice())):o=(o=t.a)[o.length-1],o[0]=n[0],o[1]=n[1],t.cb(t.a,i),t.B&&t.B.U().na(n),i instanceof rn&&t.f!==hb?(t.C||(t.C=new ph(new fh(null))),n=i.Wh(0),(e=t.C.U()).ba(n.ja,n.da())):t.T&&(e=t.C.U()).na(t.T),rb(t)):(e=e.coordinate.slice(),t.B?t.B.U().na(e):(t.B=new ph(new Yo(e)),rb(t))),!0}function eb(t,e){var i=!1;if(t.j){var o=!1,n=[t.s];if(t.f===ab?o=t.a.length>t.Ea:t.f===hb&&(o=t.a[0].length>t.Ea,n=[t.a[0][0],t.a[0][t.a[0].length-2]]),o){o=e.map;for(var r=0,s=n.length;r<s;r++){var a=n[r],h=o.Ia(a),l=e.pixel;if(i=l[0]-h[0],h=l[1]-h[1],i=Math.sqrt(i*i+h*h)<=(t.o?1:t.Xk)){t.s=a;break}}}}return i}function ib(t,e){t.s=e=e.coordinate,t.f===sb?t.a=e.slice():t.f===hb?(t.a=[[e.slice(),e.slice()]],t.T=t.a[0]):(t.a=[e.slice(),e.slice()],t.f===lb&&(t.T=t.a)),t.T&&(t.C=new ph(new fh(t.T))),e=t.cb(t.a),t.j=new ph,t.bb&&t.j.Lc(t.bb),t.j.Va(e),rb(t),t.b(new pb("drawstart",t.j))}function ob(t,e){e=e.coordinate;var i,o=t.j.U();if(t.f===ab){t.s=e.slice();var n=t.a;n.length>=t.ua&&(t.o?n.pop():i=!0),n.push(e.slice()),t.cb(n,o)}else t.f===hb&&((n=t.a[0]).length>=t.ua&&(t.o?n.pop():i=!0),n.push(e.slice()),i&&(t.s=n[0]),t.cb(t.a,o));rb(t),i&&t.Pd()}function nb(t){t.s=null;var e=t.j;return e&&(t.j=null,t.B=null,t.C=null,t.ra.ha().clear(!0)),e}function rb(t){var e=[];t.j&&e.push(t.j),t.C&&e.push(t.C),t.B&&e.push(t.B),(t=t.ra.ha()).clear(!0),t.Qc(e)}s(qv,Te),(t=qv.prototype).wa=a,t.za=function(){return this.v},t.Aa=function(){return this.T},t.Da=function(){return this.c},t.getState=function(){return this.ra},t.sa=function(){this.u()},t.va=function(t){this.C=Hv(this,t),this.u()},s(Wv,qv),(t=Wv.prototype).Gb=function(t){var e=h(t).toString();if(Yv(this,e,t)){Gv(this,e,t);var i=t.U();i?(e=i.G(),this.a&&this.a.Ca(e,t)):this.f[e]=t,this.b(new Zv("addfeature",t))}this.u()},t.Qc=function(t){Vv(this,t),this.u()},t.clear=function(t){if(t){for(var e in this.s)this.s[e].forEach(be);this.i||(this.s={},this.j={},this.l={})}else if(this.a)for(var i in this.a.forEach(this.Yg,this),this.f)this.Yg(this.f[i]);this.i&&this.i.clear(),this.a&&this.a.clear(),this.B.clear(),this.f={},this.b(new Zv("clear")),this.u()},t.Lh=function(t,e){return this.a?this.a.forEach(t,e):this.i?this.i.forEach(t,e):void 0},t.ec=function(t,e,i){return this.a?ql(this.a,t,e,i):this.i?this.i.forEach(e,i):void 0},t.Mh=function(t,e,i){return this.ec(t,function(o){if(o.U().$a(t)&&(o=e.call(i,o)))return o})},t.Th=function(){return this.i},t.ee=function(){if(this.i)var t=this.i.a;else this.a&&(t=zl(this.a),rt(this.f)||Vt(t,nt(this.f)));return t},t.Sh=function(t){var e=[];return function(t,e,i){t.ec([e[0],e[1],e[0],e[1]],function(t){if(t.U().Bb(e))return i.call(void 0,t)})}(this,t,function(t){e.push(t)}),e},t.Yf=function(t){return Bl(this.a,t)},t.Oh=function(t,e){var i=t[0],o=t[1],n=null,r=[NaN,NaN],s=1/0,a=[-1/0,-1/0,1/0,1/0],h=e||ho;return ql(this.a,a,function(t){if(h(t)){var e=t.U(),l=s;(s=e.Nb(i,o,r,s))<l&&(n=t,t=Math.sqrt(s),a[0]=i-t,a[1]=o-t,a[2]=i+t,a[3]=o+t)}}),n},t.G=function(t){return this.a.G(t)},t.Rh=function(t){return void 0!==(t=this.j[t.toString()])?t:null},t.ej=function(){return this.O},t.fj=function(){return this.V},t.gj=function(t){var e=h(t=t.target).toString(),i=t.U();i?(i=i.G(),e in this.f?(delete this.f[e],this.a&&this.a.Ca(i,t)):this.a&&Fl(this.a,i,t)):e in this.f||(this.a&&this.a.remove(t),this.f[e]=t),void 0!==(i=t.c)?(i=i.toString(),e in this.l?(delete this.l[e],this.j[i]=t):this.j[i]!==t&&(Xv(this,t),this.j[i]=t)):e in this.l||(Xv(this,t),this.l[e]=t),this.u(),this.b(new Zv("changefeature",t))},t.ae=function(t,e,i){var o,n=this.B,r=0;for(o=(t=this.ca(t,e)).length;r<o;++r){var s=t[r];ql(n,s,function(t){return A(t.extent,s)})||(this.o.call(this,s,e,i),n.Ca(s,{extent:s.slice()}))}},t.Cj=function(t){var e,i=this.B;ql(i,t,function(i){if(j(i.extent,t))return e=i,!0}),e&&i.remove(e)},t.Lb=function(t){var e=h(t).toString();e in this.f?delete this.f[e]:this.a&&this.a.remove(t),this.Yg(t),this.u()},t.Yg=function(t){var e=h(t).toString();this.s[e].forEach(be),delete this.s[e];var i=t.c;void 0!==i?delete this.j[i.toString()]:delete this.l[e],this.b(new Zv("removefeature",t))},t.hj=function(t){this.o=t},s(Zv,Me),s(Kv,hr),(t=Kv.prototype).setMap=function(t){hr.prototype.setMap.call(this,t),this.Ki()},t.nq=function(){if(this.j){var t=this.j.U();if(this.f===ab){var e=this.a;e.splice(-2,1),this.cb(e,t),2<=e.length&&(this.s=e[e.length-2].slice())}else this.f===hb&&((e=this.a[0]).splice(-2,1),this.C.U().na(e),this.cb(this.a,t));0===e.length&&(this.s=null),rb(this)}},t.Pd=function(){var t=nb(this),e=this.a,i=t.U();this.f===ab?(e.pop(),this.cb(e,i)):this.f===hb&&(e[0].pop(),this.cb(e,i),e=i.W()),"MultiPoint"===this.O?t.Va(new Zu([e])):"MultiLineString"===this.O?t.Va(new Vu([e])):"MultiPolygon"===this.O&&t.Va(new Ku([e])),this.b(new pb("drawend",t)),this.La&&this.La.push(t),this.ob&&this.ob.Gb(t)},t.Zn=function(t){var e=t.U();this.j=t,this.a=e.W(),this.s=(t=this.a[this.a.length-1]).slice(),this.a.push(t.slice()),rb(this),this.b(new pb("drawstart",this.j))},t.jd=lo,t.Ki=function(){var t=this.v,e=this.c();t&&e||nb(this),this.ra.setMap(e?t:null)};var sb="Point",ab="LineString",hb="Polygon",lb="Circle";function pb(t,e){Me.call(this,t),this.feature=e}function ub(t){var e=t||{};this.a=this.j=null,this.C=void 0!==e.pixelTolerance?e.pixelTolerance:10,this.B=!1,this.T=this.s=null,t||(t={}),hr.call(this,{handleDownEvent:cb,handleDragEvent:fb,handleEvent:db,handleUpEvent:yb}),this.o=new Fv({source:new Wv({useSpatialIndex:!1,wrapX:!!t.wrapX}),style:t.boxStyle?t.boxStyle:function(){var t=hh();return function(){return t.Polygon}}(),updateWhileAnimating:!0,updateWhileInteracting:!0}),this.O=new Fv({source:new Wv({useSpatialIndex:!1,wrapX:!!t.wrapX}),style:t.pointerStyle?t.pointerStyle:function(){var t=hh();return function(){return t.Point}}(),updateWhileAnimating:!0,updateWhileInteracting:!0}),t.extent&&this.f(t.extent)}function db(t){if(!(t instanceof ai))return!0;if("pointermove"==t.type&&!this.D){var e=t.pixel,i=t.map,o=vb(this,e,i);o||(o=i.Ra(e)),bb(this,o)}return pr.call(this,t),!1}function cb(t){function e(t){var e=null,i=null;return t[0]==n[0]?e=n[2]:t[0]==n[2]&&(e=n[0]),t[1]==n[1]?i=n[3]:t[1]==n[3]&&(i=n[1]),null!==e&&null!==i?[e,i]:null}var i=t.pixel,o=t.map,n=this.G();return(t=vb(this,i,o))&&n?(i=t[0]==n[0]||t[0]==n[2]?t[0]:null,o=t[1]==n[1]||t[1]==n[3]?t[1]:null,null!==i&&null!==o?this.a=gb(e(t)):null!==i?this.a=mb(e([i,n[1]]),e([i,n[3]])):null!==o&&(this.a=mb(e([n[0],o]),e([n[2],o])))):(t=o.Ra(i),this.f([t[0],t[1],t[0],t[1]]),this.a=gb(t)),!0}function fb(t){return this.a&&(this.f(this.a(t=t.coordinate)),bb(this,t)),!0}function yb(){this.a=null;var t=this.G();return t&&0!==H(t)||this.f(null),!1}function gb(t){return function(e){return S([t,e])}}function mb(t,e){return t[0]==e[0]?function(i){return S([t,[i[0],e[1]]])}:t[1]==e[1]?function(i){return S([t,[e[0],i[1]]])}:null}function vb(t,e,i){var o=i.Ra(e),n=t.G();if(n){(n=[[[n[0],n[1]],[n[0],n[3]]],[[n[0],n[3]],[n[2],n[3]]],[[n[2],n[3]],[n[2],n[1]]],[[n[2],n[1]],[n[0],n[1]]]]).sort(function(t,e){return io(o,t)-io(o,e)});var r=Xi(o,n=n[0]),s=i.Ia(r);if(eo(e,s)<=t.C)return e=i.Ia(n[0]),i=i.Ia(n[1]),e=to(s,e),i=to(s,i),t.B=Math.sqrt(Math.min(e,i))<=t.C,t.B&&(r=e>i?n[1]:n[0]),r}return null}function bb(t,e){var i=t.T;i?i.U().na(e):(i=new ph(new Yo(e)),t.T=i,t.O.ha().Gb(i))}function wb(t){Me.call(this,"extentchanged"),this.extent=t}function xb(t){if(hr.call(this,{handleDownEvent:Cb,handleDragEvent:Eb,handleEvent:Pb,handleUpEvent:Tb}),this.Md=t.condition?t.condition:ar,this.bb=function(t){return $n(t)&&ir(t)},this.ob=t.deleteCondition?t.deleteCondition:this.bb,this.sc=t.insertVertexCondition?t.insertVertexCondition:ho,this.La=this.f=null,this.Ea=[0,0],this.C=this.T=!1,this.a=new jl,this.ra=void 0!==t.pixelTolerance?t.pixelTolerance:10,this.s=this.ua=!1,this.j=[],this.B=new Fv({source:new Wv({useSpatialIndex:!1,wrapX:!!t.wrapX}),style:t.style?t.style:function(){var t=hh();return function(){return t.Point}}(),updateWhileAnimating:!0,updateWhileInteracting:!0}),this.ca={Point:this.io,LineString:this.Mi,LinearRing:this.Mi,Polygon:this.jo,MultiPoint:this.fo,MultiLineString:this.eo,MultiPolygon:this.ho,Circle:this.bo,GeometryCollection:this.co},this.V=null,t.source?(this.V=t.source,t=new Ie(this.V.ee()),ge(this.V,"addfeature",this.vm,this),ge(this.V,"removefeature",this.xm,this)):t=t.features,!t)throw Error("The modify interaction requires features or a source");this.o=t,this.o.forEach(this.xg,this),ge(this.o,"add",this.$n,this),ge(this.o,"remove",this.ao,this),this.O=null}function _b(t,e){t.C||(t.C=!0,t.b(new Rb("modifystart",t.o,e)))}function Mb(t,e){!function(t,e){var i=[];(t=t.a).forEach(function(t){e===t.feature&&i.push(t)});for(var o=i.length-1;0<=o;--o)t.remove(i[o])}(t,e),t.f&&0===t.o.kc()&&(t.B.ha().Lb(t.f),t.f=null),ve(e,"change",t.Li,t)}function kb(t,e){var i=t.f;i?i.U().na(e):(i=new ph(new Yo(e)),t.f=i,t.B.ha().Gb(i))}function Sb(t,e){return t.index-e.index}function Cb(t){if(!this.Md(t))return!1;Ab(this,t.pixel,t.map);var e=t.map.Ra(t.pixel);this.j.length=0,this.C=!1;var i=this.f;if(i){var o=[],n=S([i=i.U().W()]),r={};(n=Bl(this.a,n)).sort(Sb);for(var s=0,a=n.length;s<a;++s){var l=n[s],p=l.ma,u=h(l.feature),d=l.depth;d&&(u+="-"+d.join("-")),r[u]||(r[u]=Array(2)),"Circle"===l.geometry.S()&&1===l.index?Ji(p=Db(e,l),i)&&!r[u][0]&&(this.j.push([l,0]),r[u][0]=l):Ji(p[0],i)&&!r[u][0]?(this.j.push([l,0]),r[u][0]=l):Ji(p[1],i)&&!r[u][1]?("LineString"!==l.geometry.S()&&"MultiLineString"!==l.geometry.S()||!r[u][0]||0!==r[u][0].index)&&(this.j.push([l,1]),r[u][1]=l):this.sc(t)&&h(p)in this.La&&!r[u][0]&&!r[u][1]&&o.push([l,i])}for(o.length&&_b(this,t),t=o.length-1;0<=t;--t)this.Em.apply(this,o[t])}return!!this.f}function Eb(t){this.T=!1,_b(this,t),t=t.coordinate;for(var e=0,i=this.j.length;e<i;++e){var o=this.j[e],n=o[0],r=n.depth,s=n.geometry,a=n.ma;for(o=o[1];t.length<s.pa();)t.push(a[o][t.length]);switch(s.S()){case"Point":var h=t;a[0]=a[1]=t;break;case"MultiPoint":(h=s.W())[n.index]=t,a[0]=a[1]=t;break;case"LineString":(h=s.W())[n.index+o]=t,a[o]=t;break;case"MultiLineString":case"Polygon":(h=s.W())[r[0]][n.index+o]=t,a[o]=t;break;case"MultiPolygon":(h=s.W())[r[1]][r[0]][n.index+o]=t,a[o]=t;break;case"Circle":a[0]=a[1]=t,0===n.index?(this.s=!0,s.ub(t)):(this.s=!0,s.fd(eo(s.xa(),t))),this.s=!1}h&&(n=s,r=h,this.s=!0,n.na(r),this.s=!1)}kb(this,t)}function Tb(t){for(var e,i,o=this.j.length-1;0<=o;--o)if("Circle"===(i=(e=this.j[o][0]).geometry).S()){var n=i.xa(),r=e.Tf[0];e=e.Tf[1],r.ma[0]=r.ma[1]=n,e.ma[0]=e.ma[1]=n,Fl(this.a,N(n),r),Fl(this.a,i.G(),e)}else Fl(this.a,S(e.ma),e);return this.C&&(this.b(new Rb("modifyend",this.o,t)),this.C=!1),!1}function Pb(t){return!(t instanceof ai)||(this.O=t,t.map.aa().Vh()||"pointermove"!=t.type||this.D||(this.Ea=t.pixel,Ab(this,t.pixel,t.map)),this.f&&this.ob(t)&&(e=!("singleclick"!=t.type||!this.T)||this.Dj()),"singleclick"==t.type&&(this.T=!1),pr.call(this,t)&&!e);var e}function Ab(t,e,i){var o=i.Ra(e),n=C(N(o),i.aa().Pa()*t.ra);if(0<(n=Bl(t.a,n)).length){n.sort(function(t,e){return Ob(o,t)-Ob(o,e)});var r=n[0],s=r.ma,a=Db(o,r),l=i.Ia(a),p=eo(e,l);if(p<=t.ra){if(e={},"Circle"===r.geometry.S()&&1===r.index)t.ua=!0,kb(t,a);else for(p=i.Ia(s[0]),r=i.Ia(s[1]),i=to(l,p),l=to(l,r),p=Math.sqrt(Math.min(i,l)),t.ua=p<=t.ra,t.ua&&(a=i>l?s[1]:s[0]),kb(t,a),l=1,i=n.length;l<i&&(Ji(s[0],(a=n[l].ma)[0])&&Ji(s[1],a[1])||Ji(s[0],a[1])&&Ji(s[1],a[0]));++l)e[h(a)]=!0;return e[h(s)]=!0,void(t.La=e)}}t.f&&(t.B.ha().Lb(t.f),t.f=null)}function Ob(t,e){var i=e.geometry;return"Circle"===i.S()&&1===e.index?(t=to(i.xa(),t),(i=Math.sqrt(t)-i.Bd())*i):io(t,e.ma)}function Db(t,e){var i=e.geometry;return"Circle"===i.S()&&1===e.index?i.Ib(t):Xi(t,e.ma)}function Ib(t,e,i,o,n){ql(t.a,e.G(),function(t){t.geometry===e&&(void 0===o||void 0===t.depth||Zt(t.depth,o))&&t.index>i&&(t.index+=n)})}function Rb(t,e,i){Me.call(this,t),this.features=e,this.mapBrowserEvent=i}function Nb(t){if(Yn.call(this,{handleEvent:Lb}),this.C=(t=t||{}).condition?t.condition:ir,this.D=t.addCondition?t.addCondition:lo,this.B=t.removeCondition?t.removeCondition:lo,this.T=t.toggleCondition?t.toggleCondition:nr,this.s=!!t.multi&&t.multi,this.l=t.filter?t.filter:ho,this.j=t.hitTolerance?t.hitTolerance:0,this.f=new Fv({source:new Wv({useSpatialIndex:!1,features:t.features,wrapX:t.wrapX}),style:t.style?t.style:function(){var t=hh();return Vt(t.Polygon,t.LineString),Vt(t.GeometryCollection,t.LineString),function(e){return e.U()?t[e.U().S()]:null}}(),updateWhileAnimating:!0,updateWhileInteracting:!0}),t.layers)if("function"==typeof t.layers)t=t.layers;else{var e=t.layers;t=function(t){return Gt(e,t)}}else t=ho;this.o=t,this.a={},ge(t=this.f.ha().i,"add",this.ko,this),ge(t,"remove",this.oo,this)}function Lb(t){if(!this.C(t))return!0;var e=this.D(t),i=this.B(t),o=this.T(t),n=!e&&!i&&!o,r=t.map,s=this.f.ha().i,a=[],l=[];if(n){for(ot(this.a),r.Tc(t.pixel,(function(t,e){if(this.l(t,e))return l.push(t),t=h(t),this.a[t]=e,!this.s}).bind(this),{layerFilter:this.o,hitTolerance:this.j}),n=s.kc()-1;0<=n;--n){r=s.item(n);var p=l.indexOf(r);-1<p?l.splice(p,1):(s.remove(r),a.push(r))}0!==l.length&&s.qg(l)}else{for(r.Tc(t.pixel,(function(t,n){if(this.l(t,n))return!e&&!o||Gt(s.a,t)?(i||o)&&Gt(s.a,t)&&(a.push(t),n=h(t),delete this.a[n]):(l.push(t),t=h(t),this.a[t]=n),!this.s}).bind(this),{layerFilter:this.o,hitTolerance:this.j}),n=a.length-1;0<=n;--n)s.remove(a[n]);s.qg(l)}return(0<l.length||0<a.length)&&this.b(new jb(Fb,l,a,t)),er(t)}function jb(t,e,i,o){Me.call(this,t),this.selected=e,this.deselected=i,this.mapBrowserEvent=o}s(pb,Me),s(ub,hr),ub.prototype.setMap=function(t){this.o.setMap(t),this.O.setMap(t),hr.prototype.setMap.call(this,t)},ub.prototype.G=function(){return this.j},ub.prototype.f=function(t){this.j=t||null;var e=this.s;e?e.Va(t?an(t):void 0):(this.s=e=new ph(t?an(t):{}),this.o.ha().Gb(e)),this.b(new wb(this.j))},s(wb,Me),s(xb,hr),(t=xb.prototype).xg=function(t){var e=t.U();e&&e.S()in this.ca&&this.ca[e.S()].call(this,t,e),(e=this.v)&&e.c&&this.c()&&Ab(this,this.Ea,e),ge(t,"change",this.Li,this)},t.Ha=function(t){this.f&&!t&&(this.B.ha().Lb(this.f),this.f=null),hr.prototype.Ha.call(this,t)},t.setMap=function(t){this.B.setMap(t),hr.prototype.setMap.call(this,t)},t.vm=function(t){t.feature&&this.o.push(t.feature)},t.xm=function(t){t.feature&&this.o.remove(t.feature)},t.$n=function(t){this.xg(t.element)},t.Li=function(t){this.s||(Mb(this,t=t.target),this.xg(t))},t.ao=function(t){Mb(this,t.element)},t.io=function(t,e){var i=e.W();t={feature:t,geometry:e,ma:[i,i]},this.a.Ca(e.G(),t)},t.fo=function(t,e){var i,o=e.W(),n=0;for(i=o.length;n<i;++n){var r=o[n];r={feature:t,geometry:e,depth:[n],index:n,ma:[r,r]},this.a.Ca(e.G(),r)}},t.Mi=function(t,e){var i,o=e.W(),n=0;for(i=o.length-1;n<i;++n){var r=o.slice(n,n+2),s={feature:t,geometry:e,index:n,ma:r};this.a.Ca(S(r),s)}},t.eo=function(t,e){var i,o,n=e.W(),r=0;for(o=n.length;r<o;++r){var s=n[r],a=0;for(i=s.length-1;a<i;++a){var h=s.slice(a,a+2),l={feature:t,geometry:e,depth:[r],index:a,ma:h};this.a.Ca(S(h),l)}}},t.jo=function(t,e){var i,o,n=e.W(),r=0;for(o=n.length;r<o;++r){var s=n[r],a=0;for(i=s.length-1;a<i;++a){var h=s.slice(a,a+2),l={feature:t,geometry:e,depth:[r],index:a,ma:h};this.a.Ca(S(h),l)}}},t.ho=function(t,e){var i,o,n,r=e.W(),s=0;for(n=r.length;s<n;++s){var a=r[s],h=0;for(o=a.length;h<o;++h){var l=a[h],p=0;for(i=l.length-1;p<i;++p){var u=l.slice(p,p+2),d={feature:t,geometry:e,depth:[h,s],index:p,ma:u};this.a.Ca(S(u),d)}}}},t.bo=function(t,e){var i=e.xa(),o={feature:t,geometry:e,index:0,ma:[i,i]};o.Tf=(t={feature:t,geometry:e,index:1,ma:[i,i]}).Tf=[o,t],this.a.Ca(N(i),o),this.a.Ca(e.G(),t)},t.co=function(t,e){var i=e.a;for(e=0;e<i.length;++e)this.ca[i[e].S()].call(this,t,i[e])},t.Em=function(t,e){for(var i,o=t.ma,n=t.feature,r=t.geometry,s=t.depth,a=t.index;e.length<r.pa();)e.push(0);switch(r.S()){case"MultiLineString":case"Polygon":(i=r.W())[s[0]].splice(a+1,0,e);break;case"MultiPolygon":(i=r.W())[s[1]][s[0]].splice(a+1,0,e);break;case"LineString":(i=r.W()).splice(a+1,0,e);break;default:return}this.s=!0,r.na(i),this.s=!1,(i=this.a).remove(t),Ib(this,r,a,s,1),i.Ca(S((t={ma:[o[0],e],feature:n,geometry:r,depth:s,index:a}).ma),t),this.j.push([t,1]),i.Ca(S((e={ma:[e,o[1]],feature:n,geometry:r,depth:s,index:a+1}).ma),e),this.j.push([e,0]),this.T=!0},t.Dj=function(){if(this.O&&"pointerdrag"!=this.O.type){var t=this.O;_b(this,t);var e,i,o=this.j,n={};for(i=o.length-1;0<=i;--i){var r=o[i],s=r[0],a=h(s.feature);s.depth&&(a+="-"+s.depth.join("-")),a in n||(n[a]={}),0===r[1]?(n[a].right=s,n[a].index=s.index):1==r[1]&&(n[a].left=s,n[a].index=s.index+1)}for(a in n){var l=n[a].right,p=n[a].left,u=(i=n[a].index)-1;s=void 0!==p?p:l,0>u&&(u=0);var d=e=(r=s.geometry).W(),c=!1;switch(r.S()){case"MultiLineString":2<e[s.depth[0]].length&&(e[s.depth[0]].splice(i,1),c=!0);break;case"LineString":2<e.length&&(e.splice(i,1),c=!0);break;case"MultiPolygon":d=d[s.depth[1]];case"Polygon":4<(d=d[s.depth[0]]).length&&(i==d.length-1&&(i=0),d.splice(i,1),c=!0,0===i&&(d.pop(),d.push(d[0]),u=d.length-1))}c&&(c=r,this.s=!0,c.na(e),this.s=!1,e=[],void 0!==p&&(this.a.remove(p),e.push(p.ma[0])),void 0!==l&&(this.a.remove(l),e.push(l.ma[1])),void 0!==p&&void 0!==l&&this.a.Ca(S((p={depth:s.depth,feature:s.feature,geometry:s.geometry,index:u,ma:e}).ma),p),Ib(this,r,i,s.depth,-1),this.f&&(this.B.ha().Lb(this.f),this.f=null),o.length=0)}return this.b(new Rb("modifyend",this.o,t)),this.C=!1,!0}return!1},s(Rb,Me),s(Nb,Yn),(t=Nb.prototype).lo=function(){return this.f.ha().i},t.mo=function(){return this.j},t.no=function(t){return t=h(t),this.a[t]},t.po=function(t){this.j=t},t.setMap=function(t){var e=this.v,i=this.f.ha().i;e&&i.forEach(e.Zj,e),Yn.prototype.setMap.call(this,t),this.f.setMap(t),t&&i.forEach(t.Uj,t)},t.ko=function(t){var e=this.v;e&&e.Uj(t.element)},t.oo=function(t){var e=this.v;e&&e.Zj(t.element)},s(jb,Me);var Fb="select";function zb(t){hr.call(this,{handleEvent:Bb,handleDownEvent:ho,handleUpEvent:qb}),this.s=(t=t||{}).source?t.source:null,this.O=void 0===t.vertex||t.vertex,this.C=void 0===t.edge||t.edge,this.j=t.features?t.features:null,this.ra=[],this.B={},this.V={},this.o={},this.T=null,this.f=void 0!==t.pixelTolerance?t.pixelTolerance:10,this.ua=(function(t,e){return io(this.T,t.ma)-io(this.T,e.ma)}).bind(this),this.a=new jl,this.ca={Point:this.wo,LineString:this.Pi,LinearRing:this.Pi,Polygon:this.xo,MultiPoint:this.uo,MultiLineString:this.to,MultiPolygon:this.vo,GeometryCollection:this.so,Circle:this.ro}}function Bb(t){var e=function(t,e,i,o){var n=o.Ra([e[0]-t.f,e[1]+t.f]),r=o.Ra([e[0]+t.f,e[1]-t.f]);n=S([n,r]);var s=Bl(t.a,n);t.O&&!t.C&&(s=s.filter(function(t){return"Circle"!==t.feature.U().S()}));var a=!1;n=!1;var h=r=null;if(0<s.length){t.T=i,s.sort(t.ua);var l=s[0].ma;a="Circle"===s[0].feature.U().S(),t.O&&!t.C?(i=o.Ia(l[0]),a=o.Ia(l[1]),i=to(e,i),e=to(e,a),(a=(a=Math.sqrt(Math.min(i,e)))<=t.f)&&(n=!0,h=o.Ia(r=i>e?l[1]:l[0]))):t.C&&(r=a?function(t,e){var i=e.Bd(),o=e.xa(),n=t[0]-(e=o[0]);t=t[1]-(o=o[1]),0===n&&0===t&&(n=1);var r=Math.sqrt(n*n+t*t);return[e+i*n/r,o+i*t/r]}(i,s[0].feature.U()):Xi(i,l),eo(e,h=o.Ia(r))<=t.f&&(n=!0,t.O&&!a&&(i=o.Ia(l[0]),a=o.Ia(l[1]),i=to(h,i),e=to(h,a),a=(a=Math.sqrt(Math.min(i,e)))<=t.f)))&&(h=o.Ia(r=i>e?l[1]:l[0])),n&&(h=[Math.round(h[0]),Math.round(h[1])])}return{Mq:n,vertex:r,Vq:h}}(this,t.pixel,t.coordinate,t.map);return e.Mq&&(t.coordinate=e.vertex.slice(0,2),t.pixel=e.Vq),pr.call(this,t)}function qb(){var t=nt(this.o);return t.length&&(t.forEach(this.$j,this),this.o={}),!1}function Hb(t){if(hr.call(this,{handleDownEvent:Ub,handleDragEvent:Gb,handleMoveEvent:Yb,handleUpEvent:Wb}),t=t||{},this.a=null,this.j=void 0!==t.features?t.features:null,t.layers)if("function"==typeof t.layers)var e=t.layers;else{var i=t.layers;e=function(t){return Gt(i,t)}}else e=ho;this.C=e,this.s=t.hitTolerance?t.hitTolerance:0,this.f=null,ge(this,Ae("active"),this.o,this)}function Ub(t){if(this.f=Vb(this,t.pixel,t.map),!this.a&&this.f){this.a=t.coordinate,Yb.call(this,t);var e=this.j||new Ie([this.f]);return this.b(new Zb("translatestart",e,t.coordinate)),!0}return!1}function Wb(t){if(this.a){this.a=null,Yb.call(this,t);var e=this.j||new Ie([this.f]);return this.b(new Zb("translateend",e,t.coordinate)),!0}return!1}function Gb(t){if(this.a){var e=(t=t.coordinate)[0]-this.a[0],i=t[1]-this.a[1],o=this.j||new Ie([this.f]);o.forEach(function(t){var o=t.U();o.translate(e,i),t.Va(o)}),this.a=t,this.b(new Zb("translating",o,t))}}function Yb(t){var e=t.map.a;Vb(this,t.pixel,t.map)?(e.classList.remove(this.a?"ol-grab":"ol-grabbing"),e.classList.add(this.a?"ol-grabbing":"ol-grab")):e.classList.remove("ol-grab","ol-grabbing")}function Vb(t,e,i){return i.Tc(e,(function(t){if(!this.j||Gt(this.j.a,t))return t}).bind(t),{layerFilter:t.C,hitTolerance:t.s})}function Xb(t,e){var i=t.v;t=t.c(),i&&t||(i=i||e)&&i.a.classList.remove("ol-grab","ol-grabbing")}function Zb(t,e,i){Me.call(this,t),this.features=e,this.coordinate=i}function Kb(t){var e=it({},t=t||{});delete e.gradient,delete e.radius,delete e.blur,delete e.shadow,delete e.weight,Fv.call(this,e),this.c=null,this.$=void 0!==t.shadow?t.shadow:250,this.O=void 0,this.T=null,ge(this,Ae(Qb),this.cm,this),this.Lj(t.gradient?t.gradient:Jb),this.Fj(void 0!==t.blur?t.blur:15),this.fd(void 0!==t.radius?t.radius:8),ge(this,Ae($b),this.mg,this),ge(this,Ae(tw),this.mg,this),this.mg();var i,o=t.weight?t.weight:"weight";i="string"==typeof o?function(t){return t.get(o)}:o,this.j((function(t){var e=255*(t=void 0!==(t=i(t))?y(t,0,1):1)|0,o=this.T[e];return o||(o=[new nh({image:new rf({opacity:t,src:this.O})})],this.T[e]=o),o}).bind(this)),this.set(zv,null),ge(this,"render",this.tm,this)}s(zb,hr),(t=zb.prototype).Gb=function(t,e){e=void 0===e||e;var i=h(t),o=t.U();if(o){var n=this.ca[o.S()];n&&(this.V[i]=o.G([1/0,1/0,-1/0,-1/0]),n.call(this,t,o))}e&&(this.B[i]=ge(t,"change",this.qo,this))},t.bl=function(t){this.Gb(t)},t.cl=function(t){this.Lb(t)},t.Ni=function(t){if(t instanceof Zv)var e=t.feature;else t instanceof je&&(e=t.element);this.Gb(e)},t.Oi=function(t){if(t instanceof Zv)var e=t.feature;else t instanceof je&&(e=t.element);this.Lb(e)},t.qo=function(t){if(t=t.target,this.D){var e=h(t);e in this.o||(this.o[e]=t)}else this.$j(t)},t.Lb=function(t,e){e=void 0===e||e;var i=h(t),o=this.V[i];if(o){var n=this.a,r=[];for(ql(n,o,function(e){t===e.feature&&r.push(e)}),o=r.length-1;0<=o;--o)n.remove(r[o])}e&&(be(this.B[i]),delete this.B[i])},t.setMap=function(t){var e,i=this.v,o=this.ra;this.j?e=this.j:this.s&&(e=this.s.ee()),i&&(o.forEach(be),o.length=0,e.forEach(this.cl,this)),hr.prototype.setMap.call(this,t),t&&(this.j?o.push(ge(this.j,"add",this.Ni,this),ge(this.j,"remove",this.Oi,this)):this.s&&o.push(ge(this.s,"addfeature",this.Ni,this),ge(this.s,"removefeature",this.Oi,this)),e.forEach(this.bl,this))},t.jd=lo,t.$j=function(t){this.Lb(t,!1),this.Gb(t,!1)},t.ro=function(t,e){var i,o=0;for(i=(e=hn(e).W()[0]).length-1;o<i;++o){var n=e.slice(o,o+2),r={feature:t,ma:n};this.a.Ca(S(n),r)}},t.so=function(t,e){var i=e.a;for(e=0;e<i.length;++e){var o=this.ca[i[e].S()];o&&o.call(this,t,i[e])}},t.Pi=function(t,e){var i,o=0;for(i=(e=e.W()).length-1;o<i;++o){var n=e.slice(o,o+2),r={feature:t,ma:n};this.a.Ca(S(n),r)}},t.to=function(t,e){var i,o,n=0;for(o=(e=e.W()).length;n<o;++n){var r=e[n],s=0;for(i=r.length-1;s<i;++s){var a=r.slice(s,s+2),h={feature:t,ma:a};this.a.Ca(S(a),h)}}},t.uo=function(t,e){var i,o=e.W(),n=0;for(i=o.length;n<i;++n){var r=o[n];r={feature:t,ma:[r,r]},this.a.Ca(e.G(),r)}},t.vo=function(t,e){var i,o,n,r=0;for(n=(e=e.W()).length;r<n;++r){var s=e[r],a=0;for(o=s.length;a<o;++a){var h=s[a],l=0;for(i=h.length-1;l<i;++l){var p=h.slice(l,l+2),u={feature:t,ma:p};this.a.Ca(S(p),u)}}}},t.wo=function(t,e){var i=e.W();t={feature:t,ma:[i,i]},this.a.Ca(e.G(),t)},t.xo=function(t,e){var i,o,n=0;for(o=(e=e.W()).length;n<o;++n){var r=e[n],s=0;for(i=r.length-1;s<i;++s){var a=r.slice(s,s+2),h={feature:t,ma:a};this.a.Ca(S(a),h)}}},s(Hb,hr),Hb.prototype.B=function(){return this.s},Hb.prototype.T=function(t){this.s=t},Hb.prototype.setMap=function(t){var e=this.v;hr.prototype.setMap.call(this,t),Xb(this,e)},Hb.prototype.o=function(){Xb(this,null)},s(Zb,Me),s(Kb,Fv);var Jb=["#00f","#0ff","#0f0","#ff0","#f00"];(t=Kb.prototype).Nh=function(){return this.get($b)},t.Uh=function(){return this.get(Qb)},t.Ri=function(){return this.get(tw)},t.cm=function(){for(var t=this.Uh(),e=vn(1,256),i=e.createLinearGradient(0,0,1,256),o=1/(t.length-1),n=0,r=t.length;n<r;++n)i.addColorStop(n*o,t[n]);e.fillStyle=i,e.fillRect(0,0,1,256),this.c=e.getImageData(0,0,1,256).data},t.mg=function(){var t=this.Ri(),e=this.Nh(),i=t+e+1,o=2*i;(o=vn(o,o)).shadowOffsetX=o.shadowOffsetY=this.$,o.shadowBlur=e,o.shadowColor="#000",o.beginPath(),o.arc(e=i-this.$,e,t,0,2*Math.PI,!0),o.fill(),this.O=o.canvas.toDataURL(),this.T=Array(256),this.u()},t.tm=function(t){var e,i,o=(t=t.context).canvas,n=(o=t.getImageData(0,0,o.width,o.height)).data,r=0;for(e=n.length;r<e;r+=4)(i=4*n[r+3])&&(n[r]=this.c[i],n[r+1]=this.c[i+1],n[r+2]=this.c[i+2]);t.putImageData(o,0,0)},t.Fj=function(t){this.set($b,t)},t.Lj=function(t){this.set(Qb,t)},t.fd=function(t){this.set(tw,t)};var $b="blur",Qb="gradient",tw="radius";function ew(t){Nn.call(this,t||{}),this.type="IMAGE"}function iw(t){var e=it({},t=t||{});delete e.preload,delete e.useInterimTilesOnError,Nn.call(this,e),this.j(void 0!==t.preload?t.preload:0),this.C(void 0===t.useInterimTilesOnError||t.useInterimTilesOnError),this.type="TILE"}function ow(t){var e=(t=t||{}).renderMode||"hybrid";f(void 0==e||"image"==e||"hybrid"==e||"vector"==e,28),t.declutter&&"image"==e&&(e="hybrid"),t.renderMode=e,delete(e=it({},t)).preload,delete e.useInterimTilesOnError,Fv.call(this,e),this.T(t.preload?t.preload:0),this.O(!t.useInterimTilesOnError||t.useInterimTilesOnError),this.type="VECTOR_TILE"}function nw(t,e){var i=/\{z\}/g,o=/\{x\}/g,n=/\{y\}/g,r=/\{-y\}/g;return function(s){if(s)return t.replace(i,s[0].toString()).replace(o,s[1].toString()).replace(n,function(){return(-s[2]-1).toString()}).replace(r,function(){var t=e.a?e.a[s[0]]:null;return f(t,55),(t.ka-t.ea+1+s[2]).toString()})}}function rw(t,e){for(var i=t.length,o=Array(i),n=0;n<i;++n)o[n]=nw(t[n],e);return sw(o)}function sw(t){return 1===t.length?t[0]:function(e,i,o){if(e)return t[w((e[1]<<e[0])+e[2],t.length)](e,i,o)}}function aw(){}function hw(t){var e=[],i=/\{([a-z])-([a-z])\}/.exec(t);if(i){var o,n=i[2].charCodeAt(0);for(o=i[1].charCodeAt(0);o<=n;++o)e.push(t.replace(i[0],String.fromCharCode(o)));return e}if(i=i=/\{(\d+)-(\d+)\}/.exec(t)){for(n=parseInt(i[2],10),o=parseInt(i[1],10);o<=n;o++)e.push(t.replace(i[0],o.toString()));return e}return e.push(t),e}function lw(t,e,i,o){function n(){delete window[s],r.parentNode.removeChild(r)}var r=document.createElement("script"),s="olc_"+h(e);r.async=!0,r.src=t+(-1==t.indexOf("?")?"?":"&")+(o||"callback")+"="+s;var a=setTimeout(function(){n(),i&&i()},1e4);window[s]=function(t){clearTimeout(a),n(),e(t)},document.getElementsByTagName("head")[0].appendChild(r)}function pw(t){$r.call(this,t)}function uw(t,e,i,o){var n=qt(i,e,t);return i=Pt(e,o,i),void 0!==(e=e.Bc())&&(i*=e),void 0!==(e=t.Bc())&&(i/=e),(e=t.G())&&!P(e,n)||(t=Pt(t,i,n)/i,isFinite(t)&&0<t&&(i/=t)),i}function dw(t,e,i,o){t=i-t,e=o-e;var n=Math.sqrt(t*t+e*e);return[Math.round(i+t/n),Math.round(o+e/n)]}function cw(t,e,i,o,n,r,s,a,h,l,p){var u=vn(Math.round(i*t),Math.round(i*e));if(0===h.length)return u.canvas;u.scale(i,i);var d=[1/0,1/0,-1/0,-1/0];h.forEach(function(t){F(d,t.extent)});var c=vn(Math.round(i*J(d)/o),Math.round(i*V(d)/o)),f=i/o;h.forEach(function(t){c.drawImage(t.image,l,l,t.image.width-2*l,t.image.height-2*l,(t.extent[0]-d[0])*f,-(t.extent[3]-d[3])*f,J(t.extent)*f,V(t.extent)*f)});var y=Z(s);return a.c.forEach(function(t){var e=t.source,n=t.target,s=e[1][0],a=e[1][1],h=e[2][0],l=e[2][1];t=(n[0][0]-y[0])/r;var p=-(n[0][1]-y[1])/r,f=(n[1][0]-y[0])/r,g=-(n[1][1]-y[1])/r,m=(n[2][0]-y[0])/r,v=-(n[2][1]-y[1])/r;t:{for(a=(s=[[s-=n=e[0][0],a-=e=e[0][1],0,0,f-t],[h-=n,l-=e,0,0,m-t],[0,0,s,a,g-p],[0,0,h,l,v-p]]).length,h=0;h<a;h++){l=h;for(var b=Math.abs(s[h][h]),w=h+1;w<a;w++){var x=Math.abs(s[w][h]);x>b&&(b=x,l=w)}if(0===b){s=null;break t}for(b=s[l],s[l]=s[h],s[h]=b,l=h+1;l<a;l++)for(b=-s[l][h]/s[h][h],w=h;w<a+1;w++)s[l][w]=h==w?0:s[l][w]+b*s[h][w]}for(h=Array(a),l=a-1;0<=l;l--)for(h[l]=s[l][a]/s[l][l],b=l-1;0<=b;b--)s[b][a]-=s[b][l]*h[l];s=h}s&&(u.save(),u.beginPath(),a=dw(h=(t+f+m)/3,l=(p+g+v)/3,t,p),f=dw(h,l,f,g),m=dw(h,l,m,v),u.moveTo(f[0],f[1]),u.lineTo(a[0],a[1]),u.lineTo(m[0],m[1]),u.clip(),u.transform(s[0],s[2],s[1],s[3],t,p),u.translate(d[0]-n,d[3]-e),u.scale(o/i,-o/i),u.drawImage(c.canvas,0,0),u.restore())}),p&&(u.save(),u.strokeStyle="black",u.lineWidth=1,a.c.forEach(function(t){var e=t.target;t=(e[0][0]-y[0])/r;var i=-(e[0][1]-y[1])/r,o=(e[1][0]-y[0])/r,n=-(e[1][1]-y[1])/r,s=(e[2][0]-y[0])/r;e=-(e[2][1]-y[1])/r,u.beginPath(),u.moveTo(o,n),u.lineTo(t,i),u.lineTo(s,e),u.closePath(),u.stroke()}),u.restore()),u.canvas}function fw(t,e,i,o,n){this.g=t,this.i=e;var r={},s=jt(this.i,this.g);if(this.a=function(t){var e=t[0]+"/"+t[1];return r[e]||(r[e]=s(t)),r[e]},this.f=o,this.v=n*n,this.c=[],this.l=!1,this.s=this.g.g&&!!o&&!!this.g.G()&&J(o)==J(this.g.G()),this.b=this.g.G()?J(this.g.G()):null,this.j=this.i.G()?J(this.i.G()):null,function t(e,i,o,n,r,s,a,h,l,p){var u=S([s,a,h,l]),d=e.b?J(u)/e.b:null,c=e.b,f=e.g.g&&.5<d&&1>d,y=!1;if(0<p&&(e.i.c&&e.j&&(y|=.25<J(S([i,o,n,r]))/e.j),!f&&e.g.c&&d&&(y|=.25<d)),y||!e.f||$(u,e.f)){if(!(y||isFinite(s[0])&&isFinite(s[1])&&isFinite(a[0])&&isFinite(a[1])&&isFinite(h[0])&&isFinite(h[1])&&isFinite(l[0])&&isFinite(l[1]))){if(!(0<p))return;y=!0}if(0<p&&(y||(u=e.a([(i[0]+n[0])/2,(i[1]+n[1])/2]),y=(c=f?(w(s[0],c)+w(h[0],c))/2-w(u[0],c):(s[0]+h[0])/2-u[0])*c+(u=(s[1]+h[1])/2-u[1])*u>e.v),y))return void(Math.abs(i[0]-n[0])<=Math.abs(i[1]-n[1])?(f=[(o[0]+n[0])/2,(o[1]+n[1])/2],c=e.a(f),u=[(r[0]+i[0])/2,(r[1]+i[1])/2],d=e.a(u),t(e,i,o,f,u,s,a,c,d,p-1),t(e,u,f,n,r,d,c,h,l,p-1)):(f=[(i[0]+o[0])/2,(i[1]+o[1])/2],c=e.a(f),u=[(n[0]+r[0])/2,(n[1]+r[1])/2],d=e.a(u),t(e,i,f,u,r,s,c,d,l,p-1),t(e,f,o,n,u,c,a,h,d,p-1)));if(f){if(!e.s)return;e.l=!0}e.c.push({source:[s,h,l],target:[i,n,r]}),e.c.push({source:[s,a,h],target:[i,o,n]})}}(this,t=Z(i),e=K(i),o=W(i),i=U(i),n=this.a(t),this.a(e),this.a(o),this.a(i),10),this.l){var a=1/0;this.c.forEach(function(t){a=Math.min(a,t.source[0][0],t.source[1][0],t.source[2][0])}),this.c.forEach(function(t){if(Math.max(t.source[0][0],t.source[1][0],t.source[2][0])-a>this.b/2){var e=[[t.source[0][0],t.source[0][1]],[t.source[1][0],t.source[1][1]],[t.source[2][0],t.source[2][1]]];e[0][0]-a>this.b/2&&(e[0][0]-=this.b),e[1][0]-a>this.b/2&&(e[1][0]-=this.b),e[2][0]-a>this.b/2&&(e[2][0]-=this.b),Math.max(e[0][0],e[1][0],e[2][0])-Math.min(e[0][0],e[1][0],e[2][0])<this.b/2&&(t.source=e)}},this)}r={}}function yw(t){var e=[1/0,1/0,-1/0,-1/0];return t.c.forEach(function(t){z(e,(t=t.source)[0]),z(e,t[1]),z(e,t[2])}),e}function gw(t,e,i,o,n,r,s,a,h,l,p){if(Mh.call(this,n,0),this.B=void 0!==p&&p,this.C=s,this.D=a,this.N=null,this.c=e,this.l=o,this.v=r||n,this.a=[],this.Id=null,this.f=0,r=o.Ma(this.v),a=this.l.G(),n=this.c.G(),0===H(r=a?X(r,a):r))this.state=4;else if((a=t.G())&&(n=n?X(n,a):a),o=uw(t,i,G(r),o.Ta(this.v[0])),!isFinite(o)||0>=o)this.state=4;else if(this.o=new fw(t,i,r,n,o*(void 0!==l?l:.5)),0===this.o.c.length)this.state=4;else if(this.f=e.Dc(o),i=yw(this.o),n&&(t.g?(i[1]=y(i[1],n[1],n[3]),i[3]=y(i[3],n[1],n[3])):i=X(i,n)),H(i)){for(e=(t=oe(e,i,this.f)).fa;e<=t.la;e++)for(i=t.ea;i<=t.ka;i++)(l=h(this.f,e,i,s))&&this.a.push(l);0===this.a.length&&(this.state=4)}else this.state=4}function mw(t){qv.call(this,{attributions:t.attributions,extent:t.extent,logo:t.logo,projection:t.projection,state:t.state,wrapX:t.wrapX}),this.bb=void 0!==t.opaque&&t.opaque,this.sc=void 0!==t.tilePixelRatio?t.tilePixelRatio:1,this.tileGrid=void 0!==t.tileGrid?t.tileGrid:null,this.a=new pw(t.cacheSize),this.j=[0,0],this.jc="",this.Ea={transition:t.transition}}function vw(t,e,i,o,n){if(!(t=t.Yd(e)))return!1;e=!0;for(var r,s,a=o.fa;a<=o.la;++a)for(var h=o.ea;h<=o.ka;++h)s=!1,t.a.hasOwnProperty(r=i+"/"+a+"/"+h)&&(s=2===(r=t.get(r)).getState())&&(s=!1!==n(r)),s||(e=!1);return e}function bw(t,e){t.jc!==e&&(t.jc=e,t.u())}function ww(t,e,i){var o=void 0!==i?i:t.c;if(i=t.eb(o),t.D&&o.c){var n=e;e=n[0],t=ne(i,n),P(o=pe(o),t)?e=n:(n=J(o),t[0]+=n*Math.ceil((o[0]-t[0])/n),e=i.jg(t,e))}if(o=e[1],t=e[2],i.minZoom>(n=e[0])||n>i.maxZoom)i=!1;else{var r=i.G();i=!(i=r?oe(i,r,n):i.a?i.a[n]:null)||c(i,o,t)}return i?e:null}function xw(t,e){Me.call(this,t),this.tile=e}function _w(t){mw.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,extent:t.extent,logo:t.logo,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tilePixelRatio:t.tilePixelRatio,wrapX:t.wrapX,transition:t.transition}),this.tileLoadFunction=t.tileLoadFunction,this.tileUrlFunction=this.dc?this.dc.bind(this):aw,this.urls=null,t.urls?this.vb(t.urls):t.url&&this.rb(t.url),t.tileUrlFunction&&this.hb(t.tileUrlFunction),this.V={}}function Mw(t){_w.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,extent:t.extent,logo:t.logo,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction?t.tileLoadFunction:Cw,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:t.wrapX,transition:t.transition}),this.crossOrigin=void 0!==t.crossOrigin?t.crossOrigin:null,this.tileClass=void 0!==t.tileClass?t.tileClass:Th,this.f={},this.s={},this.ob=t.reprojectionErrorThreshold,this.O=!1}function kw(t,e,i,o,n,r,s){return n=(i=ww(t,e=[e,i,o],r))?t.tileUrlFunction(i,n,r):void 0,(n=new t.tileClass(e,void 0!==n?0:4,void 0!==n?n:"",t.crossOrigin,t.tileLoadFunction,t.Ea)).key=s,ge(n,"change",t.dj,t),n}function Sw(t,e,i,o,n,r){var s=e+"/"+i+"/"+o,a=t.jc;if(t.a.a.hasOwnProperty(s)){var h=t.a.get(s);if(h.key!=a){var l=h;(h=kw(t,e,i,o,n,r,a)).g=0==l.getState()?l.g:l,Sh(h),t.a.replace(s,h)}}else h=kw(t,e,i,o,n,r,a),t.a.set(s,h);return h}function Cw(t,e){t.Y().src=e}function Ew(t){this.i=void 0!==t.hidpi&&t.hidpi,Mw.call(this,{cacheSize:t.cacheSize,crossOrigin:"anonymous",opaque:!0,projection:Nt("EPSG:3857"),reprojectionErrorThreshold:t.reprojectionErrorThreshold,state:"loading",tileLoadFunction:t.tileLoadFunction,tilePixelRatio:this.i?2:1,wrapX:void 0===t.wrapX||t.wrapX,transition:t.transition}),this.o=void 0!==t.culture?t.culture:"en-us",this.$=void 0!==t.maxZoom?t.maxZoom:-1,this.l=t.key,this.B=t.imagerySet,lw("https://dev.virtualearth.net/REST/v1/Imagery/Metadata/"+this.B+"?uriScheme=https&include=ImageryProviders&key="+this.l+"&c="+this.o,this.La.bind(this),void 0,"jsonp")}function Tw(t){var e=void 0!==(t=t||{}).projection?t.projection:"EPSG:3857",i=void 0!==t.tileGrid?t.tileGrid:ae({extent:pe(e),maxZoom:t.maxZoom,minZoom:t.minZoom,tileSize:t.tileSize});Mw.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,logo:t.logo,opaque:t.opaque,projection:e,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileGrid:i,tileLoadFunction:t.tileLoadFunction,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:void 0===t.wrapX||t.wrapX,transition:t.transition})}function Pw(t){this.o=t.account,this.B=t.map||"",this.i=t.config||{},this.l={},Tw.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,logo:t.logo,maxZoom:void 0!==t.maxZoom?t.maxZoom:18,minZoom:t.minZoom,projection:t.projection,state:"loading",wrapX:t.wrapX}),Aw(this)}function Aw(t){var e=JSON.stringify(t.i);if(t.l[e])Ow(t,t.l[e]);else{var i="https://"+t.o+".carto.com/api/v1/map";t.B&&(i+="/named/"+t.B);var o=new XMLHttpRequest;o.addEventListener("load",t.em.bind(t,e)),o.addEventListener("error",t.dm.bind(t)),o.open("POST",i),o.setRequestHeader("Content-type","application/json"),o.send(JSON.stringify(t.i))}}function Ow(t,e){t.rb("https://"+e.cdn_url.https+"/"+t.o+"/api/v1/map/"+e.layergroupid+"/{z}/{x}/{y}.png")}function Dw(t){Wv.call(this,{attributions:t.attributions,extent:t.extent,logo:t.logo,projection:t.projection,wrapX:t.wrapX}),this.resolution=void 0,this.distance=void 0!==t.distance?t.distance:20,this.features=[],this.geometryFunction=t.geometryFunction||function(t){return f((t=t.U())instanceof Yo,10),t},this.source=t.source,this.source.I("change",Dw.prototype.sa,this)}function Iw(t){if(void 0!==t.resolution){t.features.length=0;for(var e=[1/0,1/0,-1/0,-1/0],i=t.distance*t.resolution,o=t.source.ee(),n={},r=0,s=o.length;r<s;r++){var a=o[r];h(a).toString()in n||!(a=t.geometryFunction(a))||(N(a=a.W(),e),C(e,i,e),a=(a=t.source.Yf(e)).filter(function(t){return!((t=h(t).toString())in n)&&(n[t]=!0)}),t.features.push(Rw(t,a)))}}}function Rw(t,e){for(var i=[0,0],o=e.length-1;0<=o;--o){var n=t.geometryFunction(e[o]);n?Vi(i,n.W()):e.splice(o,1)}return Qi(i,1/e.length),(t=new ph(new Yo(i))).set("features",e),t}function Nw(t,e,i,o,n,r){this.s=e,this.l=t.G();var s=e.G(),a=s?X(i,s):i;s=uw(t,e,G(a),o),this.f=new fw(t,e,a,this.l,.5*s),this.c=o,this.g=i,t=yw(this.f),this.j=(this.Tb=r(t,s,n))?this.Tb.a:1,this.je=this.i=null,n=2,this.Tb&&(n=0),Zr.call(this,i,o,this.j,n)}function Lw(t){qv.call(this,{attributions:t.attributions,extent:t.extent,logo:t.logo,projection:t.projection,state:t.state}),this.o=void 0!==t.resolutions?t.resolutions:null,this.i=null,this.ua=0}function jw(t,e){return t.o&&(e=t.o[Yt(t.o,e,0)]),e}function Fw(t,e){t.Y().src=e}function zw(t,e){Me.call(this,t),this.image=e}s(ew,Nn),s(iw,Nn),iw.prototype.c=function(){return this.get("preload")},iw.prototype.j=function(t){this.set("preload",t)},iw.prototype.i=function(){return this.get("useInterimTilesOnError")},iw.prototype.C=function(t){this.set("useInterimTilesOnError",t)},s(ow,Fv),ow.prototype.c=function(){return this.get("preload")},ow.prototype.i=function(){return this.get("useInterimTilesOnError")},ow.prototype.T=function(t){this.set("preload",t)},ow.prototype.O=function(t){this.set("useInterimTilesOnError",t)},s(pw,$r),pw.prototype.sd=function(t){for(var e,i;Qr(this);){var o;if((o=(i=(e=this.g.Pc).ya[0].toString())in t)&&(o=c(t[i],(e=e.ya)[1],e[2])),o)break;_e(this.pop())}},s(gw,Mh),gw.prototype.ia=function(){1==this.state&&(this.Id.forEach(be),this.Id=null),Mh.prototype.ia.call(this)},gw.prototype.Y=function(){return this.N},gw.prototype.he=function(){var t=[];if(this.a.forEach(function(e){e&&2==e.getState()&&t.push({extent:this.c.Ma(e.ya),image:e.Y()})},this),this.a.length=0,0===t.length)this.state=3;else{var e=this.v[0],i=this.l.Za(e),o="number"==typeof i?i:i[0];i="number"==typeof i?i:i[1],e=this.l.Ta(e);var n=this.c.Ta(this.f),r=this.l.Ma(this.v);this.N=cw(o,i,this.C,n,this.c.G(),e,r,this.o,t,this.D,this.B),this.state=2}this.u()},gw.prototype.load=function(){if(0==this.state){this.state=1,this.u();var t=0;this.Id=[],this.a.forEach(function(e){var i=e.getState();if(0==i||1==i){t++;var o=ge(e,"change",function(){var i=e.getState();2!=i&&3!=i&&4!=i||(be(o),0==--t&&(this.Id.forEach(be),this.Id=null,this.he()))},this);this.Id.push(o)}},this),this.a.forEach(function(t){0==t.getState()&&t.load()}),0===t&&setTimeout(this.he.bind(this),0)}},s(mw,qv),(t=mw.prototype).cj=function(){return Qr(this.a)},t.sd=function(t,e){(t=this.Yd(t))&&t.sd(e)},t.Zf=function(){return 0},t.eg=function(){return this.bb},t.jb=function(){return this.tileGrid},t.eb=function(t){return this.tileGrid?this.tileGrid:se(t)},t.Yd=function(t){var e=this.c;return e&&!Lt(e,t)?null:this.a},t.Xc=function(){return this.sc},t.Zd=function(t,e,i){return i=this.eb(i),e=this.Xc(e),t=k(i.Za(t),this.j),1==e?t:M(t,e,this.j)},t.sa=function(){this.a.clear(),this.u()},t.kh=a,s(xw,Me),s(_w,mw),(t=_w.prototype).yb=function(){return this.tileLoadFunction},t.zb=function(){return this.tileUrlFunction},t.Ab=function(){return this.urls},t.dj=function(t){var e=h(t=t.target),i=t.getState();if(1==i){this.V[e]=!0;var o="tileloadstart"}else e in this.V&&(delete this.V[e],o=3==i?"tileloaderror":2==i||5==i?"tileloadend":void 0);void 0!=o&&this.b(new xw(o,t))},t.Fb=function(t){this.a.clear(),this.tileLoadFunction=t,this.u()},t.hb=function(t,e){this.tileUrlFunction=t,function(t){if(0!==t.i){var e=t.c.jc.split("/").map(Number)[0];t.forEach(function(t){if(t.ya[0]!==e){var i=t.ya;this.remove(i[0]+"/"+i[1]+"/"+i[2]),_e(t)}},t)}}(this.a),void 0!==e?bw(this,e):this.u()},t.rb=function(t){var e=this.urls=hw(t);this.hb(this.dc?this.dc.bind(this):rw(e,this.tileGrid),t)},t.vb=function(t){this.urls=t;var e=t.join("\n");this.hb(this.dc?this.dc.bind(this):rw(t,this.tileGrid),e)},t.kh=function(t,e,i){this.a.a.hasOwnProperty(t=t+"/"+e+"/"+i)&&this.a.get(t)},s(Mw,_w),(t=Mw.prototype).cj=function(){if(Qr(this.a))return!0;for(var t in this.f)if(Qr(this.f[t]))return!0;return!1},t.sd=function(t,e){for(var i in t=this.Yd(t),this.a.sd(this.a==t?e:{}),this.f){var o=this.f[i];o.sd(o==t?e:{})}},t.Zf=function(t){return this.c&&t&&!Lt(this.c,t)?0:this.$f()},t.$f=function(){return 0},t.eg=function(t){return!(this.c&&t&&!Lt(this.c,t))&&_w.prototype.eg.call(this,t)},t.eb=function(t){var e=this.c;return!this.tileGrid||e&&!Lt(e,t)?((e=h(t).toString())in this.s||(this.s[e]=se(t)),this.s[e]):this.tileGrid},t.Yd=function(t){var e=this.c;return!e||Lt(e,t)?this.a:((t=h(t).toString())in this.f||(this.f[t]=new pw(this.a.highWaterMark)),this.f[t])},t.ad=function(t,e,i,o,n){var r=this.c;if(r&&n&&!Lt(r,n)){var s,a=this.Yd(n);if(a.a.hasOwnProperty(t=(i=[t,e,i])[0]+"/"+i[1]+"/"+i[2])&&(s=a.get(t)),e=this.jc,s&&s.key==e)return s;var h=this.eb(r),l=this.eb(n),p=ww(this,i,n);return(o=new gw(r,h,n,l,i,p,this.Xc(o),this.$f(),(function(t,e,i,o){return Sw(this,t,e,i,o,r)}).bind(this),this.ob,this.O)).key=e,s?(o.g=s,Sh(o),a.replace(t,o)):a.set(t,o),o}return Sw(this,t,e,i,o,r||n)},t.Qb=function(t){if(this.O!=t){for(var e in this.O=t,this.f)this.f[e].clear();this.u()}},t.Rb=function(t,e){(t=Nt(t))&&((t=h(t).toString())in this.s||(this.s[t]=e))},s(Ew,Mw),Ew.prototype.ca=function(){return this.l},Ew.prototype.ua=function(){return this.B},Ew.prototype.La=function(t){if(200!=t.statusCode||"OK"!=t.statusDescription||"ValidCredentials"!=t.authenticationResultCode||1!=t.resourceSets.length||1!=t.resourceSets[0].resources.length)Uv(this,"error");else{var e=t.brandLogoUri;-1==e.indexOf("https")&&(e=e.replace("http","https"));var i=t.resourceSets[0].resources[0];t=-1==this.$?i.zoomMax:this.$;var o=pe(this.c);this.tileGrid=ae({extent:o,minZoom:i.zoomMin,maxZoom:t,tileSize:(i.imageWidth==i.imageHeight?i.imageWidth:[i.imageWidth,i.imageHeight])/(this.i?2:1)});var n=this.o,r=this.i;if(this.tileUrlFunction=sw(i.imageUrlSubdomains.map(function(t){var e=[0,0,0],o=i.imageUrl.replace("{subdomain}",t).replace("{culture}",n);return function(t){if(t)return $t(t[0],t[1],-t[2]-1,e),t=o,r&&(t+="&dpi=d1&device=mobile"),t.replace("{quadkey}",function(t){var e,i=t[0],o=Array(i),n=1<<i-1;for(e=0;e<i;++e){var r=48;t[1]&n&&(r+=1),t[2]&n&&(r+=2),o[e]=String.fromCharCode(r),n>>=1}return o.join("")}(e))}})),i.imageryProviders){var s=Ft(Nt("EPSG:4326"),this.c);this.va(function(t){var e=[],o=t.viewState.zoom;return i.imageryProviders.map(function(i){for(var n=!1,r=i.coverageAreas,a=0,h=r.length;a<h;++a){var l=r[a];if(o>=l.zoomMin&&o<=l.zoomMax&&$(l=et([(l=l.bbox)[1],l[0],l[3],l[2]],s),t.extent)){n=!0;break}}n&&e.push(i.attribution)}),e.push('<a class="ol-attribution-bing-tos" href="https://www.microsoft.com/maps/product/terms.html">Terms of Use</a>'),e})}this.T=e,Uv(this,"ready")}},s(Tw,Mw),s(Pw,Tw),(t=Pw.prototype).nl=function(){return this.i},t.Sq=function(t){it(this.i,t),Aw(this)},t.uq=function(t){this.i=t||{},Aw(this)},t.em=function(t,e){if(!(e=e.target).status||200<=e.status&&300>e.status){try{var i=JSON.parse(e.responseText)}catch(t){return void Uv(this,"error")}Ow(this,i),this.l[t]=i,Uv(this,"ready")}else Uv(this,"error")},t.dm=function(){Uv(this,"error")},s(Dw,Wv),(t=Dw.prototype).Eo=function(){return this.distance},t.Fo=function(){return this.source},t.ae=function(t,e,i){this.source.ae(t,e,i),e!==this.resolution&&(this.clear(),this.resolution=e,Iw(this),this.Qc(this.features))},t.vq=function(t){this.distance=t,this.sa()},t.sa=function(){this.clear(),Iw(this),this.Qc(this.features),Wv.prototype.sa.call(this)},s(Nw,Zr),Nw.prototype.ia=function(){1==this.state&&(be(this.je),this.je=null),Zr.prototype.ia.call(this)},Nw.prototype.Y=function(){return this.i},Nw.prototype.he=function(){var t=this.Tb.getState();2==t&&(this.i=cw(J(this.g)/this.c,V(this.g)/this.c,this.j,this.Tb.resolution,0,this.c,this.g,this.f,[{extent:this.Tb.G(),image:this.Tb.Y()}],0)),this.state=t,this.u()},Nw.prototype.load=function(){if(0==this.state){this.state=1,this.u();var t=this.Tb.getState();2==t||3==t?this.he():(this.je=ge(this.Tb,"change",function(){var t=this.Tb.getState();2!=t&&3!=t||(be(this.je),this.je=null,this.he())},this),this.Tb.load())}},s(Lw,qv),Lw.prototype.Y=function(t,e,i,o){var n=this.c;if(n&&o&&!Lt(n,o)){if(this.i){if(this.ua==this.g&&Lt(this.i.s,o)&&this.i.resolution==e&&j(this.i.G(),t))return this.i;_e(this.i),this.i=null}return this.i=new Nw(n,o,t,e,i,(function(t,e,i){return this.Wc(t,e,i,n)}).bind(this)),this.ua=this.g,this.i}return n&&(o=n),this.Wc(t,e,i,o)},Lw.prototype.j=function(t){switch((t=t.target).getState()){case 1:this.b(new zw(Bw,t));break;case 2:this.b(new zw(qw,t));break;case 3:this.b(new zw(Hw,t))}},s(zw,Me);var Bw="imageloadstart",qw="imageloadend",Hw="imageloaderror";function Uw(t,e){var i=[];Object.keys(e).forEach(function(t){null!==e[t]&&void 0!==e[t]&&i.push(t+"="+encodeURIComponent(e[t]))});var o=i.join("&");return(t=-1===(t=t.replace(/[?&]$/,"")).indexOf("?")?t+"?":t+"&")+o}function Ww(t){Lw.call(this,{attributions:(t=t||{}).attributions,logo:t.logo,projection:t.projection,resolutions:t.resolutions}),this.V=void 0!==t.crossOrigin?t.crossOrigin:null,this.$=void 0===t.hidpi||t.hidpi,this.a=t.url,this.f=void 0!==t.imageLoadFunction?t.imageLoadFunction:Fw,this.s=t.params||{},this.M=null,this.l=[0,0],this.O=0,this.B=void 0!==t.ratio?t.ratio:1.5}function Gw(t){Lw.call(this,{attributions:t.attributions,logo:t.logo,projection:t.projection,resolutions:t.resolutions,state:t.state}),this.Ea=t.canvasFunction,this.V=null,this.$=0,this.La=void 0!==t.ratio?t.ratio:1.5}function Yw(t){Lw.call(this,{projection:t.projection,resolutions:t.resolutions}),this.V=void 0!==t.crossOrigin?t.crossOrigin:null,this.l=void 0!==t.displayDpi?t.displayDpi:96,this.f=t.params||{},this.O=t.url,this.a=void 0!==t.imageLoadFunction?t.imageLoadFunction:Fw,this.$=void 0===t.hidpi||t.hidpi,this.ca=void 0!==t.metersPerUnit?t.metersPerUnit:1,this.s=void 0!==t.ratio?t.ratio:1,this.Ea=void 0!==t.useOverlay&&t.useOverlay,this.M=null,this.B=0}function Vw(t){var e=t.imageExtent,i=void 0!==t.crossOrigin?t.crossOrigin:null,o=void 0!==t.imageLoadFunction?t.imageLoadFunction:Fw;Lw.call(this,{attributions:t.attributions,logo:t.logo,projection:Nt(t.projection)}),this.M=new _h(e,void 0,1,t.url,i,o),this.a=t.imageSize?t.imageSize:null,ge(this.M,"change",this.j,this)}function Xw(t){this.a=t.source,this.ob=[1,0,0,1,0,0],this.f=vn(),this.l=[0,0],this.ca=oa.Jc(9),this.bb=void 0==t.renderBuffer?100:t.renderBuffer,this.B=null,Gw.call(this,{attributions:t.attributions,canvasFunction:this.Mk.bind(this),logo:t.logo,projection:t.projection,ratio:t.ratio,resolutions:t.resolutions,state:this.a.getState()}),this.O=null,this.s=void 0,this.aj(t.style),ge(this.a,"change",this.To,this)}function Zw(t){Lw.call(this,{attributions:(t=t||{}).attributions,logo:t.logo,projection:t.projection,resolutions:t.resolutions}),this.ca=void 0!==t.crossOrigin?t.crossOrigin:null,this.f=t.url,this.s=void 0!==t.imageLoadFunction?t.imageLoadFunction:Fw,this.a=t.params||{},this.l=!0,$w(this),this.$=t.serverType,this.Ea=void 0===t.hidpi||t.hidpi,this.M=null,this.B=[0,0],this.V=0,this.O=void 0!==t.ratio?t.ratio:1.5}s(Ww,Lw),(t=Ww.prototype).Ho=function(){return this.s},t.Wc=function(t,e,i,o){if(void 0===this.a)return null;e=jw(this,e),i=this.$?i:1;var n=this.M;if(n&&this.O==this.g&&n.resolution==e&&n.a==i&&A(n.G(),t))return n;it(n={F:"image",FORMAT:"PNG32",TRANSPARENT:!0},this.s);var r=((t=t.slice())[0]+t[2])/2,s=(t[1]+t[3])/2;if(1!=this.B){var a=this.B*J(t)/2,h=this.B*V(t)/2;t[0]=r-a,t[1]=s-h,t[2]=r+a,t[3]=s+h}a=e/i,h=Math.ceil(J(t)/a);var l=Math.ceil(V(t)/a);return t[0]=r-a*h/2,t[2]=r+a*h/2,t[1]=s-a*l/2,t[3]=s+a*l/2,this.l[0]=h,this.l[1]=l,r=t,s=this.l,a=i,o=o.wb.split(":").pop(),n.SIZE=s[0]+","+s[1],n.BBOX=r.join(","),n.BBOXSR=o,n.IMAGESR=o,n.DPI=Math.round(90*a),(r=(o=this.a).replace(/MapServer\/?$/,"MapServer/export").replace(/ImageServer\/?$/,"ImageServer/exportImage"))==o&&f(!1,50),n=Uw(r,n),this.M=new _h(t,e,i,n,this.V,this.f),this.O=this.g,ge(this.M,"change",this.j,this),this.M},t.Go=function(){return this.f},t.Io=function(){return this.a},t.Jo=function(t){this.M=null,this.f=t,this.u()},t.Ko=function(t){t!=this.a&&(this.a=t,this.M=null,this.u())},t.Lo=function(t){it(this.s,t),this.M=null,this.u()},s(Gw,Lw),Gw.prototype.Wc=function(t,e,i,o){e=jw(this,e);var n=this.V;return n&&this.$==this.g&&n.resolution==e&&n.a==i&&A(n.G(),t)?n:(tt(t=t.slice(),this.La),(o=this.Ea(t,e,i,[J(t)/e*i,V(t)/e*i],o))&&(n=new Kr(t,e,i,o)),this.V=n,this.$=this.g,n)},s(Yw,Lw),(t=Yw.prototype).No=function(){return this.f},t.Wc=function(t,e,i){e=jw(this,e),i=this.$?i:1;var o=this.M;if(o&&this.B==this.g&&o.resolution==e&&o.a==i&&A(o.G(),t))return o;1!=this.s&&tt(t=t.slice(),this.s);var n=[J(t)/e*i,V(t)/e*i];if(void 0!==this.O){o=this.O;var r=G(t),s=this.ca,a=J(t),h=V(t),l=n[0],p=n[1],u=.0254/this.l;n={OPERATION:this.Ea?"GETDYNAMICMAPOVERLAYIMAGE":"GETMAPIMAGE",VERSION:"2.0.0",LOCALE:"en",CLIENTAGENT:"ol.source.ImageMapGuide source",CLIP:"1",SETDISPLAYDPI:this.l,SETDISPLAYWIDTH:Math.round(n[0]),SETDISPLAYHEIGHT:Math.round(n[1]),SETVIEWSCALE:p*a>l*h?a*s/(l*u):h*s/(p*u),SETVIEWCENTERX:r[0],SETVIEWCENTERY:r[1]},it(n,this.f),ge(o=new _h(t,e,i,o=Uw(o,n),this.V,this.a),"change",this.j,this)}else o=null;return this.M=o,this.B=this.g,o},t.Mo=function(){return this.a},t.Po=function(t){it(this.f,t),this.u()},t.Oo=function(t){this.M=null,this.a=t,this.u()},s(Vw,Lw),Vw.prototype.Wc=function(t){return $(t,this.M.G())?this.M:null},Vw.prototype.j=function(t){if(2==this.M.getState()){var e=this.M.G(),i=this.M.Y();if(this.a)var o=this.a[0],n=this.a[1];else o=i.width,n=i.height;if((e=Math.ceil(J(e)/(V(e)/n)))!=o){var r=(e=vn(e,n)).canvas;e.drawImage(i,0,0,o,n,0,0,r.width,r.height),this.M.ih(r)}}Lw.prototype.j.call(this,t)},s(Xw,Gw),(t=Xw.prototype).Mk=function(t,e,i,o,n){var r=new Oa(.5*e/i,t,e,i,this.a.$,this.ca,this.bb);this.a.ae(t,e,n);var s=!1;return this.a.ec(t,function(t){var o,n;if(!(o=s))if((o=t.ib())?n=o.call(t,e):this.s&&(n=this.s(t,e)),n){var a,h=!1;for(Array.isArray(n)||(n=[n]),o=0,a=n.length;o<a;++o)h=za(r,t,n[o],Fa(e,i),this.So,this)||h;o=h}else o=!1;s=o},this),Ra(r),s?null:(this.l[0]!=o[0]||this.l[1]!=o[1]?(this.f.canvas.width=o[0],this.f.canvas.height=o[1],this.l[0]=o[0],this.l[1]=o[1]):this.f.clearRect(0,0,o[0],o[1]),this.ca.clear(),t=function(t,e,i,o,n){return _o(t.ob,n[0]/2,n[1]/2,i=o/i,-i,0,-e[0],-e[1])}(this,G(t),e,i,o),r.Na(this.f,t,0,{}),this.B=r,this.f.canvas)},t.wa=function(t,e,i,o,n,r){if(this.B){var s={};return this.B.wa(t,e,0,o,n,function(t){var e=h(t).toString();if(!(e in s))return s[e]=!0,r(t)},null)}},t.Qo=function(){return this.a},t.Ro=function(){return this.O},t.ib=function(){return this.s},t.So=function(){this.u()},t.To=function(){Uv(this,this.a.getState())},t.aj=function(t){this.O=void 0!==t?t:ah,this.s=t?rh(this.O):void 0,this.u()},s(Zw,Lw);var Kw=[101,101];function Jw(t,e,i,o,n,r){if(f(void 0!==t.f,9),r[t.l?"CRS":"SRS"]=n.wb,"STYLES"in t.a||(r.STYLES=""),1!=o)switch(t.$){case"geoserver":o=90*o+.5|0,r.FORMAT_OPTIONS="FORMAT_OPTIONS"in r?r.FORMAT_OPTIONS+";dpi:"+o:"dpi:"+o;break;case"mapserver":r.MAP_RESOLUTION=90*o;break;case"carmentaserver":case"qgis":r.DPI=90*o;break;default:f(!1,8)}var s;return r.WIDTH=i[0],r.HEIGHT=i[1],i=n.b,s=t.l&&"ne"==i.substr(0,2)?[e[1],e[0],e[3],e[2]]:e,r.BBOX=s.join(","),Uw(t.f,r)}function $w(t){t.l=0<=Yi(t.a.VERSION||"1.3.0")}function Qw(t){Tw.call(this,{attributions:void 0!==(t=t||{}).attributions?t.attributions:['&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors.'],cacheSize:t.cacheSize,crossOrigin:void 0!==t.crossOrigin?t.crossOrigin:"anonymous",opaque:void 0===t.opaque||t.opaque,maxZoom:void 0!==t.maxZoom?t.maxZoom:19,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileLoadFunction:t.tileLoadFunction,url:void 0!==t.url?t.url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png",wrapX:t.wrapX})}function tx(t){this.B=null,this.Ea=void 0!==t.operationType?t.operationType:"pixel",this.La=void 0!==t.threads?t.threads:1,this.f=function(t){for(var e=t.length,i=Array(e),o=0;o<e;++o){var n=o,r=t[o],s=null;r instanceof mw?s=new ea(r=new iw({source:r})):r instanceof Lw&&(s=new Hs(r=new ew({source:r}))),i[n]=s}return i}(t.sources);for(var e=0,i=this.f.length;e<i;++e)ge(this.f[e],"change",this.u,this);this.$=new Bi(function(){return 1},this.u.bind(this)),i={};for(var o=0,n=(e=function(t){return t.map(function(t){return _n(t.a)})}(this.f)).length;o<n;++o)i[h(e[o].layer)]=e[o];this.a=null,this.O={animate:!1,coordinateToPixelTransform:[1,0,0,1,0,0],extent:null,focus:null,index:0,layerStates:i,layerStatesArray:e,logos:{},pixelRatio:1,pixelToCoordinateTransform:[1,0,0,1,0,0],postRenderFunctions:[],size:[0,0],skippedFeatureUids:{},tileQueue:this.$,time:Date.now(),usedTiles:{},viewState:{rotation:0},viewHints:[],wantedTiles:{}},Lw.call(this,{}),void 0!==t.operation&&this.s(t.operation,t.lib)}(t=Zw.prototype).Uo=function(t,e,i,o){if(void 0!==this.f){i=Nt(i);var n=this.c;n&&n!==i&&(e=uw(n,i,t,e),t=qt(t,i,n));var r=Y(t,e,0,Kw),s={SERVICE:"WMS",VERSION:"1.3.0",REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.a.LAYERS};return it(s,this.a,o),o=Math.floor((r[3]-t[1])/e),s[this.l?"I":"X"]=Math.floor((t[0]-r[0])/e),s[this.l?"J":"Y"]=o,Jw(this,r,Kw,1,n||i,s)}},t.Wo=function(){return this.a},t.Wc=function(t,e,i,o){if(void 0===this.f)return null;e=jw(this,e),1==i||this.Ea&&void 0!==this.$||(i=1);var n=e/i,r=G(t),s=Y(r,n,0,[Math.ceil(J(t)/n),Math.ceil(V(t)/n)]);return t=Y(r,n,0,[Math.ceil(this.O*J(t)/n),Math.ceil(this.O*V(t)/n)]),(r=this.M)&&this.V==this.g&&r.resolution==e&&r.a==i&&A(r.G(),s)?r:(it(s={SERVICE:"WMS",VERSION:"1.3.0",REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0},this.a),this.B[0]=Math.round(J(t)/n),this.B[1]=Math.round(V(t)/n),o=Jw(this,t,this.B,i,o,s),this.M=new _h(t,e,i,o,this.ca,this.s),this.V=this.g,ge(this.M,"change",this.j,this),this.M)},t.Vo=function(){return this.s},t.Xo=function(){return this.f},t.Yo=function(t){this.M=null,this.s=t,this.u()},t.Zo=function(t){t!=this.f&&(this.f=t,this.M=null,this.u())},t.$o=function(t){it(this.a,t),$w(this),this.M=null,this.u()},s(Qw,Tw),oa.nf={},oa.nf.Hf=function(){},function(t){function e(t,e,i){return s?new ImageData(t,e,i):((e=a.createImageData(e,i)).data.set(t),e)}function i(t){var e=!0;try{new ImageData(10,10)}catch(t){e=!1}return function(i){var o=i.buffers,n=i.meta,r=i.width,s=i.height,a=o.length,h=o[0].byteLength;if(i.imageOps){for(h=Array(a),i=0;i<a;++i){var l=i,p=new Uint8ClampedArray(o[i]),u=r,d=s;p=e?new ImageData(p,u,d):{data:p,width:u,height:d},h[l]=p}r=t(h,n).data}else{for(r=new Uint8ClampedArray(h),s=Array(a),l=Array(a),i=0;i<a;++i)s[i]=new Uint8ClampedArray(o[i]),l[i]=[0,0,0,0];for(o=0;o<h;o+=4){for(i=0;i<a;++i)l[i][0]=(p=s[i])[o],l[i][1]=p[o+1],l[i][2]=p[o+2],l[i][3]=p[o+3];i=t(l,n),r[o]=i[0],r[o+1]=i[1],r[o+2]=i[2],r[o+3]=i[3]}}return r.buffer}}function o(t,e){var o=Object.keys(t.lib||{}).map(function(e){return"var "+e+" = "+t.lib[e].toString()+";"}).concat(["var __minion__ = ("+i.toString()+")(",t.operation.toString(),");",'self.addEventListener("message", function(event) {',"  var buffer = __minion__(event.data);","  self.postMessage({buffer: buffer, meta: event.data.meta}, [buffer]);","});"]);return o=URL.createObjectURL(new Blob(o,{type:"text/javascript"})),(o=new Worker(o)).addEventListener("message",e),o}function n(t,e){var o=i(t.operation);return{postMessage:function(t){setTimeout(function(){e({data:{buffer:o(t),meta:t.meta}})},0)}}}function r(t){var e;this.Jf=!!t.Cm;var i=[];if(e=0===t.threads?0:this.Jf?1:t.threads||1)for(var r=0;r<e;++r)i[r]=o(t,this.xh.bind(this,r));else i[0]=n(t,this.xh.bind(this,0));this.we=i,this.Nd=[],this.Bk=t.Sp||1/0,this.ve=0,this.od={},this.Kf=null}var s=!0;try{new ImageData(10,10)}catch(t){s=!1}var a=document.createElement("canvas").getContext("2d");r.prototype.Rp=function(t,e,i){this.zk({inputs:t,ii:e,callback:i}),this.uh()},r.prototype.zk=function(t){for(this.Nd.push(t);this.Nd.length>this.Bk;)this.Nd.shift().callback(null,null)},r.prototype.uh=function(){if(0===this.ve&&0<this.Nd.length){var t=this.Kf=this.Nd.shift(),e=t.inputs[0].width,i=t.inputs[0].height,o=t.inputs.map(function(t){return t.data.buffer}),n=this.we.length;if(this.ve=n,1===n)this.we[0].postMessage({buffers:o,meta:t.ii,imageOps:this.Jf,width:e,height:i},o);else for(var r=4*Math.ceil(t.inputs[0].data.length/4/n),s=0;s<n;++s){for(var a=s*r,h=[],l=0,p=o.length;l<p;++l)h.push(o[s].slice(a,a+r));this.we[s].postMessage({buffers:h,meta:t.ii,imageOps:this.Jf,width:e,height:i},h)}}},r.prototype.xh=function(t,e){this.hr||(this.od[t]=e.data,--this.ve,0===this.ve&&this.Ck())},r.prototype.Ck=function(){var t=this.Kf,i=this.we.length;if(1===i)var o=new Uint8ClampedArray(this.od[0].buffer),n=this.od[0].meta;else{var r=t.inputs[0].data.length;o=new Uint8ClampedArray(r),n=Array(r),r=4*Math.ceil(r/4/i);for(var s=0;s<i;++s){var a=s*r;o.set(new Uint8ClampedArray(this.od[s].buffer),a),n[s]=this.od[s].meta}}this.Kf=null,this.od={},t.callback(null,e(o,t.inputs[0].width,t.inputs[0].height),n),this.uh()},t.default={Hf:r},t.Hf=r}(oa.nf=oa.nf||{}),s(tx,Lw),tx.prototype.s=function(t,e){this.B=new oa.nf.Hf({operation:t,Cm:"image"===this.Ea,Sp:1,lib:e,threads:this.La}),this.u()},tx.prototype.Y=function(t,e,i,o){i=!0;for(var n,r=0,s=this.f.length;r<s;++r)if("ready"!==(n=this.f[r].a.ha()).getState()){i=!1;break}if(!i)return null;if((i=it({},this.O)).viewState=it({},i.viewState),n=G(t),i.extent=t.slice(),i.focus=n,i.size[0]=Math.round(J(t)/e),i.size[1]=Math.round(V(t)/e),i.time=Date.now(),i.animate=!1,(r=i.viewState).center=n,r.projection=o,r.resolution=e,this.l=i,this.a&&(o=this.a.resolution,n=this.a.G(),e===o&&j(t,n)||(this.a=null)),!this.a||this.g!==this.V)t:{for(t=this.l,o=this.f.length,e=Array(o),n=0;n<o;++n){var a=t.layerStatesArray[n];if((r=this.f[n]).$c(s=t,a)){var h=s.size[0],l=s.size[1];if(ex){var p=ex.canvas;p.width!==h||p.height!==l?ex=vn(h,l):ex.clearRect(0,0,h,l)}else ex=vn(h,l);r.df(s,a,ex),r=ex.getImageData(0,0,h,l)}else r=null;if(!r)break t;e[n]=r}this.b(new ix(ox,t,o={})),this.B.Rp(e,o,this.ca.bind(this,t))}return qi(i.tileQueue,16,16),i.animate&&requestAnimationFrame(this.u.bind(this)),this.a},tx.prototype.ca=function(t,e,i,o){if(!e&&i){e=t.extent;var n=t.viewState.resolution;if(n===this.l.viewState.resolution&&j(e,this.l.extent)){if(this.a)var r=this.a.Y().getContext("2d");else r=vn(Math.round(J(e)/n),Math.round(V(e)/n)),this.a=new Kr(e,n,1,r.canvas);r.putImageData(i,0,0),this.u(),this.V=this.g,this.b(new ix(nx,t,o))}}};var ex=null;function ix(t,e,i){Me.call(this,t),this.extent=e.extent,this.resolution=e.viewState.resolution/e.pixelRatio,this.data=i}s(ix,Me),tx.prototype.Wc=function(){return null};var ox="beforeoperations",nx="afteroperations";function rx(t){var e=t.layer.indexOf("-");e=hx[-1==e?t.layer:t.layer.slice(0,e)];var i=ax[t.layer];Tw.call(this,{attributions:sx,cacheSize:t.cacheSize,crossOrigin:"anonymous",maxZoom:void 0!=t.maxZoom?t.maxZoom:e.maxZoom,minZoom:void 0!=t.minZoom?t.minZoom:e.minZoom,opaque:i.opaque,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileLoadFunction:t.tileLoadFunction,url:void 0!==t.url?t.url:"https://stamen-tiles-{a-d}.a.ssl.fastly.net/"+t.layer+"/{z}/{x}/{y}."+i.Ob,wrapX:t.wrapX})}s(rx,Tw);var sx=['Map tiles by <a href="https://stamen.com/">Stamen Design</a>, under <a href="https://creativecommons.org/licenses/by/3.0/">CC BY 3.0</a>.','&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors.'],ax={terrain:{Ob:"jpg",opaque:!0},"terrain-background":{Ob:"jpg",opaque:!0},"terrain-labels":{Ob:"png",opaque:!1},"terrain-lines":{Ob:"png",opaque:!1},"toner-background":{Ob:"png",opaque:!0},toner:{Ob:"png",opaque:!0},"toner-hybrid":{Ob:"png",opaque:!1},"toner-labels":{Ob:"png",opaque:!1},"toner-lines":{Ob:"png",opaque:!1},"toner-lite":{Ob:"png",opaque:!0},watercolor:{Ob:"jpg",opaque:!0}},hx={terrain:{minZoom:4,maxZoom:18},toner:{minZoom:0,maxZoom:20},watercolor:{minZoom:1,maxZoom:16}};function lx(t){Mw.call(this,{attributions:(t=t||{}).attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,logo:t.logo,projection:t.projection,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction,url:t.url,urls:t.urls,wrapX:void 0===t.wrapX||t.wrapX,transition:t.transition}),this.i=t.params||{},this.l=[1/0,1/0,-1/0,-1/0],bw(this,px(this))}function px(t){var e,i=0,o=[];for(e in t.i)o[i++]=e+"-"+t.i[e];return o.join("/")}function ux(t){mw.call(this,{opaque:!1,projection:t.projection,tileGrid:t.tileGrid,wrapX:void 0===t.wrapX||t.wrapX})}function dx(t,e,i){Mh.call(this,t,2),this.c=e,this.ta=i,this.a=null}function cx(t){if(this.i=null,Mw.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,projection:Nt("EPSG:3857"),reprojectionErrorThreshold:t.reprojectionErrorThreshold,state:"loading",tileLoadFunction:t.tileLoadFunction,wrapX:void 0===t.wrapX||t.wrapX,transition:t.transition}),t.url)if(t.jsonp)lw(t.url,this.Cg.bind(this),this.ef.bind(this));else{var e=new XMLHttpRequest;e.addEventListener("load",this.bp.bind(this)),e.addEventListener("error",this.ap.bind(this)),e.open("GET",t.url),e.send()}else t.tileJSON?this.Cg(t.tileJSON):f(!1,51)}function fx(t){if(mw.call(this,{projection:Nt("EPSG:3857"),state:"loading"}),this.s=void 0===t.preemptive||t.preemptive,this.l=aw,this.f=void 0,this.i=t.jsonp||!1,t.url)if(this.i)lw(t.url,this.Dg.bind(this),this.ff.bind(this));else{var e=new XMLHttpRequest;e.addEventListener("load",this.gp.bind(this)),e.addEventListener("error",this.fp.bind(this)),e.open("GET",t.url),e.send()}else t.tileJSON?this.Dg(t.tileJSON):f(!1,51)}function yx(t,e,i,o,n,r){Mh.call(this,t,e),this.v=i,this.a=o,this.N=n,this.c=this.l=this.f=null,this.o=r}function gx(t){if(0==t.state)if(t.state=1,t.o)lw(t.v,t.bj.bind(t),t.Ne.bind(t));else{var e=new XMLHttpRequest;e.addEventListener("load",t.ep.bind(t)),e.addEventListener("error",t.cp.bind(t)),e.open("GET",t.v),e.send()}}function mx(t){var e=(t=t||{}).params||{};Mw.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,logo:t.logo,opaque:!(!("TRANSPARENT"in e)||e.TRANSPARENT),projection:t.projection,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileClass:t.tileClass,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction,url:t.url,urls:t.urls,wrapX:void 0===t.wrapX||t.wrapX,transition:t.transition}),this.o=void 0!==t.gutter?t.gutter:0,this.i=e,this.l=!0,this.B=t.serverType,this.$=void 0===t.hidpi||t.hidpi,this.ca=[1/0,1/0,-1/0,-1/0],wx(this),bw(this,bx(this))}function vx(t,e,i,o,n,r,s){var a=t.urls;if(a){if(s.WIDTH=i[0],s.HEIGHT=i[1],s[t.l?"CRS":"SRS"]=r.wb,"STYLES"in t.i||(s.STYLES=""),1!=n)switch(t.B){case"geoserver":i=90*n+.5|0,s.FORMAT_OPTIONS="FORMAT_OPTIONS"in s?s.FORMAT_OPTIONS+";dpi:"+i:"dpi:"+i;break;case"mapserver":s.MAP_RESOLUTION=90*n;break;case"carmentaserver":case"qgis":s.DPI=90*n;break;default:f(!1,52)}return r=r.b,t.l&&"ne"==r.substr(0,2)&&(t=o[0],o[0]=o[1],o[1]=t,t=o[2],o[2]=o[3],o[3]=t),s.BBOX=o.join(","),Uw(1==a.length?a[0]:a[w((e[1]<<e[0])+e[2],a.length)],s)}}function bx(t){var e,i=0,o=[];for(e in t.i)o[i++]=e+"-"+t.i[e];return o.join("/")}function wx(t){t.l=0<=Yi(t.i.VERSION||"1.3.0")}function xx(t,e,i,o,n,r,s,a,h,l,p,u,d,c,f){if(Mh.call(this,t,e,f),this.v={},this.o={},this.c=l,this.a=[],this.D=i,this.l=r,this.f=[],this.N=[],r){var y=h.Ma(r),g=h.Ta(t[0]);a.Vf(y,a.Dc(g),(function(t){var e=X(y,a.Ma(t)),i=a.G();i&&(e=X(e,i)),.5<=J(e)/g&&.5<=V(e)/g&&(e=t.toString(),(i=l[e])||(i=s(t,p,u),i=l[e]=new d(t,void 0==i?4:0,void 0==i?"":i,o,n),this.N.push(ge(i,"change",c))),i.c++,this.a.push(e))}).bind(this))}}function _x(t,e){return(e=h(e).toString())in t.v||(t.v[e]=vn()),t.v[e]}function Mx(t,e){return(e=h(e).toString())in t.o||(t.o[e]={Be:!1,eh:null,wf:-1,fh:-1}),t.o[e]}function kx(t,e){t.ug(zu(e,t.v,t.Cp.bind(t),t.Bp.bind(t)))}function Sx(t){var e=t.projection||"EPSG:3857",i=t.extent||pe(e),o=t.tileGrid||ae({extent:i,maxZoom:t.maxZoom||22,minZoom:t.minZoom,tileSize:t.tileSize||512});_w.call(this,{attributions:t.attributions,cacheSize:void 0!==t.cacheSize?t.cacheSize:128,extent:i,logo:t.logo,opaque:!1,projection:e,state:t.state,tileGrid:o,tileLoadFunction:t.tileLoadFunction?t.tileLoadFunction:kx,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:void 0===t.wrapX||t.wrapX,transition:t.transition}),this.l=t.format?t.format:null,this.i={},this.s=void 0==t.overlaps||t.overlaps,this.tileClass=t.tileClass?t.tileClass:Up,this.f={}}function Cx(t){this.s=t.matrixIds,Qt.call(this,{extent:t.extent,origin:t.origin,origins:t.origins,resolutions:t.resolutions,tileSize:t.tileSize,tileSizes:t.tileSizes,sizes:t.sizes})}function Ex(t,e,i){var o=[],n=[],r=[],s=[],a=[],h=void 0!==i?i:[],l=(i=Nt((i=t.SupportedCRS).replace(/urn:ogc:def:crs:(\w+):(.*:)?(\w+)$/,"$1:$3"))||Nt(i)).Bc(),p="ne"==i.b.substr(0,2);return t.TileMatrix.sort(function(t,e){return e.ScaleDenominator-t.ScaleDenominator}),t.TileMatrix.forEach(function(t){var e;if(e=!(0<h.length)||Xt(h,function(e){return t.Identifier==e.TileMatrix})){n.push(t.Identifier),e=28e-5*t.ScaleDenominator/l;var i=t.TileWidth,u=t.TileHeight;r.push(p?[t.TopLeftCorner[1],t.TopLeftCorner[0]]:t.TopLeftCorner),o.push(e),s.push(i==u?i:[i,u]),a.push([t.MatrixWidth,-t.MatrixHeight])}}),new Cx({extent:e,origins:r,resolutions:o,matrixIds:n,tileSizes:s,sizes:a})}function Tx(t){this.La=void 0!==t.version?t.version:"1.0.0",this.B=void 0!==t.format?t.format:"image/jpeg",this.i=void 0!==t.dimensions?t.dimensions:{},this.$=t.layer,this.o=t.matrixSet,this.ca=t.style;var e=t.urls;void 0===e&&void 0!==t.url&&(e=hw(t.url));var i=this.ua=void 0!==t.requestEncoding?t.requestEncoding:"KVP",o=t.tileGrid,n={layer:this.$,style:this.ca,tilematrixset:this.o};"KVP"==i&&it(n,{Service:"WMTS",Request:"GetTile",Version:this.La,Format:this.B});var r=this.i;this.l=function(t){return t="KVP"==i?Uw(t,n):t.replace(/\{(\w+?)\}/g,function(t,e){return e.toLowerCase()in n?n[e.toLowerCase()]:t}),function(e){if(e){var n={TileMatrix:o.s[e[0]],TileCol:e[1],TileRow:-e[2]-1};return it(n,r),e=t,"KVP"==i?Uw(e,n):e.replace(/\{(\w+?)\}/g,function(t,e){return n[e]})}}};var s=e&&0<e.length?sw(e.map(this.l)):aw;Mw.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,logo:t.logo,projection:t.projection,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileClass:t.tileClass,tileGrid:o,tileLoadFunction:t.tileLoadFunction,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:s,urls:e,wrapX:void 0!==t.wrapX&&t.wrapX,transition:t.transition}),bw(this,Px(this))}function Px(t){var e,i=0,o=[];for(e in t.i)o[i++]=e+"-"+t.i[e];return o.join("/")}function Ax(t){var e=(t=t||{}).size,i=e[0],o=e[1];e=t.extent||[0,-e[1],e[0],0];var n=[],r=t.tileSize||256,s=r;switch(void 0!==t.tierSizeCalculation?t.tierSizeCalculation:Dx){case Dx:for(;i>s||o>s;)n.push([Math.ceil(i/s),Math.ceil(o/s)]),s+=s;break;case Ix:for(;i>s||o>s;)n.push([Math.ceil(i/s),Math.ceil(o/s)]),i>>=1,o>>=1;break;default:f(!1,53)}n.push([1,1]),n.reverse(),o=[1];var a=[0];for(s=1,i=n.length;s<i;s++)o.push(1<<s),a.push(n[s-1][0]*n[s-1][1]+a[s-1]);o.reverse();var h=new Qt({tileSize:r,extent:e,origin:Z(e),resolutions:o});(e=t.url)&&-1==e.indexOf("{TileGroup}")&&-1==e.indexOf("{tileIndex}")&&(e+="{TileGroup}/{z}-{x}-{y}.jpg"),e=sw((e=hw(e)).map(function(t){return function(e){if(e){var i=e[0],o=e[1],r=o+(e=-e[2]-1)*n[i][0],s={z:i,x:o,y:e,tileIndex:r,TileGroup:"TileGroup"+((r+a[i])/h.Za(i)|0)};return t.replace(/\{(\w+?)\}/g,function(t,e){return s[e]})}}})),Mw.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,logo:t.logo,projection:t.projection,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileClass:Ox.bind(null,h),tileGrid:h,tileUrlFunction:e,transition:t.transition})}function Ox(t,e,i,o,n,r,s){Th.call(this,e,i,o,n,r,s),this.a=null,this.o=k(t.Za(e[0]))}s(lx,Mw),lx.prototype.o=function(){return this.i},lx.prototype.Xc=function(t){return t},lx.prototype.dc=function(t,e,i){var o=this.tileGrid;if(o||(o=this.eb(i)),!(o.b.length<=t[0])){var n=o.Ma(t,this.l),r=k(o.Za(t[0]),this.j);1!=e&&(r=M(r,e,this.j)),it(o={F:"image",FORMAT:"PNG32",TRANSPARENT:!0},this.i);var s=this.urls;return s?(i=i.wb.split(":").pop(),o.SIZE=r[0]+","+r[1],o.BBOX=n.join(","),o.BBOXSR=i,o.IMAGESR=i,o.DPI=Math.round(o.DPI?o.DPI*e:90*e),t=Uw(t=(1==s.length?s[0]:s[w((t[1]<<t[0])+t[2],s.length)]).replace(/MapServer\/?$/,"MapServer/export").replace(/ImageServer\/?$/,"ImageServer/exportImage"),o)):t=void 0,t}},lx.prototype.B=function(t){it(this.i,t),bw(this,px(this))},s(ux,mw),ux.prototype.ad=function(t,e,i){var o=t+"/"+e+"/"+i;if(this.a.a.hasOwnProperty(o))return this.a.get(o);var n=k(this.tileGrid.Za(t));return n=new dx(t=[t,e,i],n,e=(e=ww(this,t))?ww(this,e).toString():""),this.a.set(o,n),n},s(dx,Mh),dx.prototype.Y=function(){if(this.a)return this.a;var t=this.c,e=vn(t[0],t[1]);return e.strokeStyle="black",e.strokeRect(.5,.5,t[0]+.5,t[1]+.5),e.fillStyle="black",e.textAlign="center",e.textBaseline="middle",e.font="24px sans-serif",e.fillText(this.ta,t[0]/2,t[1]/2),this.a=e.canvas},dx.prototype.load=function(){},s(cx,Mw),(t=cx.prototype).bp=function(t){if(!(t=t.target).status||200<=t.status&&300>t.status){try{var e=JSON.parse(t.responseText)}catch(t){return void this.ef()}this.Cg(e)}else this.ef()},t.ap=function(){this.ef()},t.Sl=function(){return this.i},t.Cg=function(t){var e=Nt("EPSG:4326"),i=this.c;if(void 0!==t.bounds){var o=Ft(e,i);o=et(t.bounds,o)}var n=t.minzoom||0,r=t.maxzoom||22;if(this.tileGrid=i=ae({extent:pe(i),maxZoom:r,minZoom:n}),this.tileUrlFunction=rw(t.tiles,i),void 0!==t.attribution&&!this.C){var s=void 0!==o?o:e.G();this.va(function(e){return $(s,e.extent)?[t.attribution]:null})}this.i=t,Uv(this,"ready")},t.ef=function(){Uv(this,"error")},s(fx,mw),(t=fx.prototype).gp=function(t){if(!(t=t.target).status||200<=t.status&&300>t.status){try{var e=JSON.parse(t.responseText)}catch(t){return void this.ff()}this.Dg(e)}else this.ff()},t.fp=function(){this.ff()},t.Pl=function(){return this.f},t.al=function(t,e,i,o,n){this.tileGrid?(e=this.tileGrid.Le(t,e),function(t,e,i,o,n){0==t.state&&!0===n?(me(t,"change",function(){i.call(o,this.getData(e))},t),gx(t)):!0===n?setTimeout((function(){i.call(o,this.getData(e))}).bind(t),0):i.call(o,t.getData(e))}(this.ad(e[0],e[1],e[2],1,this.c),t,i,o,n)):!0===n?setTimeout(function(){i.call(o,null)},0):i.call(o,null)},t.ff=function(){Uv(this,"error")},t.Dg=function(t){var e=Nt("EPSG:4326"),i=this.c;if(void 0!==t.bounds){var o=Ft(e,i);o=et(t.bounds,o)}var n=t.minzoom||0,r=t.maxzoom||22;if(this.tileGrid=i=ae({extent:pe(i),maxZoom:r,minZoom:n}),this.f=t.template,n=t.grids){if(this.l=rw(n,i),void 0!==t.attribution){var s=void 0!==o?o:e.G();this.va(function(e){return $(s,e.extent)?[t.attribution]:null})}Uv(this,"ready")}else Uv(this,"error")},t.ad=function(t,e,i,o,n){var r=t+"/"+e+"/"+i;return this.a.a.hasOwnProperty(r)?this.a.get(r):(e=ww(this,t=[t,e,i],n),o=new yx(t,void 0!==(o=this.l(e,o,n))?0:4,void 0!==o?o:"",this.tileGrid.Ma(t),this.s,this.i),this.a.set(r,o),o)},t.kh=function(t,e,i){this.a.a.hasOwnProperty(t=t+"/"+e+"/"+i)&&this.a.get(t)},s(yx,Mh),(t=yx.prototype).Y=function(){return null},t.getData=function(t){if(!this.f||!this.l)return null;var e=this.f[Math.floor((1-(t[1]-this.a[1])/(this.a[3]-this.a[1]))*this.f.length)];return"string"!=typeof e?null:(93<=(e=e.charCodeAt(Math.floor((t[0]-this.a[0])/(this.a[2]-this.a[0])*e.length)))&&e--,35<=e&&e--,t=null,(e-=32)in this.l&&(e=this.l[e],t=this.c&&e in this.c?this.c[e]:e),t)},t.lb=function(){return this.v},t.Ne=function(){this.state=3,this.u()},t.bj=function(t){this.f=t.grid,this.l=t.keys,this.c=t.data,this.state=4,this.u()},t.ep=function(t){if(!(t=t.target).status||200<=t.status&&300>t.status){try{var e=JSON.parse(t.responseText)}catch(t){return void this.Ne()}this.bj(e)}else this.Ne()},t.cp=function(){this.Ne()},t.load=function(){this.N&&gx(this)},s(mx,Mw),(t=mx.prototype).hp=function(t,e,i,o){i=Nt(i);var n=this.c,r=this.tileGrid;if(r||(r=this.eb(i)),e=r.Le(t,e),!(r.b.length<=e[0])){var s=r.Ta(e[0]),a=r.Ma(e,this.ca);r=k(r.Za(e[0]),this.j);var h=this.o;return 0!==h&&(r=_(r,h,this.j),a=C(a,s*h,a)),n&&n!==i&&(s=uw(n,i,t,s),a=Ht(a,i,n),t=qt(t,i,n)),it(h={SERVICE:"WMS",VERSION:"1.3.0",REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.i.LAYERS},this.i,o),o=Math.floor((a[3]-t[1])/s),h[this.l?"I":"X"]=Math.floor((t[0]-a[0])/s),h[this.l?"J":"Y"]=o,vx(this,e,r,a,1,n||i,h)}},t.$f=function(){return this.o},t.ip=function(){return this.i},t.Xc=function(t){return this.$&&void 0!==this.B?t:1},t.dc=function(t,e,i){var o=this.tileGrid;if(o||(o=this.eb(i)),!(o.b.length<=t[0])){1==e||this.$&&void 0!==this.B||(e=1);var n=o.Ta(t[0]),r=o.Ma(t,this.ca);o=k(o.Za(t[0]),this.j);var s=this.o;return 0!==s&&(o=_(o,s,this.j),r=C(r,n*s,r)),1!=e&&(o=M(o,e,this.j)),it(n={SERVICE:"WMS",VERSION:"1.3.0",REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0},this.i),vx(this,t,o,r,e,i,n)}},t.jp=function(t){it(this.i,t),wx(this),bw(this,bx(this))},s(xx,Mh),(t=xx.prototype).ia=function(){for(var t=0,e=this.a.length;t<e;++t){var i=this.a[t],o=this.c[i];o.c--,0==o.c&&(delete this.c[i],_e(o))}this.a.length=0,this.c=null,this.f.forEach(be),this.f.length=0,this.g&&_e(this.g),this.state=5,this.u(),this.N.forEach(be),this.N.length=0,Mh.prototype.ia.call(this)},t.Y=function(t){return-1==Mx(this,t).fh?null:_x(this,t).canvas},t.lb=function(){return this.a.join("/")+"-"+this.D},t.load=function(){var t=0,e={};0==this.state&&Ch(this,1),1==this.state&&this.a.forEach((function(i){var o=this.c[i];0==o.state&&(o.ug(this.C),o.load()),1==o.state&&(i=ge(o,"change",(function(){var i=o.getState();if(2==i||3==i){var n=h(o);3==i?e[n]=!0:(--t,delete e[n]),0==t-Object.keys(e).length&&this.Kh()}}).bind(this)),this.f.push(i),++t)}).bind(this)),0==t-Object.keys(e).length&&setTimeout(this.Kh.bind(this),0)},t.Kh=function(){for(var t=this.a.length,e=0,i=t-1;0<=i;--i){var o=this.c[this.a[i]].getState();2!=o&&--t,4==o&&++e}t==this.a.length?(this.f.forEach(be),this.f.length=0,Ch(this,2)):Ch(this,e==this.a.length?4:3)},s(Sx,_w),(t=Sx.prototype).clear=function(){this.a.clear(),this.i={}},t.ad=function(t,e,i,o,n){var r=t+"/"+e+"/"+i;return this.a.a.hasOwnProperty(r)?this.a.get(r):(o=new xx(t=[t,e,i],null!==(e=ww(this,t,n))?0:4,this.g,this.l,this.tileLoadFunction,e,this.tileUrlFunction,this.tileGrid,this.eb(n),this.i,o,n,this.tileClass,this.dj.bind(this),this.Ea),this.a.set(r,o),o)},t.eb=function(t){var e=t.wb,i=this.f[e];return i||(i=this.f[e]=le(t,void 0,(i=this.tileGrid)?i.Za(i.minZoom):void 0)),i},t.Xc=function(t){return t},t.Zd=function(t,e,i){return t=k(this.eb(i).Za(t)),[Math.round(t[0]*e),Math.round(t[1]*e)]},s(Cx,Qt),Cx.prototype.v=function(){return this.s},s(Tx,Mw),(t=Tx.prototype).vb=function(t){this.urls=t;var e=t.join("\n");this.hb(this.dc?this.dc.bind(this):sw(t.map(this.l.bind(this))),e)},t.ol=function(){return this.i},t.kp=function(){return this.B},t.lp=function(){return this.$},t.Al=function(){return this.o},t.Nl=function(){return this.ua},t.mp=function(){return this.ca},t.Ul=function(){return this.La},t.Tq=function(t){it(this.i,t),bw(this,Px(this))},s(Ax,Mw),s(Ox,Th),Ox.prototype.Y=function(){if(this.a)return this.a;var t=Th.prototype.Y.call(this);if(2==this.state){var e=this.o;return t.width==e[0]&&t.height==e[1]?this.a=t:((e=vn(e[0],e[1])).drawImage(t,0,0),this.a=e.canvas)}return t};var Dx="default",Ix="truncated";return p.prototype.code=p.prototype.code,r("ol.Attribution",ue),ue.prototype.getHTML=ue.prototype.b,r("ol.CanvasMap",Ga),r("ol.Collection",Ie),Ie.prototype.clear=Ie.prototype.clear,Ie.prototype.extend=Ie.prototype.qg,Ie.prototype.forEach=Ie.prototype.forEach,Ie.prototype.getArray=Ie.prototype.Xm,Ie.prototype.item=Ie.prototype.item,Ie.prototype.getLength=Ie.prototype.kc,Ie.prototype.insertAt=Ie.prototype.Re,Ie.prototype.pop=Ie.prototype.pop,Ie.prototype.push=Ie.prototype.push,Ie.prototype.remove=Ie.prototype.remove,Ie.prototype.removeAt=Ie.prototype.Wg,Ie.prototype.setAt=Ie.prototype.rq,je.prototype.element=je.prototype.element,r("ol.color.asArray",ms),r("ol.color.asString",vs),r("ol.colorlike.asColorLike",xs),r("ol.control.defaults",Un),r("ol.coordinate.add",Vi),r("ol.coordinate.createStringXY",function(t){return function(e){return oo(e,t)}}),r("ol.coordinate.format",Ki),r("ol.coordinate.rotate",$i),r("ol.coordinate.toStringHDMS",function(t,e){return t?Zi("NS",t[1],e)+" "+Zi("EW",t[0],e):""}),r("ol.coordinate.toStringXY",oo),r("ol.DeviceOrientation",Ya),Ya.prototype.getAlpha=Ya.prototype.Ym,Ya.prototype.getBeta=Ya.prototype.ll,Ya.prototype.getGamma=Ya.prototype.ql,Ya.prototype.getHeading=Ya.prototype.Zm,Ya.prototype.getTracking=Ya.prototype.li,Ya.prototype.setTracking=Ya.prototype.rg,r("ol.easing.easeIn",no),r("ol.easing.easeOut",ro),r("ol.easing.inAndOut",so),r("ol.easing.linear",ao),r("ol.easing.upAndDown",function(t){return.5>t?so(2*t):1-so(2*(t-.5))}),r("ol.extent.boundingExtent",S),r("ol.extent.buffer",C),r("ol.extent.containsCoordinate",P),r("ol.extent.containsExtent",A),r("ol.extent.containsXY",O),r("ol.extent.createEmpty",function(){return[1/0,1/0,-1/0,-1/0]}),r("ol.extent.equals",j),r("ol.extent.extend",F),r("ol.extent.getArea",H),r("ol.extent.getBottomLeft",U),r("ol.extent.getBottomRight",W),r("ol.extent.getCenter",G),r("ol.extent.getHeight",V),r("ol.extent.getIntersection",X),r("ol.extent.getSize",function(t){return[t[2]-t[0],t[3]-t[1]]}),r("ol.extent.getTopLeft",Z),r("ol.extent.getTopRight",K),r("ol.extent.getWidth",J),r("ol.extent.intersects",$),r("ol.extent.isEmpty",Q),r("ol.extent.applyTransform",et),r("ol.Feature",ph),ph.prototype.clone=ph.prototype.clone,ph.prototype.getGeometry=ph.prototype.U,ph.prototype.getId=ph.prototype.an,ph.prototype.getGeometryName=ph.prototype.sl,ph.prototype.getStyle=ph.prototype.bn,ph.prototype.getStyleFunction=ph.prototype.ib,ph.prototype.setGeometry=ph.prototype.Va,ph.prototype.setStyle=ph.prototype.sg,ph.prototype.setId=ph.prototype.qc,ph.prototype.setGeometryName=ph.prototype.Lc,r("ol.featureloader.xhr",Bu),r("ol.Geolocation",uh),uh.prototype.getAccuracy=uh.prototype.el,uh.prototype.getAccuracyGeometry=uh.prototype.fl,uh.prototype.getAltitude=uh.prototype.gl,uh.prototype.getAltitudeAccuracy=uh.prototype.hl,uh.prototype.getHeading=uh.prototype.cn,uh.prototype.getPosition=uh.prototype.dn,uh.prototype.getProjection=uh.prototype.mi,uh.prototype.getSpeed=uh.prototype.Ol,uh.prototype.getTracking=uh.prototype.ni,uh.prototype.getTrackingOptions=uh.prototype.ai,uh.prototype.setProjection=uh.prototype.oi,uh.prototype.setTracking=uh.prototype.Ue,uh.prototype.setTrackingOptions=uh.prototype.Rj,r("ol.Graticule",mh),mh.prototype.getMap=mh.prototype.gn,mh.prototype.getMeridians=mh.prototype.Cl,mh.prototype.getParallels=mh.prototype.Jl,mh.prototype.setMap=mh.prototype.setMap,r("ol.has.DEVICE_PIXEL_RATIO",Ze),r("ol.has.CANVAS",Je),r("ol.has.DEVICE_ORIENTATION",$e),r("ol.has.GEOLOCATION",Qe),r("ol.has.TOUCH",ti),r("ol.has.WEBGL",He),_h.prototype.getImage=_h.prototype.Y,_h.prototype.load=_h.prototype.load,Th.prototype.getImage=Th.prototype.Y,r("ol.inherits",s),r("ol.interaction.defaults",Xr),r("ol.Kinetic",Wn),r("ol.loadingstrategy.all",Bv),r("ol.loadingstrategy.bbox",function(t){return[t]}),r("ol.loadingstrategy.tile",function(t){return function(e,i){i=t.Dc(i),e=oe(t,e,i);var o=[];for((i=[i,0,0])[1]=e.fa;i[1]<=e.la;++i[1])for(i[2]=e.ea;i[2]<=e.ka;++i[2])o.push(t.Ma(i));return o}}),r("ol.Map",Ip),ze.prototype.originalEvent=ze.prototype.originalEvent,ze.prototype.pixel=ze.prototype.pixel,ze.prototype.coordinate=ze.prototype.coordinate,ze.prototype.dragging=ze.prototype.dragging,Fe.prototype.map=Fe.prototype.map,Fe.prototype.frameState=Fe.prototype.frameState,r("ol.Object",Te),Te.prototype.get=Te.prototype.get,Te.prototype.getKeys=Te.prototype.P,Te.prototype.getProperties=Te.prototype.L,Te.prototype.set=Te.prototype.set,Te.prototype.setProperties=Te.prototype.H,Te.prototype.unset=Te.prototype.R,De.prototype.key=De.prototype.key,De.prototype.oldValue=De.prototype.oldValue,r("ol.Observable",Ee),r("ol.Observable.unByKey",function(t){if(Array.isArray(t))for(var e=0,i=t.length;e<i;++e)be(t[e]);else be(t)}),Ee.prototype.changed=Ee.prototype.u,Ee.prototype.dispatchEvent=Ee.prototype.b,Ee.prototype.getRevision=Ee.prototype.K,Ee.prototype.on=Ee.prototype.I,Ee.prototype.once=Ee.prototype.once,Ee.prototype.un=Ee.prototype.J,r("ol.Overlay",Rp),Rp.prototype.getElement=Rp.prototype.Rd,Rp.prototype.getId=Rp.prototype.nn,Rp.prototype.getMap=Rp.prototype.Ve,Rp.prototype.getOffset=Rp.prototype.Xh,Rp.prototype.getPosition=Rp.prototype.pi,Rp.prototype.getPositioning=Rp.prototype.Yh,Rp.prototype.setElement=Rp.prototype.Hj,Rp.prototype.setMap=Rp.prototype.setMap,Rp.prototype.setOffset=Rp.prototype.Mj,Rp.prototype.setPosition=Rp.prototype.We,Rp.prototype.setPositioning=Rp.prototype.Pj,r("ol.PluggableMap",Pn),Pn.prototype.addControl=Pn.prototype.Mf,Pn.prototype.addInteraction=Pn.prototype.Nf,Pn.prototype.addLayer=Pn.prototype.xe,Pn.prototype.addOverlay=Pn.prototype.ye,Pn.prototype.forEachFeatureAtPixel=Pn.prototype.Tc,Pn.prototype.getFeaturesAtPixel=Pn.prototype.Xf,Pn.prototype.forEachLayerAtPixel=Pn.prototype.tg,Pn.prototype.hasFeatureAtPixel=Pn.prototype.ng,Pn.prototype.getEventCoordinate=Pn.prototype.Sd,Pn.prototype.getEventPixel=Pn.prototype.ud,Pn.prototype.getTarget=Pn.prototype.Xd,Pn.prototype.getTargetElement=Pn.prototype.Cc,Pn.prototype.getCoordinateFromPixel=Pn.prototype.Ra,Pn.prototype.getControls=Pn.prototype.Wf,Pn.prototype.getOverlays=Pn.prototype.gg,Pn.prototype.getOverlayById=Pn.prototype.fg,Pn.prototype.getInteractions=Pn.prototype.bg,Pn.prototype.getLayerGroup=Pn.prototype.hc,Pn.prototype.getLayers=Pn.prototype.Xe,Pn.prototype.getPixelFromCoordinate=Pn.prototype.Ia,Pn.prototype.getSize=Pn.prototype.Cb,Pn.prototype.getView=Pn.prototype.aa,Pn.prototype.getViewport=Pn.prototype.kg,Pn.prototype.renderSync=Pn.prototype.dh,Pn.prototype.render=Pn.prototype.render,Pn.prototype.removeControl=Pn.prototype.Xg,Pn.prototype.removeInteraction=Pn.prototype.Zg,Pn.prototype.removeLayer=Pn.prototype.$g,Pn.prototype.removeOverlay=Pn.prototype.ah,Pn.prototype.setLayerGroup=Pn.prototype.zf,Pn.prototype.setSize=Pn.prototype.be,Pn.prototype.setTarget=Pn.prototype.Ad,Pn.prototype.setView=Pn.prototype.jh,Pn.prototype.updateSize=Pn.prototype.Oc,r("ol.proj.METERS_PER_UNIT",pt),r("ol.proj.setProj4",function(t){ut=t}),r("ol.proj.getPointResolution",Pt),r("ol.proj.addEquivalentProjections",At),r("ol.proj.addProjection",Ot),r("ol.proj.addCoordinateTransforms",It),r("ol.proj.fromLonLat",function(t,e){return qt(t,"EPSG:4326",void 0!==e?e:"EPSG:3857")}),r("ol.proj.toLonLat",function(t,e){return(-180>(e=(t=qt(t,void 0!==e?e:"EPSG:3857","EPSG:4326"))[0])||180<e)&&(t[0]=w(e+180,360)-180),t}),r("ol.proj.get",Nt),r("ol.proj.equivalent",Lt),r("ol.proj.getTransform",jt),r("ol.proj.transform",qt),r("ol.proj.transformExtent",Ht),r("ol.render.toContext",function(t,e){var i=t.canvas,o=e||{};return e=o.pixelRatio||Ze,(o=o.size)&&(i.width=o[0]*e,i.height=o[1]*e,i.style.width=o[0]+"px",i.style.height=o[1]+"px"),new Ms(t,e,i=[0,0,i.width,i.height],o=wo([1,0,0,1,0,0],e,e),0)}),r("ol.size.toSize",k),r("ol.Sphere",st),st.prototype.geodesicArea=st.prototype.a,st.prototype.haversineDistance=st.prototype.b,r("ol.Sphere.getLength",function t(e,i){var o=i||{},n=o.radius||6371008.8;o=o.projection||"EPSG:3857";var r,s=(e=e.clone().mb(o,"EPSG:4326")).S();switch(o=0,s){case"Point":case"MultiPoint":break;case"LineString":case"LinearRing":o=at(i=e.W(),n);break;case"MultiLineString":case"Polygon":for(i=e.W(),e=0,s=i.length;e<s;++e)o+=at(i[e],n);break;case"MultiPolygon":for(i=e.W(),e=0,s=i.length;e<s;++e){var a=i[e],h=0;for(r=a.length;h<r;++h)o+=at(a[h],n)}break;case"GeometryCollection":for(n=e.vd(),e=0,s=n.length;e<s;++e)o+=t(n[e],i);break;default:throw Error("Unsupported geometry type: "+s)}return o}),r("ol.Sphere.getArea",function t(e,i){var o=i||{},n=o.radius||6371008.8;o=o.projection||"EPSG:3857";var r,s=(e=e.clone().mb(o,"EPSG:4326")).S();switch(o=0,s){case"Point":case"MultiPoint":case"LineString":case"MultiLineString":case"LinearRing":break;case"Polygon":for(i=e.W(),o=Math.abs(lt(i[0],n)),e=1,s=i.length;e<s;++e)o-=Math.abs(lt(i[e],n));break;case"MultiPolygon":for(i=e.W(),e=0,s=i.length;e<s;++e){var a=i[e];o+=Math.abs(lt(a[0],n));var h=1;for(r=a.length;h<r;++h)o-=Math.abs(lt(a[h],n))}break;case"GeometryCollection":for(n=e.vd(),e=0,s=n.length;e<s;++e)o+=t(n[e],i);break;default:throw Error("Unsupported geometry type: "+s)}return o}),r("ol.style.iconImageCache",Gs),Mh.prototype.getTileCoord=Mh.prototype.i,Mh.prototype.load=Mh.prototype.load,r("ol.tilegrid.createXYZ",ae),Up.prototype.getExtent=Up.prototype.G,Up.prototype.getFormat=Up.prototype.qn,Up.prototype.getFeatures=Up.prototype.pn,Up.prototype.getProjection=Up.prototype.rn,Up.prototype.setExtent=Up.prototype.ri,Up.prototype.setFeatures=Up.prototype.Ij,Up.prototype.setProjection=Up.prototype.vg,Up.prototype.setLoader=Up.prototype.ug,r("ol.View",pn),pn.prototype.animate=pn.prototype.animate,pn.prototype.getAnimating=pn.prototype.Ac,pn.prototype.getInteracting=pn.prototype.Vh,pn.prototype.cancelAnimations=pn.prototype.rd,pn.prototype.constrainCenter=pn.prototype.Sc,pn.prototype.constrainResolution=pn.prototype.constrainResolution,pn.prototype.constrainRotation=pn.prototype.constrainRotation,pn.prototype.getCenter=pn.prototype.xa,pn.prototype.calculateExtent=pn.prototype.qd,pn.prototype.getMaxResolution=pn.prototype.sn,pn.prototype.getMinResolution=pn.prototype.vn,pn.prototype.getMaxZoom=pn.prototype.tn,pn.prototype.setMaxZoom=pn.prototype.Cq,pn.prototype.getMinZoom=pn.prototype.wn,pn.prototype.setMinZoom=pn.prototype.Dq,pn.prototype.getProjection=pn.prototype.xn,pn.prototype.getResolution=pn.prototype.Pa,pn.prototype.getResolutions=pn.prototype.yn,pn.prototype.getResolutionForExtent=pn.prototype.Je,pn.prototype.getRotation=pn.prototype.Sa,pn.prototype.getZoom=pn.prototype.lg,pn.prototype.getZoomForResolution=pn.prototype.Me,pn.prototype.getResolutionForZoom=pn.prototype.$h,pn.prototype.fit=pn.prototype.Uf,pn.prototype.centerOn=pn.prototype.Nk,pn.prototype.rotate=pn.prototype.rotate,pn.prototype.setCenter=pn.prototype.ub,pn.prototype.setResolution=pn.prototype.gd,pn.prototype.setRotation=pn.prototype.ce,pn.prototype.setZoom=pn.prototype.Tj,r("ol.xml.getAllTextContent",wu),r("ol.xml.parse",Mu),Kh.prototype.getGL=Kh.prototype.yp,Kh.prototype.useProgram=Kh.prototype.cd,r("ol.tilegrid.TileGrid",Qt),Qt.prototype.forEachTileCoord=Qt.prototype.Vf,Qt.prototype.getMaxZoom=Qt.prototype.mj,Qt.prototype.getMinZoom=Qt.prototype.nj,Qt.prototype.getOrigin=Qt.prototype.Ic,Qt.prototype.getResolution=Qt.prototype.Ta,Qt.prototype.getResolutions=Qt.prototype.oj,Qt.prototype.getTileCoordExtent=Qt.prototype.Ma,Qt.prototype.getTileCoordForCoordAndResolution=Qt.prototype.Le,Qt.prototype.getTileCoordForCoordAndZ=Qt.prototype.jg,Qt.prototype.getTileSize=Qt.prototype.Za,Qt.prototype.getZForResolution=Qt.prototype.Dc,r("ol.tilegrid.WMTS",Cx),Cx.prototype.getMatrixIds=Cx.prototype.v,r("ol.tilegrid.WMTS.createFromCapabilitiesMatrixSet",Ex),r("ol.style.AtlasManager",ap),r("ol.style.Circle",eh),eh.prototype.setRadius=eh.prototype.fd,r("ol.style.Fill",ih),ih.prototype.clone=ih.prototype.clone,ih.prototype.getColor=ih.prototype.g,ih.prototype.setColor=ih.prototype.c,r("ol.style.Icon",rf),rf.prototype.clone=rf.prototype.clone,rf.prototype.getAnchor=rf.prototype.Vc,rf.prototype.getColor=rf.prototype.np,rf.prototype.getImage=rf.prototype.Y,rf.prototype.getOrigin=rf.prototype.bd,rf.prototype.getSrc=rf.prototype.op,rf.prototype.getSize=rf.prototype.oc,rf.prototype.load=rf.prototype.load,Us.prototype.setSize=Us.prototype.c,r("ol.style.Image",$a),$a.prototype.getOpacity=$a.prototype.hf,$a.prototype.getRotateWithView=$a.prototype.jf,$a.prototype.getRotation=$a.prototype.kf,$a.prototype.getScale=$a.prototype.lf,$a.prototype.getSnapToPixel=$a.prototype.Ke,$a.prototype.setOpacity=$a.prototype.Ed,$a.prototype.setRotation=$a.prototype.mf,$a.prototype.setScale=$a.prototype.Fd,r("ol.style.RegularShape",Qa),Qa.prototype.clone=Qa.prototype.clone,Qa.prototype.getAnchor=Qa.prototype.Vc,Qa.prototype.getAngle=Qa.prototype.ij,Qa.prototype.getFill=Qa.prototype.Fa,Qa.prototype.getImage=Qa.prototype.Y,Qa.prototype.getOrigin=Qa.prototype.bd,Qa.prototype.getPoints=Qa.prototype.jj,Qa.prototype.getRadius=Qa.prototype.kj,Qa.prototype.getRadius2=Qa.prototype.Zh,Qa.prototype.getSize=Qa.prototype.oc,Qa.prototype.getStroke=Qa.prototype.Ga,r("ol.style.Stroke",oh),oh.prototype.clone=oh.prototype.clone,oh.prototype.getColor=oh.prototype.pp,oh.prototype.getLineCap=oh.prototype.vl,oh.prototype.getLineDash=oh.prototype.qp,oh.prototype.getLineDashOffset=oh.prototype.wl,oh.prototype.getLineJoin=oh.prototype.xl,oh.prototype.getMiterLimit=oh.prototype.Dl,oh.prototype.getWidth=oh.prototype.rp,oh.prototype.setColor=oh.prototype.sp,oh.prototype.setLineCap=oh.prototype.yq,oh.prototype.setLineDash=oh.prototype.setLineDash,oh.prototype.setLineDashOffset=oh.prototype.zq,oh.prototype.setLineJoin=oh.prototype.Aq,oh.prototype.setMiterLimit=oh.prototype.Eq,oh.prototype.setWidth=oh.prototype.Kq,r("ol.style.Style",nh),nh.prototype.clone=nh.prototype.clone,nh.prototype.getRenderer=nh.prototype.Ie,nh.prototype.setRenderer=nh.prototype.Iq,nh.prototype.getGeometry=nh.prototype.U,nh.prototype.getGeometryFunction=nh.prototype.rl,nh.prototype.getFill=nh.prototype.Fa,nh.prototype.setFill=nh.prototype.yf,nh.prototype.getImage=nh.prototype.Y,nh.prototype.setImage=nh.prototype.ih,nh.prototype.getStroke=nh.prototype.Ga,nh.prototype.setStroke=nh.prototype.Af,nh.prototype.getText=nh.prototype.Ka,nh.prototype.setText=nh.prototype.Hd,nh.prototype.getZIndex=nh.prototype.Ba,nh.prototype.setGeometry=nh.prototype.Va,nh.prototype.setZIndex=nh.prototype.$b,r("ol.style.Text",gh),gh.prototype.clone=gh.prototype.clone,gh.prototype.getOverflow=gh.prototype.Gl,gh.prototype.getFont=gh.prototype.pl,gh.prototype.getMaxAngle=gh.prototype.Bl,gh.prototype.getPlacement=gh.prototype.Kl,gh.prototype.getOffsetX=gh.prototype.El,gh.prototype.getOffsetY=gh.prototype.Fl,gh.prototype.getFill=gh.prototype.Fa,gh.prototype.getRotateWithView=gh.prototype.tp,gh.prototype.getRotation=gh.prototype.up,gh.prototype.getScale=gh.prototype.vp,gh.prototype.getStroke=gh.prototype.Ga,gh.prototype.getText=gh.prototype.Ka,gh.prototype.getTextAlign=gh.prototype.Ql,gh.prototype.getTextBaseline=gh.prototype.Rl,gh.prototype.getBackgroundFill=gh.prototype.jl,gh.prototype.getBackgroundStroke=gh.prototype.kl,gh.prototype.getPadding=gh.prototype.Il,gh.prototype.setOverflow=gh.prototype.Fq,gh.prototype.setFont=gh.prototype.Jj,gh.prototype.setMaxAngle=gh.prototype.Bq,gh.prototype.setOffsetX=gh.prototype.Nj,gh.prototype.setOffsetY=gh.prototype.Oj,gh.prototype.setPlacement=gh.prototype.Hq,gh.prototype.setFill=gh.prototype.yf,gh.prototype.setRotation=gh.prototype.wp,gh.prototype.setScale=gh.prototype.lj,gh.prototype.setStroke=gh.prototype.Af,gh.prototype.setText=gh.prototype.Hd,gh.prototype.setTextAlign=gh.prototype.Qj,gh.prototype.setTextBaseline=gh.prototype.Jq,gh.prototype.setBackgroundFill=gh.prototype.sq,gh.prototype.setBackgroundStroke=gh.prototype.tq,gh.prototype.setPadding=gh.prototype.Gq,r("ol.source.BingMaps",Ew),r("ol.source.BingMaps.TOS_ATTRIBUTION",'<a class="ol-attribution-bing-tos" href="https://www.microsoft.com/maps/product/terms.html">Terms of Use</a>'),Ew.prototype.getApiKey=Ew.prototype.ca,Ew.prototype.getImagerySet=Ew.prototype.ua,r("ol.source.CartoDB",Pw),Pw.prototype.getConfig=Pw.prototype.nl,Pw.prototype.updateConfig=Pw.prototype.Sq,Pw.prototype.setConfig=Pw.prototype.uq,r("ol.source.Cluster",Dw),Dw.prototype.getDistance=Dw.prototype.Eo,Dw.prototype.getSource=Dw.prototype.Fo,Dw.prototype.setDistance=Dw.prototype.vq,r("ol.source.Image",Lw),zw.prototype.image=zw.prototype.image,r("ol.source.ImageArcGISRest",Ww),Ww.prototype.getParams=Ww.prototype.Ho,Ww.prototype.getImageLoadFunction=Ww.prototype.Go,Ww.prototype.getUrl=Ww.prototype.Io,Ww.prototype.setImageLoadFunction=Ww.prototype.Jo,Ww.prototype.setUrl=Ww.prototype.Ko,Ww.prototype.updateParams=Ww.prototype.Lo,r("ol.source.ImageCanvas",Gw),r("ol.source.ImageMapGuide",Yw),Yw.prototype.getParams=Yw.prototype.No,Yw.prototype.getImageLoadFunction=Yw.prototype.Mo,Yw.prototype.updateParams=Yw.prototype.Po,Yw.prototype.setImageLoadFunction=Yw.prototype.Oo,r("ol.source.ImageStatic",Vw),r("ol.source.ImageVector",Xw),Xw.prototype.getSource=Xw.prototype.Qo,Xw.prototype.getStyle=Xw.prototype.Ro,Xw.prototype.getStyleFunction=Xw.prototype.ib,Xw.prototype.setStyle=Xw.prototype.aj,r("ol.source.ImageWMS",Zw),Zw.prototype.getGetFeatureInfoUrl=Zw.prototype.Uo,Zw.prototype.getParams=Zw.prototype.Wo,Zw.prototype.getImageLoadFunction=Zw.prototype.Vo,Zw.prototype.getUrl=Zw.prototype.Xo,Zw.prototype.setImageLoadFunction=Zw.prototype.Yo,Zw.prototype.setUrl=Zw.prototype.Zo,Zw.prototype.updateParams=Zw.prototype.$o,r("ol.source.OSM",Qw),r("ol.source.OSM.ATTRIBUTION",'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors.'),r("ol.source.Raster",tx),tx.prototype.setOperation=tx.prototype.s,ix.prototype.extent=ix.prototype.extent,ix.prototype.resolution=ix.prototype.resolution,ix.prototype.data=ix.prototype.data,r("ol.source.Source",qv),qv.prototype.getAttributions=qv.prototype.za,qv.prototype.getLogo=qv.prototype.Aa,qv.prototype.getProjection=qv.prototype.Da,qv.prototype.getState=qv.prototype.getState,qv.prototype.refresh=qv.prototype.sa,qv.prototype.setAttributions=qv.prototype.va,r("ol.source.Stamen",rx),r("ol.source.Tile",mw),mw.prototype.getTileGrid=mw.prototype.jb,xw.prototype.tile=xw.prototype.tile,r("ol.source.TileArcGISRest",lx),lx.prototype.getParams=lx.prototype.o,lx.prototype.updateParams=lx.prototype.B,r("ol.source.TileDebug",ux),r("ol.source.TileImage",Mw),Mw.prototype.setRenderReprojectionEdges=Mw.prototype.Qb,Mw.prototype.setTileGridForProjection=Mw.prototype.Rb,r("ol.source.TileJSON",cx),cx.prototype.getTileJSON=cx.prototype.Sl,r("ol.source.TileUTFGrid",fx),fx.prototype.getTemplate=fx.prototype.Pl,fx.prototype.forDataAtCoordinateAndResolution=fx.prototype.al,r("ol.source.TileWMS",mx),mx.prototype.getGetFeatureInfoUrl=mx.prototype.hp,mx.prototype.getParams=mx.prototype.ip,mx.prototype.updateParams=mx.prototype.jp,_w.prototype.getTileLoadFunction=_w.prototype.yb,_w.prototype.getTileUrlFunction=_w.prototype.zb,_w.prototype.getUrls=_w.prototype.Ab,_w.prototype.setTileLoadFunction=_w.prototype.Fb,_w.prototype.setTileUrlFunction=_w.prototype.hb,_w.prototype.setUrl=_w.prototype.rb,_w.prototype.setUrls=_w.prototype.vb,r("ol.source.Vector",Wv),Wv.prototype.addFeature=Wv.prototype.Gb,Wv.prototype.addFeatures=Wv.prototype.Qc,Wv.prototype.clear=Wv.prototype.clear,Wv.prototype.forEachFeature=Wv.prototype.Lh,Wv.prototype.forEachFeatureInExtent=Wv.prototype.ec,Wv.prototype.forEachFeatureIntersectingExtent=Wv.prototype.Mh,Wv.prototype.getFeaturesCollection=Wv.prototype.Th,Wv.prototype.getFeatures=Wv.prototype.ee,Wv.prototype.getFeaturesAtCoordinate=Wv.prototype.Sh,Wv.prototype.getFeaturesInExtent=Wv.prototype.Yf,Wv.prototype.getClosestFeatureToCoordinate=Wv.prototype.Oh,Wv.prototype.getExtent=Wv.prototype.G,Wv.prototype.getFeatureById=Wv.prototype.Rh,Wv.prototype.getFormat=Wv.prototype.ej,Wv.prototype.getUrl=Wv.prototype.fj,Wv.prototype.removeLoadedExtent=Wv.prototype.Cj,Wv.prototype.removeFeature=Wv.prototype.Lb,Wv.prototype.setLoader=Wv.prototype.hj,Zv.prototype.feature=Zv.prototype.feature,r("ol.source.VectorTile",Sx),Sx.prototype.clear=Sx.prototype.clear,r("ol.source.WMTS",Tx),Tx.prototype.getDimensions=Tx.prototype.ol,Tx.prototype.getFormat=Tx.prototype.kp,Tx.prototype.getLayer=Tx.prototype.lp,Tx.prototype.getMatrixSet=Tx.prototype.Al,Tx.prototype.getRequestEncoding=Tx.prototype.Nl,Tx.prototype.getStyle=Tx.prototype.mp,Tx.prototype.getVersion=Tx.prototype.Ul,Tx.prototype.updateDimensions=Tx.prototype.Tq,r("ol.source.WMTS.optionsFromCapabilities",function(t,e){var i=Xt(t.Contents.Layer,function(t){return t.Identifier==e.layer});if(null===i)return null;var o=t.Contents.TileMatrixSet,n=1<i.TileMatrixSetLink.length?Jt(i.TileMatrixSetLink,"projection"in e?function(t){var i=Xt(o,function(e){return e.Identifier==t.TileMatrixSet}).SupportedCRS,n=Nt(i.replace(/urn:ogc:def:crs:(\w+):(.*:)?(\w+)$/,"$1:$3"))||Nt(i),r=Nt(e.projection);return n&&r?Lt(n,r):i==e.projection}:function(t){return t.TileMatrixSet==e.matrixSet}):0;0>n&&(n=0);var r=i.TileMatrixSetLink[n].TileMatrixSet,s=i.TileMatrixSetLink[n].TileMatrixSetLimits,a=i.Format[0];"format"in e&&(a=e.format),0>(n=Jt(i.Style,function(t){return"style"in e?t.Title==e.style:t.isDefault}))&&(n=0),n=i.Style[n].Identifier;var h={};"Dimension"in i&&i.Dimension.forEach(function(t){var e=t.Default;void 0===e&&(e=t.Value[0]),h[t.Identifier]=e});var l,p=Xt(t.Contents.TileMatrixSet,function(t){return t.Identifier==r}),u=p.SupportedCRS;if(u&&(l=Nt(u.replace(/urn:ogc:def:crs:(\w+):(.*:)?(\w+)$/,"$1:$3"))||Nt(u)),"projection"in e&&(!(u=Nt(e.projection))||l&&!Lt(u,l)||(l=u)),void 0!==(u=i.WGS84BoundingBox)){var d=Nt("EPSG:4326").G();d=u[0]==d[0]&&u[2]==d[2];var c=Ht(u,"EPSG:4326",l);(u=l.G())&&(A(u,c)||(c=void 0))}s=Ex(p,c,s);var f=[];if(p=void 0!==(p=e.requestEncoding)?p:"","OperationsMetadata"in t&&"GetTile"in t.OperationsMetadata)for(c=0,u=(t=t.OperationsMetadata.GetTile.DCP.HTTP.Get).length;c<u;++c)if(t[c].Constraint){var y=Xt(t[c].Constraint,function(t){return"GetEncoding"==t.name}).AllowedValues.Value;if(""===p&&(p=y[0]),"KVP"!==p)break;Gt(y,"KVP")&&f.push(t[c].href)}else t[c].href&&(p="KVP",f.push(t[c].href));return 0===f.length&&(p="REST",i.ResourceURL.forEach(function(t){"tile"===t.resourceType&&(a=t.format,f.push(t.template))})),{urls:f,layer:e.layer,matrixSet:r,format:a,projection:l,requestEncoding:p,tileGrid:s,style:n,dimensions:h,wrapX:d,crossOrigin:e.crossOrigin}}),r("ol.source.XYZ",Tw),r("ol.source.Zoomify",Ax),r("ol.renderer.webgl.ImageLayer",kp),r("ol.renderer.webgl.Map",Sp),r("ol.renderer.webgl.TileLayer",Op),r("ol.renderer.webgl.VectorLayer",Dp),r("ol.renderer.canvas.ImageLayer",Hs),r("ol.renderer.canvas.Map",Qs),r("ol.renderer.canvas.TileLayer",ea),r("ol.renderer.canvas.VectorLayer",qa),r("ol.renderer.canvas.VectorTileLayer",Ha),Jr.prototype.vectorContext=Jr.prototype.vectorContext,Jr.prototype.frameState=Jr.prototype.frameState,Jr.prototype.context=Jr.prototype.context,Jr.prototype.glContext=Jr.prototype.glContext,Gy.prototype.get=Gy.prototype.get,Gy.prototype.getExtent=Gy.prototype.G,Gy.prototype.getId=Gy.prototype.Ao,Gy.prototype.getGeometry=Gy.prototype.U,Gy.prototype.getProperties=Gy.prototype.Bo,Gy.prototype.getType=Gy.prototype.S,r("ol.render.VectorContext",_s),vp.prototype.setStyle=vp.prototype.Dd,vp.prototype.drawGeometry=vp.prototype.Hb,vp.prototype.drawFeature=vp.prototype.Ce,Ms.prototype.drawCircle=Ms.prototype.cc,Ms.prototype.setStyle=Ms.prototype.Dd,Ms.prototype.drawGeometry=Ms.prototype.Hb,Ms.prototype.drawFeature=Ms.prototype.Ce,r("ol.proj.common.add",Ut),r("ol.proj.Projection",dt),dt.prototype.getCode=dt.prototype.ml,dt.prototype.getExtent=dt.prototype.G,dt.prototype.getUnits=dt.prototype.zo,dt.prototype.getMetersPerUnit=dt.prototype.Bc,dt.prototype.getWorldExtent=dt.prototype.Vl,dt.prototype.getAxisOrientation=dt.prototype.il,dt.prototype.isGlobal=dt.prototype.Gm,dt.prototype.setGlobal=dt.prototype.xq,dt.prototype.setExtent=dt.prototype.Si,dt.prototype.setWorldExtent=dt.prototype.Sj,dt.prototype.setGetPointResolution=dt.prototype.wq,r("ol.proj.Units.METERS_PER_UNIT",pt),r("ol.layer.Base",xn),xn.prototype.getExtent=xn.prototype.G,xn.prototype.getMaxResolution=xn.prototype.lc,xn.prototype.getMinResolution=xn.prototype.mc,xn.prototype.getOpacity=xn.prototype.nc,xn.prototype.getVisible=xn.prototype.Jb,xn.prototype.getZIndex=xn.prototype.Ba,xn.prototype.setExtent=xn.prototype.Fc,xn.prototype.setMaxResolution=xn.prototype.Mc,xn.prototype.setMinResolution=xn.prototype.Nc,xn.prototype.setOpacity=xn.prototype.Gc,xn.prototype.setVisible=xn.prototype.Hc,xn.prototype.setZIndex=xn.prototype.$b,r("ol.layer.Group",Mn),Mn.prototype.getLayers=Mn.prototype.Cd,Mn.prototype.setLayers=Mn.prototype.Qi,r("ol.layer.Heatmap",Kb),Kb.prototype.getBlur=Kb.prototype.Nh,Kb.prototype.getGradient=Kb.prototype.Uh,Kb.prototype.getRadius=Kb.prototype.Ri,Kb.prototype.setBlur=Kb.prototype.Fj,Kb.prototype.setGradient=Kb.prototype.Lj,Kb.prototype.setRadius=Kb.prototype.fd,r("ol.layer.Image",ew),ew.prototype.getSource=ew.prototype.ha,r("ol.layer.Layer",Nn),Nn.prototype.getSource=Nn.prototype.ha,Nn.prototype.setMap=Nn.prototype.setMap,Nn.prototype.setSource=Nn.prototype.hd,r("ol.layer.Tile",iw),iw.prototype.getPreload=iw.prototype.c,iw.prototype.getSource=iw.prototype.ha,iw.prototype.setPreload=iw.prototype.j,iw.prototype.getUseInterimTilesOnError=iw.prototype.i,iw.prototype.setUseInterimTilesOnError=iw.prototype.C,r("ol.layer.Vector",Fv),Fv.prototype.getSource=Fv.prototype.ha,Fv.prototype.getStyle=Fv.prototype.B,Fv.prototype.getStyleFunction=Fv.prototype.ib,Fv.prototype.setStyle=Fv.prototype.j,r("ol.layer.VectorTile",ow),ow.prototype.getPreload=ow.prototype.c,ow.prototype.getUseInterimTilesOnError=ow.prototype.i,ow.prototype.setPreload=ow.prototype.T,ow.prototype.setUseInterimTilesOnError=ow.prototype.O,ow.prototype.getSource=ow.prototype.ha,r("ol.interaction.DoubleClickZoom",Kn),r("ol.interaction.DoubleClickZoom.handleEvent",Jn),r("ol.interaction.DragAndDrop",Ev),r("ol.interaction.DragAndDrop.handleEvent",ho),Iv.prototype.features=Iv.prototype.features,Iv.prototype.file=Iv.prototype.file,Iv.prototype.projection=Iv.prototype.projection,r("ol.interaction.DragBox",_r),_r.prototype.getGeometry=_r.prototype.U,Ar.prototype.coordinate=Ar.prototype.coordinate,Ar.prototype.mapBrowserEvent=Ar.prototype.mapBrowserEvent,r("ol.interaction.DragPan",ur),r("ol.interaction.DragRotate",yr),r("ol.interaction.DragRotateAndZoom",Rv),r("ol.interaction.DragZoom",Or),r("ol.interaction.Draw",Kv),r("ol.interaction.Draw.handleEvent",Jv),Kv.prototype.removeLastPoint=Kv.prototype.nq,Kv.prototype.finishDrawing=Kv.prototype.Pd,Kv.prototype.extend=Kv.prototype.Zn,r("ol.interaction.Draw.createRegularPolygon",function(t,e){return function(i,o){var n=i[0];i=i[1];var r=Math.sqrt(to(n,i));return ln(o=o||hn(new Sv(n),t),n,r,e||Math.atan((i[1]-n[1])/(i[0]-n[0]))),o}}),r("ol.interaction.Draw.createBox",function(){return function(t,e){return t=S(t),(e=e||new rn(null)).na([[U(t),W(t),K(t),Z(t),U(t)]]),e}}),pb.prototype.feature=pb.prototype.feature,r("ol.interaction.Extent",ub),ub.prototype.getExtent=ub.prototype.G,ub.prototype.setExtent=ub.prototype.f,wb.prototype.extent=wb.prototype.extent,r("ol.interaction.Interaction",Yn),Yn.prototype.getActive=Yn.prototype.c,Yn.prototype.getMap=Yn.prototype.i,Yn.prototype.setActive=Yn.prototype.Ha,r("ol.interaction.KeyboardPan",Dr),r("ol.interaction.KeyboardPan.handleEvent",Ir),r("ol.interaction.KeyboardZoom",Rr),r("ol.interaction.KeyboardZoom.handleEvent",Nr),r("ol.interaction.Modify",xb),r("ol.interaction.Modify.handleEvent",Pb),xb.prototype.removePoint=xb.prototype.Dj,Rb.prototype.features=Rb.prototype.features,Rb.prototype.mapBrowserEvent=Rb.prototype.mapBrowserEvent,r("ol.interaction.MouseWheelZoom",Lr),r("ol.interaction.MouseWheelZoom.handleEvent",jr),Lr.prototype.setMouseAnchor=Lr.prototype.V,r("ol.interaction.PinchRotate",Br),r("ol.interaction.PinchZoom",Wr),r("ol.interaction.Pointer",hr),r("ol.interaction.Pointer.handleEvent",pr),r("ol.interaction.Select",Nb),Nb.prototype.getFeatures=Nb.prototype.lo,Nb.prototype.getHitTolerance=Nb.prototype.mo,Nb.prototype.getLayer=Nb.prototype.no,r("ol.interaction.Select.handleEvent",Lb),Nb.prototype.setHitTolerance=Nb.prototype.po,Nb.prototype.setMap=Nb.prototype.setMap,jb.prototype.selected=jb.prototype.selected,jb.prototype.deselected=jb.prototype.deselected,jb.prototype.mapBrowserEvent=jb.prototype.mapBrowserEvent,r("ol.interaction.Snap",zb),zb.prototype.addFeature=zb.prototype.Gb,zb.prototype.removeFeature=zb.prototype.Lb,r("ol.interaction.Translate",Hb),Hb.prototype.getHitTolerance=Hb.prototype.B,Hb.prototype.setHitTolerance=Hb.prototype.T,Zb.prototype.features=Zb.prototype.features,Zb.prototype.coordinate=Zb.prototype.coordinate,r("ol.geom.Circle",Sv),Sv.prototype.clone=Sv.prototype.clone,Sv.prototype.getCenter=Sv.prototype.xa,Sv.prototype.getRadius=Sv.prototype.Bd,Sv.prototype.getType=Sv.prototype.S,Sv.prototype.intersectsExtent=Sv.prototype.$a,Sv.prototype.setCenter=Sv.prototype.ub,Sv.prototype.setCenterAndRadius=Sv.prototype.hh,Sv.prototype.setRadius=Sv.prototype.fd,Sv.prototype.transform=Sv.prototype.mb,r("ol.geom.Geometry",ko),ko.prototype.getClosestPoint=ko.prototype.Ib,ko.prototype.intersectsCoordinate=ko.prototype.Bb,ko.prototype.getExtent=ko.prototype.G,ko.prototype.rotate=ko.prototype.rotate,ko.prototype.scale=ko.prototype.scale,ko.prototype.simplify=ko.prototype.Sb,ko.prototype.transform=ko.prototype.mb,r("ol.geom.GeometryCollection",Sc),Sc.prototype.clone=Sc.prototype.clone,Sc.prototype.getGeometries=Sc.prototype.vd,Sc.prototype.getType=Sc.prototype.S,Sc.prototype.intersectsExtent=Sc.prototype.$a,Sc.prototype.setGeometries=Sc.prototype.Kj,Sc.prototype.applyTransform=Sc.prototype.Rc,Sc.prototype.translate=Sc.prototype.translate,r("ol.geom.LinearRing",Wo),Wo.prototype.clone=Wo.prototype.clone,Wo.prototype.getArea=Wo.prototype.Vn,Wo.prototype.getCoordinates=Wo.prototype.W,Wo.prototype.getType=Wo.prototype.S,Wo.prototype.setCoordinates=Wo.prototype.na,r("ol.geom.LineString",fh),fh.prototype.appendCoordinate=fh.prototype.Fk,fh.prototype.clone=fh.prototype.clone,fh.prototype.forEachSegment=fh.prototype.dl,fh.prototype.getCoordinateAtM=fh.prototype.Tn,fh.prototype.getCoordinates=fh.prototype.W,fh.prototype.getCoordinateAt=fh.prototype.Ph,fh.prototype.getLength=fh.prototype.Un,fh.prototype.getType=fh.prototype.S,fh.prototype.intersectsExtent=fh.prototype.$a,fh.prototype.setCoordinates=fh.prototype.na,r("ol.geom.MultiLineString",Vu),Vu.prototype.appendLineString=Vu.prototype.Gk,Vu.prototype.clone=Vu.prototype.clone,Vu.prototype.getCoordinateAtM=Vu.prototype.Wn,Vu.prototype.getCoordinates=Vu.prototype.W,Vu.prototype.getLineString=Vu.prototype.yl,Vu.prototype.getLineStrings=Vu.prototype.wd,Vu.prototype.getType=Vu.prototype.S,Vu.prototype.intersectsExtent=Vu.prototype.$a,Vu.prototype.setCoordinates=Vu.prototype.na,r("ol.geom.MultiPoint",Zu),Zu.prototype.appendPoint=Zu.prototype.Ik,Zu.prototype.clone=Zu.prototype.clone,Zu.prototype.getCoordinates=Zu.prototype.W,Zu.prototype.getPoint=Zu.prototype.Ll,Zu.prototype.getPoints=Zu.prototype.de,Zu.prototype.getType=Zu.prototype.S,Zu.prototype.intersectsExtent=Zu.prototype.$a,Zu.prototype.setCoordinates=Zu.prototype.na,r("ol.geom.MultiPolygon",Ku),Ku.prototype.appendPolygon=Ku.prototype.Jk,Ku.prototype.clone=Ku.prototype.clone,Ku.prototype.getArea=Ku.prototype.Xn,Ku.prototype.getCoordinates=Ku.prototype.W,Ku.prototype.getInteriorPoints=Ku.prototype.ul,Ku.prototype.getPolygon=Ku.prototype.Ml,Ku.prototype.getPolygons=Ku.prototype.Vd,Ku.prototype.getType=Ku.prototype.S,Ku.prototype.intersectsExtent=Ku.prototype.$a,Ku.prototype.setCoordinates=Ku.prototype.na,r("ol.geom.Point",Yo),Yo.prototype.clone=Yo.prototype.clone,Yo.prototype.getCoordinates=Yo.prototype.W,Yo.prototype.getType=Yo.prototype.S,Yo.prototype.intersectsExtent=Yo.prototype.$a,Yo.prototype.setCoordinates=Yo.prototype.na,r("ol.geom.Polygon",rn),rn.prototype.appendLinearRing=rn.prototype.Hk,rn.prototype.clone=rn.prototype.clone,rn.prototype.getArea=rn.prototype.Yn,rn.prototype.getCoordinates=rn.prototype.W,rn.prototype.getInteriorPoint=rn.prototype.tl,rn.prototype.getLinearRingCount=rn.prototype.zl,rn.prototype.getLinearRing=rn.prototype.Wh,rn.prototype.getLinearRings=rn.prototype.Ud,rn.prototype.getType=rn.prototype.S,rn.prototype.intersectsExtent=rn.prototype.$a,rn.prototype.setCoordinates=rn.prototype.na,r("ol.geom.Polygon.circular",sn),r("ol.geom.Polygon.fromExtent",an),r("ol.geom.Polygon.fromCircle",hn),r("ol.geom.SimpleGeometry",So),So.prototype.getFirstCoordinate=So.prototype.fc,So.prototype.getLastCoordinate=So.prototype.gc,So.prototype.getLayout=So.prototype.ic,So.prototype.applyTransform=So.prototype.Rc,So.prototype.translate=So.prototype.translate,r("ol.format.EsriJSON",td),td.prototype.readFeature=td.prototype.Yb,td.prototype.readFeatures=td.prototype.Qa,td.prototype.readGeometry=td.prototype.ed,td.prototype.readProjection=td.prototype.sb,td.prototype.writeGeometry=td.prototype.md,td.prototype.writeGeometryObject=td.prototype.se,td.prototype.writeFeature=td.prototype.Jd,td.prototype.writeFeatureObject=td.prototype.ld,td.prototype.writeFeatures=td.prototype.ac,td.prototype.writeFeaturesObject=td.prototype.qe,r("ol.format.Feature",qu),r("ol.format.filter.and",jg),r("ol.format.filter.or",function(t){var e=[null].concat(Array.prototype.slice.call(arguments));return new(Function.prototype.bind.apply(Ng,e))}),r("ol.format.filter.not",function(t){return new Ig(t)}),r("ol.format.filter.bbox",Fg),r("ol.format.filter.contains",function(t,e,i){return new wg(t,e,i)}),r("ol.format.filter.intersects",function(t,e,i){return new Eg(t,e,i)}),r("ol.format.filter.within",function(t,e,i){return new Lg(t,e,i)}),r("ol.format.filter.equalTo",function(t,e,i){return new kg(t,e,i)}),r("ol.format.filter.notEqualTo",function(t,e,i){return new Rg(t,e,i)}),r("ol.format.filter.lessThan",function(t,e){return new Og(t,e)}),r("ol.format.filter.lessThanOrEqualTo",function(t,e){return new Dg(t,e)}),r("ol.format.filter.greaterThan",function(t,e){return new Sg(t,e)}),r("ol.format.filter.greaterThanOrEqualTo",function(t,e){return new Cg(t,e)}),r("ol.format.filter.isNull",function(t){return new Ag(t)}),r("ol.format.filter.between",function(t,e,i){return new Tg(t,e,i)}),r("ol.format.filter.like",function(t,e,i,o,n,r){return new Pg(t,e,i,o,n,r)}),r("ol.format.filter.during",function(t,e,i){return new _g(t,e,i)}),r("ol.format.GeoJSON",Pc),Pc.prototype.readFeature=Pc.prototype.Yb,Pc.prototype.readFeatures=Pc.prototype.Qa,Pc.prototype.readGeometry=Pc.prototype.ed,Pc.prototype.readProjection=Pc.prototype.sb,Pc.prototype.writeFeature=Pc.prototype.Jd,Pc.prototype.writeFeatureObject=Pc.prototype.ld,Pc.prototype.writeFeatures=Pc.prototype.ac,Pc.prototype.writeFeaturesObject=Pc.prototype.qe,Pc.prototype.writeGeometry=Pc.prototype.md,Pc.prototype.writeGeometryObject=Pc.prototype.se,r("ol.format.GML",kd),kd.prototype.writeFeatures=kd.prototype.ac,kd.prototype.writeFeaturesNode=kd.prototype.bc,r("ol.format.GML2",Id),r("ol.format.GML3",kd),kd.prototype.writeGeometryNode=kd.prototype.re,kd.prototype.writeFeatures=kd.prototype.ac,kd.prototype.writeFeaturesNode=kd.prototype.bc,pd.prototype.readFeatures=pd.prototype.Qa,r("ol.format.GPX",Wd),Wd.prototype.readFeature=Wd.prototype.Yb,Wd.prototype.readFeatures=Wd.prototype.Qa,Wd.prototype.readProjection=Wd.prototype.sb,Wd.prototype.writeFeatures=Wd.prototype.ac,Wd.prototype.writeFeaturesNode=Wd.prototype.bc,r("ol.format.IGC",Lc),Lc.prototype.readFeature=Lc.prototype.Yb,Lc.prototype.readFeatures=Lc.prototype.Qa,Lc.prototype.readProjection=Lc.prototype.sb,r("ol.format.KML",sf),sf.prototype.readFeature=sf.prototype.Yb,sf.prototype.readFeatures=sf.prototype.Qa,sf.prototype.readName=sf.prototype.cq,sf.prototype.readNetworkLinks=sf.prototype.eq,sf.prototype.readRegion=sf.prototype.hq,sf.prototype.readRegionFromNode=sf.prototype.vf,sf.prototype.readProjection=sf.prototype.sb,sf.prototype.writeFeatures=sf.prototype.ac,sf.prototype.writeFeaturesNode=sf.prototype.bc,r("ol.format.MVT",Yy),Yy.prototype.getLastExtent=Yy.prototype.cg,Yy.prototype.readFeatures=Yy.prototype.Qa,Yy.prototype.readProjection=Yy.prototype.sb,Yy.prototype.setLayers=Yy.prototype.Sn,r("ol.format.OSMXML",Jy),Jy.prototype.readFeatures=Jy.prototype.Qa,Jy.prototype.readProjection=Jy.prototype.sb,r("ol.format.Polyline",ng),r("ol.format.Polyline.encodeDeltas",rg),r("ol.format.Polyline.decodeDeltas",sg),r("ol.format.Polyline.encodeFloats",ag),r("ol.format.Polyline.decodeFloats",hg),ng.prototype.readFeature=ng.prototype.Yb,ng.prototype.readFeatures=ng.prototype.Qa,ng.prototype.readGeometry=ng.prototype.ed,ng.prototype.readProjection=ng.prototype.sb,ng.prototype.writeGeometry=ng.prototype.md,r("ol.format.TopoJSON",lg),lg.prototype.readFeatures=lg.prototype.Qa,lg.prototype.readProjection=lg.prototype.sb,r("ol.format.WFS",zg),zg.prototype.readFeatures=zg.prototype.Qa,zg.prototype.readTransactionResponse=zg.prototype.j,zg.prototype.readFeatureCollectionMetadata=zg.prototype.f,r("ol.format.WFS.writeFilter",function(t){var e=bu("http://www.opengis.net/ogc","Filter");return Fu({node:e},rm,Ou(t.rc),[t],[]),e}),zg.prototype.writeGetFeature=zg.prototype.s,zg.prototype.writeTransaction=zg.prototype.v,zg.prototype.readProjection=zg.prototype.sb,r("ol.format.WKT",sm),sm.prototype.readFeature=sm.prototype.Yb,sm.prototype.readFeatures=sm.prototype.Qa,sm.prototype.readGeometry=sm.prototype.ed,sm.prototype.writeFeature=sm.prototype.Jd,sm.prototype.writeFeatures=sm.prototype.ac,sm.prototype.writeGeometry=sm.prototype.md,r("ol.format.WMSCapabilities",km),km.prototype.read=km.prototype.read,r("ol.format.WMSGetFeatureInfo",Vm),Vm.prototype.readFeatures=Vm.prototype.Qa,r("ol.format.WMTSCapabilities",pv),pv.prototype.read=pv.prototype.read,r("ol.format.filter.And",mg),r("ol.format.filter.Bbox",vg),r("ol.format.filter.Comparison",xg),r("ol.format.filter.ComparisonBinary",Mg),r("ol.format.filter.Contains",wg),r("ol.format.filter.During",_g),r("ol.format.filter.EqualTo",kg),r("ol.format.filter.Filter",yg),r("ol.format.filter.GreaterThan",Sg),r("ol.format.filter.GreaterThanOrEqualTo",Cg),r("ol.format.filter.Intersects",Eg),r("ol.format.filter.IsBetween",Tg),r("ol.format.filter.IsLike",Pg),r("ol.format.filter.IsNull",Ag),r("ol.format.filter.LessThan",Og),r("ol.format.filter.LessThanOrEqualTo",Dg),r("ol.format.filter.Not",Ig),r("ol.format.filter.NotEqualTo",Rg),r("ol.format.filter.Or",Ng),r("ol.format.filter.Spatial",bg),r("ol.format.filter.Within",Lg),r("ol.events.condition.altKeyOnly",$n),r("ol.events.condition.altShiftKeysOnly",Qn),r("ol.events.condition.always",ho),r("ol.events.condition.click",function(t){return"click"==t.type}),r("ol.events.condition.never",lo),r("ol.events.condition.pointerMove",er),r("ol.events.condition.singleClick",ir),r("ol.events.condition.doubleClick",function(t){return"dblclick"==t.type}),r("ol.events.condition.noModifierKeys",or),r("ol.events.condition.platformModifierKeyOnly",function(t){return!(t=t.originalEvent).altKey&&(Xe?t.metaKey:t.ctrlKey)&&!t.shiftKey}),r("ol.events.condition.shiftKeyOnly",nr),r("ol.events.condition.targetNotEditable",rr),r("ol.events.condition.mouseOnly",sr),r("ol.events.condition.primaryAction",ar),Me.prototype.type=Me.prototype.type,Me.prototype.target=Me.prototype.target,Me.prototype.preventDefault=Me.prototype.preventDefault,Me.prototype.stopPropagation=Me.prototype.stopPropagation,r("ol.control.Attribution",jn),r("ol.control.Attribution.render",Fn),jn.prototype.getCollapsible=jn.prototype.An,jn.prototype.setCollapsible=jn.prototype.Dn,jn.prototype.setCollapsed=jn.prototype.Cn,jn.prototype.getCollapsed=jn.prototype.zn,r("ol.control.Control",On),On.prototype.getMap=On.prototype.f,On.prototype.setMap=On.prototype.setMap,On.prototype.setTarget=On.prototype.i,r("ol.control.FullScreen",Yp),r("ol.control.MousePosition",Jp),r("ol.control.MousePosition.render",$p),Jp.prototype.getCoordinateFormat=Jp.prototype.Qh,Jp.prototype.getProjection=Jp.prototype.si,Jp.prototype.setCoordinateFormat=Jp.prototype.Gj,Jp.prototype.setProjection=Jp.prototype.ti,r("ol.control.OverviewMap",iu),r("ol.control.OverviewMap.render",ou),iu.prototype.getCollapsible=iu.prototype.Gn,iu.prototype.setCollapsible=iu.prototype.Jn,iu.prototype.setCollapsed=iu.prototype.In,iu.prototype.getCollapsed=iu.prototype.Fn,iu.prototype.getOverviewMap=iu.prototype.Hl,r("ol.control.Rotate",Bn),r("ol.control.Rotate.render",qn),r("ol.control.ScaleLine",au),au.prototype.getUnits=au.prototype.C,r("ol.control.ScaleLine.render",lu),au.prototype.setUnits=au.prototype.O,r("ol.control.Zoom",Hn),r("ol.control.ZoomSlider",du),r("ol.control.ZoomSlider.render",fu),r("ol.control.ZoomToExtent",mu),Te.prototype.changed=Te.prototype.u,Te.prototype.dispatchEvent=Te.prototype.b,Te.prototype.getRevision=Te.prototype.K,Te.prototype.on=Te.prototype.I,Te.prototype.once=Te.prototype.once,Te.prototype.un=Te.prototype.J,Pn.prototype.get=Pn.prototype.get,Pn.prototype.getKeys=Pn.prototype.P,Pn.prototype.getProperties=Pn.prototype.L,Pn.prototype.set=Pn.prototype.set,Pn.prototype.setProperties=Pn.prototype.H,Pn.prototype.unset=Pn.prototype.R,Pn.prototype.changed=Pn.prototype.u,Pn.prototype.dispatchEvent=Pn.prototype.b,Pn.prototype.getRevision=Pn.prototype.K,Pn.prototype.on=Pn.prototype.I,Pn.prototype.once=Pn.prototype.once,Pn.prototype.un=Pn.prototype.J,Ga.prototype.addControl=Ga.prototype.Mf,Ga.prototype.addInteraction=Ga.prototype.Nf,Ga.prototype.addLayer=Ga.prototype.xe,Ga.prototype.addOverlay=Ga.prototype.ye,Ga.prototype.forEachFeatureAtPixel=Ga.prototype.Tc,Ga.prototype.getFeaturesAtPixel=Ga.prototype.Xf,Ga.prototype.forEachLayerAtPixel=Ga.prototype.tg,Ga.prototype.hasFeatureAtPixel=Ga.prototype.ng,Ga.prototype.getEventCoordinate=Ga.prototype.Sd,Ga.prototype.getEventPixel=Ga.prototype.ud,Ga.prototype.getTarget=Ga.prototype.Xd,Ga.prototype.getTargetElement=Ga.prototype.Cc,Ga.prototype.getCoordinateFromPixel=Ga.prototype.Ra,Ga.prototype.getControls=Ga.prototype.Wf,Ga.prototype.getOverlays=Ga.prototype.gg,Ga.prototype.getOverlayById=Ga.prototype.fg,Ga.prototype.getInteractions=Ga.prototype.bg,Ga.prototype.getLayerGroup=Ga.prototype.hc,Ga.prototype.getLayers=Ga.prototype.Xe,Ga.prototype.getPixelFromCoordinate=Ga.prototype.Ia,Ga.prototype.getSize=Ga.prototype.Cb,Ga.prototype.getView=Ga.prototype.aa,Ga.prototype.getViewport=Ga.prototype.kg,Ga.prototype.renderSync=Ga.prototype.dh,Ga.prototype.render=Ga.prototype.render,Ga.prototype.removeControl=Ga.prototype.Xg,Ga.prototype.removeInteraction=Ga.prototype.Zg,Ga.prototype.removeLayer=Ga.prototype.$g,Ga.prototype.removeOverlay=Ga.prototype.ah,Ga.prototype.setLayerGroup=Ga.prototype.zf,Ga.prototype.setSize=Ga.prototype.be,Ga.prototype.setTarget=Ga.prototype.Ad,Ga.prototype.setView=Ga.prototype.jh,Ga.prototype.updateSize=Ga.prototype.Oc,Ga.prototype.get=Ga.prototype.get,Ga.prototype.getKeys=Ga.prototype.P,Ga.prototype.getProperties=Ga.prototype.L,Ga.prototype.set=Ga.prototype.set,Ga.prototype.setProperties=Ga.prototype.H,Ga.prototype.unset=Ga.prototype.R,Ga.prototype.changed=Ga.prototype.u,Ga.prototype.dispatchEvent=Ga.prototype.b,Ga.prototype.getRevision=Ga.prototype.K,Ga.prototype.on=Ga.prototype.I,Ga.prototype.once=Ga.prototype.once,Ga.prototype.un=Ga.prototype.J,Ie.prototype.get=Ie.prototype.get,Ie.prototype.getKeys=Ie.prototype.P,Ie.prototype.getProperties=Ie.prototype.L,Ie.prototype.set=Ie.prototype.set,Ie.prototype.setProperties=Ie.prototype.H,Ie.prototype.unset=Ie.prototype.R,Ie.prototype.changed=Ie.prototype.u,Ie.prototype.dispatchEvent=Ie.prototype.b,Ie.prototype.getRevision=Ie.prototype.K,Ie.prototype.on=Ie.prototype.I,Ie.prototype.once=Ie.prototype.once,Ie.prototype.un=Ie.prototype.J,je.prototype.type=je.prototype.type,je.prototype.target=je.prototype.target,je.prototype.preventDefault=je.prototype.preventDefault,je.prototype.stopPropagation=je.prototype.stopPropagation,Ya.prototype.get=Ya.prototype.get,Ya.prototype.getKeys=Ya.prototype.P,Ya.prototype.getProperties=Ya.prototype.L,Ya.prototype.set=Ya.prototype.set,Ya.prototype.setProperties=Ya.prototype.H,Ya.prototype.unset=Ya.prototype.R,Ya.prototype.changed=Ya.prototype.u,Ya.prototype.dispatchEvent=Ya.prototype.b,Ya.prototype.getRevision=Ya.prototype.K,Ya.prototype.on=Ya.prototype.I,Ya.prototype.once=Ya.prototype.once,Ya.prototype.un=Ya.prototype.J,ph.prototype.get=ph.prototype.get,ph.prototype.getKeys=ph.prototype.P,ph.prototype.getProperties=ph.prototype.L,ph.prototype.set=ph.prototype.set,ph.prototype.setProperties=ph.prototype.H,ph.prototype.unset=ph.prototype.R,ph.prototype.changed=ph.prototype.u,ph.prototype.dispatchEvent=ph.prototype.b,ph.prototype.getRevision=ph.prototype.K,ph.prototype.on=ph.prototype.I,ph.prototype.once=ph.prototype.once,ph.prototype.un=ph.prototype.J,uh.prototype.get=uh.prototype.get,uh.prototype.getKeys=uh.prototype.P,uh.prototype.getProperties=uh.prototype.L,uh.prototype.set=uh.prototype.set,uh.prototype.setProperties=uh.prototype.H,uh.prototype.unset=uh.prototype.R,uh.prototype.changed=uh.prototype.u,uh.prototype.dispatchEvent=uh.prototype.b,uh.prototype.getRevision=uh.prototype.K,uh.prototype.on=uh.prototype.I,uh.prototype.once=uh.prototype.once,uh.prototype.un=uh.prototype.J,Th.prototype.getTileCoord=Th.prototype.i,Th.prototype.load=Th.prototype.load,Ip.prototype.addControl=Ip.prototype.Mf,Ip.prototype.addInteraction=Ip.prototype.Nf,Ip.prototype.addLayer=Ip.prototype.xe,Ip.prototype.addOverlay=Ip.prototype.ye,Ip.prototype.forEachFeatureAtPixel=Ip.prototype.Tc,Ip.prototype.getFeaturesAtPixel=Ip.prototype.Xf,Ip.prototype.forEachLayerAtPixel=Ip.prototype.tg,Ip.prototype.hasFeatureAtPixel=Ip.prototype.ng,Ip.prototype.getEventCoordinate=Ip.prototype.Sd,Ip.prototype.getEventPixel=Ip.prototype.ud,Ip.prototype.getTarget=Ip.prototype.Xd,Ip.prototype.getTargetElement=Ip.prototype.Cc,Ip.prototype.getCoordinateFromPixel=Ip.prototype.Ra,Ip.prototype.getControls=Ip.prototype.Wf,Ip.prototype.getOverlays=Ip.prototype.gg,Ip.prototype.getOverlayById=Ip.prototype.fg,Ip.prototype.getInteractions=Ip.prototype.bg,Ip.prototype.getLayerGroup=Ip.prototype.hc,Ip.prototype.getLayers=Ip.prototype.Xe,Ip.prototype.getPixelFromCoordinate=Ip.prototype.Ia,Ip.prototype.getSize=Ip.prototype.Cb,Ip.prototype.getView=Ip.prototype.aa,Ip.prototype.getViewport=Ip.prototype.kg,Ip.prototype.renderSync=Ip.prototype.dh,Ip.prototype.render=Ip.prototype.render,Ip.prototype.removeControl=Ip.prototype.Xg,Ip.prototype.removeInteraction=Ip.prototype.Zg,Ip.prototype.removeLayer=Ip.prototype.$g,Ip.prototype.removeOverlay=Ip.prototype.ah,Ip.prototype.setLayerGroup=Ip.prototype.zf,Ip.prototype.setSize=Ip.prototype.be,Ip.prototype.setTarget=Ip.prototype.Ad,Ip.prototype.setView=Ip.prototype.jh,Ip.prototype.updateSize=Ip.prototype.Oc,Ip.prototype.get=Ip.prototype.get,Ip.prototype.getKeys=Ip.prototype.P,Ip.prototype.getProperties=Ip.prototype.L,Ip.prototype.set=Ip.prototype.set,Ip.prototype.setProperties=Ip.prototype.H,Ip.prototype.unset=Ip.prototype.R,Ip.prototype.changed=Ip.prototype.u,Ip.prototype.dispatchEvent=Ip.prototype.b,Ip.prototype.getRevision=Ip.prototype.K,Ip.prototype.on=Ip.prototype.I,Ip.prototype.once=Ip.prototype.once,Ip.prototype.un=Ip.prototype.J,Fe.prototype.type=Fe.prototype.type,Fe.prototype.target=Fe.prototype.target,Fe.prototype.preventDefault=Fe.prototype.preventDefault,Fe.prototype.stopPropagation=Fe.prototype.stopPropagation,ze.prototype.map=ze.prototype.map,ze.prototype.frameState=ze.prototype.frameState,ze.prototype.type=ze.prototype.type,ze.prototype.target=ze.prototype.target,ze.prototype.preventDefault=ze.prototype.preventDefault,ze.prototype.stopPropagation=ze.prototype.stopPropagation,ai.prototype.originalEvent=ai.prototype.originalEvent,ai.prototype.pixel=ai.prototype.pixel,ai.prototype.coordinate=ai.prototype.coordinate,ai.prototype.dragging=ai.prototype.dragging,ai.prototype.preventDefault=ai.prototype.preventDefault,ai.prototype.stopPropagation=ai.prototype.stopPropagation,ai.prototype.map=ai.prototype.map,ai.prototype.frameState=ai.prototype.frameState,ai.prototype.type=ai.prototype.type,ai.prototype.target=ai.prototype.target,De.prototype.type=De.prototype.type,De.prototype.target=De.prototype.target,De.prototype.preventDefault=De.prototype.preventDefault,De.prototype.stopPropagation=De.prototype.stopPropagation,Rp.prototype.get=Rp.prototype.get,Rp.prototype.getKeys=Rp.prototype.P,Rp.prototype.getProperties=Rp.prototype.L,Rp.prototype.set=Rp.prototype.set,Rp.prototype.setProperties=Rp.prototype.H,Rp.prototype.unset=Rp.prototype.R,Rp.prototype.changed=Rp.prototype.u,Rp.prototype.dispatchEvent=Rp.prototype.b,Rp.prototype.getRevision=Rp.prototype.K,Rp.prototype.on=Rp.prototype.I,Rp.prototype.once=Rp.prototype.once,Rp.prototype.un=Rp.prototype.J,xx.prototype.getTileCoord=xx.prototype.i,xx.prototype.load=xx.prototype.load,Up.prototype.getTileCoord=Up.prototype.i,Up.prototype.load=Up.prototype.load,pn.prototype.get=pn.prototype.get,pn.prototype.getKeys=pn.prototype.P,pn.prototype.getProperties=pn.prototype.L,pn.prototype.set=pn.prototype.set,pn.prototype.setProperties=pn.prototype.H,pn.prototype.unset=pn.prototype.R,pn.prototype.changed=pn.prototype.u,pn.prototype.dispatchEvent=pn.prototype.b,pn.prototype.getRevision=pn.prototype.K,pn.prototype.on=pn.prototype.I,pn.prototype.once=pn.prototype.once,pn.prototype.un=pn.prototype.J,Cx.prototype.forEachTileCoord=Cx.prototype.Vf,Cx.prototype.getMaxZoom=Cx.prototype.mj,Cx.prototype.getMinZoom=Cx.prototype.nj,Cx.prototype.getOrigin=Cx.prototype.Ic,Cx.prototype.getResolution=Cx.prototype.Ta,Cx.prototype.getResolutions=Cx.prototype.oj,Cx.prototype.getTileCoordExtent=Cx.prototype.Ma,Cx.prototype.getTileCoordForCoordAndResolution=Cx.prototype.Le,Cx.prototype.getTileCoordForCoordAndZ=Cx.prototype.jg,Cx.prototype.getTileSize=Cx.prototype.Za,Cx.prototype.getZForResolution=Cx.prototype.Dc,Qa.prototype.getOpacity=Qa.prototype.hf,Qa.prototype.getRotateWithView=Qa.prototype.jf,Qa.prototype.getRotation=Qa.prototype.kf,Qa.prototype.getScale=Qa.prototype.lf,Qa.prototype.getSnapToPixel=Qa.prototype.Ke,Qa.prototype.setOpacity=Qa.prototype.Ed,Qa.prototype.setRotation=Qa.prototype.mf,Qa.prototype.setScale=Qa.prototype.Fd,eh.prototype.clone=eh.prototype.clone,eh.prototype.getAngle=eh.prototype.ij,eh.prototype.getFill=eh.prototype.Fa,eh.prototype.getPoints=eh.prototype.jj,eh.prototype.getRadius=eh.prototype.kj,eh.prototype.getRadius2=eh.prototype.Zh,eh.prototype.getStroke=eh.prototype.Ga,eh.prototype.getOpacity=eh.prototype.hf,eh.prototype.getRotateWithView=eh.prototype.jf,eh.prototype.getRotation=eh.prototype.kf,eh.prototype.getScale=eh.prototype.lf,eh.prototype.getSnapToPixel=eh.prototype.Ke,eh.prototype.setOpacity=eh.prototype.Ed,eh.prototype.setRotation=eh.prototype.mf,eh.prototype.setScale=eh.prototype.Fd,rf.prototype.getOpacity=rf.prototype.hf,rf.prototype.getRotateWithView=rf.prototype.jf,rf.prototype.getRotation=rf.prototype.kf,rf.prototype.getScale=rf.prototype.lf,rf.prototype.getSnapToPixel=rf.prototype.Ke,rf.prototype.setOpacity=rf.prototype.Ed,rf.prototype.setRotation=rf.prototype.mf,rf.prototype.setScale=rf.prototype.Fd,qv.prototype.get=qv.prototype.get,qv.prototype.getKeys=qv.prototype.P,qv.prototype.getProperties=qv.prototype.L,qv.prototype.set=qv.prototype.set,qv.prototype.setProperties=qv.prototype.H,qv.prototype.unset=qv.prototype.R,qv.prototype.changed=qv.prototype.u,qv.prototype.dispatchEvent=qv.prototype.b,qv.prototype.getRevision=qv.prototype.K,qv.prototype.on=qv.prototype.I,qv.prototype.once=qv.prototype.once,qv.prototype.un=qv.prototype.J,mw.prototype.getAttributions=mw.prototype.za,mw.prototype.getLogo=mw.prototype.Aa,mw.prototype.getProjection=mw.prototype.Da,mw.prototype.getState=mw.prototype.getState,mw.prototype.refresh=mw.prototype.sa,mw.prototype.setAttributions=mw.prototype.va,mw.prototype.get=mw.prototype.get,mw.prototype.getKeys=mw.prototype.P,mw.prototype.getProperties=mw.prototype.L,mw.prototype.set=mw.prototype.set,mw.prototype.setProperties=mw.prototype.H,mw.prototype.unset=mw.prototype.R,mw.prototype.changed=mw.prototype.u,mw.prototype.dispatchEvent=mw.prototype.b,mw.prototype.getRevision=mw.prototype.K,mw.prototype.on=mw.prototype.I,mw.prototype.once=mw.prototype.once,mw.prototype.un=mw.prototype.J,_w.prototype.getTileGrid=_w.prototype.jb,_w.prototype.refresh=_w.prototype.sa,_w.prototype.getAttributions=_w.prototype.za,_w.prototype.getLogo=_w.prototype.Aa,_w.prototype.getProjection=_w.prototype.Da,_w.prototype.getState=_w.prototype.getState,_w.prototype.setAttributions=_w.prototype.va,_w.prototype.get=_w.prototype.get,_w.prototype.getKeys=_w.prototype.P,_w.prototype.getProperties=_w.prototype.L,_w.prototype.set=_w.prototype.set,_w.prototype.setProperties=_w.prototype.H,_w.prototype.unset=_w.prototype.R,_w.prototype.changed=_w.prototype.u,_w.prototype.dispatchEvent=_w.prototype.b,_w.prototype.getRevision=_w.prototype.K,_w.prototype.on=_w.prototype.I,_w.prototype.once=_w.prototype.once,_w.prototype.un=_w.prototype.J,Mw.prototype.getTileLoadFunction=Mw.prototype.yb,Mw.prototype.getTileUrlFunction=Mw.prototype.zb,Mw.prototype.getUrls=Mw.prototype.Ab,Mw.prototype.setTileLoadFunction=Mw.prototype.Fb,Mw.prototype.setTileUrlFunction=Mw.prototype.hb,Mw.prototype.setUrl=Mw.prototype.rb,Mw.prototype.setUrls=Mw.prototype.vb,Mw.prototype.getTileGrid=Mw.prototype.jb,Mw.prototype.refresh=Mw.prototype.sa,Mw.prototype.getAttributions=Mw.prototype.za,Mw.prototype.getLogo=Mw.prototype.Aa,Mw.prototype.getProjection=Mw.prototype.Da,Mw.prototype.getState=Mw.prototype.getState,Mw.prototype.setAttributions=Mw.prototype.va,Mw.prototype.get=Mw.prototype.get,Mw.prototype.getKeys=Mw.prototype.P,Mw.prototype.getProperties=Mw.prototype.L,Mw.prototype.set=Mw.prototype.set,Mw.prototype.setProperties=Mw.prototype.H,Mw.prototype.unset=Mw.prototype.R,Mw.prototype.changed=Mw.prototype.u,Mw.prototype.dispatchEvent=Mw.prototype.b,Mw.prototype.getRevision=Mw.prototype.K,Mw.prototype.on=Mw.prototype.I,Mw.prototype.once=Mw.prototype.once,Mw.prototype.un=Mw.prototype.J,Ew.prototype.setRenderReprojectionEdges=Ew.prototype.Qb,Ew.prototype.setTileGridForProjection=Ew.prototype.Rb,Ew.prototype.getTileLoadFunction=Ew.prototype.yb,Ew.prototype.getTileUrlFunction=Ew.prototype.zb,Ew.prototype.getUrls=Ew.prototype.Ab,Ew.prototype.setTileLoadFunction=Ew.prototype.Fb,Ew.prototype.setTileUrlFunction=Ew.prototype.hb,Ew.prototype.setUrl=Ew.prototype.rb,Ew.prototype.setUrls=Ew.prototype.vb,Ew.prototype.getTileGrid=Ew.prototype.jb,Ew.prototype.refresh=Ew.prototype.sa,Ew.prototype.getAttributions=Ew.prototype.za,Ew.prototype.getLogo=Ew.prototype.Aa,Ew.prototype.getProjection=Ew.prototype.Da,Ew.prototype.getState=Ew.prototype.getState,Ew.prototype.setAttributions=Ew.prototype.va,Ew.prototype.get=Ew.prototype.get,Ew.prototype.getKeys=Ew.prototype.P,Ew.prototype.getProperties=Ew.prototype.L,Ew.prototype.set=Ew.prototype.set,Ew.prototype.setProperties=Ew.prototype.H,Ew.prototype.unset=Ew.prototype.R,Ew.prototype.changed=Ew.prototype.u,Ew.prototype.dispatchEvent=Ew.prototype.b,Ew.prototype.getRevision=Ew.prototype.K,Ew.prototype.on=Ew.prototype.I,Ew.prototype.once=Ew.prototype.once,Ew.prototype.un=Ew.prototype.J,Tw.prototype.setRenderReprojectionEdges=Tw.prototype.Qb,Tw.prototype.setTileGridForProjection=Tw.prototype.Rb,Tw.prototype.getTileLoadFunction=Tw.prototype.yb,Tw.prototype.getTileUrlFunction=Tw.prototype.zb,Tw.prototype.getUrls=Tw.prototype.Ab,Tw.prototype.setTileLoadFunction=Tw.prototype.Fb,Tw.prototype.setTileUrlFunction=Tw.prototype.hb,Tw.prototype.setUrl=Tw.prototype.rb,Tw.prototype.setUrls=Tw.prototype.vb,Tw.prototype.getTileGrid=Tw.prototype.jb,Tw.prototype.refresh=Tw.prototype.sa,Tw.prototype.getAttributions=Tw.prototype.za,Tw.prototype.getLogo=Tw.prototype.Aa,Tw.prototype.getProjection=Tw.prototype.Da,Tw.prototype.getState=Tw.prototype.getState,Tw.prototype.setAttributions=Tw.prototype.va,Tw.prototype.get=Tw.prototype.get,Tw.prototype.getKeys=Tw.prototype.P,Tw.prototype.getProperties=Tw.prototype.L,Tw.prototype.set=Tw.prototype.set,Tw.prototype.setProperties=Tw.prototype.H,Tw.prototype.unset=Tw.prototype.R,Tw.prototype.changed=Tw.prototype.u,Tw.prototype.dispatchEvent=Tw.prototype.b,Tw.prototype.getRevision=Tw.prototype.K,Tw.prototype.on=Tw.prototype.I,Tw.prototype.once=Tw.prototype.once,Tw.prototype.un=Tw.prototype.J,Pw.prototype.setRenderReprojectionEdges=Pw.prototype.Qb,Pw.prototype.setTileGridForProjection=Pw.prototype.Rb,Pw.prototype.getTileLoadFunction=Pw.prototype.yb,Pw.prototype.getTileUrlFunction=Pw.prototype.zb,Pw.prototype.getUrls=Pw.prototype.Ab,Pw.prototype.setTileLoadFunction=Pw.prototype.Fb,Pw.prototype.setTileUrlFunction=Pw.prototype.hb,Pw.prototype.setUrl=Pw.prototype.rb,Pw.prototype.setUrls=Pw.prototype.vb,Pw.prototype.getTileGrid=Pw.prototype.jb,Pw.prototype.refresh=Pw.prototype.sa,Pw.prototype.getAttributions=Pw.prototype.za,Pw.prototype.getLogo=Pw.prototype.Aa,Pw.prototype.getProjection=Pw.prototype.Da,Pw.prototype.getState=Pw.prototype.getState,Pw.prototype.setAttributions=Pw.prototype.va,Pw.prototype.get=Pw.prototype.get,Pw.prototype.getKeys=Pw.prototype.P,Pw.prototype.getProperties=Pw.prototype.L,Pw.prototype.set=Pw.prototype.set,Pw.prototype.setProperties=Pw.prototype.H,Pw.prototype.unset=Pw.prototype.R,Pw.prototype.changed=Pw.prototype.u,Pw.prototype.dispatchEvent=Pw.prototype.b,Pw.prototype.getRevision=Pw.prototype.K,Pw.prototype.on=Pw.prototype.I,Pw.prototype.once=Pw.prototype.once,Pw.prototype.un=Pw.prototype.J,Wv.prototype.getAttributions=Wv.prototype.za,Wv.prototype.getLogo=Wv.prototype.Aa,Wv.prototype.getProjection=Wv.prototype.Da,Wv.prototype.getState=Wv.prototype.getState,Wv.prototype.refresh=Wv.prototype.sa,Wv.prototype.setAttributions=Wv.prototype.va,Wv.prototype.get=Wv.prototype.get,Wv.prototype.getKeys=Wv.prototype.P,Wv.prototype.getProperties=Wv.prototype.L,Wv.prototype.set=Wv.prototype.set,Wv.prototype.setProperties=Wv.prototype.H,Wv.prototype.unset=Wv.prototype.R,Wv.prototype.changed=Wv.prototype.u,Wv.prototype.dispatchEvent=Wv.prototype.b,Wv.prototype.getRevision=Wv.prototype.K,Wv.prototype.on=Wv.prototype.I,Wv.prototype.once=Wv.prototype.once,Wv.prototype.un=Wv.prototype.J,Dw.prototype.addFeature=Dw.prototype.Gb,Dw.prototype.addFeatures=Dw.prototype.Qc,Dw.prototype.clear=Dw.prototype.clear,Dw.prototype.forEachFeature=Dw.prototype.Lh,Dw.prototype.forEachFeatureInExtent=Dw.prototype.ec,Dw.prototype.forEachFeatureIntersectingExtent=Dw.prototype.Mh,Dw.prototype.getFeaturesCollection=Dw.prototype.Th,Dw.prototype.getFeatures=Dw.prototype.ee,Dw.prototype.getFeaturesAtCoordinate=Dw.prototype.Sh,Dw.prototype.getFeaturesInExtent=Dw.prototype.Yf,Dw.prototype.getClosestFeatureToCoordinate=Dw.prototype.Oh,Dw.prototype.getExtent=Dw.prototype.G,Dw.prototype.getFeatureById=Dw.prototype.Rh,Dw.prototype.getFormat=Dw.prototype.ej,Dw.prototype.getUrl=Dw.prototype.fj,Dw.prototype.removeLoadedExtent=Dw.prototype.Cj,Dw.prototype.removeFeature=Dw.prototype.Lb,Dw.prototype.setLoader=Dw.prototype.hj,Dw.prototype.getAttributions=Dw.prototype.za,Dw.prototype.getLogo=Dw.prototype.Aa,Dw.prototype.getProjection=Dw.prototype.Da,Dw.prototype.getState=Dw.prototype.getState,Dw.prototype.refresh=Dw.prototype.sa,Dw.prototype.setAttributions=Dw.prototype.va,Dw.prototype.get=Dw.prototype.get,Dw.prototype.getKeys=Dw.prototype.P,Dw.prototype.getProperties=Dw.prototype.L,Dw.prototype.set=Dw.prototype.set,Dw.prototype.setProperties=Dw.prototype.H,Dw.prototype.unset=Dw.prototype.R,Dw.prototype.changed=Dw.prototype.u,Dw.prototype.dispatchEvent=Dw.prototype.b,Dw.prototype.getRevision=Dw.prototype.K,Dw.prototype.on=Dw.prototype.I,Dw.prototype.once=Dw.prototype.once,Dw.prototype.un=Dw.prototype.J,Lw.prototype.getAttributions=Lw.prototype.za,Lw.prototype.getLogo=Lw.prototype.Aa,Lw.prototype.getProjection=Lw.prototype.Da,Lw.prototype.getState=Lw.prototype.getState,Lw.prototype.refresh=Lw.prototype.sa,Lw.prototype.setAttributions=Lw.prototype.va,Lw.prototype.get=Lw.prototype.get,Lw.prototype.getKeys=Lw.prototype.P,Lw.prototype.getProperties=Lw.prototype.L,Lw.prototype.set=Lw.prototype.set,Lw.prototype.setProperties=Lw.prototype.H,Lw.prototype.unset=Lw.prototype.R,Lw.prototype.changed=Lw.prototype.u,Lw.prototype.dispatchEvent=Lw.prototype.b,Lw.prototype.getRevision=Lw.prototype.K,Lw.prototype.on=Lw.prototype.I,Lw.prototype.once=Lw.prototype.once,Lw.prototype.un=Lw.prototype.J,zw.prototype.type=zw.prototype.type,zw.prototype.target=zw.prototype.target,zw.prototype.preventDefault=zw.prototype.preventDefault,zw.prototype.stopPropagation=zw.prototype.stopPropagation,Ww.prototype.getAttributions=Ww.prototype.za,Ww.prototype.getLogo=Ww.prototype.Aa,Ww.prototype.getProjection=Ww.prototype.Da,Ww.prototype.getState=Ww.prototype.getState,Ww.prototype.refresh=Ww.prototype.sa,Ww.prototype.setAttributions=Ww.prototype.va,Ww.prototype.get=Ww.prototype.get,Ww.prototype.getKeys=Ww.prototype.P,Ww.prototype.getProperties=Ww.prototype.L,Ww.prototype.set=Ww.prototype.set,Ww.prototype.setProperties=Ww.prototype.H,Ww.prototype.unset=Ww.prototype.R,Ww.prototype.changed=Ww.prototype.u,Ww.prototype.dispatchEvent=Ww.prototype.b,Ww.prototype.getRevision=Ww.prototype.K,Ww.prototype.on=Ww.prototype.I,Ww.prototype.once=Ww.prototype.once,Ww.prototype.un=Ww.prototype.J,Gw.prototype.getAttributions=Gw.prototype.za,Gw.prototype.getLogo=Gw.prototype.Aa,Gw.prototype.getProjection=Gw.prototype.Da,Gw.prototype.getState=Gw.prototype.getState,Gw.prototype.refresh=Gw.prototype.sa,Gw.prototype.setAttributions=Gw.prototype.va,Gw.prototype.get=Gw.prototype.get,Gw.prototype.getKeys=Gw.prototype.P,Gw.prototype.getProperties=Gw.prototype.L,Gw.prototype.set=Gw.prototype.set,Gw.prototype.setProperties=Gw.prototype.H,Gw.prototype.unset=Gw.prototype.R,Gw.prototype.changed=Gw.prototype.u,Gw.prototype.dispatchEvent=Gw.prototype.b,Gw.prototype.getRevision=Gw.prototype.K,Gw.prototype.on=Gw.prototype.I,Gw.prototype.once=Gw.prototype.once,Gw.prototype.un=Gw.prototype.J,Yw.prototype.getAttributions=Yw.prototype.za,Yw.prototype.getLogo=Yw.prototype.Aa,Yw.prototype.getProjection=Yw.prototype.Da,Yw.prototype.getState=Yw.prototype.getState,Yw.prototype.refresh=Yw.prototype.sa,Yw.prototype.setAttributions=Yw.prototype.va,Yw.prototype.get=Yw.prototype.get,Yw.prototype.getKeys=Yw.prototype.P,Yw.prototype.getProperties=Yw.prototype.L,Yw.prototype.set=Yw.prototype.set,Yw.prototype.setProperties=Yw.prototype.H,Yw.prototype.unset=Yw.prototype.R,Yw.prototype.changed=Yw.prototype.u,Yw.prototype.dispatchEvent=Yw.prototype.b,Yw.prototype.getRevision=Yw.prototype.K,Yw.prototype.on=Yw.prototype.I,Yw.prototype.once=Yw.prototype.once,Yw.prototype.un=Yw.prototype.J,Vw.prototype.getAttributions=Vw.prototype.za,Vw.prototype.getLogo=Vw.prototype.Aa,Vw.prototype.getProjection=Vw.prototype.Da,Vw.prototype.getState=Vw.prototype.getState,Vw.prototype.refresh=Vw.prototype.sa,Vw.prototype.setAttributions=Vw.prototype.va,Vw.prototype.get=Vw.prototype.get,Vw.prototype.getKeys=Vw.prototype.P,Vw.prototype.getProperties=Vw.prototype.L,Vw.prototype.set=Vw.prototype.set,Vw.prototype.setProperties=Vw.prototype.H,Vw.prototype.unset=Vw.prototype.R,Vw.prototype.changed=Vw.prototype.u,Vw.prototype.dispatchEvent=Vw.prototype.b,Vw.prototype.getRevision=Vw.prototype.K,Vw.prototype.on=Vw.prototype.I,Vw.prototype.once=Vw.prototype.once,Vw.prototype.un=Vw.prototype.J,Xw.prototype.getAttributions=Xw.prototype.za,Xw.prototype.getLogo=Xw.prototype.Aa,Xw.prototype.getProjection=Xw.prototype.Da,Xw.prototype.getState=Xw.prototype.getState,Xw.prototype.refresh=Xw.prototype.sa,Xw.prototype.setAttributions=Xw.prototype.va,Xw.prototype.get=Xw.prototype.get,Xw.prototype.getKeys=Xw.prototype.P,Xw.prototype.getProperties=Xw.prototype.L,Xw.prototype.set=Xw.prototype.set,Xw.prototype.setProperties=Xw.prototype.H,Xw.prototype.unset=Xw.prototype.R,Xw.prototype.changed=Xw.prototype.u,Xw.prototype.dispatchEvent=Xw.prototype.b,Xw.prototype.getRevision=Xw.prototype.K,Xw.prototype.on=Xw.prototype.I,Xw.prototype.once=Xw.prototype.once,Xw.prototype.un=Xw.prototype.J,Zw.prototype.getAttributions=Zw.prototype.za,Zw.prototype.getLogo=Zw.prototype.Aa,Zw.prototype.getProjection=Zw.prototype.Da,Zw.prototype.getState=Zw.prototype.getState,Zw.prototype.refresh=Zw.prototype.sa,Zw.prototype.setAttributions=Zw.prototype.va,Zw.prototype.get=Zw.prototype.get,Zw.prototype.getKeys=Zw.prototype.P,Zw.prototype.getProperties=Zw.prototype.L,Zw.prototype.set=Zw.prototype.set,Zw.prototype.setProperties=Zw.prototype.H,Zw.prototype.unset=Zw.prototype.R,Zw.prototype.changed=Zw.prototype.u,Zw.prototype.dispatchEvent=Zw.prototype.b,Zw.prototype.getRevision=Zw.prototype.K,Zw.prototype.on=Zw.prototype.I,Zw.prototype.once=Zw.prototype.once,Zw.prototype.un=Zw.prototype.J,Qw.prototype.setRenderReprojectionEdges=Qw.prototype.Qb,Qw.prototype.setTileGridForProjection=Qw.prototype.Rb,Qw.prototype.getTileLoadFunction=Qw.prototype.yb,Qw.prototype.getTileUrlFunction=Qw.prototype.zb,Qw.prototype.getUrls=Qw.prototype.Ab,Qw.prototype.setTileLoadFunction=Qw.prototype.Fb,Qw.prototype.setTileUrlFunction=Qw.prototype.hb,Qw.prototype.setUrl=Qw.prototype.rb,Qw.prototype.setUrls=Qw.prototype.vb,Qw.prototype.getTileGrid=Qw.prototype.jb,Qw.prototype.refresh=Qw.prototype.sa,Qw.prototype.getAttributions=Qw.prototype.za,Qw.prototype.getLogo=Qw.prototype.Aa,Qw.prototype.getProjection=Qw.prototype.Da,Qw.prototype.getState=Qw.prototype.getState,Qw.prototype.setAttributions=Qw.prototype.va,Qw.prototype.get=Qw.prototype.get,Qw.prototype.getKeys=Qw.prototype.P,Qw.prototype.getProperties=Qw.prototype.L,Qw.prototype.set=Qw.prototype.set,Qw.prototype.setProperties=Qw.prototype.H,Qw.prototype.unset=Qw.prototype.R,Qw.prototype.changed=Qw.prototype.u,Qw.prototype.dispatchEvent=Qw.prototype.b,Qw.prototype.getRevision=Qw.prototype.K,Qw.prototype.on=Qw.prototype.I,Qw.prototype.once=Qw.prototype.once,Qw.prototype.un=Qw.prototype.J,tx.prototype.getAttributions=tx.prototype.za,tx.prototype.getLogo=tx.prototype.Aa,tx.prototype.getProjection=tx.prototype.Da,tx.prototype.getState=tx.prototype.getState,tx.prototype.refresh=tx.prototype.sa,tx.prototype.setAttributions=tx.prototype.va,tx.prototype.get=tx.prototype.get,tx.prototype.getKeys=tx.prototype.P,tx.prototype.getProperties=tx.prototype.L,tx.prototype.set=tx.prototype.set,tx.prototype.setProperties=tx.prototype.H,tx.prototype.unset=tx.prototype.R,tx.prototype.changed=tx.prototype.u,tx.prototype.dispatchEvent=tx.prototype.b,tx.prototype.getRevision=tx.prototype.K,tx.prototype.on=tx.prototype.I,tx.prototype.once=tx.prototype.once,tx.prototype.un=tx.prototype.J,ix.prototype.type=ix.prototype.type,ix.prototype.target=ix.prototype.target,ix.prototype.preventDefault=ix.prototype.preventDefault,ix.prototype.stopPropagation=ix.prototype.stopPropagation,rx.prototype.setRenderReprojectionEdges=rx.prototype.Qb,rx.prototype.setTileGridForProjection=rx.prototype.Rb,rx.prototype.getTileLoadFunction=rx.prototype.yb,rx.prototype.getTileUrlFunction=rx.prototype.zb,rx.prototype.getUrls=rx.prototype.Ab,rx.prototype.setTileLoadFunction=rx.prototype.Fb,rx.prototype.setTileUrlFunction=rx.prototype.hb,rx.prototype.setUrl=rx.prototype.rb,rx.prototype.setUrls=rx.prototype.vb,rx.prototype.getTileGrid=rx.prototype.jb,rx.prototype.refresh=rx.prototype.sa,rx.prototype.getAttributions=rx.prototype.za,rx.prototype.getLogo=rx.prototype.Aa,rx.prototype.getProjection=rx.prototype.Da,rx.prototype.getState=rx.prototype.getState,rx.prototype.setAttributions=rx.prototype.va,rx.prototype.get=rx.prototype.get,rx.prototype.getKeys=rx.prototype.P,rx.prototype.getProperties=rx.prototype.L,rx.prototype.set=rx.prototype.set,rx.prototype.setProperties=rx.prototype.H,rx.prototype.unset=rx.prototype.R,rx.prototype.changed=rx.prototype.u,rx.prototype.dispatchEvent=rx.prototype.b,rx.prototype.getRevision=rx.prototype.K,rx.prototype.on=rx.prototype.I,rx.prototype.once=rx.prototype.once,rx.prototype.un=rx.prototype.J,xw.prototype.type=xw.prototype.type,xw.prototype.target=xw.prototype.target,xw.prototype.preventDefault=xw.prototype.preventDefault,xw.prototype.stopPropagation=xw.prototype.stopPropagation,lx.prototype.setRenderReprojectionEdges=lx.prototype.Qb,lx.prototype.setTileGridForProjection=lx.prototype.Rb,lx.prototype.getTileLoadFunction=lx.prototype.yb,lx.prototype.getTileUrlFunction=lx.prototype.zb,lx.prototype.getUrls=lx.prototype.Ab,lx.prototype.setTileLoadFunction=lx.prototype.Fb,lx.prototype.setTileUrlFunction=lx.prototype.hb,lx.prototype.setUrl=lx.prototype.rb,lx.prototype.setUrls=lx.prototype.vb,lx.prototype.getTileGrid=lx.prototype.jb,lx.prototype.refresh=lx.prototype.sa,lx.prototype.getAttributions=lx.prototype.za,lx.prototype.getLogo=lx.prototype.Aa,lx.prototype.getProjection=lx.prototype.Da,lx.prototype.getState=lx.prototype.getState,lx.prototype.setAttributions=lx.prototype.va,lx.prototype.get=lx.prototype.get,lx.prototype.getKeys=lx.prototype.P,lx.prototype.getProperties=lx.prototype.L,lx.prototype.set=lx.prototype.set,lx.prototype.setProperties=lx.prototype.H,lx.prototype.unset=lx.prototype.R,lx.prototype.changed=lx.prototype.u,lx.prototype.dispatchEvent=lx.prototype.b,lx.prototype.getRevision=lx.prototype.K,lx.prototype.on=lx.prototype.I,lx.prototype.once=lx.prototype.once,lx.prototype.un=lx.prototype.J,ux.prototype.getTileGrid=ux.prototype.jb,ux.prototype.refresh=ux.prototype.sa,ux.prototype.getAttributions=ux.prototype.za,ux.prototype.getLogo=ux.prototype.Aa,ux.prototype.getProjection=ux.prototype.Da,ux.prototype.getState=ux.prototype.getState,ux.prototype.setAttributions=ux.prototype.va,ux.prototype.get=ux.prototype.get,ux.prototype.getKeys=ux.prototype.P,ux.prototype.getProperties=ux.prototype.L,ux.prototype.set=ux.prototype.set,ux.prototype.setProperties=ux.prototype.H,ux.prototype.unset=ux.prototype.R,ux.prototype.changed=ux.prototype.u,ux.prototype.dispatchEvent=ux.prototype.b,ux.prototype.getRevision=ux.prototype.K,ux.prototype.on=ux.prototype.I,ux.prototype.once=ux.prototype.once,ux.prototype.un=ux.prototype.J,cx.prototype.setRenderReprojectionEdges=cx.prototype.Qb,cx.prototype.setTileGridForProjection=cx.prototype.Rb,cx.prototype.getTileLoadFunction=cx.prototype.yb,cx.prototype.getTileUrlFunction=cx.prototype.zb,cx.prototype.getUrls=cx.prototype.Ab,cx.prototype.setTileLoadFunction=cx.prototype.Fb,cx.prototype.setTileUrlFunction=cx.prototype.hb,cx.prototype.setUrl=cx.prototype.rb,cx.prototype.setUrls=cx.prototype.vb,cx.prototype.getTileGrid=cx.prototype.jb,cx.prototype.refresh=cx.prototype.sa,cx.prototype.getAttributions=cx.prototype.za,cx.prototype.getLogo=cx.prototype.Aa,cx.prototype.getProjection=cx.prototype.Da,cx.prototype.getState=cx.prototype.getState,cx.prototype.setAttributions=cx.prototype.va,cx.prototype.get=cx.prototype.get,cx.prototype.getKeys=cx.prototype.P,cx.prototype.getProperties=cx.prototype.L,cx.prototype.set=cx.prototype.set,cx.prototype.setProperties=cx.prototype.H,cx.prototype.unset=cx.prototype.R,cx.prototype.changed=cx.prototype.u,cx.prototype.dispatchEvent=cx.prototype.b,cx.prototype.getRevision=cx.prototype.K,cx.prototype.on=cx.prototype.I,cx.prototype.once=cx.prototype.once,cx.prototype.un=cx.prototype.J,fx.prototype.getTileGrid=fx.prototype.jb,fx.prototype.refresh=fx.prototype.sa,fx.prototype.getAttributions=fx.prototype.za,fx.prototype.getLogo=fx.prototype.Aa,fx.prototype.getProjection=fx.prototype.Da,fx.prototype.getState=fx.prototype.getState,fx.prototype.setAttributions=fx.prototype.va,fx.prototype.get=fx.prototype.get,fx.prototype.getKeys=fx.prototype.P,fx.prototype.getProperties=fx.prototype.L,fx.prototype.set=fx.prototype.set,fx.prototype.setProperties=fx.prototype.H,fx.prototype.unset=fx.prototype.R,fx.prototype.changed=fx.prototype.u,fx.prototype.dispatchEvent=fx.prototype.b,fx.prototype.getRevision=fx.prototype.K,fx.prototype.on=fx.prototype.I,fx.prototype.once=fx.prototype.once,fx.prototype.un=fx.prototype.J,mx.prototype.setRenderReprojectionEdges=mx.prototype.Qb,mx.prototype.setTileGridForProjection=mx.prototype.Rb,mx.prototype.getTileLoadFunction=mx.prototype.yb,mx.prototype.getTileUrlFunction=mx.prototype.zb,mx.prototype.getUrls=mx.prototype.Ab,mx.prototype.setTileLoadFunction=mx.prototype.Fb,mx.prototype.setTileUrlFunction=mx.prototype.hb,mx.prototype.setUrl=mx.prototype.rb,mx.prototype.setUrls=mx.prototype.vb,mx.prototype.getTileGrid=mx.prototype.jb,mx.prototype.refresh=mx.prototype.sa,mx.prototype.getAttributions=mx.prototype.za,mx.prototype.getLogo=mx.prototype.Aa,mx.prototype.getProjection=mx.prototype.Da,mx.prototype.getState=mx.prototype.getState,mx.prototype.setAttributions=mx.prototype.va,mx.prototype.get=mx.prototype.get,mx.prototype.getKeys=mx.prototype.P,mx.prototype.getProperties=mx.prototype.L,mx.prototype.set=mx.prototype.set,mx.prototype.setProperties=mx.prototype.H,mx.prototype.unset=mx.prototype.R,mx.prototype.changed=mx.prototype.u,mx.prototype.dispatchEvent=mx.prototype.b,mx.prototype.getRevision=mx.prototype.K,mx.prototype.on=mx.prototype.I,mx.prototype.once=mx.prototype.once,mx.prototype.un=mx.prototype.J,Zv.prototype.type=Zv.prototype.type,Zv.prototype.target=Zv.prototype.target,Zv.prototype.preventDefault=Zv.prototype.preventDefault,Zv.prototype.stopPropagation=Zv.prototype.stopPropagation,Sx.prototype.getTileLoadFunction=Sx.prototype.yb,Sx.prototype.getTileUrlFunction=Sx.prototype.zb,Sx.prototype.getUrls=Sx.prototype.Ab,Sx.prototype.setTileLoadFunction=Sx.prototype.Fb,Sx.prototype.setTileUrlFunction=Sx.prototype.hb,Sx.prototype.setUrl=Sx.prototype.rb,Sx.prototype.setUrls=Sx.prototype.vb,Sx.prototype.getTileGrid=Sx.prototype.jb,Sx.prototype.refresh=Sx.prototype.sa,Sx.prototype.getAttributions=Sx.prototype.za,Sx.prototype.getLogo=Sx.prototype.Aa,Sx.prototype.getProjection=Sx.prototype.Da,Sx.prototype.getState=Sx.prototype.getState,Sx.prototype.setAttributions=Sx.prototype.va,Sx.prototype.get=Sx.prototype.get,Sx.prototype.getKeys=Sx.prototype.P,Sx.prototype.getProperties=Sx.prototype.L,Sx.prototype.set=Sx.prototype.set,Sx.prototype.setProperties=Sx.prototype.H,Sx.prototype.unset=Sx.prototype.R,Sx.prototype.changed=Sx.prototype.u,Sx.prototype.dispatchEvent=Sx.prototype.b,Sx.prototype.getRevision=Sx.prototype.K,Sx.prototype.on=Sx.prototype.I,Sx.prototype.once=Sx.prototype.once,Sx.prototype.un=Sx.prototype.J,Tx.prototype.setRenderReprojectionEdges=Tx.prototype.Qb,Tx.prototype.setTileGridForProjection=Tx.prototype.Rb,Tx.prototype.getTileLoadFunction=Tx.prototype.yb,Tx.prototype.getTileUrlFunction=Tx.prototype.zb,Tx.prototype.getUrls=Tx.prototype.Ab,Tx.prototype.setTileLoadFunction=Tx.prototype.Fb,Tx.prototype.setTileUrlFunction=Tx.prototype.hb,Tx.prototype.setUrl=Tx.prototype.rb,Tx.prototype.setUrls=Tx.prototype.vb,Tx.prototype.getTileGrid=Tx.prototype.jb,Tx.prototype.refresh=Tx.prototype.sa,Tx.prototype.getAttributions=Tx.prototype.za,Tx.prototype.getLogo=Tx.prototype.Aa,Tx.prototype.getProjection=Tx.prototype.Da,Tx.prototype.getState=Tx.prototype.getState,Tx.prototype.setAttributions=Tx.prototype.va,Tx.prototype.get=Tx.prototype.get,Tx.prototype.getKeys=Tx.prototype.P,Tx.prototype.getProperties=Tx.prototype.L,Tx.prototype.set=Tx.prototype.set,Tx.prototype.setProperties=Tx.prototype.H,Tx.prototype.unset=Tx.prototype.R,Tx.prototype.changed=Tx.prototype.u,Tx.prototype.dispatchEvent=Tx.prototype.b,Tx.prototype.getRevision=Tx.prototype.K,Tx.prototype.on=Tx.prototype.I,Tx.prototype.once=Tx.prototype.once,Tx.prototype.un=Tx.prototype.J,Ax.prototype.setRenderReprojectionEdges=Ax.prototype.Qb,Ax.prototype.setTileGridForProjection=Ax.prototype.Rb,Ax.prototype.getTileLoadFunction=Ax.prototype.yb,Ax.prototype.getTileUrlFunction=Ax.prototype.zb,Ax.prototype.getUrls=Ax.prototype.Ab,Ax.prototype.setTileLoadFunction=Ax.prototype.Fb,Ax.prototype.setTileUrlFunction=Ax.prototype.hb,Ax.prototype.setUrl=Ax.prototype.rb,Ax.prototype.setUrls=Ax.prototype.vb,Ax.prototype.getTileGrid=Ax.prototype.jb,Ax.prototype.refresh=Ax.prototype.sa,Ax.prototype.getAttributions=Ax.prototype.za,Ax.prototype.getLogo=Ax.prototype.Aa,Ax.prototype.getProjection=Ax.prototype.Da,Ax.prototype.getState=Ax.prototype.getState,Ax.prototype.setAttributions=Ax.prototype.va,Ax.prototype.get=Ax.prototype.get,Ax.prototype.getKeys=Ax.prototype.P,Ax.prototype.getProperties=Ax.prototype.L,Ax.prototype.set=Ax.prototype.set,Ax.prototype.setProperties=Ax.prototype.H,Ax.prototype.unset=Ax.prototype.R,Ax.prototype.changed=Ax.prototype.u,Ax.prototype.dispatchEvent=Ax.prototype.b,Ax.prototype.getRevision=Ax.prototype.K,Ax.prototype.on=Ax.prototype.I,Ax.prototype.once=Ax.prototype.once,Ax.prototype.un=Ax.prototype.J,gw.prototype.getTileCoord=gw.prototype.i,gw.prototype.load=gw.prototype.load,As.prototype.changed=As.prototype.u,As.prototype.dispatchEvent=As.prototype.b,As.prototype.getRevision=As.prototype.K,As.prototype.on=As.prototype.I,As.prototype.once=As.prototype.once,As.prototype.un=As.prototype.J,_p.prototype.changed=_p.prototype.u,_p.prototype.dispatchEvent=_p.prototype.b,_p.prototype.getRevision=_p.prototype.K,_p.prototype.on=_p.prototype.I,_p.prototype.once=_p.prototype.once,_p.prototype.un=_p.prototype.J,kp.prototype.changed=kp.prototype.u,kp.prototype.dispatchEvent=kp.prototype.b,kp.prototype.getRevision=kp.prototype.K,kp.prototype.on=kp.prototype.I,kp.prototype.once=kp.prototype.once,kp.prototype.un=kp.prototype.J,Op.prototype.changed=Op.prototype.u,Op.prototype.dispatchEvent=Op.prototype.b,Op.prototype.getRevision=Op.prototype.K,Op.prototype.on=Op.prototype.I,Op.prototype.once=Op.prototype.once,Op.prototype.un=Op.prototype.J,Dp.prototype.changed=Dp.prototype.u,Dp.prototype.dispatchEvent=Dp.prototype.b,Dp.prototype.getRevision=Dp.prototype.K,Dp.prototype.on=Dp.prototype.I,Dp.prototype.once=Dp.prototype.once,Dp.prototype.un=Dp.prototype.J,js.prototype.changed=js.prototype.u,js.prototype.dispatchEvent=js.prototype.b,js.prototype.getRevision=js.prototype.K,js.prototype.on=js.prototype.I,js.prototype.once=js.prototype.once,js.prototype.un=js.prototype.J,qs.prototype.changed=qs.prototype.u,qs.prototype.dispatchEvent=qs.prototype.b,qs.prototype.getRevision=qs.prototype.K,qs.prototype.on=qs.prototype.I,qs.prototype.once=qs.prototype.once,qs.prototype.un=qs.prototype.J,Hs.prototype.changed=Hs.prototype.u,Hs.prototype.dispatchEvent=Hs.prototype.b,Hs.prototype.getRevision=Hs.prototype.K,Hs.prototype.on=Hs.prototype.I,Hs.prototype.once=Hs.prototype.once,Hs.prototype.un=Hs.prototype.J,ea.prototype.changed=ea.prototype.u,ea.prototype.dispatchEvent=ea.prototype.b,ea.prototype.getRevision=ea.prototype.K,ea.prototype.on=ea.prototype.I,ea.prototype.once=ea.prototype.once,ea.prototype.un=ea.prototype.J,qa.prototype.changed=qa.prototype.u,qa.prototype.dispatchEvent=qa.prototype.b,qa.prototype.getRevision=qa.prototype.K,qa.prototype.on=qa.prototype.I,qa.prototype.once=qa.prototype.once,qa.prototype.un=qa.prototype.J,Ha.prototype.changed=Ha.prototype.u,Ha.prototype.dispatchEvent=Ha.prototype.b,Ha.prototype.getRevision=Ha.prototype.K,Ha.prototype.on=Ha.prototype.I,Ha.prototype.once=Ha.prototype.once,Ha.prototype.un=Ha.prototype.J,Jr.prototype.type=Jr.prototype.type,Jr.prototype.target=Jr.prototype.target,Jr.prototype.preventDefault=Jr.prototype.preventDefault,Jr.prototype.stopPropagation=Jr.prototype.stopPropagation,yi.prototype.type=yi.prototype.type,yi.prototype.target=yi.prototype.target,yi.prototype.preventDefault=yi.prototype.preventDefault,yi.prototype.stopPropagation=yi.prototype.stopPropagation,xn.prototype.get=xn.prototype.get,xn.prototype.getKeys=xn.prototype.P,xn.prototype.getProperties=xn.prototype.L,xn.prototype.set=xn.prototype.set,xn.prototype.setProperties=xn.prototype.H,xn.prototype.unset=xn.prototype.R,xn.prototype.changed=xn.prototype.u,xn.prototype.dispatchEvent=xn.prototype.b,xn.prototype.getRevision=xn.prototype.K,xn.prototype.on=xn.prototype.I,xn.prototype.once=xn.prototype.once,xn.prototype.un=xn.prototype.J,Mn.prototype.getExtent=Mn.prototype.G,Mn.prototype.getMaxResolution=Mn.prototype.lc,Mn.prototype.getMinResolution=Mn.prototype.mc,Mn.prototype.getOpacity=Mn.prototype.nc,Mn.prototype.getVisible=Mn.prototype.Jb,Mn.prototype.getZIndex=Mn.prototype.Ba,Mn.prototype.setExtent=Mn.prototype.Fc,Mn.prototype.setMaxResolution=Mn.prototype.Mc,Mn.prototype.setMinResolution=Mn.prototype.Nc,Mn.prototype.setOpacity=Mn.prototype.Gc,Mn.prototype.setVisible=Mn.prototype.Hc,Mn.prototype.setZIndex=Mn.prototype.$b,Mn.prototype.get=Mn.prototype.get,Mn.prototype.getKeys=Mn.prototype.P,Mn.prototype.getProperties=Mn.prototype.L,Mn.prototype.set=Mn.prototype.set,Mn.prototype.setProperties=Mn.prototype.H,Mn.prototype.unset=Mn.prototype.R,Mn.prototype.changed=Mn.prototype.u,Mn.prototype.dispatchEvent=Mn.prototype.b,Mn.prototype.getRevision=Mn.prototype.K,Mn.prototype.on=Mn.prototype.I,Mn.prototype.once=Mn.prototype.once,Mn.prototype.un=Mn.prototype.J,Nn.prototype.getExtent=Nn.prototype.G,Nn.prototype.getMaxResolution=Nn.prototype.lc,Nn.prototype.getMinResolution=Nn.prototype.mc,Nn.prototype.getOpacity=Nn.prototype.nc,Nn.prototype.getVisible=Nn.prototype.Jb,Nn.prototype.getZIndex=Nn.prototype.Ba,Nn.prototype.setExtent=Nn.prototype.Fc,Nn.prototype.setMaxResolution=Nn.prototype.Mc,Nn.prototype.setMinResolution=Nn.prototype.Nc,Nn.prototype.setOpacity=Nn.prototype.Gc,Nn.prototype.setVisible=Nn.prototype.Hc,Nn.prototype.setZIndex=Nn.prototype.$b,Nn.prototype.get=Nn.prototype.get,Nn.prototype.getKeys=Nn.prototype.P,Nn.prototype.getProperties=Nn.prototype.L,Nn.prototype.set=Nn.prototype.set,Nn.prototype.setProperties=Nn.prototype.H,Nn.prototype.unset=Nn.prototype.R,Nn.prototype.changed=Nn.prototype.u,Nn.prototype.dispatchEvent=Nn.prototype.b,Nn.prototype.getRevision=Nn.prototype.K,Nn.prototype.on=Nn.prototype.I,Nn.prototype.once=Nn.prototype.once,Nn.prototype.un=Nn.prototype.J,Fv.prototype.setMap=Fv.prototype.setMap,Fv.prototype.setSource=Fv.prototype.hd,Fv.prototype.getExtent=Fv.prototype.G,Fv.prototype.getMaxResolution=Fv.prototype.lc,Fv.prototype.getMinResolution=Fv.prototype.mc,Fv.prototype.getOpacity=Fv.prototype.nc,Fv.prototype.getVisible=Fv.prototype.Jb,Fv.prototype.getZIndex=Fv.prototype.Ba,Fv.prototype.setExtent=Fv.prototype.Fc,Fv.prototype.setMaxResolution=Fv.prototype.Mc,Fv.prototype.setMinResolution=Fv.prototype.Nc,Fv.prototype.setOpacity=Fv.prototype.Gc,Fv.prototype.setVisible=Fv.prototype.Hc,Fv.prototype.setZIndex=Fv.prototype.$b,Fv.prototype.get=Fv.prototype.get,Fv.prototype.getKeys=Fv.prototype.P,Fv.prototype.getProperties=Fv.prototype.L,Fv.prototype.set=Fv.prototype.set,Fv.prototype.setProperties=Fv.prototype.H,Fv.prototype.unset=Fv.prototype.R,Fv.prototype.changed=Fv.prototype.u,Fv.prototype.dispatchEvent=Fv.prototype.b,Fv.prototype.getRevision=Fv.prototype.K,Fv.prototype.on=Fv.prototype.I,Fv.prototype.once=Fv.prototype.once,Fv.prototype.un=Fv.prototype.J,Kb.prototype.getSource=Kb.prototype.ha,Kb.prototype.getStyle=Kb.prototype.B,Kb.prototype.getStyleFunction=Kb.prototype.ib,Kb.prototype.setStyle=Kb.prototype.j,Kb.prototype.setMap=Kb.prototype.setMap,Kb.prototype.setSource=Kb.prototype.hd,Kb.prototype.getExtent=Kb.prototype.G,Kb.prototype.getMaxResolution=Kb.prototype.lc,Kb.prototype.getMinResolution=Kb.prototype.mc,Kb.prototype.getOpacity=Kb.prototype.nc,Kb.prototype.getVisible=Kb.prototype.Jb,Kb.prototype.getZIndex=Kb.prototype.Ba,Kb.prototype.setExtent=Kb.prototype.Fc,Kb.prototype.setMaxResolution=Kb.prototype.Mc,Kb.prototype.setMinResolution=Kb.prototype.Nc,Kb.prototype.setOpacity=Kb.prototype.Gc,Kb.prototype.setVisible=Kb.prototype.Hc,Kb.prototype.setZIndex=Kb.prototype.$b,Kb.prototype.get=Kb.prototype.get,Kb.prototype.getKeys=Kb.prototype.P,Kb.prototype.getProperties=Kb.prototype.L,Kb.prototype.set=Kb.prototype.set,Kb.prototype.setProperties=Kb.prototype.H,Kb.prototype.unset=Kb.prototype.R,Kb.prototype.changed=Kb.prototype.u,Kb.prototype.dispatchEvent=Kb.prototype.b,Kb.prototype.getRevision=Kb.prototype.K,Kb.prototype.on=Kb.prototype.I,Kb.prototype.once=Kb.prototype.once,Kb.prototype.un=Kb.prototype.J,ew.prototype.setMap=ew.prototype.setMap,ew.prototype.setSource=ew.prototype.hd,ew.prototype.getExtent=ew.prototype.G,ew.prototype.getMaxResolution=ew.prototype.lc,ew.prototype.getMinResolution=ew.prototype.mc,ew.prototype.getOpacity=ew.prototype.nc,ew.prototype.getVisible=ew.prototype.Jb,ew.prototype.getZIndex=ew.prototype.Ba,ew.prototype.setExtent=ew.prototype.Fc,ew.prototype.setMaxResolution=ew.prototype.Mc,ew.prototype.setMinResolution=ew.prototype.Nc,ew.prototype.setOpacity=ew.prototype.Gc,ew.prototype.setVisible=ew.prototype.Hc,ew.prototype.setZIndex=ew.prototype.$b,ew.prototype.get=ew.prototype.get,ew.prototype.getKeys=ew.prototype.P,ew.prototype.getProperties=ew.prototype.L,ew.prototype.set=ew.prototype.set,ew.prototype.setProperties=ew.prototype.H,ew.prototype.unset=ew.prototype.R,ew.prototype.changed=ew.prototype.u,ew.prototype.dispatchEvent=ew.prototype.b,ew.prototype.getRevision=ew.prototype.K,ew.prototype.on=ew.prototype.I,ew.prototype.once=ew.prototype.once,ew.prototype.un=ew.prototype.J,iw.prototype.setMap=iw.prototype.setMap,iw.prototype.setSource=iw.prototype.hd,iw.prototype.getExtent=iw.prototype.G,iw.prototype.getMaxResolution=iw.prototype.lc,iw.prototype.getMinResolution=iw.prototype.mc,iw.prototype.getOpacity=iw.prototype.nc,iw.prototype.getVisible=iw.prototype.Jb,iw.prototype.getZIndex=iw.prototype.Ba,iw.prototype.setExtent=iw.prototype.Fc,iw.prototype.setMaxResolution=iw.prototype.Mc,iw.prototype.setMinResolution=iw.prototype.Nc,iw.prototype.setOpacity=iw.prototype.Gc,iw.prototype.setVisible=iw.prototype.Hc,iw.prototype.setZIndex=iw.prototype.$b,iw.prototype.get=iw.prototype.get,iw.prototype.getKeys=iw.prototype.P,iw.prototype.getProperties=iw.prototype.L,iw.prototype.set=iw.prototype.set,iw.prototype.setProperties=iw.prototype.H,iw.prototype.unset=iw.prototype.R,iw.prototype.changed=iw.prototype.u,iw.prototype.dispatchEvent=iw.prototype.b,iw.prototype.getRevision=iw.prototype.K,iw.prototype.on=iw.prototype.I,iw.prototype.once=iw.prototype.once,iw.prototype.un=iw.prototype.J,ow.prototype.getStyle=ow.prototype.B,ow.prototype.getStyleFunction=ow.prototype.ib,ow.prototype.setStyle=ow.prototype.j,ow.prototype.setMap=ow.prototype.setMap,ow.prototype.setSource=ow.prototype.hd,ow.prototype.getExtent=ow.prototype.G,ow.prototype.getMaxResolution=ow.prototype.lc,ow.prototype.getMinResolution=ow.prototype.mc,ow.prototype.getOpacity=ow.prototype.nc,ow.prototype.getVisible=ow.prototype.Jb,ow.prototype.getZIndex=ow.prototype.Ba,ow.prototype.setExtent=ow.prototype.Fc,ow.prototype.setMaxResolution=ow.prototype.Mc,ow.prototype.setMinResolution=ow.prototype.Nc,ow.prototype.setOpacity=ow.prototype.Gc,ow.prototype.setVisible=ow.prototype.Hc,ow.prototype.setZIndex=ow.prototype.$b,ow.prototype.get=ow.prototype.get,ow.prototype.getKeys=ow.prototype.P,ow.prototype.getProperties=ow.prototype.L,ow.prototype.set=ow.prototype.set,ow.prototype.setProperties=ow.prototype.H,ow.prototype.unset=ow.prototype.R,ow.prototype.changed=ow.prototype.u,ow.prototype.dispatchEvent=ow.prototype.b,ow.prototype.getRevision=ow.prototype.K,ow.prototype.on=ow.prototype.I,ow.prototype.once=ow.prototype.once,ow.prototype.un=ow.prototype.J,Yn.prototype.get=Yn.prototype.get,Yn.prototype.getKeys=Yn.prototype.P,Yn.prototype.getProperties=Yn.prototype.L,Yn.prototype.set=Yn.prototype.set,Yn.prototype.setProperties=Yn.prototype.H,Yn.prototype.unset=Yn.prototype.R,Yn.prototype.changed=Yn.prototype.u,Yn.prototype.dispatchEvent=Yn.prototype.b,Yn.prototype.getRevision=Yn.prototype.K,Yn.prototype.on=Yn.prototype.I,Yn.prototype.once=Yn.prototype.once,Yn.prototype.un=Yn.prototype.J,Kn.prototype.getActive=Kn.prototype.c,Kn.prototype.getMap=Kn.prototype.i,Kn.prototype.setActive=Kn.prototype.Ha,Kn.prototype.get=Kn.prototype.get,Kn.prototype.getKeys=Kn.prototype.P,Kn.prototype.getProperties=Kn.prototype.L,Kn.prototype.set=Kn.prototype.set,Kn.prototype.setProperties=Kn.prototype.H,Kn.prototype.unset=Kn.prototype.R,Kn.prototype.changed=Kn.prototype.u,Kn.prototype.dispatchEvent=Kn.prototype.b,Kn.prototype.getRevision=Kn.prototype.K,Kn.prototype.on=Kn.prototype.I,Kn.prototype.once=Kn.prototype.once,Kn.prototype.un=Kn.prototype.J,Ev.prototype.getActive=Ev.prototype.c,Ev.prototype.getMap=Ev.prototype.i,Ev.prototype.setActive=Ev.prototype.Ha,Ev.prototype.get=Ev.prototype.get,Ev.prototype.getKeys=Ev.prototype.P,Ev.prototype.getProperties=Ev.prototype.L,Ev.prototype.set=Ev.prototype.set,Ev.prototype.setProperties=Ev.prototype.H,Ev.prototype.unset=Ev.prototype.R,Ev.prototype.changed=Ev.prototype.u,Ev.prototype.dispatchEvent=Ev.prototype.b,Ev.prototype.getRevision=Ev.prototype.K,Ev.prototype.on=Ev.prototype.I,Ev.prototype.once=Ev.prototype.once,Ev.prototype.un=Ev.prototype.J,Iv.prototype.type=Iv.prototype.type,Iv.prototype.target=Iv.prototype.target,Iv.prototype.preventDefault=Iv.prototype.preventDefault,Iv.prototype.stopPropagation=Iv.prototype.stopPropagation,hr.prototype.getActive=hr.prototype.c,hr.prototype.getMap=hr.prototype.i,hr.prototype.setActive=hr.prototype.Ha,hr.prototype.get=hr.prototype.get,hr.prototype.getKeys=hr.prototype.P,hr.prototype.getProperties=hr.prototype.L,hr.prototype.set=hr.prototype.set,hr.prototype.setProperties=hr.prototype.H,hr.prototype.unset=hr.prototype.R,hr.prototype.changed=hr.prototype.u,hr.prototype.dispatchEvent=hr.prototype.b,hr.prototype.getRevision=hr.prototype.K,hr.prototype.on=hr.prototype.I,hr.prototype.once=hr.prototype.once,hr.prototype.un=hr.prototype.J,_r.prototype.getActive=_r.prototype.c,_r.prototype.getMap=_r.prototype.i,_r.prototype.setActive=_r.prototype.Ha,_r.prototype.get=_r.prototype.get,_r.prototype.getKeys=_r.prototype.P,_r.prototype.getProperties=_r.prototype.L,_r.prototype.set=_r.prototype.set,_r.prototype.setProperties=_r.prototype.H,_r.prototype.unset=_r.prototype.R,_r.prototype.changed=_r.prototype.u,_r.prototype.dispatchEvent=_r.prototype.b,_r.prototype.getRevision=_r.prototype.K,_r.prototype.on=_r.prototype.I,_r.prototype.once=_r.prototype.once,_r.prototype.un=_r.prototype.J,Ar.prototype.type=Ar.prototype.type,Ar.prototype.target=Ar.prototype.target,Ar.prototype.preventDefault=Ar.prototype.preventDefault,Ar.prototype.stopPropagation=Ar.prototype.stopPropagation,ur.prototype.getActive=ur.prototype.c,ur.prototype.getMap=ur.prototype.i,ur.prototype.setActive=ur.prototype.Ha,ur.prototype.get=ur.prototype.get,ur.prototype.getKeys=ur.prototype.P,ur.prototype.getProperties=ur.prototype.L,ur.prototype.set=ur.prototype.set,ur.prototype.setProperties=ur.prototype.H,ur.prototype.unset=ur.prototype.R,ur.prototype.changed=ur.prototype.u,ur.prototype.dispatchEvent=ur.prototype.b,ur.prototype.getRevision=ur.prototype.K,ur.prototype.on=ur.prototype.I,ur.prototype.once=ur.prototype.once,ur.prototype.un=ur.prototype.J,yr.prototype.getActive=yr.prototype.c,yr.prototype.getMap=yr.prototype.i,yr.prototype.setActive=yr.prototype.Ha,yr.prototype.get=yr.prototype.get,yr.prototype.getKeys=yr.prototype.P,yr.prototype.getProperties=yr.prototype.L,yr.prototype.set=yr.prototype.set,yr.prototype.setProperties=yr.prototype.H,yr.prototype.unset=yr.prototype.R,yr.prototype.changed=yr.prototype.u,yr.prototype.dispatchEvent=yr.prototype.b,yr.prototype.getRevision=yr.prototype.K,yr.prototype.on=yr.prototype.I,yr.prototype.once=yr.prototype.once,yr.prototype.un=yr.prototype.J,Rv.prototype.getActive=Rv.prototype.c,Rv.prototype.getMap=Rv.prototype.i,Rv.prototype.setActive=Rv.prototype.Ha,Rv.prototype.get=Rv.prototype.get,Rv.prototype.getKeys=Rv.prototype.P,Rv.prototype.getProperties=Rv.prototype.L,Rv.prototype.set=Rv.prototype.set,Rv.prototype.setProperties=Rv.prototype.H,Rv.prototype.unset=Rv.prototype.R,Rv.prototype.changed=Rv.prototype.u,Rv.prototype.dispatchEvent=Rv.prototype.b,Rv.prototype.getRevision=Rv.prototype.K,Rv.prototype.on=Rv.prototype.I,Rv.prototype.once=Rv.prototype.once,Rv.prototype.un=Rv.prototype.J,Or.prototype.getGeometry=Or.prototype.U,Or.prototype.getActive=Or.prototype.c,Or.prototype.getMap=Or.prototype.i,Or.prototype.setActive=Or.prototype.Ha,Or.prototype.get=Or.prototype.get,Or.prototype.getKeys=Or.prototype.P,Or.prototype.getProperties=Or.prototype.L,Or.prototype.set=Or.prototype.set,Or.prototype.setProperties=Or.prototype.H,Or.prototype.unset=Or.prototype.R,Or.prototype.changed=Or.prototype.u,Or.prototype.dispatchEvent=Or.prototype.b,Or.prototype.getRevision=Or.prototype.K,Or.prototype.on=Or.prototype.I,Or.prototype.once=Or.prototype.once,Or.prototype.un=Or.prototype.J,Kv.prototype.getActive=Kv.prototype.c,Kv.prototype.getMap=Kv.prototype.i,Kv.prototype.setActive=Kv.prototype.Ha,Kv.prototype.get=Kv.prototype.get,Kv.prototype.getKeys=Kv.prototype.P,Kv.prototype.getProperties=Kv.prototype.L,Kv.prototype.set=Kv.prototype.set,Kv.prototype.setProperties=Kv.prototype.H,Kv.prototype.unset=Kv.prototype.R,Kv.prototype.changed=Kv.prototype.u,Kv.prototype.dispatchEvent=Kv.prototype.b,Kv.prototype.getRevision=Kv.prototype.K,Kv.prototype.on=Kv.prototype.I,Kv.prototype.once=Kv.prototype.once,Kv.prototype.un=Kv.prototype.J,pb.prototype.type=pb.prototype.type,pb.prototype.target=pb.prototype.target,pb.prototype.preventDefault=pb.prototype.preventDefault,pb.prototype.stopPropagation=pb.prototype.stopPropagation,ub.prototype.getActive=ub.prototype.c,ub.prototype.getMap=ub.prototype.i,ub.prototype.setActive=ub.prototype.Ha,ub.prototype.get=ub.prototype.get,ub.prototype.getKeys=ub.prototype.P,ub.prototype.getProperties=ub.prototype.L,ub.prototype.set=ub.prototype.set,ub.prototype.setProperties=ub.prototype.H,ub.prototype.unset=ub.prototype.R,ub.prototype.changed=ub.prototype.u,ub.prototype.dispatchEvent=ub.prototype.b,ub.prototype.getRevision=ub.prototype.K,ub.prototype.on=ub.prototype.I,ub.prototype.once=ub.prototype.once,ub.prototype.un=ub.prototype.J,wb.prototype.type=wb.prototype.type,wb.prototype.target=wb.prototype.target,wb.prototype.preventDefault=wb.prototype.preventDefault,wb.prototype.stopPropagation=wb.prototype.stopPropagation,Dr.prototype.getActive=Dr.prototype.c,Dr.prototype.getMap=Dr.prototype.i,Dr.prototype.setActive=Dr.prototype.Ha,Dr.prototype.get=Dr.prototype.get,Dr.prototype.getKeys=Dr.prototype.P,Dr.prototype.getProperties=Dr.prototype.L,Dr.prototype.set=Dr.prototype.set,Dr.prototype.setProperties=Dr.prototype.H,Dr.prototype.unset=Dr.prototype.R,Dr.prototype.changed=Dr.prototype.u,Dr.prototype.dispatchEvent=Dr.prototype.b,Dr.prototype.getRevision=Dr.prototype.K,Dr.prototype.on=Dr.prototype.I,Dr.prototype.once=Dr.prototype.once,Dr.prototype.un=Dr.prototype.J,Rr.prototype.getActive=Rr.prototype.c,Rr.prototype.getMap=Rr.prototype.i,Rr.prototype.setActive=Rr.prototype.Ha,Rr.prototype.get=Rr.prototype.get,Rr.prototype.getKeys=Rr.prototype.P,Rr.prototype.getProperties=Rr.prototype.L,Rr.prototype.set=Rr.prototype.set,Rr.prototype.setProperties=Rr.prototype.H,Rr.prototype.unset=Rr.prototype.R,Rr.prototype.changed=Rr.prototype.u,Rr.prototype.dispatchEvent=Rr.prototype.b,Rr.prototype.getRevision=Rr.prototype.K,Rr.prototype.on=Rr.prototype.I,Rr.prototype.once=Rr.prototype.once,Rr.prototype.un=Rr.prototype.J,xb.prototype.getActive=xb.prototype.c,xb.prototype.getMap=xb.prototype.i,xb.prototype.setActive=xb.prototype.Ha,xb.prototype.get=xb.prototype.get,xb.prototype.getKeys=xb.prototype.P,xb.prototype.getProperties=xb.prototype.L,xb.prototype.set=xb.prototype.set,xb.prototype.setProperties=xb.prototype.H,xb.prototype.unset=xb.prototype.R,xb.prototype.changed=xb.prototype.u,xb.prototype.dispatchEvent=xb.prototype.b,xb.prototype.getRevision=xb.prototype.K,xb.prototype.on=xb.prototype.I,xb.prototype.once=xb.prototype.once,xb.prototype.un=xb.prototype.J,Rb.prototype.type=Rb.prototype.type,Rb.prototype.target=Rb.prototype.target,Rb.prototype.preventDefault=Rb.prototype.preventDefault,Rb.prototype.stopPropagation=Rb.prototype.stopPropagation,Lr.prototype.getActive=Lr.prototype.c,Lr.prototype.getMap=Lr.prototype.i,Lr.prototype.setActive=Lr.prototype.Ha,Lr.prototype.get=Lr.prototype.get,Lr.prototype.getKeys=Lr.prototype.P,Lr.prototype.getProperties=Lr.prototype.L,Lr.prototype.set=Lr.prototype.set,Lr.prototype.setProperties=Lr.prototype.H,Lr.prototype.unset=Lr.prototype.R,Lr.prototype.changed=Lr.prototype.u,Lr.prototype.dispatchEvent=Lr.prototype.b,Lr.prototype.getRevision=Lr.prototype.K,Lr.prototype.on=Lr.prototype.I,Lr.prototype.once=Lr.prototype.once,Lr.prototype.un=Lr.prototype.J,Br.prototype.getActive=Br.prototype.c,Br.prototype.getMap=Br.prototype.i,Br.prototype.setActive=Br.prototype.Ha,Br.prototype.get=Br.prototype.get,Br.prototype.getKeys=Br.prototype.P,Br.prototype.getProperties=Br.prototype.L,Br.prototype.set=Br.prototype.set,Br.prototype.setProperties=Br.prototype.H,Br.prototype.unset=Br.prototype.R,Br.prototype.changed=Br.prototype.u,Br.prototype.dispatchEvent=Br.prototype.b,Br.prototype.getRevision=Br.prototype.K,Br.prototype.on=Br.prototype.I,Br.prototype.once=Br.prototype.once,Br.prototype.un=Br.prototype.J,Wr.prototype.getActive=Wr.prototype.c,Wr.prototype.getMap=Wr.prototype.i,Wr.prototype.setActive=Wr.prototype.Ha,Wr.prototype.get=Wr.prototype.get,Wr.prototype.getKeys=Wr.prototype.P,Wr.prototype.getProperties=Wr.prototype.L,Wr.prototype.set=Wr.prototype.set,Wr.prototype.setProperties=Wr.prototype.H,Wr.prototype.unset=Wr.prototype.R,Wr.prototype.changed=Wr.prototype.u,Wr.prototype.dispatchEvent=Wr.prototype.b,Wr.prototype.getRevision=Wr.prototype.K,Wr.prototype.on=Wr.prototype.I,Wr.prototype.once=Wr.prototype.once,Wr.prototype.un=Wr.prototype.J,Nb.prototype.getActive=Nb.prototype.c,Nb.prototype.getMap=Nb.prototype.i,Nb.prototype.setActive=Nb.prototype.Ha,Nb.prototype.get=Nb.prototype.get,Nb.prototype.getKeys=Nb.prototype.P,Nb.prototype.getProperties=Nb.prototype.L,Nb.prototype.set=Nb.prototype.set,Nb.prototype.setProperties=Nb.prototype.H,Nb.prototype.unset=Nb.prototype.R,Nb.prototype.changed=Nb.prototype.u,Nb.prototype.dispatchEvent=Nb.prototype.b,Nb.prototype.getRevision=Nb.prototype.K,Nb.prototype.on=Nb.prototype.I,Nb.prototype.once=Nb.prototype.once,Nb.prototype.un=Nb.prototype.J,jb.prototype.type=jb.prototype.type,jb.prototype.target=jb.prototype.target,jb.prototype.preventDefault=jb.prototype.preventDefault,jb.prototype.stopPropagation=jb.prototype.stopPropagation,zb.prototype.getActive=zb.prototype.c,zb.prototype.getMap=zb.prototype.i,zb.prototype.setActive=zb.prototype.Ha,zb.prototype.get=zb.prototype.get,zb.prototype.getKeys=zb.prototype.P,zb.prototype.getProperties=zb.prototype.L,zb.prototype.set=zb.prototype.set,zb.prototype.setProperties=zb.prototype.H,zb.prototype.unset=zb.prototype.R,zb.prototype.changed=zb.prototype.u,zb.prototype.dispatchEvent=zb.prototype.b,zb.prototype.getRevision=zb.prototype.K,zb.prototype.on=zb.prototype.I,zb.prototype.once=zb.prototype.once,zb.prototype.un=zb.prototype.J,Hb.prototype.getActive=Hb.prototype.c,Hb.prototype.getMap=Hb.prototype.i,Hb.prototype.setActive=Hb.prototype.Ha,Hb.prototype.get=Hb.prototype.get,Hb.prototype.getKeys=Hb.prototype.P,Hb.prototype.getProperties=Hb.prototype.L,Hb.prototype.set=Hb.prototype.set,Hb.prototype.setProperties=Hb.prototype.H,Hb.prototype.unset=Hb.prototype.R,Hb.prototype.changed=Hb.prototype.u,Hb.prototype.dispatchEvent=Hb.prototype.b,Hb.prototype.getRevision=Hb.prototype.K,Hb.prototype.on=Hb.prototype.I,Hb.prototype.once=Hb.prototype.once,Hb.prototype.un=Hb.prototype.J,Zb.prototype.type=Zb.prototype.type,Zb.prototype.target=Zb.prototype.target,Zb.prototype.preventDefault=Zb.prototype.preventDefault,Zb.prototype.stopPropagation=Zb.prototype.stopPropagation,ko.prototype.get=ko.prototype.get,ko.prototype.getKeys=ko.prototype.P,ko.prototype.getProperties=ko.prototype.L,ko.prototype.set=ko.prototype.set,ko.prototype.setProperties=ko.prototype.H,ko.prototype.unset=ko.prototype.R,ko.prototype.changed=ko.prototype.u,ko.prototype.dispatchEvent=ko.prototype.b,ko.prototype.getRevision=ko.prototype.K,ko.prototype.on=ko.prototype.I,ko.prototype.once=ko.prototype.once,ko.prototype.un=ko.prototype.J,So.prototype.getClosestPoint=So.prototype.Ib,So.prototype.intersectsCoordinate=So.prototype.Bb,So.prototype.getExtent=So.prototype.G,So.prototype.rotate=So.prototype.rotate,So.prototype.scale=So.prototype.scale,So.prototype.simplify=So.prototype.Sb,So.prototype.transform=So.prototype.mb,So.prototype.get=So.prototype.get,So.prototype.getKeys=So.prototype.P,So.prototype.getProperties=So.prototype.L,So.prototype.set=So.prototype.set,So.prototype.setProperties=So.prototype.H,So.prototype.unset=So.prototype.R,So.prototype.changed=So.prototype.u,So.prototype.dispatchEvent=So.prototype.b,So.prototype.getRevision=So.prototype.K,So.prototype.on=So.prototype.I,So.prototype.once=So.prototype.once,So.prototype.un=So.prototype.J,Sv.prototype.getFirstCoordinate=Sv.prototype.fc,Sv.prototype.getLastCoordinate=Sv.prototype.gc,Sv.prototype.getLayout=Sv.prototype.ic,Sv.prototype.rotate=Sv.prototype.rotate,Sv.prototype.scale=Sv.prototype.scale,Sv.prototype.getClosestPoint=Sv.prototype.Ib,Sv.prototype.intersectsCoordinate=Sv.prototype.Bb,Sv.prototype.getExtent=Sv.prototype.G,Sv.prototype.simplify=Sv.prototype.Sb,Sv.prototype.get=Sv.prototype.get,Sv.prototype.getKeys=Sv.prototype.P,Sv.prototype.getProperties=Sv.prototype.L,Sv.prototype.set=Sv.prototype.set,Sv.prototype.setProperties=Sv.prototype.H,Sv.prototype.unset=Sv.prototype.R,Sv.prototype.changed=Sv.prototype.u,Sv.prototype.dispatchEvent=Sv.prototype.b,Sv.prototype.getRevision=Sv.prototype.K,Sv.prototype.on=Sv.prototype.I,Sv.prototype.once=Sv.prototype.once,Sv.prototype.un=Sv.prototype.J,Sc.prototype.getClosestPoint=Sc.prototype.Ib,Sc.prototype.intersectsCoordinate=Sc.prototype.Bb,Sc.prototype.getExtent=Sc.prototype.G,Sc.prototype.rotate=Sc.prototype.rotate,Sc.prototype.scale=Sc.prototype.scale,Sc.prototype.simplify=Sc.prototype.Sb,Sc.prototype.transform=Sc.prototype.mb,Sc.prototype.get=Sc.prototype.get,Sc.prototype.getKeys=Sc.prototype.P,Sc.prototype.getProperties=Sc.prototype.L,Sc.prototype.set=Sc.prototype.set,Sc.prototype.setProperties=Sc.prototype.H,Sc.prototype.unset=Sc.prototype.R,Sc.prototype.changed=Sc.prototype.u,Sc.prototype.dispatchEvent=Sc.prototype.b,Sc.prototype.getRevision=Sc.prototype.K,Sc.prototype.on=Sc.prototype.I,Sc.prototype.once=Sc.prototype.once,Sc.prototype.un=Sc.prototype.J,Wo.prototype.getFirstCoordinate=Wo.prototype.fc,Wo.prototype.getLastCoordinate=Wo.prototype.gc,Wo.prototype.getLayout=Wo.prototype.ic,Wo.prototype.rotate=Wo.prototype.rotate,Wo.prototype.scale=Wo.prototype.scale,Wo.prototype.getClosestPoint=Wo.prototype.Ib,Wo.prototype.intersectsCoordinate=Wo.prototype.Bb,Wo.prototype.getExtent=Wo.prototype.G,Wo.prototype.simplify=Wo.prototype.Sb,Wo.prototype.transform=Wo.prototype.mb,Wo.prototype.get=Wo.prototype.get,Wo.prototype.getKeys=Wo.prototype.P,Wo.prototype.getProperties=Wo.prototype.L,Wo.prototype.set=Wo.prototype.set,Wo.prototype.setProperties=Wo.prototype.H,Wo.prototype.unset=Wo.prototype.R,Wo.prototype.changed=Wo.prototype.u,Wo.prototype.dispatchEvent=Wo.prototype.b,Wo.prototype.getRevision=Wo.prototype.K,Wo.prototype.on=Wo.prototype.I,Wo.prototype.once=Wo.prototype.once,Wo.prototype.un=Wo.prototype.J,fh.prototype.getFirstCoordinate=fh.prototype.fc,fh.prototype.getLastCoordinate=fh.prototype.gc,fh.prototype.getLayout=fh.prototype.ic,fh.prototype.rotate=fh.prototype.rotate,fh.prototype.scale=fh.prototype.scale,fh.prototype.getClosestPoint=fh.prototype.Ib,fh.prototype.intersectsCoordinate=fh.prototype.Bb,fh.prototype.getExtent=fh.prototype.G,fh.prototype.simplify=fh.prototype.Sb,fh.prototype.transform=fh.prototype.mb,fh.prototype.get=fh.prototype.get,fh.prototype.getKeys=fh.prototype.P,fh.prototype.getProperties=fh.prototype.L,fh.prototype.set=fh.prototype.set,fh.prototype.setProperties=fh.prototype.H,fh.prototype.unset=fh.prototype.R,fh.prototype.changed=fh.prototype.u,fh.prototype.dispatchEvent=fh.prototype.b,fh.prototype.getRevision=fh.prototype.K,fh.prototype.on=fh.prototype.I,fh.prototype.once=fh.prototype.once,fh.prototype.un=fh.prototype.J,Vu.prototype.getFirstCoordinate=Vu.prototype.fc,Vu.prototype.getLastCoordinate=Vu.prototype.gc,Vu.prototype.getLayout=Vu.prototype.ic,Vu.prototype.rotate=Vu.prototype.rotate,Vu.prototype.scale=Vu.prototype.scale,Vu.prototype.getClosestPoint=Vu.prototype.Ib,Vu.prototype.intersectsCoordinate=Vu.prototype.Bb,Vu.prototype.getExtent=Vu.prototype.G,Vu.prototype.simplify=Vu.prototype.Sb,Vu.prototype.transform=Vu.prototype.mb,Vu.prototype.get=Vu.prototype.get,Vu.prototype.getKeys=Vu.prototype.P,Vu.prototype.getProperties=Vu.prototype.L,Vu.prototype.set=Vu.prototype.set,Vu.prototype.setProperties=Vu.prototype.H,Vu.prototype.unset=Vu.prototype.R,Vu.prototype.changed=Vu.prototype.u,Vu.prototype.dispatchEvent=Vu.prototype.b,Vu.prototype.getRevision=Vu.prototype.K,Vu.prototype.on=Vu.prototype.I,Vu.prototype.once=Vu.prototype.once,Vu.prototype.un=Vu.prototype.J,Zu.prototype.getFirstCoordinate=Zu.prototype.fc,Zu.prototype.getLastCoordinate=Zu.prototype.gc,Zu.prototype.getLayout=Zu.prototype.ic,Zu.prototype.rotate=Zu.prototype.rotate,Zu.prototype.scale=Zu.prototype.scale,Zu.prototype.getClosestPoint=Zu.prototype.Ib,Zu.prototype.intersectsCoordinate=Zu.prototype.Bb,Zu.prototype.getExtent=Zu.prototype.G,Zu.prototype.simplify=Zu.prototype.Sb,Zu.prototype.transform=Zu.prototype.mb,Zu.prototype.get=Zu.prototype.get,Zu.prototype.getKeys=Zu.prototype.P,Zu.prototype.getProperties=Zu.prototype.L,Zu.prototype.set=Zu.prototype.set,Zu.prototype.setProperties=Zu.prototype.H,Zu.prototype.unset=Zu.prototype.R,Zu.prototype.changed=Zu.prototype.u,Zu.prototype.dispatchEvent=Zu.prototype.b,Zu.prototype.getRevision=Zu.prototype.K,Zu.prototype.on=Zu.prototype.I,Zu.prototype.once=Zu.prototype.once,Zu.prototype.un=Zu.prototype.J,Ku.prototype.getFirstCoordinate=Ku.prototype.fc,Ku.prototype.getLastCoordinate=Ku.prototype.gc,Ku.prototype.getLayout=Ku.prototype.ic,Ku.prototype.rotate=Ku.prototype.rotate,Ku.prototype.scale=Ku.prototype.scale,Ku.prototype.getClosestPoint=Ku.prototype.Ib,Ku.prototype.intersectsCoordinate=Ku.prototype.Bb,Ku.prototype.getExtent=Ku.prototype.G,Ku.prototype.simplify=Ku.prototype.Sb,Ku.prototype.transform=Ku.prototype.mb,Ku.prototype.get=Ku.prototype.get,Ku.prototype.getKeys=Ku.prototype.P,Ku.prototype.getProperties=Ku.prototype.L,Ku.prototype.set=Ku.prototype.set,Ku.prototype.setProperties=Ku.prototype.H,Ku.prototype.unset=Ku.prototype.R,Ku.prototype.changed=Ku.prototype.u,Ku.prototype.dispatchEvent=Ku.prototype.b,Ku.prototype.getRevision=Ku.prototype.K,Ku.prototype.on=Ku.prototype.I,Ku.prototype.once=Ku.prototype.once,Ku.prototype.un=Ku.prototype.J,Yo.prototype.getFirstCoordinate=Yo.prototype.fc,Yo.prototype.getLastCoordinate=Yo.prototype.gc,Yo.prototype.getLayout=Yo.prototype.ic,Yo.prototype.rotate=Yo.prototype.rotate,Yo.prototype.scale=Yo.prototype.scale,Yo.prototype.getClosestPoint=Yo.prototype.Ib,Yo.prototype.intersectsCoordinate=Yo.prototype.Bb,Yo.prototype.getExtent=Yo.prototype.G,Yo.prototype.simplify=Yo.prototype.Sb,Yo.prototype.transform=Yo.prototype.mb,Yo.prototype.get=Yo.prototype.get,Yo.prototype.getKeys=Yo.prototype.P,Yo.prototype.getProperties=Yo.prototype.L,Yo.prototype.set=Yo.prototype.set,Yo.prototype.setProperties=Yo.prototype.H,Yo.prototype.unset=Yo.prototype.R,Yo.prototype.changed=Yo.prototype.u,Yo.prototype.dispatchEvent=Yo.prototype.b,Yo.prototype.getRevision=Yo.prototype.K,Yo.prototype.on=Yo.prototype.I,Yo.prototype.once=Yo.prototype.once,Yo.prototype.un=Yo.prototype.J,rn.prototype.getFirstCoordinate=rn.prototype.fc,rn.prototype.getLastCoordinate=rn.prototype.gc,rn.prototype.getLayout=rn.prototype.ic,rn.prototype.rotate=rn.prototype.rotate,rn.prototype.scale=rn.prototype.scale,rn.prototype.getClosestPoint=rn.prototype.Ib,rn.prototype.intersectsCoordinate=rn.prototype.Bb,rn.prototype.getExtent=rn.prototype.G,rn.prototype.simplify=rn.prototype.Sb,rn.prototype.transform=rn.prototype.mb,rn.prototype.get=rn.prototype.get,rn.prototype.getKeys=rn.prototype.P,rn.prototype.getProperties=rn.prototype.L,rn.prototype.set=rn.prototype.set,rn.prototype.setProperties=rn.prototype.H,rn.prototype.unset=rn.prototype.R,rn.prototype.changed=rn.prototype.u,rn.prototype.dispatchEvent=rn.prototype.b,rn.prototype.getRevision=rn.prototype.K,rn.prototype.on=rn.prototype.I,rn.prototype.once=rn.prototype.once,rn.prototype.un=rn.prototype.J,kd.prototype.readFeatures=kd.prototype.Qa,Id.prototype.readFeatures=Id.prototype.Qa,kd.prototype.readFeatures=kd.prototype.Qa,On.prototype.get=On.prototype.get,On.prototype.getKeys=On.prototype.P,On.prototype.getProperties=On.prototype.L,On.prototype.set=On.prototype.set,On.prototype.setProperties=On.prototype.H,On.prototype.unset=On.prototype.R,On.prototype.changed=On.prototype.u,On.prototype.dispatchEvent=On.prototype.b,On.prototype.getRevision=On.prototype.K,On.prototype.on=On.prototype.I,On.prototype.once=On.prototype.once,On.prototype.un=On.prototype.J,jn.prototype.getMap=jn.prototype.f,jn.prototype.setMap=jn.prototype.setMap,jn.prototype.setTarget=jn.prototype.i,jn.prototype.get=jn.prototype.get,jn.prototype.getKeys=jn.prototype.P,jn.prototype.getProperties=jn.prototype.L,jn.prototype.set=jn.prototype.set,jn.prototype.setProperties=jn.prototype.H,jn.prototype.unset=jn.prototype.R,jn.prototype.changed=jn.prototype.u,jn.prototype.dispatchEvent=jn.prototype.b,jn.prototype.getRevision=jn.prototype.K,jn.prototype.on=jn.prototype.I,jn.prototype.once=jn.prototype.once,jn.prototype.un=jn.prototype.J,Yp.prototype.getMap=Yp.prototype.f,Yp.prototype.setMap=Yp.prototype.setMap,Yp.prototype.setTarget=Yp.prototype.i,Yp.prototype.get=Yp.prototype.get,Yp.prototype.getKeys=Yp.prototype.P,Yp.prototype.getProperties=Yp.prototype.L,Yp.prototype.set=Yp.prototype.set,Yp.prototype.setProperties=Yp.prototype.H,Yp.prototype.unset=Yp.prototype.R,Yp.prototype.changed=Yp.prototype.u,Yp.prototype.dispatchEvent=Yp.prototype.b,Yp.prototype.getRevision=Yp.prototype.K,Yp.prototype.on=Yp.prototype.I,Yp.prototype.once=Yp.prototype.once,Yp.prototype.un=Yp.prototype.J,Jp.prototype.getMap=Jp.prototype.f,Jp.prototype.setMap=Jp.prototype.setMap,Jp.prototype.setTarget=Jp.prototype.i,Jp.prototype.get=Jp.prototype.get,Jp.prototype.getKeys=Jp.prototype.P,Jp.prototype.getProperties=Jp.prototype.L,Jp.prototype.set=Jp.prototype.set,Jp.prototype.setProperties=Jp.prototype.H,Jp.prototype.unset=Jp.prototype.R,Jp.prototype.changed=Jp.prototype.u,Jp.prototype.dispatchEvent=Jp.prototype.b,Jp.prototype.getRevision=Jp.prototype.K,Jp.prototype.on=Jp.prototype.I,Jp.prototype.once=Jp.prototype.once,Jp.prototype.un=Jp.prototype.J,iu.prototype.getMap=iu.prototype.f,iu.prototype.setMap=iu.prototype.setMap,iu.prototype.setTarget=iu.prototype.i,iu.prototype.get=iu.prototype.get,iu.prototype.getKeys=iu.prototype.P,iu.prototype.getProperties=iu.prototype.L,iu.prototype.set=iu.prototype.set,iu.prototype.setProperties=iu.prototype.H,iu.prototype.unset=iu.prototype.R,iu.prototype.changed=iu.prototype.u,iu.prototype.dispatchEvent=iu.prototype.b,iu.prototype.getRevision=iu.prototype.K,iu.prototype.on=iu.prototype.I,iu.prototype.once=iu.prototype.once,iu.prototype.un=iu.prototype.J,Bn.prototype.getMap=Bn.prototype.f,Bn.prototype.setMap=Bn.prototype.setMap,Bn.prototype.setTarget=Bn.prototype.i,Bn.prototype.get=Bn.prototype.get,Bn.prototype.getKeys=Bn.prototype.P,Bn.prototype.getProperties=Bn.prototype.L,Bn.prototype.set=Bn.prototype.set,Bn.prototype.setProperties=Bn.prototype.H,Bn.prototype.unset=Bn.prototype.R,Bn.prototype.changed=Bn.prototype.u,Bn.prototype.dispatchEvent=Bn.prototype.b,Bn.prototype.getRevision=Bn.prototype.K,Bn.prototype.on=Bn.prototype.I,Bn.prototype.once=Bn.prototype.once,Bn.prototype.un=Bn.prototype.J,au.prototype.getMap=au.prototype.f,au.prototype.setMap=au.prototype.setMap,au.prototype.setTarget=au.prototype.i,au.prototype.get=au.prototype.get,au.prototype.getKeys=au.prototype.P,au.prototype.getProperties=au.prototype.L,au.prototype.set=au.prototype.set,au.prototype.setProperties=au.prototype.H,au.prototype.unset=au.prototype.R,au.prototype.changed=au.prototype.u,au.prototype.dispatchEvent=au.prototype.b,au.prototype.getRevision=au.prototype.K,au.prototype.on=au.prototype.I,au.prototype.once=au.prototype.once,au.prototype.un=au.prototype.J,Hn.prototype.getMap=Hn.prototype.f,Hn.prototype.setMap=Hn.prototype.setMap,Hn.prototype.setTarget=Hn.prototype.i,Hn.prototype.get=Hn.prototype.get,Hn.prototype.getKeys=Hn.prototype.P,Hn.prototype.getProperties=Hn.prototype.L,Hn.prototype.set=Hn.prototype.set,Hn.prototype.setProperties=Hn.prototype.H,Hn.prototype.unset=Hn.prototype.R,Hn.prototype.changed=Hn.prototype.u,Hn.prototype.dispatchEvent=Hn.prototype.b,Hn.prototype.getRevision=Hn.prototype.K,Hn.prototype.on=Hn.prototype.I,Hn.prototype.once=Hn.prototype.once,Hn.prototype.un=Hn.prototype.J,du.prototype.getMap=du.prototype.f,du.prototype.setMap=du.prototype.setMap,du.prototype.setTarget=du.prototype.i,du.prototype.get=du.prototype.get,du.prototype.getKeys=du.prototype.P,du.prototype.getProperties=du.prototype.L,du.prototype.set=du.prototype.set,du.prototype.setProperties=du.prototype.H,du.prototype.unset=du.prototype.R,du.prototype.changed=du.prototype.u,du.prototype.dispatchEvent=du.prototype.b,du.prototype.getRevision=du.prototype.K,du.prototype.on=du.prototype.I,du.prototype.once=du.prototype.once,du.prototype.un=du.prototype.J,mu.prototype.getMap=mu.prototype.f,mu.prototype.setMap=mu.prototype.setMap,mu.prototype.setTarget=mu.prototype.i,mu.prototype.get=mu.prototype.get,mu.prototype.getKeys=mu.prototype.P,mu.prototype.getProperties=mu.prototype.L,mu.prototype.set=mu.prototype.set,mu.prototype.setProperties=mu.prototype.H,mu.prototype.unset=mu.prototype.R,mu.prototype.changed=mu.prototype.u,mu.prototype.dispatchEvent=mu.prototype.b,mu.prototype.getRevision=mu.prototype.K,mu.prototype.on=mu.prototype.I,mu.prototype.once=mu.prototype.once,mu.prototype.un=mu.prototype.J,o.ol}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.proj4=e()}(this,function(){"use strict";function t(t,e){if(t[e])return t[e];for(var i,o=Object.keys(t),n=e.toLowerCase().replace(Y,""),r=-1;++r<o.length;)if((i=o[r]).toLowerCase().replace(Y,"")===n)return t[i]}function e(t){if("string"!=typeof t)throw new Error("not a string");this.text=t.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=X}function i(t){return new e(t).output()}function o(t,e,i){Array.isArray(e)&&(i.unshift(e),e=null);var o=i.reduce(function(t,e){return n(e,t),t},e?{}:t);e&&(t[e]=o)}function n(t,e){if(Array.isArray(t)){var i,r=t.shift();if("PARAMETER"===r&&(r=t.shift()),1===t.length)return Array.isArray(t[0])?(e[r]={},void n(t[0],e[r])):void(e[r]=t[0]);if(t.length)if("TOWGS84"!==r)switch(Array.isArray(r)||(e[r]={}),r){case"UNIT":case"PRIMEM":case"VERT_DATUM":return e[r]={name:t[0].toLowerCase(),convert:t[1]},void(3===t.length&&n(t[2],e[r]));case"SPHEROID":case"ELLIPSOID":return e[r]={name:t[0],a:t[1],rf:t[2]},void(4===t.length&&n(t[3],e[r]));case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"EDATUM":case"ENGINEERINGDATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":case"COMPD_CS":case"COMPOUNDCRS":case"ENGINEERINGCRS":case"ENGCRS":case"FITTED_CS":case"LOCAL_DATUM":case"DATUM":return t[0]=["name",t[0]],void o(e,r,t);default:for(i=-1;++i<t.length;)if(!Array.isArray(t[i]))return n(t,e[r]);return o(e,r,t)}else e[r]=t;else e[r]=!0}else e[t]=!0}function r(t){return t*tt}function s(t){function e(e){return e*(t.to_meter||1)}"GEOGCS"===t.type?t.projName="longlat":"LOCAL_CS"===t.type?(t.projName="identity",t.local=!0):t.projName="object"==typeof t.PROJECTION?Object.keys(t.PROJECTION)[0]:t.PROJECTION,t.UNIT&&(t.units=t.UNIT.name.toLowerCase(),"metre"===t.units&&(t.units="meter"),t.UNIT.convert&&("GEOGCS"===t.type?t.DATUM&&t.DATUM.SPHEROID&&(t.to_meter=t.UNIT.convert*t.DATUM.SPHEROID.a):t.to_meter=t.UNIT.convert));var i=t.GEOGCS;"GEOGCS"===t.type&&(i=t),i&&(t.datumCode=i.DATUM?i.DATUM.name.toLowerCase():i.name.toLowerCase(),"d_"===t.datumCode.slice(0,2)&&(t.datumCode=t.datumCode.slice(2)),"new_zealand_geodetic_datum_1949"!==t.datumCode&&"new_zealand_1949"!==t.datumCode||(t.datumCode="nzgd49"),"wgs_1984"===t.datumCode&&("Mercator_Auxiliary_Sphere"===t.PROJECTION&&(t.sphere=!0),t.datumCode="wgs84"),"_ferro"===t.datumCode.slice(-6)&&(t.datumCode=t.datumCode.slice(0,-6)),"_jakarta"===t.datumCode.slice(-8)&&(t.datumCode=t.datumCode.slice(0,-8)),~t.datumCode.indexOf("belge")&&(t.datumCode="rnb72"),i.DATUM&&i.DATUM.SPHEROID&&(t.ellps=i.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),"international"===t.ellps.toLowerCase().slice(0,13)&&(t.ellps="intl"),t.a=i.DATUM.SPHEROID.a,t.rf=parseFloat(i.DATUM.SPHEROID.rf,10)),~t.datumCode.indexOf("osgb_1936")&&(t.datumCode="osgb36"),~t.datumCode.indexOf("osni_1952")&&(t.datumCode="osni52"),(~t.datumCode.indexOf("tm65")||~t.datumCode.indexOf("geodetic_datum_of_1965"))&&(t.datumCode="ire65")),t.b&&!isFinite(t.b)&&(t.b=t.a),[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_2","Standard_Parallel_2"],["false_easting","False_Easting"],["false_northing","False_Northing"],["central_meridian","Central_Meridian"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",r],["longitude_of_center","Longitude_Of_Center"],["longc","longitude_of_center",r],["x0","false_easting",e],["y0","false_northing",e],["long0","central_meridian",r],["lat0","latitude_of_origin",r],["lat0","standard_parallel_1",r],["lat1","standard_parallel_1",r],["lat2","standard_parallel_2",r],["alpha","azimuth",r],["srsCode","name"]].forEach(function(e){return function(t,e){var i=e[0],o=e[1];!(i in t)&&o in t&&(t[i]=t[o],3===e.length&&(t[i]=e[2](t[i])))}(t,e)}),t.long0||!t.longc||"Albers_Conic_Equal_Area"!==t.projName&&"Lambert_Azimuthal_Equal_Area"!==t.projName||(t.long0=t.longc),t.lat_ts||!t.lat1||"Stereographic_South_Pole"!==t.projName&&"Polar Stereographic (variant B)"!==t.projName||(t.lat0=r(t.lat1>0?90:-90),t.lat_ts=t.lat1)}function a(t){var e=this;if(2===arguments.length){var i=arguments[1];a[t]="string"==typeof i?"+"===i.charAt(0)?V(arguments[1]):et(arguments[1]):i}else if(1===arguments.length){if(Array.isArray(t))return t.map(function(t){Array.isArray(t)?a.apply(e,t):a(t)});if("string"==typeof t){if(t in a)return a[t]}else"EPSG"in t?a["EPSG:"+t.EPSG]=t:"ESRI"in t?a["ESRI:"+t.ESRI]=t:"IAU2000"in t?a["IAU2000:"+t.IAU2000]=t:console.log(t);return}}function h(t){return function(t){return"string"==typeof t}(t)?function(t){return t in a}(t)?a[t]:function(t){return it.some(function(e){return t.indexOf(e)>-1})}(t)?et(t):function(t){return"+"===t[0]}(t)?V(t):void 0:t}function l(t){return t}function p(t,e){var i=ut.length;return t.names?(ut[i]=t,t.names.forEach(function(t){pt[t.toLowerCase()]=i}),this):(console.log(e),!0)}function u(e,i){if(!(this instanceof u))return new u(e);i=i||function(t){if(t)throw t};var o=h(e);if("object"==typeof o){var n=u.projections.get(o.projName);if(n){if(o.datumCode&&"none"!==o.datumCode){var r=t(yt,o.datumCode);r&&(o.datum_params=r.towgs84?r.towgs84.split(","):null,o.ellps=r.ellipse,o.datumName=r.datumName?r.datumName:o.datumCode)}o.k0=o.k0||1,o.axis=o.axis||"enu",o.ellps=o.ellps||"wgs84";var s=function(e,i,o,n,r){if(!e){var s=t(ct,n);s||(s=ft),e=s.a,i=s.b,o=s.rf}return o&&!i&&(i=(1-1/o)*e),(0===o||Math.abs(e-i)<F)&&(r=!0,i=e),{a:e,b:i,rf:o,sphere:r}}(o.a,o.b,o.rf,o.ellps,o.sphere),a=function(t,e,i,o){var n=t*t,r=e*e,s=(n-r)/n,a=0;return o?(n=(t*=1-s*(N+s*(L+s*j)))*t,s=0):a=Math.sqrt(s),{es:s,e:a,ep2:(n-r)/r}}(s.a,s.b,0,o.R_A),l=o.datum||function(t,e,i,o,n,r){var s={};return s.datum_type=void 0===t||"none"===t?D:O,e&&(s.datum_params=e.map(parseFloat),0===s.datum_params[0]&&0===s.datum_params[1]&&0===s.datum_params[2]||(s.datum_type=P),s.datum_params.length>3&&(0===s.datum_params[3]&&0===s.datum_params[4]&&0===s.datum_params[5]&&0===s.datum_params[6]||(s.datum_type=A,s.datum_params[3]*=I,s.datum_params[4]*=I,s.datum_params[5]*=I,s.datum_params[6]=s.datum_params[6]/1e6+1))),s.a=i,s.b=o,s.es=n,s.ep2=r,s}(o.datumCode,o.datum_params,s.a,s.b,a.es,a.ep2);ot(this,o),ot(this,n),this.a=s.a,this.b=s.b,this.rf=s.rf,this.sphere=s.sphere,this.es=a.es,this.e=a.e,this.ep2=a.ep2,this.datum=l,this.init(),i(null,this)}else i(e)}else i(e)}function d(t){return t===P||t===A}function c(t){if("function"==typeof Number.isFinite){if(Number.isFinite(t))return;throw new TypeError("coordinates must be finite numbers")}if("number"!=typeof t||t!=t||!isFinite(t))throw new TypeError("coordinates must be finite numbers")}function f(t,e,i){var o;return Array.isArray(i)&&(i=vt(i)),bt(i),t.datum&&e.datum&&function(t,e){return(t.datum.datum_type===P||t.datum.datum_type===A)&&"WGS84"!==e.datumCode||(e.datum.datum_type===P||e.datum.datum_type===A)&&"WGS84"!==t.datumCode}(t,e)&&(i=f(t,o=new u("WGS84"),i),t=o),"enu"!==t.axis&&(i=mt(t,!1,i)),"longlat"===t.projName?i={x:i.x*z,y:i.y*z}:(t.to_meter&&(i={x:i.x*t.to_meter,y:i.y*t.to_meter}),i=t.inverse(i)),t.from_greenwich&&(i.x+=t.from_greenwich),i=gt(t.datum,e.datum,i),e.from_greenwich&&(i={x:i.x-e.from_greenwich,y:i.y}),"longlat"===e.projName?i={x:i.x*B,y:i.y*B}:(i=e.forward(i),e.to_meter&&(i={x:i.x/e.to_meter,y:i.y/e.to_meter})),"enu"!==e.axis?mt(e,!0,i):i}function y(t,e,i){var o,n,r;return Array.isArray(i)?(o=f(t,e,i),3===i.length?[o.x,o.y,o.z]:[o.x,o.y]):(n=f(t,e,i),2===(r=Object.keys(i)).length?n:(r.forEach(function(t){"x"!==t&&"y"!==t&&(n[t]=i[t])}),n))}function g(t){return t instanceof u?t:t.oProj?t.oProj:u(t)}function m(t,e,i){t=g(t);var o,n=!1;return void 0===e?(e=t,t=wt,n=!0):(void 0!==e.x||Array.isArray(e))&&(i=e,e=t,t=wt,n=!0),e=g(e),i?y(t,e,i):(o={forward:function(i){return y(t,e,i)},inverse:function(i){return y(e,t,i)}},n&&(o.oProj=e),o)}function v(t,e){return e=e||5,function(t,e){var i="00000"+t.easting,o="00000"+t.northing;return t.zoneNumber+t.zoneLetter+function(t,e,i){var o=M(i);return function(t,e,i){var o=i-1,n=_t.charCodeAt(o),r=Mt.charCodeAt(o),s=n+t-1,a=r+e,h=!1;return s>Tt&&(s=s-Tt+kt-1,h=!0),(s===St||St>n&&s>St||(s>St||St>n)&&h)&&s++,(s===Ct||Ct>n&&s>Ct||(s>Ct||Ct>n)&&h)&&++s===St&&s++,s>Tt&&(s=s-Tt+kt-1),a>Et?(a=a-Et+kt-1,h=!0):h=!1,(a===St||St>r&&a>St||(a>St||St>r)&&h)&&a++,(a===Ct||Ct>r&&a>Ct||(a>Ct||Ct>r)&&h)&&++a===St&&a++,a>Et&&(a=a-Et+kt-1),String.fromCharCode(s)+String.fromCharCode(a)}(Math.floor(t/1e5),Math.floor(e/1e5)%20,o)}(t.easting,t.northing,t.zoneNumber)+i.substr(i.length-5,e)+o.substr(o.length-5,e)}(function(t){var e,i,o,n,r,s,a,h=t.lat,l=t.lon,p=6378137,u=.00669438,d=w(h),c=w(l);a=Math.floor((l+180)/6)+1,180===l&&(a=60),h>=56&&64>h&&l>=3&&12>l&&(a=32),h>=72&&84>h&&(l>=0&&9>l?a=31:l>=9&&21>l?a=33:l>=21&&33>l?a=35:l>=33&&42>l&&(a=37)),s=w(6*(a-1)-180+3),e=u/(1-u),i=p/Math.sqrt(1-u*Math.sin(d)*Math.sin(d)),o=Math.tan(d)*Math.tan(d),n=e*Math.cos(d)*Math.cos(d);var f=.9996*i*((r=Math.cos(d)*(c-s))+(1-o+n)*r*r*r/6+(5-18*o+o*o+72*n-58*e)*r*r*r*r*r/120)+5e5,y=.9996*(p*(.9983242984503243*d-.002514607064228144*Math.sin(2*d)+2639046602129982e-21*Math.sin(4*d)-35*u*u*u/3072*Math.sin(6*d))+i*Math.tan(d)*(r*r/2+(5-o+9*n+4*n*n)*r*r*r*r/24+(61-58*o+o*o+600*n-330*e)*r*r*r*r*r*r/720));return 0>h&&(y+=1e7),{northing:Math.round(y),easting:Math.round(f),zoneNumber:a,zoneLetter:function(t){var e="Z";return 84>=h&&h>=72?e="X":72>h&&h>=64?e="W":64>h&&h>=56?e="V":56>h&&h>=48?e="U":48>h&&h>=40?e="T":40>h&&h>=32?e="S":32>h&&h>=24?e="R":24>h&&h>=16?e="Q":16>h&&h>=8?e="P":8>h&&h>=0?e="N":0>h&&h>=-8?e="M":-8>h&&h>=-16?e="L":-16>h&&h>=-24?e="K":-24>h&&h>=-32?e="J":-32>h&&h>=-40?e="H":-40>h&&h>=-48?e="G":-48>h&&h>=-56?e="F":-56>h&&h>=-64?e="E":-64>h&&h>=-72?e="D":-72>h&&h>=-80&&(e="C"),e}()}}({lat:t[1],lon:t[0]}),e)}function b(t){var e=_(k(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat]:[(e.left+e.right)/2,(e.top+e.bottom)/2]}function w(t){return t*(Math.PI/180)}function x(t){return t/Math.PI*180}function _(t){var e=t.northing,i=t.easting,o=t.zoneLetter,n=t.zoneNumber;if(0>n||n>60)return null;var r,s,a,h,l,p,u,d,c,f=6378137,y=.00669438,g=(1-Math.sqrt(1-y))/(1+Math.sqrt(1-y)),m=i-5e5,v=e;"N">o&&(v-=1e7),u=6*(n-1)-180+3,r=y/(1-y),c=(d=v/.9996/6367449.145945056)+(3*g/2-27*g*g*g/32)*Math.sin(2*d)+(21*g*g/16-55*g*g*g*g/32)*Math.sin(4*d)+151*g*g*g/96*Math.sin(6*d),s=f/Math.sqrt(1-y*Math.sin(c)*Math.sin(c)),a=Math.tan(c)*Math.tan(c),h=r*Math.cos(c)*Math.cos(c),l=f*(1-y)/Math.pow(1-y*Math.sin(c)*Math.sin(c),1.5),p=m/(.9996*s);var b=c-s*Math.tan(c)/l*(p*p/2-(5+3*a+10*h-4*h*h-9*r)*p*p*p*p/24+(61+90*a+298*h+45*a*a-252*r-3*h*h)*p*p*p*p*p*p/720);b=x(b);var w,M=(p-(1+2*a+h)*p*p*p/6+(5-2*h+28*a-3*h*h+8*r+24*a*a)*p*p*p*p*p/120)/Math.cos(c);if(M=u+x(M),t.accuracy){var k=_({northing:t.northing+t.accuracy,easting:t.easting+t.accuracy,zoneLetter:t.zoneLetter,zoneNumber:t.zoneNumber});w={top:k.lat,right:k.lon,bottom:b,left:M}}else w={lat:b,lon:M};return w}function M(t){var e=t%xt;return 0===e&&(e=xt),e}function k(t){if(t&&0===t.length)throw"MGRSPoint coverting from nothing";for(var e,i=t.length,o=null,n="",r=0;!/[A-Z]/.test(e=t.charAt(r));){if(r>=2)throw"MGRSPoint bad conversion from: "+t;n+=e,r++}var s=parseInt(n,10);if(0===r||r+3>i)throw"MGRSPoint bad conversion from: "+t;var a=t.charAt(r++);if("A">=a||"B"===a||"Y"===a||a>="Z"||"I"===a||"O"===a)throw"MGRSPoint zone letter "+a+" not handled: "+t;o=t.substring(r,r+=2);for(var h=M(s),l=function(t,e){for(var i=_t.charCodeAt(h-1),o=1e5,n=!1;i!==t.charCodeAt(0);){if(++i===St&&i++,i===Ct&&i++,i>Tt){if(n)throw"Bad character: "+t;i=kt,n=!0}o+=1e5}return o}(o.charAt(0)),p=function(t,e){if(t>"V")throw"MGRSPoint given invalid Northing "+t;for(var i=Mt.charCodeAt(e-1),o=0,n=!1;i!==t.charCodeAt(0);){if(++i===St&&i++,i===Ct&&i++,i>Et){if(n)throw"Bad character: "+t;i=kt,n=!0}o+=1e5}return o}(o.charAt(1),h);p<S(a);)p+=2e6;var u=i-r;if(u%2!=0)throw"MGRSPoint has to have an even number \nof digits after the zone letter and two 100km letters - front \nhalf for easting meters, second half for \nnorthing meters"+t;var d,c,f,y=u/2,g=0,m=0;return y>0&&(d=1e5/Math.pow(10,y),c=t.substring(r,r+y),g=parseFloat(c)*d,f=t.substring(r+y),m=parseFloat(f)*d),{easting:g+l,northing:m+p,zoneLetter:a,zoneNumber:s,accuracy:d}}function S(t){var e;switch(t){case"C":e=11e5;break;case"D":e=2e6;break;case"E":e=28e5;break;case"F":e=37e5;break;case"G":e=46e5;break;case"H":e=55e5;break;case"J":e=64e5;break;case"K":e=73e5;break;case"L":e=82e5;break;case"M":e=91e5;break;case"N":e=0;break;case"P":e=8e5;break;case"Q":e=17e5;break;case"R":e=26e5;break;case"S":e=35e5;break;case"T":e=44e5;break;case"U":e=53e5;break;case"V":e=62e5;break;case"W":e=7e6;break;case"X":e=79e5;break;default:e=-1}if(e>=0)return e;throw"Invalid zone letter: "+t}function C(t,e,i){if(!(this instanceof C))return new C(t,e,i);if(Array.isArray(t))this.x=t[0],this.y=t[1],this.z=t[2]||0;else if("object"==typeof t)this.x=t.x,this.y=t.y,this.z=t.z||0;else if("string"==typeof t&&void 0===e){var o=t.split(",");this.x=parseFloat(o[0],10),this.y=parseFloat(o[1],10),this.z=parseFloat(o[2],10)||0}else this.x=t,this.y=e,this.z=i||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}function E(t,e,i,o){var n;return F>t?(o.value=_e.AREA_0,n=0):(n=Math.atan2(e,i),Math.abs(n)<=q?o.value=_e.AREA_0:n>q&&R+q>=n?(o.value=_e.AREA_1,n-=R):n>R+q||-(R+q)>=n?(o.value=_e.AREA_2,n=n>=0?n-U:n+U):(o.value=_e.AREA_3,n+=R)),n}function T(t,e){var i=t+e;return-U>i?i+=H:i>+U&&(i-=H),i}var P=1,A=2,O=4,D=5,I=484813681109536e-20,R=Math.PI/2,N=.16666666666666666,L=.04722222222222222,j=.022156084656084655,F=1e-10,z=.017453292519943295,B=57.29577951308232,q=Math.PI/4,H=2*Math.PI,U=3.14159265359,W={greenwich:0,lisbon:-9.131906111111,paris:2.337229166667,bogota:-74.080916666667,madrid:-3.687938888889,rome:12.452333333333,bern:7.439583333333,jakarta:106.807719444444,ferro:-17.666666666667,brussels:4.367975,stockholm:18.058277777778,athens:23.7163375,oslo:10.722916666667},G={ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937}},Y=/[\s_\-\/\(\)]/g,V=function(e){var i,o,n,r={},s=e.split("+").map(function(t){return t.trim()}).filter(function(t){return t}).reduce(function(t,e){var i=e.split("=");return i.push(!0),t[i[0].toLowerCase()]=i[1],t},{}),a={proj:"projName",datum:"datumCode",rf:function(t){r.rf=parseFloat(t)},lat_0:function(t){r.lat0=t*z},lat_1:function(t){r.lat1=t*z},lat_2:function(t){r.lat2=t*z},lat_ts:function(t){r.lat_ts=t*z},lon_0:function(t){r.long0=t*z},lon_1:function(t){r.long1=t*z},lon_2:function(t){r.long2=t*z},alpha:function(t){r.alpha=parseFloat(t)*z},lonc:function(t){r.longc=t*z},x_0:function(t){r.x0=parseFloat(t)},y_0:function(t){r.y0=parseFloat(t)},k_0:function(t){r.k0=parseFloat(t)},k:function(t){r.k0=parseFloat(t)},a:function(t){r.a=parseFloat(t)},b:function(t){r.b=parseFloat(t)},r_a:function(){r.R_A=!0},zone:function(t){r.zone=parseInt(t,10)},south:function(){r.utmSouth=!0},towgs84:function(t){r.datum_params=t.split(",").map(function(t){return parseFloat(t)})},to_meter:function(t){r.to_meter=parseFloat(t)},units:function(e){r.units=e;var i=t(G,e);i&&(r.to_meter=i.to_meter)},from_greenwich:function(t){r.from_greenwich=t*z},pm:function(e){var i=t(W,e);r.from_greenwich=(i||parseFloat(e))*z},nadgrids:function(t){"@null"===t?r.datumCode="none":r.nadgrids=t},axis:function(t){var e="ewnsud";3===t.length&&-1!==e.indexOf(t.substr(0,1))&&-1!==e.indexOf(t.substr(1,1))&&-1!==e.indexOf(t.substr(2,1))&&(r.axis=t)}};for(i in s)o=s[i],i in a?"function"==typeof(n=a[i])?n(o):r[n]=o:r[i]=o;return"string"==typeof r.datumCode&&"WGS84"!==r.datumCode&&(r.datumCode=r.datumCode.toLowerCase()),r},X=1,Z=/\s/,K=/[A-Za-z]/,J=/[A-Za-z84]/,$=/[,\]]/,Q=/[\d\.E\-\+]/;e.prototype.readCharicter=function(){var t=this.text[this.place++];if(4!==this.state)for(;Z.test(t);){if(this.place>=this.text.length)return;t=this.text[this.place++]}switch(this.state){case X:return this.neutral(t);case 2:return this.keyword(t);case 4:return this.quoted(t);case 5:return this.afterquote(t);case 3:return this.number(t);case-1:return}},e.prototype.afterquote=function(t){if('"'===t)return this.word+='"',void(this.state=4);if($.test(t))return this.word=this.word.trim(),void this.afterItem(t);throw new Error("havn't handled \""+t+'" in afterquote yet, index '+this.place)},e.prototype.afterItem=function(t){return","===t?(null!==this.word&&this.currentObject.push(this.word),this.word=null,void(this.state=X)):"]"===t?(this.level--,null!==this.word&&(this.currentObject.push(this.word),this.word=null),this.state=X,this.currentObject=this.stack.pop(),void(this.currentObject||(this.state=-1))):void 0},e.prototype.number=function(t){if(!Q.test(t)){if($.test(t))return this.word=parseFloat(this.word),void this.afterItem(t);throw new Error("havn't handled \""+t+'" in number yet, index '+this.place)}this.word+=t},e.prototype.quoted=function(t){return'"'===t?void(this.state=5):void(this.word+=t)},e.prototype.keyword=function(t){if(J.test(t))this.word+=t;else{if("["===t){var e=[];return e.push(this.word),this.level++,null===this.root?this.root=e:this.currentObject.push(e),this.stack.push(this.currentObject),this.currentObject=e,void(this.state=X)}if(!$.test(t))throw new Error("havn't handled \""+t+'" in keyword yet, index '+this.place);this.afterItem(t)}},e.prototype.neutral=function(t){if(K.test(t))return this.word=t,void(this.state=2);if('"'===t)return this.word="",void(this.state=4);if(Q.test(t))return this.word=t,void(this.state=3);if(!$.test(t))throw new Error("havn't handled \""+t+'" in neutral yet, index '+this.place);this.afterItem(t)},e.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(-1===this.state)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};var tt=.017453292519943295,et=function(t){var e=i(t),o=e.shift(),r=e.shift();e.unshift(["name",r]),e.unshift(["type",o]);var a={};return n(e,a),s(a),a};!function(t){t("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),t("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),t("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),t.WGS84=t["EPSG:4326"],t["EPSG:3785"]=t["EPSG:3857"],t.GOOGLE=t["EPSG:3857"],t["EPSG:900913"]=t["EPSG:3857"],t["EPSG:102113"]=t["EPSG:3857"]}(a);var it=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"],ot=function(t,e){var i,o;if(t=t||{},!e)return t;for(o in e)void 0!==(i=e[o])&&(t[o]=i);return t},nt=function(t,e,i){var o=t*e;return i/Math.sqrt(1-o*o)},rt=function(t){return 0>t?-1:1},st=function(t){return Math.abs(t)<=U?t:t-rt(t)*H},at=function(t,e,i){var o=t*i;return o=Math.pow((1-o)/(1+o),.5*t),Math.tan(.5*(R-e))/o},ht=function(t,e){for(var i,o,n=.5*t,r=R-2*Math.atan(e),s=0;15>=s;s++)if(i=t*Math.sin(r),r+=o=R-2*Math.atan(e*Math.pow((1-i)/(1+i),n))-r,Math.abs(o)<=1e-10)return r;return-9999},lt=[{init:function(){var t=this.b/this.a;this.es=1-t*t,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.k0=this.sphere?Math.cos(this.lat_ts):nt(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k0=this.k?this.k:1)},forward:function(t){var e,i,o=t.x,n=t.y;if(n*B>90&&-90>n*B&&o*B>180&&-180>o*B)return null;if(Math.abs(Math.abs(n)-R)<=F)return null;if(this.sphere)e=this.x0+this.a*this.k0*st(o-this.long0),i=this.y0+this.a*this.k0*Math.log(Math.tan(q+.5*n));else{var r=Math.sin(n),s=at(this.e,n,r);e=this.x0+this.a*this.k0*st(o-this.long0),i=this.y0-this.a*this.k0*Math.log(s)}return t.x=e,t.y=i,t},inverse:function(t){var e,i,o=t.x-this.x0,n=t.y-this.y0;if(this.sphere)i=R-2*Math.atan(Math.exp(-n/(this.a*this.k0)));else{var r=Math.exp(-n/(this.a*this.k0));if(-9999===(i=ht(this.e,r)))return null}return e=st(this.long0+o/(this.a*this.k0)),t.x=e,t.y=i,t},names:["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"]},{init:function(){},forward:l,inverse:l,names:["longlat","identity"]}],pt={},ut=[],dt={start:function(){lt.forEach(p)},add:p,get:function(t){if(!t)return!1;var e=t.toLowerCase();return void 0!==pt[e]&&ut[pt[e]]?ut[pt[e]]:void 0}},ct={MERIT:{a:6378137,rf:298.257,ellipseName:"MERIT 1983"},SGS85:{a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},GRS80:{a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},IAU76:{a:6378140,rf:298.257,ellipseName:"IAU 1976"},airy:{a:6377563.396,b:6356256.91,ellipseName:"Airy 1830"},APL4:{a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},NWL9D:{a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},mod_airy:{a:6377340.189,b:6356034.446,ellipseName:"Modified Airy"},andrae:{a:6377104.43,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},aust_SA:{a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},GRS67:{a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},bessel:{a:6377397.155,rf:299.1528128,ellipseName:"Bessel 1841"},bess_nam:{a:6377483.865,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},clrk66:{a:6378206.4,b:6356583.8,ellipseName:"Clarke 1866"},clrk80:{a:6378249.145,rf:293.4663,ellipseName:"Clarke 1880 mod."},clrk58:{a:6378293.645208759,rf:294.2606763692654,ellipseName:"Clarke 1858"},CPM:{a:6375738.7,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},delmbr:{a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},engelis:{a:6378136.05,rf:298.2566,ellipseName:"Engelis 1985"},evrst30:{a:6377276.345,rf:300.8017,ellipseName:"Everest 1830"},evrst48:{a:6377304.063,rf:300.8017,ellipseName:"Everest 1948"},evrst56:{a:6377301.243,rf:300.8017,ellipseName:"Everest 1956"},evrst69:{a:6377295.664,rf:300.8017,ellipseName:"Everest 1969"},evrstSS:{a:6377298.556,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},fschr60:{a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},fschr60m:{a:6378155,rf:298.3,ellipseName:"Fischer 1960"},fschr68:{a:6378150,rf:298.3,ellipseName:"Fischer 1968"},helmert:{a:6378200,rf:298.3,ellipseName:"Helmert 1906"},hough:{a:6378270,rf:297,ellipseName:"Hough"},intl:{a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},kaula:{a:6378163,rf:298.24,ellipseName:"Kaula 1961"},lerch:{a:6378139,rf:298.257,ellipseName:"Lerch 1979"},mprts:{a:6397300,rf:191,ellipseName:"Maupertius 1738"},new_intl:{a:6378157.5,b:6356772.2,ellipseName:"New International 1967"},plessis:{a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},krass:{a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},SEasia:{a:6378155,b:6356773.3205,ellipseName:"Southeast Asia"},walbeck:{a:6376896,b:6355834.8467,ellipseName:"Walbeck"},WGS60:{a:6378165,rf:298.3,ellipseName:"WGS 60"},WGS66:{a:6378145,rf:298.25,ellipseName:"WGS 66"},WGS7:{a:6378135,rf:298.26,ellipseName:"WGS 72"}},ft=ct.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};ct.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"};var yt={wgs84:{towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},ch1903:{towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},ggrs87:{towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},nad83:{towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},nad27:{nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},potsdam:{towgs84:"606.0,23.0,413.0",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},carthage:{towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},hermannskogel:{towgs84:"653.0,-212.0,449.0",ellipse:"bessel",datumName:"Hermannskogel"},osni52:{towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"},ire65:{towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},rassadiran:{towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},nzgd49:{towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},osgb36:{towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"},s_jtsk:{towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},beduaram:{towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},gunung_segara:{towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},rnb72:{towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"}};(u.projections=dt).start();var gt=function(t,e,i){return function(t,e){return t.datum_type===e.datum_type&&!(t.a!==e.a||Math.abs(t.es-e.es)>5e-11)&&(t.datum_type===P?t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]:t.datum_type!==A||t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]&&t.datum_params[3]===e.datum_params[3]&&t.datum_params[4]===e.datum_params[4]&&t.datum_params[5]===e.datum_params[5]&&t.datum_params[6]===e.datum_params[6])}(t,e)?i:t.datum_type===D||e.datum_type===D?i:t.es!==e.es||t.a!==e.a||d(t.datum_type)||d(e.datum_type)?(i=function(t,e,i){var o,n,r,s=t.x,a=t.y,h=t.z?t.z:0;if(-R>a&&a>-1.001*R)a=-R;else if(a>R&&1.001*R>a)a=R;else if(-R>a||a>R)return null;return s>Math.PI&&(s-=2*Math.PI),n=Math.sin(a),r=Math.cos(a),{x:((o=i/Math.sqrt(1-e*(n*n)))+h)*r*Math.cos(s),y:(o+h)*r*Math.sin(s),z:(o*(1-e)+h)*n}}(i,t.es,t.a),d(t.datum_type)&&(i=function(t,e,i){if(e===P)return{x:t.x+i[0],y:t.y+i[1],z:t.z+i[2]};if(e===A){var o=i[3],n=i[4],r=i[5],s=i[6];return{x:s*(t.x-r*t.y+n*t.z)+i[0],y:s*(r*t.x+t.y-o*t.z)+i[1],z:s*(-n*t.x+o*t.y+t.z)+i[2]}}}(i,t.datum_type,t.datum_params)),d(e.datum_type)&&(i=function(t,e,i){if(e===P)return{x:t.x-i[0],y:t.y-i[1],z:t.z-i[2]};if(e===A){var o=i[3],n=i[4],r=i[5],s=i[6],a=(t.x-i[0])/s,h=(t.y-i[1])/s,l=(t.z-i[2])/s;return{x:a+r*h-n*l,y:-r*a+h+o*l,z:n*a-o*h+l}}}(i,e.datum_type,e.datum_params)),function(t,e,i,o){var n,r,s,a,h,l,p,u,d,c,f,y,g,m,v,b=t.x,w=t.y,x=t.z?t.z:0;if(n=Math.sqrt(b*b+w*w),r=Math.sqrt(b*b+w*w+x*x),1e-12>n/i){if(m=0,1e-12>r/i)return v=-o,{x:t.x,y:t.y,z:t.z}}else m=Math.atan2(w,b);s=x/r,u=(a=n/r)*(1-e)*(h=1/Math.sqrt(1-e*(2-e)*a*a)),d=s*h,g=0;do{g++,l=e*(p=i/Math.sqrt(1-e*d*d))/(p+(v=n*u+x*d-p*(1-e*d*d))),y=(f=s*(h=1/Math.sqrt(1-l*(2-l)*a*a)))*u-(c=a*(1-l)*h)*d,u=c,d=f}while(y*y>1e-24&&30>g);return{x:m,y:Math.atan(f/Math.abs(c)),z:v}}(i,e.es,e.a,e.b)):i},mt=function(t,e,i){var o,n,r,s=i.x,a=i.y,h=i.z||0,l={};for(r=0;3>r;r++)if(!e||2!==r||void 0!==i.z)switch(0===r?(o=s,n="x"):1===r?(o=a,n="y"):(o=h,n="z"),t.axis[r]){case"e":l[n]=o;break;case"w":l[n]=-o;break;case"n":l[n]=o;break;case"s":l[n]=-o;break;case"u":void 0!==i[n]&&(l.z=o);break;case"d":void 0!==i[n]&&(l.z=-o);break;default:return null}return l},vt=function(t){var e={x:t[0],y:t[1]};return t.length>2&&(e.z=t[2]),t.length>3&&(e.m=t[3]),e},bt=function(t){c(t.x),c(t.y)},wt=u("WGS84"),xt=6,_t="AJSAJS",Mt="AFAFAF",kt=65,St=73,Ct=79,Et=86,Tt=90,Pt={forward:v,inverse:function(t){var e=_(k(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat,e.lon,e.lat]:[e.left,e.bottom,e.right,e.top]},toPoint:b};C.fromMGRS=function(t){return new C(b(t))},C.prototype.toMGRS=function(t){return v([this.x,this.y],t)};var At,Ot=.01953125,Dt=.01068115234375,It=function(t){var e=[];e[0]=1-t*(.25+t*(.046875+t*(Ot+t*Dt))),e[1]=t*(.75-t*(.046875+t*(Ot+t*Dt)));var i=t*t;return e[2]=i*(.46875-t*(.013020833333333334+.007120768229166667*t)),e[3]=(i*=t)*(.3645833333333333-.005696614583333333*t),e[4]=i*t*.3076171875,e},Rt=function(t,e,i,o){return o[0]*t-(i*=e)*(o[1]+(e*=e)*(o[2]+e*(o[3]+e*o[4])))},Nt=function(t,e,i){for(var o=1/(1-e),n=t,r=20;r;--r){var s=Math.sin(n),a=1-e*s*s;if(n-=a=(Rt(n,s,Math.cos(n),i)-t)*(a*Math.sqrt(a))*o,Math.abs(a)<F)return n}return n},Lt={init:function(){this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.es&&(this.en=It(this.es),this.ml0=Rt(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))},forward:function(t){var e,i,o,n=t.y,r=st(t.x-this.long0),s=Math.sin(n),a=Math.cos(n);if(this.es){var h=a*r,l=Math.pow(h,2),p=this.ep2*Math.pow(a,2),u=Math.pow(p,2),d=Math.abs(a)>F?Math.tan(n):0,c=Math.pow(d,2),f=Math.pow(c,2);e=1-this.es*Math.pow(s,2),h/=Math.sqrt(e);var y=Rt(n,s,a,this.en);i=this.a*(this.k0*h*(1+l/6*(1-c+p+l/20*(5-18*c+f+14*p-58*c*p+l/42*(61+179*f-f*c-479*c)))))+this.x0,o=this.a*(this.k0*(y-this.ml0+s*r*h/2*(1+l/12*(5-c+9*p+4*u+l/30*(61+f-58*c+270*p-330*c*p+l/56*(1385+543*f-f*c-3111*c))))))+this.y0}else{var g=a*Math.sin(r);if(Math.abs(Math.abs(g)-1)<F)return 93;if(i=.5*this.a*this.k0*Math.log((1+g)/(1-g))+this.x0,o=a*Math.cos(r)/Math.sqrt(1-Math.pow(g,2)),(g=Math.abs(o))>=1){if(g-1>F)return 93;o=0}else o=Math.acos(o);0>n&&(o=-o),o=this.a*this.k0*(o-this.lat0)+this.y0}return t.x=i,t.y=o,t},inverse:function(t){var e,i,o,n,r=1/this.a*(t.x-this.x0),s=1/this.a*(t.y-this.y0);if(this.es)if(i=Nt(e=this.ml0+s/this.k0,this.es,this.en),Math.abs(i)<R){var a=Math.sin(i),h=Math.cos(i),l=Math.abs(h)>F?Math.tan(i):0,p=this.ep2*Math.pow(h,2),u=Math.pow(p,2),d=Math.pow(l,2),c=Math.pow(d,2);e=1-this.es*Math.pow(a,2);var f=r*Math.sqrt(e)/this.k0,y=Math.pow(f,2);o=i-(e*=l)*y/(1-this.es)*.5*(1-y/12*(5+3*d-9*p*d+p-4*u-y/30*(61+90*d-252*p*d+45*c+46*p-y/56*(1385+3633*d+4095*c+1574*c*d)))),n=st(this.long0+f*(1-y/6*(1+2*d+p-y/20*(5+28*d+24*c+8*p*d+6*p-y/42*(61+662*d+1320*c+720*c*d))))/h)}else o=R*rt(s),n=0;else{var g=Math.exp(r/this.k0),m=.5*(g-1/g),v=Math.cos(this.lat0+s/this.k0);e=Math.sqrt((1-Math.pow(v,2))/(1+Math.pow(m,2))),o=Math.asin(e),0>s&&(o=-o),n=0===m&&0===v?0:st(Math.atan2(m,v)+this.long0)}return t.x=n,t.y=o,t},names:["Transverse_Mercator","Transverse Mercator","tmerc"]},jt=function(t){var e=Math.exp(t);return(e-1/e)/2},Ft=function(t,e){t=Math.abs(t),e=Math.abs(e);var i=Math.max(t,e),o=Math.min(t,e)/(i||1);return i*Math.sqrt(1+Math.pow(o,2))},zt=function(t,e){for(var i,o=2*Math.cos(2*e),n=t.length-1,r=t[n],s=0;--n>=0;)i=o*r-s+t[n],s=r,r=i;return e+i*Math.sin(2*e)},Bt=function(t,e,i){for(var o,n,r=Math.sin(e),s=Math.cos(e),a=jt(i),h=function(t){var e=Math.exp(i);return(e+1/e)/2}(),l=2*s*h,p=-2*r*a,u=t.length-1,d=t[u],c=0,f=0,y=0;--u>=0;)o=f,n=c,d=l*(f=d)-o-p*(c=y)+t[u],y=p*f-n+l*c;return[(l=r*h)*d-(p=s*a)*y,l*y+p*d]},qt={init:function(){if(void 0===this.es||this.es<=0)throw new Error("incorrect elliptical usage");this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var t=this.es/(1+Math.sqrt(1-this.es)),e=t/(2-t),i=e;this.cgb[0]=e*(2+e*(-2/3+e*(e*(116/45+e*(26/45+e*(-2854/675)))-2))),this.cbg[0]=e*(e*(2/3+e*(4/3+e*(-82/45+e*(32/45+e*(4642/4725)))))-2),this.cgb[1]=(i*=e)*(7/3+e*(e*(-227/45+e*(2704/315+e*(2323/945)))-1.6)),this.cbg[1]=i*(5/3+e*(-16/15+e*(-13/9+e*(904/315+e*(-1522/945))))),this.cgb[2]=(i*=e)*(56/15+e*(-136/35+e*(-1262/105+e*(73814/2835)))),this.cbg[2]=i*(-26/15+e*(34/21+e*(1.6+e*(-12686/2835)))),this.cgb[3]=(i*=e)*(4279/630+e*(-332/35+e*(-399572/14175))),this.cbg[3]=i*(1237/630+e*(e*(-24832/14175)-2.4)),this.cgb[4]=(i*=e)*(4174/315+e*(-144838/6237)),this.cbg[4]=i*(-734/315+e*(109598/31185)),this.cgb[5]=(i*=e)*(601676/22275),this.cbg[5]=i*(444337/155925),i=Math.pow(e,2),this.Qn=this.k0/(1+e)*(1+i*(.25+i*(1/64+i/256))),this.utg[0]=e*(e*(2/3+e*(-37/96+e*(1/360+e*(81/512+e*(-96199/604800)))))-.5),this.gtu[0]=e*(.5+e*(-2/3+e*(5/16+e*(41/180+e*(-127/288+e*(7891/37800)))))),this.utg[1]=i*(-1/48+e*(-1/15+e*(437/1440+e*(-46/105+e*(1118711/3870720))))),this.gtu[1]=i*(13/48+e*(e*(557/1440+e*(281/630+e*(-1983433/1935360)))-.6)),this.utg[2]=(i*=e)*(-17/480+e*(37/840+e*(209/4480+e*(-5569/90720)))),this.gtu[2]=i*(61/240+e*(-103/140+e*(15061/26880+e*(167603/181440)))),this.utg[3]=(i*=e)*(-4397/161280+e*(11/504+e*(830251/7257600))),this.gtu[3]=i*(49561/161280+e*(-179/168+e*(6601661/7257600))),this.utg[4]=(i*=e)*(-4583/161280+e*(108847/3991680)),this.gtu[4]=i*(34729/80640+e*(-3418889/1995840)),this.utg[5]=-.03233083094085698*(i*=e),this.gtu[5]=.6650675310896665*i;var o=zt(this.cbg,this.lat0);this.Zb=-this.Qn*(o+function(t,e){for(var i,o=2*Math.cos(e),n=t.length-1,r=t[n],s=0;--n>=0;)i=o*r-s+t[n],s=r,r=i;return Math.sin(e)*i}(this.gtu,2*o))},forward:function(t){var e=st(t.x-this.long0),i=t.y;i=zt(this.cbg,i);var o=Math.sin(i),n=Math.cos(i),r=Math.sin(e),s=Math.cos(e);i=Math.atan2(o,s*n),e=Math.atan2(r*n,Ft(o,n*s)),e=function(t){var e=Math.abs(t);return e=function(t){var e=1+t,i=e-1;return 0===i?t:t*Math.log(e)/i}(e*(1+e/(Ft(1,e)+1))),0>t?-e:e}(Math.tan(e));var a,h,l=Bt(this.gtu,2*i,2*e);return i+=l[0],e+=l[1],Math.abs(e)<=2.623395162778?(a=this.a*(this.Qn*e)+this.x0,h=this.a*(this.Qn*i+this.Zb)+this.y0):(a=1/0,h=1/0),t.x=a,t.y=h,t},inverse:function(t){var e,i,o=1/this.a*(t.x-this.x0),n=1/this.a*(t.y-this.y0);if(n=(n-this.Zb)/this.Qn,o/=this.Qn,Math.abs(o)<=2.623395162778){var r=Bt(this.utg,2*n,2*o);n+=r[0],o+=r[1],o=Math.atan(jt(o));var s=Math.sin(n),a=Math.cos(n),h=Math.sin(o),l=Math.cos(o);n=Math.atan2(s*l,Ft(h,l*a)),o=Math.atan2(h,l*a),e=st(o+this.long0),i=zt(this.cgb,n)}else e=1/0,i=1/0;return t.x=e,t.y=i,t},names:["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc"]},Ht={init:function(){var t=function(t,e){if(void 0===t){if(0>(t=Math.floor(30*(st(e)+Math.PI)/Math.PI)+1))return 0;if(t>60)return 60}return t}(this.zone,this.long0);if(void 0===t)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(t)-183)*z,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,qt.init.apply(this),this.forward=qt.forward,this.inverse=qt.inverse},names:["Universal Transverse Mercator System","utm"],dependsOn:"etmerc"},Ut=function(t,e){return Math.pow((1-t)/(1+t),e)},Wt={init:function(){var t=Math.sin(this.lat0),e=Math.cos(this.lat0);e*=e,this.rc=Math.sqrt(1-this.es)/(1-this.es*t*t),this.C=Math.sqrt(1+this.es*e*e/(1-this.es)),this.phic0=Math.asin(t/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+q)/(Math.pow(Math.tan(.5*this.lat0+q),this.C)*Ut(this.e*t,this.ratexp))},forward:function(t){var e=t.x,i=t.y;return t.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*i+q),this.C)*Ut(this.e*Math.sin(i),this.ratexp))-R,t.x=this.C*e,t},inverse:function(t){for(var e=t.x/this.C,i=t.y,o=Math.pow(Math.tan(.5*i+q)/this.K,1/this.C),n=20;n>0&&(i=2*Math.atan(o*Ut(this.e*Math.sin(t.y),-.5*this.e))-R,!(Math.abs(i-t.y)<1e-14));--n)t.y=i;return n?(t.x=e,t.y=i,t):null},names:["gauss"]},Gt={init:function(){Wt.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))},forward:function(t){var e,i,o,n;return t.x=st(t.x-this.long0),Wt.forward.apply(this,[t]),e=Math.sin(t.y),i=Math.cos(t.y),o=Math.cos(t.x),t.x=(n=this.k0*this.R2/(1+this.sinc0*e+this.cosc0*i*o))*i*Math.sin(t.x),t.y=n*(this.cosc0*e-this.sinc0*i*o),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t},inverse:function(t){var e,i,o,n,r;if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,r=Math.sqrt(t.x*t.x+t.y*t.y)){var s=2*Math.atan2(r,this.R2);e=Math.sin(s),i=Math.cos(s),n=Math.asin(i*this.sinc0+t.y*e*this.cosc0/r),o=Math.atan2(t.x*e,r*this.cosc0*i-t.y*this.sinc0*e)}else n=this.phic0,o=0;return t.x=o,t.y=n,Wt.inverse.apply(this,[t]),t.x=st(t.x+this.long0),t},names:["Stereographic_North_Pole","Oblique_Stereographic","Polar_Stereographic","sterea","Oblique Stereographic Alternative"]},Yt={init:function(){this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=F&&(this.k0=.5*(1+rt(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=F&&(this.con=this.lat0>0?1:-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=F&&(this.k0=.5*this.cons*nt(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/at(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=nt(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-R,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))},forward:function(t){var e,i,o,n,r,s,a=t.x,h=t.y,l=Math.sin(h),p=Math.cos(h),u=st(a-this.long0);return Math.abs(Math.abs(a-this.long0)-Math.PI)<=F&&Math.abs(h+this.lat0)<=F?(t.x=NaN,t.y=NaN,t):this.sphere?(e=2*this.k0/(1+this.sinlat0*l+this.coslat0*p*Math.cos(u)),t.x=this.a*e*p*Math.sin(u)+this.x0,t.y=this.a*e*(this.coslat0*l-this.sinlat0*p*Math.cos(u))+this.y0,t):(i=2*Math.atan(this.ssfn_(h,l,this.e))-R,n=Math.cos(i),o=Math.sin(i),Math.abs(this.coslat0)<=F?(r=at(this.e,h*this.con,this.con*l),t.x=this.x0+(s=2*this.a*this.k0*r/this.cons)*Math.sin(a-this.long0),t.y=this.y0-this.con*s*Math.cos(a-this.long0),t):(Math.abs(this.sinlat0)<F?(e=2*this.a*this.k0/(1+n*Math.cos(u)),t.y=e*o):(e=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*o+this.cosX0*n*Math.cos(u))),t.y=e*(this.cosX0*o-this.sinX0*n*Math.cos(u))+this.y0),t.x=e*n*Math.sin(u)+this.x0,t))},inverse:function(t){t.x-=this.x0,t.y-=this.y0;var e,i,o,n,r=Math.sqrt(t.x*t.x+t.y*t.y);if(this.sphere){var s=2*Math.atan(r/(.5*this.a*this.k0));return e=this.long0,i=this.lat0,F>=r?(t.x=e,t.y=i,t):(i=Math.asin(Math.cos(s)*this.sinlat0+t.y*Math.sin(s)*this.coslat0/r),e=st(Math.abs(this.coslat0)<F?this.lat0>0?this.long0+Math.atan2(t.x,-1*t.y):this.long0+Math.atan2(t.x,t.y):this.long0+Math.atan2(t.x*Math.sin(s),r*this.coslat0*Math.cos(s)-t.y*this.sinlat0*Math.sin(s))),t.x=e,t.y=i,t)}if(Math.abs(this.coslat0)<=F){if(F>=r)return i=this.lat0,t.x=e=this.long0,t.y=i,t;t.x*=this.con,t.y*=this.con,i=this.con*ht(this.e,r*this.cons/(2*this.a*this.k0)),e=this.con*st(this.con*this.long0+Math.atan2(t.x,-1*t.y))}else o=2*Math.atan(r*this.cosX0/(2*this.a*this.k0*this.ms1)),e=this.long0,F>=r?n=this.X0:(n=Math.asin(Math.cos(o)*this.sinX0+t.y*Math.sin(o)*this.cosX0/r),e=st(this.long0+Math.atan2(t.x*Math.sin(o),r*this.cosX0*Math.cos(o)-t.y*this.sinX0*Math.sin(o)))),i=-1*ht(this.e,Math.tan(.5*(R+n)));return t.x=e,t.y=i,t},names:["stere","Stereographic_South_Pole","Polar Stereographic (variant B)"],ssfn_:function(t,e,i){return e*=i,Math.tan(.5*(R+t))*Math.pow((1-e)/(1+e),.5*i)}},Vt={init:function(){var t=this.lat0;this.lambda0=this.long0;var e=Math.sin(t),i=this.a,o=1/this.rf,n=2*o-Math.pow(o,2),r=this.e=Math.sqrt(n);this.R=this.k0*i*Math.sqrt(1-n)/(1-n*Math.pow(e,2)),this.alpha=Math.sqrt(1+n/(1-n)*Math.pow(Math.cos(t),4)),this.b0=Math.asin(e/this.alpha);var s=Math.log(Math.tan(Math.PI/4+this.b0/2)),a=Math.log(Math.tan(Math.PI/4+t/2)),h=Math.log((1+r*e)/(1-r*e));this.K=s-this.alpha*a+this.alpha*r/2*h},forward:function(t){var e=Math.log(Math.tan(Math.PI/4-t.y/2)),i=this.e/2*Math.log((1+this.e*Math.sin(t.y))/(1-this.e*Math.sin(t.y))),o=2*(Math.atan(Math.exp(-this.alpha*(e+i)+this.K))-Math.PI/4),n=this.alpha*(t.x-this.lambda0),r=Math.atan(Math.sin(n)/(Math.sin(this.b0)*Math.tan(o)+Math.cos(this.b0)*Math.cos(n))),s=Math.asin(Math.cos(this.b0)*Math.sin(o)-Math.sin(this.b0)*Math.cos(o)*Math.cos(n));return t.y=this.R/2*Math.log((1+Math.sin(s))/(1-Math.sin(s)))+this.y0,t.x=this.R*r+this.x0,t},inverse:function(t){for(var e=(t.x-this.x0)/this.R,i=2*(Math.atan(Math.exp((t.y-this.y0)/this.R))-Math.PI/4),o=Math.asin(Math.cos(this.b0)*Math.sin(i)+Math.sin(this.b0)*Math.cos(i)*Math.cos(e)),n=Math.atan(Math.sin(e)/(Math.cos(this.b0)*Math.cos(e)-Math.sin(this.b0)*Math.tan(i))),r=this.lambda0+n/this.alpha,s=0,a=o,h=-1e3,l=0;Math.abs(a-h)>1e-7;){if(++l>20)return;s=1/this.alpha*(Math.log(Math.tan(Math.PI/4+o/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(a))/2)),h=a,a=2*Math.atan(Math.exp(s))-Math.PI/2}return t.x=r,t.y=a,t},names:["somerc"]},Xt={init:function(){this.no_off=this.no_off||!1,this.no_rot=this.no_rot||!1,isNaN(this.k0)&&(this.k0=1);var t=Math.sin(this.lat0),e=Math.cos(this.lat0),i=this.e*t;this.bl=Math.sqrt(1+this.es/(1-this.es)*Math.pow(e,4)),this.al=this.a*this.bl*this.k0*Math.sqrt(1-this.es)/(1-i*i);var o,n,r=at(this.e,this.lat0,t),s=this.bl/e*Math.sqrt((1-this.es)/(1-i*i));if(1>s*s&&(s=1),isNaN(this.longc)){var a=at(this.e,this.lat1,Math.sin(this.lat1)),h=at(this.e,this.lat2,Math.sin(this.lat2));this.el=this.lat0>=0?(s+Math.sqrt(s*s-1))*Math.pow(r,this.bl):(s-Math.sqrt(s*s-1))*Math.pow(r,this.bl);var l=Math.pow(a,this.bl),p=Math.pow(h,this.bl);n=.5*((o=this.el/l)-1/o);var u=(this.el*this.el-p*l)/(this.el*this.el+p*l),d=(p-l)/(p+l),c=st(this.long1-this.long2);this.long0=.5*(this.long1+this.long2)-Math.atan(u*Math.tan(.5*this.bl*c)/d)/this.bl,this.long0=st(this.long0);var f=st(this.long1-this.long0);this.gamma0=Math.atan(Math.sin(this.bl*f)/n),this.alpha=Math.asin(s*Math.sin(this.gamma0))}else o=this.lat0>=0?s+Math.sqrt(s*s-1):s-Math.sqrt(s*s-1),this.el=o*Math.pow(r,this.bl),n=.5*(o-1/o),this.gamma0=Math.asin(Math.sin(this.alpha)/s),this.long0=this.longc-Math.asin(n*Math.tan(this.gamma0))/this.bl;this.uc=this.no_off?0:this.lat0>=0?this.al/this.bl*Math.atan2(Math.sqrt(s*s-1),Math.cos(this.alpha)):-1*this.al/this.bl*Math.atan2(Math.sqrt(s*s-1),Math.cos(this.alpha))},forward:function(t){var e,i,o,n=t.y,r=st(t.x-this.long0);if(Math.abs(Math.abs(n)-R)<=F)o=n>0?-1:1,i=this.al/this.bl*Math.log(Math.tan(q+o*this.gamma0*.5)),e=-1*o*R*this.al/this.bl;else{var s=at(this.e,n,Math.sin(n)),a=this.el/Math.pow(s,this.bl),h=.5*(a-1/a),l=.5*(a+1/a),p=Math.sin(this.bl*r),u=(h*Math.sin(this.gamma0)-p*Math.cos(this.gamma0))/l;i=Math.abs(Math.abs(u)-1)<=F?Number.POSITIVE_INFINITY:.5*this.al*Math.log((1-u)/(1+u))/this.bl,e=Math.abs(Math.cos(this.bl*r))<=F?this.al*this.bl*r:this.al*Math.atan2(h*Math.cos(this.gamma0)+p*Math.sin(this.gamma0),Math.cos(this.bl*r))/this.bl}return this.no_rot?(t.x=this.x0+e,t.y=this.y0+i):(e-=this.uc,t.x=this.x0+i*Math.cos(this.alpha)+e*Math.sin(this.alpha),t.y=this.y0+e*Math.cos(this.alpha)-i*Math.sin(this.alpha)),t},inverse:function(t){var e,i;this.no_rot?(i=t.y-this.y0,e=t.x-this.x0):(i=(t.x-this.x0)*Math.cos(this.alpha)-(t.y-this.y0)*Math.sin(this.alpha),e=(t.y-this.y0)*Math.cos(this.alpha)+(t.x-this.x0)*Math.sin(this.alpha),e+=this.uc);var o=Math.exp(-1*this.bl*i/this.al),n=.5*(o-1/o),r=.5*(o+1/o),s=Math.sin(this.bl*e/this.al),a=(s*Math.cos(this.gamma0)+n*Math.sin(this.gamma0))/r,h=Math.pow(this.el/Math.sqrt((1+a)/(1-a)),1/this.bl);return Math.abs(a-1)<F?(t.x=this.long0,t.y=R):Math.abs(a+1)<F?(t.x=this.long0,t.y=-1*R):(t.y=ht(this.e,h),t.x=st(this.long0-Math.atan2(n*Math.cos(this.gamma0)-s*Math.sin(this.gamma0),Math.cos(this.bl*e/this.al))/this.bl)),t},names:["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","omerc"]},Zt={init:function(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<F)){var t=this.b/this.a;this.e=Math.sqrt(1-t*t);var e=Math.sin(this.lat1),i=Math.cos(this.lat1),o=nt(this.e,e,i),n=at(this.e,this.lat1,e),r=Math.sin(this.lat2),s=Math.cos(this.lat2),a=nt(this.e,r,s),h=at(this.e,this.lat2,r),l=at(this.e,this.lat0,Math.sin(this.lat0));this.ns=Math.abs(this.lat1-this.lat2)>F?Math.log(o/a)/Math.log(n/h):e,isNaN(this.ns)&&(this.ns=e),this.f0=o/(this.ns*Math.pow(n,this.ns)),this.rh=this.a*this.f0*Math.pow(l,this.ns),this.title||(this.title="Lambert Conformal Conic")}},forward:function(t){var e=t.x,i=t.y;Math.abs(2*Math.abs(i)-Math.PI)<=F&&(i=rt(i)*(R-2*F));var o,n,r=Math.abs(Math.abs(i)-R);if(r>F)o=at(this.e,i,Math.sin(i)),n=this.a*this.f0*Math.pow(o,this.ns);else{if(0>=(r=i*this.ns))return null;n=0}var s=this.ns*st(e-this.long0);return t.x=this.k0*(n*Math.sin(s))+this.x0,t.y=this.k0*(this.rh-n*Math.cos(s))+this.y0,t},inverse:function(t){var e,i,o,n,r,s=(t.x-this.x0)/this.k0,a=this.rh-(t.y-this.y0)/this.k0;this.ns>0?(e=Math.sqrt(s*s+a*a),i=1):(e=-Math.sqrt(s*s+a*a),i=-1);var h=0;if(0!==e&&(h=Math.atan2(i*s,i*a)),0!==e||this.ns>0){if(i=1/this.ns,o=Math.pow(e/(this.a*this.f0),i),-9999===(n=ht(this.e,o)))return null}else n=-R;return r=st(h/this.ns+this.long0),t.x=r,t.y=n,t},names:["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_2SP","lcc"]},Kt={init:function(){this.a=6377397.155,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.4334234309119251),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq},forward:function(t){var e,i,o,n,r,s,a,h=t.y,l=st(t.x-this.long0);return e=Math.pow((1+this.e*Math.sin(h))/(1-this.e*Math.sin(h)),this.alfa*this.e/2),i=2*(Math.atan(this.k*Math.pow(Math.tan(h/2+this.s45),this.alfa)/e)-this.s45),o=-l*this.alfa,n=Math.asin(Math.cos(this.ad)*Math.sin(i)+Math.sin(this.ad)*Math.cos(i)*Math.cos(o)),r=Math.asin(Math.cos(i)*Math.sin(o)/Math.cos(n)),s=this.n*r,a=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(n/2+this.s45),this.n),t.y=a*Math.cos(s)/1,t.x=a*Math.sin(s)/1,this.czech||(t.y*=-1,t.x*=-1),t},inverse:function(t){var e,i,o,n,r,s,a,h=t.x;t.x=t.y,t.y=h,this.czech||(t.y*=-1,t.x*=-1),r=Math.sqrt(t.x*t.x+t.y*t.y),n=Math.atan2(t.y,t.x)/Math.sin(this.s0),o=2*(Math.atan(Math.pow(this.ro0/r,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),e=Math.asin(Math.cos(this.ad)*Math.sin(o)-Math.sin(this.ad)*Math.cos(o)*Math.cos(n)),i=Math.asin(Math.cos(o)*Math.sin(n)/Math.cos(e)),t.x=this.long0-i/this.alfa,s=e,a=0;var l=0;do{t.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(e/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(s))/(1-this.e*Math.sin(s)),this.e/2))-this.s45),Math.abs(s-t.y)<1e-10&&(a=1),s=t.y,l+=1}while(0===a&&15>l);return l>=15?null:t},names:["Krovak","krovak"]},Jt=function(t,e,i,o,n){return t*n-e*Math.sin(2*n)+i*Math.sin(4*n)-o*Math.sin(6*n)},$t=function(t){return 1-.25*t*(1+t/16*(3+1.25*t))},Qt=function(t){return.375*t*(1+.25*t*(1+.46875*t))},te=function(t){return.05859375*t*t*(1+.75*t)},ee=function(t){return t*t*t*(35/3072)},ie=function(t,e,i){var o=e*i;return t/Math.sqrt(1-o*o)},oe=function(t){return Math.abs(t)<R?t:t-rt(t)*Math.PI},ne=function(t,e,i,o,n){var r,s;r=t/e;for(var a=0;15>a;a++)if(r+=s=(t-(e*r-i*Math.sin(2*r)+o*Math.sin(4*r)-n*Math.sin(6*r)))/(e-2*i*Math.cos(2*r)+4*o*Math.cos(4*r)-6*n*Math.cos(6*r)),Math.abs(s)<=1e-10)return r;return NaN},re={init:function(){this.sphere||(this.e0=$t(this.es),this.e1=Qt(this.es),this.e2=te(this.es),this.e3=ee(this.es),this.ml0=this.a*Jt(this.e0,this.e1,this.e2,this.e3,this.lat0))},forward:function(t){var e,i,o=t.x,n=t.y;if(o=st(o-this.long0),this.sphere)e=this.a*Math.asin(Math.cos(n)*Math.sin(o)),i=this.a*(Math.atan2(Math.tan(n),Math.cos(o))-this.lat0);else{var r=Math.sin(n),s=Math.cos(n),a=ie(this.a,this.e,r),h=Math.tan(n)*Math.tan(n),l=o*Math.cos(n),p=l*l,u=this.es*s*s/(1-this.es);e=a*l*(1-p*h*(1/6-(8-h+8*u)*p/120)),i=this.a*Jt(this.e0,this.e1,this.e2,this.e3,n)-this.ml0+a*r/s*p*(.5+(5-h+6*u)*p/24)}return t.x=e+this.x0,t.y=i+this.y0,t},inverse:function(t){t.x-=this.x0,t.y-=this.y0;var e,i,o=t.x/this.a,n=t.y/this.a;if(this.sphere){var r=n+this.lat0;e=Math.asin(Math.sin(r)*Math.cos(o)),i=Math.atan2(Math.tan(o),Math.cos(r))}else{var s=ne(this.ml0/this.a+n,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(s)-R)<=F)return t.x=this.long0,t.y=R,0>n&&(t.y*=-1),t;var a=ie(this.a,this.e,Math.sin(s)),h=a*a*a/this.a/this.a*(1-this.es),l=Math.pow(Math.tan(s),2),p=o*this.a/a,u=p*p;e=s-a*Math.tan(s)/h*p*p*(.5-(1+3*l)*p*p/24),i=p*(1-u*(l/3+(1+3*l)*l*u/15))/Math.cos(s)}return t.x=st(i+this.long0),t.y=oe(e),t},names:["Cassini","Cassini_Soldner","cass"]},se=function(t,e){var i;return t>1e-7?(1-t*t)*(e/(1-(i=t*e)*i)-.5/t*Math.log((1-i)/(1+i))):2*e},ae={init:function(){var t,e=Math.abs(this.lat0);if(this.mode=Math.abs(e-R)<F?this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(e)<F?this.EQUIT:this.OBLIQ,this.es>0)switch(this.qp=se(this.e,1),this.mmf=.5/(1-this.es),this.apa=function(t){var e,i=[];return i[0]=.3333333333333333*t,i[0]+=.17222222222222222*(e=t*t),i[1]=.06388888888888888*e,i[0]+=.10257936507936508*(e*=t),i[1]+=.0664021164021164*e,i[2]=.016415012942191543*e,i}(this.es),this.mode){case this.N_POLE:case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),t=Math.sin(this.lat0),this.sinb1=se(this.e,t)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*t*t)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))},forward:function(t){var e,i,o,n,r,s,a,h,l,p,u=t.x,d=t.y;if(u=st(u-this.long0),this.sphere){if(r=Math.sin(d),p=Math.cos(d),o=Math.cos(u),this.mode===this.OBLIQ||this.mode===this.EQUIT){if(F>=(i=this.mode===this.EQUIT?1+p*o:1+this.sinph0*r+this.cosph0*p*o))return null;e=(i=Math.sqrt(2/i))*p*Math.sin(u),i*=this.mode===this.EQUIT?r:this.cosph0*r-this.sinph0*p*o}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(o=-o),Math.abs(d+this.phi0)<F)return null;i=q-.5*d,e=(i=2*(this.mode===this.S_POLE?Math.cos(i):Math.sin(i)))*Math.sin(u),i*=o}}else{switch(a=0,h=0,l=0,o=Math.cos(u),n=Math.sin(u),r=Math.sin(d),s=se(this.e,r),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(a=s/this.qp,h=Math.sqrt(1-a*a)),this.mode){case this.OBLIQ:l=1+this.sinb1*a+this.cosb1*h*o;break;case this.EQUIT:l=1+h*o;break;case this.N_POLE:l=R+d,s=this.qp-s;break;case this.S_POLE:l=d-R,s=this.qp+s}if(Math.abs(l)<F)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:l=Math.sqrt(2/l),i=this.mode===this.OBLIQ?this.ymf*l*(this.cosb1*a-this.sinb1*h*o):(l=Math.sqrt(2/(1+h*o)))*a*this.ymf,e=this.xmf*l*h*n;break;case this.N_POLE:case this.S_POLE:s>=0?(e=(l=Math.sqrt(s))*n,i=o*(this.mode===this.S_POLE?l:-l)):e=i=0}}return t.x=this.a*e+this.x0,t.y=this.a*i+this.y0,t},inverse:function(t){t.x-=this.x0,t.y-=this.y0;var e,i,o,n,r,s,a,h=t.x/this.a,l=t.y/this.a;if(this.sphere){var p,u=0,d=0;if((i=.5*(p=Math.sqrt(h*h+l*l)))>1)return null;switch(i=2*Math.asin(i),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(d=Math.sin(i),u=Math.cos(i)),this.mode){case this.EQUIT:i=Math.abs(p)<=F?0:Math.asin(l*d/p),h*=d,l=u*p;break;case this.OBLIQ:i=Math.abs(p)<=F?this.phi0:Math.asin(u*this.sinph0+l*d*this.cosph0/p),h*=d*this.cosph0,l=(u-Math.sin(i)*this.sinph0)*p;break;case this.N_POLE:l=-l,i=R-i;break;case this.S_POLE:i-=R}e=0!==l||this.mode!==this.EQUIT&&this.mode!==this.OBLIQ?Math.atan2(h,l):0}else{if(a=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(h/=this.dd,l*=this.dd,s=Math.sqrt(h*h+l*l),F>s)return t.x=0,t.y=this.phi0,t;n=2*Math.asin(.5*s/this.rq),o=Math.cos(n),h*=n=Math.sin(n),this.mode===this.OBLIQ?(r=this.qp*(a=o*this.sinb1+l*n*this.cosb1/s),l=s*this.cosb1*o-l*this.sinb1*n):(r=this.qp*(a=l*n/s),l=s*o)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(l=-l),!(r=h*h+l*l))return t.x=0,t.y=this.phi0,t;a=1-r/this.qp,this.mode===this.S_POLE&&(a=-a)}e=Math.atan2(h,l),i=function(t,e){var i=t+t;return t+e[0]*Math.sin(i)+e[1]*Math.sin(i+i)+e[2]*Math.sin(i+i+i)}(Math.asin(a),this.apa)}return t.x=st(this.long0+e),t.y=i,t},names:["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"],S_POLE:1,N_POLE:2,EQUIT:3,OBLIQ:4},he=function(t){return Math.abs(t)>1&&(t=t>1?1:-1),Math.asin(t)},le={init:function(){Math.abs(this.lat1+this.lat2)<F||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=nt(this.e3,this.sin_po,this.cos_po),this.qs1=se(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=nt(this.e3,this.sin_po,this.cos_po),this.qs2=se(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=se(this.e3,this.sin_po),this.ns0=Math.abs(this.lat1-this.lat2)>F?(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)},forward:function(t){var e=t.x,i=t.y;this.sin_phi=Math.sin(i),this.cos_phi=Math.cos(i);var o=se(this.e3,this.sin_phi),n=this.a*Math.sqrt(this.c-this.ns0*o)/this.ns0,r=this.ns0*st(e-this.long0),s=n*Math.sin(r)+this.x0,a=this.rh-n*Math.cos(r)+this.y0;return t.x=s,t.y=a,t},inverse:function(t){var e,i,o,n,r;return t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns0>=0?(e=Math.sqrt(t.x*t.x+t.y*t.y),i=1):(e=-Math.sqrt(t.x*t.x+t.y*t.y),i=-1),o=0,0!==e&&(o=Math.atan2(i*t.x,i*t.y)),i=e*this.ns0/this.a,r=this.sphere?Math.asin((this.c-i*i)/(2*this.ns0)):this.phi1z(this.e3,(this.c-i*i)/this.ns0),n=st(o/this.ns0+this.long0),t.x=n,t.y=r,t},names:["Albers_Conic_Equal_Area","Albers","aea"],phi1z:function(t,e){var i,o,n,r,s,a=he(.5*e);if(F>t)return a;for(var h=t*t,l=1;25>=l;l++)if(i=Math.sin(a),o=Math.cos(a),a+=s=.5*(r=1-(n=t*i)*n)*r/o*(e/(1-h)-i/r+.5/t*Math.log((1-n)/(1+n))),Math.abs(s)<=1e-7)return a;return null}},pe={init:function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1},forward:function(t){var e,i,o,n,r,s,a,h=t.y;return o=st(t.x-this.long0),e=Math.sin(h),i=Math.cos(h),n=Math.cos(o),(r=this.sin_p14*e+this.cos_p14*i*n)>0||Math.abs(r)<=F?(s=this.x0+1*this.a*i*Math.sin(o)/r,a=this.y0+1*this.a*(this.cos_p14*e-this.sin_p14*i*n)/r):(s=this.x0+this.infinity_dist*i*Math.sin(o),a=this.y0+this.infinity_dist*(this.cos_p14*e-this.sin_p14*i*n)),t.x=s,t.y=a,t},inverse:function(t){var e,i,o,n,r,s;return t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,(e=Math.sqrt(t.x*t.x+t.y*t.y))?(n=Math.atan2(e,this.rc),i=Math.sin(n),o=Math.cos(n),s=he(o*this.sin_p14+t.y*i*this.cos_p14/e),r=Math.atan2(t.x*i,e*this.cos_p14*o-t.y*this.sin_p14*i),r=st(this.long0+r)):(s=this.phic0,r=0),t.x=r,t.y=s,t},names:["gnom"]},ue={init:function(){this.sphere||(this.k0=nt(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))},forward:function(t){var e,i,o=t.y,n=st(t.x-this.long0);if(this.sphere)e=this.x0+this.a*n*Math.cos(this.lat_ts),i=this.y0+this.a*Math.sin(o)/Math.cos(this.lat_ts);else{var r=se(this.e,Math.sin(o));e=this.x0+this.a*this.k0*n,i=this.y0+this.a*r*.5/this.k0}return t.x=e,t.y=i,t},inverse:function(t){var e,i;return t.x-=this.x0,t.y-=this.y0,this.sphere?(e=st(this.long0+t.x/this.a/Math.cos(this.lat_ts)),i=Math.asin(t.y/this.a*Math.cos(this.lat_ts))):(i=function(t,e){var i=1-(1-t*t)/(2*t)*Math.log((1-t)/(1+t));if(Math.abs(Math.abs(e)-i)<1e-6)return 0>e?-1*R:R;for(var o,n,r,s,a=Math.asin(.5*e),h=0;30>h;h++)if(n=Math.sin(a),r=Math.cos(a),s=t*n,a+=o=Math.pow(1-s*s,2)/(2*r)*(e/(1-t*t)-n/(1-s*s)+.5/t*Math.log((1-s)/(1+s))),Math.abs(o)<=1e-10)return a;return NaN}(this.e,2*t.y*this.k0/this.a),e=st(this.long0+t.x/(this.a*this.k0))),t.x=e,t.y=i,t},names:["cea"]},de={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)},forward:function(t){var e=t.y,i=st(t.x-this.long0),o=oe(e-this.lat0);return t.x=this.x0+this.a*i*this.rc,t.y=this.y0+this.a*o,t},inverse:function(t){var e=t.y;return t.x=st(this.long0+(t.x-this.x0)/(this.a*this.rc)),t.y=oe(this.lat0+(e-this.y0)/this.a),t},names:["Equirectangular","Equidistant_Cylindrical","eqc"]},ce={init:function(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=$t(this.es),this.e1=Qt(this.es),this.e2=te(this.es),this.e3=ee(this.es),this.ml0=this.a*Jt(this.e0,this.e1,this.e2,this.e3,this.lat0)},forward:function(t){var e,i,o,n=t.y,r=st(t.x-this.long0);if(o=r*Math.sin(n),this.sphere)Math.abs(n)<=F?(e=this.a*r,i=-1*this.a*this.lat0):(e=this.a*Math.sin(o)/Math.tan(n),i=this.a*(oe(n-this.lat0)+(1-Math.cos(o))/Math.tan(n)));else if(Math.abs(n)<=F)e=this.a*r,i=-1*this.ml0;else{var s=ie(this.a,this.e,Math.sin(n))/Math.tan(n);e=s*Math.sin(o),i=this.a*Jt(this.e0,this.e1,this.e2,this.e3,n)-this.ml0+s*(1-Math.cos(o))}return t.x=e+this.x0,t.y=i+this.y0,t},inverse:function(t){var e,i,o,n,r,s,a,h,l;if(o=t.x-this.x0,n=t.y-this.y0,this.sphere)if(Math.abs(n+this.a*this.lat0)<=F)e=st(o/this.a+this.long0),i=0;else{var p;for(a=o*o/this.a/this.a+(s=this.lat0+n/this.a)*s,h=s,r=20;r;--r)if(h+=l=-1*(s*(h*(p=Math.tan(h))+1)-h-.5*(h*h+a)*p)/((h-s)/p-1),Math.abs(l)<=F){i=h;break}e=st(this.long0+Math.asin(o*Math.tan(h)/this.a)/Math.sin(i))}else if(Math.abs(n+this.ml0)<=F)i=0,e=st(this.long0+o/this.a);else{var u,d,c,f,y;for(a=o*o/this.a/this.a+(s=(this.ml0+n)/this.a)*s,h=s,r=20;r;--r)if(y=this.e*Math.sin(h),u=Math.sqrt(1-y*y)*Math.tan(h),d=this.a*Jt(this.e0,this.e1,this.e2,this.e3,h),c=this.e0-2*this.e1*Math.cos(2*h)+4*this.e2*Math.cos(4*h)-6*this.e3*Math.cos(6*h),h-=l=(s*(u*(f=d/this.a)+1)-f-.5*u*(f*f+a))/(this.es*Math.sin(2*h)*(f*f+a-2*s*f)/(4*u)+(s-f)*(u*c-2/Math.sin(2*h))-c),Math.abs(l)<=F){i=h;break}u=Math.sqrt(1-this.es*Math.pow(Math.sin(i),2))*Math.tan(i),e=st(this.long0+Math.asin(o*u/this.a)/Math.sin(i))}return t.x=e,t.y=i,t},names:["Polyconic","poly"]},fe={init:function(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013},forward:function(t){var e,i=(t.y-this.lat0)/I*1e-5,o=t.x-this.long0,n=1,r=0;for(e=1;10>=e;e++)r+=this.A[e]*(n*=i);var s,a=r,h=o,l=1,p=0,u=0,d=0;for(e=1;6>=e;e++)s=p*a+l*h,u=u+this.B_re[e]*(l=l*a-p*h)-this.B_im[e]*(p=s),d=d+this.B_im[e]*l+this.B_re[e]*p;return t.x=d*this.a+this.x0,t.y=u*this.a+this.y0,t},inverse:function(t){var e,i,o=(t.y-this.y0)/this.a,n=(t.x-this.x0)/this.a,r=1,s=0,a=0,h=0;for(e=1;6>=e;e++)i=s*o+r*n,a=a+this.C_re[e]*(r=r*o-s*n)-this.C_im[e]*(s=i),h=h+this.C_im[e]*r+this.C_re[e]*s;for(var l=0;l<this.iterations;l++){var p,u=a,d=h,c=o,f=n;for(e=2;6>=e;e++)p=d*a+u*h,c+=(e-1)*(this.B_re[e]*(u=u*a-d*h)-this.B_im[e]*(d=p)),f+=(e-1)*(this.B_im[e]*u+this.B_re[e]*d);u=1,d=0;var y=this.B_re[1],g=this.B_im[1];for(e=2;6>=e;e++)p=d*a+u*h,y+=e*(this.B_re[e]*(u=u*a-d*h)-this.B_im[e]*(d=p)),g+=e*(this.B_im[e]*u+this.B_re[e]*d);var m=y*y+g*g;a=(c*y+f*g)/m,h=(f*y-c*g)/m}var v=a,b=h,w=1,x=0;for(e=1;9>=e;e++)x+=this.D[e]*(w*=v);var _=this.lat0+x*I*1e5;return t.x=this.long0+b,t.y=_,t},names:["New_Zealand_Map_Grid","nzmg"]},ye={init:function(){},forward:function(t){var e=t.y,i=st(t.x-this.long0),o=this.x0+this.a*i,n=this.y0+this.a*Math.log(Math.tan(Math.PI/4+e/2.5))*1.25;return t.x=o,t.y=n,t},inverse:function(t){t.x-=this.x0,t.y-=this.y0;var e=st(this.long0+t.x/this.a),i=2.5*(Math.atan(Math.exp(.8*t.y/this.a))-Math.PI/4);return t.x=e,t.y=i,t},names:["Miller_Cylindrical","mill"]},ge={init:function(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=It(this.es)},forward:function(t){var e,i,o=t.x,n=t.y;if(o=st(o-this.long0),this.sphere){if(this.m)for(var r=this.n*Math.sin(n),s=20;s;--s){var a=(this.m*n+Math.sin(n)-r)/(this.m+Math.cos(n));if(n-=a,Math.abs(a)<F)break}else n=1!==this.n?Math.asin(this.n*Math.sin(n)):n;e=this.a*this.C_x*o*(this.m+Math.cos(n)),i=this.a*this.C_y*n}else{var h=Math.sin(n),l=Math.cos(n);i=this.a*Rt(n,h,l,this.en),e=this.a*o*l/Math.sqrt(1-this.es*h*h)}return t.x=e,t.y=i,t},inverse:function(t){var e,i,o,n;return t.x-=this.x0,o=t.x/this.a,t.y-=this.y0,e=t.y/this.a,this.sphere?(e/=this.C_y,o/=this.C_x*(this.m+Math.cos(e)),this.m?e=he((this.m*e+Math.sin(e))/this.n):1!==this.n&&(e=he(Math.sin(e)/this.n)),o=st(o+this.long0),e=oe(e)):(e=Nt(t.y/this.a,this.es,this.en),n=Math.abs(e),R>n?(n=Math.sin(e),i=this.long0+t.x*Math.sqrt(1-this.es*n*n)/(this.a*Math.cos(e)),o=st(i)):R>n-F&&(o=this.long0)),t.x=o,t.y=e,t},names:["Sinusoidal","sinu"]},me={init:function(){},forward:function(t){for(var e=t.y,i=st(t.x-this.long0),o=e,n=Math.PI*Math.sin(e);;){var r=-(o+Math.sin(o)-n)/(1+Math.cos(o));if(o+=r,Math.abs(r)<F)break}o/=2,Math.PI/2-Math.abs(e)<F&&(i=0);var s=.900316316158*this.a*i*Math.cos(o)+this.x0,a=1.4142135623731*this.a*Math.sin(o)+this.y0;return t.x=s,t.y=a,t},inverse:function(t){var e,i;t.x-=this.x0,t.y-=this.y0,i=t.y/(1.4142135623731*this.a),Math.abs(i)>.999999999999&&(i=.999999999999),e=Math.asin(i);var o=st(this.long0+t.x/(.900316316158*this.a*Math.cos(e)));o<-Math.PI&&(o=-Math.PI),o>Math.PI&&(o=Math.PI),i=(2*e+Math.sin(2*e))/Math.PI,Math.abs(i)>1&&(i=1);var n=Math.asin(i);return t.x=o,t.y=n,t},names:["Mollweide","moll"]},ve={init:function(){Math.abs(this.lat1+this.lat2)<F||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=$t(this.es),this.e1=Qt(this.es),this.e2=te(this.es),this.e3=ee(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=nt(this.e,this.sinphi,this.cosphi),this.ml1=Jt(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<F?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=nt(this.e,this.sinphi,this.cosphi),this.ml2=Jt(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=Jt(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))},forward:function(t){var e,i=t.x,o=t.y;if(this.sphere)e=this.a*(this.g-o);else{var n=Jt(this.e0,this.e1,this.e2,this.e3,o);e=this.a*(this.g-n)}var r=this.ns*st(i-this.long0),s=this.x0+e*Math.sin(r),a=this.y0+this.rh-e*Math.cos(r);return t.x=s,t.y=a,t},inverse:function(t){var e,i,o,n;t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns>=0?(i=Math.sqrt(t.x*t.x+t.y*t.y),e=1):(i=-Math.sqrt(t.x*t.x+t.y*t.y),e=-1);var r=0;return 0!==i&&(r=Math.atan2(e*t.x,e*t.y)),this.sphere?(n=st(this.long0+r/this.ns),o=oe(this.g-i/this.a),t.x=n,t.y=o,t):(o=ne(this.g-i/this.a,this.e0,this.e1,this.e2,this.e3),n=st(this.long0+r/this.ns),t.x=n,t.y=o,t)},names:["Equidistant_Conic","eqdc"]},be={init:function(){this.R=this.a},forward:function(t){var e,i,o=t.y,n=st(t.x-this.long0);Math.abs(o)<=F&&(e=this.x0+this.R*n,i=this.y0);var r=he(2*Math.abs(o/Math.PI));(Math.abs(n)<=F||Math.abs(Math.abs(o)-R)<=F)&&(e=this.x0,i=o>=0?this.y0+Math.PI*this.R*Math.tan(.5*r):this.y0+Math.PI*this.R*-Math.tan(.5*r));var s=.5*Math.abs(Math.PI/n-n/Math.PI),a=s*s,h=Math.sin(r),l=Math.cos(r),p=l/(h+l-1),u=p*(2/h-1),d=u*u,c=Math.PI*this.R*(s*(p-d)+Math.sqrt(a*(p-d)*(p-d)-(d+a)*(p*p-d)))/(d+a);0>n&&(c=-c),e=this.x0+c;var f=a+p;return c=Math.PI*this.R*(u*f-s*Math.sqrt((d+a)*(a+1)-f*f))/(d+a),i=o>=0?this.y0+c:this.y0-c,t.x=e,t.y=i,t},inverse:function(t){var e,i,o,n,r,s,a,h,l,p,u,d;return t.x-=this.x0,t.y-=this.y0,u=Math.PI*this.R,r=(o=t.x/u)*o+(n=t.y/u)*n,u=3*(n*n/(h=-2*(s=-Math.abs(n)*(1+r))+1+2*n*n+r*r)+(2*(a=s-2*n*n+o*o)*a*a/h/h/h-9*s*a/h/h)/27)/(l=(s-a*a/3/h)/h)/(p=2*Math.sqrt(-l/3)),Math.abs(u)>1&&(u=u>=0?1:-1),d=Math.acos(u)/3,i=t.y>=0?(-p*Math.cos(d+Math.PI/3)-a/3/h)*Math.PI:-(-p*Math.cos(d+Math.PI/3)-a/3/h)*Math.PI,e=Math.abs(o)<F?this.long0:st(this.long0+Math.PI*(r-1+Math.sqrt(1+2*(o*o-n*n)+r*r))/2/o),t.x=e,t.y=i,t},names:["Van_der_Grinten_I","VanDerGrinten","vandg"]},we={init:function(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)},forward:function(t){var e,i,o,n,r,s,a,h,l,p,u,d,c,f,y,g,m,v,b,w,x,_,M=t.x,k=t.y,S=Math.sin(t.y),C=Math.cos(t.y),E=st(M-this.long0);return this.sphere?Math.abs(this.sin_p12-1)<=F?(t.x=this.x0+this.a*(R-k)*Math.sin(E),t.y=this.y0-this.a*(R-k)*Math.cos(E),t):Math.abs(this.sin_p12+1)<=F?(t.x=this.x0+this.a*(R+k)*Math.sin(E),t.y=this.y0+this.a*(R+k)*Math.cos(E),t):(v=this.sin_p12*S+this.cos_p12*C*Math.cos(E),m=(g=Math.acos(v))/Math.sin(g),t.x=this.x0+this.a*m*C*Math.sin(E),t.y=this.y0+this.a*m*(this.cos_p12*S-this.sin_p12*C*Math.cos(E)),t):(e=$t(this.es),i=Qt(this.es),o=te(this.es),n=ee(this.es),Math.abs(this.sin_p12-1)<=F?(r=this.a*Jt(e,i,o,n,R),s=this.a*Jt(e,i,o,n,k),t.x=this.x0+(r-s)*Math.sin(E),t.y=this.y0-(r-s)*Math.cos(E),t):Math.abs(this.sin_p12+1)<=F?(r=this.a*Jt(e,i,o,n,R),s=this.a*Jt(e,i,o,n,k),t.x=this.x0+(r+s)*Math.sin(E),t.y=this.y0+(r+s)*Math.cos(E),t):(a=S/C,h=ie(this.a,this.e,this.sin_p12),l=ie(this.a,this.e,S),p=Math.atan((1-this.es)*a+this.es*h*this.sin_p12/(l*C)),b=0===(u=Math.atan2(Math.sin(E),this.cos_p12*Math.tan(p)-this.sin_p12*Math.cos(E)))?Math.asin(this.cos_p12*Math.sin(p)-this.sin_p12*Math.cos(p)):Math.abs(Math.abs(u)-Math.PI)<=F?-Math.asin(this.cos_p12*Math.sin(p)-this.sin_p12*Math.cos(p)):Math.asin(Math.sin(E)*Math.cos(p)/Math.sin(u)),d=this.e*this.sin_p12/Math.sqrt(1-this.es),c=this.e*this.cos_p12*Math.cos(u)/Math.sqrt(1-this.es),t.x=this.x0+(g=h*b*(1-(w=b*b)*(y=c*c)*(1-y)/6+(x=w*b)/8*(f=d*c)*(1-2*y)+(_=x*b)/120*(y*(4-7*y)-3*d*d*(1-7*y))-_*b/48*f))*Math.sin(u),t.y=this.y0+g*Math.cos(u),t))},inverse:function(t){var e,i,o,n,r,s,a,h,l,p,u,d,c,f,y,g,m,v,b,w,x,_;if(t.x-=this.x0,t.y-=this.y0,this.sphere){if((e=Math.sqrt(t.x*t.x+t.y*t.y))>2*R*this.a)return;return i=e/this.a,o=Math.sin(i),n=Math.cos(i),r=this.long0,Math.abs(e)<=F?s=this.lat0:(s=he(n*this.sin_p12+t.y*o*this.cos_p12/e),a=Math.abs(this.lat0)-R,r=st(Math.abs(a)<=F?this.lat0>=0?this.long0+Math.atan2(t.x,-t.y):this.long0-Math.atan2(-t.x,t.y):this.long0+Math.atan2(t.x*o,e*this.cos_p12*n-t.y*this.sin_p12*o))),t.x=r,t.y=s,t}return h=$t(this.es),l=Qt(this.es),p=te(this.es),u=ee(this.es),Math.abs(this.sin_p12-1)<=F?(d=this.a*Jt(h,l,p,u,R),e=Math.sqrt(t.x*t.x+t.y*t.y),s=ne((d-e)/this.a,h,l,p,u),r=st(this.long0+Math.atan2(t.x,-1*t.y)),t.x=r,t.y=s,t):Math.abs(this.sin_p12+1)<=F?(d=this.a*Jt(h,l,p,u,R),e=Math.sqrt(t.x*t.x+t.y*t.y),s=ne((e-d)/this.a,h,l,p,u),r=st(this.long0+Math.atan2(t.x,t.y)),t.x=r,t.y=s,t):(e=Math.sqrt(t.x*t.x+t.y*t.y),y=Math.atan2(t.x,t.y),c=ie(this.a,this.e,this.sin_p12),g=Math.cos(y),b=3*this.es*(1-(v=-(m=this.e*this.cos_p12*g)*m/(1-this.es)))*this.sin_p12*this.cos_p12*g/(1-this.es),_=1-v*(x=(w=e/c)-v*(1+v)*Math.pow(w,3)/6-b*(1+3*v)*Math.pow(w,4)/24)*x/2-w*x*x*x/6,f=Math.asin(this.sin_p12*Math.cos(x)+this.cos_p12*Math.sin(x)*g),r=st(this.long0+Math.asin(Math.sin(y)*Math.sin(x)/Math.cos(f))),s=Math.atan((1-this.es*_*this.sin_p12/Math.sin(f))*Math.tan(f)/(1-this.es)),t.x=r,t.y=s,t)},names:["Azimuthal_Equidistant","aeqd"]},xe={init:function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)},forward:function(t){var e,i,o,n,r,s,a,h=t.y;return o=st(t.x-this.long0),e=Math.sin(h),i=Math.cos(h),n=Math.cos(o),((r=this.sin_p14*e+this.cos_p14*i*n)>0||Math.abs(r)<=F)&&(s=1*this.a*i*Math.sin(o),a=this.y0+1*this.a*(this.cos_p14*e-this.sin_p14*i*n)),t.x=s,t.y=a,t},inverse:function(t){var e,i,o,n,r,s,a;return t.x-=this.x0,t.y-=this.y0,e=Math.sqrt(t.x*t.x+t.y*t.y),i=he(e/this.a),o=Math.sin(i),n=Math.cos(i),s=this.long0,Math.abs(e)<=F?(a=this.lat0,t.x=s,t.y=a,t):(a=he(n*this.sin_p14+t.y*o*this.cos_p14/e),r=Math.abs(this.lat0)-R,Math.abs(r)<=F?(s=st(this.lat0>=0?this.long0+Math.atan2(t.x,-t.y):this.long0-Math.atan2(-t.x,t.y)),t.x=s,t.y=a,t):(s=st(this.long0+Math.atan2(t.x*o,e*this.cos_p14*n-t.y*this.sin_p14*o)),t.x=s,t.y=a,t))},names:["ortho"]},_e={AREA_0:1,AREA_1:2,AREA_2:3,AREA_3:4},Me={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.face=this.lat0>=R-q/2?5:this.lat0<=-(R-q/2)?6:Math.abs(this.long0)<=q?1:Math.abs(this.long0)<=R+q?this.long0>0?2:4:3,0!==this.es&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)},forward:function(t){var e,i,o,n,r,s,a={x:0,y:0},h={value:0};if(t.x-=this.long0,e=0!==this.es?Math.atan(this.one_minus_f_squared*Math.tan(t.y)):t.y,i=t.x,5===this.face)n=R-e,i>=q&&R+q>=i?(h.value=_e.AREA_0,o=i-R):i>R+q||-(R+q)>=i?(h.value=_e.AREA_1,o=i>0?i-U:i+U):i>-(R+q)&&-q>=i?(h.value=_e.AREA_2,o=i+R):(h.value=_e.AREA_3,o=i);else if(6===this.face)n=R+e,i>=q&&R+q>=i?(h.value=_e.AREA_0,o=-i+R):q>i&&i>=-q?(h.value=_e.AREA_1,o=-i):-q>i&&i>=-(R+q)?(h.value=_e.AREA_2,o=-i-R):(h.value=_e.AREA_3,o=i>0?-i+U:-i-U);else{var l,p,u,d,c,f;2===this.face?i=T(i,+R):3===this.face?i=T(i,+U):4===this.face&&(i=T(i,-R)),d=Math.sin(e),c=Math.cos(e),f=Math.sin(i),l=c*Math.cos(i),p=c*f,u=d,1===this.face?o=E(n=Math.acos(l),u,p,h):2===this.face?o=E(n=Math.acos(p),u,-l,h):3===this.face?o=E(n=Math.acos(-l),u,-p,h):4===this.face?o=E(n=Math.acos(-p),u,l,h):(n=o=0,h.value=_e.AREA_0)}return s=Math.atan(12/U*(o+Math.acos(Math.sin(o)*Math.cos(q))-R)),r=Math.sqrt((1-Math.cos(n))/(Math.cos(s)*Math.cos(s))/(1-Math.cos(Math.atan(1/Math.cos(o))))),h.value===_e.AREA_1?s+=R:h.value===_e.AREA_2?s+=U:h.value===_e.AREA_3&&(s+=1.5*U),a.x=r*Math.cos(s),a.y=r*Math.sin(s),a.x=a.x*this.a+this.x0,a.y=a.y*this.a+this.y0,t.x=a.x,t.y=a.y,t},inverse:function(t){var e,i,o,n,r,s,a,h,l,p,u,d,c={lam:0,phi:0},f={value:0};if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,i=Math.atan(Math.sqrt(t.x*t.x+t.y*t.y)),e=Math.atan2(t.y,t.x),t.x>=0&&t.x>=Math.abs(t.y)?f.value=_e.AREA_0:t.y>=0&&t.y>=Math.abs(t.x)?(f.value=_e.AREA_1,e-=R):t.x<0&&-t.x>=Math.abs(t.y)?(f.value=_e.AREA_2,e=0>e?e+U:e-U):(f.value=_e.AREA_3,e+=R),l=U/12*Math.tan(e),r=Math.sin(l)/(Math.cos(l)-1/Math.sqrt(2)),s=Math.atan(r),-1>(a=1-(o=Math.cos(e))*o*(n=Math.tan(i))*n*(1-Math.cos(Math.atan(1/Math.cos(s)))))?a=-1:a>1&&(a=1),5===this.face)h=Math.acos(a),c.phi=R-h,c.lam=f.value===_e.AREA_0?s+R:f.value===_e.AREA_1?0>s?s+U:s-U:f.value===_e.AREA_2?s-R:s;else if(6===this.face)h=Math.acos(a),c.phi=h-R,c.lam=f.value===_e.AREA_0?-s+R:f.value===_e.AREA_1?-s:f.value===_e.AREA_2?-s-R:0>s?-s-U:-s+U;else{var y,g,m;l=(y=a)*y,g=(l+=(m=l>=1?0:Math.sqrt(1-l)*Math.sin(s))*m)>=1?0:Math.sqrt(1-l),f.value===_e.AREA_1?(l=g,g=-m,m=l):f.value===_e.AREA_2?(g=-g,m=-m):f.value===_e.AREA_3&&(l=g,g=m,m=-l),2===this.face?(l=y,y=-g,g=l):3===this.face?(y=-y,g=-g):4===this.face&&(l=y,y=g,g=-l),c.phi=Math.acos(-m)-R,c.lam=Math.atan2(g,y),2===this.face?c.lam=T(c.lam,-R):3===this.face?c.lam=T(c.lam,-U):4===this.face&&(c.lam=T(c.lam,+R))}return 0!==this.es&&(p=c.phi<0?1:0,u=Math.tan(c.phi),d=this.b/Math.sqrt(u*u+this.one_minus_f_squared),c.phi=Math.atan(Math.sqrt(this.a*this.a-d*d)/(this.one_minus_f*d)),p&&(c.phi=-c.phi)),c.lam+=this.long0,t.x=c.lam,t.y=c.phi,t},names:["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"]};return m.defaultDatum="WGS84",m.Proj=u,m.WGS84=new m.Proj("WGS84"),m.Point=C,m.toPoint=vt,m.defs=a,m.transform=f,m.mgrs=Pt,m.version="2.4.4",(At=m).Proj.projections.add(Lt),At.Proj.projections.add(qt),At.Proj.projections.add(Ht),At.Proj.projections.add(Gt),At.Proj.projections.add(Yt),At.Proj.projections.add(Vt),At.Proj.projections.add(Xt),At.Proj.projections.add(Zt),At.Proj.projections.add(Kt),At.Proj.projections.add(re),At.Proj.projections.add(ae),At.Proj.projections.add(le),At.Proj.projections.add(pe),At.Proj.projections.add(ue),At.Proj.projections.add(de),At.Proj.projections.add(ce),At.Proj.projections.add(fe),At.Proj.projections.add(ye),At.Proj.projections.add(ge),At.Proj.projections.add(me),At.Proj.projections.add(ve),At.Proj.projections.add(be),At.Proj.projections.add(we),At.Proj.projections.add(xe),At.Proj.projections.add(Me),m}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.jspdf=e()}(this,function(){"use strict";var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e=(function(){function t(t){function e(o,n){try{var r=t[o](n),s=r.value;s instanceof function(t){this.value=t}?Promise.resolve(s.value).then(function(t){e("next",t)},function(t){e("throw",t)}):i(r.done?"return":"normal",r.value)}catch(t){i("throw",t)}}function i(t,i){switch(t){case"return":o.resolve({value:i,done:!0});break;case"throw":o.reject(i);break;default:o.resolve({value:i,done:!1})}(o=o.next)?e(o.key,o.arg):n=null}var o,n;this._invoke=function(t,i){return new Promise(function(r,s){var a={key:t,arg:i,resolve:r,reject:s,next:null};n?n=n.next=a:(o=n=a,e(t,i))})},"function"!=typeof t.return&&(this.return=void 0)}"function"==typeof Symbol&&Symbol.asyncIterator&&(t.prototype[Symbol.asyncIterator]=function(){return this}),t.prototype.next=function(t){return this._invoke("next",t)},t.prototype.throw=function(t){return this._invoke("throw",t)},t.prototype.return=function(t){return this._invoke("return",t)}}(),function(e){function i(a,h,l,p){var u={};"object"===(void 0===a?"undefined":t(a))&&(a=(u=a).orientation,h=u.unit||h,l=u.format||l,p=u.compress||u.compressPdf||p),h=h||"mm",l=l||"a4",a=(""+(a||"P")).toLowerCase(),(""+l).toLowerCase();var d,c,f,y,g,m,v,b,w,x=!!p&&"function"==typeof Uint8Array,_=u.textColor||"0 g",M=u.drawColor||"0 G",k=u.fontSize||16,S=u.lineHeight||1.15,C=u.lineWidth||.200025,E=2,T=!1,P=[],A={},O={},D=0,I=[],R=[],N=[],L=[],j=[],F=0,z=0,B=0,q={title:"",subject:"",author:"",keywords:"",creator:""},H={},U=new function(t){var i={};this.subscribe=function(t,e,o){if("function"!=typeof e)return!1;i.hasOwnProperty(t)||(i[t]={});var n=Math.random().toString(35);return i[t][n]=[e,!!o],n},this.unsubscribe=function(t){for(var e in i)if(i[e][t])return delete i[e][t],!0;return!1},this.publish=function(o){if(i.hasOwnProperty(o)){var n=Array.prototype.slice.call(arguments,1),r=[];for(var s in i[o]){var a=i[o][s];try{a[0].apply(t,n)}catch(t){e.console&&console.error("jsPDF PubSub Error",t.message,t)}a[1]&&r.push(s)}r.length&&r.forEach(this.unsubscribe)}}}(H),W=u.hotfixes||[],G=function(t){return t.toFixed(2)},Y=function(t){return t.toFixed(3)},V=function(t){return("0"+parseInt(t)).slice(-2)},X=function(t){T?I[y].push(t):(B+=t.length+1,L.push(t))},Z=function(){return P[++E]=B,X(E+" 0 obj"),E},K=function(t){X("stream"),X(t),X("endstream")},J=function(){var t,o,n,s,a,h,l,p,u,d=[];for(l=e.adler32cs||i.adler32cs,x&&void 0===l&&(x=!1),t=1;t<=D;t++){if(d.push(Z()),p=(g=N[t].width)*c,u=(m=N[t].height)*c,X("<</Type /Page"),X("/Parent 1 0 R"),X("/Resources 2 0 R"),X("/MediaBox [0 0 "+G(p)+" "+G(u)+"]"),U.publish("putPage",{pageNumber:t,page:I[t]}),X("/Contents "+(E+1)+" 0 R"),X(">>"),X("endobj"),o=I[t].join("\n"),Z(),x){for(n=[],s=o.length;s--;)n[s]=o.charCodeAt(s);h=l.from(o),(a=new r(6)).append(new Uint8Array(n)),o=a.flush(),(n=new Uint8Array(o.length+6)).set(new Uint8Array([120,156])),n.set(o,2),n.set(new Uint8Array([255&h,h>>8&255,h>>16&255,h>>24&255]),o.length+2),o=String.fromCharCode.apply(null,n),X("<</Length "+o.length+" /Filter [/FlateDecode]>>")}else X("<</Length "+o.length+">>");K(o),X("endobj")}P[1]=B,X("1 0 obj"),X("<</Type /Pages");var f="/Kids [";for(s=0;s<D;s++)f+=d[s]+" 0 R ";X(f+"]"),X("/Count "+D),X(">>"),X("endobj"),U.publish("postPutPages")},$=function(t){t.objectNumber=Z(),X("<</BaseFont/"+t.PostScriptName+"/Type/Font"),"string"==typeof t.encoding&&X("/Encoding/"+t.encoding),X("/Subtype/Type1>>"),X("endobj")},Q=function(t,e,i){O.hasOwnProperty(e)||(O[e]={}),O[e][i]=t},tt=function(t,e,i,o){var n="F"+(Object.keys(A).length+1).toString(10),r=A[n]={id:n,PostScriptName:t,fontName:e,fontStyle:i,encoding:o,metadata:{}};return Q(n,e,i),U.publish("addFont",r),n},et=function(t,e){return function(t,e){var i,o,n,r,s,a,h,l,p;if(n=(e=e||{}).sourceEncoding||"Unicode",s=e.outputEncoding,(e.autoencode||s)&&A[d].metadata&&A[d].metadata[n]&&A[d].metadata[n].encoding&&(r=A[d].metadata[n].encoding,!s&&A[d].encoding&&(s=A[d].encoding),!s&&r.codePages&&(s=r.codePages[0]),"string"==typeof s&&(s=r[s]),s)){for(h=!1,a=[],i=0,o=t.length;i<o;i++)(l=s[t.charCodeAt(i)])?a.push(String.fromCharCode(l)):a.push(t[i]),a[i].charCodeAt(0)>>8&&(h=!0);t=a.join("")}for(i=t.length;void 0===h&&0!==i;)t.charCodeAt(i-1)>>8&&(h=!0),i--;if(!h)return t;for(a=e.noBOM?[]:[254,255],i=0,o=t.length;i<o;i++){if((p=(l=t.charCodeAt(i))>>8)>>8)throw new Error("Character at position "+i+" of string '"+t+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");a.push(p),a.push(l-(p<<8))}return String.fromCharCode.apply(void 0,a)}(t,e).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},it=function(){(function(t,e){var i="string"==typeof e&&e.toLowerCase();if("string"==typeof t){var o=t.toLowerCase();s.hasOwnProperty(o)&&(t=s[o][0]/c,e=s[o][1]/c)}if(Array.isArray(t)&&(e=t[1],t=t[0]),i){switch(i.substr(0,1)){case"l":e>t&&(i="s");break;case"p":t>e&&(i="s")}"s"===i&&(f=t,t=e,e=f)}T=!0,I[++D]=[],N[D]={width:Number(t)||g,height:Number(e)||m},R[D]={},ot(D)}).apply(this,arguments),X(G(C*c)+" w"),X(M),0!==F&&X(F+" J"),0!==z&&X(z+" j"),U.publish("addPage",{pageNumber:D})},ot=function(t){t>0&&t<=D&&(y=t,g=N[t].width,m=N[t].height)},nt=function(t,e){var i;switch(t=void 0!==t?t:A[d].fontName,e=void 0!==e?e:A[d].fontStyle,void 0!==t&&(t=t.toLowerCase()),t){case"sans-serif":case"verdana":case"arial":case"helvetica":t="helvetica";break;case"fixed":case"monospace":case"terminal":case"courier":t="courier";break;case"serif":case"cursive":case"fantasy":default:t="times"}try{i=O[t][e]}catch(t){}return i||null==(i=O.times[e])&&(i=O.times.normal),i},rt=function(){T=!1,E=2,B=0,L=[],P=[],j=[],U.publish("buildDocument"),X("%PDF-"+n),J(),function(){U.publish("putAdditionalObjects");for(var t=0;t<j.length;t++){var e=j[t];P[e.objId]=B,X(e.objId+" 0 obj"),X(e.content),X("endobj")}E+=j.length,U.publish("postPutAdditionalObjects")}(),function(){for(var t in A)A.hasOwnProperty(t)&&$(A[t])}(),U.publish("putResources"),P[2]=B,X("2 0 obj"),X("<<"),function(){for(var t in X("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),X("/Font <<"),A)A.hasOwnProperty(t)&&X("/"+t+" "+A[t].objectNumber+" 0 R");X(">>"),X("/XObject <<"),U.publish("putXobjectDict"),X(">>")}(),X(">>"),X("endobj"),U.publish("postPutResources"),Z(),X("<<"),function(){for(var t in X("/Producer (jsPDF "+i.version+")"),q)q.hasOwnProperty(t)&&q[t]&&X("/"+t.substr(0,1).toUpperCase()+t.substr(1)+" ("+et(q[t])+")");var e=new Date,o=e.getTimezoneOffset(),n=o<0?"+":"-",r=Math.floor(Math.abs(o/60)),s=Math.abs(o%60),a=[n,V(r),"'",V(s),"'"].join("");X(["/CreationDate (D:",e.getFullYear(),V(e.getMonth()+1),V(e.getDate()),V(e.getHours()),V(e.getMinutes()),V(e.getSeconds()),a,")"].join(""))}(),X(">>"),X("endobj"),Z(),X("<<"),function(){switch(X("/Type /Catalog"),X("/Pages 1 0 R"),b||(b="fullwidth"),b){case"fullwidth":X("/OpenAction [3 0 R /FitH null]");break;case"fullheight":X("/OpenAction [3 0 R /FitV null]");break;case"fullpage":X("/OpenAction [3 0 R /Fit]");break;case"original":X("/OpenAction [3 0 R /XYZ null null 1]");break;default:var t=""+b;"%"===t.substr(t.length-1)&&(b=parseInt(b)/100),"number"==typeof b&&X("/OpenAction [3 0 R /XYZ null null "+G(b)+"]")}switch(w||(w="continuous"),w){case"continuous":X("/PageLayout /OneColumn");break;case"single":X("/PageLayout /SinglePage");break;case"two":case"twoleft":X("/PageLayout /TwoColumnLeft");break;case"tworight":X("/PageLayout /TwoColumnRight")}v&&X("/PageMode /"+v),U.publish("putCatalog")}(),X(">>"),X("endobj");var t,e=B,o="0000000000";for(X("xref"),X("0 "+(E+1)),X(o+" 65535 f "),t=1;t<=E;t++)X("function"==typeof P[t]?(o+P[t]()).slice(-10)+" 00000 n ":(o+P[t]).slice(-10)+" 00000 n ");return X("trailer"),X("<<"),X("/Size "+(E+1)),X("/Root "+E+" 0 R"),X("/Info "+(E-1)+" 0 R"),X(">>"),X("startxref"),X(""+e),X("%%EOF"),T=!0,L.join("\n")},st=function(t){var e="S";return"F"===t?e="f":"FD"===t||"DF"===t?e="B":"f"!==t&&"f*"!==t&&"B"!==t&&"B*"!==t||(e=t),e},at=function(){for(var t=rt(),e=t.length,i=new ArrayBuffer(e),o=new Uint8Array(i);e--;)o[e]=t.charCodeAt(e);return i},ht=function(){return new Blob([at()],{type:"application/pdf"})},lt=function(t){return(t.foo=function(){try{return t.apply(this,arguments)}catch(t){var i=t.stack||"";~i.indexOf(" at ")&&(i=i.split(" at ")[1]);var o="Error in function "+i.split("\n")[0].split("<")[0]+": "+t.message;if(!e.console)throw new Error(o);e.console.error(o,t),e.alert&&alert(o)}}).bar=t,t.foo}(function(t,i){var n="dataur"===(""+t).substr(0,6)?"data:application/pdf;base64,"+btoa(rt()):0;switch(t){case void 0:return rt();case"save":if(navigator.getUserMedia&&(void 0===e.URL||void 0===e.URL.createObjectURL))return H.output("dataurlnewwindow");o(ht(),i),"function"==typeof o.unload&&e.setTimeout&&setTimeout(o.unload,911);break;case"arraybuffer":return at();case"blob":return ht();case"bloburi":case"bloburl":return e.URL&&e.URL.createObjectURL(ht())||void 0;case"datauristring":case"dataurlstring":return n;case"dataurlnewwindow":var r=e.open(n);if(r||"undefined"==typeof safari)return r;case"datauri":case"dataurl":return e.document.location.href=n;default:throw new Error('Output type "'+t+'" is not supported.')}}),pt=function(t){return!0===Array.isArray(W)&&W.indexOf(t)>-1};switch(h){case"pt":c=1;break;case"mm":c=72/25.4000508;break;case"cm":c=72/2.54000508;break;case"in":c=72;break;case"px":c=1==pt("px_scaling")?.75:96/72;break;case"pc":case"em":c=12;break;case"ex":c=6;break;default:throw"Invalid unit: "+h}for(var ut in H.internal={pdfEscape:et,getStyle:st,getFont:function(){return A[nt.apply(H,arguments)]},getFontSize:function(){return k},getLineHeight:function(){return k*S},write:function(t){X(1===arguments.length?t:Array.prototype.join.call(arguments," "))},getCoordinateString:function(t){return G(t*c)},getVerticalCoordinateString:function(t){return G((m-t)*c)},collections:{},newObject:Z,newAdditionalObject:function(){var t=2*I.length+1,e={objId:t+=j.length,content:""};return j.push(e),e},newObjectDeferred:function(){return P[++E]=function(){return B},E},newObjectDeferredBegin:function(t){P[t]=B},putStream:K,events:U,scaleFactor:c,pageSize:{get width(){return g},get height(){return m}},output:function(t,e){return lt(t,e)},getNumberOfPages:function(){return I.length-1},pages:I,out:X,f2:G,getPageInfo:function(t){return{objId:2*(t-1)+3,pageNumber:t,pageContext:R[t]}},getCurrentPageInfo:function(){return{objId:2*(y-1)+3,pageNumber:y,pageContext:R[y]}},getPDFVersion:function(){return n},hasHotfix:pt},H.addPage=function(){return it.apply(this,arguments),this},H.setPage=function(){return ot.apply(this,arguments),this},H.insertPage=function(t){return this.addPage(),this.movePage(y,t),this},H.movePage=function(t,e){if(t>e){for(var i=I[t],o=N[t],n=R[t],r=t;r>e;r--)I[r]=I[r-1],N[r]=N[r-1],R[r]=R[r-1];I[e]=i,N[e]=o,R[e]=n,this.setPage(e)}else if(t<e){for(i=I[t],o=N[t],n=R[t],r=t;r<e;r++)I[r]=I[r+1],N[r]=N[r+1],R[r]=R[r+1];I[e]=i,N[e]=o,R[e]=n,this.setPage(e)}return this},H.deletePage=function(){return(function(t){t>0&&t<=D&&(I.splice(t,1),N.splice(t,1),y>--D&&(y=D),this.setPage(y))}).apply(this,arguments),this},H.setDisplayMode=function(t,e,i){if(b=t,w=e,v=i,-1==[void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(i))throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+i+'" is not recognized.');return this},H.text=function(t,e,i,o,n,r){function s(t){return t=t.split("\t").join(Array(u.TabLen||9).join(" ")),et(t,o)}"number"==typeof t&&(f=i,i=e,e=t,t=f),"string"==typeof t&&(t=t.match(/[\n\r]/)?t.split(/\r\n|\r|\n/g):[t]),"string"==typeof n&&(r=n,n=null),"string"==typeof o&&(r=o,o=null),"number"==typeof o&&(n=o,o=null);var a="",h="Td";if(n){n*=Math.PI/180;var l=Math.cos(n),p=Math.sin(n);a=[G(l),G(p),G(-1*p),G(l),""].join(" "),h="Tm"}"noBOM"in(o=o||{})||(o.noBOM=!0),"autoencode"in o||(o.autoencode=!0);var y,g="",v=this.internal.getCurrentPageInfo().pageContext;if(!0===o.stroke?!0!==v.lastTextWasStroke&&(g="1 Tr\n",v.lastTextWasStroke=!0):(v.lastTextWasStroke&&(g="0 Tr\n"),v.lastTextWasStroke=!1),void 0===this._runningPageHeight&&(this._runningPageHeight=0),"string"==typeof t)t=s(t);else{if("[object Array]"!==Object.prototype.toString.call(t))throw new Error('Type of text must be string or Array. "'+t+'" is not recognized.');for(var b=t.concat(),w=[],x=b.length;x--;)w.push(s(b.shift()));if(r){var M,C,E,T=k*S,P=t.map(function(t){return this.getStringUnitWidth(t)*k/c},this);if(E=Math.max.apply(Math,P),"center"===r)M=e-E/2,e-=P[0]/2;else{if("right"!==r)throw new Error('Unrecognized alignment option, use "center" or "right".');M=e-E,e-=P[0]}C=e,t=w[0];var A=1;for(x=w.length;A<x;A++){var O=E-P[A];"center"===r&&(O/=2),t+=") Tj\n"+(M-C+O)+" -"+T+" Td ("+w[A],C=M+O}}else t=w.join(") Tj\nT* (")}return y=G((m-i)*c),X("BT\n/"+d+" "+k+" Tf\n"+k*S+" TL\n"+g+_+"\n"+a+G(e*c)+" "+y+" "+h+"\n("+t+") Tj\nET"),this},H.lstext=function(t,e,i,o){console.warn("jsPDF.lstext is deprecated");for(var n=0,r=t.length;n<r;n++,e+=o)this.text(t[n],e,i);return this},H.line=function(t,e,i,o){return this.lines([[i-t,o-e]],t,e)},H.clip=function(){X("W"),X("S")},H.clip_fixed=function(t){X("evenodd"===t?"W*":"W"),X("n")},H.lines=function(t,e,i,o,n,r){var s,a,h,l,p,u,d,y,g,v,b;for("number"==typeof t&&(f=i,i=e,e=t,t=f),o=o||[1,1],X(Y(e*c)+" "+Y((m-i)*c)+" m "),s=o[0],a=o[1],l=t.length,v=e,b=i,h=0;h<l;h++)2===(p=t[h]).length?(b=p[1]*a+b,X(Y((v=p[0]*s+v)*c)+" "+Y((m-b)*c)+" l")):(u=p[0]*s+v,d=p[1]*a+b,y=p[2]*s+v,g=p[3]*a+b,v=p[4]*s+v,b=p[5]*a+b,X(Y(u*c)+" "+Y((m-d)*c)+" "+Y(y*c)+" "+Y((m-g)*c)+" "+Y(v*c)+" "+Y((m-b)*c)+" c"));return r&&X(" h"),null!==n&&X(st(n)),this},H.rect=function(t,e,i,o,n){return st(n),X([G(t*c),G((m-e)*c),G(i*c),G(-o*c),"re"].join(" ")),null!==n&&X(st(n)),this},H.triangle=function(t,e,i,o,n,r,s){return this.lines([[i-t,o-e],[n-i,r-o],[t-n,e-r]],t,e,[1,1],s,!0),this},H.roundedRect=function(t,e,i,o,n,r,s){var a=4/3*(Math.SQRT2-1);return this.lines([[i-2*n,0],[n*a,0,n,r-r*a,n,r],[0,o-2*r],[0,r*a,-n*a,r,-n,r],[2*n-i,0],[-n*a,0,-n,-r*a,-n,-r],[0,2*r-o],[0,-r*a,n*a,-r,n,-r]],t+n,e,[1,1],s),this},H.ellipse=function(t,e,i,o,n){var r=4/3*(Math.SQRT2-1)*i,s=4/3*(Math.SQRT2-1)*o;return X([G((t+i)*c),G((m-e)*c),"m",G((t+i)*c),G((m-(e-s))*c),G((t+r)*c),G((m-(e-o))*c),G(t*c),G((m-(e-o))*c),"c"].join(" ")),X([G((t-r)*c),G((m-(e-o))*c),G((t-i)*c),G((m-(e-s))*c),G((t-i)*c),G((m-e)*c),"c"].join(" ")),X([G((t-i)*c),G((m-(e+s))*c),G((t-r)*c),G((m-(e+o))*c),G(t*c),G((m-(e+o))*c),"c"].join(" ")),X([G((t+r)*c),G((m-(e+o))*c),G((t+i)*c),G((m-(e+s))*c),G((t+i)*c),G((m-e)*c),"c"].join(" ")),null!==n&&X(st(n)),this},H.circle=function(t,e,i,o){return this.ellipse(t,e,i,i,o)},H.setProperties=function(t){for(var e in q)q.hasOwnProperty(e)&&t[e]&&(q[e]=t[e]);return this},H.setFontSize=function(t){return k=t,this},H.setFont=function(t,e){return d=nt(t,e),this},H.setFontStyle=H.setFontType=function(t){return d=nt(void 0,t),this},H.getFontList=function(){var t,e,i,o={};for(t in O)if(O.hasOwnProperty(t))for(e in o[t]=i=[],O[t])O[t].hasOwnProperty(e)&&i.push(e);return o},H.addFont=function(t,e,i){tt(t,e,i,"StandardEncoding")},H.setLineWidth=function(t){return X((t*c).toFixed(2)+" w"),this},H.setDrawColor=function(t,e,i,o){var n;return n=void 0===e||void 0===o&&t===e===i?"string"==typeof t?t+" G":G(t/255)+" G":void 0===o?"string"==typeof t?[t,e,i,"RG"].join(" "):[G(t/255),G(e/255),G(i/255),"RG"].join(" "):"string"==typeof t?[t,e,i,o,"K"].join(" "):[G(t),G(e),G(i),G(o),"K"].join(" "),X(n),this},H.setFillColor=function(e,i,o,n){var r;return void 0===i||void 0===n&&e===i===o?r="string"==typeof e?e+" g":G(e/255)+" g":void 0===n||"object"===(void 0===n?"undefined":t(n))?(r="string"==typeof e?[e,i,o,"rg"].join(" "):[G(e/255),G(i/255),G(o/255),"rg"].join(" "),n&&0===n.a&&(r=["255","255","255","rg"].join(" "))):r="string"==typeof e?[e,i,o,n,"k"].join(" "):[G(e),G(i),G(o),G(n),"k"].join(" "),X(r),this},H.setTextColor=function(t,e,i){if("string"==typeof t&&/^#[0-9A-Fa-f]{6}$/.test(t)){var o=parseInt(t.substr(1),16);t=o>>16&255,e=o>>8&255,i=255&o}return _=0===t&&0===e&&0===i||void 0===e?Y(t/255)+" g":[Y(t/255),Y(e/255),Y(i/255),"rg"].join(" "),this},H.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},H.setLineCap=function(t){var e=this.CapJoinStyles[t];if(void 0===e)throw new Error("Line cap style of '"+t+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return F=e,X(e+" J"),this},H.setLineJoin=function(t){var e=this.CapJoinStyles[t];if(void 0===e)throw new Error("Line join style of '"+t+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return z=e,X(e+" j"),this},H.output=lt,H.save=function(t){H.output("save",t)},i.API)i.API.hasOwnProperty(ut)&&("events"===ut&&i.API.events.length?function(t,e){var i,o;for(o=e.length-1;-1!==o;o--)t.subscribe.apply(t,[e[o][0]].concat("function"==typeof(i=e[o][1])?[i]:i))}(U,i.API.events):H[ut]=i.API[ut]);return function(){for(var t=[["Helvetica","helvetica","normal"],["Helvetica-Bold","helvetica","bold"],["Helvetica-Oblique","helvetica","italic"],["Helvetica-BoldOblique","helvetica","bolditalic"],["Courier","courier","normal"],["Courier-Bold","courier","bold"],["Courier-Oblique","courier","italic"],["Courier-BoldOblique","courier","bolditalic"],["Times-Roman","times","normal"],["Times-Bold","times","bold"],["Times-Italic","times","italic"],["Times-BoldItalic","times","bolditalic"],["ZapfDingbats","zapfdingbats"]],e=0,i=t.length;e<i;e++){var o=tt(t[e][0],t[e][1],t[e][2],"StandardEncoding"),n=t[e][0].split("-");Q(o,n[0],n[1]||"")}U.publish("addFonts",{fonts:A,dictionary:O})}(),d="F1",it(l,a),U.publish("initialized"),H}var n="1.3",s={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};return i.API={events:[]},i.version="1.x-master","function"==typeof define&&define.amd?define("jsPDF",function(){return i}):"undefined"!=typeof module&&module.exports?module.exports=i:e.jsPDF=i,i}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||void 0));(window.AcroForm=function(t){var i=window.AcroForm;i.scale=function(t){return t*(o.internal.scaleFactor/1)},i.antiScale=function(t){return 1/o.internal.scaleFactor*t};var o={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null};e.API.acroformPlugin=o;var n=function(){for(var t in this.acroformPlugin.acroFormDictionaryRoot.Fields){var e=this.acroformPlugin.acroFormDictionaryRoot.Fields[t];e.hasAnnotation&&r.call(this,e)}},r=function(t){var i={type:"reference",object:t};e.API.annotationPlugin.annotations[this.internal.getPageInfo(t.page).pageNumber].push(i)},s=function(t){this.acroformPlugin.printedOut&&(this.acroformPlugin.printedOut=!1,this.acroformPlugin.acroFormDictionaryRoot=null),this.acroformPlugin.acroFormDictionaryRoot||(function(){if(this.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");this.acroformPlugin.acroFormDictionaryRoot=new i.AcroFormDictionary,this.acroformPlugin.internal=this.internal,this.acroformPlugin.acroFormDictionaryRoot._eventID=this.internal.events.subscribe("postPutResources",h),this.internal.events.subscribe("buildDocument",n),this.internal.events.subscribe("putCatalog",a),this.internal.events.subscribe("postPutPages",l)}).call(this),this.acroformPlugin.acroFormDictionaryRoot.Fields.push(t)},a=function(){void 0!==this.acroformPlugin.acroFormDictionaryRoot?this.internal.write("/AcroForm "+this.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R"):console.log("Root missing...")},h=function(){this.internal.events.unsubscribe(this.acroformPlugin.acroFormDictionaryRoot._eventID),delete this.acroformPlugin.acroFormDictionaryRoot._eventID,this.acroformPlugin.printedOut=!0},l=function(t){var e=!t;for(var o in t||(this.internal.newObjectDeferredBegin(this.acroformPlugin.acroFormDictionaryRoot.objId),this.internal.out(this.acroformPlugin.acroFormDictionaryRoot.getString())),t=t||this.acroformPlugin.acroFormDictionaryRoot.Kids){var n=t[o],r=n.Rect;n.Rect&&(n.Rect=i.internal.calculateCoordinates.call(this,n.Rect)),this.internal.newObjectDeferredBegin(n.objId);var s="";if(s+=n.objId+" 0 obj\n",s+="<<\n"+n.getContent(),n.Rect=r,n.hasAppearanceStream&&!n.appearanceStreamContent){var a=i.internal.calculateAppearanceStream.call(this,n);s+="/AP << /N "+a+" >>\n",this.acroformPlugin.xForms.push(a)}if(n.appearanceStreamContent){for(var h in s+="/AP << ",n.appearanceStreamContent){var l=n.appearanceStreamContent[h];if(s+="/"+h+" ",s+="<< ",Object.keys(l).length>=1||Array.isArray(l))for(var o in l)"function"==typeof(u=l[o])&&(u=u.call(this,n)),s+="/"+o+" "+u+" ",this.acroformPlugin.xForms.indexOf(u)>=0||this.acroformPlugin.xForms.push(u);else{var u=l;"function"==typeof u&&(u=u.call(this,n)),s+="/"+o+" "+u+" \n",this.acroformPlugin.xForms.indexOf(u)>=0||this.acroformPlugin.xForms.push(u)}s+=" >>\n"}s+=">>\n"}this.internal.out(s+=">>\nendobj\n")}e&&p.call(this,this.acroformPlugin.xForms)},p=function(t){for(var e in t){var i=e,o=t[e];this.internal.newObjectDeferredBegin(o&&o.objId);var n="";n+=o?o.getString():"",this.internal.out(n),delete t[i]}};t.addField=function(t){return t instanceof i.TextField?d.call(this,t):t instanceof i.ChoiceField?c.call(this,t):t instanceof i.Button?u.call(this,t):t instanceof i.ChildClass?s.call(this,t):t&&s.call(this,t),t.page=this.acroformPlugin.internal.getCurrentPageInfo().pageNumber,this};var u=function(t){(t=t||new i.Field).FT="/Btn";var e=t.Ff||0;t.pushbutton&&(e=i.internal.setBitPosition(e,17),delete t.pushbutton),t.radio&&(e=i.internal.setBitPosition(e,16),delete t.radio),t.noToggleToOff&&(e=i.internal.setBitPosition(e,15)),t.Ff=e,s.call(this,t)},d=function(t){(t=t||new i.Field).FT="/Tx";var e=t.Ff||0;t.multiline&&(e|=4096),t.password&&(e|=8192),t.fileSelect&&(e|=1<<20),t.doNotSpellCheck&&(e|=1<<22),t.doNotScroll&&(e|=1<<23),t.Ff=t.Ff||e,s.call(this,t)},c=function(t){var e=t||new i.Field;e.FT="/Ch";var o=e.Ff||0;e.combo&&(o=i.internal.setBitPosition(o,18),delete e.combo),e.edit&&(o=i.internal.setBitPosition(o,19),delete e.edit),e.sort&&(o=i.internal.setBitPosition(o,20),delete e.sort),e.multiSelect&&this.internal.getPDFVersion()>=1.4&&(o=i.internal.setBitPosition(o,22),delete e.multiSelect),e.doNotSpellCheck&&this.internal.getPDFVersion()>=1.4&&(o=i.internal.setBitPosition(o,23),delete e.doNotSpellCheck),e.Ff=o,s.call(this,e)}})(e.API);var i=window.AcroForm;i.internal={},i.createFormXObject=function(t){var e=new i.FormXObject,o=i.Appearance.internal.getHeight(t)||0,n=i.Appearance.internal.getWidth(t)||0;return e.BBox=[0,0,n,o],e},i.Appearance={CheckBox:{createAppearanceStream:function(){return{N:{On:i.Appearance.CheckBox.YesNormal},D:{On:i.Appearance.CheckBox.YesPushDown,Off:i.Appearance.CheckBox.OffPushDown}}},createMK:function(){return"<< /CA (3)>>"},YesPushDown:function(t){var e=i.createFormXObject(t),o="";t.Q=1;var n=i.internal.calculateX(t,"3","ZapfDingbats",50);return o+="0.749023 g\n             0 0 "+i.Appearance.internal.getWidth(t)+" "+i.Appearance.internal.getHeight(t)+" re\n             f\n             BMC\n             q\n             0 0 1 rg\n             /F13 "+n.fontSize+" Tf 0 g\n             BT\n",o+=n.text,e.stream=o+="ET\n             Q\n             EMC\n",e},YesNormal:function(t){var e=i.createFormXObject(t),o="";t.Q=1;var n=i.internal.calculateX(t,"3","ZapfDingbats",.9*i.Appearance.internal.getHeight(t));return o+="1 g\n0 0 "+i.Appearance.internal.getWidth(t)+" "+i.Appearance.internal.getHeight(t)+" re\nf\nq\n0 0 1 rg\n0 0 "+(i.Appearance.internal.getWidth(t)-1)+" "+(i.Appearance.internal.getHeight(t)-1)+" re\nW\nn\n0 g\nBT\n/F13 "+n.fontSize+" Tf 0 g\n",o+=n.text,e.stream=o+="ET\n             Q\n",e},OffPushDown:function(t){var e=i.createFormXObject(t),o="";return o+="0.749023 g\n            0 0 "+i.Appearance.internal.getWidth(t)+" "+i.Appearance.internal.getHeight(t)+" re\n            f\n",e.stream=o,e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:i.Appearance.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=i.Appearance.RadioButton.Circle.YesNormal,e.D[t]=i.Appearance.RadioButton.Circle.YesPushDown,e},createMK:function(){return"<< /CA (l)>>"},YesNormal:function(t){var e=i.createFormXObject(t),o="",n=i.Appearance.internal.getWidth(t)<=i.Appearance.internal.getHeight(t)?i.Appearance.internal.getWidth(t)/4:i.Appearance.internal.getHeight(t)/4;n*=.9;var r=i.Appearance.internal.Bezier_C;return o+="q\n1 0 0 1 "+i.Appearance.internal.getWidth(t)/2+" "+i.Appearance.internal.getHeight(t)/2+" cm\n"+n+" 0 m\n"+n+" "+n*r+" "+n*r+" "+n+" 0 "+n+" c\n-"+n*r+" "+n+" -"+n+" "+n*r+" -"+n+" 0 c\n-"+n+" -"+n*r+" -"+n*r+" -"+n+" 0 -"+n+" c\n"+n*r+" -"+n+" "+n+" -"+n*r+" "+n+" 0 c\nf\nQ\n",e.stream=o,e},YesPushDown:function(t){var e=i.createFormXObject(t),o="",n=i.Appearance.internal.getWidth(t)<=i.Appearance.internal.getHeight(t)?i.Appearance.internal.getWidth(t)/4:i.Appearance.internal.getHeight(t)/4,r=2*(n*=.9),s=r*i.Appearance.internal.Bezier_C,a=n*i.Appearance.internal.Bezier_C;return o+="0.749023 g\n            q\n           1 0 0 1 "+i.Appearance.internal.getWidth(t)/2+" "+i.Appearance.internal.getHeight(t)/2+" cm\n"+r+" 0 m\n"+r+" "+s+" "+s+" "+r+" 0 "+r+" c\n-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c\n-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c\n"+s+" -"+r+" "+r+" -"+s+" "+r+" 0 c\n            f\n            Q\n            0 g\n            q\n            1 0 0 1 "+i.Appearance.internal.getWidth(t)/2+" "+i.Appearance.internal.getHeight(t)/2+" cm\n"+n+" 0 m\n"+n+" "+a+" "+a+" "+n+" 0 "+n+" c\n-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c\n-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c\n"+a+" -"+n+" "+n+" -"+a+" "+n+" 0 c\n            f\n            Q\n",e.stream=o,e},OffPushDown:function(t){var e=i.createFormXObject(t),o="",n=i.Appearance.internal.getWidth(t)<=i.Appearance.internal.getHeight(t)?i.Appearance.internal.getWidth(t)/4:i.Appearance.internal.getHeight(t)/4,r=2*(n*=.9),s=r*i.Appearance.internal.Bezier_C;return o+="0.749023 g\n            q\n 1 0 0 1 "+i.Appearance.internal.getWidth(t)/2+" "+i.Appearance.internal.getHeight(t)/2+" cm\n"+r+" 0 m\n"+r+" "+s+" "+s+" "+r+" 0 "+r+" c\n-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c\n-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c\n"+s+" -"+r+" "+r+" -"+s+" "+r+" 0 c\n            f\n            Q\n",e.stream=o,e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:i.Appearance.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=i.Appearance.RadioButton.Cross.YesNormal,e.D[t]=i.Appearance.RadioButton.Cross.YesPushDown,e},createMK:function(){return"<< /CA (8)>>"},YesNormal:function(t){var e=i.createFormXObject(t),o="",n=i.Appearance.internal.calculateCross(t);return o+="q\n            1 1 "+(i.Appearance.internal.getWidth(t)-2)+" "+(i.Appearance.internal.getHeight(t)-2)+" re\n            W\n            n\n            "+n.x1.x+" "+n.x1.y+" m\n            "+n.x2.x+" "+n.x2.y+" l\n            "+n.x4.x+" "+n.x4.y+" m\n            "+n.x3.x+" "+n.x3.y+" l\n            s\n            Q\n",e.stream=o,e},YesPushDown:function(t){var e=i.createFormXObject(t),o=i.Appearance.internal.calculateCross(t),n="";return n+="0.749023 g\n            0 0 "+i.Appearance.internal.getWidth(t)+" "+i.Appearance.internal.getHeight(t)+" re\n            f\n            q\n            1 1 "+(i.Appearance.internal.getWidth(t)-2)+" "+(i.Appearance.internal.getHeight(t)-2)+" re\n            W\n            n\n            "+o.x1.x+" "+o.x1.y+" m\n            "+o.x2.x+" "+o.x2.y+" l\n            "+o.x4.x+" "+o.x4.y+" m\n            "+o.x3.x+" "+o.x3.y+" l\n            s\n            Q\n",e.stream=n,e},OffPushDown:function(t){var e=i.createFormXObject(t),o="";return o+="0.749023 g\n            0 0 "+i.Appearance.internal.getWidth(t)+" "+i.Appearance.internal.getHeight(t)+" re\n            f\n",e.stream=o,e}}},createDefaultAppearanceStream:function(t){return"/Helv 0 Tf 0 g"}},i.Appearance.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=i.Appearance.internal.getWidth(t),o=i.Appearance.internal.getHeight(t),n=function(t,e){return t>o?o:t}(e);return{x1:{x:(e-n)/2,y:(o-n)/2+n},x2:{x:(e-n)/2+n,y:(o-n)/2},x3:{x:(e-n)/2,y:(o-n)/2},x4:{x:(e-n)/2+n,y:(o-n)/2+n}}}},i.Appearance.internal.getWidth=function(t){return t.Rect[2]},i.Appearance.internal.getHeight=function(t){return t.Rect[3]},i.internal.inherit=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},i.internal.arrayToPdfArray=function(t){if(Array.isArray(t)){var e=" [";for(var i in t)e+=t[i].toString(),e+=i<t.length-1?" ":"";return e+"]"}},i.internal.toPdfString=function(t){return 0!==(t=t||"").indexOf("(")&&(t="("+t),")"!=t.substring(t.length-1)&&(t+="("),t},i.PDFObject=function(){var t;Object.defineProperty(this,"objId",{get:function(){return t||(this.internal?t=this.internal.newObjectDeferred():e.API.acroformPlugin.internal&&(t=e.API.acroformPlugin.internal.newObjectDeferred())),t||console.log("Couldn't create Object ID"),t},configurable:!1})},i.PDFObject.prototype.toString=function(){return this.objId+" 0 R"},i.PDFObject.prototype.getString=function(){var t=this.objId+" 0 obj\n<<";return t+=this.getContent()+">>\n",this.stream&&(t+="stream\n",t+=this.stream,t+="endstream\n"),t+"endobj\n"},i.PDFObject.prototype.getContent=function(){return""+function(t){var e="",o=Object.keys(t).filter(function(t){return"content"!=t&&"appearanceStreamContent"!=t&&"_"!=t.substring(0,1)});for(var n in o){var r=o[n],s=t[r];s&&(Array.isArray(s)?e+="/"+r+" "+i.internal.arrayToPdfArray(s)+"\n":e+=s instanceof i.PDFObject?"/"+r+" "+s.objId+" 0 R\n":"/"+r+" "+s+"\n")}return e}(this)},i.FormXObject=function(){var t;i.PDFObject.call(this),this.Type="/XObject",this.Subtype="/Form",this.FormType=1,this.Resources="2 0 R",Object.defineProperty(this,"Length",{enumerable:!0,get:function(){return void 0!==t?t.length:0}}),Object.defineProperty(this,"stream",{enumerable:!1,set:function(e){t=e},get:function(){return t||null}})},i.internal.inherit(i.FormXObject,i.PDFObject),i.AcroFormDictionary=function(){i.PDFObject.call(this);var t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!0,configurable:!0,get:function(){return t}})},i.internal.inherit(i.AcroFormDictionary,i.PDFObject),i.Field=function(){var t;i.PDFObject.call(this),Object.defineProperty(this,"Rect",{enumerable:!0,configurable:!1,get:function(){if(t)return t},set:function(e){t=e}});var e,o,n,r="";Object.defineProperty(this,"FT",{enumerable:!0,set:function(t){r=t},get:function(){return r}}),Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,set:function(t){e=t},get:function(){if(!e||e.length<1){if(this instanceof i.ChildClass)return;return"(FieldObject"+i.Field.FieldNum+++")"}return"("==e.substring(0,1)&&e.substring(e.length-1)?e:"("+e+")"}}),Object.defineProperty(this,"DA",{enumerable:!0,get:function(){if(o)return"("+o+")"},set:function(t){o=t}}),Object.defineProperty(this,"DV",{enumerable:!0,configurable:!0,get:function(){if(n)return n},set:function(t){n=t}}),Object.defineProperty(this,"Type",{enumerable:!0,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,get:function(){return this.hasAnnotation?"/Widget":null}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!1,get:function(){return!!(this.Rect||this.BC||this.BG)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!1,configurable:!0,writable:!0}),Object.defineProperty(this,"page",{enumerable:!1,configurable:!0,writable:!0})},i.Field.FieldNum=0,i.internal.inherit(i.Field,i.PDFObject),i.ChoiceField=function(){i.Field.call(this),this.FT="/Ch",this.Opt=[],this.V="()",this.TI=0,this.combo=!1,Object.defineProperty(this,"edit",{enumerable:!0,set:function(t){1==t?(this._edit=!0,this.combo=!0):this._edit=!1},get:function(){return!!this._edit&&this._edit},configurable:!1}),this.hasAppearanceStream=!0,Object.defineProperty(this,"V",{get:function(){i.internal.toPdfString()}})},i.internal.inherit(i.ChoiceField,i.Field),window.ChoiceField=i.ChoiceField,i.ListBox=function(){i.ChoiceField.call(this)},i.internal.inherit(i.ListBox,i.ChoiceField),window.ListBox=i.ListBox,i.ComboBox=function(){i.ListBox.call(this),this.combo=!0},i.internal.inherit(i.ComboBox,i.ListBox),window.ComboBox=i.ComboBox,i.EditBox=function(){i.ComboBox.call(this),this.edit=!0},i.internal.inherit(i.EditBox,i.ComboBox),window.EditBox=i.EditBox,i.Button=function(){i.Field.call(this),this.FT="/Btn"},i.internal.inherit(i.Button,i.Field),window.Button=i.Button,i.PushButton=function(){i.Button.call(this),this.pushbutton=!0},i.internal.inherit(i.PushButton,i.Button),window.PushButton=i.PushButton,i.RadioButton=function(){i.Button.call(this),this.radio=!0;var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!0,get:function(){if(e.length>0)return e}}),Object.defineProperty(this,"__Kids",{get:function(){return e}}),Object.defineProperty(this,"noToggleToOff",{enumerable:!1,get:function(){return t},set:function(e){t=e}})},i.internal.inherit(i.RadioButton,i.Button),window.RadioButton=i.RadioButton,i.ChildClass=function(t,e){i.Field.call(this),this.Parent=t,this._AppearanceType=i.Appearance.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(e),this.F=i.internal.setBitPosition(this.F,3,1),this.MK=this._AppearanceType.createMK(),this.AS="/Off",this._Name=e},i.internal.inherit(i.ChildClass,i.Field),i.RadioButton.prototype.setAppearance=function(t){if("createAppearanceStream"in t&&"createMK"in t)for(var e in this.__Kids){var i=this.__Kids[e];i.appearanceStreamContent=t.createAppearanceStream(i._Name),i.MK=t.createMK()}else console.log("Couldn't assign Appearance to RadioButton. Appearance was Invalid!")},i.RadioButton.prototype.createOption=function(t){var o=new i.ChildClass(this,t);return this.__Kids.push(o),e.API.addField(o),o},i.CheckBox=function(){Button.call(this),this.appearanceStreamContent=i.Appearance.CheckBox.createAppearanceStream(),this.MK=i.Appearance.CheckBox.createMK(),this.AS="/On",this.V="/On"},i.internal.inherit(i.CheckBox,i.Button),window.CheckBox=i.CheckBox,i.TextField=function(){var t,e;i.Field.call(this),this.DA=i.Appearance.createDefaultAppearanceStream(),this.F=4,Object.defineProperty(this,"V",{get:function(){return t?"("+t+")":t},enumerable:!0,set:function(e){t=e}}),Object.defineProperty(this,"DV",{get:function(){return e?"("+e+")":e},enumerable:!0,set:function(t){e=t}});var o=!1;Object.defineProperty(this,"multiline",{enumerable:!1,get:function(){return o},set:function(t){o=t}});var n=!1;Object.defineProperty(this,"MaxLen",{enumerable:!0,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!1,get:function(){return this.V||this.DV}})},i.internal.inherit(i.TextField,i.Field),window.TextField=i.TextField,i.PasswordField=function(){TextField.call(this),Object.defineProperty(this,"password",{value:!0,enumerable:!1,configurable:!1,writable:!1})},i.internal.inherit(i.PasswordField,i.TextField),window.PasswordField=i.PasswordField,i.internal.calculateFontSpace=function(t,e,o){o=o||"helvetica";var n=i.internal.calculateFontSpace.canvas||(i.internal.calculateFontSpace.canvas=document.createElement("canvas"));(s=n.getContext("2d")).save(),s.font=e+" "+o;var r=s.measureText(t);s.fontcolor="black";var s=n.getContext("2d");return r.height=1.5*s.measureText("3").width,s.restore(),r},i.internal.calculateX=function(t,e,o,n){n=n||12,o=o||"helvetica";var r={text:"",fontSize:""},s=(e=")"==(e="("==e.substr(0,1)?e.substr(1):e).substr(e.length-1)?e.substr(0,e.length-1):e).split(" "),a=n,h=i.Appearance.internal.getHeight(t)||0;h=h<0?-h:h;var l=i.Appearance.internal.getWidth(t)||0;l=l<0?-l:l,a++;t:for(;;){e="";var p=i.internal.calculateFontSpace("3",--a+"px",o).height,u=t.multiline?h-a:(h-p)/2,d=-2,c=u+=2,f=0,y=0,g=0;if(0==a){a=12,e="(...) Tj\n",e+="% Width of Text: "+i.internal.calculateFontSpace(e,"1px").width+", FieldWidth:"+l+"\n";break}g=i.internal.calculateFontSpace(s[0]+" ",a+"px",o).width;var m="",v=0;for(var b in s){m=" "==(m+=s[b]+" ").substr(m.length-1)?m.substr(0,m.length-1):m;var w=parseInt(b);g=i.internal.calculateFontSpace(m+" ",a+"px",o).width;var x=w+1<s.length&&i.internal.calculateFontSpace(m+" "+s[w+1],a+"px",o).width<=l-4,_=b>=s.length-1;if(!x||_){if(x||_){if(_)y=w;else if(t.multiline&&(p+2)*(v+2)+2>h)continue t}else{if(!t.multiline)continue t;if((p+2)*(v+2)+2>h)continue t;y=w}for(var M="",k=f;k<=y;k++)M+=s[k]+" ";switch(M=" "==M.substr(M.length-1)?M.substr(0,M.length-1):M,g=i.internal.calculateFontSpace(M,a+"px",o).width,t.Q){case 2:d=l-g-2;break;case 1:d=(l-g)/2;break;case 0:default:d=2}e+=d+" "+c+" Td\n",e+="("+M+") Tj\n",e+=-d+" 0 Td\n",c=-(a+2),g=0,f=y+1,v++,m=""}else m+=" "}break}return r.text=e,r.fontSize=a,r},i.internal.calculateAppearanceStream=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e="",o=i.internal.calculateX(t,t.V||t.DV);e+="/Tx BMC\nq\n/F1 "+o.fontSize+" Tf\n1 0 0 1 0 0 Tm\n",e+="BT\n",e+=o.text,e+="ET\n",e+="Q\nEMC\n";var n=new i.createFormXObject(t);return n.stream=e,n}},i.internal.calculateCoordinates=function(t,e,o,n){var r={};if(this.internal){var s=function(t){return t*this.internal.scaleFactor};Array.isArray(t)?(t[0]=i.scale(t[0]),t[1]=i.scale(t[1]),t[2]=i.scale(t[2]),t[3]=i.scale(t[3]),r.lowerLeft_X=t[0]||0,r.lowerLeft_Y=s.call(this,this.internal.pageSize.height)-t[3]-t[1]||0,r.upperRight_X=t[0]+t[2]||0,r.upperRight_Y=s.call(this,this.internal.pageSize.height)-t[1]||0):(t=i.scale(t),e=i.scale(e),o=i.scale(o),n=i.scale(n),r.lowerLeft_X=t||0,r.lowerLeft_Y=this.internal.pageSize.height-e||0,r.upperRight_X=t+o||0,r.upperRight_Y=this.internal.pageSize.height-e+n||0)}else Array.isArray(t)?(r.lowerLeft_X=t[0]||0,r.lowerLeft_Y=t[1]||0,r.upperRight_X=t[0]+t[2]||0,r.upperRight_Y=t[1]+t[3]||0):(r.lowerLeft_X=t||0,r.lowerLeft_Y=e||0,r.upperRight_X=t+o||0,r.upperRight_Y=e+n||0);return[r.lowerLeft_X,r.lowerLeft_Y,r.upperRight_X,r.upperRight_Y]},i.internal.calculateColor=function(t,e,i){var o=new Array(3);return o.r=0|t,o.g=0|e,o.b=0|i,o},i.internal.getBitPosition=function(t,e){return(t=t||0)|1<<e-1},i.internal.setBitPosition=function(t,e,i){t=t||0;var o=1;return o<<=e-1,1==(i=i||1)?t|=o:t&=~o,t},e.API.addHTML=function(t,e,i,o,n){if("undefined"==typeof html2canvas&&"undefined"==typeof rasterizeHTML)throw new Error("You need either https://github.com/niklasvh/html2canvas or https://github.com/cburgmer/rasterizeHTML.js");"number"!=typeof e&&(o=e,n=i),"function"==typeof o&&(n=o,o=null);var r=this.internal,s=r.scaleFactor,a=r.pageSize.width,h=r.pageSize.height;if((o=o||{}).onrendered=(function(t){e=parseInt(e)||0,i=parseInt(i)||0;var r=o.dim||{},l=r.h||0,p=r.w||Math.min(a,t.width/s)-e,u="JPEG";if(o.format&&(u=o.format),t.height>h&&o.pagesplit){var d=(function(){for(var o=0;;){var r=document.createElement("canvas");r.width=Math.min(a*s,t.width),r.height=Math.min(h*s,t.height-o),r.getContext("2d").drawImage(t,0,o,t.width,r.height,0,0,r.width,r.height);var l=[r,e,o?0:i,r.width/s,r.height/s,u,null,"SLOW"];if(this.addImage.apply(this,l),(o+=r.height)>=t.height)break;this.addPage()}n(p,o,null,l)}).bind(this);if("CANVAS"===t.nodeName){var c=new Image;c.onload=d,c.src=t.toDataURL("image/png"),t=c}else d()}else{var f=Math.random().toString(35),y=[t,e,i,p,l,u,f,"SLOW"];this.addImage.apply(this,y),n(p,l,f,y)}}).bind(this),"undefined"!=typeof html2canvas&&!o.rstz)return html2canvas(t,o);if("undefined"!=typeof rasterizeHTML){var l="drawDocument";return"string"==typeof t&&(l=/^http/.test(t)?"drawURL":"drawHTML"),o.width=o.width||a*s,rasterizeHTML[l](t,void 0,o).then(function(t){o.onrendered(t.image)},function(t){n(null,t)})}return null},function(e){var i=["jpeg","jpg","png"],o=function t(e){var i=this.internal.newObject(),o=this.internal.write,n=this.internal.putStream;if(e.n=i,o("<</Type /XObject"),o("/Subtype /Image"),o("/Width "+e.w),o("/Height "+e.h),e.cs===this.color_spaces.INDEXED?o("/ColorSpace [/Indexed /DeviceRGB "+(e.pal.length/3-1)+" "+("smask"in e?i+2:i+1)+" 0 R]"):(o("/ColorSpace /"+e.cs),e.cs===this.color_spaces.DEVICE_CMYK&&o("/Decode [1 0 1 0 1 0 1 0]")),o("/BitsPerComponent "+e.bpc),"f"in e&&o("/Filter /"+e.f),"dp"in e&&o("/DecodeParms <<"+e.dp+">>"),"trns"in e&&e.trns.constructor==Array){for(var r="",s=0,a=e.trns.length;s<a;s++)r+=e.trns[s]+" "+e.trns[s]+" ";o("/Mask ["+r+"]")}if("smask"in e&&o("/SMask "+(i+1)+" 0 R"),o("/Length "+e.data.length+">>"),n(e.data),o("endobj"),"smask"in e){var h={w:e.w,h:e.h,cs:"DeviceGray",bpc:e.bpc,dp:"/Predictor "+e.p+" /Colors 1 /BitsPerComponent "+e.bpc+" /Columns "+e.w,data:e.smask};"f"in e&&(h.f=e.f),t.call(this,h)}e.cs===this.color_spaces.INDEXED&&(this.internal.newObject(),o("<< /Length "+e.pal.length+">>"),n(this.arrayBufferToBinaryString(new Uint8Array(e.pal))),o("endobj"))},n=function(){var t=this.internal.collections.addImage_images;for(var e in t)o.call(this,t[e])},r=function(){var t,e=this.internal.collections.addImage_images,i=this.internal.write;for(var o in e)i("/I"+(t=e[o]).i,t.n,"0","R")},s=function(t){return t&&"string"==typeof t&&(t=t.toUpperCase()),t in e.image_compression?t:e.image_compression.NONE},a=function(){var t=this.internal.collections.addImage_images;return t||(this.internal.collections.addImage_images=t={},this.internal.events.subscribe("putResources",n),this.internal.events.subscribe("putXobjectDict",r)),t},h=function(t){return"string"==typeof t&&e.sHashCode(t)},l=function(t){return"function"!=typeof e["process"+t.toUpperCase()]},p=function(e){return"object"===(void 0===e?"undefined":t(e))&&1===e.nodeType},u=function(t,e){var i;if(e)for(var o in e)if(t===e[o].alias){i=e[o];break}return i};e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"},e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"},e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},e.sHashCode=function(t){return Array.prototype.reduce&&t.split("").reduce(function(t,e){return(t=(t<<5)-t+e.charCodeAt(0))&t},0)},e.isString=function(t){return"string"==typeof t},e.extractInfoFromBase64DataURI=function(t){return/^data:([\w]+?\/([\w]+?));base64,(.+?)$/g.exec(t)},e.supportsArrayBuffer=function(){return"undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array},e.isArrayBuffer=function(t){return!!this.supportsArrayBuffer()&&t instanceof ArrayBuffer},e.isArrayBufferView=function(t){return!!this.supportsArrayBuffer()&&"undefined"!=typeof Uint32Array&&(t instanceof Int8Array||t instanceof Uint8Array||"undefined"!=typeof Uint8ClampedArray&&t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array)},e.binaryStringToUint8Array=function(t){for(var e=t.length,i=new Uint8Array(e),o=0;o<e;o++)i[o]=t.charCodeAt(o);return i},e.arrayBufferToBinaryString=function(t){if("function"==typeof window.atob)return atob(this.arrayBufferToBase64(t));for(var e=this.isArrayBuffer(t)?t:new Uint8Array(t),i="",o=Math.round(e.byteLength/20480),n=0;n<o;n++)i+=String.fromCharCode.apply(null,e.slice(20480*n,20480*n+20480));return i},e.arrayBufferToBase64=function(t){for(var e,i,o="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=new Uint8Array(t),s=r.byteLength,a=s%3,h=s-a,l=0;l<h;l+=3)e=(258048&(i=r[l]<<16|r[l+1]<<8|r[l+2]))>>12,o+=n[(16515072&i)>>18]+n[e]+n[(4032&i)>>6]+n[63&i];return 1==a?(e=(3&(i=r[h]))<<4,o+=n[(252&i)>>2]+n[e]+"=="):2==a&&(e=(1008&(i=r[h]<<8|r[h+1]))>>4,o+=n[(64512&i)>>10]+n[e]+n[(15&i)<<2]+"="),o},e.createImageInfo=function(t,e,i,o,n,r,s,a,h,l,p,u,d){var c={alias:a,w:e,h:i,cs:o,bpc:n,i:s,data:t};return r&&(c.f=r),h&&(c.dp=h),l&&(c.trns=l),p&&(c.pal=p),u&&(c.smask=u),d&&(c.p=d),c},e.addImage=function(e,o,n,r,d,c,f,y,g){if("string"!=typeof o){var m=c;c=d,d=r,r=n,n=o,o=m}if("object"===(void 0===e?"undefined":t(e))&&!p(e)&&"imageData"in e){var v=e;e=v.imageData,o=v.format||o,n=v.x||n||0,r=v.y||r||0,d=v.w||d,c=v.h||c,f=v.alias||f,y=v.compression||y,g=v.rotation||v.angle||g}if(isNaN(n)||isNaN(r))throw console.error("jsPDF.addImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addImage");var b,w,x=a.call(this);if(!((b=u(e,x))||(p(e)&&(e=function(e,i,o){if("IMG"===e.nodeName&&e.hasAttribute("src")){var n=""+e.getAttribute("src");if(!o&&0===n.indexOf("data:image/"))return n;!i&&/\.png(?:[?#].*)?$/i.test(n)&&(i="png")}if("CANVAS"===e.nodeName)var r=e;else{(r=document.createElement("canvas")).width=e.clientWidth||e.width,r.height=e.clientHeight||e.height;var s=r.getContext("2d");if(!s)throw"addImage requires canvas to be supported by browser.";if(o){var a,h,l,p,u,d,c,f,y=Math.PI/180;"object"===(void 0===o?"undefined":t(o))&&(a=o.x,h=o.y,l=o.bg,o=o.angle),f=o*y,p=Math.abs(Math.cos(f)),u=Math.abs(Math.sin(f)),r.width=(c=r.height)*u+(d=r.width)*p,r.height=c*p+d*u,isNaN(a)&&(a=r.width/2),isNaN(h)&&(h=r.height/2),s.clearRect(0,0,r.width,r.height),s.fillStyle=l||"white",s.fillRect(0,0,r.width,r.height),s.save(),s.translate(a,h),s.rotate(f),s.drawImage(e,-d/2,-c/2),s.rotate(-f),s.translate(-a,-h),s.restore()}else s.drawImage(e,0,0,r.width,r.height)}return r.toDataURL("png"==(""+i).toLowerCase()?"image/png":"image/jpeg")}(e,o,g)),(void 0===f||null===f)&&(f=h(e)),b=u(f,x)))){if(this.isString(e)){var _=this.extractInfoFromBase64DataURI(e);_?(o=_[2],e=atob(_[3])):137===e.charCodeAt(0)&&80===e.charCodeAt(1)&&78===e.charCodeAt(2)&&71===e.charCodeAt(3)&&(o="png")}if(function(t){return-1===i.indexOf(t)}(o=(o||"JPEG").toLowerCase()))throw new Error("addImage currently only supports formats "+i+", not '"+o+"'");if(l(o))throw new Error("please ensure that the plugin for '"+o+"' support is added");if(this.supportsArrayBuffer()&&(e instanceof Uint8Array||(w=e,e=this.binaryStringToUint8Array(e))),!(b=this["process"+o.toUpperCase()](e,function(t){var e=0;return t&&(e=Object.keys?Object.keys(t).length:function(t){var e=0;for(var i in t)t.hasOwnProperty(i)&&e++;return e}(t)),e}(x),f,s(y),w)))throw new Error("An unkwown error occurred whilst processing the image")}return(function(t,e,i,o,n,r,s){var a=(function(t,e,i){return t||e||(t=-96,e=-96),t<0&&(t=-1*i.w*72/t/this.internal.scaleFactor),e<0&&(e=-1*i.h*72/e/this.internal.scaleFactor),0===t&&(t=e*i.w/i.h),0===e&&(e=t*i.h/i.w),[t,e]}).call(this,i,o,n),h=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString;i=a[0],o=a[1],s[r]=n,this.internal.write("q",h(i),"0 0",h(o),h(t),l(e+o),"cm /I"+n.i,"Do Q")}).call(this,n,r,d,c,b,b.i,x),this};var d=function(t,e){return t.subarray(e,e+5)};e.processJPEG=function(t,e,i,o,n){var r,s=this.color_spaces.DEVICE_RGB,a=this.decode.DCT_DECODE;return this.isString(t)?(r=function(t){var e;if(255===!t.charCodeAt(0)||216===!t.charCodeAt(1)||255===!t.charCodeAt(2)||224===!t.charCodeAt(3)||!t.charCodeAt(6)==="J".charCodeAt(0)||!t.charCodeAt(7)==="F".charCodeAt(0)||!t.charCodeAt(8)==="I".charCodeAt(0)||!t.charCodeAt(9)==="F".charCodeAt(0)||0===!t.charCodeAt(10))throw new Error("getJpegSize requires a binary string jpeg file");for(var i=256*t.charCodeAt(4)+t.charCodeAt(5),o=4,n=t.length;o<n;){if(255!==t.charCodeAt(o+=i))throw new Error("getJpegSize could not find the size of the image");if(192===t.charCodeAt(o+1)||193===t.charCodeAt(o+1)||194===t.charCodeAt(o+1)||195===t.charCodeAt(o+1)||196===t.charCodeAt(o+1)||197===t.charCodeAt(o+1)||198===t.charCodeAt(o+1)||199===t.charCodeAt(o+1))return e=256*t.charCodeAt(o+5)+t.charCodeAt(o+6),[256*t.charCodeAt(o+7)+t.charCodeAt(o+8),e,t.charCodeAt(o+9)];i=256*t.charCodeAt(o+=2)+t.charCodeAt(o+1)}}(t),this.createImageInfo(t,r[0],r[1],1==r[3]?this.color_spaces.DEVICE_GRAY:s,8,a,e,i)):(this.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.isArrayBufferView(t)?(r=function(t){if(65496!=(t[0]<<8|t[1]))throw new Error("Supplied data is not a JPEG");for(var e,i=t.length,o=(t[4]<<8)+t[5],n=4;n<i;){if(o=((e=d(t,n+=o))[2]<<8)+e[3],(192===e[1]||194===e[1])&&255===e[0]&&o>7)return{width:((e=d(t,n+5))[2]<<8)+e[3],height:(e[0]<<8)+e[1],numcomponents:e[4]};n+=2}throw new Error("getJpegSizeFromBytes could not find the size of the image")}(t),t=n||this.arrayBufferToBinaryString(t),this.createImageInfo(t,r.width,r.height,1==r.numcomponents?this.color_spaces.DEVICE_GRAY:s,8,a,e,i)):null)},e.processJPG=function(){return this.processJPEG.apply(this,arguments)}}(e.API),function(t){var i={annotations:[],f2:function(t){return t.toFixed(2)},notEmpty:function(t){if(void 0!==t&&""!=t)return!0}};e.API.annotationPlugin=i,e.API.events.push(["addPage",function(t){this.annotationPlugin.annotations[t.pageNumber]=[]}]),t.events.push(["putPage",function(t){for(var e=this.annotationPlugin.annotations[t.pageNumber],o=!1,n=0;n<e.length&&!o;n++)switch((l=e[n]).type){case"link":if(i.notEmpty(l.options.url)||i.notEmpty(l.options.pageNumber)){o=!0;break}case"reference":case"text":case"freetext":o=!0}if(0!=o){this.internal.write("/Annots [");var r=this.annotationPlugin.f2,s=this.internal.scaleFactor,a=this.internal.pageSize.height,h=this.internal.getPageInfo(t.pageNumber);for(n=0;n<e.length;n++){var l=e[n];switch(l.type){case"reference":this.internal.write(" "+l.object.objId+" 0 R ");break;case"text":var p=this.internal.newAdditionalObject(),u=this.internal.newAdditionalObject(),d=l.title||"Note";g="<</Type /Annot /Subtype /Text "+(y="/Rect ["+r(l.bounds.x*s)+" "+r(a-(l.bounds.y+l.bounds.h)*s)+" "+r((l.bounds.x+l.bounds.w)*s)+" "+r((a-l.bounds.y)*s)+"] ")+"/Contents ("+l.contents+")",g+=" /Popup "+u.objId+" 0 R",g+=" /P "+h.objId+" 0 R",p.content=g+=" /T ("+d+") >>";var c=p.objId+" 0 R";g="<</Type /Annot /Subtype /Popup "+(y="/Rect ["+r((l.bounds.x+30)*s)+" "+r(a-(l.bounds.y+l.bounds.h)*s)+" "+r((l.bounds.x+l.bounds.w+30)*s)+" "+r((a-l.bounds.y)*s)+"] ")+" /Parent "+c,l.open&&(g+=" /Open true"),u.content=g+=" >>",this.internal.write(p.objId,"0 R",u.objId,"0 R");break;case"freetext":g="<</Type /Annot /Subtype /FreeText "+(y="/Rect ["+r(l.bounds.x*s)+" "+r((a-l.bounds.y)*s)+" "+r(l.bounds.x+l.bounds.w*s)+" "+r(a-(l.bounds.y+l.bounds.h)*s)+"] ")+"/Contents ("+l.contents+")",g+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+(l.color||"#000000")+")",g+=" /Border [0 0 0]",this.internal.write(g+=" >>");break;case"link":if(l.options.name){var f=this.annotations._nameMap[l.options.name];l.options.pageNumber=f.page,l.options.top=f.y}else l.options.top||(l.options.top=0);var y="/Rect ["+r(l.x*s)+" "+r((a-l.y)*s)+" "+r((l.x+l.w)*s)+" "+r((a-(l.y+l.h))*s)+"] ",g="";if(l.options.url)g="<</Type /Annot /Subtype /Link "+y+"/Border [0 0 0] /A <</S /URI /URI ("+l.options.url+") >>";else if(l.options.pageNumber)switch(g="<</Type /Annot /Subtype /Link "+y+"/Border [0 0 0] /Dest ["+(t=this.internal.getPageInfo(l.options.pageNumber)).objId+" 0 R",l.options.magFactor=l.options.magFactor||"XYZ",l.options.magFactor){case"Fit":g+=" /Fit]";break;case"FitH":g+=" /FitH "+l.options.top+"]";break;case"FitV":l.options.left=l.options.left||0,g+=" /FitV "+l.options.left+"]";break;case"XYZ":default:var m=r((a-l.options.top)*s);l.options.left=l.options.left||0,void 0===l.options.zoom&&(l.options.zoom=0),g+=" /XYZ "+l.options.left+" "+m+" "+l.options.zoom+"]"}""!=g&&this.internal.write(g+=" >>")}}this.internal.write("]")}}]),t.createAnnotation=function(t){switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":this.annotationPlugin.annotations[this.internal.getCurrentPageInfo().pageNumber].push(t)}},t.link=function(t,e,i,o,n){this.annotationPlugin.annotations[this.internal.getCurrentPageInfo().pageNumber].push({x:t,y:e,w:i,h:o,options:n,type:"link"})},t.textWithLink=function(t,e,i,o){var n=this.getTextWidth(t),r=this.internal.getLineHeight()/this.internal.scaleFactor;return this.text(t,e,i),this.link(e,(i+=.2*r)-r,n,r,o),n},t.getTextWidth=function(t){var e=this.internal.getFontSize();return this.getStringUnitWidth(t)*e/this.internal.scaleFactor},t.getLineHeight=function(){return this.internal.getLineHeight()}}(e.API),e.API.autoPrint=function(){var t;return this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.write("<< /S/Named /Type/Action /N/Print >>","endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.write("/OpenAction "+t+" 0 R")}),this},function(t){t.events.push(["initialized",function(){this.canvas.pdf=this}]),t.canvas={getContext:function(t){return this.pdf.context2d._canvas=this,this.pdf.context2d},style:{}},Object.defineProperty(t.canvas,"width",{get:function(){return this._width},set:function(t){this._width=t,this.getContext("2d").pageWrapX=t+1}}),Object.defineProperty(t.canvas,"height",{get:function(){return this._height},set:function(t){this._height=t,this.getContext("2d").pageWrapY=t+1}})}(e.API),function(t){var e,i,o,n,r={x:void 0,y:void 0,w:void 0,h:void 0,ln:void 0},s=1,a=function(t,e,i,o,n){r={x:t,y:e,w:i,h:o,ln:n}},h=function(){return r},l={left:0,top:0,bottom:0};t.setHeaderFunction=function(t){n=t},t.getTextDimensions=function(t){var n,r;e=this.internal.getFont().fontName,i=this.table_font_size||this.internal.getFontSize(),o=this.internal.getFont().fontStyle,(r=document.createElement("font")).id="jsPDFCell";try{r.style.fontStyle=o}catch(t){r.style.fontWeight=o}r.style.fontName=e,r.style.fontSize=i+"pt";try{r.textContent=t}catch(e){r.innerText=t}return document.body.appendChild(r),n={w:(r.offsetWidth+1)*(19.049976/25.4),h:(r.offsetHeight+1)*(19.049976/25.4)},document.body.removeChild(r),n},t.cellAddPage=function(){var t=this.margins||l;this.addPage(),a(t.left,t.top,void 0,void 0),s+=1},t.cellInitialize=function(){r={x:void 0,y:void 0,w:void 0,h:void 0,ln:void 0},s=1},t.cell=function(t,e,i,o,n,r,s){var p=h(),u=!1;if(void 0!==p.ln&&(p.ln===r?(t=p.x+p.w,e=p.y):(p.y+p.h+o+13>=this.internal.pageSize.height-(this.margins||l).bottom&&(this.cellAddPage(),u=!0,this.printHeaders&&this.tableHeaderRow&&this.printHeaderRow(r,!0)),e=h().y+h().h,u&&(e=23))),void 0!==n[0])if(this.printingHeaderRow?this.rect(t,e,i,o,"FD"):this.rect(t,e,i,o),"right"===s){n instanceof Array||(n=[n]);for(var d=0;d<n.length;d++){var c=n[d],f=this.getStringUnitWidth(c)*this.internal.getFontSize();this.text(c,t+i-f-3,e+this.internal.getLineHeight()*(d+1))}}else this.text(n,t+3,e+this.internal.getLineHeight());return a(t,e,i,o,r),this},t.arrayMax=function(t,e){var i,o,n,r=t[0];for(i=0,o=t.length;i<o;i+=1)n=t[i],e?-1===e(r,n)&&(r=n):n>r&&(r=n);return r},t.table=function(e,i,o,n,a){if(!o)throw"No data for PDF table";var h,p,u,d,c,f,y,g,m,v=[],b=[],w={},x={},_=[],M=[],k=!1,S=!0,C=12,E=l;if(E.width=this.internal.pageSize.width,a&&(!0===a.autoSize&&(k=!0),!1===a.printHeaders&&(S=!1),a.fontSize&&(C=a.fontSize),a.css&&void 0!==a.css["font-size"]&&(C=16*a.css["font-size"]),a.margins&&(E=a.margins)),this.lnMod=0,r={x:void 0,y:void 0,w:void 0,h:void 0,ln:void 0},s=1,this.printHeaders=S,this.margins=E,this.setFontSize(C),this.table_font_size=C,void 0===n||null===n)v=Object.keys(o[0]);else if(n[0]&&"string"!=typeof n[0])for(p=0,u=n.length;p<u;p+=1)v.push((h=n[p]).name),b.push(h.prompt),x[h.name]=h.width*(19.049976/25.4);else v=n;if(k)for(m=function(t){return t[h]},p=0,u=v.length;p<u;p+=1){for(w[h=v[p]]=o.map(m),_.push(this.getTextDimensions(b[p]||h).w),f=0,d=(c=w[h]).length;f<d;f+=1)_.push(this.getTextDimensions(c[f]).w);x[h]=t.arrayMax(_),_=[]}if(S){for(T=this.calculateLineHeight(v,x,b.length?b:v),p=0,u=v.length;p<u;p+=1)M.push([e,i,x[h=v[p]],T,String(b.length?b[p]:h)]);this.setTableHeaderRow(M),this.printHeaderRow(1,!1)}for(p=0,u=o.length;p<u;p+=1){var T;for(T=this.calculateLineHeight(v,x,y=o[p]),f=0,g=v.length;f<g;f+=1)this.cell(e,i,x[h=v[f]],T,y[h],p+2,h.align)}return this.lastCellPos=r,this.table_x=e,this.table_y=i,this},t.calculateLineHeight=function(t,e,i){for(var o,n=0,r=0;r<t.length;r++){i[o=t[r]]=this.splitTextToSize(String(i[o]),e[o]-3);var s=this.internal.getLineHeight()*i[o].length+3;s>n&&(n=s)}return n},t.setTableHeaderRow=function(t){this.tableHeaderRow=t},t.printHeaderRow=function(t,e){if(!this.tableHeaderRow)throw"Property tableHeaderRow does not exist.";var i,o,r,h;if(this.printingHeaderRow=!0,void 0!==n){var l=n(this,s);a(l[0],l[1],l[2],l[3],-1)}this.setFontStyle("bold");var p=[];for(r=0,h=this.tableHeaderRow.length;r<h;r+=1)this.setFillColor(200,200,200),i=this.tableHeaderRow[r],e&&(this.margins.top=13,i[1]=this.margins&&this.margins.top||0,p.push(i)),o=[].concat(i),this.cell.apply(this,o.concat(t));p.length>0&&this.setTableHeaderRow(p),this.setFontStyle("normal"),this.printingHeaderRow=!1}}(e.API),function(t){function e(){this._isStrokeTransparent=!1,this._strokeOpacity=1,this.strokeStyle="#000000",this.fillStyle="#000000",this._isFillTransparent=!1,this._fillOpacity=1,this.font="12pt times",this.textBaseline="alphabetic",this.textAlign="start",this.lineWidth=1,this.lineJoin="miter",this.lineCap="butt",this._transform=[1,0,0,1,0,0],this.globalCompositeOperation="normal",this.globalAlpha=1,this._clip_path=[],this.ignoreClearRect=!1,this.copy=function(t){this._isStrokeTransparent=t._isStrokeTransparent,this._strokeOpacity=t._strokeOpacity,this.strokeStyle=t.strokeStyle,this._isFillTransparent=t._isFillTransparent,this._fillOpacity=t._fillOpacity,this.fillStyle=t.fillStyle,this.font=t.font,this.lineWidth=t.lineWidth,this.lineJoin=t.lineJoin,this.lineCap=t.lineCap,this.textBaseline=t.textBaseline,this.textAlign=t.textAlign,this._fontSize=t._fontSize,this._transform=t._transform.slice(0),this.globalCompositeOperation=t.globalCompositeOperation,this.globalAlpha=t.globalAlpha,this._clip_path=t._clip_path.slice(0),this.ignoreClearRect=t.ignoreClearRect}}t.events.push(["initialized",function(){this.context2d.pdf=this,this.context2d.internal.pdf=this,this.context2d.ctx=new e,this.context2d.ctxStack=[],this.context2d.path=[]}]),t.context2d={pageWrapXEnabled:!1,pageWrapYEnabled:!1,pageWrapX:9999999,pageWrapY:9999999,ctx:new e,f2:function(t){return t.toFixed(2)},fillRect:function(t,e,i,o){if(!this._isFillTransparent()){t=this._wrapX(t),e=this._wrapY(e);var n=this._matrix_map_rect(this.ctx._transform,{x:t,y:e,w:i,h:o});this.pdf.rect(n.x,n.y,n.w,n.h,"f")}},strokeRect:function(t,e,i,o){if(!this._isStrokeTransparent()){t=this._wrapX(t),e=this._wrapY(e);var n=this._matrix_map_rect(this.ctx._transform,{x:t,y:e,w:i,h:o});this.pdf.rect(n.x,n.y,n.w,n.h,"s")}},clearRect:function(t,e,i,o){if(!this.ctx.ignoreClearRect){t=this._wrapX(t),e=this._wrapY(e);var n=this._matrix_map_rect(this.ctx._transform,{x:t,y:e,w:i,h:o});this.save(),this.setFillStyle("#ffffff"),this.pdf.rect(n.x,n.y,n.w,n.h,"f"),this.restore()}},save:function(){this.ctx._fontSize=this.pdf.internal.getFontSize();var t=new e;t.copy(this.ctx),this.ctxStack.push(this.ctx),this.ctx=t},restore:function(){this.ctx=this.ctxStack.pop(),this.setFillStyle(this.ctx.fillStyle),this.setStrokeStyle(this.ctx.strokeStyle),this.setFont(this.ctx.font),this.pdf.setFontSize(this.ctx._fontSize),this.setLineCap(this.ctx.lineCap),this.setLineWidth(this.ctx.lineWidth),this.setLineJoin(this.ctx.lineJoin)},rect:function(t,e,i,o){this.moveTo(t,e),this.lineTo(t+i,e),this.lineTo(t+i,e+o),this.lineTo(t,e+o),this.lineTo(t,e),this.closePath()},beginPath:function(){this.path=[]},closePath:function(){this.path.push({type:"close"})},_getRGBA:function(t){var e,i,o,r;if(!t)return{r:0,g:0,b:0,a:0,style:t};if(this.internal.rxTransparent.test(t))e=0,i=0,o=0,r=0;else{var s=this.internal.rxRgb.exec(t);null!=s?(e=parseInt(s[1]),i=parseInt(s[2]),o=parseInt(s[3]),r=1):null!=(s=this.internal.rxRgba.exec(t))?(e=parseInt(s[1]),i=parseInt(s[2]),o=parseInt(s[3]),r=parseFloat(s[4])):(r=1,"#"!=t.charAt(0)&&((t=n.colorNameToHex(t))||(t="#000000")),4===t.length?(e=t.substring(1,2),e+=e,i=t.substring(2,3),i+=i,o=t.substring(3,4),o+=o):(e=t.substring(1,3),i=t.substring(3,5),o=t.substring(5,7)),e=parseInt(e,16),i=parseInt(i,16),o=parseInt(o,16))}return{r:e,g:i,b:o,a:r,style:t}},setFillStyle:function(t){var e=this._getRGBA(t);this.ctx.fillStyle=t,this.ctx._isFillTransparent=0===e.a,this.ctx._fillOpacity=e.a,this.pdf.setFillColor(e.r,e.g,e.b,{a:e.a}),this.pdf.setTextColor(e.r,e.g,e.b,{a:e.a})},setStrokeStyle:function(t){var e=this._getRGBA(t);this.ctx.strokeStyle=e.style,this.ctx._isStrokeTransparent=0===e.a,this.ctx._strokeOpacity=e.a,0===e.a?this.pdf.setDrawColor(255,255,255):this.pdf.setDrawColor(e.r,e.g,e.b)},fillText:function(t,e,i,o){if(!this._isFillTransparent()){e=this._wrapX(e),i=this._wrapY(i);var n=this._matrix_map_point(this.ctx._transform,[e,i]);e=n[0],i=n[1];var r=57.2958*this._matrix_rotation(this.ctx._transform);if(this.ctx._clip_path.length>0){var s;(s=window.outIntercept?"group"===window.outIntercept.type?window.outIntercept.stream:window.outIntercept:this.internal.getCurrentPage()).push("q");var a=this.path;this.path=this.ctx._clip_path,this.ctx._clip_path=[],this._fill(null,!0),this.ctx._clip_path=this.path,this.path=a}var h=1;try{h=this._matrix_decompose(this._getTransform()).scale[0]}catch(t){console.warn(t)}if(h<.01)this.pdf.text(t,e,this._getBaseline(i),null,r);else{var l=this.pdf.internal.getFontSize();this.pdf.setFontSize(l*h),this.pdf.text(t,e,this._getBaseline(i),null,r),this.pdf.setFontSize(l)}this.ctx._clip_path.length>0&&s.push("Q")}},strokeText:function(t,e,i,o){if(!this._isStrokeTransparent()){e=this._wrapX(e),i=this._wrapY(i);var n=this._matrix_map_point(this.ctx._transform,[e,i]);e=n[0],i=n[1];var r=57.2958*this._matrix_rotation(this.ctx._transform);if(this.ctx._clip_path.length>0){var s;(s=window.outIntercept?"group"===window.outIntercept.type?window.outIntercept.stream:window.outIntercept:this.internal.getCurrentPage()).push("q");var a=this.path;this.path=this.ctx._clip_path,this.ctx._clip_path=[],this._fill(null,!0),this.ctx._clip_path=this.path,this.path=a}var h=1;try{h=this._matrix_decompose(this._getTransform()).scale[0]}catch(t){console.warn(t)}if(1===h)this.pdf.text(t,e,this._getBaseline(i),{stroke:!0},r);else{var l=this.pdf.internal.getFontSize();this.pdf.setFontSize(l*h),this.pdf.text(t,e,this._getBaseline(i),{stroke:!0},r),this.pdf.setFontSize(l)}this.ctx._clip_path.length>0&&s.push("Q")}},setFont:function(t){this.ctx.font=t;var e=/\s*(\w+)\s+(\w+)\s+(\w+)\s+([\d\.]+)(px|pt|em)\s+(.*)?/;if(null!=(p=e.exec(t))){var i=p[1],o=p[3],n=p[4],r=p[5],s=p[6];n="px"===r?Math.floor(parseFloat(n)):"em"===r?Math.floor(parseFloat(n)*this.pdf.getFontSize()):Math.floor(parseFloat(n)),this.pdf.setFontSize(n),this.pdf.setFontStyle("bold"===o||"700"===o?"bold":"italic"===i?"italic":"normal");var a,h,l=(d=s).toLowerCase().split(/\s*,\s*/);a=-1!=l.indexOf("arial")?"Arial":-1!=l.indexOf("verdana")?"Verdana":-1!=l.indexOf("helvetica")?"Helvetica":-1!=l.indexOf("sans-serif")?"sans-serif":-1!=l.indexOf("fixed")?"Fixed":-1!=l.indexOf("monospace")?"Monospace":-1!=l.indexOf("terminal")?"Terminal":-1!=l.indexOf("courier")?"Courier":-1!=l.indexOf("times")?"Times":-1!=l.indexOf("cursive")?"Cursive":-1!=l.indexOf("fantasy")?"Fantasy":(l.indexOf("serif"),"Serif"),this.pdf.setFont(a,h="bold"===o?"bold":"normal")}else{var p=(e=/\s*(\d+)(pt|px|em)\s+([\w "]+)\s*([\w "]+)?/).exec(t);if(null!=p){var u=p[1],d=p[3];(h=p[4])||(h="normal"),u="em"===r?Math.floor(parseFloat(n)*this.pdf.getFontSize()):Math.floor(parseFloat(u)),this.pdf.setFontSize(u),this.pdf.setFont(d,h)}}},setTextBaseline:function(t){this.ctx.textBaseline=t},getTextBaseline:function(){return this.ctx.textBaseline},setTextAlign:function(t){this.ctx.textAlign=t},getTextAlign:function(){return this.ctx.textAlign},setLineWidth:function(t){this.ctx.lineWidth=t,this.pdf.setLineWidth(t)},setLineCap:function(t){this.ctx.lineCap=t,this.pdf.setLineCap(t)},setLineJoin:function(t){this.ctx.lineJoin=t,this.pdf.setLineJoin(t)},moveTo:function(t,e){t=this._wrapX(t),e=this._wrapY(e);var i=this._matrix_map_point(this.ctx._transform,[t,e]),o={type:"mt",x:t=i[0],y:e=i[1]};this.path.push(o)},_wrapX:function(t){return this.pageWrapXEnabled?t%this.pageWrapX:t},_wrapY:function(t){return this.pageWrapYEnabled?(this._gotoPage(this._page(t)),(t-this.lastBreak)%this.pageWrapY):t},transform:function(t,e,i,o,n,r){this.ctx._transform=[t,e,i,o,n,r]},setTransform:function(t,e,i,o,n,r){this.ctx._transform=[t,e,i,o,n,r]},_getTransform:function(){return this.ctx._transform},lastBreak:0,pageBreaks:[],_page:function(t){if(this.pageWrapYEnabled){this.lastBreak=0;for(var e=0,i=0,o=0;o<this.pageBreaks.length;o++)if(t>=this.pageBreaks[o]){e++,0===this.lastBreak&&i++;var n=this.pageBreaks[o]-this.lastBreak;this.lastBreak=this.pageBreaks[o],i+=r=Math.floor(n/this.pageWrapY)}if(0===this.lastBreak){var r=Math.floor(t/this.pageWrapY)+1;i+=r}return i+e}return this.pdf.internal.getCurrentPageInfo().pageNumber},_gotoPage:function(t){},lineTo:function(t,e){t=this._wrapX(t),e=this._wrapY(e);var i=this._matrix_map_point(this.ctx._transform,[t,e]),o={type:"lt",x:t=i[0],y:e=i[1]};this.path.push(o)},bezierCurveTo:function(t,e,i,o,n,r){var s;t=this._wrapX(t),e=this._wrapY(e),i=this._wrapX(i),o=this._wrapY(o),n=this._wrapX(n),r=this._wrapY(r),n=(s=this._matrix_map_point(this.ctx._transform,[n,r]))[0],r=s[1];var a={type:"bct",x1:t=(s=this._matrix_map_point(this.ctx._transform,[t,e]))[0],y1:e=s[1],x2:i=(s=this._matrix_map_point(this.ctx._transform,[i,o]))[0],y2:o=s[1],x:n,y:r};this.path.push(a)},quadraticCurveTo:function(t,e,i,o){var n;t=this._wrapX(t),e=this._wrapY(e),i=this._wrapX(i),o=this._wrapY(o),i=(n=this._matrix_map_point(this.ctx._transform,[i,o]))[0],o=n[1];var r={type:"qct",x1:t=(n=this._matrix_map_point(this.ctx._transform,[t,e]))[0],y1:e=n[1],x:i,y:o};this.path.push(r)},arc:function(t,e,i,o,n,r){if(t=this._wrapX(t),e=this._wrapY(e),!this._matrix_is_identity(this.ctx._transform)){var s=this._matrix_map_point(this.ctx._transform,[t,e]);t=s[0],e=s[1];var a=this._matrix_map_point(this.ctx._transform,[0,0]),h=this._matrix_map_point(this.ctx._transform,[0,i]);i=Math.sqrt(Math.pow(h[0]-a[0],2)+Math.pow(h[1]-a[1],2))}this.path.push({type:"arc",x:t,y:e,radius:i,startAngle:o,endAngle:n,anticlockwise:r})},drawImage:function(t,e,i,o,n,r,s,a,h){void 0!==r&&(e=r,i=s,o=a,n=h),e=this._wrapX(e),i=this._wrapY(i);var l=this._matrix_map_rect(this.ctx._transform,{x:e,y:i,w:o,h:n}),p=(this._matrix_map_rect(this.ctx._transform,{x:r,y:s,w:a,h:h}),/data:image\/(\w+).*/i.exec(t));this.pdf.addImage(t,null!=p?p[1]:"png",l.x,l.y,l.w,l.h)},_matrix_multiply:function(t,e){var i=e[0],o=e[1],n=e[2],r=e[3],s=e[4],a=e[5],h=i*t[0]+o*t[2],l=n*t[0]+r*t[2],p=s*t[0]+a*t[2]+t[4];return o=i*t[1]+o*t[3],r=n*t[1]+r*t[3],a=s*t[1]+a*t[3]+t[5],[i=h,o,n=l,r,s=p,a]},_matrix_rotation:function(t){return Math.atan2(t[2],t[0])},_matrix_decompose:function(t){var e=t[0],i=t[1],o=t[2],n=t[3],r=Math.sqrt(e*e+i*i),s=(e/=r)*o+(i/=r)*n;o-=e*s,n-=i*s;var a=Math.sqrt(o*o+n*n);return s/=a,e*(n/=a)<i*(o/=a)&&(e=-e,i=-i,s=-s,r=-r),{scale:[r,0,0,a,0,0],translate:[1,0,0,1,t[4],t[5]],rotate:[e,i,-i,e,0,0],skew:[1,0,s,1,0,0]}},_matrix_map_point:function(t,e){var i=e[0],o=e[1];return[i*t[0]+o*t[2]+t[4],i*t[1]+o*t[3]+t[5]]},_matrix_map_point_obj:function(t,e){var i=this._matrix_map_point(t,[e.x,e.y]);return{x:i[0],y:i[1]}},_matrix_map_rect:function(t,e){var i=this._matrix_map_point(t,[e.x,e.y]),o=this._matrix_map_point(t,[e.x+e.w,e.y+e.h]);return{x:i[0],y:i[1],w:o[0]-i[0],h:o[1]-i[1]}},_matrix_is_identity:function(t){return 1==t[0]&&0==t[1]&&0==t[2]&&1==t[3]&&0==t[4]&&0==t[5]},rotate:function(t){var e=[Math.cos(t),Math.sin(t),-Math.sin(t),Math.cos(t),0,0];this.ctx._transform=this._matrix_multiply(this.ctx._transform,e)},scale:function(t,e){this.ctx._transform=this._matrix_multiply(this.ctx._transform,[t,0,0,e,0,0])},translate:function(t,e){this.ctx._transform=this._matrix_multiply(this.ctx._transform,[1,0,0,1,t,e])},stroke:function(){if(this.ctx._clip_path.length>0){var t;(t=window.outIntercept?"group"===window.outIntercept.type?window.outIntercept.stream:window.outIntercept:this.internal.getCurrentPage()).push("q");var e=this.path;this.path=this.ctx._clip_path,this.ctx._clip_path=[],this._stroke(!0),this.ctx._clip_path=this.path,this.path=e,this._stroke(!1),t.push("Q")}else this._stroke(!1)},_stroke:function(t){if(t||!this._isStrokeTransparent()){for(var e=[],i=this.path,o=0;o<i.length;o++){var n=i[o];switch(n.type){case"mt":e.push({start:n,deltas:[],abs:[]});break;case"lt":e[e.length-1].deltas.push(r=[n.x-i[o-1].x,n.y-i[o-1].y]),e[e.length-1].abs.push(n);break;case"bct":e[e.length-1].deltas.push(r=[n.x1-i[o-1].x,n.y1-i[o-1].y,n.x2-i[o-1].x,n.y2-i[o-1].y,n.x-i[o-1].x,n.y-i[o-1].y]);break;case"qct":var r=[i[o-1].x+2/3*(n.x1-i[o-1].x)-i[o-1].x,i[o-1].y+2/3*(n.y1-i[o-1].y)-i[o-1].y,n.x+2/3*(n.x1-n.x)-i[o-1].x,n.y+2/3*(n.y1-n.y)-i[o-1].y,n.x-i[o-1].x,n.y-i[o-1].y];e[e.length-1].deltas.push(r);break;case"arc":0==e.length&&e.push({start:{x:0,y:0},deltas:[],abs:[]}),e[e.length-1].arc=!0,e[e.length-1].abs.push(n)}}for(o=0;o<e.length;o++){var s;if(s=o==e.length-1?"s":null,e[o].arc)for(var a=e[o].abs,h=0;h<a.length;h++){var l=a[h],p=360*l.startAngle/(2*Math.PI),u=360*l.endAngle/(2*Math.PI);this.internal.arc2(this,d=l.x,c=l.y,l.radius,p,u,l.anticlockwise,s,t)}else{var d=e[o].start.x,c=e[o].start.y;t?(this.pdf.lines(e[o].deltas,d,c,null,null),this.pdf.clip_fixed()):this.pdf.lines(e[o].deltas,d,c,null,s)}}}},_isFillTransparent:function(){return this.ctx._isFillTransparent||0==this.globalAlpha},_isStrokeTransparent:function(){return this.ctx._isStrokeTransparent||0==this.globalAlpha},fill:function(t){if(this.ctx._clip_path.length>0){var e;(e=window.outIntercept?"group"===window.outIntercept.type?window.outIntercept.stream:window.outIntercept:this.internal.getCurrentPage()).push("q");var i=this.path;this.path=this.ctx._clip_path,this.ctx._clip_path=[],this._fill(t,!0),this.ctx._clip_path=this.path,this.path=i,this._fill(t,!1),e.push("Q")}else this._fill(t,!1)},_fill:function(t,e){if(!this._isFillTransparent()){var o,n="function"==typeof this.pdf.internal.newObject2;o=window.outIntercept?"group"===window.outIntercept.type?window.outIntercept.stream:window.outIntercept:this.internal.getCurrentPage();var r=[],s=window.outIntercept;if(n)switch(this.ctx.globalCompositeOperation){case"normal":case"source-over":break;case"destination-in":case"destination-out":var a=this.pdf.internal.newStreamObject(),h=this.pdf.internal.newObject2();h.push("<</Type /ExtGState"),h.push("/SMask <</S /Alpha /G "+a.objId+" 0 R>>"),h.push(">>"),this.pdf.internal.addGraphicsState(c="MASK"+h.objId,h.objId);var l="/"+c+" gs";o.splice(0,0,"q"),o.splice(1,0,l),o.push("Q"),window.outIntercept=a;break;default:var p="/"+this.pdf.internal.blendModeMap[this.ctx.globalCompositeOperation.toUpperCase()];p&&this.pdf.internal.out(p+" gs")}var u=this.ctx.globalAlpha;if(this.ctx._fillOpacity<1&&(u=this.ctx._fillOpacity),n){var d=this.pdf.internal.newObject2();d.push("<</Type /ExtGState"),d.push("/CA "+u),d.push("/ca "+u),d.push(">>");var c="GS_O_"+d.objId;this.pdf.internal.addGraphicsState(c,d.objId),this.pdf.internal.out("/"+c+" gs")}for(var f=this.path,y=0;y<f.length;y++){var g=f[y];switch(g.type){case"mt":r.push({start:g,deltas:[],abs:[]});break;case"lt":r[r.length-1].deltas.push(m=[g.x-f[y-1].x,g.y-f[y-1].y]),r[r.length-1].abs.push(g);break;case"bct":r[r.length-1].deltas.push(m=[g.x1-f[y-1].x,g.y1-f[y-1].y,g.x2-f[y-1].x,g.y2-f[y-1].y,g.x-f[y-1].x,g.y-f[y-1].y]);break;case"qct":var m=[f[y-1].x+2/3*(g.x1-f[y-1].x)-f[y-1].x,f[y-1].y+2/3*(g.y1-f[y-1].y)-f[y-1].y,g.x+2/3*(g.x1-g.x)-f[y-1].x,g.y+2/3*(g.y1-g.y)-f[y-1].y,g.x-f[y-1].x,g.y-f[y-1].y];r[r.length-1].deltas.push(m);break;case"arc":0===r.length&&r.push({deltas:[],abs:[]}),r[r.length-1].arc=!0,r[r.length-1].abs.push(g);break;case"close":r.push({close:!0})}}for(y=0;y<r.length;y++){var v;if(y==r.length-1?(v="f","evenodd"===t&&(v+="*")):v=null,r[y].close)this.pdf.internal.out("h"),this.pdf.internal.out("f");else if(r[y].arc){r[y].start&&this.internal.move2(this,r[y].start.x,r[y].start.y);for(var b=r[y].abs,w=0;w<b.length;w++){var x=b[w];if(void 0!==x.startAngle){var _=360*x.startAngle/(2*Math.PI),M=360*x.endAngle/(2*Math.PI),k=x.x,S=x.y;0===w&&this.internal.move2(this,k,S),this.internal.arc2(this,k,S,x.radius,_,M,x.anticlockwise,null,e),w===b.length-1&&r[y].start&&this.internal.line2(i,k=r[y].start.x,S=r[y].start.y)}else this.internal.line2(i,x.x,x.y)}}else k=r[y].start.x,S=r[y].start.y,e?(this.pdf.lines(r[y].deltas,k,S,null,null),this.pdf.clip_fixed()):this.pdf.lines(r[y].deltas,k,S,null,v)}window.outIntercept=s}},pushMask:function(){if("function"==typeof this.pdf.internal.newObject2){var t=this.pdf.internal.newStreamObject(),e=this.pdf.internal.newObject2();e.push("<</Type /ExtGState"),e.push("/SMask <</S /Alpha /G "+t.objId+" 0 R>>"),e.push(">>");var i="MASK"+e.objId;this.pdf.internal.addGraphicsState(i,e.objId),this.pdf.internal.out("/"+i+" gs")}else console.log("jsPDF v2 not enabled")},clip:function(){if(this.ctx._clip_path.length>0)for(var t=0;t<this.path.length;t++)this.ctx._clip_path.push(this.path[t]);else this.ctx._clip_path=this.path;this.path=[]},measureText:function(t){var e=this.pdf;return{getWidth:function(){var i=e.internal.getFontSize();return e.getStringUnitWidth(t)*i/e.internal.scaleFactor*1.3333},get width(){return this.getWidth(t)}}},_getBaseline:function(t){var e=parseInt(this.pdf.internal.getFontSize()),i=.25*e;switch(this.ctx.textBaseline){case"bottom":return t-i;case"top":return t+e;case"hanging":return t+e-i;case"middle":return t+e/2-i;case"ideographic":return t;case"alphabetic":default:return t}}};var i=t.context2d;Object.defineProperty(i,"fillStyle",{set:function(t){this.setFillStyle(t)},get:function(){return this.ctx.fillStyle}}),Object.defineProperty(i,"strokeStyle",{set:function(t){this.setStrokeStyle(t)},get:function(){return this.ctx.strokeStyle}}),Object.defineProperty(i,"lineWidth",{set:function(t){this.setLineWidth(t)},get:function(){return this.ctx.lineWidth}}),Object.defineProperty(i,"lineCap",{set:function(t){this.setLineCap(t)},get:function(){return this.ctx.lineCap}}),Object.defineProperty(i,"lineJoin",{set:function(t){this.setLineJoin(t)},get:function(){return this.ctx.lineJoin}}),Object.defineProperty(i,"miterLimit",{set:function(t){this.ctx.miterLimit=t},get:function(){return this.ctx.miterLimit}}),Object.defineProperty(i,"textBaseline",{set:function(t){this.setTextBaseline(t)},get:function(){return this.getTextBaseline()}}),Object.defineProperty(i,"textAlign",{set:function(t){this.setTextAlign(t)},get:function(){return this.getTextAlign()}}),Object.defineProperty(i,"font",{set:function(t){this.setFont(t)},get:function(){return this.ctx.font}}),Object.defineProperty(i,"globalCompositeOperation",{set:function(t){this.ctx.globalCompositeOperation=t},get:function(){return this.ctx.globalCompositeOperation}}),Object.defineProperty(i,"globalAlpha",{set:function(t){this.ctx.globalAlpha=t},get:function(){return this.ctx.globalAlpha}}),Object.defineProperty(i,"ignoreClearRect",{set:function(t){this.ctx.ignoreClearRect=t},get:function(){return this.ctx.ignoreClearRect}}),i.internal={},i.internal.rxRgb=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/,i.internal.rxRgba=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d\.]+)\s*\)/,i.internal.rxTransparent=/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/,i.internal.arc=function(t,e,i,o,n,r,s,a){for(var h=this.pdf.internal.scaleFactor,l=this.pdf.internal.pageSize.height,p=this.pdf.internal.f2,u=n*(Math.PI/180),d=r*(Math.PI/180),c=this.createArc(o,u,d,s),f=0;f<c.length;f++){var y=c[f];this.pdf.internal.out(0===f?[p((y.x1+e)*h),p((l-(y.y1+i))*h),"m",p((y.x2+e)*h),p((l-(y.y2+i))*h),p((y.x3+e)*h),p((l-(y.y3+i))*h),p((y.x4+e)*h),p((l-(y.y4+i))*h),"c"].join(" "):[p((y.x2+e)*h),p((l-(y.y2+i))*h),p((y.x3+e)*h),p((l-(y.y3+i))*h),p((y.x4+e)*h),p((l-(y.y4+i))*h),"c"].join(" ")),t._lastPoint={x:e,y:i}}null!==a&&this.pdf.internal.out(this.pdf.internal.getStyle(a))},i.internal.arc2=function(t,e,i,o,n,r,s,a,h){var l=e,p=i;h?(this.arc(t,l,p,o,n,r,s,null),this.pdf.clip_fixed()):this.arc(t,l,p,o,n,r,s,a)},i.internal.move2=function(t,e,i){var o=this.pdf.internal.scaleFactor,n=this.pdf.internal.pageSize.height,r=this.pdf.internal.f2;this.pdf.internal.out([r(e*o),r((n-i)*o),"m"].join(" ")),t._lastPoint={x:e,y:i}},i.internal.line2=function(t,e,i){var o=this.pdf.internal.scaleFactor,n=this.pdf.internal.pageSize.height,r=this.pdf.internal.f2,s={x:e,y:i};this.pdf.internal.out([r(s.x*o),r((n-s.y)*o),"l"].join(" ")),t._lastPoint=s},i.internal.createArc=function(t,e,i,o){var n=2*Math.PI,r=Math.PI/2,s=e;for((s<n||s>n)&&(s%=n),s<0&&(s=n+s);e>i;)e-=n;var a=Math.abs(i-e);a<n&&o&&(a=n-a);for(var h=[],l=o?-1:1,p=s;a>1e-5;){var u=p+l*Math.min(a,r);h.push(this.createSmallArc(t,p,u)),a-=Math.abs(u-p),p=u}return h},i.internal.getCurrentPage=function(){return this.pdf.internal.pages[this.pdf.internal.getCurrentPageInfo().pageNumber]},i.internal.createSmallArc=function(t,e,i){var o=(i-e)/2,n=t*Math.cos(o),r=t*Math.sin(o),s=n,a=-r,h=s*s+a*a,l=h+s*n+a*r,p=4/3*(Math.sqrt(2*h*l)-l)/(s*r-a*n),u=s-p*a,d=a+p*s,c=u,f=-d,y=o+e,g=Math.cos(y),m=Math.sin(y);return{x1:t*Math.cos(e),y1:t*Math.sin(e),x2:u*g-d*m,y2:u*m+d*g,x3:c*g-f*m,y3:c*m+f*g,x4:t*Math.cos(i),y4:t*Math.sin(i)}}}(e.API),function(e){var i,o,r,s,a,h,l,p,u,d,c,f,y,g,m,v,b,w,x,_;i=function(){function t(){}return function(e){return t.prototype=e,new t}}(),d=function(t){var e,i,o,n,r,s,a;for(i=0,o=t.length,e=void 0,n=!1,s=!1;!n&&i!==o;)(e=t[i]=t[i].trimLeft())&&(n=!0),i++;for(i=o-1;o&&!s&&-1!==i;)(e=t[i]=t[i].trimRight())&&(s=!0),i--;for(r=/\s+$/g,a=!0,i=0;i!==o;)"\u2028"!=t[i]&&(e=t[i].replace(/\s+/g," "),a&&(e=e.trimLeft()),e&&(a=r.test(e)),t[i]=e),i++;return t},f=function(t){var e,i,o;for(e=void 0,i=(o=t.split(",")).shift();!e&&i;)e=r[i.trim().toLowerCase()],i=o.shift();return e},y=function(t){var e;return(t="auto"===t?"0px":t).indexOf("em")>-1&&!isNaN(Number(t.replace("em","")))&&(t=18.719*Number(t.replace("em",""))+"px"),t.indexOf("pt")>-1&&!isNaN(Number(t.replace("pt","")))&&(t=1.333*Number(t.replace("pt",""))+"px"),(e=g[t])?e:g[t]=void 0!==(e={"xx-small":9,"x-small":11,small:13,medium:16,large:19,"x-large":23,"xx-large":28,auto:0}[{css_line_height_string:t}])?e/16:(e=parseFloat(t))?e/16:3===(e=t.match(/([\d\.]+)(px)/)).length?parseFloat(e[1])/16:1},u=function(t){var e,i,o;return o=function(e){var i;return i=function(t){return document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(t,null):t.currentStyle?t.currentStyle:t.style}(t),function(t){return t=t.replace(/-\D/g,function(t){return t.charAt(1).toUpperCase()}),i[t]}}(),i=void 0,(e={})["font-family"]=f(o("font-family"))||"times",e["font-style"]=s[o("font-style")]||"normal",e["text-align"]=a[o("text-align")]||"left","bold"===(i=h[o("font-weight")]||"normal")&&(e["font-style"]="normal"===e["font-style"]?i:i+e["font-style"]),e["font-size"]=y(o("font-size"))||1,e["line-height"]=y(o("line-height"))||1,e.display="inline"===o("display")?"inline":"block",e["margin-top"]=(i="block"===e.display)&&y(o("margin-top"))||0,e["margin-bottom"]=i&&y(o("margin-bottom"))||0,e["padding-top"]=i&&y(o("padding-top"))||0,e["padding-bottom"]=i&&y(o("padding-bottom"))||0,e["margin-left"]=i&&y(o("margin-left"))||0,e["margin-right"]=i&&y(o("margin-right"))||0,e["padding-left"]=i&&y(o("padding-left"))||0,e["padding-right"]=i&&y(o("padding-right"))||0,e["page-break-before"]=o("page-break-before")||"auto",e.float=l[o("cssFloat")]||"none",e.clear=p[o("clear")]||"none",e.color=o("color"),e},m=function(t,e,i){var o,n,r,s,a;if(r=!1,n=void 0,s=void 0,o=i["#"+t.id])if("function"==typeof o)r=o(t,e);else for(n=0,s=o.length;!r&&n!==s;)r=o[n](t,e),n++;if(o=i[t.nodeName],!r&&o)if("function"==typeof o)r=o(t,e);else for(n=0,s=o.length;!r&&n!==s;)r=o[n](t,e),n++;for(a=t.className?t.className.split(" "):[],n=0;n<a.length;n++)if(o=i["."+a[n]],!r&&o)if("function"==typeof o)r=o(t,e);else for(n=0,s=o.length;!r&&n!==s;)r=o[n](t,e),n++;return r},_=function(t,e){var i,o,n,r,s,a,h,l,p;for(i=[],o=[],n=0,p=t.rows[0].cells.length,h=t.clientWidth;n<p;)o[n]={name:(l=t.rows[0].cells[n]).textContent.toLowerCase().replace(/\s+/g,""),prompt:l.textContent.replace(/\r?\n/g,""),width:l.clientWidth/h*e.pdf.internal.pageSize.width},n++;for(n=1;n<t.rows.length;){for(a=t.rows[n],s={},r=0;r<a.cells.length;)s[o[r].name]=a.cells[r].textContent.replace(/\r?\n/g,""),r++;i.push(s),n++}return{rows:i,headers:o}};var M={SCRIPT:1,STYLE:1,NOSCRIPT:1,OBJECT:1,EMBED:1,SELECT:1},k=1;o=function(e,n,r){var s,a,h,l,p,d,c,f;for(a=e.childNodes,s=void 0,(p="block"===(h=u(e)).display)&&(n.setBlockBoundary(),n.setBlockStyle(h)),l=0,d=a.length;l<d;){if("object"===(void 0===(s=a[l])?"undefined":t(s))){if(n.executeWatchFunctions(s),1===s.nodeType&&"HEADER"===s.nodeName){var y=s,g=n.pdf.margins_doc.top;n.pdf.internal.events.subscribe("addPage",function(t){n.y=g,o(y,n,r),n.pdf.margins_doc.top=n.y+10,n.y+=10},!1)}if(8===s.nodeType&&"#comment"===s.nodeName)~s.textContent.indexOf("ADD_PAGE")&&(n.pdf.addPage(),n.y=n.pdf.margins_doc.top);else if(1!==s.nodeType||M[s.nodeName])if(3===s.nodeType){var b=s.nodeValue;if(s.nodeValue&&"LI"===s.parentNode.nodeName)if("OL"===s.parentNode.parentNode.nodeName)b=k+++". "+b;else{var w=h["font-size"],x=(3-.75*w)*n.pdf.internal.scaleFactor,S=.75*w*n.pdf.internal.scaleFactor,C=1.74*w/n.pdf.internal.scaleFactor;f=function(t,e){this.pdf.circle(t+x,e+S,C,"FD")}}16&s.ownerDocument.body.compareDocumentPosition(s)&&n.addText(b,h)}else"string"==typeof s&&n.addText(s,h);else{var E;if("IMG"===s.nodeName){var T=s.getAttribute("src");E=v[n.pdf.sHashCode(T)||T]}if(E){n.pdf.internal.pageSize.height-n.pdf.margins_doc.bottom<n.y+s.height&&n.y>n.pdf.margins_doc.top&&(n.pdf.addPage(),n.y=n.pdf.margins_doc.top,n.executeWatchFunctions(s));var P=u(s),A=n.x,O=12/n.pdf.internal.scaleFactor,D=(P["margin-left"]+P["padding-left"])*O,I=(P["margin-right"]+P["padding-right"])*O,R=(P["margin-top"]+P["padding-top"])*O,N=(P["margin-bottom"]+P["padding-bottom"])*O;n.pdf.addImage(E,A+=void 0!==P.float&&"right"===P.float?n.settings.width-s.width-I:D,n.y+R,s.width,s.height),E=void 0,"right"===P.float||"left"===P.float?(n.watchFunctions.push((function(t,e,i,o){return n.y>=e?(n.x+=t,n.settings.width+=i,!0):!!(o&&1===o.nodeType&&!M[o.nodeName]&&n.x+o.width>n.pdf.margins_doc.left+n.pdf.margins_doc.width)&&(n.x+=t,n.y=e,n.settings.width+=i,!0)}).bind(this,"left"===P.float?-s.width-D-I:0,n.y+s.height+R+N,s.width)),n.watchFunctions.push((function(t,e,i){return!(n.y<t&&e===n.pdf.internal.getNumberOfPages())||1===i.nodeType&&"both"===u(i).clear&&(n.y=t,!0)}).bind(this,n.y+s.height,n.pdf.internal.getNumberOfPages())),n.settings.width-=s.width+D+I,"left"===P.float&&(n.x+=s.width+D+I)):n.y+=s.height+R+N}else if("TABLE"===s.nodeName)c=_(s,n),n.y+=10,n.pdf.table(n.x,n.y,c.rows,c.headers,{autoSize:!1,printHeaders:r.printHeaders,margins:n.pdf.margins_doc,css:u(s)}),n.y=n.pdf.lastCellPos.y+n.pdf.lastCellPos.h+20;else if("OL"===s.nodeName||"UL"===s.nodeName)k=1,m(s,n,r)||o(s,n,r),n.y+=10;else if("LI"===s.nodeName){var L=n.x;n.x+=20/n.pdf.internal.scaleFactor,n.y+=3,m(s,n,r)||o(s,n,r),n.x=L}else"BR"===s.nodeName?(n.y+=h["font-size"]*n.pdf.internal.scaleFactor,n.addText("\u2028",i(h))):m(s,n,r)||o(s,n,r)}}l++}if(r.outY=n.y,p)return n.setBlockBoundary(f)},v={},b=function(t,e,i,o){function n(){e.pdf.internal.events.publish("imagesLoaded"),o(r)}for(var r,s=t.getElementsByTagName("img"),a=s.length,h=0;a--;)!function(t,i,o){if(t){var s=new Image;r=++h,s.crossOrigin="",s.onerror=s.onload=function(){if(s.complete&&(0===s.src.indexOf("data:image/")&&(s.width=i||s.width||0,s.height=o||s.height||0),s.width+s.height)){var r=e.pdf.sHashCode(t)||t;v[r]=v[r]||s}--h||n()},s.src=t}}(s[a].getAttribute("src"),s[a].width,s[a].height);return h||n()},w=function(t,e,i){var n=t.getElementsByTagName("footer");if(n.length>0){n=n[0];var r=e.pdf.internal.write,s=e.y;e.pdf.internal.write=function(){},o(n,e,i);var a=Math.ceil(e.y-s)+5;e.y=s,e.pdf.internal.write=r,e.pdf.margins_doc.bottom+=a;for(var h=function(t){var r=void 0!==t?t.pageNumber:1,s=e.y;e.y=e.pdf.internal.pageSize.height-e.pdf.margins_doc.bottom,e.pdf.margins_doc.bottom-=a;for(var h=n.getElementsByTagName("span"),l=0;l<h.length;++l)(" "+h[l].className+" ").replace(/[\n\t]/g," ").indexOf(" pageCounter ")>-1&&(h[l].innerHTML=r),(" "+h[l].className+" ").replace(/[\n\t]/g," ").indexOf(" totalPages ")>-1&&(h[l].innerHTML="###jsPDFVarTotalPages###");o(n,e,i),e.pdf.margins_doc.bottom+=a,e.y=s},l=n.getElementsByTagName("span"),p=0;p<l.length;++p)(" "+l[p].className+" ").replace(/[\n\t]/g," ").indexOf(" totalPages ")>-1&&e.pdf.internal.events.subscribe("htmlRenderingFinished",e.pdf.putTotalPages.bind(e.pdf,"###jsPDFVarTotalPages###"),!0);e.pdf.internal.events.subscribe("addPage",h,!1),h(),M.FOOTER=1}},x=function(t,e,i,n,r,s){if(!e)return!1;"string"==typeof e||e.parentNode||(e=""+e.innerHTML),"string"==typeof e&&(e=function(t){var e,i,o,n;return o="jsPDFhtmlText"+Date.now().toString()+(1e3*Math.random()).toFixed(0),n="position: absolute !important;clip: rect(1px 1px 1px 1px); /* IE6, IE7 */clip: rect(1px, 1px, 1px, 1px);padding:0 !important;border:0 !important;height: 1px !important;width: 1px !important; top:auto;left:-100px;overflow: hidden;",(i=document.createElement("div")).style.cssText=n,i.innerHTML='<iframe style="height:1px;width:1px" name="'+o+'" />',document.body.appendChild(i),(e=window.frames[o]).document.open(),e.document.writeln(t),e.document.close(),e.document.body}(e.replace(/<\/?script[^>]*?>/gi,"")));var a,h=new c(t,i,n,r);return b.call(this,e,h,r.elementHandlers,function(t){w(e,h,r.elementHandlers),o(e,h,r.elementHandlers),h.pdf.internal.events.publish("htmlRenderingFinished"),a=h.dispose(),"function"==typeof s?s(a):t&&console.error("jsPDF Warning: rendering issues? provide a callback to fromHTML!")}),a||{x:h.x,y:h.y}},(c=function(t,e,i,o){return this.pdf=t,this.x=e,this.y=i,this.settings=o,this.watchFunctions=[],this.init(),this}).prototype.init=function(){return this.paragraph={text:[],style:[]},this.pdf.internal.write("q")},c.prototype.dispose=function(){return this.pdf.internal.write("Q"),{x:this.x,y:this.y,ready:!0}},c.prototype.executeWatchFunctions=function(t){var e=!1,i=[];if(this.watchFunctions.length>0){for(var o=0;o<this.watchFunctions.length;++o)!0===this.watchFunctions[o](t)?e=!0:i.push(this.watchFunctions[o]);this.watchFunctions=i}return e},c.prototype.splitFragmentsIntoLines=function(t,e){var o,n,r,s,a,h,l,p,u,d,c,f,y,g;for(d=this.pdf.internal.scaleFactor,s={},n=void 0,u=void 0,r=void 0,a=void 0,g=void 0,p=void 0,l=void 0,h=void 0,f=[c=[]],o=0,y=this.settings.width;t.length;)if(a=t.shift(),g=e.shift(),a)if((r=s[(n=g["font-family"])+(u=g["font-style"])])||(r=this.pdf.internal.getFont(n,u).metadata.Unicode,s[n+u]=r),l=this.pdf.getStringUnitWidth(a,p={widths:r.widths,kerning:r.kerning,fontSize:12*g["font-size"],textIndent:o})*p.fontSize/d,"\u2028"==a)f.push(c=[]);else if(o+l>y){for(h=this.pdf.splitTextToSize(a,y,p),c.push([h.shift(),g]);h.length;)c=[[h.shift(),g]],f.push(c);o=this.pdf.getStringUnitWidth(c[0][0],p)*p.fontSize/d}else c.push([a,g]),o+=l;if(void 0!==g["text-align"]&&("center"===g["text-align"]||"right"===g["text-align"]||"justify"===g["text-align"]))for(var m=0;m<f.length;++m){var v=this.pdf.getStringUnitWidth(f[m][0][0],p)*p.fontSize/d;m>0&&(f[m][0][1]=i(f[m][0][1]));var b=y-v;if("right"===g["text-align"])f[m][0][1]["margin-left"]=b;else if("center"===g["text-align"])f[m][0][1]["margin-left"]=b/2;else if("justify"===g["text-align"]){var w=f[m][0][0].split(" ").length-1;f[m][0][1]["word-spacing"]=b/w,m===f.length-1&&(f[m][0][1]["word-spacing"]=0)}}return f},c.prototype.RenderTextFragment=function(t,e){var i,o;o=0,this.pdf.internal.pageSize.height-this.pdf.margins_doc.bottom<this.y+this.pdf.internal.getFontSize()&&(this.pdf.internal.write("ET","Q"),this.pdf.addPage(),this.y=this.pdf.margins_doc.top,this.pdf.internal.write("q","BT 0 g",this.pdf.internal.getCoordinateString(this.x),this.pdf.internal.getVerticalCoordinateString(this.y),e.color,"Td"),o=Math.max(o,e["line-height"],e["font-size"]),this.pdf.internal.write(0,(-12*o).toFixed(2),"Td")),i=this.pdf.internal.getFont(e["font-family"],e["font-style"]);var n=this.getPdfColor(e.color);n!==this.lastTextColor&&(this.pdf.internal.write(n),this.lastTextColor=n),void 0!==e["word-spacing"]&&e["word-spacing"]>0&&this.pdf.internal.write(e["word-spacing"].toFixed(2),"Tw"),this.pdf.internal.write("/"+i.id,(12*e["font-size"]).toFixed(2),"Tf","("+this.pdf.internal.pdfEscape(t)+") Tj"),void 0!==e["word-spacing"]&&this.pdf.internal.write(0,"Tw")},c.prototype.getPdfColor=function(t){var e,i,o,r=/rgb\s*\(\s*(\d+),\s*(\d+),\s*(\d+\s*)\)/.exec(t);if(null!=r?(e=parseInt(r[1]),i=parseInt(r[2]),o=parseInt(r[3])):("#"!=t.charAt(0)&&((t=n.colorNameToHex(t))||(t="#000000")),e=t.substring(1,3),e=parseInt(e,16),i=t.substring(3,5),i=parseInt(i,16),o=t.substring(5,7),o=parseInt(o,16)),"string"==typeof e&&/^#[0-9A-Fa-f]{6}$/.test(e)){var s=parseInt(e.substr(1),16);e=s>>16&255,i=s>>8&255,o=255&s}var a=this.f3;return 0===e&&0===i&&0===o||void 0===i?a(e/255)+" g":[a(e/255),a(i/255),a(o/255),"rg"].join(" ")},c.prototype.f3=function(t){return t.toFixed(3)},c.prototype.renderParagraph=function(t){var e,i,o,n,r,s,a,h,l,p,u,c,f;if(o=d(this.paragraph.text),c=this.paragraph.style,this.paragraph={text:[],style:[],blockstyle:{},priorblockstyle:e=this.paragraph.blockstyle},o.join("").trim()){a=this.splitFragmentsIntoLines(o,c),s=void 0,h=void 0,i=12/this.pdf.internal.scaleFactor,this.priorMarginBottom=this.priorMarginBottom||0,u=(Math.max((e["margin-top"]||0)-this.priorMarginBottom,0)+(e["padding-top"]||0))*i,p=((e["margin-bottom"]||0)+(e["padding-bottom"]||0))*i,this.priorMarginBottom=e["margin-bottom"]||0,"always"===e["page-break-before"]&&(this.pdf.addPage(),this.y=0,u=((e["margin-top"]||0)+(e["padding-top"]||0))*i),l=this.pdf.internal.write,n=void 0,r=void 0,this.y+=u,l("q","BT 0 g",this.pdf.internal.getCoordinateString(this.x),this.pdf.internal.getVerticalCoordinateString(this.y),"Td");for(var y=0;a.length;){for(h=0,n=0,r=(s=a.shift()).length;n!==r;)s[n][0].trim()&&(h=Math.max(h,s[n][1]["line-height"],s[n][1]["font-size"]),f=7*s[n][1]["font-size"]),n++;var g=0,m=0;for(void 0!==s[0][1]["margin-left"]&&s[0][1]["margin-left"]>0&&(g=(m=this.pdf.internal.getCoordinateString(s[0][1]["margin-left"]))-y,y=m),l(g+Math.max(e["margin-left"]||0,0)*i,(-12*h).toFixed(2),"Td"),n=0,r=s.length;n!==r;)s[n][0]&&this.RenderTextFragment(s[n][0],s[n][1]),n++;if(this.y+=h*i,this.executeWatchFunctions(s[0][1])&&a.length>0){var v=[],b=[];a.forEach(function(t){for(var e=0,i=t.length;e!==i;)t[e][0]&&(v.push(t[e][0]+" "),b.push(t[e][1])),++e}),a=this.splitFragmentsIntoLines(d(v),b),l("ET","Q"),l("q","BT 0 g",this.pdf.internal.getCoordinateString(this.x),this.pdf.internal.getVerticalCoordinateString(this.y),"Td")}}return t&&"function"==typeof t&&t.call(this,this.x-9,this.y-f/2),l("ET","Q"),this.y+=p}},c.prototype.setBlockBoundary=function(t){return this.renderParagraph(t)},c.prototype.setBlockStyle=function(t){return this.paragraph.blockstyle=t},c.prototype.addText=function(t,e){return this.paragraph.text.push(t),this.paragraph.style.push(e)},r={helvetica:"helvetica","sans-serif":"helvetica","times new roman":"times",serif:"times",times:"times",monospace:"courier",courier:"courier"},h={100:"normal",200:"normal",300:"normal",400:"normal",500:"bold",600:"bold",700:"bold",800:"bold",900:"bold",normal:"normal",bold:"bold",bolder:"bold",lighter:"normal"},s={normal:"normal",italic:"italic",oblique:"italic"},a={left:"left",right:"right",center:"center",justify:"justify"},l={none:"none",right:"right",left:"left"},p={none:"none",both:"both"},g={normal:1},e.fromHTML=function(t,e,i,o,n,r){return this.margins_doc=r||{top:0,bottom:0},o||(o={}),o.elementHandlers||(o.elementHandlers={}),x(this,t,isNaN(e)?4:e,isNaN(i)?4:i,o,n)}}(e.API),function(t){var i,o,n;e.API.addJS=function(t){return n=t,this.internal.events.subscribe("postPutResources",function(t){i=this.internal.newObject(),this.internal.write("<< /Names [(EmbeddedJS) "+(i+1)+" 0 R] >>","endobj"),o=this.internal.newObject(),this.internal.write("<< /S /JavaScript /JS (",n,") >>","endobj")}),this.internal.events.subscribe("putCatalog",function(){void 0!==i&&void 0!==o&&this.internal.write("/Names <</JavaScript "+i+" 0 R>>")}),this}}(),function(t){t.events.push(["postPutResources",function(){var t=this,e=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=t.outline.render().split(/\r\n/),o=0;o<i.length;o++){var n=i[o],r=e.exec(n);null!=r&&t.internal.newObjectDeferredBegin(r[1]),t.internal.write(n)}if(this.outline.createNamedDestinations){var s=this.internal.pages.length,a=[];for(o=0;o<s;o++){var h=t.internal.newObject();a.push(h);var l=t.internal.getPageInfo(o+1);t.internal.write("<< /D["+l.objId+" 0 R /XYZ null null null]>> endobj")}var p=t.internal.newObject();for(t.internal.write("<< /Names [ "),o=0;o<a.length;o++)t.internal.write("(page_"+(o+1)+")"+a[o]+" 0 R");t.internal.write(" ] >>","endobj"),t.internal.newObject(),t.internal.write("<< /Dests "+p+" 0 R"),t.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var t=this;t.outline.root.children.length>0&&(t.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&t.internal.write("/Names "+namesOid+" 0 R"))}]),t.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(t,e,i){var o={title:e,options:i,children:[]};return null==t&&(t=this.root),t.children.push(o),o},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(e){e.id=t.internal.newObjectDeferred();for(var i=0;i<e.children.length;i++)this.genIds_r(e.children[i])},t.outline.renderRoot=function(t){this.objStart(t),this.line("/Type /Outlines"),t.children.length>0&&(this.line("/First "+this.makeRef(t.children[0])),this.line("/Last "+this.makeRef(t.children[t.children.length-1]))),this.line("/Count "+this.count_r({count:0},t)),this.objEnd()},t.outline.renderItems=function(e){for(n=0;n<e.children.length;n++){this.objStart(r=e.children[n]),this.line("/Title "+this.makeString(r.title)),this.line("/Parent "+this.makeRef(e)),n>0&&this.line("/Prev "+this.makeRef(e.children[n-1])),n<e.children.length-1&&this.line("/Next "+this.makeRef(e.children[n+1])),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1])));var i=this.count=this.count_r({count:0},r);if(i>0&&this.line("/Count "+i),r.options&&r.options.pageNumber){var o=t.internal.getPageInfo(r.options.pageNumber);this.line("/Dest ["+o.objId+" 0 R /XYZ 0 "+this.ctx.pdf.internal.pageSize.height+" 0]")}this.objEnd()}for(var n=0;n<e.children.length;n++){var r=e.children[n];this.renderItems(r)}},t.outline.line=function(t){this.ctx.val+=t+"\r\n"},t.outline.makeRef=function(t){return t.id+" 0 R"},t.outline.makeString=function(e){return"("+t.internal.pdfEscape(e)+")"},t.outline.objStart=function(t){this.ctx.val+="\r\n"+t.id+" 0 obj\r\n<<\r\n"},t.outline.objEnd=function(t){this.ctx.val+=">> \r\nendobj\r\n"},t.outline.count_r=function(t,e){for(var i=0;i<e.children.length;i++)t.count++,this.count_r(t,e.children[i]);return t.count}}])}(e.API),function(t){var e=function(){return"function"!=typeof PNG||"function"!=typeof a},i=function(e){return e!==t.image_compression.NONE&&o()},o=function(){var t="function"==typeof r;if(!t)throw new Error("requires deflate.js for compression");return t},n=function(e,i,o,n){var a=5,p=d;switch(n){case t.image_compression.FAST:a=3,p=u;break;case t.image_compression.MEDIUM:a=6,p=c;break;case t.image_compression.SLOW:a=9,p=f}e=l(e,i,o,p);var y=new Uint8Array(s(a)),g=h(e),m=new r(a),v=m.append(e),b=m.flush(),w=y.length+v.length+b.length,x=new Uint8Array(w+4);return x.set(y),x.set(v,y.length),x.set(b,y.length+v.length),x[w++]=g>>>24&255,x[w++]=g>>>16&255,x[w++]=g>>>8&255,x[w++]=255&g,t.arrayBufferToBinaryString(x)},s=function(t,e){var i=Math.LOG2E*Math.log(32768)-8<<4|8,o=i<<8;return o|=Math.min(3,(e-1&255)>>1)<<6,o|=0,[i,255&(o+=31-o%31)]},h=function(t,e){for(var i,o=1,n=0,r=t.length,s=0;r>0;){r-=i=r>e?e:r;do{n+=o+=t[s++]}while(--i);o%=65521,n%=65521}return(n<<16|o)>>>0},l=function(t,e,i,o){for(var n,r,s,a=t.length/e,h=new Uint8Array(t.length+a),l=g(),p=0;p<a;p++){if(n=t.subarray(s=p*e,s+e),o)h.set(o(n,i,r),s+p);else{for(var u=0,d=l.length,c=[];u<d;u++)c[u]=l[u](n,i,r);var f=m(c.concat());h.set(c[f],s+p)}r=n}return h},p=function(t,e,i){var o=Array.apply([],t);return o.unshift(0),o},u=function(t,e,i){var o=[],n=0,r=t.length;for(o[0]=1;n<r;n++)o[n+1]=t[n]-(t[n-e]||0)+256&255;return o},d=function(t,e,i){var o=[],n=0,r=t.length;for(o[0]=2;n<r;n++)o[n+1]=t[n]-(i&&i[n]||0)+256&255;return o},c=function(t,e,i){var o=[],n=0,r=t.length;for(o[0]=3;n<r;n++)o[n+1]=t[n]+256-((t[n-e]||0)+(i&&i[n]||0)>>>1)&255;return o},f=function(t,e,i){var o,n=[],r=0,s=t.length;for(n[0]=4;r<s;r++)o=y(t[r-e]||0,i&&i[r]||0,i&&i[r-e]||0),n[r+1]=t[r]-o+256&255;return n},y=function(t,e,i){var o=t+e-i,n=Math.abs(o-t),r=Math.abs(o-e),s=Math.abs(o-i);return n<=r&&n<=s?t:r<=s?e:i},g=function(){return[p,u,d,c,f]},m=function(t){for(var e,i,o,n=0,r=t.length;n<r;)((e=v(t[n].slice(1)))<i||!i)&&(i=e,o=n),n++;return o},v=function(t){for(var e=0,i=t.length,o=0;e<i;)o+=Math.abs(t[e++]);return o},b=function(e){var i;switch(e){case t.image_compression.FAST:i=11;break;case t.image_compression.MEDIUM:i=13;break;case t.image_compression.SLOW:i=14;break;default:i=12}return i};t.processPNG=function(t,o,r,s,a){var h,l,p,u,d,c,f=this.color_spaces.DEVICE_RGB,y=this.decode.FLATE_DECODE,g=8;if(this.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.isArrayBufferView(t)){if(e())throw new Error("PNG support requires png.js and zlib.js");if(t=(h=new PNG(t)).imgData,g=h.bits,f=h.colorSpace,u=h.colors,-1!==[4,6].indexOf(h.colorType)){if(8===h.bits)for(var m,v=(A=32==h.pixelBitlength?new Uint32Array(h.decodePixels().buffer):16==h.pixelBitlength?new Uint16Array(h.decodePixels().buffer):new Uint8Array(h.decodePixels().buffer)).length,w=new Uint8Array(v*h.colors),x=new Uint8Array(v),_=h.pixelBitlength-h.bits,M=0,k=0;M<v;M++){for(S=A[M],m=0;m<_;)w[k++]=S>>>m&255,m+=h.bits;x[M]=S>>>m&255}if(16===h.bits){v=(A=new Uint32Array(h.decodePixels().buffer)).length,w=new Uint8Array(v*(32/h.pixelBitlength)*h.colors),x=new Uint8Array(v*(32/h.pixelBitlength));for(var S,C=h.colors>1,E=(M=0,k=0,0);M<v;)S=A[M++],w[k++]=S>>>0&255,C&&(w[k++]=S>>>16&255,S=A[M++],w[k++]=S>>>0&255),x[E++]=S>>>16&255;g=8}i(s)?(t=n(w,h.width*h.colors,h.colors,s),c=n(x,h.width,1,s)):(t=w,c=x,y=null)}if(3===h.colorType&&(f=this.color_spaces.INDEXED,d=h.palette,h.transparency.indexed)){var T=h.transparency.indexed,P=0;for(M=0,v=T.length;M<v;++M)P+=T[M];if((P/=255)==v-1&&-1!==T.indexOf(0))p=[T.indexOf(0)];else if(P!==v){var A=h.decodePixels();for(x=new Uint8Array(A.length),M=0,v=A.length;M<v;M++)x[M]=T[A[M]];c=n(x,h.width,1)}}var O=b(s);return l=y===this.decode.FLATE_DECODE?"/Predictor "+O+" /Colors "+u+" /BitsPerComponent "+g+" /Columns "+h.width:"/Colors "+u+" /BitsPerComponent "+g+" /Columns "+h.width,(this.isArrayBuffer(t)||this.isArrayBufferView(t))&&(t=this.arrayBufferToBinaryString(t)),(c&&this.isArrayBuffer(c)||this.isArrayBufferView(c))&&(c=this.arrayBufferToBinaryString(c)),this.createImageInfo(t,h.width,h.height,f,g,y,o,r,l,p,d,c,O)}throw new Error("Unsupported PNG image data, try using JPEG instead.")}}(e.API),e.API.autoPrint=function(){var t;return this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.write("<< /S/Named /Type/Action /N/Print >>","endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.write("/OpenAction "+t+" 0 R")}),this},function(t){var e=t.getCharWidthsArray=function(t,e){e||(e={});var i,o,n,r=e.widths?e.widths:this.internal.getFont().metadata.Unicode.widths,s=r.fof?r.fof:1,a=e.kerning?e.kerning:this.internal.getFont().metadata.Unicode.kerning,h=a.fof?a.fof:1,l=0,p=r[0]||s,u=[];for(i=0,o=t.length;i<o;i++)n=t.charCodeAt(i),u.push((r[n]||p)/s+(a[n]&&a[n][l]||0)/h),l=n;return u},i=function(t){for(var e=t.length,i=0;e;)i+=t[--e];return i},o=t.getStringUnitWidth=function(t,o){return i(e.call(this,t,o))},n=function(t,e,i,o){for(var n=[],r=0,s=t.length,a=0;r!==s&&a+e[r]<i;)a+=e[r],r++;n.push(t.slice(0,r));var h=r;for(a=0;r!==s;)a+e[r]>o&&(n.push(t.slice(h,r)),a=0,h=r),a+=e[r],r++;return h!==r&&n.push(t.slice(h,r)),n},r=function(t,r,s){s||(s={});var a,h,l,p,u,d,c=[],f=[c],y=s.textIndent||0,g=0,m=0,v=t.split(" "),b=e(" ",s)[0];if(d=-1===s.lineIndent?v[0].length+2:s.lineIndent||0){var w=Array(d).join(" "),x=[];v.map(function(t){(t=t.split(/\s*\n/)).length>1?x=x.concat(t.map(function(t,e){return(e&&t.length?"\n":"")+t})):x.push(t[0])}),v=x,d=o(w,s)}for(l=0,p=v.length;l<p;l++){var _=0;if(a=v[l],d&&"\n"==a[0]&&(a=a.substr(1),_=1),h=e(a,s),y+g+(m=i(h))>r||_){if(m>r){for(u=n(a,h,r-(y+g),r),c.push(u.shift()),c=[u.pop()];u.length;)f.push([u.shift()]);m=i(h.slice(a.length-c[0].length))}else c=[a];f.push(c),y=m+d,g=b}else c.push(a),y+=g+m,g=b}if(d)M=function(t,e){return(e?w:"")+t.join(" ")};else var M=function(t){return t.join(" ")};return f.map(M)};t.splitTextToSize=function(t,e,i){i||(i={});var o,n=i.fontSize||this.internal.getFontSize(),s=(function(t){var e={0:1},i={};if(t.widths&&t.kerning)return{widths:t.widths,kerning:t.kerning};var o=this.internal.getFont(t.fontName,t.fontStyle);return o.metadata.Unicode?{widths:o.metadata.Unicode.widths||e,kerning:o.metadata.Unicode.kerning||i}:{widths:e,kerning:i}}).call(this,i);o=Array.isArray(t)?t:t.split(/\r?\n/);var a=1*this.internal.scaleFactor*e/n;s.textIndent=i.textIndent?1*i.textIndent*this.internal.scaleFactor/n:0,s.lineIndent=i.lineIndent;var h,l,p=[];for(h=0,l=o.length;h<l;h++)p=p.concat(r(o[h],a,s));return p}}(e.API),function(t){var e=function(t){for(var e={},i=0;i<"klmnopqrstuvwxyz".length;i++)e["klmnopqrstuvwxyz"[i]]="0123456789abcdef"[i];var o,n,r,s,a={},h=1,l=a,p=[],u="",d="",c=t.length-1;for(i=1;i!=c;)s=t[i],i+=1,"'"==s?o?(r=o.join(""),o=void 0):o=[]:o?o.push(s):"{"==s?(p.push([l,r]),l={},r=void 0):"}"==s?((n=p.pop())[0][n[1]]=l,r=void 0,l=n[0]):"-"==s?h=-1:void 0===r?e.hasOwnProperty(s)?(u+=e[s],r=parseInt(u,16)*h,h=1,u=""):u+=s:e.hasOwnProperty(s)?(d+=e[s],l[r]=parseInt(d,16)*h,h=1,r=void 0,d=""):d+=s;return a},i={codePages:["WinAnsiEncoding"],WinAnsiEncoding:e("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},o={Unicode:{Courier:i,"Courier-Bold":i,"Courier-BoldOblique":i,"Courier-Oblique":i,Helvetica:i,"Helvetica-Bold":i,"Helvetica-BoldOblique":i,"Helvetica-Oblique":i,"Times-Roman":i,"Times-Bold":i,"Times-BoldItalic":i,"Times-Italic":i}},n={Unicode:{"Courier-Oblique":e("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":e("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":e("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:e("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":e("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":e("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Helvetica:e("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":e("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),"Courier-Bold":e("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":e("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":e("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":e("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(t){var e,i,r;(e=n.Unicode[t.PostScriptName])&&((i=t.metadata.Unicode?t.metadata.Unicode:t.metadata.Unicode={}).widths=e.widths,i.kerning=e.kerning),(r=o.Unicode[t.PostScriptName])&&((i=t.metadata.Unicode?t.metadata.Unicode:t.metadata.Unicode={}).encoding=r,r.codePages&&r.codePages.length&&(t.encoding=r.codePages[0]))}])}(e.API),e.API.addSVG=function(t,e,i,o,n){if(void 0===e||void 0===i)throw new Error("addSVG needs values for 'x' and 'y'");var r=function(t,e){var i=(e.contentWindow||e.contentDocument).document;return i.write(t),i.close(),i.getElementsByTagName("svg")[0]}(t,function(t){var e=t.createElement("iframe");return function(t,e){var i=e.createElement("style");i.type="text/css",i.styleSheet?i.styleSheet.cssText=t:i.appendChild(e.createTextNode(t)),e.getElementsByTagName("head")[0].appendChild(i)}(".jsPDF_sillysvg_iframe {display:none;position:absolute;}",t),e.name="childframe",e.setAttribute("width",0),e.setAttribute("height",0),e.setAttribute("frameborder","0"),e.setAttribute("scrolling","no"),e.setAttribute("seamless","seamless"),e.setAttribute("class","jsPDF_sillysvg_iframe"),t.body.appendChild(e),e}(document)),s=[1,1],a=parseFloat(r.getAttribute("width")),h=parseFloat(r.getAttribute("height"));a&&h&&(o&&n?s=[o/a,n/h]:o?s=[o/a,o/a]:n&&(s=[n/h,n/h]));var l,p,u,d,c=r.childNodes;for(l=0,p=c.length;l<p;l++)(u=c[l]).tagName&&"PATH"===u.tagName.toUpperCase()&&((d=function(t){for(var e=parseFloat(t[1]),i=parseFloat(t[2]),o=[],n=3,r=t.length;n<r;)"c"===t[n]?(o.push([parseFloat(t[n+1]),parseFloat(t[n+2]),parseFloat(t[n+3]),parseFloat(t[n+4]),parseFloat(t[n+5]),parseFloat(t[n+6])]),n+=7):"l"===t[n]?(o.push([parseFloat(t[n+1]),parseFloat(t[n+2])]),n+=3):n+=1;return[e,i,o]}(u.getAttribute("d").split(" ")))[0]=d[0]*s[0]+e,d[1]=d[1]*s[1]+i,this.lines.call(this,d[2],d[0],d[1],s));return this},e.API.putTotalPages=function(t){for(var e=new RegExp(t,"g"),i=1;i<=this.internal.getNumberOfPages();i++)for(var o=0;o<this.internal.pages[i].length;o++)this.internal.pages[i][o]=this.internal.pages[i][o].replace(e,this.internal.getNumberOfPages());return this},function(t){var i="",o="",n="";e.API.addMetadata=function(t,e){return o=e||"http://jspdf.default.namespaceuri/",i=t,this.internal.events.subscribe("postPutResources",function(){if(i){var t='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+o+'"><jspdf:metadata>',e=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),r=unescape(encodeURIComponent(t)),s=unescape(encodeURIComponent(i)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),h=unescape(encodeURIComponent("</x:xmpmeta>")),l=r.length+s.length+a.length+e.length+h.length;n=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+l+" >>"),this.internal.write("stream"),this.internal.write(e+r+s+a+h),this.internal.write("endstream"),this.internal.write("endobj")}else n=""}),this.internal.events.subscribe("putCatalog",function(){n&&this.internal.write("/Metadata "+n+" 0 R")}),this}}(),function(t){if(t.URL=t.URL||t.webkitURL,t.Blob&&t.URL)try{return void new Blob}catch(t){}var e=t.BlobBuilder||t.WebKitBlobBuilder||t.MozBlobBuilder||function(t){var e=function(t){return Object.prototype.toString.call(t).match(/^\[object\s(.*)\]$/)[1]},i=function(){this.data=[]},o=function(t,e,i){this.data=t,this.size=t.length,this.type=e,this.encoding=i},n=i.prototype,r=o.prototype,s=t.FileReaderSync,a=function(t){this.code=this[this.name=t]},h="NOT_FOUND_ERR SECURITY_ERR ABORT_ERR NOT_READABLE_ERR ENCODING_ERR NO_MODIFICATION_ALLOWED_ERR INVALID_STATE_ERR SYNTAX_ERR".split(" "),l=h.length,p=t.URL||t.webkitURL||t,u=p.createObjectURL,d=p.revokeObjectURL,c=p,f=t.btoa,y=t.atob,g=t.ArrayBuffer,m=t.Uint8Array,v=/^[\w-]+:\/*\[?[\w\.:-]+\]?(?::[0-9]+)?/;for(o.fake=r.fake=!0;l--;)a.prototype[h[l]]=l+1;return p.createObjectURL||(c=t.URL=function(t){var e,i=document.createElementNS("http://www.w3.org/1999/xhtml","a");return i.href=t,"origin"in i||("data:"===i.protocol.toLowerCase()?i.origin=null:(e=t.match(v),i.origin=e&&e[1])),i}),c.createObjectURL=function(t){var e,i=t.type;return null===i&&(i="application/octet-stream"),t instanceof o?(e="data:"+i,"base64"===t.encoding?e+";base64,"+t.data:"URI"===t.encoding?e+","+decodeURIComponent(t.data):f?e+";base64,"+f(t.data):e+","+encodeURIComponent(t.data)):u?u.call(p,t):void 0},c.revokeObjectURL=function(t){"data:"!==t.substring(0,5)&&d&&d.call(p,t)},n.append=function(t){var i=this.data;if(m&&(t instanceof g||t instanceof m)){for(var n="",r=new m(t),h=0,l=r.length;h<l;h++)n+=String.fromCharCode(r[h]);i.push(n)}else if("Blob"===e(t)||"File"===e(t)){if(!s)throw new a("NOT_READABLE_ERR");var p=new s;i.push(p.readAsBinaryString(t))}else t instanceof o?"base64"===t.encoding&&y?i.push(y(t.data)):"URI"===t.encoding?i.push(decodeURIComponent(t.data)):"raw"===t.encoding&&i.push(t.data):("string"!=typeof t&&(t+=""),i.push(unescape(encodeURIComponent(t))))},n.getBlob=function(t){return arguments.length||(t=null),new o(this.data.join(""),t,"raw")},n.toString=function(){return"[object BlobBuilder]"},r.slice=function(t,e,i){var n=arguments.length;return n<3&&(i=null),new o(this.data.slice(t,n>1?e:this.data.length),i,this.encoding)},r.toString=function(){return"[object Blob]"},r.close=function(){this.size=0,delete this.data},i}(t);t.Blob=function(t,i){var o=i&&i.type||"",n=new e;if(t)for(var r=0,s=t.length;r<s;r++)Uint8Array&&t[r]instanceof Uint8Array?n.append(t[r].buffer):n.append(t[r]);var a=n.getBlob(o);return!a.slice&&a.webkitSlice&&(a.slice=a.webkitSlice),a};var i=Object.getPrototypeOf||function(t){return t.__proto__};t.Blob.prototype=i(new t.Blob)}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||(void 0).content||void 0);var o=o||function(t){if(!(void 0===t||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var e=function(){return t.URL||t.webkitURL||t},i=t.document.createElementNS("http://www.w3.org/1999/xhtml","a"),o="download"in i,n=/constructor/i.test(t.HTMLElement)||t.safari,r=/CriOS\/[\d]+/.test(navigator.userAgent),s=function(e){(t.setImmediate||t.setTimeout)(function(){throw e},0)},a=function(t){setTimeout(function(){"string"==typeof t?e().revokeObjectURL(t):t.remove()},4e4)},h=function(t,e,i){for(var o=(e=[].concat(e)).length;o--;){var n=t["on"+e[o]];if("function"==typeof n)try{n.call(t,i||t)}catch(t){s(t)}}},l=function(t){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob([String.fromCharCode(65279),t],{type:t.type}):t},p=function(s,p,u){u||(s=l(s));var d,c=this,f="application/octet-stream"===s.type,y=function(){h(c,"writestart progress write writeend".split(" "))};if(c.readyState=c.INIT,o)return d=e().createObjectURL(s),void setTimeout(function(){var t,e;i.href=d,i.download=p,t=i,e=new MouseEvent("click"),t.dispatchEvent(e),y(),a(d),c.readyState=c.DONE});!function(){if((r||f&&n)&&t.FileReader){var i=new FileReader;return i.onloadend=function(){var e=r?i.result:i.result.replace(/^data:[^;]*;/,"data:attachment/file;");t.open(e,"_blank")||(t.location.href=e),e=void 0,c.readyState=c.DONE,y()},i.readAsDataURL(s),void(c.readyState=c.INIT)}d||(d=e().createObjectURL(s)),f?t.location.href=d:t.open(d,"_blank")||(t.location.href=d),c.readyState=c.DONE,y(),a(d)}()},u=p.prototype;return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(t,e,i){return e=e||t.name||"download",i||(t=l(t)),navigator.msSaveOrOpenBlob(t,e)}:(u.abort=function(){},u.readyState=u.INIT=0,u.WRITING=1,u.DONE=2,u.error=u.onwritestart=u.onprogress=u.onwrite=u.onabort=u.onerror=u.onwriteend=null,function(t,e,i){return new p(t,e||t.name||"download",i)})}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||(void 0).content);"undefined"!=typeof module&&module.exports?module.exports.saveAs=o:"undefined"!=typeof define&&null!==define&&null!==define.amd&&define("FileSaver.js",function(){return o}),function(t,e){"object"==typeof module?module.exports=e():"function"==typeof define?define(e):t.adler32cs=e()}(e,function(){var t="function"==typeof ArrayBuffer&&"function"==typeof Uint8Array,e=null,i=function(){if(!t)return function(){return!1};try{var i={};"function"==typeof i.Buffer&&(e=i.Buffer)}catch(t){}return function(t){return t instanceof ArrayBuffer||null!==e&&t instanceof e}}(),o=null!==e?function(t){return new e(t,"utf8").toString("binary")}:function(t){return unescape(encodeURIComponent(t))},n=function(t,e){for(var i=65535&t,o=t>>>16,n=0,r=e.length;n<r;n++)o=(o+(i=(i+(255&e.charCodeAt(n)))%65521))%65521;return(o<<16|i)>>>0},r=function(t,e){for(var i=65535&t,o=t>>>16,n=0,r=e.length;n<r;n++)o=(o+(i=(i+e[n])%65521))%65521;return(o<<16|i)>>>0},s={},a=s.Adler32=function(){var e=function(t){if(!(this instanceof e))throw new TypeError("Constructor cannot called be as a function.");if(!isFinite(t=null==t?1:+t))throw new Error("First arguments needs to be a finite number.");this.checksum=t>>>0},s=e.prototype={};return s.constructor=e,e.from=function(t){return t.prototype=s,t}(function(t){if(!(this instanceof e))throw new TypeError("Constructor cannot called be as a function.");if(null==t)throw new Error("First argument needs to be a string.");this.checksum=n(1,t.toString())}),e.fromUtf8=function(t){return t.prototype=s,t}(function(t){if(!(this instanceof e))throw new TypeError("Constructor cannot called be as a function.");if(null==t)throw new Error("First argument needs to be a string.");var i=o(t.toString());this.checksum=n(1,i)}),t&&(e.fromBuffer=function(t){return t.prototype=s,t}(function(t){if(!(this instanceof e))throw new TypeError("Constructor cannot called be as a function.");if(!i(t))throw new Error("First argument needs to be ArrayBuffer.");var o=new Uint8Array(t);return this.checksum=r(1,o)})),s.update=function(t){if(null==t)throw new Error("First argument needs to be a string.");return t=t.toString(),this.checksum=n(this.checksum,t)},s.updateUtf8=function(t){if(null==t)throw new Error("First argument needs to be a string.");var e=o(t.toString());return this.checksum=n(this.checksum,e)},t&&(s.updateBuffer=function(t){if(!i(t))throw new Error("First argument needs to be ArrayBuffer.");var e=new Uint8Array(t);return this.checksum=r(this.checksum,e)}),s.clone=function(){return new a(this.checksum)},e}();return s.from=function(t){if(null==t)throw new Error("First argument needs to be a string.");return n(1,t.toString())},s.fromUtf8=function(t){if(null==t)throw new Error("First argument needs to be a string.");var e=o(t.toString());return n(1,e)},t&&(s.fromBuffer=function(t){if(!i(t))throw new Error("First argument need to be ArrayBuffer.");var e=new Uint8Array(t);return r(1,e)}),s});var n={_colorsTable:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4","indianred ":"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},colorNameToHex:function(t){return t=t.toLowerCase(),void 0!==this._colorsTable[t]&&this._colorsTable[t]}},r=function(t){function e(){function t(t){var e,i,n,r,s,h,l=o.dyn_tree,p=o.stat_desc.static_tree,u=o.stat_desc.extra_bits,c=o.stat_desc.extra_base,f=o.stat_desc.max_length,y=0;for(r=0;r<=a;r++)t.bl_count[r]=0;for(l[2*t.heap[t.heap_max]+1]=0,e=t.heap_max+1;e<d;e++)(r=l[2*l[2*(i=t.heap[e])+1]+1]+1)>f&&(r=f,y++),l[2*i+1]=r,i>o.max_code||(t.bl_count[r]++,s=0,i>=c&&(s=u[i-c]),t.opt_len+=(h=l[2*i])*(r+s),p&&(t.static_len+=h*(p[2*i+1]+s)));if(0!==y){do{for(r=f-1;0===t.bl_count[r];)r--;t.bl_count[r]--,t.bl_count[r+1]+=2,t.bl_count[f]--,y-=2}while(y>0);for(r=f;0!==r;r--)for(i=t.bl_count[r];0!==i;)(n=t.heap[--e])>o.max_code||(l[2*n+1]!=r&&(t.opt_len+=(r-l[2*n+1])*l[2*n],l[2*n+1]=r),i--)}}function e(t,e){var i=0;do{i|=1&t,t>>>=1,i<<=1}while(--e>0);return i>>>1}function i(t,i,o){var n,r,s,h=[],l=0;for(n=1;n<=a;n++)h[n]=l=l+o[n-1]<<1;for(r=0;r<=i;r++)0!==(s=t[2*r+1])&&(t[2*r]=e(h[s]++,s))}var o=this;o.build_tree=function(e){var n,r,s,a=o.dyn_tree,h=o.stat_desc.static_tree,l=o.stat_desc.elems,p=-1;for(e.heap_len=0,e.heap_max=d,n=0;n<l;n++)0!==a[2*n]?(e.heap[++e.heap_len]=p=n,e.depth[n]=0):a[2*n+1]=0;for(;e.heap_len<2;)a[2*(s=e.heap[++e.heap_len]=p<2?++p:0)]=1,e.depth[s]=0,e.opt_len--,h&&(e.static_len-=h[2*s+1]);for(o.max_code=p,n=Math.floor(e.heap_len/2);n>=1;n--)e.pqdownheap(a,n);s=l;do{n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],e.pqdownheap(a,1),r=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=r,a[2*s]=a[2*n]+a[2*r],e.depth[s]=Math.max(e.depth[n],e.depth[r])+1,a[2*n+1]=a[2*r+1]=s,e.heap[1]=s++,e.pqdownheap(a,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],t(e),i(a,o.max_code,e.bl_count)}}function i(t,e,i,o,n){var r=this;r.static_tree=t,r.extra_bits=e,r.extra_base=i,r.elems=o,r.max_length=n}function o(t,e,i,o,n){var r=this;r.good_length=t,r.max_lazy=e,r.nice_length=i,r.max_chain=o,r.func=n}function n(t,e,i,o){var n=t[2*e],r=t[2*i];return n<r||n==r&&o[e]<=o[i]}function r(){function t(){var t;for(t=0;t<u;t++)Ut[2*t]=0;for(t=0;t<h;t++)Wt[2*t]=0;for(t=0;t<l;t++)Gt[2*t]=0;Ut[2*c]=1,te.opt_len=te.static_len=0,Xt=Kt=0}function o(t,e){var i,o,n=-1,r=t[1],s=0,a=7,h=4;for(0===r&&(a=138,h=3),t[2*(e+1)+1]=65535,i=0;i<=e;i++)o=r,r=t[2*(i+1)+1],++s<a&&o==r||(s<h?Gt[2*o]+=s:0!==o?(o!=n&&Gt[2*o]++,Gt[2*f]++):s<=10?Gt[2*y]++:Gt[2*g]++,s=0,n=o,0===r?(a=138,h=3):o==r?(a=6,h=3):(a=7,h=4))}function r(){var t;for(o(Ut,ee.max_code),o(Wt,ie.max_code),oe.build_tree(te),t=l-1;t>=3&&0===Gt[2*e.bl_order[t]+1];t--);return te.opt_len+=3*(t+1)+5+5+4,t}function s(t){te.pending_buf[te.pending++]=t}function a(t){s(255&t),s(t>>>8&255)}function d(t,e){var i,o=e;Qt>m-o?(a($t|=(i=t)<<Qt&65535),$t=i>>>m-Qt,Qt+=o-m):($t|=t<<Qt&65535,Qt+=o)}function D(t,e){var i=2*t;d(65535&e[i],65535&e[i+1])}function et(t,e){var i,o,n=-1,r=t[1],s=0,a=7,h=4;for(0===r&&(a=138,h=3),i=0;i<=e;i++)if(o=r,r=t[2*(i+1)+1],!(++s<a&&o==r)){if(s<h)do{D(o,Gt)}while(0!=--s);else 0!==o?(o!=n&&(D(o,Gt),s--),D(f,Gt),d(s-3,2)):s<=10?(D(y,Gt),d(s-3,3)):(D(g,Gt),d(s-11,7));s=0,n=o,0===r?(a=138,h=3):o==r?(a=6,h=3):(a=7,h=4)}}function it(t,i,o){var n;for(d(t-257,5),d(i-1,5),d(o-4,4),n=0;n<o;n++)d(Gt[2*e.bl_order[n]+1],3);et(Ut,t-1),et(Wt,i-1)}function ot(){16==Qt?(a($t),$t=0,Qt=0):Qt>=8&&(s(255&$t),$t>>>=8,Qt-=8)}function nt(){d(K<<1,3),D(c,i.static_ltree),ot(),1+Jt+10-Qt<9&&(d(K<<1,3),D(c,i.static_ltree),ot()),Jt=7}function rt(t,i){var o,n,r;if(te.pending_buf[Zt+2*Xt]=t>>>8&255,te.pending_buf[Zt+2*Xt+1]=255&t,te.pending_buf[Yt+Xt]=255&i,Xt++,0===t?Ut[2*i]++:(Kt++,t--,Ut[2*(e._length_code[i]+p+1)]++,Wt[2*e.d_code(t)]++),0==(8191&Xt)&&zt>2){for(o=8*Xt,n=It-Pt,r=0;r<h;r++)o+=Wt[2*r]*(5+e.extra_dbits[r]);if(o>>>=3,Kt<Math.floor(Xt/2)&&o<Math.floor(n/2))return!0}return Xt==Vt-1}function st(t,i){var o,n,r,s,a=0;if(0!==Xt)do{o=te.pending_buf[Zt+2*a]<<8&65280|255&te.pending_buf[Zt+2*a+1],n=255&te.pending_buf[Yt+a],a++,0===o?D(n,t):(D((r=e._length_code[n])+p+1,t),0!==(s=e.extra_lbits[r])&&d(n-=e.base_length[r],s),D(r=e.d_code(--o),i),0!==(s=e.extra_dbits[r])&&d(o-=e.base_dist[r],s))}while(a<Xt);D(c,t),Jt=t[2*c+1]}function at(){Qt>8?a($t):Qt>0&&s(255&$t),$t=0,Qt=0}function ht(t,e,i){d((Z<<1)+(i?1:0),3),function(t,e,i){at(),Jt=8,a(e),a(~e),te.pending_buf.set(wt.subarray(t,t+e),te.pending),te.pending+=e}(t,e)}function lt(e){(function(e,o,n){var s,a,h=0;zt>0?(ee.build_tree(te),ie.build_tree(te),h=r(),(a=te.static_len+3+7>>>3)<=(s=te.opt_len+3+7>>>3)&&(s=a)):s=a=o+5,o+4<=s&&-1!=e?ht(e,o,n):a==s?(d((K<<1)+(n?1:0),3),st(i.static_ltree,i.static_dtree)):(d((J<<1)+(n?1:0),3),it(ee.max_code+1,ie.max_code+1,h+1),st(Ut,Wt)),t(),n&&at()})(Pt>=0?Pt:-1,It-Pt,e),Pt=It,ct.flush_pending()}function pt(){var t,e,i,o;do{if(0==(o=xt-Nt-It)&&0===It&&0===Nt)o=mt;else if(-1==o)o--;else if(It>=mt+mt-tt){wt.set(wt.subarray(mt,mt+mt),0),Rt-=mt,It-=mt,Pt-=mt,i=t=St;do{e=65535&Mt[--i],Mt[i]=e>=mt?e-mt:0}while(0!=--t);i=t=mt;do{e=65535&_t[--i],_t[i]=e>=mt?e-mt:0}while(0!=--t);o+=mt}if(0===ct.avail_in)return;t=ct.read_buf(wt,It+Nt,o),(Nt+=t)>=$&&(kt=((kt=255&wt[It])<<Tt^255&wt[It+1])&Et)}while(Nt<tt&&0!==ct.avail_in)}function ut(t){var e,i,o=jt,n=It,r=Lt,s=It>mt-tt?It-(mt-tt):0,a=Ht,h=bt,l=It+Q,p=wt[n+r-1],u=wt[n+r];Lt>=qt&&(o>>=2),a>Nt&&(a=Nt);do{if(wt[(e=t)+r]==u&&wt[e+r-1]==p&&wt[e]==wt[n]&&wt[++e]==wt[n+1]){n+=2,e++;do{}while(wt[++n]==wt[++e]&&wt[++n]==wt[++e]&&wt[++n]==wt[++e]&&wt[++n]==wt[++e]&&wt[++n]==wt[++e]&&wt[++n]==wt[++e]&&wt[++n]==wt[++e]&&wt[++n]==wt[++e]&&n<l);if(i=Q-(l-n),n=l-Q,i>r){if(Rt=t,r=i,i>=a)break;p=wt[n+r-1],u=wt[n+r]}}}while((t=65535&_t[t&h])>s&&0!=--o);return r<=Nt?r:Nt}function dt(e){return e.total_in=e.total_out=0,e.msg=null,te.pending=0,te.pending_out=0,ft=Y,gt=_,ee.dyn_tree=Ut,ee.stat_desc=i.static_l_desc,ie.dyn_tree=Wt,ie.stat_desc=i.static_d_desc,oe.dyn_tree=Gt,oe.stat_desc=i.static_bl_desc,$t=0,Qt=0,Jt=8,t(),function(){var t;for(xt=2*mt,Mt[St-1]=0,t=0;t<St-1;t++)Mt[t]=0;Ft=F[zt].max_lazy,qt=F[zt].good_length,Ht=F[zt].nice_length,jt=F[zt].max_chain,It=0,Pt=0,Nt=0,At=Lt=$-1,Dt=0,kt=0}(),C}var ct,ft,yt,gt,mt,vt,bt,wt,xt,_t,Mt,kt,St,Ct,Et,Tt,Pt,At,Ot,Dt,It,Rt,Nt,Lt,jt,Ft,zt,Bt,qt,Ht,Ut,Wt,Gt,Yt,Vt,Xt,Zt,Kt,Jt,$t,Qt,te=this,ee=new e,ie=new e,oe=new e;te.depth=[],te.bl_count=[],te.heap=[],Ut=[],Wt=[],Gt=[],te.pqdownheap=function(t,e){for(var i=te.heap,o=i[e],r=e<<1;r<=te.heap_len&&(r<te.heap_len&&n(t,i[r+1],i[r],te.depth)&&r++,!n(t,o,i[r],te.depth));)i[e]=i[r],e=r,r<<=1;i[e]=o},te.deflateInit=function(t,e,i,o,n,r){return o||(o=X),n||(n=R),r||(r=x),t.msg=null,e==v&&(e=6),n<1||n>I||o!=X||i<9||i>15||e<0||e>9||r<0||r>w?P:(t.dstate=te,bt=(mt=1<<(vt=i))-1,Et=(St=1<<(Ct=n+7))-1,Tt=Math.floor((Ct+$-1)/$),wt=new Uint8Array(2*mt),_t=[],Mt=[],Vt=1<<n+6,te.pending_buf=new Uint8Array(4*Vt),yt=4*Vt,Zt=Math.floor(Vt/2),Yt=3*Vt,zt=e,Bt=r,dt(t))},te.deflateEnd=function(){return ft!=G&&ft!=Y&&ft!=V?P:(te.pending_buf=null,Mt=null,_t=null,wt=null,te.dstate=null,ft==Y?A:C)},te.deflateParams=function(t,e,i){var o=C;return e==v&&(e=6),e<0||e>9||i<0||i>w?P:(F[zt].func!=F[e].func&&0!==t.total_in&&(o=t.deflate(M)),zt!=e&&(Ft=F[zt=e].max_lazy,qt=F[zt].good_length,Ht=F[zt].nice_length,jt=F[zt].max_chain),Bt=i,o)},te.deflateSetDictionary=function(t,e,i){var o,n=i,r=0;if(!e||ft!=G)return P;if(n<$)return C;for(n>mt-tt&&(r=i-(n=mt-tt)),wt.set(e.subarray(r,r+n),0),It=n,Pt=n,kt=((kt=255&wt[0])<<Tt^255&wt[1])&Et,o=0;o<=n-$;o++)_t[o&bt]=Mt[kt=(kt<<Tt^255&wt[o+($-1)])&Et],Mt[kt]=o;return C},te.deflate=function(t,e){var i,o,n,r,a;if(e>S||e<0)return P;if(!t.next_out||!t.next_in&&0!==t.avail_in||ft==V&&e!=S)return t.msg=z[T-P],P;if(0===t.avail_out)return t.msg=z[T-O],O;if(ct=t,r=gt,gt=e,ft==G&&(o=X+(vt-8<<4)<<8,(n=(zt-1&255)>>1)>3&&(n=3),o|=n<<6,0!==It&&(o|=W),ft=Y,function(t){s(t>>8&255),s(255&t)}(o+=31-o%31)),0!==te.pending){if(ct.flush_pending(),0===ct.avail_out)return gt=-1,C}else if(0===ct.avail_in&&e<=r&&e!=S)return ct.msg=z[T-O],O;if(ft==V&&0!==ct.avail_in)return t.msg=z[T-O],O;if(0!==ct.avail_in||0!==Nt||e!=_&&ft!=V){switch(a=-1,F[zt].func){case N:a=function(t){var e,i=65535;for(i>yt-5&&(i=yt-5);;){if(Nt<=1){if(pt(),0===Nt&&t==_)return B;if(0===Nt)break}if(It+=Nt,Nt=0,e=Pt+i,(0===It||It>=e)&&(Nt=It-e,It=e,lt(!1),0===ct.avail_out))return B;if(It-Pt>=mt-tt&&(lt(!1),0===ct.avail_out))return B}return lt(t==S),0===ct.avail_out?t==S?H:B:t==S?U:q}(e);break;case L:a=function(t){for(var e,i=0;;){if(Nt<tt){if(pt(),Nt<tt&&t==_)return B;if(0===Nt)break}if(Nt>=$&&(i=65535&Mt[kt=(kt<<Tt^255&wt[It+($-1)])&Et],_t[It&bt]=Mt[kt],Mt[kt]=It),0!==i&&(It-i&65535)<=mt-tt&&Bt!=w&&(At=ut(i)),At>=$)if(e=rt(It-Rt,At-$),Nt-=At,At<=Ft&&Nt>=$){At--;do{kt=(kt<<Tt^255&wt[++It+($-1)])&Et,i=65535&Mt[kt],_t[It&bt]=Mt[kt],Mt[kt]=It}while(0!=--At);It++}else It+=At,At=0,kt=((kt=255&wt[It])<<Tt^255&wt[It+1])&Et;else e=rt(0,255&wt[It]),Nt--,It++;if(e&&(lt(!1),0===ct.avail_out))return B}return lt(t==S),0===ct.avail_out?t==S?H:B:t==S?U:q}(e);break;case j:a=function(t){for(var e,i,o=0;;){if(Nt<tt){if(pt(),Nt<tt&&t==_)return B;if(0===Nt)break}if(Nt>=$&&(o=65535&Mt[kt=(kt<<Tt^255&wt[It+($-1)])&Et],_t[It&bt]=Mt[kt],Mt[kt]=It),Lt=At,Ot=Rt,At=$-1,0!==o&&Lt<Ft&&(It-o&65535)<=mt-tt&&(Bt!=w&&(At=ut(o)),At<=5&&(Bt==b||At==$&&It-Rt>4096)&&(At=$-1)),Lt>=$&&At<=Lt){i=It+Nt-$,e=rt(It-1-Ot,Lt-$),Nt-=Lt-1,Lt-=2;do{++It<=i&&(o=65535&Mt[kt=(kt<<Tt^255&wt[It+($-1)])&Et],_t[It&bt]=Mt[kt],Mt[kt]=It)}while(0!=--Lt);if(Dt=0,At=$-1,It++,e&&(lt(!1),0===ct.avail_out))return B}else if(0!==Dt){if((e=rt(0,255&wt[It-1]))&&lt(!1),It++,Nt--,0===ct.avail_out)return B}else Dt=1,It++,Nt--}return 0!==Dt&&(e=rt(0,255&wt[It-1]),Dt=0),lt(t==S),0===ct.avail_out?t==S?H:B:t==S?U:q}(e)}if(a!=H&&a!=U||(ft=V),a==B||a==H)return 0===ct.avail_out&&(gt=-1),C;if(a==q){if(e==M)nt();else if(ht(0,0,!1),e==k)for(i=0;i<St;i++)Mt[i]=0;if(ct.flush_pending(),0===ct.avail_out)return gt=-1,C}}return e!=S?C:E}}function s(){var t=this;t.next_in_index=0,t.next_out_index=0,t.avail_in=0,t.total_in=0,t.avail_out=0,t.total_out=0}var a=15,h=30,l=19,p=256,u=p+1+29,d=2*u+1,c=256,f=16,y=17,g=18,m=16,v=-1,b=1,w=2,x=0,_=0,M=1,k=3,S=4,C=0,E=1,T=2,P=-2,A=-3,O=-5,D=[0,1,2,3,4,4,5,5,6,6,6,6,7,7,7,7,8,8,8,8,8,8,8,8,9,9,9,9,9,9,9,9,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,0,0,16,17,18,18,19,19,20,20,20,20,21,21,21,21,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29];e._length_code=[0,1,2,3,4,5,6,7,8,8,9,9,10,10,11,11,12,12,12,12,13,13,13,13,14,14,14,14,15,15,15,15,16,16,16,16,16,16,16,16,17,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,28],e.base_length=[0,1,2,3,4,5,6,7,8,10,12,14,16,20,24,28,32,40,48,56,64,80,96,112,128,160,192,224,0],e.base_dist=[0,1,2,3,4,6,8,12,16,24,32,48,64,96,128,192,256,384,512,768,1024,1536,2048,3072,4096,6144,8192,12288,16384,24576],e.d_code=function(t){return t<256?D[t]:D[256+(t>>>7)]},e.extra_lbits=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],e.extra_dbits=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],e.extra_blbits=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],e.bl_order=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],i.static_ltree=[12,8,140,8,76,8,204,8,44,8,172,8,108,8,236,8,28,8,156,8,92,8,220,8,60,8,188,8,124,8,252,8,2,8,130,8,66,8,194,8,34,8,162,8,98,8,226,8,18,8,146,8,82,8,210,8,50,8,178,8,114,8,242,8,10,8,138,8,74,8,202,8,42,8,170,8,106,8,234,8,26,8,154,8,90,8,218,8,58,8,186,8,122,8,250,8,6,8,134,8,70,8,198,8,38,8,166,8,102,8,230,8,22,8,150,8,86,8,214,8,54,8,182,8,118,8,246,8,14,8,142,8,78,8,206,8,46,8,174,8,110,8,238,8,30,8,158,8,94,8,222,8,62,8,190,8,126,8,254,8,1,8,129,8,65,8,193,8,33,8,161,8,97,8,225,8,17,8,145,8,81,8,209,8,49,8,177,8,113,8,241,8,9,8,137,8,73,8,201,8,41,8,169,8,105,8,233,8,25,8,153,8,89,8,217,8,57,8,185,8,121,8,249,8,5,8,133,8,69,8,197,8,37,8,165,8,101,8,229,8,21,8,149,8,85,8,213,8,53,8,181,8,117,8,245,8,13,8,141,8,77,8,205,8,45,8,173,8,109,8,237,8,29,8,157,8,93,8,221,8,61,8,189,8,125,8,253,8,19,9,275,9,147,9,403,9,83,9,339,9,211,9,467,9,51,9,307,9,179,9,435,9,115,9,371,9,243,9,499,9,11,9,267,9,139,9,395,9,75,9,331,9,203,9,459,9,43,9,299,9,171,9,427,9,107,9,363,9,235,9,491,9,27,9,283,9,155,9,411,9,91,9,347,9,219,9,475,9,59,9,315,9,187,9,443,9,123,9,379,9,251,9,507,9,7,9,263,9,135,9,391,9,71,9,327,9,199,9,455,9,39,9,295,9,167,9,423,9,103,9,359,9,231,9,487,9,23,9,279,9,151,9,407,9,87,9,343,9,215,9,471,9,55,9,311,9,183,9,439,9,119,9,375,9,247,9,503,9,15,9,271,9,143,9,399,9,79,9,335,9,207,9,463,9,47,9,303,9,175,9,431,9,111,9,367,9,239,9,495,9,31,9,287,9,159,9,415,9,95,9,351,9,223,9,479,9,63,9,319,9,191,9,447,9,127,9,383,9,255,9,511,9,0,7,64,7,32,7,96,7,16,7,80,7,48,7,112,7,8,7,72,7,40,7,104,7,24,7,88,7,56,7,120,7,4,7,68,7,36,7,100,7,20,7,84,7,52,7,116,7,3,8,131,8,67,8,195,8,35,8,163,8,99,8,227,8],i.static_dtree=[0,5,16,5,8,5,24,5,4,5,20,5,12,5,28,5,2,5,18,5,10,5,26,5,6,5,22,5,14,5,30,5,1,5,17,5,9,5,25,5,5,5,21,5,13,5,29,5,3,5,19,5,11,5,27,5,7,5,23,5],i.static_l_desc=new i(i.static_ltree,e.extra_lbits,p+1,u,a),i.static_d_desc=new i(i.static_dtree,e.extra_dbits,0,h,a),i.static_bl_desc=new i(null,e.extra_blbits,0,l,7);var I=9,R=8,N=0,L=1,j=2,F=[new o(0,0,0,0,N),new o(4,4,8,4,L),new o(4,5,16,8,L),new o(4,6,32,32,L),new o(4,4,16,16,j),new o(8,16,32,32,j),new o(8,16,128,128,j),new o(8,32,128,256,j),new o(32,128,258,1024,j),new o(32,258,258,4096,j)],z=["need dictionary","stream end","","","stream error","data error","","buffer error","",""],B=0,q=1,H=2,U=3,W=32,G=42,Y=113,V=666,X=8,Z=0,K=1,J=2,$=3,Q=258,tt=Q+$+1;return s.prototype={deflateInit:function(t,e){var i=this;return i.dstate=new r,e||(e=a),i.dstate.deflateInit(i,t,e)},deflate:function(t){var e=this;return e.dstate?e.dstate.deflate(e,t):P},deflateEnd:function(){var t=this;if(!t.dstate)return P;var e=t.dstate.deflateEnd();return t.dstate=null,e},deflateParams:function(t,e){var i=this;return i.dstate?i.dstate.deflateParams(i,t,e):P},deflateSetDictionary:function(t,e){var i=this;return i.dstate?i.dstate.deflateSetDictionary(i,t,e):P},read_buf:function(t,e,i){var o=this,n=o.avail_in;return n>i&&(n=i),0===n?0:(o.avail_in-=n,t.set(o.next_in.subarray(o.next_in_index,o.next_in_index+n),e),o.next_in_index+=n,o.total_in+=n,n)},flush_pending:function(){var t=this,e=t.dstate.pending;e>t.avail_out&&(e=t.avail_out),0!==e&&(t.next_out.set(t.dstate.pending_buf.subarray(t.dstate.pending_out,t.dstate.pending_out+e),t.next_out_index),t.next_out_index+=e,t.dstate.pending_out+=e,t.total_out+=e,t.avail_out-=e,t.dstate.pending-=e,0===t.dstate.pending&&(t.dstate.pending_out=0))}},function(t){var e=new s,i=_,o=new Uint8Array(512);void 0===t&&(t=v),e.deflateInit(t),e.next_out=o,this.append=function(t,n){var r,s=[],a=0,h=0,l=0;if(t.length){e.next_in_index=0,e.next_in=t,e.avail_in=t.length;do{if(e.next_out_index=0,e.avail_out=512,e.deflate(i)!=C)throw"deflating: "+e.msg;e.next_out_index&&s.push(512==e.next_out_index?new Uint8Array(o):new Uint8Array(o.subarray(0,e.next_out_index))),l+=e.next_out_index,n&&e.next_in_index>0&&e.next_in_index!=a&&(n(e.next_in_index),a=e.next_in_index)}while(e.avail_in>0||0===e.avail_out);return r=new Uint8Array(l),s.forEach(function(t){r.set(t,h),h+=t.length}),r}},this.flush=function(){var t,i,n=[],r=0,s=0;do{if(e.next_out_index=0,e.avail_out=512,(t=e.deflate(S))!=E&&t!=C)throw"deflating: "+e.msg;512-e.avail_out>0&&n.push(new Uint8Array(o.subarray(0,e.next_out_index))),s+=e.next_out_index}while(e.avail_in>0||0===e.avail_out);return e.deflateEnd(),i=new Uint8Array(s),n.forEach(function(t){i.set(t,r),r+=t.length}),i}}}();!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;"undefined"!=typeof window?e=window:"undefined"!=typeof global?e=global:"undefined"!=typeof self&&(e=self),e.html2canvas=t()}}(function(){return function t(e,i,o){function n(s,a){if(!i[s]){if(!e[s]){var h="function"==typeof require&&require;if(!a&&h)return h(s,!0);if(r)return r(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var p=i[s]={exports:{}};e[s][0].call(p.exports,function(t){return n(e[s][1][t]||t)},p,p.exports,t,e,i,o)}return i[s].exports}for(var r="function"==typeof require&&require,s=0;s<o.length;s++)n(o[s]);return n}({1:[function(t,e,i){(function(t){!function(o){function n(t){throw RangeError(O[t])}function r(t,e){for(var i=t.length;i--;)t[i]=e(t[i]);return t}function s(t,e){return r(t.split(A),e).join(".")}function a(t){for(var e,i,o=[],n=0,r=t.length;n<r;)(e=t.charCodeAt(n++))>=55296&&e<=56319&&n<r?56320==(64512&(i=t.charCodeAt(n++)))?o.push(((1023&e)<<10)+(1023&i)+65536):(o.push(e),n--):o.push(e);return o}function h(t){return r(t,function(t){var e="";return t>65535&&(e+=R((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+R(t)}).join("")}function l(t){return t-48<10?t-22:t-65<26?t-65:t-97<26?t-97:w}function p(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function u(t,e,i){var o=0;for(t=i?I(t/k):t>>1,t+=I(t/e);t>D*_>>1;o+=w)t=I(t/D);return I(o+(D+1)*t/(t+M))}function d(t){var e,i,o,r,s,a,p,d,c,f,y=[],g=t.length,m=0,v=C,M=S;for((i=t.lastIndexOf(E))<0&&(i=0),o=0;o<i;++o)t.charCodeAt(o)>=128&&n("not-basic"),y.push(t.charCodeAt(o));for(r=i>0?i+1:0;r<g;){for(s=m,a=1,p=w;r>=g&&n("invalid-input"),((d=l(t.charCodeAt(r++)))>=w||d>I((b-m)/a))&&n("overflow"),m+=d*a,!(d<(c=p<=M?x:p>=M+_?_:p-M));p+=w)a>I(b/(f=w-c))&&n("overflow"),a*=f;M=u(m-s,e=y.length+1,0==s),I(m/e)>b-v&&n("overflow"),v+=I(m/e),m%=e,y.splice(m++,0,v)}return h(y)}function c(t){var e,i,o,r,s,h,l,d,c,f,y,g,m,v,M,k=[];for(g=(t=a(t)).length,e=C,i=0,s=S,h=0;h<g;++h)(y=t[h])<128&&k.push(R(y));for(o=r=k.length,r&&k.push(E);o<g;){for(l=b,h=0;h<g;++h)(y=t[h])>=e&&y<l&&(l=y);for(l-e>I((b-i)/(m=o+1))&&n("overflow"),i+=(l-e)*m,e=l,h=0;h<g;++h)if((y=t[h])<e&&++i>b&&n("overflow"),y==e){for(d=i,c=w;!(d<(f=c<=s?x:c>=s+_?_:c-s));c+=w)k.push(R(p(f+(M=d-f)%(v=w-f),0))),d=I(M/v);k.push(R(p(d,0))),s=u(i,m,o==r),i=0,++o}++i,++e}return k.join("")}var f="object"==typeof i&&i,y="object"==typeof e&&e&&e.exports==f&&e,g="object"==typeof t&&t;g.global!==g&&g.window!==g||(o=g);var m,v,b=2147483647,w=36,x=1,_=26,M=38,k=700,S=72,C=128,E="-",T=/^xn--/,P=/[^ -~]/,A=/\x2E|\u3002|\uFF0E|\uFF61/g,O={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},D=w-x,I=Math.floor,R=String.fromCharCode;if(m={version:"1.2.4",ucs2:{decode:a,encode:h},decode:d,encode:c,toASCII:function(t){return s(t,function(t){return P.test(t)?"xn--"+c(t):t})},toUnicode:function(t){return s(t,function(t){return T.test(t)?d(t.slice(4).toLowerCase()):t})}},f&&!f.nodeType)if(y)y.exports=m;else for(v in m)m.hasOwnProperty(v)&&(f[v]=m[v]);else o.punycode=m}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(t,e,i){function o(t,e){for(var i=3===t.nodeType?document.createTextNode(t.nodeValue):t.cloneNode(!1),r=t.firstChild;r;)!0!==e&&1===r.nodeType&&"SCRIPT"===r.nodeName||i.appendChild(o(r,e)),r=r.nextSibling;return 1===t.nodeType&&(i._scrollTop=t.scrollTop,i._scrollLeft=t.scrollLeft,"CANVAS"===t.nodeName?function(t,e){try{e&&(e.width=t.width,e.height=t.height,e.getContext("2d").putImageData(t.getContext("2d").getImageData(0,0,t.width,t.height),0,0))}catch(e){n("Unable to copy canvas content from",t,e)}}(t,i):"TEXTAREA"!==t.nodeName&&"SELECT"!==t.nodeName||(i.value=t.value)),i}var n=t("./log");e.exports=function(t,e,i,n,r,s,a){var h=o(t.documentElement,r.javascriptEnabled),l=e.createElement("iframe");return l.className="html2canvas-container",l.style.visibility="hidden",l.style.position="fixed",l.style.left="-10000px",l.style.top="0px",l.style.border="0",l.width=i,l.height=n,l.scrolling="no",e.body.appendChild(l),new Promise(function(e){var i=l.contentWindow.document;l.contentWindow.onload=l.onload=function(){var t=setInterval(function(){i.body.childNodes.length>0&&(function t(e){if(1===e.nodeType){e.scrollTop=e._scrollTop,e.scrollLeft=e._scrollLeft;for(var i=e.firstChild;i;)t(i),i=i.nextSibling}}(i.documentElement),clearInterval(t),"view"===r.type&&(l.contentWindow.scrollTo(s,a),!/(iPad|iPhone|iPod)/g.test(navigator.userAgent)||l.contentWindow.scrollY===a&&l.contentWindow.scrollX===s||(i.documentElement.style.top=-a+"px",i.documentElement.style.left=-s+"px",i.documentElement.style.position="absolute")),e(l))},50)},i.open(),i.write("<!DOCTYPE html><html></html>"),function(t,e,i){!t.defaultView||s===t.defaultView.pageXOffset&&a===t.defaultView.pageYOffset||t.defaultView.scrollTo(s,a)}(t),i.replaceChild(i.adoptNode(h),i.documentElement),i.close()})}},{"./log":13}],3:[function(t,e,i){function o(t){this.r=0,this.g=0,this.b=0,this.a=null,this.fromArray(t)||this.namedColor(t)||this.rgb(t)||this.rgba(t)||this.hex6(t)||this.hex3(t)}o.prototype.darken=function(t){var e=1-t;return new o([Math.round(this.r*e),Math.round(this.g*e),Math.round(this.b*e),this.a])},o.prototype.isTransparent=function(){return 0===this.a},o.prototype.isBlack=function(){return 0===this.r&&0===this.g&&0===this.b},o.prototype.fromArray=function(t){return Array.isArray(t)&&(this.r=Math.min(t[0],255),this.g=Math.min(t[1],255),this.b=Math.min(t[2],255),t.length>3&&(this.a=t[3])),Array.isArray(t)};var n=/^#([a-f0-9]{3})$/i;o.prototype.hex3=function(t){var e;return null!==(e=t.match(n))&&(this.r=parseInt(e[1][0]+e[1][0],16),this.g=parseInt(e[1][1]+e[1][1],16),this.b=parseInt(e[1][2]+e[1][2],16)),null!==e};var r=/^#([a-f0-9]{6})$/i;o.prototype.hex6=function(t){var e=null;return null!==(e=t.match(r))&&(this.r=parseInt(e[1].substring(0,2),16),this.g=parseInt(e[1].substring(2,4),16),this.b=parseInt(e[1].substring(4,6),16)),null!==e};var s=/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/;o.prototype.rgb=function(t){var e;return null!==(e=t.match(s))&&(this.r=Number(e[1]),this.g=Number(e[2]),this.b=Number(e[3])),null!==e};var a=/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d?\.?\d+)\s*\)$/;o.prototype.rgba=function(t){var e;return null!==(e=t.match(a))&&(this.r=Number(e[1]),this.g=Number(e[2]),this.b=Number(e[3]),this.a=Number(e[4])),null!==e},o.prototype.toString=function(){return null!==this.a&&1!==this.a?"rgba("+[this.r,this.g,this.b,this.a].join(",")+")":"rgb("+[this.r,this.g,this.b].join(",")+")"},o.prototype.namedColor=function(t){t=t.toLowerCase();var e=h[t];if(e)this.r=e[0],this.g=e[1],this.b=e[2];else if("transparent"===t)return this.r=this.g=this.b=this.a=0,!0;return!!e},o.prototype.isColor=!0;var h={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};e.exports=o},{}],4:[function(t,e,i){function o(t,e){var i=m++;if((e=e||{}).logging&&(u.options.logging=!0,u.options.start=Date.now()),e.async=void 0===e.async||e.async,e.allowTaint=void 0!==e.allowTaint&&e.allowTaint,e.removeContainer=void 0===e.removeContainer||e.removeContainer,e.javascriptEnabled=void 0!==e.javascriptEnabled&&e.javascriptEnabled,e.imageTimeout=void 0===e.imageTimeout?1e4:e.imageTimeout,e.renderer="function"==typeof e.renderer?e.renderer:a,e.strict=!!e.strict,"string"==typeof t){if("string"!=typeof e.proxy)return Promise.reject("Proxy must be used when rendering url");var o=null!=e.width?e.width:window.innerWidth,r=null!=e.height?e.height:window.innerHeight;return f(function(t){var e=document.createElement("a");return e.href=t,e.href=e.href,e}(t),e.proxy,document,o,r,e).then(function(t){return n(t.contentWindow.document.documentElement,t,e,o,r)})}var s=(void 0===t?[document.documentElement]:t.length?t:[t])[0];return s.setAttribute(g+i,i),function(t,e,i,o,r){return c(t,t,i,o,e,t.defaultView.pageXOffset,t.defaultView.pageYOffset).then(function(s){u("Document cloned");var a=g+r,h="["+a+"='"+r+"']";t.querySelector(h).removeAttribute(a);var l=s.contentWindow,p=l.document.querySelector(h);return("function"==typeof e.onclone?Promise.resolve(e.onclone(l.document)):Promise.resolve(!0)).then(function(){return n(p,s,e,i,o)})})}(s.ownerDocument,e,s.ownerDocument.defaultView.innerWidth,s.ownerDocument.defaultView.innerHeight,i).then(function(t){return"function"==typeof e.onrendered&&(u("options.onrendered is deprecated, html2canvas returns a Promise containing the canvas"),e.onrendered(t)),t})}function n(t,e,i,o,n){var a=e.contentWindow,p=new s(a.document),d=new h(i,p),c=y(t),f="view"===i.type?o:function(t){return Math.max(Math.max(t.body.scrollWidth,t.documentElement.scrollWidth),Math.max(t.body.offsetWidth,t.documentElement.offsetWidth),Math.max(t.body.clientWidth,t.documentElement.clientWidth))}(a.document),g="view"===i.type?n:function(t){return Math.max(Math.max(t.body.scrollHeight,t.documentElement.scrollHeight),Math.max(t.body.offsetHeight,t.documentElement.offsetHeight),Math.max(t.body.clientHeight,t.documentElement.clientHeight))}(a.document),m=new i.renderer(f,g,d,i,document);return new l(t,m,p,d,i).ready.then(function(){var o;return u("Finished rendering"),o="view"===i.type?r(m.canvas,{width:m.canvas.width,height:m.canvas.height,top:0,left:0,x:0,y:0}):t===a.document.body||t===a.document.documentElement||null!=i.canvas?m.canvas:r(m.canvas,{width:null!=i.width?i.width:c.width,height:null!=i.height?i.height:c.height,top:c.top,left:c.left,x:0,y:0}),function(t,e){i.removeContainer&&(t.parentNode.removeChild(t),u("Cleaned up container"))}(e),o})}function r(t,e){var i=document.createElement("canvas"),o=Math.min(t.width-1,Math.max(0,e.left)),n=Math.min(t.width,Math.max(1,e.left+e.width)),r=Math.min(t.height-1,Math.max(0,e.top)),s=Math.min(t.height,Math.max(1,e.top+e.height));i.width=e.width,i.height=e.height;var a=n-o,h=s-r;return u("Cropping canvas at:","left:",e.left,"top:",e.top,"width:",a,"height:",h),u("Resulting crop with width",e.width,"and height",e.height,"with x",o,"and y",r),i.getContext("2d").drawImage(t,o,r,a,h,e.x,e.y,a,h),i}var s=t("./support"),a=t("./renderers/canvas"),h=t("./imageloader"),l=t("./nodeparser"),p=t("./nodecontainer"),u=t("./log"),d=t("./utils"),c=t("./clone"),f=t("./proxy").loadUrlDocument,y=d.getBounds,g="data-html2canvas-node",m=0;o.CanvasRenderer=a,o.NodeContainer=p,o.log=u,o.utils=d;var v="undefined"==typeof document||"function"!=typeof Object.create||"function"!=typeof document.createElement("canvas").getContext?function(){return Promise.reject("No canvas support")}:o;e.exports=v},{"./clone":2,"./imageloader":11,"./log":13,"./nodecontainer":14,"./nodeparser":15,"./proxy":16,"./renderers/canvas":20,"./support":22,"./utils":26}],5:[function(t,e,i){var o=t("./log"),n=t("./utils").smallImage;e.exports=function t(e){if(this.src=e,o("DummyImageContainer for",e),!this.promise||!this.image){o("Initiating DummyImageContainer"),t.prototype.image=new Image;var i=this.image;t.prototype.promise=new Promise(function(t,e){i.onload=t,i.onerror=e,i.src=n(),!0===i.complete&&t(i)})}}},{"./log":13,"./utils":26}],6:[function(t,e,i){var o=t("./utils").smallImage;e.exports=function(t,e){var i,n,r=document.createElement("div"),s=document.createElement("img"),a=document.createElement("span");r.style.visibility="hidden",r.style.fontFamily=t,r.style.fontSize=e,r.style.margin=0,r.style.padding=0,document.body.appendChild(r),s.src=o(),s.width=1,s.height=1,s.style.margin=0,s.style.padding=0,s.style.verticalAlign="baseline",a.style.fontFamily=t,a.style.fontSize=e,a.style.margin=0,a.style.padding=0,a.appendChild(document.createTextNode("Hidden Text")),r.appendChild(a),r.appendChild(s),i=s.offsetTop-a.offsetTop+1,r.removeChild(a),r.appendChild(document.createTextNode("Hidden Text")),r.style.lineHeight="normal",s.style.verticalAlign="super",n=s.offsetTop-r.offsetTop+1,document.body.removeChild(r),this.baseline=i,this.lineWidth=1,this.middle=n}},{"./utils":26}],7:[function(t,e,i){function o(){this.data={}}var n=t("./font");o.prototype.getMetrics=function(t,e){return void 0===this.data[t+"-"+e]&&(this.data[t+"-"+e]=new n(t,e)),this.data[t+"-"+e]},e.exports=o},{"./font":6}],8:[function(t,e,i){function o(e,i,o){this.image=null,this.src=e;var r=this,s=n(e);this.promise=(i?new Promise(function(t){"about:blank"===e.contentWindow.document.URL||null==e.contentWindow.document.documentElement?e.contentWindow.onload=e.onload=function(){t(e)}:t(e)}):this.proxyLoad(o.proxy,s,o)).then(function(e){return t("./core")(e.contentWindow.document.documentElement,{type:"view",width:e.width,height:e.height,proxy:o.proxy,javascriptEnabled:o.javascriptEnabled,removeContainer:o.removeContainer,allowTaint:o.allowTaint,imageTimeout:o.imageTimeout/2})}).then(function(t){return r.image=t})}var n=t("./utils").getBounds,r=t("./proxy").loadUrlDocument;o.prototype.proxyLoad=function(t,e,i){var o=this.src;return r(o.src,t,o.ownerDocument,e.width,e.height,i)},e.exports=o},{"./core":4,"./proxy":16,"./utils":26}],9:[function(t,e,i){function o(t){this.src=t.value,this.colorStops=[],this.type=null,this.x0=.5,this.y0=.5,this.x1=.5,this.y1=.5,this.promise=Promise.resolve(!0)}o.TYPES={LINEAR:1,RADIAL:2},o.REGEXP_COLORSTOP=/^\s*(rgba?\(\s*\d{1,3},\s*\d{1,3},\s*\d{1,3}(?:,\s*[0-9\.]+)?\s*\)|[a-z]{3,20}|#[a-f0-9]{3,6})(?:\s+(\d{1,3}(?:\.\d+)?)(%|px)?)?(?:\s|$)/i,e.exports=o},{}],10:[function(t,e,i){e.exports=function(t,e){this.src=t,this.image=new Image;var i=this;this.tainted=null,this.promise=new Promise(function(o,n){i.image.onload=o,i.image.onerror=n,e&&(i.image.crossOrigin="anonymous"),i.image.src=t,!0===i.image.complete&&o(i.image)})}},{}],11:[function(t,e,i){function o(t,e){this.link=null,this.options=t,this.support=e,this.origin=this.getOrigin(window.location.href)}var n=t("./log"),r=t("./imagecontainer"),s=t("./dummyimagecontainer"),a=t("./proxyimagecontainer"),h=t("./framecontainer"),l=t("./svgcontainer"),p=t("./svgnodecontainer"),u=t("./lineargradientcontainer"),d=t("./webkitgradientcontainer"),c=t("./utils").bind;o.prototype.findImages=function(t){var e=[];return t.reduce(function(t,e){switch(e.node.nodeName){case"IMG":return t.concat([{args:[e.node.src],method:"url"}]);case"svg":case"IFRAME":return t.concat([{args:[e.node],method:e.node.nodeName}])}return t},[]).forEach(this.addImage(e,this.loadImage),this),e},o.prototype.findBackgroundImage=function(t,e){return e.parseBackgroundImages().filter(this.hasImageBackground).forEach(this.addImage(t,this.loadImage),this),t},o.prototype.addImage=function(t,e){return function(i){i.args.forEach(function(o){this.imageExists(t,o)||(t.splice(0,0,e.call(this,i)),n("Added image #"+t.length,"string"==typeof o?o.substring(0,100):o))},this)}},o.prototype.hasImageBackground=function(t){return"none"!==t.method},o.prototype.loadImage=function(t){if("url"===t.method){var e=t.args[0];return!this.isSVG(e)||this.support.svg||this.options.allowTaint?e.match(/data:image\/.*;base64,/i)?new r(e.replace(/url\(['"]{0,}|['"]{0,}\)$/gi,""),!1):this.isSameOrigin(e)||!0===this.options.allowTaint||this.isSVG(e)?new r(e,!1):this.support.cors&&!this.options.allowTaint&&this.options.useCORS?new r(e,!0):this.options.proxy?new a(e,this.options.proxy):new s(e):new l(e)}return"linear-gradient"===t.method?new u(t):"gradient"===t.method?new d(t):"svg"===t.method?new p(t.args[0],this.support.svg):"IFRAME"===t.method?new h(t.args[0],this.isSameOrigin(t.args[0].src),this.options):new s(t)},o.prototype.isSVG=function(t){return"svg"===t.substring(t.length-3).toLowerCase()||l.prototype.isInline(t)},o.prototype.imageExists=function(t,e){return t.some(function(t){return t.src===e})},o.prototype.isSameOrigin=function(t){return this.getOrigin(t)===this.origin},o.prototype.getOrigin=function(t){var e=this.link||(this.link=document.createElement("a"));return e.href=t,e.href=e.href,e.protocol+e.hostname+e.port},o.prototype.getPromise=function(t){return this.timeout(t,this.options.imageTimeout).catch(function(){return new s(t.src).promise.then(function(e){t.image=e})})},o.prototype.get=function(t){var e=null;return this.images.some(function(i){return(e=i).src===t})?e:null},o.prototype.fetch=function(t){return this.images=t.reduce(c(this.findBackgroundImage,this),this.findImages(t)),this.images.forEach(function(t,e){t.promise.then(function(){n("Succesfully loaded image #"+(e+1),t)},function(i){n("Failed loading image #"+(e+1),t,i)})}),this.ready=Promise.all(this.images.map(this.getPromise,this)),n("Finished searching images"),this},o.prototype.timeout=function(t,e){var i,o=Promise.race([t.promise,new Promise(function(o,r){i=setTimeout(function(){n("Timed out loading image",t),r(t)},e)})]).then(function(t){return clearTimeout(i),t});return o.catch(function(){clearTimeout(i)}),o},e.exports=o},{"./dummyimagecontainer":5,"./framecontainer":8,"./imagecontainer":10,"./lineargradientcontainer":12,"./log":13,"./proxyimagecontainer":17,"./svgcontainer":23,"./svgnodecontainer":24,"./utils":26,"./webkitgradientcontainer":27}],12:[function(t,e,i){function o(t){n.apply(this,arguments),this.type=n.TYPES.LINEAR;var e=o.REGEXP_DIRECTION.test(t.args[0])||!n.REGEXP_COLORSTOP.test(t.args[0]);e?t.args[0].split(/\s+/).reverse().forEach(function(t,e){switch(t){case"left":this.x0=0,this.x1=1;break;case"top":this.y0=0,this.y1=1;break;case"right":this.x0=1,this.x1=0;break;case"bottom":this.y0=1,this.y1=0;break;case"to":var i=this.y0,o=this.x0;this.y0=this.y1,this.x0=this.x1,this.x1=o,this.y1=i;break;case"center":break;default:var n=.01*parseFloat(t,10);if(isNaN(n))break;0===e?(this.y0=n,this.y1=1-this.y0):(this.x0=n,this.x1=1-this.x0)}},this):(this.y0=0,this.y1=1),this.colorStops=t.args.slice(e?1:0).map(function(t){var e=t.match(n.REGEXP_COLORSTOP),i=+e[2],o=0===i?"%":e[3];return{color:new r(e[1]),stop:"%"===o?i/100:null}}),null===this.colorStops[0].stop&&(this.colorStops[0].stop=0),null===this.colorStops[this.colorStops.length-1].stop&&(this.colorStops[this.colorStops.length-1].stop=1),this.colorStops.forEach(function(t,e){null===t.stop&&this.colorStops.slice(e).some(function(i,o){return null!==i.stop&&(t.stop=(i.stop-this.colorStops[e-1].stop)/(o+1)+this.colorStops[e-1].stop,!0)},this)},this)}var n=t("./gradientcontainer"),r=t("./color");o.prototype=Object.create(n.prototype),o.REGEXP_DIRECTION=/^\s*(?:to|left|right|top|bottom|center|\d{1,3}(?:\.\d+)?%?)(?:\s|$)/i,e.exports=o},{"./color":3,"./gradientcontainer":9}],13:[function(t,e,i){var o=function(){o.options.logging&&window.console&&window.console.log&&Function.prototype.bind.call(window.console.log,window.console).apply(window.console,[Date.now()-o.options.start+"ms","html2canvas:"].concat([].slice.call(arguments,0)))};o.options={logging:!1},e.exports=o},{}],14:[function(t,e,i){function o(t,e){this.node=t,this.parent=e,this.stack=null,this.bounds=null,this.borders=null,this.clip=[],this.backgroundClip=[],this.offsetBounds=null,this.visible=null,this.computedStyles=null,this.colors={},this.styles={},this.backgroundImages=null,this.transformData=null,this.transformMatrix=null,this.isPseudoElement=!1,this.opacity=null}function n(t){return-1!==t.toString().indexOf("%")}function r(t){return t.replace("px","")}function s(t){return parseFloat(t)}var a=t("./color"),h=t("./utils"),l=h.getBounds,p=h.parseBackgrounds,u=h.offsetBounds;o.prototype.cloneTo=function(t){t.visible=this.visible,t.borders=this.borders,t.bounds=this.bounds,t.clip=this.clip,t.backgroundClip=this.backgroundClip,t.computedStyles=this.computedStyles,t.styles=this.styles,t.backgroundImages=this.backgroundImages,t.opacity=this.opacity},o.prototype.getOpacity=function(){return null===this.opacity?this.opacity=this.cssFloat("opacity"):this.opacity},o.prototype.assignStack=function(t){this.stack=t,t.children.push(this)},o.prototype.isElementVisible=function(){return this.node.nodeType===Node.TEXT_NODE?this.parent.visible:"none"!==this.css("display")&&"hidden"!==this.css("visibility")&&!this.node.hasAttribute("data-html2canvas-ignore")&&("INPUT"!==this.node.nodeName||"hidden"!==this.node.getAttribute("type"))},o.prototype.css=function(t){return this.computedStyles||(this.computedStyles=this.isPseudoElement?this.parent.computedStyle(this.before?":before":":after"):this.computedStyle(null)),this.styles[t]||(this.styles[t]=this.computedStyles[t])},o.prototype.prefixedCss=function(t){var e=this.css(t);return void 0===e&&["webkit","moz","ms","o"].some(function(i){return void 0!==(e=this.css(i+t.substr(0,1).toUpperCase()+t.substr(1)))},this),void 0===e?null:e},o.prototype.computedStyle=function(t){return this.node.ownerDocument.defaultView.getComputedStyle(this.node,t)},o.prototype.cssInt=function(t){var e=parseInt(this.css(t),10);return isNaN(e)?0:e},o.prototype.color=function(t){return this.colors[t]||(this.colors[t]=new a(this.css(t)))},o.prototype.cssFloat=function(t){var e=parseFloat(this.css(t));return isNaN(e)?0:e},o.prototype.fontWeight=function(){var t=this.css("fontWeight");switch(parseInt(t,10)){case 401:t="bold";break;case 400:t="normal"}return t},o.prototype.parseClip=function(){var t=this.css("clip").match(this.CLIP);return t?{top:parseInt(t[1],10),right:parseInt(t[2],10),bottom:parseInt(t[3],10),left:parseInt(t[4],10)}:null},o.prototype.parseBackgroundImages=function(){return this.backgroundImages||(this.backgroundImages=p(this.css("backgroundImage")))},o.prototype.cssList=function(t,e){var i=(this.css(t)||"").split(",");return 1===(i=(i=i[e||0]||i[0]||"auto").trim().split(" ")).length&&(i=[i[0],n(i[0])?"auto":i[0]]),i},o.prototype.parseBackgroundSize=function(t,e,i){var o,r,s=this.cssList("backgroundSize",i);if(n(s[0]))o=t.width*parseFloat(s[0])/100;else{if(/contain|cover/.test(s[0])){var a=e.width/e.height;return t.width/t.height<a^"contain"===s[0]?{width:t.height*a,height:t.height}:{width:t.width,height:t.width/a}}o=parseInt(s[0],10)}return r="auto"===s[0]&&"auto"===s[1]?e.height:"auto"===s[1]?o/e.width*e.height:n(s[1])?t.height*parseFloat(s[1])/100:parseInt(s[1],10),"auto"===s[0]&&(o=r/e.height*e.width),{width:o,height:r}},o.prototype.parseBackgroundPosition=function(t,e,i,o){var r,s,a=this.cssList("backgroundPosition",i);return r=n(a[0])?(t.width-(o||e).width)*(parseFloat(a[0])/100):parseInt(a[0],10),s="auto"===a[1]?r/e.width*e.height:n(a[1])?(t.height-(o||e).height)*parseFloat(a[1])/100:parseInt(a[1],10),"auto"===a[0]&&(r=s/e.height*e.width),{left:r,top:s}},o.prototype.parseBackgroundRepeat=function(t){return this.cssList("backgroundRepeat",t)[0]},o.prototype.parseTextShadows=function(){var t=this.css("textShadow"),e=[];if(t&&"none"!==t)for(var i=t.match(this.TEXT_SHADOW_PROPERTY),o=0;i&&o<i.length;o++){var n=i[o].match(this.TEXT_SHADOW_VALUES);e.push({color:new a(n[0]),offsetX:n[1]?parseFloat(n[1].replace("px","")):0,offsetY:n[2]?parseFloat(n[2].replace("px","")):0,blur:n[3]?n[3].replace("px",""):0})}return e},o.prototype.parseTransform=function(){if(!this.transformData)if(this.hasTransform()){var t=this.parseBounds(),e=this.prefixedCss("transformOrigin").split(" ").map(r).map(s);e[0]+=t.left,e[1]+=t.top,this.transformData={origin:e,matrix:this.parseTransformMatrix()}}else this.transformData={origin:[0,0],matrix:[1,0,0,1,0,0]};return this.transformData},o.prototype.parseTransformMatrix=function(){if(!this.transformMatrix){var t=this.prefixedCss("transform"),e=t?function(t){if(t&&"matrix"===t[1])return t[2].split(",").map(function(t){return parseFloat(t.trim())});if(t&&"matrix3d"===t[1]){var e=t[2].split(",").map(function(t){return parseFloat(t.trim())});return[e[0],e[1],e[4],e[5],e[12],e[13]]}}(t.match(this.MATRIX_PROPERTY)):null;this.transformMatrix=e||[1,0,0,1,0,0]}return this.transformMatrix},o.prototype.parseBounds=function(){return this.bounds||(this.bounds=this.hasTransform()?u(this.node):l(this.node))},o.prototype.hasTransform=function(){return"1,0,0,1,0,0"!==this.parseTransformMatrix().join(",")||this.parent&&this.parent.hasTransform()},o.prototype.getValue=function(){var t=this.node.value||"";return"SELECT"===this.node.tagName?t=function(t){var e=t.options[t.selectedIndex||0];return e&&e.text||""}(this.node):"password"===this.node.type&&(t=Array(t.length+1).join("\u2022")),0===t.length?this.node.placeholder||"":t},o.prototype.MATRIX_PROPERTY=/(matrix|matrix3d)\((.+)\)/,o.prototype.TEXT_SHADOW_PROPERTY=/((rgba|rgb)\([^\)]+\)(\s-?\d+px){0,})/g,o.prototype.TEXT_SHADOW_VALUES=/(-?\d+px)|(#.+)|(rgb\(.+\))|(rgba\(.+\))/g,o.prototype.CLIP=/^rect\((\d+)px,? (\d+)px,? (\d+)px,? (\d+)px\)$/,e.exports=o},{"./color":3,"./utils":26}],15:[function(t,e,i){function o(t,e,i,o,n){O("Starting NodeParser"),this.renderer=e,this.options=n,this.range=null,this.support=i,this.renderQueue=[],this.stack=new F(!0,1,t.ownerDocument,null);var r=new I(t,null);if(n.background&&e.rectangle(0,0,e.width,e.height,new j(n.background)),t===t.ownerDocument.documentElement){var s=new I(r.color("backgroundColor").isTransparent()?t.ownerDocument.body:t.ownerDocument.documentElement,null);e.rectangle(0,0,e.width,e.height,s.color("backgroundColor"))}r.visibile=r.isElementVisible(),this.createPseudoHideStyles(t.ownerDocument),this.disableAnimations(t.ownerDocument),this.nodes=P([r].concat(this.getChildren(r)).filter(function(t){return t.visible=t.isElementVisible()}).map(this.getPseudoElements,this)),this.fontMetrics=new L,O("Fetched nodes, total:",this.nodes.length),O("Calculate overflow clips"),this.calculateOverflowClips(),O("Start fetching images"),this.images=o.fetch(this.nodes.filter(M)),this.ready=this.images.ready.then(B(function(){return O("Images loaded, starting parsing"),O("Creating stacking contexts"),this.createStackingContexts(),O("Sorting stacking contexts"),this.sortStackingContexts(this.stack),this.parse(this.stack),O("Render queue created with "+this.renderQueue.length+" items"),new Promise(B(function(t){n.async?"function"==typeof n.async?n.async.call(this,this.renderQueue,t):this.renderQueue.length>0?(this.renderIndex=0,this.asyncRenderer(this.renderQueue,t)):t():(this.renderQueue.forEach(this.paint,this),t())},this))},this))}function n(t){return t.parent&&t.parent.clip.length}function r(t){return t.replace(/(\-[a-z])/g,function(t){return t.toUpperCase().replace("-","")})}function s(){}function a(t,e,i,o){return t.map(function(n,r){if(n.width>0){var s=e.left,a=e.top,h=e.width,l=e.height-t[2].width;switch(r){case 0:n.args=u({c1:[s,a],c2:[s+h,a],c3:[s+h-t[1].width,a+(l=t[0].width)],c4:[s+t[3].width,a+l]},o[0],o[1],i.topLeftOuter,i.topLeftInner,i.topRightOuter,i.topRightInner);break;case 1:n.args=u({c1:[(s=e.left+e.width-t[1].width)+(h=t[1].width),a],c2:[s+h,a+l+t[2].width],c3:[s,a+l],c4:[s,a+t[0].width]},o[1],o[2],i.topRightOuter,i.topRightInner,i.bottomRightOuter,i.bottomRightInner);break;case 2:n.args=u({c1:[s+h,(a=a+e.height-t[2].width)+(l=t[2].width)],c2:[s,a+l],c3:[s+t[3].width,a],c4:[s+h-t[3].width,a]},o[2],o[3],i.bottomRightOuter,i.bottomRightInner,i.bottomLeftOuter,i.bottomLeftInner);break;case 3:n.args=u({c1:[s,a+l+t[2].width],c2:[s,a],c3:[s+(h=t[3].width),a+t[0].width],c4:[s+h,a+l]},o[3],o[0],i.bottomLeftOuter,i.bottomLeftInner,i.topLeftOuter,i.topLeftInner)}}return n})}function h(t,e,i,o){var n=(Math.sqrt(2)-1)/3*4,r=i*n,s=o*n,a=t+i,h=e+o;return{topLeft:p({x:t,y:h},{x:t,y:h-s},{x:a-r,y:e},{x:a,y:e}),topRight:p({x:t,y:e},{x:t+r,y:e},{x:a,y:h-s},{x:a,y:h}),bottomRight:p({x:a,y:e},{x:a,y:e+s},{x:t+r,y:h},{x:t,y:h}),bottomLeft:p({x:a,y:h},{x:a-r,y:h},{x:t,y:e+s},{x:t,y:e})}}function l(t,e,i){var o=t.left,n=t.top,r=t.width,s=t.height,a=e[0][0]<r/2?e[0][0]:r/2,l=e[0][1]<s/2?e[0][1]:s/2,p=e[1][0]<r/2?e[1][0]:r/2,u=e[1][1]<s/2?e[1][1]:s/2,d=e[2][0]<r/2?e[2][0]:r/2,c=e[2][1]<s/2?e[2][1]:s/2,f=e[3][0]<r/2?e[3][0]:r/2,y=e[3][1]<s/2?e[3][1]:s/2,g=r-p,m=s-c,v=r-d,b=s-y;return{topLeftOuter:h(o,n,a,l).topLeft.subdivide(.5),topLeftInner:h(o+i[3].width,n+i[0].width,Math.max(0,a-i[3].width),Math.max(0,l-i[0].width)).topLeft.subdivide(.5),topRightOuter:h(o+g,n,p,u).topRight.subdivide(.5),topRightInner:h(o+Math.min(g,r+i[3].width),n+i[0].width,g>r+i[3].width?0:p-i[3].width,u-i[0].width).topRight.subdivide(.5),bottomRightOuter:h(o+v,n+m,d,c).bottomRight.subdivide(.5),bottomRightInner:h(o+Math.min(v,r-i[3].width),n+Math.min(m,s+i[0].width),Math.max(0,d-i[1].width),c-i[2].width).bottomRight.subdivide(.5),bottomLeftOuter:h(o,n+b,f,y).bottomLeft.subdivide(.5),bottomLeftInner:h(o+i[3].width,n+b,Math.max(0,f-i[3].width),y-i[2].width).bottomLeft.subdivide(.5)}}function p(t,e,i,o){var n=function(t,e,i){return{x:t.x+(e.x-t.x)*i,y:t.y+(e.y-t.y)*i}};return{start:t,startControl:e,endControl:i,end:o,subdivide:function(r){var s=n(t,e,r),a=n(e,i,r),h=n(i,o,r),l=n(s,a,r),u=n(a,h,r),d=n(l,u,r);return[p(t,s,l,d),p(d,u,h,o)]},curveTo:function(t){t.push(["bezierCurve",e.x,e.y,i.x,i.y,o.x,o.y])},curveToReversed:function(o){o.push(["bezierCurve",i.x,i.y,e.x,e.y,t.x,t.y])}}}function u(t,e,i,o,n,r,s){var a=[];return e[0]>0||e[1]>0?(a.push(["line",o[1].start.x,o[1].start.y]),o[1].curveTo(a)):a.push(["line",t.c1[0],t.c1[1]]),i[0]>0||i[1]>0?(a.push(["line",r[0].start.x,r[0].start.y]),r[0].curveTo(a),a.push(["line",s[0].end.x,s[0].end.y]),s[0].curveToReversed(a)):(a.push(["line",t.c2[0],t.c2[1]]),a.push(["line",t.c3[0],t.c3[1]])),e[0]>0||e[1]>0?(a.push(["line",n[1].end.x,n[1].end.y]),n[1].curveToReversed(a)):a.push(["line",t.c4[0],t.c4[1]]),a}function d(t,e,i,o,n,r,s){e[0]>0||e[1]>0?(t.push(["line",o[0].start.x,o[0].start.y]),o[0].curveTo(t),o[1].curveTo(t)):t.push(["line",r,s]),(i[0]>0||i[1]>0)&&t.push(["line",n[0].start.x,n[0].start.y])}function c(t){return t.cssInt("zIndex")<0}function f(t){return t.cssInt("zIndex")>0}function y(t){return 0===t.cssInt("zIndex")}function g(t){return-1!==["inline","inline-block","inline-table"].indexOf(t.css("display"))}function m(t){return t instanceof F}function v(t){return t.node.data.trim().length>0}function b(t){return t.nodeType===Node.TEXT_NODE||t.nodeType===Node.ELEMENT_NODE}function w(t){return"static"!==t.css("position")}function x(t){return"none"!==t.css("float")}function _(t){var e=this;return function(){return!t.apply(e,arguments)}}function M(t){return t.node.nodeType===Node.ELEMENT_NODE}function k(t){return!0===t.isPseudoElement}function S(t){return t.node.nodeType===Node.TEXT_NODE}function C(t){return parseInt(t,10)}function E(t){return t.width}function T(t){return t.node.nodeType!==Node.ELEMENT_NODE||-1===["SCRIPT","HEAD","TITLE","OBJECT","BR","OPTION"].indexOf(t.node.nodeName)}function P(t){return[].concat.apply([],t)}function A(t){return-1!==[32,13,10,9,45].indexOf(t)}var O=t("./log"),D=t("punycode"),I=t("./nodecontainer"),R=t("./textcontainer"),N=t("./pseudoelementcontainer"),L=t("./fontmetrics"),j=t("./color"),F=t("./stackingcontext"),z=t("./utils"),B=z.bind,q=z.getBounds,H=z.parseBackgrounds,U=z.offsetBounds;o.prototype.calculateOverflowClips=function(){this.nodes.forEach(function(t){if(M(t)){k(t)&&t.appendToDOM(),t.borders=this.parseBorders(t);var e="hidden"===t.css("overflow")?[t.borders.clip]:[],i=t.parseClip();i&&-1!==["absolute","fixed"].indexOf(t.css("position"))&&e.push([["rect",t.bounds.left+i.left,t.bounds.top+i.top,i.right-i.left,i.bottom-i.top]]),t.clip=n(t)?t.parent.clip.concat(e):e,t.backgroundClip="hidden"!==t.css("overflow")?t.clip.concat([t.borders.clip]):t.clip,k(t)&&t.cleanDOM()}else S(t)&&(t.clip=n(t)?t.parent.clip:[]);k(t)||(t.bounds=null)},this)},o.prototype.asyncRenderer=function(t,e,i){i=i||Date.now(),this.paint(t[this.renderIndex++]),t.length===this.renderIndex?e():i+20>Date.now()?this.asyncRenderer(t,e,i):setTimeout(B(function(){this.asyncRenderer(t,e)},this),0)},o.prototype.createPseudoHideStyles=function(t){this.createStyles(t,"."+N.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE+':before { content: "" !important; display: none !important; }.'+N.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER+':after { content: "" !important; display: none !important; }')},o.prototype.disableAnimations=function(t){this.createStyles(t,"* { -webkit-animation: none !important; -moz-animation: none !important; -o-animation: none !important; animation: none !important; -webkit-transition: none !important; -moz-transition: none !important; -o-transition: none !important; transition: none !important;}")},o.prototype.createStyles=function(t,e){var i=t.createElement("style");i.innerHTML=e,t.body.appendChild(i)},o.prototype.getPseudoElements=function(t){var e=[[t]];if(t.node.nodeType===Node.ELEMENT_NODE){var i=this.getPseudoElement(t,":before"),o=this.getPseudoElement(t,":after");i&&e.push(i),o&&e.push(o)}return P(e)},o.prototype.getPseudoElement=function(t,e){var i=t.computedStyle(e);if(!i||!i.content||"none"===i.content||"-moz-alt-content"===i.content||"none"===i.display)return null;for(var o=function(t){var e=t.substr(0,1);return e===t.substr(t.length-1)&&e.match(/'|"/)?t.substr(1,t.length-2):t}(i.content),n="url"===o.substr(0,3),s=document.createElement(n?"img":"html2canvaspseudoelement"),a=new N(s,t,e),h=i.length-1;h>=0;h--){var l=r(i.item(h));s.style[l]=i[l]}if(s.className=N.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE+" "+N.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER,n)return s.src=H(o)[0].args[0],[a];var p=document.createTextNode(o);return s.appendChild(p),[a,new R(p,a)]},o.prototype.getChildren=function(t){return P([].filter.call(t.node.childNodes,b).map(function(e){var i=[e.nodeType===Node.TEXT_NODE?new R(e,t):new I(e,t)].filter(T);return e.nodeType===Node.ELEMENT_NODE&&i.length&&"TEXTAREA"!==e.tagName?i[0].isElementVisible()?i.concat(this.getChildren(i[0])):[]:i},this))},o.prototype.newStackingContext=function(t,e){var i=new F(e,t.getOpacity(),t.node,t.parent);t.cloneTo(i),(e?i.getParentStack(this):i.parent.stack).contexts.push(i),t.stack=i},o.prototype.createStackingContexts=function(){this.nodes.forEach(function(t){M(t)&&(this.isRootElement(t)||function(t){return t.getOpacity()<1}(t)||function(t){var e=t.css("position");return"auto"!==(-1!==["absolute","relative","fixed"].indexOf(e)?t.css("zIndex"):"auto")}(t)||this.isBodyWithTransparentRoot(t)||t.hasTransform())?this.newStackingContext(t,!0):M(t)&&(w(t)&&y(t)||function(t){return-1!==["inline-block","inline-table"].indexOf(t.css("display"))}(t)||x(t))?this.newStackingContext(t,!1):t.assignStack(t.parent.stack)},this)},o.prototype.isBodyWithTransparentRoot=function(t){return"BODY"===t.node.nodeName&&t.parent.color("backgroundColor").isTransparent()},o.prototype.isRootElement=function(t){return null===t.parent},o.prototype.sortStackingContexts=function(t){t.contexts.sort(function(t){return function(e,i){return e.cssInt("zIndex")+t.indexOf(e)/t.length-(i.cssInt("zIndex")+t.indexOf(i)/t.length)}}(t.contexts.slice(0))),t.contexts.forEach(this.sortStackingContexts,this)},o.prototype.parseTextBounds=function(t){return function(e,i,o){if("none"!==t.parent.css("textDecoration").substr(0,4)||0!==e.trim().length){if(this.support.rangeBounds&&!t.parent.hasTransform()){var n=o.slice(0,i).join("").length;return this.getRangeBounds(t.node,n,e.length)}if(t.node&&"string"==typeof t.node.data){var r=t.node.splitText(e.length),s=this.getWrapperBounds(t.node,t.parent.hasTransform());return t.node=r,s}}else this.support.rangeBounds&&!t.parent.hasTransform()||(t.node=t.node.splitText(e.length));return{}}},o.prototype.getWrapperBounds=function(t,e){var i=t.ownerDocument.createElement("html2canvaswrapper"),o=t.parentNode,n=t.cloneNode(!0);i.appendChild(t.cloneNode(!0)),o.replaceChild(i,t);var r=e?U(i):q(i);return o.replaceChild(n,i),r},o.prototype.getRangeBounds=function(t,e,i){var o=this.range||(this.range=t.ownerDocument.createRange());return o.setStart(t,e),o.setEnd(t,e+i),o.getBoundingClientRect()},o.prototype.parse=function(t){var e=t.contexts.filter(c),i=t.children.filter(M),o=i.filter(_(x)),n=o.filter(_(w)).filter(_(g)),r=i.filter(_(w)).filter(x),a=o.filter(_(w)).filter(g),h=t.contexts.concat(o.filter(w)).filter(y),l=t.children.filter(S).filter(v),p=t.contexts.filter(f);e.concat(n).concat(r).concat(a).concat(h).concat(l).concat(p).forEach(function(t){this.renderQueue.push(t),m(t)&&(this.parse(t),this.renderQueue.push(new s))},this)},o.prototype.paint=function(t){try{t instanceof s?this.renderer.ctx.restore():S(t)?(k(t.parent)&&t.parent.appendToDOM(),this.paintText(t),k(t.parent)&&t.parent.cleanDOM()):this.paintNode(t)}catch(t){if(O(t),this.options.strict)throw t}},o.prototype.paintNode=function(t){m(t)&&(this.renderer.setOpacity(t.opacity),this.renderer.ctx.save(),t.hasTransform()&&this.renderer.setTransform(t.parseTransform())),"INPUT"===t.node.nodeName&&"checkbox"===t.node.type?this.paintCheckbox(t):"INPUT"===t.node.nodeName&&"radio"===t.node.type?this.paintRadio(t):this.paintElement(t)},o.prototype.paintElement=function(t){var e=t.parseBounds();this.renderer.clip(t.backgroundClip,function(){this.renderer.renderBackground(t,e,t.borders.borders.map(E))},this),this.renderer.clip(t.clip,function(){this.renderer.renderBorders(t.borders.borders)},this),this.renderer.clip(t.backgroundClip,function(){switch(t.node.nodeName){case"svg":case"IFRAME":var i=this.images.get(t.node);i?this.renderer.renderImage(t,e,t.borders,i):O("Error loading <"+t.node.nodeName+">",t.node);break;case"IMG":var o=this.images.get(t.node.src);o?this.renderer.renderImage(t,e,t.borders,o):O("Error loading <img>",t.node.src);break;case"CANVAS":this.renderer.renderImage(t,e,t.borders,{image:t.node});break;case"SELECT":case"INPUT":case"TEXTAREA":this.paintFormValue(t)}},this)},o.prototype.paintCheckbox=function(t){var e=t.parseBounds(),i=Math.min(e.width,e.height),o={width:i-1,height:i-1,top:e.top,left:e.left},n=[3,3],r=[n,n,n,n],s=[1,1,1,1].map(function(t){return{color:new j("#A5A5A5"),width:t}}),h=l(o,r,s);this.renderer.clip(t.backgroundClip,function(){this.renderer.rectangle(o.left+1,o.top+1,o.width-2,o.height-2,new j("#DEDEDE")),this.renderer.renderBorders(a(s,o,h,r)),t.node.checked&&(this.renderer.font(new j("#424242"),"normal","normal","bold",i-3+"px","arial"),this.renderer.text("\u2714",o.left+i/6,o.top+i-1))},this)},o.prototype.paintRadio=function(t){var e=t.parseBounds(),i=Math.min(e.width,e.height)-2;this.renderer.clip(t.backgroundClip,function(){this.renderer.circleStroke(e.left+1,e.top+1,i,new j("#DEDEDE"),1,new j("#A5A5A5")),t.node.checked&&this.renderer.circle(Math.ceil(e.left+i/4)+1,Math.ceil(e.top+i/4)+1,Math.floor(i/2),new j("#424242"))},this)},o.prototype.paintFormValue=function(t){var e=t.getValue();if(e.length>0){var i=t.node.ownerDocument,o=i.createElement("html2canvaswrapper");["lineHeight","textAlign","fontFamily","fontWeight","fontSize","color","paddingLeft","paddingTop","paddingRight","paddingBottom","width","height","borderLeftStyle","borderTopStyle","borderLeftWidth","borderTopWidth","boxSizing","whiteSpace","wordWrap"].forEach(function(e){try{o.style[e]=t.css(e)}catch(t){O("html2canvas: Parse: Exception caught in renderFormValue: "+t.message)}});var n=t.parseBounds();o.style.position="fixed",o.style.left=n.left+"px",o.style.top=n.top+"px",o.textContent=e,i.body.appendChild(o),this.paintText(new R(o.firstChild,t)),i.body.removeChild(o)}},o.prototype.paintText=function(t){t.applyTextTransform();var e=D.ucs2.decode(t.node.data),i=this.options.letterRendering&&!function(t){return/^(normal|none|0px)$/.test(t.parent.css("letterSpacing"))}(t)||function(t){return/[^\u0000-\u00ff]/.test(t)}(t.node.data)?e.map(function(t){return D.ucs2.encode([t])}):function(t){for(var e,i=[],o=0,n=!1;t.length;)A(t[o])===n?((e=t.splice(0,o)).length&&i.push(D.ucs2.encode(e)),n=!n,o=0):o++,o>=t.length&&(e=t.splice(0,o)).length&&i.push(D.ucs2.encode(e));return i}(e),o=t.parent.fontWeight(),n=t.parent.css("fontSize"),r=t.parent.css("fontFamily"),s=t.parent.parseTextShadows();this.renderer.font(t.parent.color("color"),t.parent.css("fontStyle"),t.parent.css("fontVariant"),o,n,r),s.length?this.renderer.fontShadow(s[0].color,s[0].offsetX,s[0].offsetY,s[0].blur):this.renderer.clearShadow(),this.renderer.clip(t.parent.clip,function(){i.map(this.parseTextBounds(t),this).forEach(function(e,o){e&&(this.renderer.text(i[o],e.left,e.bottom),this.renderTextDecoration(t.parent,e,this.fontMetrics.getMetrics(r,n)))},this)},this)},o.prototype.renderTextDecoration=function(t,e,i){switch(t.css("textDecoration").split(" ")[0]){case"underline":this.renderer.rectangle(e.left,Math.round(e.top+i.baseline+i.lineWidth),e.width,1,t.color("color"));break;case"overline":this.renderer.rectangle(e.left,Math.round(e.top),e.width,1,t.color("color"));break;case"line-through":this.renderer.rectangle(e.left,Math.ceil(e.top+i.middle+i.lineWidth),e.width,1,t.color("color"))}};var W={inset:[["darken",.6],["darken",.1],["darken",.1],["darken",.6]]};o.prototype.parseBorders=function(t){var e=t.parseBounds(),i=function(t){return["TopLeft","TopRight","BottomRight","BottomLeft"].map(function(e){var i=t.css("border"+e+"Radius").split(" ");return i.length<=1&&(i[1]=i[0]),i.map(C)})}(t),o=["Top","Right","Bottom","Left"].map(function(e,i){var o=t.css("border"+e+"Style"),n=t.color("border"+e+"Color");"inset"===o&&n.isBlack()&&(n=new j([255,255,255,n.a]));var r=W[o]?W[o][i]:null;return{width:t.cssInt("border"+e+"Width"),color:r?n[r[0]](r[1]):n,args:null}}),n=l(e,i,o);return{clip:this.parseBackgroundClip(t,n,o,i,e),borders:a(o,e,n,i)}},o.prototype.parseBackgroundClip=function(t,e,i,o,n){var r=[];switch(t.css("backgroundClip")){case"content-box":case"padding-box":d(r,o[0],o[1],e.topLeftInner,e.topRightInner,n.left+i[3].width,n.top+i[0].width),d(r,o[1],o[2],e.topRightInner,e.bottomRightInner,n.left+n.width-i[1].width,n.top+i[0].width),d(r,o[2],o[3],e.bottomRightInner,e.bottomLeftInner,n.left+n.width-i[1].width,n.top+n.height-i[2].width),d(r,o[3],o[0],e.bottomLeftInner,e.topLeftInner,n.left+i[3].width,n.top+n.height-i[2].width);break;default:d(r,o[0],o[1],e.topLeftOuter,e.topRightOuter,n.left,n.top),d(r,o[1],o[2],e.topRightOuter,e.bottomRightOuter,n.left+n.width,n.top),d(r,o[2],o[3],e.bottomRightOuter,e.bottomLeftOuter,n.left+n.width,n.top+n.height),d(r,o[3],o[0],e.bottomLeftOuter,e.topLeftOuter,n.left,n.top+n.height)}return r},e.exports=o},{"./color":3,"./fontmetrics":7,"./log":13,"./nodecontainer":14,"./pseudoelementcontainer":18,"./stackingcontext":21,"./textcontainer":25,"./utils":26,punycode:1}],16:[function(t,e,i){function o(t,e,i){var o="withCredentials"in new XMLHttpRequest;if(!e)return Promise.reject("No proxy configured");var h=r(o),l=s(e,t,h);return o?a(l):n(i,l,h).then(function(t){return u(t.content)})}function n(t,e,i){return new Promise(function(o,n){var r=t.createElement("script"),s=function(){delete window.html2canvas.proxy[i],t.body.removeChild(r)};window.html2canvas.proxy[i]=function(t){s(),o(t)},r.src=e,r.onerror=function(t){s(),n(t)},t.body.appendChild(r)})}function r(t){return t?"":"html2canvas_"+Date.now()+"_"+ ++d+"_"+Math.round(1e5*Math.random())}function s(t,e,i){return t+"?url="+encodeURIComponent(e)+(i.length?"&callback=html2canvas.proxy."+i:"")}var a=t("./xhr"),h=t("./utils"),l=t("./log"),p=t("./clone"),u=h.decode64,d=0;i.Proxy=o,i.ProxyURL=function(t,e,i){var o="crossOrigin"in new Image,a=r(o),h=s(e,t,a);return o?Promise.resolve(h):n(i,h,a).then(function(t){return"data:"+t.type+";base64,"+t.content})},i.loadUrlDocument=function(t,e,i,n,r,s){return new o(t,e,window.document).then(function(t){return function(e){var i,o=new DOMParser;try{i=o.parseFromString(e,"text/html")}catch(t){l("DOMParser not supported, falling back to createHTMLDocument"),i=document.implementation.createHTMLDocument("");try{i.open(),i.write(e),i.close()}catch(t){l("createHTMLDocument write not supported, falling back to document.body.innerHTML"),i.body.innerHTML=e}}var n=i.querySelector("base");if(!n||!n.href.host){var r=i.createElement("base");r.href=t,i.head.insertBefore(r,i.head.firstChild)}return i}}(t)).then(function(t){return p(t,i,n,r,s,0,0)})}},{"./clone":2,"./log":13,"./utils":26,"./xhr":28}],17:[function(t,e,i){var o=t("./proxy").ProxyURL;e.exports=function(t,e){var i=document.createElement("a");i.href=t,this.src=t=i.href,this.image=new Image;var n=this;this.promise=new Promise(function(i,r){n.image.crossOrigin="Anonymous",n.image.onload=i,n.image.onerror=r,new o(t,e,document).then(function(t){n.image.src=t}).catch(r)})}},{"./proxy":16}],18:[function(t,e,i){function o(t,e,i){n.call(this,t,e),this.isPseudoElement=!0,this.before=":before"===i}var n=t("./nodecontainer");o.prototype.cloneTo=function(t){o.prototype.cloneTo.call(this,t),t.isPseudoElement=!0,t.before=this.before},(o.prototype=Object.create(n.prototype)).appendToDOM=function(){this.before?this.parent.node.insertBefore(this.node,this.parent.node.firstChild):this.parent.node.appendChild(this.node),this.parent.node.className+=" "+this.getHideClass()},o.prototype.cleanDOM=function(){this.node.parentNode.removeChild(this.node),this.parent.node.className=this.parent.node.className.replace(this.getHideClass(),"")},o.prototype.getHideClass=function(){return this["PSEUDO_HIDE_ELEMENT_CLASS_"+(this.before?"BEFORE":"AFTER")]},o.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE="___html2canvas___pseudoelement_before",o.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER="___html2canvas___pseudoelement_after",e.exports=o},{"./nodecontainer":14}],19:[function(t,e,i){function o(t,e,i,o,n){this.width=t,this.height=e,this.images=i,this.options=o,this.document=n}var n=t("./log");o.prototype.renderImage=function(t,e,i,o){var n=t.cssInt("paddingLeft"),r=t.cssInt("paddingTop"),s=t.cssInt("paddingRight"),a=t.cssInt("paddingBottom"),h=i.borders,l=e.width-(h[1].width+h[3].width+n+s),p=e.height-(h[0].width+h[2].width+r+a);this.drawImage(o,0,0,o.image.width||l,o.image.height||p,e.left+n+h[3].width,e.top+r+h[0].width,l,p)},o.prototype.renderBackground=function(t,e,i){e.height>0&&e.width>0&&(this.renderBackgroundColor(t,e),this.renderBackgroundImage(t,e,i))},o.prototype.renderBackgroundColor=function(t,e){var i=t.color("backgroundColor");i.isTransparent()||this.rectangle(e.left,e.top,e.width,e.height,i)},o.prototype.renderBorders=function(t){t.forEach(this.renderBorder,this)},o.prototype.renderBorder=function(t){t.color.isTransparent()||null===t.args||this.drawShape(t.args,t.color)},o.prototype.renderBackgroundImage=function(t,e,i){t.parseBackgroundImages().reverse().forEach(function(o,r,s){switch(o.method){case"url":var a=this.images.get(o.args[0]);a?this.renderBackgroundRepeating(t,e,a,s.length-(r+1),i):n("Error loading background-image",o.args[0]);break;case"linear-gradient":case"gradient":var h=this.images.get(o.value);h?this.renderBackgroundGradient(h,e,i):n("Error loading background-image",o.args[0]);break;case"none":break;default:n("Unknown background-image type",o.args[0])}},this)},o.prototype.renderBackgroundRepeating=function(t,e,i,o,n){var r=t.parseBackgroundSize(e,i.image,o),s=t.parseBackgroundPosition(e,i.image,o,r);switch(t.parseBackgroundRepeat(o)){case"repeat-x":case"repeat no-repeat":this.backgroundRepeatShape(i,s,r,e,e.left+n[3],e.top+s.top+n[0],99999,r.height,n);break;case"repeat-y":case"no-repeat repeat":this.backgroundRepeatShape(i,s,r,e,e.left+s.left+n[3],e.top+n[0],r.width,99999,n);break;case"no-repeat":this.backgroundRepeatShape(i,s,r,e,e.left+s.left+n[3],e.top+s.top+n[0],r.width,r.height,n);break;default:this.renderBackgroundRepeat(i,s,r,{top:e.top,left:e.left},n[3],n[0])}},e.exports=o},{"./log":13}],20:[function(t,e,i){function o(t,e){r.apply(this,arguments),this.canvas=this.options.canvas||this.document.createElement("canvas"),this.options.canvas||(this.canvas.width=t,this.canvas.height=e),this.ctx=this.canvas.getContext("2d"),this.taintCtx=this.document.createElement("canvas").getContext("2d"),this.ctx.textBaseline="bottom",this.variables={},a("Initialized CanvasRenderer with size",t,"x",e)}function n(t){return t.length>0}var r=t("../renderer"),s=t("../lineargradientcontainer"),a=t("../log");(o.prototype=Object.create(r.prototype)).setFillStyle=function(t){return this.ctx.fillStyle="object"==typeof t&&t.isColor?t.toString():t,this.ctx},o.prototype.rectangle=function(t,e,i,o,n){this.setFillStyle(n).fillRect(t,e,i,o)},o.prototype.circle=function(t,e,i,o){this.setFillStyle(o),this.ctx.beginPath(),this.ctx.arc(t+i/2,e+i/2,i/2,0,2*Math.PI,!0),this.ctx.closePath(),this.ctx.fill()},o.prototype.circleStroke=function(t,e,i,o,n,r){this.circle(t,e,i,o),this.ctx.strokeStyle=r.toString(),this.ctx.stroke()},o.prototype.drawShape=function(t,e){this.shape(t),this.setFillStyle(e).fill()},o.prototype.taints=function(t){if(null===t.tainted){this.taintCtx.drawImage(t.image,0,0);try{this.taintCtx.getImageData(0,0,1,1),t.tainted=!1}catch(e){this.taintCtx=document.createElement("canvas").getContext("2d"),t.tainted=!0}}return t.tainted},o.prototype.drawImage=function(t,e,i,o,n,r,s,a,h){this.taints(t)&&!this.options.allowTaint||this.ctx.drawImage(t.image,e,i,o,n,r,s,a,h)},o.prototype.clip=function(t,e,i){this.ctx.save(),t.filter(n).forEach(function(t){this.shape(t).clip()},this),e.call(i),this.ctx.restore()},o.prototype.shape=function(t){return this.ctx.beginPath(),t.forEach(function(t,e){"rect"===t[0]?this.ctx.rect.apply(this.ctx,t.slice(1)):this.ctx[0===e?"moveTo":t[0]+"To"].apply(this.ctx,t.slice(1))},this),this.ctx.closePath(),this.ctx},o.prototype.font=function(t,e,i,o,n,r){this.setFillStyle(t).font=[e,i,o,n,r].join(" ").split(",")[0]},o.prototype.fontShadow=function(t,e,i,o){this.setVariable("shadowColor",t.toString()).setVariable("shadowOffsetY",e).setVariable("shadowOffsetX",i).setVariable("shadowBlur",o)},o.prototype.clearShadow=function(){this.setVariable("shadowColor","rgba(0,0,0,0)")},o.prototype.setOpacity=function(t){this.ctx.globalAlpha=t},o.prototype.setTransform=function(t){this.ctx.translate(t.origin[0],t.origin[1]),this.ctx.transform.apply(this.ctx,t.matrix),this.ctx.translate(-t.origin[0],-t.origin[1])},o.prototype.setVariable=function(t,e){return this.variables[t]!==e&&(this.variables[t]=this.ctx[t]=e),this},o.prototype.text=function(t,e,i){this.ctx.fillText(t,e,i)},o.prototype.backgroundRepeatShape=function(t,e,i,o,n,r,s,a,h){var l=[["line",Math.round(n),Math.round(r)],["line",Math.round(n+s),Math.round(r)],["line",Math.round(n+s),Math.round(a+r)],["line",Math.round(n),Math.round(a+r)]];this.clip([l],function(){this.renderBackgroundRepeat(t,e,i,o,h[3],h[0])},this)},o.prototype.renderBackgroundRepeat=function(t,e,i,o,n,r){var s=Math.round(o.left+e.left+n),a=Math.round(o.top+e.top+r);this.setFillStyle(this.ctx.createPattern(this.resizeImage(t,i),"repeat")),this.ctx.translate(s,a),this.ctx.fill(),this.ctx.translate(-s,-a)},o.prototype.renderBackgroundGradient=function(t,e){if(t instanceof s){var i=this.ctx.createLinearGradient(e.left+e.width*t.x0,e.top+e.height*t.y0,e.left+e.width*t.x1,e.top+e.height*t.y1);t.colorStops.forEach(function(t){i.addColorStop(t.stop,t.color.toString())}),this.rectangle(e.left,e.top,e.width,e.height,i)}},o.prototype.resizeImage=function(t,e){var i=t.image;if(i.width===e.width&&i.height===e.height)return i;var o=document.createElement("canvas");return o.width=e.width,o.height=e.height,o.getContext("2d").drawImage(i,0,0,i.width,i.height,0,0,e.width,e.height),o},e.exports=o},{"../lineargradientcontainer":12,"../log":13,"../renderer":19}],21:[function(t,e,i){function o(t,e,i,o){n.call(this,i,o),this.ownStacking=t,this.contexts=[],this.children=[],this.opacity=(this.parent?this.parent.stack.opacity:1)*e}var n=t("./nodecontainer");(o.prototype=Object.create(n.prototype)).getParentStack=function(t){var e=this.parent?this.parent.stack:null;return e?e.ownStacking?e:e.getParentStack(t):t.stack},e.exports=o},{"./nodecontainer":14}],22:[function(t,e,i){function o(t){this.rangeBounds=this.testRangeBounds(t),this.cors=this.testCORS(),this.svg=this.testSVG()}o.prototype.testRangeBounds=function(t){var e,i,o=!1;return t.createRange&&(e=t.createRange()).getBoundingClientRect&&((i=t.createElement("boundtest")).style.height="123px",i.style.display="block",t.body.appendChild(i),e.selectNode(i),123===e.getBoundingClientRect().height&&(o=!0),t.body.removeChild(i)),o},o.prototype.testCORS=function(){return void 0!==(new Image).crossOrigin},o.prototype.testSVG=function(){var t=new Image,e=document.createElement("canvas"),i=e.getContext("2d");t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{i.drawImage(t,0,0),e.toDataURL()}catch(t){return!1}return!0},e.exports=o},{}],23:[function(t,e,i){function o(t){this.src=t,this.image=null;var e=this;this.promise=this.hasFabric().then(function(){return e.isInline(t)?Promise.resolve(e.inlineFormatting(t)):n(t)}).then(function(t){return new Promise(function(i){window.html2canvas.svg.fabric.loadSVGFromString(t,e.createCanvas.call(e,i))})})}var n=t("./xhr"),r=t("./utils").decode64;o.prototype.hasFabric=function(){return window.html2canvas.svg&&window.html2canvas.svg.fabric?Promise.resolve():Promise.reject(new Error("html2canvas.svg.js is not loaded, cannot render svg"))},o.prototype.inlineFormatting=function(t){return/^data:image\/svg\+xml;base64,/.test(t)?this.decode64(this.removeContentType(t)):this.removeContentType(t)},o.prototype.removeContentType=function(t){return t.replace(/^data:image\/svg\+xml(;base64)?,/,"")},o.prototype.isInline=function(t){return/^data:image\/svg\+xml/i.test(t)},o.prototype.createCanvas=function(t){var e=this;return function(i,o){var n=new window.html2canvas.svg.fabric.StaticCanvas("c");e.image=n.lowerCanvasEl,n.setWidth(o.width).setHeight(o.height).add(window.html2canvas.svg.fabric.util.groupSVGElements(i,o)).renderAll(),t(n.lowerCanvasEl)}},o.prototype.decode64=function(t){return"function"==typeof window.atob?window.atob(t):r(t)},e.exports=o},{"./utils":26,"./xhr":28}],24:[function(t,e,i){function o(t,e){this.src=t,this.image=null;var i=this;this.promise=e?new Promise(function(e,o){i.image=new Image,i.image.onload=e,i.image.onerror=o,i.image.src="data:image/svg+xml,"+(new XMLSerializer).serializeToString(t),!0===i.image.complete&&e(i.image)}):this.hasFabric().then(function(){return new Promise(function(e){window.html2canvas.svg.fabric.parseSVGDocument(t,i.createCanvas.call(i,e))})})}var n=t("./svgcontainer");o.prototype=Object.create(n.prototype),e.exports=o},{"./svgcontainer":23}],25:[function(t,e,i){function o(t,e){r.call(this,t,e)}function n(t,e,i){if(t.length>0)return e+i.toUpperCase()}var r=t("./nodecontainer");(o.prototype=Object.create(r.prototype)).applyTextTransform=function(){this.node.data=this.transform(this.parent.css("textTransform"))},o.prototype.transform=function(t){var e=this.node.data;switch(t){case"lowercase":return e.toLowerCase();case"capitalize":return e.replace(/(^|\s|:|-|\(|\))([a-z])/g,n);case"uppercase":return e.toUpperCase();default:return e}},e.exports=o},{"./nodecontainer":14}],26:[function(t,e,i){i.smallImage=function(){return"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"},i.bind=function(t,e){return function(){return t.apply(e,arguments)}},i.decode64=function(t){var e,i,o,n,r,s,a,h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l=t.length,p="";for(e=0;e<l;e+=4)r=h.indexOf(t[e])<<2|(i=h.indexOf(t[e+1]))>>4,s=(15&i)<<4|(o=h.indexOf(t[e+2]))>>2,a=(3&o)<<6|(n=h.indexOf(t[e+3])),p+=64===o?String.fromCharCode(r):64===n||-1===n?String.fromCharCode(r,s):String.fromCharCode(r,s,a);return p},i.getBounds=function(t){if(t.getBoundingClientRect){var e=t.getBoundingClientRect(),i=null==t.offsetWidth?e.width:t.offsetWidth;return{top:e.top,bottom:e.bottom||e.top+e.height,right:e.left+i,left:e.left,width:i,height:null==t.offsetHeight?e.height:t.offsetHeight}}return{}},i.offsetBounds=function(t){var e=t.offsetParent?i.offsetBounds(t.offsetParent):{top:0,left:0};return{top:t.offsetTop+e.top,bottom:t.offsetTop+t.offsetHeight+e.top,right:t.offsetLeft+e.left+t.offsetWidth,left:t.offsetLeft+e.left,width:t.offsetWidth,height:t.offsetHeight}},i.parseBackgrounds=function(t){var e,i,o,n,r,s,a,h=[],l=0,p=0,u=function(){e&&('"'===i.substr(0,1)&&(i=i.substr(1,i.length-2)),i&&a.push(i),"-"===e.substr(0,1)&&(n=e.indexOf("-",1)+1)>0&&(o=e.substr(0,n),e=e.substr(n)),h.push({prefix:o,method:e.toLowerCase(),value:r,args:a,image:null})),a=[],e=o=i=r=""};return a=[],e=o=i=r="",t.split("").forEach(function(t){if(!(0===l&&" \r\n\t".indexOf(t)>-1)){switch(t){case'"':s?s===t&&(s=null):s=t;break;case"(":if(s)break;if(0===l)return l=1,void(r+=t);p++;break;case")":if(s)break;if(1===l){if(0===p)return l=0,r+=t,void u();p--}break;case",":if(s)break;if(0===l)return void u();if(1===l&&0===p&&!e.match(/^url$/i))return a.push(i),i="",void(r+=t)}r+=t,0===l?e+=t:i+=t}}),u(),h}},{}],27:[function(t,e,i){function o(t){n.apply(this,arguments),this.type="linear"===t.args[0]?n.TYPES.LINEAR:n.TYPES.RADIAL}var n=t("./gradientcontainer");o.prototype=Object.create(n.prototype),e.exports=o},{"./gradientcontainer":9}],28:[function(t,e,i){e.exports=function(t){return new Promise(function(e,i){var o=new XMLHttpRequest;o.open("GET",t),o.onload=function(){200===o.status?e(o.responseText):i(new Error(o.statusText))},o.onerror=function(){i(new Error("Network Error"))},o.send()})}},{}]},{},[4])(4)}),function(t){var e;e=function(){function e(t){var e,i,o,n,r,s,a,h,l,p,u,d,c;for(this.data=t,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},r=null;;){switch(e=this.readUInt32(),h=(function(){var t,e;for(e=[],t=0;t<4;++t)e.push(String.fromCharCode(this.data[this.pos++]));return e}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(e);break;case"fcTL":r&&this.animation.frames.push(r),this.pos+=4,r={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},n=this.readUInt16(),o=this.readUInt16()||100,r.delay=1e3*n/o,r.disposeOp=this.data[this.pos++],r.blendOp=this.data[this.pos++],r.data=[];break;case"IDAT":case"fdAT":for("fdAT"===h&&(this.pos+=4,e-=4),t=(null!=r?r.data:void 0)||this.imgData,u=0;0<=e?u<e:u>e;0<=e?++u:--u)t.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(i=this.palette.length/3,this.transparency.indexed=this.read(e),this.transparency.indexed.length>i)throw new Error("More transparent colors than palette size");if((l=i-this.transparency.indexed.length)>0)for(d=0;0<=l?d<l:d>l;0<=l?++d:--d)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(e)[0];break;case 2:this.transparency.rgb=this.read(e)}break;case"tEXt":s=(p=this.read(e)).indexOf(0),a=String.fromCharCode.apply(String,p.slice(0,s)),this.text[a]=String.fromCharCode.apply(String,p.slice(s+1));break;case"IEND":return r&&this.animation.frames.push(r),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=4===(c=this.colorType)||6===c,this.pixelBitlength=this.bits*(this.colors+(this.hasAlphaChannel?1:0)),this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=e}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}var i,o,n;e.load=function(t,i,o){var n;return"function"==typeof i&&(o=i),(n=new XMLHttpRequest).open("GET",t,!0),n.responseType="arraybuffer",n.onload=function(){var t;return t=new e(new Uint8Array(n.response||n.mozResponseArrayBuffer)),"function"==typeof(null!=i?i.getContext:void 0)&&t.render(i),"function"==typeof o?o(t):void 0},n.send(null)},e.prototype.read=function(t){var e,i;for(i=[],e=0;0<=t?e<t:e>t;0<=t?++e:--e)i.push(this.data[this.pos++]);return i},e.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},e.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},e.prototype.decodePixels=function(t){var e,i,o,n,r,s,h,l,p,u,d,c,f,y,g,m,v,b,w,x,_,M;if(null==t&&(t=this.imgData),0===t.length)return new Uint8Array(0);for(t=(t=new a(t)).getBytes(),g=(d=this.pixelBitlength/8)*this.width,c=new Uint8Array(g*this.height),s=t.length,y=0,f=0,i=0;f<s;){switch(t[f++]){case 0:for(n=b=0;b<g;n=b+=1)c[i++]=t[f++];break;case 1:for(n=w=0;w<g;n=w+=1)e=t[f++],r=n<d?0:c[i-d],c[i++]=(e+r)%256;break;case 2:for(n=x=0;x<g;n=x+=1)e=t[f++],o=(n-n%d)/d,c[i++]=((m=y&&c[(y-1)*g+o*d+n%d])+e)%256;break;case 3:for(n=_=0;_<g;n=_+=1)e=t[f++],o=(n-n%d)/d,r=n<d?0:c[i-d],m=y&&c[(y-1)*g+o*d+n%d],c[i++]=(e+Math.floor((r+m)/2))%256;break;case 4:for(n=M=0;M<g;n=M+=1)e=t[f++],o=(n-n%d)/d,r=n<d?0:c[i-d],0===y?m=v=0:(m=c[(y-1)*g+o*d+n%d],v=o&&c[(y-1)*g+(o-1)*d+n%d]),h=r+m-v,l=Math.abs(h-r),p=Math.abs(h-m),u=Math.abs(h-v),c[i++]=(e+(l<=p&&l<=u?r:p<=u?m:v))%256;break;default:throw new Error("Invalid filter algorithm: "+t[f-1])}y++}return c},e.prototype.decodePalette=function(){var t,e,i,o,n,r,s,a,h;for(i=this.palette,r=this.transparency.indexed||[],n=new Uint8Array((r.length||0)+i.length),o=0,t=0,e=s=0,a=i.length;s<a;e=s+=3)n[o++]=i[e],n[o++]=i[e+1],n[o++]=i[e+2],n[o++]=null!=(h=r[t++])?h:255;return n},e.prototype.copyToImageData=function(t,e){var i,o,n,r,s,a,h,l,p,u,d;if(o=this.colors,p=null,i=this.hasAlphaChannel,this.palette.length&&(p=null!=(d=this._decodedPalette)?d:this._decodedPalette=this.decodePalette(),o=4,i=!0),l=(n=t.data||t).length,s=p||e,r=a=0,1===o)for(;r<l;)h=p?4*e[r/4]:a,u=s[h++],n[r++]=u,n[r++]=u,n[r++]=u,n[r++]=i?s[h++]:255,a=h;else for(;r<l;)h=p?4*e[r/4]:a,n[r++]=s[h++],n[r++]=s[h++],n[r++]=s[h++],n[r++]=i?s[h++]:255,a=h},e.prototype.decode=function(){var t;return t=new Uint8Array(this.width*this.height*4),this.copyToImageData(t,this.decodePixels()),t};try{o=t.document.createElement("canvas"),n=o.getContext("2d")}catch(t){return-1}return i=function(t){var e;return n.width=t.width,n.height=t.height,n.clearRect(0,0,t.width,t.height),n.putImageData(t,0,0),(e=new Image).src=o.toDataURL(),e},e.prototype.decodeFrames=function(t){var e,o,n,r,s,a,h,l;if(this.animation){for(l=[],o=s=0,a=(h=this.animation.frames).length;s<a;o=++s)n=t.createImageData((e=h[o]).width,e.height),r=this.decodePixels(new Uint8Array(e.data)),this.copyToImageData(n,r),e.imageData=n,l.push(e.image=i(n));return l}},e.prototype.renderFrame=function(t,e){var i,o,n;return i=(o=this.animation.frames)[e],n=o[e-1],0===e&&t.clearRect(0,0,this.width,this.height),1===(null!=n?n.disposeOp:void 0)?t.clearRect(n.xOffset,n.yOffset,n.width,n.height):2===(null!=n?n.disposeOp:void 0)&&t.putImageData(n.imageData,n.xOffset,n.yOffset),0===i.blendOp&&t.clearRect(i.xOffset,i.yOffset,i.width,i.height),t.drawImage(i.image,i.xOffset,i.yOffset)},e.prototype.animate=function(t){var e,i,o,n,r,s,a=this;return i=0,n=(s=this.animation).numFrames,o=s.frames,r=s.numPlays,(e=function(){var s,h;if(s=i++%n,h=o[s],a.renderFrame(t,s),n>1&&i/n<r)return a.animation._timeout=setTimeout(e,h.delay)})()},e.prototype.stopAnimation=function(){var t;return clearTimeout(null!=(t=this.animation)?t._timeout:void 0)},e.prototype.render=function(t){var e,i;return t._png&&t._png.stopAnimation(),t._png=this,t.width=this.width,t.height=this.height,e=t.getContext("2d"),this.animation?(this.decodeFrames(e),this.animate(e)):(i=e.createImageData(this.width,this.height),this.copyToImageData(i,this.decodePixels()),e.putImageData(i,0,0))},e}(),t.PNG=e}("undefined"!=typeof window&&window||void 0);var s=function(){function t(){this.pos=0,this.bufferLength=0,this.eof=!1,this.buffer=null}return t.prototype={ensureBuffer:function(t){var e=this.buffer,i=e?e.byteLength:0;if(t<i)return e;for(var o=512;o<t;)o<<=1;for(var n=new Uint8Array(o),r=0;r<i;++r)n[r]=e[r];return this.buffer=n},getByte:function(){for(var t=this.pos;this.bufferLength<=t;){if(this.eof)return null;this.readBlock()}return this.buffer[this.pos++]},getBytes:function(t){var e=this.pos;if(t){for(this.ensureBuffer(e+t),o=e+t;!this.eof&&this.bufferLength<o;)this.readBlock();var i=this.bufferLength;o>i&&(o=i)}else{for(;!this.eof;)this.readBlock();var o=this.bufferLength}return this.pos=o,this.buffer.subarray(e,o)},lookChar:function(){for(var t=this.pos;this.bufferLength<=t;){if(this.eof)return null;this.readBlock()}return String.fromCharCode(this.buffer[this.pos])},getChar:function(){for(var t=this.pos;this.bufferLength<=t;){if(this.eof)return null;this.readBlock()}return String.fromCharCode(this.buffer[this.pos++])},makeSubStream:function(t,e,i){for(var o=t+e;this.bufferLength<=o&&!this.eof;)this.readBlock();return new Stream(this.buffer,t,e,i)},skip:function(t){t||(t=1),this.pos+=t},reset:function(){this.pos=0}},t}(),a=function(){function t(t){throw new Error(t)}function e(e){var i=0,o=e[i++],n=e[i++];-1!=o&&-1!=n||t("Invalid header in flate stream"),8!=(15&o)&&t("Unknown compression method in flate stream"),((o<<8)+n)%31!=0&&t("Bad FCHECK in flate stream"),32&n&&t("FDICT bit set in flate stream"),this.bytes=e,this.bytesPos=i,this.codeSize=0,this.codeBuf=0,s.call(this)}if("undefined"!=typeof Uint32Array){var i=new Uint32Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),o=new Uint32Array([3,4,5,6,7,8,9,10,65547,65549,65551,65553,131091,131095,131099,131103,196643,196651,196659,196667,262211,262227,262243,262259,327811,327843,327875,327907,258,258,258]),n=new Uint32Array([1,2,3,4,65541,65543,131081,131085,196625,196633,262177,262193,327745,327777,393345,393409,459009,459137,524801,525057,590849,591361,657409,658433,724993,727041,794625,798721,868353,876545]),r=[new Uint32Array([459008,524368,524304,524568,459024,524400,524336,590016,459016,524384,524320,589984,524288,524416,524352,590048,459012,524376,524312,589968,459028,524408,524344,590032,459020,524392,524328,59e4,524296,524424,524360,590064,459010,524372,524308,524572,459026,524404,524340,590024,459018,524388,524324,589992,524292,524420,524356,590056,459014,524380,524316,589976,459030,524412,524348,590040,459022,524396,524332,590008,524300,524428,524364,590072,459009,524370,524306,524570,459025,524402,524338,590020,459017,524386,524322,589988,524290,524418,524354,590052,459013,524378,524314,589972,459029,524410,524346,590036,459021,524394,524330,590004,524298,524426,524362,590068,459011,524374,524310,524574,459027,524406,524342,590028,459019,524390,524326,589996,524294,524422,524358,590060,459015,524382,524318,589980,459031,524414,524350,590044,459023,524398,524334,590012,524302,524430,524366,590076,459008,524369,524305,524569,459024,524401,524337,590018,459016,524385,524321,589986,524289,524417,524353,590050,459012,524377,524313,589970,459028,524409,524345,590034,459020,524393,524329,590002,524297,524425,524361,590066,459010,524373,524309,524573,459026,524405,524341,590026,459018,524389,524325,589994,524293,524421,524357,590058,459014,524381,524317,589978,459030,524413,524349,590042,459022,524397,524333,590010,524301,524429,524365,590074,459009,524371,524307,524571,459025,524403,524339,590022,459017,524387,524323,589990,524291,524419,524355,590054,459013,524379,524315,589974,459029,524411,524347,590038,459021,524395,524331,590006,524299,524427,524363,590070,459011,524375,524311,524575,459027,524407,524343,590030,459019,524391,524327,589998,524295,524423,524359,590062,459015,524383,524319,589982,459031,524415,524351,590046,459023,524399,524335,590014,524303,524431,524367,590078,459008,524368,524304,524568,459024,524400,524336,590017,459016,524384,524320,589985,524288,524416,524352,590049,459012,524376,524312,589969,459028,524408,524344,590033,459020,524392,524328,590001,524296,524424,524360,590065,459010,524372,524308,524572,459026,524404,524340,590025,459018,524388,524324,589993,524292,524420,524356,590057,459014,524380,524316,589977,459030,524412,524348,590041,459022,524396,524332,590009,524300,524428,524364,590073,459009,524370,524306,524570,459025,524402,524338,590021,459017,524386,524322,589989,524290,524418,524354,590053,459013,524378,524314,589973,459029,524410,524346,590037,459021,524394,524330,590005,524298,524426,524362,590069,459011,524374,524310,524574,459027,524406,524342,590029,459019,524390,524326,589997,524294,524422,524358,590061,459015,524382,524318,589981,459031,524414,524350,590045,459023,524398,524334,590013,524302,524430,524366,590077,459008,524369,524305,524569,459024,524401,524337,590019,459016,524385,524321,589987,524289,524417,524353,590051,459012,524377,524313,589971,459028,524409,524345,590035,459020,524393,524329,590003,524297,524425,524361,590067,459010,524373,524309,524573,459026,524405,524341,590027,459018,524389,524325,589995,524293,524421,524357,590059,459014,524381,524317,589979,459030,524413,524349,590043,459022,524397,524333,590011,524301,524429,524365,590075,459009,524371,524307,524571,459025,524403,524339,590023,459017,524387,524323,589991,524291,524419,524355,590055,459013,524379,524315,589975,459029,524411,524347,590039,459021,524395,524331,590007,524299,524427,524363,590071,459011,524375,524311,524575,459027,524407,524343,590031,459019,524391,524327,589999,524295,524423,524359,590063,459015,524383,524319,589983,459031,524415,524351,590047,459023,524399,524335,590015,524303,524431,524367,590079]),9],a=[new Uint32Array([327680,327696,327688,327704,327684,327700,327692,327708,327682,327698,327690,327706,327686,327702,327694,0,327681,327697,327689,327705,327685,327701,327693,327709,327683,327699,327691,327707,327687,327703,327695,0]),5];return(e.prototype=Object.create(s.prototype)).getBits=function(e){for(var i,o=this.codeSize,n=this.codeBuf,r=this.bytes,s=this.bytesPos;o<e;)void 0===(i=r[s++])&&t("Bad encoding in flate stream"),n|=i<<o,o+=8;return i=n&(1<<e)-1,this.codeBuf=n>>e,this.codeSize=o-=e,this.bytesPos=s,i},e.prototype.getCode=function(e){for(var i=e[0],o=e[1],n=this.codeSize,r=this.codeBuf,s=this.bytes,a=this.bytesPos;n<o;){var h;void 0===(h=s[a++])&&t("Bad encoding in flate stream"),r|=h<<n,n+=8}var l=i[r&(1<<o)-1],p=l>>16,u=65535&l;return(0==n||n<p||0==p)&&t("Bad encoding in flate stream"),this.codeBuf=r>>p,this.codeSize=n-p,this.bytesPos=a,u},e.prototype.generateHuffmanTable=function(t){for(var e=t.length,i=0,o=0;o<e;++o)t[o]>i&&(i=t[o]);for(var n=1<<i,r=new Uint32Array(n),s=1,a=0,h=2;s<=i;++s,a<<=1,h<<=1)for(var l=0;l<e;++l)if(t[l]==s){var p=0,u=a;for(o=0;o<s;++o)p=p<<1|1&u,u>>=1;for(o=p;o<n;o+=h)r[o]=s<<16|l;++a}return[r,i]},e.prototype.readBlock=function(){function e(t,e,i,o,n){for(var r=t.getBits(i)+o;r-- >0;)e[f++]=n}var s=this.getBits(3);if(1&s&&(this.eof=!0),0!=(s>>=1)){var h,l;if(1==s)h=r,l=a;else if(2==s){for(var p=this.getBits(5)+257,u=this.getBits(5)+1,d=this.getBits(4)+4,c=Array(i.length),f=0;f<d;)c[i[f++]]=this.getBits(3);for(var y=this.generateHuffmanTable(c),g=0,m=(f=0,p+u),v=new Array(m);f<m;){var b=this.getCode(y);16==b?e(this,v,2,3,g):17==b?e(this,v,3,3,g=0):18==b?e(this,v,7,11,g=0):v[f++]=g=b}h=this.generateHuffmanTable(v.slice(0,p)),l=this.generateHuffmanTable(v.slice(p,m))}else t("Unknown block type in flate stream");for(var w=(D=this.buffer)?D.length:0,x=this.bufferLength;;){var _=this.getCode(h);if(_<256)x+1>=w&&(w=(D=this.ensureBuffer(x+1)).length),D[x++]=_;else{if(256==_)return void(this.bufferLength=x);var M=(_=o[_-=257])>>16;M>0&&(M=this.getBits(M)),g=(65535&_)+M,_=this.getCode(l),(M=(_=n[_])>>16)>0&&(M=this.getBits(M));var k=(65535&_)+M;x+g>=w&&(w=(D=this.ensureBuffer(x+g)).length);for(var S=0;S<g;++S,++x)D[x]=D[x-k]}}}else{var C,E=this.bytes,T=this.bytesPos;void 0===(C=E[T++])&&t("Bad block header in flate stream");var P=C;void 0===(C=E[T++])&&t("Bad block header in flate stream"),P|=C<<8,void 0===(C=E[T++])&&t("Bad block header in flate stream");var A=C;void 0===(C=E[T++])&&t("Bad block header in flate stream"),(A|=C<<8)!=(65535&~P)&&t("Bad uncompressed block length in flate stream"),this.codeBuf=0,this.codeSize=0;var O=this.bufferLength,D=this.ensureBuffer(O+P),I=O+P;this.bufferLength=I;for(var R=O;R<I;++R){if(void 0===(C=E[T++])){this.eof=!0;break}D[R]=C}this.bytesPos=T}},e}}();return function(t){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";void 0===t.btoa&&(t.btoa=function(t){var i,o,n,r,s,a=0,h=0,l="",p=[];if(!t)return t;do{i=(s=t.charCodeAt(a++)<<16|t.charCodeAt(a++)<<8|t.charCodeAt(a++))>>18&63,o=s>>12&63,n=s>>6&63,r=63&s,p[h++]=e.charAt(i)+e.charAt(o)+e.charAt(n)+e.charAt(r)}while(a<t.length);l=p.join("");var u=t.length%3;return(u?l.slice(0,u-3):l)+"===".slice(u||3)}),void 0===t.atob&&(t.atob=function(t){var i,o,n,r,s,a,h=0,l=0,p=[];if(!t)return t;t+="";do{i=(a=e.indexOf(t.charAt(h++))<<18|e.indexOf(t.charAt(h++))<<12|(r=e.indexOf(t.charAt(h++)))<<6|(s=e.indexOf(t.charAt(h++))))>>16&255,o=a>>8&255,n=255&a,p[l++]=64==r?String.fromCharCode(i):64==s?String.fromCharCode(i,o):String.fromCharCode(i,o,n)}while(h<t.length);return p.join("")}),Array.prototype.map||(Array.prototype.map=function(t){if(void 0===this||null===this||"function"!=typeof t)throw new TypeError;for(var e=Object(this),i=e.length>>>0,o=new Array(i),n=arguments.length>1?arguments[1]:void 0,r=0;r<i;r++)r in e&&(o[r]=t.call(n,e[r],r,e));return o}),Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),Array.prototype.forEach||(Array.prototype.forEach=function(t,e){if(void 0===this||null===this||"function"!=typeof t)throw new TypeError;for(var i=Object(this),o=i.length>>>0,n=0;n<o;n++)n in i&&t.call(e,i[n],n,i)}),Object.keys||(Object.keys=function(){var t=Object.prototype.hasOwnProperty,e=!{toString:null}.propertyIsEnumerable("toString"),i=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],o=i.length;return function(n){if("object"!=typeof n&&("function"!=typeof n||null===n))throw new TypeError;var r,s,a=[];for(r in n)t.call(n,r)&&a.push(r);if(e)for(s=0;s<o;s++)t.call(n,i[s])&&a.push(i[s]);return a}}()),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),String.prototype.trimLeft||(String.prototype.trimLeft=function(){return this.replace(/^\s+/g,"")}),String.prototype.trimRight||(String.prototype.trimRight=function(){return this.replace(/\s+$/g,"")})}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||void 0),e}),function(t,e){"function"==typeof define&&define.amd?define(e):"object"==typeof exports?module.exports=e():t.ResizeSensor=e()}("undefined"!=typeof window?window:this,function(){if("undefined"==typeof window)return null;var t=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(t){return window.setTimeout(t,20)};function e(t,e){var i=Object.prototype.toString.call(t),o="[object Array]"===i||"[object NodeList]"===i||"[object HTMLCollection]"===i||"[object Object]"===i||"undefined"!=typeof jQuery&&t instanceof jQuery||"undefined"!=typeof Elements&&t instanceof Elements,n=0,r=t.length;if(o)for(;n<r;n++)e(t[n]);else e(t)}function i(t){if(!t.getBoundingClientRect)return{width:t.offsetWidth,height:t.offsetHeight};var e=t.getBoundingClientRect();return{width:Math.round(e.width),height:Math.round(e.height)}}var o=function(n,r){e(n,function(e){!function(e,o){if(e)if(e.resizedAttached)e.resizedAttached.add(o);else{e.resizedAttached=new function(){var t,e,i=[];this.add=function(t){i.push(t)},this.call=function(){for(t=0,e=i.length;t<e;t++)i[t].call()},this.remove=function(o){var n=[];for(t=0,e=i.length;t<e;t++)i[t]!==o&&n.push(i[t]);i=n},this.length=function(){return i.length}},e.resizedAttached.add(o),e.resizeSensor=document.createElement("div"),e.resizeSensor.dir="ltr",e.resizeSensor.className="resize-sensor";var n="position: absolute; left: -10px; top: -10px; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden;",r="position: absolute; left: 0; top: 0; transition: 0s;";e.resizeSensor.style.cssText=n,e.resizeSensor.innerHTML='<div class="resize-sensor-expand" style="'+n+'"><div style="'+r+'"></div></div><div class="resize-sensor-shrink" style="'+n+'"><div style="'+r+' width: 200%; height: 200%"></div></div>',e.appendChild(e.resizeSensor);var s=window.getComputedStyle(e).getPropertyValue("position");"absolute"!==s&&"relative"!==s&&"fixed"!==s&&(e.style.position="relative");var a,h,l=e.resizeSensor.childNodes[0],p=l.childNodes[0],u=e.resizeSensor.childNodes[1],d=i(e),c=d.width,f=d.height,y=function(){var t=0===e.offsetWidth&&0===e.offsetHeight;if(t){var i=e.style.display;e.style.display="block"}p.style.width="100000px",p.style.height="100000px",l.scrollLeft=1e5,l.scrollTop=1e5,u.scrollLeft=1e5,u.scrollTop=1e5,t&&(e.style.display=i)};e.resizeSensor.resetSensor=y;var g=function(){h=0,a&&(c=void 0,f=void 0,e.resizedAttached&&e.resizedAttached.call())},m=function(){var o=i(e);(a=o.width!=c||o.height!=f)&&!h&&(h=t(g)),y()},v=function(t,e,i){t.attachEvent?t.attachEvent("on"+e,i):t.addEventListener(e,i)};v(l,"scroll",m),v(u,"scroll",m),t(y)}}(e,r)}),this.detach=function(t){o.detach(n,t)},this.reset=function(){n.resizeSensor.resetSensor()}};return o.reset=function(t,i){e(t,function(t){t.resizeSensor.resetSensor()})},o.detach=function(t,i){e(t,function(t){t&&(t.resizedAttached&&"function"==typeof i&&(t.resizedAttached.remove(i),t.resizedAttached.length())||t.resizeSensor&&(t.contains(t.resizeSensor)&&t.removeChild(t.resizeSensor),delete t.resizeSensor,delete t.resizedAttached))})},o}),function(t,e){"function"==typeof define&&define.amd?define(["./ResizeSensor.js"],e):"object"==typeof exports?module.exports=e(require("./ResizeSensor.js")):(t.ElementQueries=e(t.ResizeSensor),t.ElementQueries.listen())}("undefined"!=typeof window?window:this,function(t){var e=function(){var e,i={},o=[];function n(t){t||(t=document.documentElement);var e=window.getComputedStyle(t,null).fontSize;return parseFloat(e)||16}function r(t,e){var i=e.split(/\d/),o=i[i.length-1];switch(e=parseFloat(e),o){case"px":return e;case"em":return e*n(t);case"rem":return e*n();case"vw":return e*document.documentElement.clientWidth/100;case"vh":return e*document.documentElement.clientHeight/100;case"vmin":case"vmax":var r=document.documentElement.clientWidth/100,s=document.documentElement.clientHeight/100;return e*(0,Math["vmin"===o?"min":"max"])(r,s);default:return e}}function s(e,o){e.elementQueriesSetupInformation||(e.elementQueriesSetupInformation=new function(t,e){var o,n,s,a,h,l,p,u;this.element=t;var d=["min-width","min-height","max-width","max-height"];this.call=function(){for(o in s=function(t){if(!t.getBoundingClientRect)return{width:t.offsetWidth,height:t.offsetHeight};var e=t.getBoundingClientRect();return{width:Math.round(e.width),height:Math.round(e.height)}}(this.element),l={},i[e])i[e].hasOwnProperty(o)&&(a=r(this.element,(n=i[e][o]).value),h="width"===n.property?s.width:s.height,u=n.mode+"-"+n.property,p="","min"===n.mode&&h>=a&&(p+=n.value),"max"===n.mode&&h<=a&&(p+=n.value),l[u]||(l[u]=""),p&&-1===(" "+l[u]+" ").indexOf(" "+p+" ")&&(l[u]+=" "+p));for(var t in d)d.hasOwnProperty(t)&&(l[d[t]]?this.element.setAttribute(d[t],l[d[t]].substr(1)):this.element.removeAttribute(d[t]))}}(e,o)),e.elementQueriesSensor||(e.elementQueriesSensor=new t(e,function(){e.elementQueriesSetupInformation.call()})),e.elementQueriesSetupInformation.call()}function a(t,n,r,s){if(void 0===i[t]){i[t]=[];var a=o.length;e.innerHTML+="\n"+t+" {animation: 0.1s element-queries;}",e.innerHTML+="\n"+t+" > .resize-sensor {min-width: "+a+"px;}",o.push(t)}i[t].push({mode:n,property:r,value:s})}function h(t){var e;if(document.querySelectorAll&&(e=t?t.querySelectorAll.bind(t):document.querySelectorAll.bind(document)),e||"undefined"==typeof $$||(e=$$),e||"undefined"==typeof jQuery||(e=jQuery),!e)throw"No document.querySelectorAll, jQuery or Mootools's $$ found.";return e}function l(e){var i=[],o=[],n=[],r=0,s=-1,a=[];for(var h in e.children)if(e.children.hasOwnProperty(h)&&e.children[h].tagName&&"img"===e.children[h].tagName.toLowerCase()){i.push(e.children[h]);var l=e.children[h].getAttribute("min-width")||e.children[h].getAttribute("data-min-width"),p=e.children[h].getAttribute("data-src")||e.children[h].getAttribute("url");n.push(p),o.push({minWidth:l}),l?e.children[h].style.display="none":(r=i.length-1,e.children[h].style.display="block")}function u(){var t,h=!1;for(t in i)i.hasOwnProperty(t)&&o[t].minWidth&&e.offsetWidth>o[t].minWidth&&(h=t);if(h||(h=r),s!==h)if(a[h])i[s].style.display="none",i[h].style.display="block",s=h;else{var l=new Image;l.onload=function(){i[h].src=n[h],i[s].style.display="none",i[h].style.display="block",a[h]=!0,s=h},l.src=n[h]}else i[h].src=n[h]}s=r,e.resizeSensor=new t(e,u),u()}var p=/,?[\s\t]*([^,\n]*?)((?:\[[\s\t]*?(?:min|max)-(?:width|height)[\s\t]*?[~$\^]?=[\s\t]*?"[^"]*?"[\s\t]*?])+)([^,\n\s\{]*)/gim,u=/\[[\s\t]*?(min|max)-(width|height)[\s\t]*?[~$\^]?=[\s\t]*?"([^"]*?)"[\s\t]*?]/gim;function d(t){var e,i,o,n;for(t=t.replace(/'/g,'"');null!==(e=p.exec(t));)for(i=e[1]+e[3],o=e[2];null!==(n=u.exec(o));)a(i,n[1],n[2],n[3])}function c(t){var e="";if(t)if("string"==typeof t)-1===(t=t.toLowerCase()).indexOf("min-width")&&-1===t.indexOf("max-width")||d(t);else for(var i=0,o=t.length;i<o;i++)1===t[i].type?-1!==(e=t[i].selectorText||t[i].cssText).indexOf("min-height")||-1!==e.indexOf("max-height")?d(e):-1===e.indexOf("min-width")&&-1===e.indexOf("max-width")||d(e):4===t[i].type?c(t[i].cssRules||t[i].rules):3===t[i].type&&t[i].styleSheet.hasOwnProperty("cssRules")&&c(t[i].styleSheet.cssRules)}var f=!1;this.init=function(){var i="animationstart";void 0!==document.documentElement.style.webkitAnimationName?i="webkitAnimationStart":void 0!==document.documentElement.style.MozAnimationName?i="mozanimationstart":void 0!==document.documentElement.style.OAnimationName&&(i="oanimationstart"),document.body.addEventListener(i,function(e){var i=e.target;if(-1!==window.getComputedStyle(i,null).getPropertyValue("animation-name").indexOf("element-queries")){i.elementQueriesSensor=new t(i,function(){i.elementQueriesSetupInformation&&i.elementQueriesSetupInformation.call()});var n=window.getComputedStyle(i.resizeSensor,null).getPropertyValue("min-width");n=parseInt(n.replace("px","")),s(e.target,o[n])}}),f||((e=document.createElement("style")).type="text/css",e.innerHTML="[responsive-image] > img, [data-responsive-image] {overflow: hidden; padding: 0; } [responsive-image] > img, [data-responsive-image] > img {width: 100%;}",e.innerHTML+="\n@keyframes element-queries { 0% { visibility: inherit; } }",document.getElementsByTagName("head")[0].appendChild(e),f=!0);for(var n=0,r=document.styleSheets.length;n<r;n++)try{document.styleSheets[n].href&&0===document.styleSheets[n].href.indexOf("file://")&&console.log("CssElementQueries: unable to parse local css files, "+document.styleSheets[n].href),c(document.styleSheets[n].cssRules||document.styleSheets[n].rules||document.styleSheets[n].cssText)}catch(t){}!function(){for(var t=h()("[data-responsive-image],[responsive-image]"),e=0,i=t.length;e<i;e++)l(t[e])}()},this.findElementQueriesElements=function(t){!function(t){var e=h(t);for(var o in i)if(i.hasOwnProperty(o))for(var n=e(o,t),r=0,a=n.length;r<a;r++)s(n[r],o)}(t)},this.update=function(){this.init()}};return e.update=function(){e.instance.update()},e.detach=function(t){t.elementQueriesSetupInformation?(t.elementQueriesSensor.detach(),delete t.elementQueriesSetupInformation,delete t.elementQueriesSensor):t.resizeSensor&&(t.resizeSensor.detach(),delete t.resizeSensor)},e.init=function(){e.instance||(e.instance=new e),e.instance.init()},e.findElementQueriesElements=function(t){e.instance.findElementQueriesElements(t)},e.listen=function(){!function(t){if(document.addEventListener)document.addEventListener("DOMContentLoaded",t,!1);else if(/KHTML|WebKit|iCab/i.test(navigator.userAgent))var e=setInterval(function(){/loaded|complete/i.test(document.readyState)&&(t(),clearInterval(e))},10);else window.onload=t}(e.init)},e}),function(t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).JSZip=t()}(function(){return function t(e,i,o){function n(s,a){if(!i[s]){if(!e[s]){var h="function"==typeof require&&require;if(!a&&h)return h(s,!0);if(r)return r(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var p=i[s]={exports:{}};e[s][0].call(p.exports,function(t){return n(e[s][1][t]||t)},p,p.exports,t,e,i,o)}return i[s].exports}for(var r="function"==typeof require&&require,s=0;s<o.length;s++)n(o[s]);return n}({1:[function(t,e,i){"use strict";function o(t){if(t){this.data=t,this.length=this.data.length,this.index=0,this.zero=0;for(var e=0;e<this.data.length;e++)t[e]=255&t[e]}}var n=t("./dataReader");(o.prototype=new n).byteAt=function(t){return this.data[this.zero+t]},o.prototype.lastIndexOfSignature=function(t){for(var e=t.charCodeAt(0),i=t.charCodeAt(1),o=t.charCodeAt(2),n=t.charCodeAt(3),r=this.length-4;r>=0;--r)if(this.data[r]===e&&this.data[r+1]===i&&this.data[r+2]===o&&this.data[r+3]===n)return r-this.zero;return-1},o.prototype.readData=function(t){if(this.checkOffset(t),0===t)return[];var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=o},{"./dataReader":6}],2:[function(t,e,i){"use strict";var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(t,e){for(var i,n,r,s,a,h,l,p="",u=0;u<t.length;)s=(i=t.charCodeAt(u++))>>2,a=(3&i)<<4|(n=t.charCodeAt(u++))>>4,h=(15&n)<<2|(r=t.charCodeAt(u++))>>6,l=63&r,isNaN(n)?h=l=64:isNaN(r)&&(l=64),p=p+o.charAt(s)+o.charAt(a)+o.charAt(h)+o.charAt(l);return p},i.decode=function(t,e){var i,n,r,s,a,h,l="",p=0;for(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");p<t.length;)r=o.indexOf(t.charAt(p++)),i=(15&(s=o.indexOf(t.charAt(p++))))<<4|(a=o.indexOf(t.charAt(p++)))>>2,n=(3&a)<<6|(h=o.indexOf(t.charAt(p++))),l+=String.fromCharCode(r<<2|s>>4),64!=a&&(l+=String.fromCharCode(i)),64!=h&&(l+=String.fromCharCode(n));return l}},{}],3:[function(t,e,i){"use strict";function o(){this.compressedSize=0,this.uncompressedSize=0,this.crc32=0,this.compressionMethod=null,this.compressedContent=null}o.prototype={getContent:function(){return null},getCompressedContent:function(){return null}},e.exports=o},{}],4:[function(t,e,i){"use strict";i.STORE={magic:"\0\0",compress:function(t,e){return t},uncompress:function(t){return t},compressInputType:null,uncompressInputType:null},i.DEFLATE=t("./flate")},{"./flate":9}],5:[function(t,e,i){"use strict";var o=t("./utils"),n=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];e.exports=function(t,e){if(void 0===t||!t.length)return 0;var i="string"!==o.getTypeOf(t);void 0===e&&(e=0);var r=0;e^=-1;for(var s=0,a=t.length;s<a;s++)r=i?t[s]:t.charCodeAt(s),e=e>>>8^n[255&(e^r)];return-1^e}},{"./utils":22}],6:[function(t,e,i){"use strict";function o(t){this.data=null,this.length=0,this.index=0,this.zero=0}var n=t("./utils");o.prototype={checkOffset:function(t){this.checkIndex(this.index+t)},checkIndex:function(t){if(this.length<this.zero+t||t<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+t+"). Corrupted zip ?")},setIndex:function(t){this.checkIndex(t),this.index=t},skip:function(t){this.setIndex(this.index+t)},byteAt:function(t){},readInt:function(t){var e,i=0;for(this.checkOffset(t),e=this.index+t-1;e>=this.index;e--)i=(i<<8)+this.byteAt(e);return this.index+=t,i},readString:function(t){return n.transformTo("string",this.readData(t))},readData:function(t){},lastIndexOfSignature:function(t){},readDate:function(){var t=this.readInt(4);return new Date(1980+(t>>25&127),(t>>21&15)-1,t>>16&31,t>>11&31,t>>5&63,(31&t)<<1)}},e.exports=o},{"./utils":22}],7:[function(t,e,i){"use strict";i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!1,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],8:[function(t,e,i){"use strict";var o=t("./utils");i.string2binary=function(t){return o.string2binary(t)},i.string2Uint8Array=function(t){return o.transformTo("uint8array",t)},i.uint8Array2String=function(t){return o.transformTo("string",t)},i.string2Blob=function(t){var e=o.transformTo("arraybuffer",t);return o.arrayBuffer2Blob(e)},i.arrayBuffer2Blob=function(t){return o.arrayBuffer2Blob(t)},i.transformTo=function(t,e){return o.transformTo(t,e)},i.getTypeOf=function(t){return o.getTypeOf(t)},i.checkSupport=function(t){return o.checkSupport(t)},i.MAX_VALUE_16BITS=o.MAX_VALUE_16BITS,i.MAX_VALUE_32BITS=o.MAX_VALUE_32BITS,i.pretty=function(t){return o.pretty(t)},i.findCompression=function(t){return o.findCompression(t)},i.isRegExp=function(t){return o.isRegExp(t)}},{"./utils":22}],9:[function(t,e,i){"use strict";var o="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,n=t("pako");i.uncompressInputType=o?"uint8array":"array",i.compressInputType=o?"uint8array":"array",i.magic="\b\0",i.compress=function(t,e){return n.deflateRaw(t,{level:e.level||-1})},i.uncompress=function(t){return n.inflateRaw(t)}},{pako:25}],10:[function(t,e,i){"use strict";function o(t,e){return this instanceof o?(this.files={},this.comment=null,this.root="",t&&this.load(t,e),void(this.clone=function(){var t=new o;for(var e in this)"function"!=typeof this[e]&&(t[e]=this[e]);return t})):new o(t,e)}var n=t("./base64");(o.prototype=t("./object")).load=t("./load"),o.support=t("./support"),o.defaults=t("./defaults"),o.utils=t("./deprecatedPublicUtils"),o.base64={encode:function(t){return n.encode(t)},decode:function(t){return n.decode(t)}},o.compressions=t("./compressions"),e.exports=o},{"./base64":2,"./compressions":4,"./defaults":7,"./deprecatedPublicUtils":8,"./load":11,"./object":14,"./support":18}],11:[function(t,e,i){"use strict";var o=t("./base64"),n=t("./utf8"),r=t("./utils"),s=t("./zipEntries");e.exports=function(t,e){var i,a,h,l;for((e=r.extend(e||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:n.utf8decode})).base64&&(t=o.decode(t)),i=(a=new s(t,e)).files,h=0;h<i.length;h++)this.file((l=i[h]).fileNameStr,l.decompressed,{binary:!0,optimizedBinaryString:!0,date:l.date,dir:l.dir,comment:l.fileCommentStr.length?l.fileCommentStr:null,unixPermissions:l.unixPermissions,dosPermissions:l.dosPermissions,createFolders:e.createFolders});return a.zipComment.length&&(this.comment=a.zipComment),this}},{"./base64":2,"./utf8":21,"./utils":22,"./zipEntries":23}],12:[function(t,e,i){(function(t){"use strict";e.exports=function(e,i){return new t(e,i)},e.exports.test=function(e){return t.isBuffer(e)}}).call(this,"undefined"!=typeof Buffer?Buffer:void 0)},{}],13:[function(t,e,i){"use strict";function o(t){this.data=t,this.length=this.data.length,this.index=0,this.zero=0}var n=t("./uint8ArrayReader");(o.prototype=new n).readData=function(t){this.checkOffset(t);var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=o},{"./uint8ArrayReader":19}],14:[function(t,e,i){"use strict";var o=t("./support"),n=t("./utils"),r=t("./crc32"),s=t("./signature"),a=t("./defaults"),h=t("./base64"),l=t("./compressions"),p=t("./compressedObject"),u=t("./nodeBuffer"),d=t("./utf8"),c=t("./stringWriter"),f=t("./uint8ArrayWriter"),y=function(t){if(t._data instanceof p&&(t._data=t._data.getContent(),t.options.binary=!0,t.options.base64=!1,"uint8array"===n.getTypeOf(t._data))){var e=t._data;t._data=new Uint8Array(e.length),0!==e.length&&t._data.set(e,0)}return t._data},g=function(t){var e=y(t);return"string"===n.getTypeOf(e)?!t.options.binary&&o.nodebuffer?u(e,"utf-8"):t.asBinary():e},m=function(t){var e=y(this);return null===e||void 0===e?"":(this.options.base64&&(e=h.decode(e)),e=t&&this.options.binary?C.utf8decode(e):n.transformTo("string",e),t||this.options.binary||(e=n.transformTo("string",C.utf8encode(e))),e)},v=function(t,e,i){this.name=t,this.dir=i.dir,this.date=i.date,this.comment=i.comment,this.unixPermissions=i.unixPermissions,this.dosPermissions=i.dosPermissions,this._data=e,this.options=i,this._initialMetadata={dir:i.dir,date:i.date}};v.prototype={asText:function(){return m.call(this,!0)},asBinary:function(){return m.call(this,!1)},asNodeBuffer:function(){var t=g(this);return n.transformTo("nodebuffer",t)},asUint8Array:function(){var t=g(this);return n.transformTo("uint8array",t)},asArrayBuffer:function(){return this.asUint8Array().buffer}};var b=function(t,e){var i,o="";for(i=0;i<e;i++)o+=String.fromCharCode(255&t),t>>>=8;return o},w=function(t,e,i){var o,r=n.getTypeOf(e);if("string"==typeof(i=function(t){return!0!==(t=t||{}).base64||null!==t.binary&&void 0!==t.binary||(t.binary=!0),(t=n.extend(t,a)).date=t.date||new Date,null!==t.compression&&(t.compression=t.compression.toUpperCase()),t}(i)).unixPermissions&&(i.unixPermissions=parseInt(i.unixPermissions,8)),i.unixPermissions&&16384&i.unixPermissions&&(i.dir=!0),i.dosPermissions&&16&i.dosPermissions&&(i.dir=!0),i.dir&&(t=_(t)),i.createFolders&&(o=x(t))&&M.call(this,o,!0),i.dir||null===e||void 0===e)i.base64=!1,i.binary=!1,e=null,r=null;else if("string"===r)i.binary&&!i.base64&&!0!==i.optimizedBinaryString&&(e=n.string2binary(e));else{if(i.base64=!1,i.binary=!0,!(r||e instanceof p))throw new Error("The data of '"+t+"' is in an unsupported format !");"arraybuffer"===r&&(e=n.transformTo("uint8array",e))}var s=new v(t,e,i);return this.files[t]=s,s},x=function(t){"/"==t.slice(-1)&&(t=t.substring(0,t.length-1));var e=t.lastIndexOf("/");return e>0?t.substring(0,e):""},_=function(t){return"/"!=t.slice(-1)&&(t+="/"),t},M=function(t,e){return e=void 0!==e&&e,t=_(t),this.files[t]||w.call(this,t,null,{dir:!0,createFolders:e}),this.files[t]},k=function(t,e,i){var o,s=new p;return t._data instanceof p?(s.uncompressedSize=t._data.uncompressedSize,s.crc32=t._data.crc32,0===s.uncompressedSize||t.dir?(e=l.STORE,s.compressedContent="",s.crc32=0):t._data.compressionMethod===e.magic?s.compressedContent=t._data.getCompressedContent():(o=t._data.getContent(),s.compressedContent=e.compress(n.transformTo(e.compressInputType,o),i))):((o=g(t))&&0!==o.length&&!t.dir||(e=l.STORE,o=""),s.uncompressedSize=o.length,s.crc32=r(o),s.compressedContent=e.compress(n.transformTo(e.compressInputType,o),i)),s.compressedSize=s.compressedContent.length,s.compressionMethod=e.magic,s},S=function(t,e,i,o,a,h){var l,p,u,c,f=h!==d.utf8encode,y=n.transformTo("string",h(e.name)),g=n.transformTo("string",d.utf8encode(e.name)),m=e.comment||"",v=n.transformTo("string",h(m)),w=n.transformTo("string",d.utf8encode(m)),x=g.length!==e.name.length,_=w.length!==m.length,M=e.options,k="",S="",C="";u=e._initialMetadata.dir!==e.dir?e.dir:M.dir,c=e._initialMetadata.date!==e.date?e.date:M.date;var E=0,T=0;u&&(E|=16),"UNIX"===a?(T=798,E|=function(t,e){var i=t;return t||(i=u?16893:33204),(65535&i)<<16}(e.unixPermissions)):(T=20,E|=function(t,e){return 63&(t||0)}(e.dosPermissions)),l=c.getHours(),l<<=6,l|=c.getMinutes(),l<<=5,l|=c.getSeconds()/2,p=c.getFullYear()-1980,p<<=4,p|=c.getMonth()+1,p<<=5,p|=c.getDate(),x&&(S=b(1,1)+b(r(y),4)+g,k+="up"+b(S.length,2)+S),_&&(C=b(1,1)+b(this.crc32(v),4)+w,k+="uc"+b(C.length,2)+C);var P="";return P+="\n\0",P+=f||!x&&!_?"\0\0":"\0\b",P+=i.compressionMethod,P+=b(l,2),P+=b(p,2),P+=b(i.crc32,4),P+=b(i.compressedSize,4),P+=b(i.uncompressedSize,4),P+=b(y.length,2),P+=b(k.length,2),{fileRecord:s.LOCAL_FILE_HEADER+P+y+k,dirRecord:s.CENTRAL_FILE_HEADER+b(T,2)+P+b(v.length,2)+"\0\0\0\0"+b(E,4)+b(o,4)+y+k+v,compressedObject:i}},C={load:function(t,e){throw new Error("Load method is not defined. Is the file jszip-load.js included ?")},filter:function(t){var e,i,o,r,s=[];for(e in this.files)this.files.hasOwnProperty(e)&&(r=new v((o=this.files[e]).name,o._data,n.extend(o.options)),i=e.slice(this.root.length,e.length),e.slice(0,this.root.length)===this.root&&t(i,r)&&s.push(r));return s},file:function(t,e,i){if(1===arguments.length){if(n.isRegExp(t)){var o=t;return this.filter(function(t,e){return!e.dir&&o.test(t)})}return this.filter(function(e,i){return!i.dir&&e===t})[0]||null}return w.call(this,t=this.root+t,e,i),this},folder:function(t){if(!t)return this;if(n.isRegExp(t))return this.filter(function(e,i){return i.dir&&t.test(e)});var e=M.call(this,this.root+t),i=this.clone();return i.root=e.name,i},remove:function(t){var e=this.files[t=this.root+t];if(e||("/"!=t.slice(-1)&&(t+="/"),e=this.files[t]),e&&!e.dir)delete this.files[t];else for(var i=this.filter(function(e,i){return i.name.slice(0,t.length)===t}),o=0;o<i.length;o++)delete this.files[i[o].name];return this},generate:function(t){t=n.extend(t||{},{base64:!0,compression:"STORE",compressionOptions:null,type:"base64",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:d.utf8encode}),n.checkSupport(t.type),"darwin"!==t.platform&&"freebsd"!==t.platform&&"linux"!==t.platform&&"sunos"!==t.platform||(t.platform="UNIX"),"win32"===t.platform&&(t.platform="DOS");var e,i,o,r=[],a=0,p=0,u=n.transformTo("string",t.encodeFileName(t.comment||this.comment||""));for(var y in this.files)if(this.files.hasOwnProperty(y)){var g=this.files[y],m=g.options.compression||t.compression.toUpperCase(),v=l[m];if(!v)throw new Error(m+" is not a valid compression method !");var w=k.call(this,g,v,g.options.compressionOptions||t.compressionOptions||{}),x=S.call(this,y,g,w,a,t.platform,t.encodeFileName);a+=x.fileRecord.length+w.compressedSize,p+=x.dirRecord.length,r.push(x)}o=s.CENTRAL_DIRECTORY_END+"\0\0\0\0"+b(r.length,2)+b(r.length,2)+b(p,4)+b(a,4)+b(u.length,2)+u;var _=t.type.toLowerCase();for(e="uint8array"===_||"arraybuffer"===_||"blob"===_||"nodebuffer"===_?new f(a+p+o.length):new c(a+p+o.length),i=0;i<r.length;i++)e.append(r[i].fileRecord),e.append(r[i].compressedObject.compressedContent);for(i=0;i<r.length;i++)e.append(r[i].dirRecord);e.append(o);var M=e.finalize();switch(t.type.toLowerCase()){case"uint8array":case"arraybuffer":case"nodebuffer":return n.transformTo(t.type.toLowerCase(),M);case"blob":return n.arrayBuffer2Blob(n.transformTo("arraybuffer",M),t.mimeType);case"base64":return t.base64?h.encode(M):M;default:return M}},crc32:function(t,e){return r(t,e)},utf8encode:function(t){return n.transformTo("string",d.utf8encode(t))},utf8decode:function(t){return d.utf8decode(t)}};e.exports=C},{"./base64":2,"./compressedObject":3,"./compressions":4,"./crc32":5,"./defaults":7,"./nodeBuffer":12,"./signature":15,"./stringWriter":17,"./support":18,"./uint8ArrayWriter":20,"./utf8":21,"./utils":22}],15:[function(t,e,i){"use strict";i.LOCAL_FILE_HEADER="PK\x03\x04",i.CENTRAL_FILE_HEADER="PK\x01\x02",i.CENTRAL_DIRECTORY_END="PK\x05\x06",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x06\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK\x06\x06",i.DATA_DESCRIPTOR="PK\x07\b"},{}],16:[function(t,e,i){"use strict";function o(t,e){this.data=t,e||(this.data=r.string2binary(this.data)),this.length=this.data.length,this.index=0,this.zero=0}var n=t("./dataReader"),r=t("./utils");(o.prototype=new n).byteAt=function(t){return this.data.charCodeAt(this.zero+t)},o.prototype.lastIndexOfSignature=function(t){return this.data.lastIndexOf(t)-this.zero},o.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=o},{"./dataReader":6,"./utils":22}],17:[function(t,e,i){"use strict";var o=t("./utils"),n=function(){this.data=[]};n.prototype={append:function(t){t=o.transformTo("string",t),this.data.push(t)},finalize:function(){return this.data.join("")}},e.exports=n},{"./utils":22}],18:[function(t,e,i){(function(t){"use strict";if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,i.nodebuffer=void 0!==t,i.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)i.blob=!1;else{var e=new ArrayBuffer(0);try{i.blob=0===new Blob([e],{type:"application/zip"}).size}catch(t){try{var o=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder);o.append(e),i.blob=0===o.getBlob("application/zip").size}catch(t){i.blob=!1}}}}).call(this,"undefined"!=typeof Buffer?Buffer:void 0)},{}],19:[function(t,e,i){"use strict";function o(t){t&&(this.data=t,this.length=this.data.length,this.index=0,this.zero=0)}var n=t("./arrayReader");(o.prototype=new n).readData=function(t){if(this.checkOffset(t),0===t)return new Uint8Array(0);var e=this.data.subarray(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=o},{"./arrayReader":1}],20:[function(t,e,i){"use strict";var o=t("./utils"),n=function(t){this.data=new Uint8Array(t),this.index=0};n.prototype={append:function(t){0!==t.length&&(t=o.transformTo("uint8array",t),this.data.set(t,this.index),this.index+=t.length)},finalize:function(){return this.data}},e.exports=n},{"./utils":22}],21:[function(t,e,i){"use strict";for(var o=t("./utils"),n=t("./support"),r=t("./nodeBuffer"),s=new Array(256),a=0;a<256;a++)s[a]=a>=252?6:a>=248?5:a>=240?4:a>=224?3:a>=192?2:1;s[254]=s[254]=1;var h=function(t,e){var i;for((e=e||t.length)>t.length&&(e=t.length),i=e-1;i>=0&&128==(192&t[i]);)i--;return i<0?e:0===i?e:i+s[t[i]]>e?i:e},l=function(t){var e,i,n,r,a=t.length,h=new Array(2*a);for(i=0,e=0;e<a;)if((n=t[e++])<128)h[i++]=n;else if((r=s[n])>4)h[i++]=65533,e+=r-1;else{for(n&=2===r?31:3===r?15:7;r>1&&e<a;)n=n<<6|63&t[e++],r--;r>1?h[i++]=65533:n<65536?h[i++]=n:(h[i++]=55296|(n-=65536)>>10&1023,h[i++]=56320|1023&n)}return h.length!==i&&(h.subarray?h=h.subarray(0,i):h.length=i),o.applyFromCharCode(h)};i.utf8encode=function(t){return n.nodebuffer?r(t,"utf-8"):function(t){var e,i,o,r,s,a=t.length,h=0;for(r=0;r<a;r++)55296==(64512&(i=t.charCodeAt(r)))&&r+1<a&&56320==(64512&(o=t.charCodeAt(r+1)))&&(i=65536+(i-55296<<10)+(o-56320),r++),h+=i<128?1:i<2048?2:i<65536?3:4;for(e=n.uint8array?new Uint8Array(h):new Array(h),s=0,r=0;s<h;r++)55296==(64512&(i=t.charCodeAt(r)))&&r+1<a&&56320==(64512&(o=t.charCodeAt(r+1)))&&(i=65536+(i-55296<<10)+(o-56320),r++),i<128?e[s++]=i:i<2048?(e[s++]=192|i>>>6,e[s++]=128|63&i):i<65536?(e[s++]=224|i>>>12,e[s++]=128|i>>>6&63,e[s++]=128|63&i):(e[s++]=240|i>>>18,e[s++]=128|i>>>12&63,e[s++]=128|i>>>6&63,e[s++]=128|63&i);return e}(t)},i.utf8decode=function(t){if(n.nodebuffer)return o.transformTo("nodebuffer",t).toString("utf-8");for(var e=[],i=0,r=(t=o.transformTo(n.uint8array?"uint8array":"array",t)).length;i<r;){var s=h(t,Math.min(i+65536,r));e.push(l(n.uint8array?t.subarray(i,s):t.slice(i,s))),i=s}return e.join("")}},{"./nodeBuffer":12,"./support":18,"./utils":22}],22:[function(t,e,i){"use strict";function o(t){return t}function n(t,e){for(var i=0;i<t.length;++i)e[i]=255&t.charCodeAt(i);return e}function r(t){var e=65536,o=[],n=t.length,r=i.getTypeOf(t),s=0,a=!0;try{switch(r){case"uint8array":String.fromCharCode.apply(null,new Uint8Array(0));break;case"nodebuffer":String.fromCharCode.apply(null,l(0))}}catch(t){a=!1}if(!a){for(var h="",p=0;p<t.length;p++)h+=String.fromCharCode(t[p]);return h}for(;s<n&&e>1;)try{o.push("array"===r||"nodebuffer"===r?String.fromCharCode.apply(null,t.slice(s,Math.min(s+e,n))):String.fromCharCode.apply(null,t.subarray(s,Math.min(s+e,n)))),s+=e}catch(t){e=Math.floor(e/2)}return o.join("")}function s(t,e){for(var i=0;i<t.length;i++)e[i]=t[i];return e}var a=t("./support"),h=t("./compressions"),l=t("./nodeBuffer");i.string2binary=function(t){for(var e="",i=0;i<t.length;i++)e+=String.fromCharCode(255&t.charCodeAt(i));return e},i.arrayBuffer2Blob=function(t,e){i.checkSupport("blob"),e=e||"application/zip";try{return new Blob([t],{type:e})}catch(i){try{var o=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder);return o.append(t),o.getBlob(e)}catch(t){throw new Error("Bug : can't construct the Blob.")}}},i.applyFromCharCode=r;var p={};p.string={string:o,array:function(t){return n(t,new Array(t.length))},arraybuffer:function(t){return p.string.uint8array(t).buffer},uint8array:function(t){return n(t,new Uint8Array(t.length))},nodebuffer:function(t){return n(t,l(t.length))}},p.array={string:r,array:o,arraybuffer:function(t){return new Uint8Array(t).buffer},uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return l(t)}},p.arraybuffer={string:function(t){return r(new Uint8Array(t))},array:function(t){return s(new Uint8Array(t),new Array(t.byteLength))},arraybuffer:o,uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return l(new Uint8Array(t))}},p.uint8array={string:r,array:function(t){return s(t,new Array(t.length))},arraybuffer:function(t){return t.buffer},uint8array:o,nodebuffer:function(t){return l(t)}},p.nodebuffer={string:r,array:function(t){return s(t,new Array(t.length))},arraybuffer:function(t){return p.nodebuffer.uint8array(t).buffer},uint8array:function(t){return s(t,new Uint8Array(t.length))},nodebuffer:o},i.transformTo=function(t,e){if(e||(e=""),!t)return e;i.checkSupport(t);var o=i.getTypeOf(e);return p[o][t](e)},i.getTypeOf=function(t){return"string"==typeof t?"string":"[object Array]"===Object.prototype.toString.call(t)?"array":a.nodebuffer&&l.test(t)?"nodebuffer":a.uint8array&&t instanceof Uint8Array?"uint8array":a.arraybuffer&&t instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(t){if(!a[t.toLowerCase()])throw new Error(t+" is not supported by this browser")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(t){var e,i,o="";for(i=0;i<(t||"").length;i++)o+="\\x"+((e=t.charCodeAt(i))<16?"0":"")+e.toString(16).toUpperCase();return o},i.findCompression=function(t){for(var e in h)if(h.hasOwnProperty(e)&&h[e].magic===t)return h[e];return null},i.isRegExp=function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},i.extend=function(){var t,e,i={};for(t=0;t<arguments.length;t++)for(e in arguments[t])arguments[t].hasOwnProperty(e)&&void 0===i[e]&&(i[e]=arguments[t][e]);return i}},{"./compressions":4,"./nodeBuffer":12,"./support":18}],23:[function(t,e,i){"use strict";function o(t,e){this.files=[],this.loadOptions=e,t&&this.load(t)}var n=t("./stringReader"),r=t("./nodeBufferReader"),s=t("./uint8ArrayReader"),a=t("./arrayReader"),h=t("./utils"),l=t("./signature"),p=t("./zipEntry"),u=t("./support");t("./object"),o.prototype={checkSignature:function(t){var e=this.reader.readString(4);if(e!==t)throw new Error("Corrupted zip or bug : unexpected signature ("+h.pretty(e)+", expected "+h.pretty(t)+")")},isSignature:function(t,e){var i=this.reader.index;this.reader.setIndex(t);var o=this.reader.readString(4)===e;return this.reader.setIndex(i),o},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var t=this.reader.readData(this.zipCommentLength),e=h.transformTo(u.uint8array?"uint8array":"array",t);this.zipComment=this.loadOptions.decodeFileName(e)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.versionMadeBy=this.reader.readString(2),this.versionNeeded=this.reader.readInt(2),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var t,e,i,o=this.zip64EndOfCentralSize-44;0<o;)t=this.reader.readInt(2),e=this.reader.readInt(4),i=this.reader.readString(e),this.zip64ExtensibleData[t]={id:t,length:e,value:i}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var t,e;for(t=0;t<this.files.length;t++)this.reader.setIndex((e=this.files[t]).localHeaderOffset),this.checkSignature(l.LOCAL_FILE_HEADER),e.readLocalPart(this.reader),e.handleUTF8(),e.processAttributes()},readCentralDir:function(){var t;for(this.reader.setIndex(this.centralDirOffset);this.reader.readString(4)===l.CENTRAL_FILE_HEADER;)(t=new p({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(t);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var t=this.reader.lastIndexOfSignature(l.CENTRAL_DIRECTORY_END);if(t<0)throw this.isSignature(0,l.LOCAL_FILE_HEADER)?new Error("Corrupted zip : can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see http://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(t);var e=t;if(this.checkSignature(l.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===h.MAX_VALUE_16BITS||this.diskWithCentralDirStart===h.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===h.MAX_VALUE_16BITS||this.centralDirRecords===h.MAX_VALUE_16BITS||this.centralDirSize===h.MAX_VALUE_32BITS||this.centralDirOffset===h.MAX_VALUE_32BITS){if(this.zip64=!0,(t=this.reader.lastIndexOfSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip : can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(t),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,l.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(l.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip : can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var i=this.centralDirOffset+this.centralDirSize;this.zip64&&(i+=20,i+=12+this.zip64EndOfCentralSize);var o=e-i;if(o>0)this.isSignature(e,l.CENTRAL_FILE_HEADER)||(this.reader.zero=o);else if(o<0)throw new Error("Corrupted zip: missing "+Math.abs(o)+" bytes.")},prepareReader:function(t){var e=h.getTypeOf(t);if(h.checkSupport(e),"string"!==e||u.uint8array)if("nodebuffer"===e)this.reader=new r(t);else if(u.uint8array)this.reader=new s(h.transformTo("uint8array",t));else{if(!u.array)throw new Error("Unexpected error: unsupported type '"+e+"'");this.reader=new a(h.transformTo("array",t))}else this.reader=new n(t,this.loadOptions.optimizedBinaryString)},load:function(t){this.prepareReader(t),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},e.exports=o},{"./arrayReader":1,"./nodeBufferReader":13,"./object":14,"./signature":15,"./stringReader":16,"./support":18,"./uint8ArrayReader":19,"./utils":22,"./zipEntry":24}],24:[function(t,e,i){"use strict";function o(t,e){this.options=t,this.loadOptions=e}var n=t("./stringReader"),r=t("./utils"),s=t("./compressedObject"),a=t("./object"),h=t("./support");o.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},prepareCompressedContent:function(t,e,i){return function(){var o=t.index;t.setIndex(e);var n=t.readData(i);return t.setIndex(o),n}},prepareContent:function(t,e,i,o,n){return function(){var t=r.transformTo(o.uncompressInputType,this.getCompressedContent()),e=o.uncompress(t);if(e.length!==n)throw new Error("Bug : uncompressed data size mismatch");return e}},readLocalPart:function(t){var e,i;if(t.skip(22),this.fileNameLength=t.readInt(2),i=t.readInt(2),this.fileName=t.readData(this.fileNameLength),t.skip(i),-1==this.compressedSize||-1==this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough informations from the central directory (compressedSize == -1 || uncompressedSize == -1)");if(null===(e=r.findCompression(this.compressionMethod)))throw new Error("Corrupted zip : compression "+r.pretty(this.compressionMethod)+" unknown (inner file : "+r.transformTo("string",this.fileName)+")");if(this.decompressed=new s,this.decompressed.compressedSize=this.compressedSize,this.decompressed.uncompressedSize=this.uncompressedSize,this.decompressed.crc32=this.crc32,this.decompressed.compressionMethod=this.compressionMethod,this.decompressed.getCompressedContent=this.prepareCompressedContent(t,t.index,this.compressedSize,e),this.decompressed.getContent=this.prepareContent(t,t.index,this.compressedSize,e,this.uncompressedSize),this.loadOptions.checkCRC32&&(this.decompressed=r.transformTo("string",this.decompressed.getContent()),a.crc32(this.decompressed)!==this.crc32))throw new Error("Corrupted zip : CRC32 mismatch")},readCentralPart:function(t){if(this.versionMadeBy=t.readInt(2),this.versionNeeded=t.readInt(2),this.bitFlag=t.readInt(2),this.compressionMethod=t.readString(2),this.date=t.readDate(),this.crc32=t.readInt(4),this.compressedSize=t.readInt(4),this.uncompressedSize=t.readInt(4),this.fileNameLength=t.readInt(2),this.extraFieldsLength=t.readInt(2),this.fileCommentLength=t.readInt(2),this.diskNumberStart=t.readInt(2),this.internalFileAttributes=t.readInt(2),this.externalFileAttributes=t.readInt(4),this.localHeaderOffset=t.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");this.fileName=t.readData(this.fileNameLength),this.readExtraFields(t),this.parseZIP64ExtraField(t),this.fileComment=t.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var t=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0===t&&(this.dosPermissions=63&this.externalFileAttributes),3===t&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(t){if(this.extraFields[1]){var e=new n(this.extraFields[1].value);this.uncompressedSize===r.MAX_VALUE_32BITS&&(this.uncompressedSize=e.readInt(8)),this.compressedSize===r.MAX_VALUE_32BITS&&(this.compressedSize=e.readInt(8)),this.localHeaderOffset===r.MAX_VALUE_32BITS&&(this.localHeaderOffset=e.readInt(8)),this.diskNumberStart===r.MAX_VALUE_32BITS&&(this.diskNumberStart=e.readInt(4))}},readExtraFields:function(t){var e,i,o,n=t.index;for(this.extraFields=this.extraFields||{};t.index<n+this.extraFieldsLength;)e=t.readInt(2),i=t.readInt(2),o=t.readString(i),this.extraFields[e]={id:e,length:i,value:o}},handleUTF8:function(){var t=h.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=a.utf8decode(this.fileName),this.fileCommentStr=a.utf8decode(this.fileComment);else{var e=this.findExtraFieldUnicodePath();if(null!==e)this.fileNameStr=e;else{var i=r.transformTo(t,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(i)}var o=this.findExtraFieldUnicodeComment();if(null!==o)this.fileCommentStr=o;else{var n=r.transformTo(t,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(n)}}},findExtraFieldUnicodePath:function(){var t=this.extraFields[28789];if(t){var e=new n(t.value);return 1!==e.readInt(1)?null:a.crc32(this.fileName)!==e.readInt(4)?null:a.utf8decode(e.readString(t.length-5))}return null},findExtraFieldUnicodeComment:function(){var t=this.extraFields[25461];if(t){var e=new n(t.value);return 1!==e.readInt(1)?null:a.crc32(this.fileComment)!==e.readInt(4)?null:a.utf8decode(e.readString(t.length-5))}return null}},e.exports=o},{"./compressedObject":3,"./object":14,"./stringReader":16,"./support":18,"./utils":22}],25:[function(t,e,i){"use strict";var o={};(0,t("./lib/utils/common").assign)(o,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),e.exports=o},{"./lib/deflate":26,"./lib/inflate":27,"./lib/utils/common":28,"./lib/zlib/constants":31}],26:[function(t,e,i){"use strict";function o(t){if(!(this instanceof o))return new o(t);this.options=s.assign({level:d,method:f,chunkSize:16384,windowBits:15,memLevel:8,strategy:c,to:""},t||{});var e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var i=r.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(i!==u)throw new Error(h[i]);if(e.header&&r.deflateSetHeader(this.strm,e.header),e.dictionary){var n;if(n="string"==typeof e.dictionary?a.string2buf(e.dictionary):"[object ArrayBuffer]"===p.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,(i=r.deflateSetDictionary(this.strm,n))!==u)throw new Error(h[i]);this._dict_set=!0}}function n(t,e){var i=new o(e);if(i.push(t,!0),i.err)throw i.msg;return i.result}var r=t("./zlib/deflate"),s=t("./utils/common"),a=t("./utils/strings"),h=t("./zlib/messages"),l=t("./zlib/zstream"),p=Object.prototype.toString,u=0,d=-1,c=0,f=8;o.prototype.push=function(t,e){var i,o,n=this.strm,h=this.options.chunkSize;if(this.ended)return!1;o=e===~~e?e:!0===e?4:0,n.input="string"==typeof t?a.string2buf(t):"[object ArrayBuffer]"===p.call(t)?new Uint8Array(t):t,n.next_in=0,n.avail_in=n.input.length;do{if(0===n.avail_out&&(n.output=new s.Buf8(h),n.next_out=0,n.avail_out=h),1!==(i=r.deflate(n,o))&&i!==u)return this.onEnd(i),this.ended=!0,!1;0!==n.avail_out&&(0!==n.avail_in||4!==o&&2!==o)||this.onData("string"===this.options.to?a.buf2binstring(s.shrinkBuf(n.output,n.next_out)):s.shrinkBuf(n.output,n.next_out))}while((n.avail_in>0||0===n.avail_out)&&1!==i);return 4===o?(i=r.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===u):2!==o||(this.onEnd(u),n.avail_out=0,!0)},o.prototype.onData=function(t){this.chunks.push(t)},o.prototype.onEnd=function(t){t===u&&(this.result="string"===this.options.to?this.chunks.join(""):s.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},i.Deflate=o,i.deflate=n,i.deflateRaw=function(t,e){return(e=e||{}).raw=!0,n(t,e)},i.gzip=function(t,e){return(e=e||{}).gzip=!0,n(t,e)}},{"./utils/common":28,"./utils/strings":29,"./zlib/deflate":33,"./zlib/messages":38,"./zlib/zstream":40}],27:[function(t,e,i){"use strict";function o(t){if(!(this instanceof o))return new o(t);this.options=s.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new p,this.strm.avail_out=0;var i=r.inflateInit2(this.strm,e.windowBits);if(i!==h.Z_OK)throw new Error(l[i]);this.header=new u,r.inflateGetHeader(this.strm,this.header)}function n(t,e){var i=new o(e);if(i.push(t,!0),i.err)throw i.msg;return i.result}var r=t("./zlib/inflate"),s=t("./utils/common"),a=t("./utils/strings"),h=t("./zlib/constants"),l=t("./zlib/messages"),p=t("./zlib/zstream"),u=t("./zlib/gzheader"),d=Object.prototype.toString;o.prototype.push=function(t,e){var i,o,n,l,p,u,c=this.strm,f=this.options.chunkSize,y=this.options.dictionary,g=!1;if(this.ended)return!1;o=e===~~e?e:!0===e?h.Z_FINISH:h.Z_NO_FLUSH,c.input="string"==typeof t?a.binstring2buf(t):"[object ArrayBuffer]"===d.call(t)?new Uint8Array(t):t,c.next_in=0,c.avail_in=c.input.length;do{if(0===c.avail_out&&(c.output=new s.Buf8(f),c.next_out=0,c.avail_out=f),(i=r.inflate(c,h.Z_NO_FLUSH))===h.Z_NEED_DICT&&y&&(u="string"==typeof y?a.string2buf(y):"[object ArrayBuffer]"===d.call(y)?new Uint8Array(y):y,i=r.inflateSetDictionary(this.strm,u)),i===h.Z_BUF_ERROR&&!0===g&&(i=h.Z_OK,g=!1),i!==h.Z_STREAM_END&&i!==h.Z_OK)return this.onEnd(i),this.ended=!0,!1;c.next_out&&(0!==c.avail_out&&i!==h.Z_STREAM_END&&(0!==c.avail_in||o!==h.Z_FINISH&&o!==h.Z_SYNC_FLUSH)||("string"===this.options.to?(n=a.utf8border(c.output,c.next_out),l=c.next_out-n,p=a.buf2string(c.output,n),c.next_out=l,c.avail_out=f-l,l&&s.arraySet(c.output,c.output,n,l,0),this.onData(p)):this.onData(s.shrinkBuf(c.output,c.next_out)))),0===c.avail_in&&0===c.avail_out&&(g=!0)}while((c.avail_in>0||0===c.avail_out)&&i!==h.Z_STREAM_END);return i===h.Z_STREAM_END&&(o=h.Z_FINISH),o===h.Z_FINISH?(i=r.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===h.Z_OK):o!==h.Z_SYNC_FLUSH||(this.onEnd(h.Z_OK),c.avail_out=0,!0)},o.prototype.onData=function(t){this.chunks.push(t)},o.prototype.onEnd=function(t){t===h.Z_OK&&(this.result="string"===this.options.to?this.chunks.join(""):s.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},i.Inflate=o,i.inflate=n,i.inflateRaw=function(t,e){return(e=e||{}).raw=!0,n(t,e)},i.ungzip=n},{"./utils/common":28,"./utils/strings":29,"./zlib/constants":31,"./zlib/gzheader":34,"./zlib/inflate":36,"./zlib/messages":38,"./zlib/zstream":40}],28:[function(t,e,i){"use strict";var o="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;i.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var i=e.shift();if(i){if("object"!=typeof i)throw new TypeError(i+"must be non-object");for(var o in i)i.hasOwnProperty(o)&&(t[o]=i[o])}}return t},i.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var n={arraySet:function(t,e,i,o,n){if(e.subarray&&t.subarray)t.set(e.subarray(i,i+o),n);else for(var r=0;r<o;r++)t[n+r]=e[i+r]},flattenChunks:function(t){var e,i,o,n,r,s;for(o=0,e=0,i=t.length;e<i;e++)o+=t[e].length;for(s=new Uint8Array(o),n=0,e=0,i=t.length;e<i;e++)s.set(r=t[e],n),n+=r.length;return s}},r={arraySet:function(t,e,i,o,n){for(var r=0;r<o;r++)t[n+r]=e[i+r]},flattenChunks:function(t){return[].concat.apply([],t)}};i.setTyped=function(t){t?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,n)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,r))},i.setTyped(o)},{}],29:[function(t,e,i){"use strict";function o(t,e){if(e<65537&&(t.subarray&&s||!t.subarray&&r))return String.fromCharCode.apply(null,n.shrinkBuf(t,e));for(var i="",o=0;o<e;o++)i+=String.fromCharCode(t[o]);return i}var n=t("./common"),r=!0,s=!0;try{String.fromCharCode.apply(null,[0])}catch(t){r=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){s=!1}for(var a=new n.Buf8(256),h=0;h<256;h++)a[h]=h>=252?6:h>=248?5:h>=240?4:h>=224?3:h>=192?2:1;a[254]=a[254]=1,i.string2buf=function(t){var e,i,o,r,s,a=t.length,h=0;for(r=0;r<a;r++)55296==(64512&(i=t.charCodeAt(r)))&&r+1<a&&56320==(64512&(o=t.charCodeAt(r+1)))&&(i=65536+(i-55296<<10)+(o-56320),r++),h+=i<128?1:i<2048?2:i<65536?3:4;for(e=new n.Buf8(h),s=0,r=0;s<h;r++)55296==(64512&(i=t.charCodeAt(r)))&&r+1<a&&56320==(64512&(o=t.charCodeAt(r+1)))&&(i=65536+(i-55296<<10)+(o-56320),r++),i<128?e[s++]=i:i<2048?(e[s++]=192|i>>>6,e[s++]=128|63&i):i<65536?(e[s++]=224|i>>>12,e[s++]=128|i>>>6&63,e[s++]=128|63&i):(e[s++]=240|i>>>18,e[s++]=128|i>>>12&63,e[s++]=128|i>>>6&63,e[s++]=128|63&i);return e},i.buf2binstring=function(t){return o(t,t.length)},i.binstring2buf=function(t){for(var e=new n.Buf8(t.length),i=0,o=e.length;i<o;i++)e[i]=t.charCodeAt(i);return e},i.buf2string=function(t,e){var i,n,r,s,h=e||t.length,l=new Array(2*h);for(n=0,i=0;i<h;)if((r=t[i++])<128)l[n++]=r;else if((s=a[r])>4)l[n++]=65533,i+=s-1;else{for(r&=2===s?31:3===s?15:7;s>1&&i<h;)r=r<<6|63&t[i++],s--;s>1?l[n++]=65533:r<65536?l[n++]=r:(l[n++]=55296|(r-=65536)>>10&1023,l[n++]=56320|1023&r)}return o(l,n)},i.utf8border=function(t,e){var i;for((e=e||t.length)>t.length&&(e=t.length),i=e-1;i>=0&&128==(192&t[i]);)i--;return i<0?e:0===i?e:i+a[t[i]]>e?i:e}},{"./common":28}],30:[function(t,e,i){"use strict";e.exports=function(t,e,i,o){for(var n=65535&t|0,r=t>>>16&65535|0,s=0;0!==i;){i-=s=i>2e3?2e3:i;do{r=r+(n=n+e[o++]|0)|0}while(--s);n%=65521,r%=65521}return n|r<<16|0}},{}],31:[function(t,e,i){"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],32:[function(t,e,i){"use strict";var o=function(){for(var t,e=[],i=0;i<256;i++){t=i;for(var o=0;o<8;o++)t=1&t?3988292384^t>>>1:t>>>1;e[i]=t}return e}();e.exports=function(t,e,i,n){var r=o,s=n+i;t^=-1;for(var a=n;a<s;a++)t=t>>>8^r[255&(t^e[a])];return-1^t}},{}],33:[function(t,e,i){"use strict";function o(t,e){return t.msg=E[e],e}function n(t){return(t<<1)-(t>4?9:0)}function r(t){for(var e=t.length;--e>=0;)t[e]=0}function s(t){var e=t.state,i=e.pending;i>t.avail_out&&(i=t.avail_out),0!==i&&(M.arraySet(t.output,e.pending_buf,e.pending_out,i,t.next_out),t.next_out+=i,e.pending_out+=i,t.total_out+=i,t.avail_out-=i,e.pending-=i,0===e.pending&&(e.pending_out=0))}function a(t,e){k._tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,s(t.strm)}function h(t,e){t.pending_buf[t.pending++]=e}function l(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function p(t,e,i,o){var n=t.avail_in;return n>o&&(n=o),0===n?0:(t.avail_in-=n,M.arraySet(e,t.input,t.next_in,n,i),1===t.state.wrap?t.adler=S(t.adler,e,n,i):2===t.state.wrap&&(t.adler=C(t.adler,e,n,i)),t.next_in+=n,t.total_in+=n,n)}function u(t,e){var i,o,n=t.max_chain_length,r=t.strstart,s=t.prev_length,a=t.nice_match,h=t.strstart>t.w_size-G?t.strstart-(t.w_size-G):0,l=t.window,p=t.w_mask,u=t.prev,d=t.strstart+W,c=l[r+s-1],f=l[r+s];t.prev_length>=t.good_match&&(n>>=2),a>t.lookahead&&(a=t.lookahead);do{if(l[(i=e)+s]===f&&l[i+s-1]===c&&l[i]===l[r]&&l[++i]===l[r+1]){r+=2,i++;do{}while(l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&r<d);if(o=W-(d-r),r=d-W,o>s){if(t.match_start=e,s=o,o>=a)break;c=l[r+s-1],f=l[r+s]}}}while((e=u[e&p])>h&&0!=--n);return s<=t.lookahead?s:t.lookahead}function d(t){var e,i,o,n,r,s=t.w_size;do{if(n=t.window_size-t.lookahead-t.strstart,t.strstart>=s+(s-G)){M.arraySet(t.window,t.window,s,s,0),t.match_start-=s,t.strstart-=s,t.block_start-=s,e=i=t.hash_size;do{o=t.head[--e],t.head[e]=o>=s?o-s:0}while(--i);e=i=s;do{o=t.prev[--e],t.prev[e]=o>=s?o-s:0}while(--i);n+=s}if(0===t.strm.avail_in)break;if(i=p(t.strm,t.window,t.strstart+t.lookahead,n),t.lookahead+=i,t.lookahead+t.insert>=U)for(t.ins_h=t.window[r=t.strstart-t.insert],t.ins_h=(t.ins_h<<t.hash_shift^t.window[r+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[r+U-1])&t.hash_mask,t.prev[r&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=r,r++,t.insert--,!(t.lookahead+t.insert<U)););}while(t.lookahead<G&&0!==t.strm.avail_in)}function c(t,e){for(var i,o;;){if(t.lookahead<G){if(d(t),t.lookahead<G&&e===T)return X;if(0===t.lookahead)break}if(i=0,t.lookahead>=U&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+U-1])&t.hash_mask,i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==i&&t.strstart-i<=t.w_size-G&&(t.match_length=u(t,i)),t.match_length>=U)if(o=k._tr_tally(t,t.strstart-t.match_start,t.match_length-U),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=U){t.match_length--;do{t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+U-1])&t.hash_mask,i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else o=k._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(o&&(a(t,!1),0===t.strm.avail_out))return X}return t.insert=t.strstart<U-1?t.strstart:U-1,e===P?(a(t,!0),0===t.strm.avail_out?K:J):t.last_lit&&(a(t,!1),0===t.strm.avail_out)?X:Z}function f(t,e){for(var i,o,n;;){if(t.lookahead<G){if(d(t),t.lookahead<G&&e===T)return X;if(0===t.lookahead)break}if(i=0,t.lookahead>=U&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+U-1])&t.hash_mask,i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=U-1,0!==i&&t.prev_length<t.max_lazy_match&&t.strstart-i<=t.w_size-G&&(t.match_length=u(t,i),t.match_length<=5&&(t.strategy===I||t.match_length===U&&t.strstart-t.match_start>4096)&&(t.match_length=U-1)),t.prev_length>=U&&t.match_length<=t.prev_length){n=t.strstart+t.lookahead-U,o=k._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-U),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=n&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+U-1])&t.hash_mask,i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=U-1,t.strstart++,o&&(a(t,!1),0===t.strm.avail_out))return X}else if(t.match_available){if((o=k._tr_tally(t,0,t.window[t.strstart-1]))&&a(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return X}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(o=k._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<U-1?t.strstart:U-1,e===P?(a(t,!0),0===t.strm.avail_out?K:J):t.last_lit&&(a(t,!1),0===t.strm.avail_out)?X:Z}function y(t,e){for(var i,o,n,r,s=t.window;;){if(t.lookahead<=W){if(d(t),t.lookahead<=W&&e===T)return X;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=U&&t.strstart>0&&(o=s[n=t.strstart-1])===s[++n]&&o===s[++n]&&o===s[++n]){r=t.strstart+W;do{}while(o===s[++n]&&o===s[++n]&&o===s[++n]&&o===s[++n]&&o===s[++n]&&o===s[++n]&&o===s[++n]&&o===s[++n]&&n<r);t.match_length=W-(r-n),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=U?(i=k._tr_tally(t,1,t.match_length-U),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(i=k._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),i&&(a(t,!1),0===t.strm.avail_out))return X}return t.insert=0,e===P?(a(t,!0),0===t.strm.avail_out?K:J):t.last_lit&&(a(t,!1),0===t.strm.avail_out)?X:Z}function g(t,e){for(var i;;){if(0===t.lookahead&&(d(t),0===t.lookahead)){if(e===T)return X;break}if(t.match_length=0,i=k._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,i&&(a(t,!1),0===t.strm.avail_out))return X}return t.insert=0,e===P?(a(t,!0),0===t.strm.avail_out?K:J):t.last_lit&&(a(t,!1),0===t.strm.avail_out)?X:Z}function m(t,e,i,o,n){this.good_length=t,this.max_lazy=e,this.nice_length=i,this.max_chain=o,this.func=n}function v(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=L,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new M.Buf16(2*q),this.dyn_dtree=new M.Buf16(2*(2*z+1)),this.bl_tree=new M.Buf16(2*(2*B+1)),r(this.dyn_ltree),r(this.dyn_dtree),r(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new M.Buf16(H+1),this.heap=new M.Buf16(2*F+1),r(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new M.Buf16(2*F+1),r(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function b(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=N,(e=t.state).pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?Y:V,t.adler=2===e.wrap?0:1,e.last_flush=T,k._tr_init(e),A):o(t,O)}function w(t){var e=b(t);return e===A&&function(t){t.window_size=2*t.w_size,r(t.head),t.max_lazy_match=_[t.level].max_lazy,t.good_match=_[t.level].good_length,t.nice_match=_[t.level].nice_length,t.max_chain_length=_[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=U-1,t.match_available=0,t.ins_h=0}(t.state),e}function x(t,e,i,n,r,s){if(!t)return O;var a=1;if(e===D&&(e=6),n<0?(a=0,n=-n):n>15&&(a=2,n-=16),r<1||r>j||i!==L||n<8||n>15||e<0||e>9||s<0||s>R)return o(t,O);8===n&&(n=9);var h=new v;return t.state=h,h.strm=t,h.wrap=a,h.gzhead=null,h.w_bits=n,h.w_size=1<<h.w_bits,h.w_mask=h.w_size-1,h.hash_bits=r+7,h.hash_size=1<<h.hash_bits,h.hash_mask=h.hash_size-1,h.hash_shift=~~((h.hash_bits+U-1)/U),h.window=new M.Buf8(2*h.w_size),h.head=new M.Buf16(h.hash_size),h.prev=new M.Buf16(h.w_size),h.lit_bufsize=1<<r+6,h.pending_buf_size=4*h.lit_bufsize,h.pending_buf=new M.Buf8(h.pending_buf_size),h.d_buf=1*h.lit_bufsize,h.l_buf=3*h.lit_bufsize,h.level=e,h.strategy=s,h.method=i,w(t)}var _,M=t("../utils/common"),k=t("./trees"),S=t("./adler32"),C=t("./crc32"),E=t("./messages"),T=0,P=4,A=0,O=-2,D=-1,I=1,R=4,N=2,L=8,j=9,F=286,z=30,B=19,q=2*F+1,H=15,U=3,W=258,G=W+U+1,Y=42,V=113,X=1,Z=2,K=3,J=4;_=[new m(0,0,0,0,function(t,e){var i=65535;for(i>t.pending_buf_size-5&&(i=t.pending_buf_size-5);;){if(t.lookahead<=1){if(d(t),0===t.lookahead&&e===T)return X;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var o=t.block_start+i;if((0===t.strstart||t.strstart>=o)&&(t.lookahead=t.strstart-o,t.strstart=o,a(t,!1),0===t.strm.avail_out))return X;if(t.strstart-t.block_start>=t.w_size-G&&(a(t,!1),0===t.strm.avail_out))return X}return t.insert=0,e===P?(a(t,!0),0===t.strm.avail_out?K:J):(t.strstart>t.block_start&&a(t,!1),X)}),new m(4,4,8,4,c),new m(4,5,16,8,c),new m(4,6,32,32,c),new m(4,4,16,16,f),new m(8,16,32,32,f),new m(8,16,128,128,f),new m(8,32,128,256,f),new m(32,128,258,1024,f),new m(32,258,258,4096,f)],i.deflateInit=function(t,e){return x(t,e,L,15,8,0)},i.deflateInit2=x,i.deflateReset=w,i.deflateResetKeep=b,i.deflateSetHeader=function(t,e){return t&&t.state?2!==t.state.wrap?O:(t.state.gzhead=e,A):O},i.deflate=function(t,e){var i,a,p,u;if(!t||!t.state||e>5||e<0)return t?o(t,O):O;if(a=t.state,!t.output||!t.input&&0!==t.avail_in||666===a.status&&e!==P)return o(t,0===t.avail_out?-5:O);if(a.strm=t,i=a.last_flush,a.last_flush=e,a.status===Y)if(2===a.wrap)t.adler=0,h(a,31),h(a,139),h(a,8),a.gzhead?(h(a,(a.gzhead.text?1:0)+(a.gzhead.hcrc?2:0)+(a.gzhead.extra?4:0)+(a.gzhead.name?8:0)+(a.gzhead.comment?16:0)),h(a,255&a.gzhead.time),h(a,a.gzhead.time>>8&255),h(a,a.gzhead.time>>16&255),h(a,a.gzhead.time>>24&255),h(a,9===a.level?2:a.strategy>=2||a.level<2?4:0),h(a,255&a.gzhead.os),a.gzhead.extra&&a.gzhead.extra.length&&(h(a,255&a.gzhead.extra.length),h(a,a.gzhead.extra.length>>8&255)),a.gzhead.hcrc&&(t.adler=C(t.adler,a.pending_buf,a.pending,0)),a.gzindex=0,a.status=69):(h(a,0),h(a,0),h(a,0),h(a,0),h(a,0),h(a,9===a.level?2:a.strategy>=2||a.level<2?4:0),h(a,3),a.status=V);else{var d=L+(a.w_bits-8<<4)<<8;d|=(a.strategy>=2||a.level<2?0:a.level<6?1:6===a.level?2:3)<<6,0!==a.strstart&&(d|=32),d+=31-d%31,a.status=V,l(a,d),0!==a.strstart&&(l(a,t.adler>>>16),l(a,65535&t.adler)),t.adler=1}if(69===a.status)if(a.gzhead.extra){for(p=a.pending;a.gzindex<(65535&a.gzhead.extra.length)&&(a.pending!==a.pending_buf_size||(a.gzhead.hcrc&&a.pending>p&&(t.adler=C(t.adler,a.pending_buf,a.pending-p,p)),s(t),p=a.pending,a.pending!==a.pending_buf_size));)h(a,255&a.gzhead.extra[a.gzindex]),a.gzindex++;a.gzhead.hcrc&&a.pending>p&&(t.adler=C(t.adler,a.pending_buf,a.pending-p,p)),a.gzindex===a.gzhead.extra.length&&(a.gzindex=0,a.status=73)}else a.status=73;if(73===a.status)if(a.gzhead.name){p=a.pending;do{if(a.pending===a.pending_buf_size&&(a.gzhead.hcrc&&a.pending>p&&(t.adler=C(t.adler,a.pending_buf,a.pending-p,p)),s(t),p=a.pending,a.pending===a.pending_buf_size)){u=1;break}u=a.gzindex<a.gzhead.name.length?255&a.gzhead.name.charCodeAt(a.gzindex++):0,h(a,u)}while(0!==u);a.gzhead.hcrc&&a.pending>p&&(t.adler=C(t.adler,a.pending_buf,a.pending-p,p)),0===u&&(a.gzindex=0,a.status=91)}else a.status=91;if(91===a.status)if(a.gzhead.comment){p=a.pending;do{if(a.pending===a.pending_buf_size&&(a.gzhead.hcrc&&a.pending>p&&(t.adler=C(t.adler,a.pending_buf,a.pending-p,p)),s(t),p=a.pending,a.pending===a.pending_buf_size)){u=1;break}u=a.gzindex<a.gzhead.comment.length?255&a.gzhead.comment.charCodeAt(a.gzindex++):0,h(a,u)}while(0!==u);a.gzhead.hcrc&&a.pending>p&&(t.adler=C(t.adler,a.pending_buf,a.pending-p,p)),0===u&&(a.status=103)}else a.status=103;if(103===a.status&&(a.gzhead.hcrc?(a.pending+2>a.pending_buf_size&&s(t),a.pending+2<=a.pending_buf_size&&(h(a,255&t.adler),h(a,t.adler>>8&255),t.adler=0,a.status=V)):a.status=V),0!==a.pending){if(s(t),0===t.avail_out)return a.last_flush=-1,A}else if(0===t.avail_in&&n(e)<=n(i)&&e!==P)return o(t,-5);if(666===a.status&&0!==t.avail_in)return o(t,-5);if(0!==t.avail_in||0!==a.lookahead||e!==T&&666!==a.status){var c=2===a.strategy?g(a,e):3===a.strategy?y(a,e):_[a.level].func(a,e);if(c!==K&&c!==J||(a.status=666),c===X||c===K)return 0===t.avail_out&&(a.last_flush=-1),A;if(c===Z&&(1===e?k._tr_align(a):5!==e&&(k._tr_stored_block(a,0,0,!1),3===e&&(r(a.head),0===a.lookahead&&(a.strstart=0,a.block_start=0,a.insert=0))),s(t),0===t.avail_out))return a.last_flush=-1,A}return e!==P?A:a.wrap<=0?1:(2===a.wrap?(h(a,255&t.adler),h(a,t.adler>>8&255),h(a,t.adler>>16&255),h(a,t.adler>>24&255),h(a,255&t.total_in),h(a,t.total_in>>8&255),h(a,t.total_in>>16&255),h(a,t.total_in>>24&255)):(l(a,t.adler>>>16),l(a,65535&t.adler)),s(t),a.wrap>0&&(a.wrap=-a.wrap),0!==a.pending?A:1)},i.deflateEnd=function(t){var e;return t&&t.state?(e=t.state.status)!==Y&&69!==e&&73!==e&&91!==e&&103!==e&&e!==V&&666!==e?o(t,O):(t.state=null,e===V?o(t,-3):A):O},i.deflateSetDictionary=function(t,e){var i,o,n,s,a,h,l,p,u=e.length;if(!t||!t.state)return O;if(2===(s=(i=t.state).wrap)||1===s&&i.status!==Y||i.lookahead)return O;for(1===s&&(t.adler=S(t.adler,e,u,0)),i.wrap=0,u>=i.w_size&&(0===s&&(r(i.head),i.strstart=0,i.block_start=0,i.insert=0),p=new M.Buf8(i.w_size),M.arraySet(p,e,u-i.w_size,i.w_size,0),e=p,u=i.w_size),a=t.avail_in,h=t.next_in,l=t.input,t.avail_in=u,t.next_in=0,t.input=e,d(i);i.lookahead>=U;){o=i.strstart,n=i.lookahead-(U-1);do{i.ins_h=(i.ins_h<<i.hash_shift^i.window[o+U-1])&i.hash_mask,i.prev[o&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=o,o++}while(--n);i.strstart=o,i.lookahead=U-1,d(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=U-1,i.match_available=0,t.next_in=h,t.input=l,t.avail_in=a,i.wrap=s,A},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":28,"./adler32":30,"./crc32":32,"./messages":38,"./trees":39}],34:[function(t,e,i){"use strict";e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],35:[function(t,e,i){"use strict";e.exports=function(t,e){var i,o,n,r,s,a,h,l,p,u,d,c,f,y,g,m,v,b,w,x,_,M,k,S,C;S=t.input,n=(o=t.next_in)+(t.avail_in-5),C=t.output,s=(r=t.next_out)-(e-t.avail_out),a=r+(t.avail_out-257),h=(i=t.state).dmax,l=i.wsize,p=i.whave,u=i.wnext,d=i.window,c=i.hold,f=i.bits,y=i.lencode,g=i.distcode,m=(1<<i.lenbits)-1,v=(1<<i.distbits)-1;t:do{f<15&&(c+=S[o++]<<f,c+=S[o++]<<(f+=8),f+=8),b=y[c&m];e:for(;;){if(c>>>=w=b>>>24,f-=w,0==(w=b>>>16&255))C[r++]=65535&b;else{if(!(16&w)){if(0==(64&w)){b=y[(65535&b)+(c&(1<<w)-1)];continue e}if(32&w){i.mode=12;break t}t.msg="invalid literal/length code",i.mode=30;break t}x=65535&b,(w&=15)&&(f<w&&(c+=S[o++]<<f,f+=8),x+=c&(1<<w)-1,c>>>=w,f-=w),f<15&&(c+=S[o++]<<f,c+=S[o++]<<(f+=8),f+=8),b=g[c&v];i:for(;;){if(c>>>=w=b>>>24,f-=w,!(16&(w=b>>>16&255))){if(0==(64&w)){b=g[(65535&b)+(c&(1<<w)-1)];continue i}t.msg="invalid distance code",i.mode=30;break t}if(_=65535&b,f<(w&=15)&&(c+=S[o++]<<f,(f+=8)<w&&(c+=S[o++]<<f,f+=8)),(_+=c&(1<<w)-1)>h){t.msg="invalid distance too far back",i.mode=30;break t}if(c>>>=w,f-=w,_>(w=r-s)){if((w=_-w)>p&&i.sane){t.msg="invalid distance too far back",i.mode=30;break t}if(M=0,k=d,0===u){if(M+=l-w,w<x){x-=w;do{C[r++]=d[M++]}while(--w);M=r-_,k=C}}else if(u<w){if(M+=l+u-w,(w-=u)<x){x-=w;do{C[r++]=d[M++]}while(--w);if(M=0,u<x){x-=w=u;do{C[r++]=d[M++]}while(--w);M=r-_,k=C}}}else if(M+=u-w,w<x){x-=w;do{C[r++]=d[M++]}while(--w);M=r-_,k=C}for(;x>2;)C[r++]=k[M++],C[r++]=k[M++],C[r++]=k[M++],x-=3;x&&(C[r++]=k[M++],x>1&&(C[r++]=k[M++]))}else{M=r-_;do{C[r++]=C[M++],C[r++]=C[M++],C[r++]=C[M++],x-=3}while(x>2);x&&(C[r++]=C[M++],x>1&&(C[r++]=C[M++]))}break}}break}}while(o<n&&r<a);c&=(1<<(f-=(x=f>>3)<<3))-1,t.next_in=o-=x,t.next_out=r,t.avail_in=o<n?n-o+5:5-(o-n),t.avail_out=r<a?a-r+257:257-(r-a),i.hold=c,i.bits=f}},{}],36:[function(t,e,i){"use strict";function o(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function n(t){var e;return t&&t.state?(t.total_in=t.total_out=(e=t.state).total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=x,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new d.Buf32(M),e.distcode=e.distdyn=new d.Buf32(k),e.sane=1,e.back=-1,b):w}function r(t){var e;return t&&t.state?((e=t.state).wsize=0,e.whave=0,e.wnext=0,n(t)):w}function s(t,e){var i,o;return t&&t.state?(o=t.state,e<0?(i=0,e=-e):(i=1+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?w:(null!==o.window&&o.wbits!==e&&(o.window=null),o.wrap=i,o.wbits=e,r(t))):w}function a(t,e){var i,o;return t?(o=new function(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new d.Buf16(320),this.work=new d.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0},t.state=o,o.window=null,(i=s(t,e))!==b&&(t.state=null),i):w}function h(t){if(S){var e;for(p=new d.Buf32(512),u=new d.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(g(m,t.lens,0,288,p,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;g(v,t.lens,0,32,u,0,t.work,{bits:5}),S=!1}t.lencode=p,t.lenbits=9,t.distcode=u,t.distbits=5}function l(t,e,i,o){var n,r=t.state;return null===r.window&&(r.wsize=1<<r.wbits,r.wnext=0,r.whave=0,r.window=new d.Buf8(r.wsize)),o>=r.wsize?(d.arraySet(r.window,e,i-r.wsize,r.wsize,0),r.wnext=0,r.whave=r.wsize):((n=r.wsize-r.wnext)>o&&(n=o),d.arraySet(r.window,e,i-o,n,r.wnext),(o-=n)?(d.arraySet(r.window,e,i-o,o,0),r.wnext=o,r.whave=r.wsize):(r.wnext+=n,r.wnext===r.wsize&&(r.wnext=0),r.whave<r.wsize&&(r.whave+=n))),0}var p,u,d=t("../utils/common"),c=t("./adler32"),f=t("./crc32"),y=t("./inffast"),g=t("./inftrees"),m=1,v=2,b=0,w=-2,x=1,_=12,M=852,k=592,S=!0;i.inflateReset=r,i.inflateReset2=s,i.inflateResetKeep=n,i.inflateInit=function(t){return a(t,15)},i.inflateInit2=a,i.inflate=function(t,e){var i,n,r,s,a,p,u,M,k,S,C,E,T,P,A,O,D,I,R,N,L,j,F,z,B=0,q=new d.Buf8(4),H=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return w;(i=t.state).mode===_&&(i.mode=13),a=t.next_out,r=t.output,s=t.next_in,n=t.input,M=i.hold,k=i.bits,S=p=t.avail_in,C=u=t.avail_out,j=b;t:for(;;)switch(i.mode){case x:if(0===i.wrap){i.mode=13;break}for(;k<16;){if(0===p)break t;p--,M+=n[s++]<<k,k+=8}if(2&i.wrap&&35615===M){i.check=0,q[0]=255&M,q[1]=M>>>8&255,i.check=f(i.check,q,2,0),M=0,k=0,i.mode=2;break}if(i.flags=0,i.head&&(i.head.done=!1),!(1&i.wrap)||(((255&M)<<8)+(M>>8))%31){t.msg="incorrect header check",i.mode=30;break}if(8!=(15&M)){t.msg="unknown compression method",i.mode=30;break}if(k-=4,L=8+(15&(M>>>=4)),0===i.wbits)i.wbits=L;else if(L>i.wbits){t.msg="invalid window size",i.mode=30;break}i.dmax=1<<L,t.adler=i.check=1,i.mode=512&M?10:_,M=0,k=0;break;case 2:for(;k<16;){if(0===p)break t;p--,M+=n[s++]<<k,k+=8}if(i.flags=M,8!=(255&i.flags)){t.msg="unknown compression method",i.mode=30;break}if(57344&i.flags){t.msg="unknown header flags set",i.mode=30;break}i.head&&(i.head.text=M>>8&1),512&i.flags&&(q[0]=255&M,q[1]=M>>>8&255,i.check=f(i.check,q,2,0)),M=0,k=0,i.mode=3;case 3:for(;k<32;){if(0===p)break t;p--,M+=n[s++]<<k,k+=8}i.head&&(i.head.time=M),512&i.flags&&(q[0]=255&M,q[1]=M>>>8&255,q[2]=M>>>16&255,q[3]=M>>>24&255,i.check=f(i.check,q,4,0)),M=0,k=0,i.mode=4;case 4:for(;k<16;){if(0===p)break t;p--,M+=n[s++]<<k,k+=8}i.head&&(i.head.xflags=255&M,i.head.os=M>>8),512&i.flags&&(q[0]=255&M,q[1]=M>>>8&255,i.check=f(i.check,q,2,0)),M=0,k=0,i.mode=5;case 5:if(1024&i.flags){for(;k<16;){if(0===p)break t;p--,M+=n[s++]<<k,k+=8}i.length=M,i.head&&(i.head.extra_len=M),512&i.flags&&(q[0]=255&M,q[1]=M>>>8&255,i.check=f(i.check,q,2,0)),M=0,k=0}else i.head&&(i.head.extra=null);i.mode=6;case 6:if(1024&i.flags&&((E=i.length)>p&&(E=p),E&&(i.head&&(L=i.head.extra_len-i.length,i.head.extra||(i.head.extra=new Array(i.head.extra_len)),d.arraySet(i.head.extra,n,s,E,L)),512&i.flags&&(i.check=f(i.check,n,E,s)),p-=E,s+=E,i.length-=E),i.length))break t;i.length=0,i.mode=7;case 7:if(2048&i.flags){if(0===p)break t;E=0;do{L=n[s+E++],i.head&&L&&i.length<65536&&(i.head.name+=String.fromCharCode(L))}while(L&&E<p);if(512&i.flags&&(i.check=f(i.check,n,E,s)),p-=E,s+=E,L)break t}else i.head&&(i.head.name=null);i.length=0,i.mode=8;case 8:if(4096&i.flags){if(0===p)break t;E=0;do{L=n[s+E++],i.head&&L&&i.length<65536&&(i.head.comment+=String.fromCharCode(L))}while(L&&E<p);if(512&i.flags&&(i.check=f(i.check,n,E,s)),p-=E,s+=E,L)break t}else i.head&&(i.head.comment=null);i.mode=9;case 9:if(512&i.flags){for(;k<16;){if(0===p)break t;p--,M+=n[s++]<<k,k+=8}if(M!==(65535&i.check)){t.msg="header crc mismatch",i.mode=30;break}M=0,k=0}i.head&&(i.head.hcrc=i.flags>>9&1,i.head.done=!0),t.adler=i.check=0,i.mode=_;break;case 10:for(;k<32;){if(0===p)break t;p--,M+=n[s++]<<k,k+=8}t.adler=i.check=o(M),M=0,k=0,i.mode=11;case 11:if(0===i.havedict)return t.next_out=a,t.avail_out=u,t.next_in=s,t.avail_in=p,i.hold=M,i.bits=k,2;t.adler=i.check=1,i.mode=_;case _:if(5===e||6===e)break t;case 13:if(i.last){M>>>=7&k,k-=7&k,i.mode=27;break}for(;k<3;){if(0===p)break t;p--,M+=n[s++]<<k,k+=8}switch(i.last=1&M,k-=1,3&(M>>>=1)){case 0:i.mode=14;break;case 1:if(h(i),i.mode=20,6===e){M>>>=2,k-=2;break t}break;case 2:i.mode=17;break;case 3:t.msg="invalid block type",i.mode=30}M>>>=2,k-=2;break;case 14:for(M>>>=7&k,k-=7&k;k<32;){if(0===p)break t;p--,M+=n[s++]<<k,k+=8}if((65535&M)!=(M>>>16^65535)){t.msg="invalid stored block lengths",i.mode=30;break}if(i.length=65535&M,M=0,k=0,i.mode=15,6===e)break t;case 15:i.mode=16;case 16:if(E=i.length){if(E>p&&(E=p),E>u&&(E=u),0===E)break t;d.arraySet(r,n,s,E,a),p-=E,s+=E,u-=E,a+=E,i.length-=E;break}i.mode=_;break;case 17:for(;k<14;){if(0===p)break t;p--,M+=n[s++]<<k,k+=8}if(i.nlen=257+(31&M),k-=5,i.ndist=1+(31&(M>>>=5)),k-=5,i.ncode=4+(15&(M>>>=5)),M>>>=4,k-=4,i.nlen>286||i.ndist>30){t.msg="too many length or distance symbols",i.mode=30;break}i.have=0,i.mode=18;case 18:for(;i.have<i.ncode;){for(;k<3;){if(0===p)break t;p--,M+=n[s++]<<k,k+=8}i.lens[H[i.have++]]=7&M,M>>>=3,k-=3}for(;i.have<19;)i.lens[H[i.have++]]=0;if(i.lencode=i.lendyn,i.lenbits=7,j=g(0,i.lens,0,19,i.lencode,0,i.work,F={bits:i.lenbits}),i.lenbits=F.bits,j){t.msg="invalid code lengths set",i.mode=30;break}i.have=0,i.mode=19;case 19:for(;i.have<i.nlen+i.ndist;){for(;O=(B=i.lencode[M&(1<<i.lenbits)-1])>>>16&255,D=65535&B,!((A=B>>>24)<=k);){if(0===p)break t;p--,M+=n[s++]<<k,k+=8}if(D<16)M>>>=A,k-=A,i.lens[i.have++]=D;else{if(16===D){for(z=A+2;k<z;){if(0===p)break t;p--,M+=n[s++]<<k,k+=8}if(M>>>=A,k-=A,0===i.have){t.msg="invalid bit length repeat",i.mode=30;break}L=i.lens[i.have-1],E=3+(3&M),M>>>=2,k-=2}else if(17===D){for(z=A+3;k<z;){if(0===p)break t;p--,M+=n[s++]<<k,k+=8}k-=A,L=0,E=3+(7&(M>>>=A)),M>>>=3,k-=3}else{for(z=A+7;k<z;){if(0===p)break t;p--,M+=n[s++]<<k,k+=8}k-=A,L=0,E=11+(127&(M>>>=A)),M>>>=7,k-=7}if(i.have+E>i.nlen+i.ndist){t.msg="invalid bit length repeat",i.mode=30;break}for(;E--;)i.lens[i.have++]=L}}if(30===i.mode)break;if(0===i.lens[256]){t.msg="invalid code -- missing end-of-block",i.mode=30;break}if(i.lenbits=9,j=g(m,i.lens,0,i.nlen,i.lencode,0,i.work,F={bits:i.lenbits}),i.lenbits=F.bits,j){t.msg="invalid literal/lengths set",i.mode=30;break}if(i.distbits=6,i.distcode=i.distdyn,j=g(v,i.lens,i.nlen,i.ndist,i.distcode,0,i.work,F={bits:i.distbits}),i.distbits=F.bits,j){t.msg="invalid distances set",i.mode=30;break}if(i.mode=20,6===e)break t;case 20:i.mode=21;case 21:if(p>=6&&u>=258){t.next_out=a,t.avail_out=u,t.next_in=s,t.avail_in=p,i.hold=M,i.bits=k,y(t,C),a=t.next_out,r=t.output,u=t.avail_out,s=t.next_in,n=t.input,p=t.avail_in,M=i.hold,k=i.bits,i.mode===_&&(i.back=-1);break}for(i.back=0;O=(B=i.lencode[M&(1<<i.lenbits)-1])>>>16&255,D=65535&B,!((A=B>>>24)<=k);){if(0===p)break t;p--,M+=n[s++]<<k,k+=8}if(O&&0==(240&O)){for(I=A,R=O,N=D;O=(B=i.lencode[N+((M&(1<<I+R)-1)>>I)])>>>16&255,D=65535&B,!(I+(A=B>>>24)<=k);){if(0===p)break t;p--,M+=n[s++]<<k,k+=8}M>>>=I,k-=I,i.back+=I}if(M>>>=A,k-=A,i.back+=A,i.length=D,0===O){i.mode=26;break}if(32&O){i.back=-1,i.mode=_;break}if(64&O){t.msg="invalid literal/length code",i.mode=30;break}i.extra=15&O,i.mode=22;case 22:if(i.extra){for(z=i.extra;k<z;){if(0===p)break t;p--,M+=n[s++]<<k,k+=8}i.length+=M&(1<<i.extra)-1,M>>>=i.extra,k-=i.extra,i.back+=i.extra}i.was=i.length,i.mode=23;case 23:for(;O=(B=i.distcode[M&(1<<i.distbits)-1])>>>16&255,D=65535&B,!((A=B>>>24)<=k);){if(0===p)break t;p--,M+=n[s++]<<k,k+=8}if(0==(240&O)){for(I=A,R=O,N=D;O=(B=i.distcode[N+((M&(1<<I+R)-1)>>I)])>>>16&255,D=65535&B,!(I+(A=B>>>24)<=k);){if(0===p)break t;p--,M+=n[s++]<<k,k+=8}M>>>=I,k-=I,i.back+=I}if(M>>>=A,k-=A,i.back+=A,64&O){t.msg="invalid distance code",i.mode=30;break}i.offset=D,i.extra=15&O,i.mode=24;case 24:if(i.extra){for(z=i.extra;k<z;){if(0===p)break t;p--,M+=n[s++]<<k,k+=8}i.offset+=M&(1<<i.extra)-1,M>>>=i.extra,k-=i.extra,i.back+=i.extra}if(i.offset>i.dmax){t.msg="invalid distance too far back",i.mode=30;break}i.mode=25;case 25:if(0===u)break t;if(i.offset>(E=C-u)){if((E=i.offset-E)>i.whave&&i.sane){t.msg="invalid distance too far back",i.mode=30;break}T=E>i.wnext?i.wsize-(E-=i.wnext):i.wnext-E,E>i.length&&(E=i.length),P=i.window}else P=r,T=a-i.offset,E=i.length;E>u&&(E=u),u-=E,i.length-=E;do{r[a++]=P[T++]}while(--E);0===i.length&&(i.mode=21);break;case 26:if(0===u)break t;r[a++]=i.length,u--,i.mode=21;break;case 27:if(i.wrap){for(;k<32;){if(0===p)break t;p--,M|=n[s++]<<k,k+=8}if(t.total_out+=C-=u,i.total+=C,C&&(t.adler=i.check=i.flags?f(i.check,r,C,a-C):c(i.check,r,C,a-C)),C=u,(i.flags?M:o(M))!==i.check){t.msg="incorrect data check",i.mode=30;break}M=0,k=0}i.mode=28;case 28:if(i.wrap&&i.flags){for(;k<32;){if(0===p)break t;p--,M+=n[s++]<<k,k+=8}if(M!==(4294967295&i.total)){t.msg="incorrect length check",i.mode=30;break}M=0,k=0}i.mode=29;case 29:j=1;break t;case 30:j=-3;break t;case 31:return-4;case 32:default:return w}return t.next_out=a,t.avail_out=u,t.next_in=s,t.avail_in=p,i.hold=M,i.bits=k,(i.wsize||C!==t.avail_out&&i.mode<30&&(i.mode<27||4!==e))&&l(t,t.output,t.next_out,C-t.avail_out)?(i.mode=31,-4):(C-=t.avail_out,t.total_in+=S-=t.avail_in,t.total_out+=C,i.total+=C,i.wrap&&C&&(t.adler=i.check=i.flags?f(i.check,r,C,t.next_out-C):c(i.check,r,C,t.next_out-C)),t.data_type=i.bits+(i.last?64:0)+(i.mode===_?128:0)+(20===i.mode||15===i.mode?256:0),(0===S&&0===C||4===e)&&j===b&&(j=-5),j)},i.inflateEnd=function(t){if(!t||!t.state)return w;var e=t.state;return e.window&&(e.window=null),t.state=null,b},i.inflateGetHeader=function(t,e){var i;return t&&t.state?0==(2&(i=t.state).wrap)?w:(i.head=e,e.done=!1,b):w},i.inflateSetDictionary=function(t,e){var i,o=e.length;return t&&t.state?0!==(i=t.state).wrap&&11!==i.mode?w:11===i.mode&&c(1,e,o,0)!==i.check?-3:l(t,e,o,o)?(i.mode=31,-4):(i.havedict=1,b):w},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":28,"./adler32":30,"./crc32":32,"./inffast":35,"./inftrees":37}],37:[function(t,e,i){"use strict";var o=t("../utils/common"),n=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],r=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],s=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],a=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(t,e,i,h,l,p,u,d){var c,f,y,g,m,v,b,w,x,_=d.bits,M=0,k=0,S=0,C=0,E=0,T=0,P=0,A=0,O=0,D=0,I=null,R=0,N=new o.Buf16(16),L=new o.Buf16(16),j=null,F=0;for(M=0;M<=15;M++)N[M]=0;for(k=0;k<h;k++)N[e[i+k]]++;for(E=_,C=15;C>=1&&0===N[C];C--);if(E>C&&(E=C),0===C)return l[p++]=20971520,l[p++]=20971520,d.bits=1,0;for(S=1;S<C&&0===N[S];S++);for(E<S&&(E=S),A=1,M=1;M<=15;M++)if(A<<=1,(A-=N[M])<0)return-1;if(A>0&&(0===t||1!==C))return-1;for(L[1]=0,M=1;M<15;M++)L[M+1]=L[M]+N[M];for(k=0;k<h;k++)0!==e[i+k]&&(u[L[e[i+k]]++]=k);if(0===t?(I=j=u,v=19):1===t?(I=n,R-=257,j=r,F-=257,v=256):(I=s,j=a,v=-1),D=0,k=0,M=S,m=p,T=E,P=0,y=-1,g=(O=1<<E)-1,1===t&&O>852||2===t&&O>592)return 1;for(;;){b=M-P,u[k]<v?(w=0,x=u[k]):u[k]>v?(w=j[F+u[k]],x=I[R+u[k]]):(w=96,x=0),c=1<<M-P,S=f=1<<T;do{l[m+(D>>P)+(f-=c)]=b<<24|w<<16|x|0}while(0!==f);for(c=1<<M-1;D&c;)c>>=1;if(0!==c?(D&=c-1,D+=c):D=0,k++,0==--N[M]){if(M===C)break;M=e[i+u[k]]}if(M>E&&(D&g)!==y){for(0===P&&(P=E),m+=S,A=1<<(T=M-P);T+P<C&&!((A-=N[T+P])<=0);)T++,A<<=1;if(O+=1<<T,1===t&&O>852||2===t&&O>592)return 1;l[y=D&g]=E<<24|T<<16|m-p|0}}return 0!==D&&(l[m+D]=M-P<<24|64<<16|0),d.bits=E,0}},{"../utils/common":28}],38:[function(t,e,i){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],39:[function(t,e,i){"use strict";function o(t){for(var e=t.length;--e>=0;)t[e]=0}function n(t,e,i,o,n){this.static_tree=t,this.extra_bits=e,this.extra_base=i,this.elems=o,this.max_length=n,this.has_stree=t&&t.length}function r(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function s(t){return t<256?B[t]:B[256+(t>>>7)]}function a(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function h(t,e,i){t.bi_valid>P-i?(t.bi_buf|=e<<t.bi_valid&65535,a(t,t.bi_buf),t.bi_buf=e>>P-t.bi_valid,t.bi_valid+=i-P):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=i)}function l(t,e,i){h(t,i[2*e],i[2*e+1])}function p(t,e){var i=0;do{i|=1&t,t>>>=1,i<<=1}while(--e>0);return i>>>1}function u(t,e,i){var o,n,r=new Array(T+1),s=0;for(o=1;o<=T;o++)r[o]=s=s+i[o-1]<<1;for(n=0;n<=e;n++){var a=t[2*n+1];0!==a&&(t[2*n]=p(r[a]++,a))}}function d(t){var e;for(e=0;e<k;e++)t.dyn_ltree[2*e]=0;for(e=0;e<S;e++)t.dyn_dtree[2*e]=0;for(e=0;e<C;e++)t.bl_tree[2*e]=0;t.dyn_ltree[2*A]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function c(t){t.bi_valid>8?a(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function f(t,e,i,o){var n=2*e,r=2*i;return t[n]<t[r]||t[n]===t[r]&&o[e]<=o[i]}function y(t,e,i){for(var o=t.heap[i],n=i<<1;n<=t.heap_len&&(n<t.heap_len&&f(e,t.heap[n+1],t.heap[n],t.depth)&&n++,!f(e,o,t.heap[n],t.depth));)t.heap[i]=t.heap[n],i=n,n<<=1;t.heap[i]=o}function g(t,e,i){var o,n,r,a,p=0;if(0!==t.last_lit)do{o=t.pending_buf[t.d_buf+2*p]<<8|t.pending_buf[t.d_buf+2*p+1],n=t.pending_buf[t.l_buf+p],p++,0===o?l(t,n,e):(l(t,(r=q[n])+M+1,e),0!==(a=R[r])&&h(t,n-=H[r],a),l(t,r=s(--o),i),0!==(a=N[r])&&h(t,o-=U[r],a))}while(p<t.last_lit);l(t,A,e)}function m(t,e){var i,o,n,r=e.dyn_tree,s=e.stat_desc.static_tree,a=e.stat_desc.has_stree,h=e.stat_desc.elems,l=-1;for(t.heap_len=0,t.heap_max=E,i=0;i<h;i++)0!==r[2*i]?(t.heap[++t.heap_len]=l=i,t.depth[i]=0):r[2*i+1]=0;for(;t.heap_len<2;)r[2*(n=t.heap[++t.heap_len]=l<2?++l:0)]=1,t.depth[n]=0,t.opt_len--,a&&(t.static_len-=s[2*n+1]);for(e.max_code=l,i=t.heap_len>>1;i>=1;i--)y(t,r,i);n=h;do{i=t.heap[1],t.heap[1]=t.heap[t.heap_len--],y(t,r,1),o=t.heap[1],t.heap[--t.heap_max]=i,t.heap[--t.heap_max]=o,r[2*n]=r[2*i]+r[2*o],t.depth[n]=(t.depth[i]>=t.depth[o]?t.depth[i]:t.depth[o])+1,r[2*i+1]=r[2*o+1]=n,t.heap[1]=n++,y(t,r,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],function(t,e){var i,o,n,r,s,a,h=e.dyn_tree,l=e.max_code,p=e.stat_desc.static_tree,u=e.stat_desc.has_stree,d=e.stat_desc.extra_bits,c=e.stat_desc.extra_base,f=e.stat_desc.max_length,y=0;for(r=0;r<=T;r++)t.bl_count[r]=0;for(h[2*t.heap[t.heap_max]+1]=0,i=t.heap_max+1;i<E;i++)(r=h[2*h[2*(o=t.heap[i])+1]+1]+1)>f&&(r=f,y++),h[2*o+1]=r,o>l||(t.bl_count[r]++,s=0,o>=c&&(s=d[o-c]),t.opt_len+=(a=h[2*o])*(r+s),u&&(t.static_len+=a*(p[2*o+1]+s)));if(0!==y){do{for(r=f-1;0===t.bl_count[r];)r--;t.bl_count[r]--,t.bl_count[r+1]+=2,t.bl_count[f]--,y-=2}while(y>0);for(r=f;0!==r;r--)for(o=t.bl_count[r];0!==o;)(n=t.heap[--i])>l||(h[2*n+1]!==r&&(t.opt_len+=(r-h[2*n+1])*h[2*n],h[2*n+1]=r),o--)}}(t,e),u(r,l,t.bl_count)}function v(t,e,i){var o,n,r=-1,s=e[1],a=0,h=7,l=4;for(0===s&&(h=138,l=3),e[2*(i+1)+1]=65535,o=0;o<=i;o++)n=s,s=e[2*(o+1)+1],++a<h&&n===s||(a<l?t.bl_tree[2*n]+=a:0!==n?(n!==r&&t.bl_tree[2*n]++,t.bl_tree[2*O]++):a<=10?t.bl_tree[2*D]++:t.bl_tree[2*I]++,a=0,r=n,0===s?(h=138,l=3):n===s?(h=6,l=3):(h=7,l=4))}function b(t,e,i){var o,n,r=-1,s=e[1],a=0,p=7,u=4;for(0===s&&(p=138,u=3),o=0;o<=i;o++)if(n=s,s=e[2*(o+1)+1],!(++a<p&&n===s)){if(a<u)do{l(t,n,t.bl_tree)}while(0!=--a);else 0!==n?(n!==r&&(l(t,n,t.bl_tree),a--),l(t,O,t.bl_tree),h(t,a-3,2)):a<=10?(l(t,D,t.bl_tree),h(t,a-3,3)):(l(t,I,t.bl_tree),h(t,a-11,7));a=0,r=n,0===s?(p=138,u=3):n===s?(p=6,u=3):(p=7,u=4)}}function w(t,e,i,o){h(t,(_<<1)+(o?1:0),3),function(t,e,i,o){c(t),a(t,i),a(t,~i),x.arraySet(t.pending_buf,t.window,e,i,t.pending),t.pending+=i}(t,e,i)}var x=t("../utils/common"),_=0,M=256,k=M+1+29,S=30,C=19,E=2*k+1,T=15,P=16,A=256,O=16,D=17,I=18,R=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],N=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],L=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],j=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],F=new Array(2*(k+2));o(F);var z=new Array(2*S);o(z);var B=new Array(512);o(B);var q=new Array(256);o(q);var H=new Array(29);o(H);var U=new Array(S);o(U);var W,G,Y,V=!1;i._tr_init=function(t){V||(function(){var t,e,i,o,r,s=new Array(T+1);for(i=0,o=0;o<28;o++)for(H[o]=i,t=0;t<1<<R[o];t++)q[i++]=o;for(q[i-1]=o,r=0,o=0;o<16;o++)for(U[o]=r,t=0;t<1<<N[o];t++)B[r++]=o;for(r>>=7;o<S;o++)for(U[o]=r<<7,t=0;t<1<<N[o]-7;t++)B[256+r++]=o;for(e=0;e<=T;e++)s[e]=0;for(t=0;t<=143;)F[2*t+1]=8,t++,s[8]++;for(;t<=255;)F[2*t+1]=9,t++,s[9]++;for(;t<=279;)F[2*t+1]=7,t++,s[7]++;for(;t<=287;)F[2*t+1]=8,t++,s[8]++;for(u(F,k+1,s),t=0;t<S;t++)z[2*t+1]=5,z[2*t]=p(t,5);W=new n(F,R,M+1,k,T),G=new n(z,N,0,S,T),Y=new n(new Array(0),L,0,C,7)}(),V=!0),t.l_desc=new r(t.dyn_ltree,W),t.d_desc=new r(t.dyn_dtree,G),t.bl_desc=new r(t.bl_tree,Y),t.bi_buf=0,t.bi_valid=0,d(t)},i._tr_stored_block=w,i._tr_flush_block=function(t,e,i,o){var n,r,s=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=function(t){var e,i=4093624447;for(e=0;e<=31;e++,i>>>=1)if(1&i&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<M;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0}(t)),m(t,t.l_desc),m(t,t.d_desc),s=function(t){var e;for(v(t,t.dyn_ltree,t.l_desc.max_code),v(t,t.dyn_dtree,t.d_desc.max_code),m(t,t.bl_desc),e=C-1;e>=3&&0===t.bl_tree[2*j[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),(r=t.static_len+3+7>>>3)<=(n=t.opt_len+3+7>>>3)&&(n=r)):n=r=i+5,i+4<=n&&-1!==e?w(t,e,i,o):4===t.strategy||r===n?(h(t,2+(o?1:0),3),g(t,F,z)):(h(t,4+(o?1:0),3),function(t,e,i,o){var n;for(h(t,e-257,5),h(t,i-1,5),h(t,o-4,4),n=0;n<o;n++)h(t,t.bl_tree[2*j[n]+1],3);b(t,t.dyn_ltree,e-1),b(t,t.dyn_dtree,i-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,s+1),g(t,t.dyn_ltree,t.dyn_dtree)),d(t),o&&c(t)},i._tr_tally=function(t,e,i){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&i,t.last_lit++,0===e?t.dyn_ltree[2*i]++:(t.matches++,e--,t.dyn_ltree[2*(q[i]+M+1)]++,t.dyn_dtree[2*s(e)]++),t.last_lit===t.lit_bufsize-1},i._tr_align=function(t){h(t,2,3),l(t,A,F),function(t){16===t.bi_valid?(a(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}(t)}},{"../utils/common":28}],40:[function(t,e,i){"use strict";e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}]},{},[10])(10)}),function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.vis=e():t.vis=e()}(this,function(){return function(t){function e(o){if(i[o])return i[o].exports;var n=i[o]={i:o,l:!1,exports:{}};return t[o].call(n.exports,n,n.exports,e),n.l=!0,n.exports}var i={};return e.m=t,e.c=i,e.d=function(t,i,o){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:o})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=123)}([function(t,e,i){e.__esModule=!0,e.default=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e,i){e.__esModule=!0;var o=i(169),n=o&&o.__esModule?o:{default:o};e.default=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),(0,n.default)(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}()},function(t,e,i){function o(t){return t&&t.__esModule?t:{default:t}}function n(t,e,i,o){var n=!1;!0===o&&(n=null===e[i]&&void 0!==t[i]),n?delete t[i]:t[i]=e[i]}var r=o(i(77)),s=o(i(29)),a=o(i(8)),h=o(i(6)),l=i(9),p=i(157);e.isNumber=function(t){return t instanceof Number||"number"==typeof t},e.recursiveDOMDelete=function(t){if(t)for(;!0===t.hasChildNodes();)e.recursiveDOMDelete(t.firstChild),t.removeChild(t.firstChild)},e.giveRange=function(t,e,i,o){return e==t?.5:Math.max(0,1/(e-t)*(o-t))},e.isString=function(t){return t instanceof String||"string"==typeof t},e.isDate=function(t){if(t instanceof Date)return!0;if(e.isString(t)){if(u.exec(t))return!0;if(!isNaN(Date.parse(t)))return!0}return!1},e.randomUUID=function(){return p.v4()},e.assignAllKeys=function(t,e){for(var i in t)t.hasOwnProperty(i)&&"object"!==(0,h.default)(t[i])&&(t[i]=e)},e.fillIfDefined=function(t,i){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];for(var r in t)void 0!==i[r]&&(null===i[r]||"object"!==(0,h.default)(i[r])?n(t,i,r,o):"object"===(0,h.default)(t[r])&&e.fillIfDefined(t[r],i[r],o))},e.extend=function(t,e){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var n in o)o.hasOwnProperty(n)&&(t[n]=o[n])}return t},e.selectiveExtend=function(t,e,i){if(!Array.isArray(t))throw new Error("Array with property names expected as first argument");for(var o=2;o<arguments.length;o++)for(var n=arguments[o],r=0;r<t.length;r++){var s=t[r];n&&n.hasOwnProperty(s)&&(e[s]=n[s])}return e},e.selectiveDeepExtend=function(t,i,o){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(Array.isArray(o))throw new TypeError("Arrays are not supported by deepExtend");for(var s=0;s<t.length;s++){var a=t[s];if(o.hasOwnProperty(a))if(o[a]&&o[a].constructor===Object)void 0===i[a]&&(i[a]={}),i[a].constructor===Object?e.deepExtend(i[a],o[a],!1,r):n(i,o,a,r);else{if(Array.isArray(o[a]))throw new TypeError("Arrays are not supported by deepExtend");n(i,o,a,r)}}return i},e.selectiveNotDeepExtend=function(t,i,o){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(Array.isArray(o))throw new TypeError("Arrays are not supported by deepExtend");for(var s in o)if(o.hasOwnProperty(s)&&-1===t.indexOf(s))if(o[s]&&o[s].constructor===Object)void 0===i[s]&&(i[s]={}),i[s].constructor===Object?e.deepExtend(i[s],o[s]):n(i,o,s,r);else if(Array.isArray(o[s])){i[s]=[];for(var a=0;a<o[s].length;a++)i[s].push(o[s][a])}else n(i,o,s,r);return i},e.deepExtend=function(t,i){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];for(var s in i)if(i.hasOwnProperty(s)||!0===o)if(i[s]&&i[s].constructor===Object)void 0===t[s]&&(t[s]={}),t[s].constructor===Object?e.deepExtend(t[s],i[s],o):n(t,i,s,r);else if(Array.isArray(i[s])){t[s]=[];for(var a=0;a<i[s].length;a++)t[s].push(i[s][a])}else n(t,i,s,r);return t},e.equalArray=function(t,e){if(t.length!=e.length)return!1;for(var i=0,o=t.length;i<o;i++)if(t[i]!=e[i])return!1;return!0},e.convert=function(t,i){var o;if(void 0!==t){if(null===t)return null;if(!i)return t;if("string"!=typeof i&&!(i instanceof String))throw new Error("Type must be a string");switch(i){case"boolean":case"Boolean":return Boolean(t);case"number":case"Number":return e.isString(t)&&!isNaN(Date.parse(t))?l(t).valueOf():Number(t.valueOf());case"string":case"String":return String(t);case"Date":if(e.isNumber(t))return new Date(t);if(t instanceof Date)return new Date(t.valueOf());if(l.isMoment(t))return new Date(t.valueOf());if(e.isString(t))return(o=u.exec(t))?new Date(Number(o[1])):l(new Date(t)).toDate();throw new Error("Cannot convert object of type "+e.getType(t)+" to type Date");case"Moment":if(e.isNumber(t))return l(t);if(t instanceof Date)return l(t.valueOf());if(l.isMoment(t))return l(t);if(e.isString(t))return o=u.exec(t),l(o?Number(o[1]):t);throw new Error("Cannot convert object of type "+e.getType(t)+" to type Date");case"ISODate":if(e.isNumber(t))return new Date(t);if(t instanceof Date)return t.toISOString();if(l.isMoment(t))return t.toDate().toISOString();if(e.isString(t))return(o=u.exec(t))?new Date(Number(o[1])).toISOString():l(t).format();throw new Error("Cannot convert object of type "+e.getType(t)+" to type ISODate");case"ASPDate":if(e.isNumber(t))return"/Date("+t+")/";if(t instanceof Date)return"/Date("+t.valueOf()+")/";if(e.isString(t))return"/Date("+((o=u.exec(t))?new Date(Number(o[1])).valueOf():new Date(t).valueOf())+")/";throw new Error("Cannot convert object of type "+e.getType(t)+" to type ASPDate");default:throw new Error('Unknown type "'+i+'"')}}};var u=/^\/?Date\((\-?\d+)/i;e.getType=function(t){var e=void 0===t?"undefined":(0,h.default)(t);return"object"==e?null===t?"null":t instanceof Boolean?"Boolean":t instanceof Number?"Number":t instanceof String?"String":Array.isArray(t)?"Array":t instanceof Date?"Date":"Object":"number"==e?"Number":"boolean"==e?"Boolean":"string"==e?"String":void 0===e?"undefined":e},e.copyAndExtendArray=function(t,e){for(var i=[],o=0;o<t.length;o++)i.push(t[o]);return i.push(e),i},e.copyArray=function(t){for(var e=[],i=0;i<t.length;i++)e.push(t[i]);return e},e.getAbsoluteLeft=function(t){return t.getBoundingClientRect().left},e.getAbsoluteRight=function(t){return t.getBoundingClientRect().right},e.getAbsoluteTop=function(t){return t.getBoundingClientRect().top},e.addClassName=function(t,e){var i=t.className.split(" "),o=e.split(" ");i=i.concat(o.filter(function(t){return i.indexOf(t)<0})),t.className=i.join(" ")},e.removeClassName=function(t,e){var i=t.className.split(" "),o=e.split(" ");i=i.filter(function(t){return o.indexOf(t)<0}),t.className=i.join(" ")},e.forEach=function(t,e){var i,o;if(Array.isArray(t))for(i=0,o=t.length;i<o;i++)e(t[i],i,t);else for(i in t)t.hasOwnProperty(i)&&e(t[i],i,t)},e.toArray=function(t){var e=[];for(var i in t)t.hasOwnProperty(i)&&e.push(t[i]);return e},e.updateProperty=function(t,e,i){return t[e]!==i&&(t[e]=i,!0)},e.throttle=function(t){var e=!1;return function(){e||(e=!0,requestAnimationFrame(function(){e=!1,t()}))}},e.addEventListener=function(t,e,i,o){t.addEventListener?(void 0===o&&(o=!1),"mousewheel"===e&&navigator.userAgent.indexOf("Firefox")>=0&&(e="DOMMouseScroll"),t.addEventListener(e,i,o)):t.attachEvent("on"+e,i)},e.removeEventListener=function(t,e,i,o){t.removeEventListener?(void 0===o&&(o=!1),"mousewheel"===e&&navigator.userAgent.indexOf("Firefox")>=0&&(e="DOMMouseScroll"),t.removeEventListener(e,i,o)):t.detachEvent("on"+e,i)},e.preventDefault=function(t){t||(t=window.event),t.preventDefault?t.preventDefault():t.returnValue=!1},e.getTarget=function(t){var e;return t||(t=window.event),t.target?e=t.target:t.srcElement&&(e=t.srcElement),void 0!=e.nodeType&&3==e.nodeType&&(e=e.parentNode),e},e.hasParent=function(t,e){for(var i=t;i;){if(i===e)return!0;i=i.parentNode}return!1},e.option={},e.option.asBoolean=function(t,e){return"function"==typeof t&&(t=t()),null!=t?0!=t:e||null},e.option.asNumber=function(t,e){return"function"==typeof t&&(t=t()),null!=t?Number(t)||e||null:e||null},e.option.asString=function(t,e){return"function"==typeof t&&(t=t()),null!=t?String(t):e||null},e.option.asSize=function(t,i){return"function"==typeof t&&(t=t()),e.isString(t)?t:e.isNumber(t)?t+"px":i||null},e.option.asElement=function(t,e){return"function"==typeof t&&(t=t()),t||e||null},e.hexToRGB=function(t){t=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(t,e,i,o){return e+e+i+i+o+o});var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:null},e.overrideOpacity=function(t,i){var o;return-1!=t.indexOf("rgba")?t:-1!=t.indexOf("rgb")?"rgba("+(o=t.substr(t.indexOf("(")+1).replace(")","").split(","))[0]+","+o[1]+","+o[2]+","+i+")":null==(o=e.hexToRGB(t))?t:"rgba("+o.r+","+o.g+","+o.b+","+i+")"},e.RGBToHex=function(t,e,i){return"#"+((1<<24)+(t<<16)+(e<<8)+i).toString(16).slice(1)},e.parseColor=function(t){var i;if(!0===e.isString(t)){if(!0===e.isValidRGB(t)){var o=t.substr(4).substr(0,t.length-5).split(",").map(function(t){return parseInt(t)});t=e.RGBToHex(o[0],o[1],o[2])}if(!0===e.isValidHex(t)){var n=e.hexToHSV(t),r={h:n.h,s:.8*n.s,v:Math.min(1,1.02*n.v)},s={h:n.h,s:Math.min(1,1.25*n.s),v:.8*n.v},a=e.HSVToHex(s.h,s.s,s.v),h=e.HSVToHex(r.h,r.s,r.v);i={background:t,border:a,highlight:{background:h,border:a},hover:{background:h,border:a}}}else i={background:t,border:t,highlight:{background:t,border:t},hover:{background:t,border:t}}}else(i={}).background=t.background||void 0,i.border=t.border||void 0,e.isString(t.highlight)?i.highlight={border:t.highlight,background:t.highlight}:(i.highlight={},i.highlight.background=t.highlight&&t.highlight.background||void 0,i.highlight.border=t.highlight&&t.highlight.border||void 0),e.isString(t.hover)?i.hover={border:t.hover,background:t.hover}:(i.hover={},i.hover.background=t.hover&&t.hover.background||void 0,i.hover.border=t.hover&&t.hover.border||void 0);return i},e.RGBToHSV=function(t,e,i){t/=255,e/=255,i/=255;var o=Math.min(t,Math.min(e,i)),n=Math.max(t,Math.max(e,i));return o==n?{h:0,s:0,v:o}:{h:60*((t==o?3:i==o?1:5)-(t==o?e-i:i==o?t-e:i-t)/(n-o))/360,s:(n-o)/n,v:n}};var d=function(t){var e={};return t.split(";").forEach(function(t){if(""!=t.trim()){var i=t.split(":"),o=i[0].trim(),n=i[1].trim();e[o]=n}}),e},c=function(t){return(0,a.default)(t).map(function(e){return e+": "+t[e]}).join("; ")};e.addCssText=function(t,i){var o=d(t.style.cssText),n=d(i),r=e.extend(o,n);t.style.cssText=c(r)},e.removeCssText=function(t,e){var i=d(t.style.cssText),o=d(e);for(var n in o)o.hasOwnProperty(n)&&delete i[n];t.style.cssText=c(i)},e.HSVToRGB=function(t,e,i){var o,n,r,s=Math.floor(6*t),a=6*t-s,h=i*(1-e),l=i*(1-a*e),p=i*(1-(1-a)*e);switch(s%6){case 0:o=i,n=p,r=h;break;case 1:o=l,n=i,r=h;break;case 2:o=h,n=i,r=p;break;case 3:o=h,n=l,r=i;break;case 4:o=p,n=h,r=i;break;case 5:o=i,n=h,r=l}return{r:Math.floor(255*o),g:Math.floor(255*n),b:Math.floor(255*r)}},e.HSVToHex=function(t,i,o){var n=e.HSVToRGB(t,i,o);return e.RGBToHex(n.r,n.g,n.b)},e.hexToHSV=function(t){var i=e.hexToRGB(t);return e.RGBToHSV(i.r,i.g,i.b)},e.isValidHex=function(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)},e.isValidRGB=function(t){return t=t.replace(" ",""),/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/i.test(t)},e.isValidRGBA=function(t){return t=t.replace(" ",""),/rgba\((\d{1,3}),(\d{1,3}),(\d{1,3}),(.{1,3})\)/i.test(t)},e.selectiveBridgeObject=function(t,i){if(null!==i&&"object"===(void 0===i?"undefined":(0,h.default)(i))){for(var o=(0,s.default)(i),n=0;n<t.length;n++)i.hasOwnProperty(t[n])&&"object"==(0,h.default)(i[t[n]])&&(o[t[n]]=e.bridgeObject(i[t[n]]));return o}return null},e.bridgeObject=function(t){if(null!==t&&"object"===(void 0===t?"undefined":(0,h.default)(t))){var i=(0,s.default)(t);if(t instanceof Element)i=t;else for(var o in i=(0,s.default)(t),t)t.hasOwnProperty(o)&&"object"==(0,h.default)(t[o])&&(i[o]=e.bridgeObject(t[o]));return i}return null},e.insertSort=function(t,e){for(var i=0;i<t.length;i++){for(var o=t[i],n=i;n>0&&e(o,t[n-1])<0;n--)t[n]=t[n-1];t[n]=o}return t},e.mergeOptions=function(t,e,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=function(t){return null!==t&&void 0!==t},r=function(t){return null!==t&&"object"===(void 0===t?"undefined":(0,h.default)(t))};if(!r(t))throw new Error("Parameter mergeTarget must be an object");if(!r(e))throw new Error("Parameter options must be an object");if(!n(i))throw new Error("Parameter option must have a value");if(!r(o))throw new Error("Parameter globalOptions must be an object");var a=e[i],l=r(o)&&!function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}(o)?o[i]:void 0,p=l?l.enabled:void 0;if(void 0!==a){if("boolean"==typeof a)return r(t[i])||(t[i]={}),void(t[i].enabled=a);if(null===a&&!r(t[i])){if(!n(l))return;t[i]=(0,s.default)(l)}if(r(a)){var u=!0;void 0!==a.enabled?u=a.enabled:void 0!==p&&(u=l.enabled),function(t,e,i){r(t[i])||(t[i]={});var o=e[i],n=t[i];for(var s in o)o.hasOwnProperty(s)&&(n[s]=o[s])}(t,e,i),t[i].enabled=u}}},e.binarySearchCustom=function(t,e,i,o){for(var n=0,r=0,s=t.length-1;r<=s&&n<1e4;){var a=Math.floor((r+s)/2),h=t[a],l=e(void 0===o?h[i]:h[i][o]);if(0==l)return a;-1==l?r=a+1:s=a-1,n++}return-1},e.binarySearchValue=function(t,e,i,o,n){var r,s,a,h,l=0,p=0,u=t.length-1;for(n=void 0!=n?n:function(t,e){return t==e?0:t<e?-1:1};p<=u&&l<1e4;){if(h=Math.floor(.5*(u+p)),r=t[Math.max(0,h-1)][i],s=t[h][i],a=t[Math.min(t.length-1,h+1)][i],0==n(s,e))return h;if(n(r,e)<0&&n(s,e)>0)return"before"==o?Math.max(0,h-1):h;if(n(s,e)<0&&n(a,e)>0)return"before"==o?h:Math.min(t.length-1,h+1);n(s,e)<0?p=h+1:u=h-1,l++}return-1},e.easingFunctions={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return t*(2-t)},easeInOutQuad:function(t){return t<.5?2*t*t:(4-2*t)*t-1},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return--t*t*t+1},easeInOutCubic:function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return 1- --t*t*t*t},easeInOutQuart:function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return 1+--t*t*t*t*t},easeInOutQuint:function(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t}},e.getScrollBarWidth=function(){var t=document.createElement("p");t.style.width="100%",t.style.height="200px";var e=document.createElement("div");e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.style.visibility="hidden",e.style.width="200px",e.style.height="150px",e.style.overflow="hidden",e.appendChild(t),document.body.appendChild(e);var i=t.offsetWidth;e.style.overflow="scroll";var o=t.offsetWidth;return i==o&&(o=e.clientWidth),document.body.removeChild(e),i-o},e.topMost=function(t,e){var i=void 0;Array.isArray(e)||(e=[e]);var o=!0,n=!1,s=void 0;try{for(var a,h=(0,r.default)(t);!(o=(a=h.next()).done);o=!0){var l=a.value;if(l){i=l[e[0]];for(var p=1;p<e.length;p++)i&&(i=i[e[p]]);if(void 0!==i)break}}}catch(t){n=!0,s=t}finally{try{!o&&h.return&&h.return()}finally{if(n)throw s}}return i}},function(t,e,i){t.exports={default:i(194),__esModule:!0}},function(t,e,i){e.__esModule=!0;var o=i(6),n=o&&o.__esModule?o:{default:o};e.default=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==(void 0===e?"undefined":(0,n.default)(e))&&"function"!=typeof e?t:e}},function(t,e,i){function o(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var n=o(i(196)),r=o(i(29)),s=o(i(6));e.default=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":(0,s.default)(e)));t.prototype=(0,r.default)(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(n.default?(0,n.default)(t,e):t.__proto__=e)}},function(t,e,i){function o(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var n=o(i(142)),r=o(i(144)),s="function"==typeof r.default&&"symbol"==typeof n.default?function(t){return typeof t}:function(t){return t&&"function"==typeof r.default&&t.constructor===r.default&&t!==r.default.prototype?"symbol":typeof t};e.default="function"==typeof r.default&&"symbol"===s(n.default)?function(t){return void 0===t?"undefined":s(t)}:function(t){return t&&"function"==typeof r.default&&t.constructor===r.default&&t!==r.default.prototype?"symbol":void 0===t?"undefined":s(t)}},function(t,e){var i=t.exports={version:"2.5.1"};"number"==typeof __e&&(__e=i)},function(t,e,i){t.exports={default:i(140),__esModule:!0}},function(t,e,i){t.exports="undefined"!=typeof window&&window.moment||i(154)},function(t,e,i){if("undefined"!=typeof window){var o=i(175),n=window.Hammer||i(176);t.exports=o(n,{preventDefault:"mouse"})}else t.exports=function(){return{on:t=function(){},off:t,destroy:t,emit:t,get:function(e){return{set:t}}};var t}},function(t,e,i){function o(t){return t&&t.__esModule?t:{default:t}}function n(t,e){if(t&&!Array.isArray(t)&&(e=t,t=null),this._options=e||{},this._data={},this.length=0,this._fieldId=this._options.fieldId||"id",this._type={},this._options.type)for(var i=(0,a.default)(this._options.type),o=0,n=i.length;o<n;o++){var r=i[o],s=this._options.type[r];this._type[r]="Date"==s||"ISODate"==s||"ASPDate"==s?"Date":s}this._subscribers={},t&&this.add(t),this.setOptions(e)}var r=o(i(19)),s=o(i(6)),a=o(i(8)),h=i(2),l=i(43);n.prototype.setOptions=function(t){t&&void 0!==t.queue&&(!1===t.queue?this._queue&&(this._queue.destroy(),delete this._queue):(this._queue||(this._queue=l.extend(this,{replace:["add","update","remove"]})),"object"===(0,s.default)(t.queue)&&this._queue.setOptions(t.queue)))},n.prototype.on=function(t,e){var i=this._subscribers[t];i||(this._subscribers[t]=i=[]),i.push({callback:e})},n.prototype.off=function(t,e){var i=this._subscribers[t];i&&(this._subscribers[t]=i.filter(function(t){return t.callback!=e}))},n.prototype._trigger=function(t,e,i){if("*"==t)throw new Error("Cannot trigger event *");var o=[];t in this._subscribers&&(o=o.concat(this._subscribers[t])),"*"in this._subscribers&&(o=o.concat(this._subscribers["*"]));for(var n=0,r=o.length;n<r;n++){var s=o[n];s.callback&&s.callback(t,e,i||null)}},n.prototype.add=function(t,e){var i,o=[];if(Array.isArray(t))for(var n=0,r=t.length;n<r;n++)i=this._addItem(t[n]),o.push(i);else{if(!t||"object"!==(void 0===t?"undefined":(0,s.default)(t)))throw new Error("Unknown dataType");i=this._addItem(t),o.push(i)}return o.length&&this._trigger("add",{items:o},e),o},n.prototype.update=function(t,e){var i=[],o=[],n=[],r=[],a=this,l=a._fieldId,p=function(t){var e=t[l];if(a._data[e]){var s=h.extend({},a._data[e]);e=a._updateItem(t),o.push(e),r.push(t),n.push(s)}else e=a._addItem(t),i.push(e)};if(Array.isArray(t))for(var u=0,d=t.length;u<d;u++)t[u]&&"object"===(0,s.default)(t[u])?p(t[u]):console.warn("Ignoring input item, which is not an object at index "+u);else{if(!t||"object"!==(void 0===t?"undefined":(0,s.default)(t)))throw new Error("Unknown dataType");p(t)}return i.length&&this._trigger("add",{items:i},e),o.length&&this._trigger("update",{items:o,oldData:n,data:r},e),i.concat(o)},n.prototype.get=function(t){var e,i,o,n,r=this,s=h.getType(arguments[0]);"String"==s||"Number"==s?(e=arguments[0],o=arguments[1]):"Array"==s?(i=arguments[0],o=arguments[1]):o=arguments[0],n=o&&o.returnType?-1==["Array","Object"].indexOf(o.returnType)?"Array":o.returnType:"Array";var l,p,u,d,c=o&&o.type||this._options.type,f=o&&o.filter,y=[];if(void 0!=e)(l=r._getItem(e,c))&&f&&!f(l)&&(l=null);else if(void 0!=i)for(u=0,d=i.length;u<d;u++)l=r._getItem(i[u],c),f&&!f(l)||y.push(l);else for(u=0,d=(p=(0,a.default)(this._data)).length;u<d;u++)l=r._getItem(p[u],c),f&&!f(l)||y.push(l);if(o&&o.order&&void 0==e&&this._sort(y,o.order),o&&o.fields){var g=o.fields;if(void 0!=e)l=this._filterFields(l,g);else for(u=0,d=y.length;u<d;u++)y[u]=this._filterFields(y[u],g)}if("Object"==n){var m,v={};for(u=0,d=y.length;u<d;u++)v[(m=y[u]).id]=m;return v}return void 0!=e?l:y},n.prototype.getIds=function(t){var e,i,o,n,r=this._data,s=t&&t.filter,h=t&&t.order,l=t&&t.type||this._options.type,p=(0,a.default)(r),u=[];if(s)if(h){for(n=[],e=0,i=p.length;e<i;e++)s(o=this._getItem(p[e],l))&&n.push(o);for(this._sort(n,h),e=0,i=n.length;e<i;e++)u.push(n[e][this._fieldId])}else for(e=0,i=p.length;e<i;e++)s(o=this._getItem(p[e],l))&&u.push(o[this._fieldId]);else if(h){for(n=[],e=0,i=p.length;e<i;e++)n.push(r[p[e]]);for(this._sort(n,h),e=0,i=n.length;e<i;e++)u.push(n[e][this._fieldId])}else for(e=0,i=p.length;e<i;e++)u.push((o=r[p[e]])[this._fieldId]);return u},n.prototype.getDataSet=function(){return this},n.prototype.forEach=function(t,e){var i,o,n,r,s=e&&e.filter,h=e&&e.type||this._options.type,l=(0,a.default)(this._data);if(e&&e.order){var p=this.get(e);for(i=0,o=p.length;i<o;i++)t(n=p[i],r=n[this._fieldId])}else for(i=0,o=l.length;i<o;i++)n=this._getItem(r=l[i],h),s&&!s(n)||t(n,r)},n.prototype.map=function(t,e){var i,o,n,r,s=e&&e.filter,h=e&&e.type||this._options.type,l=[],p=(0,a.default)(this._data);for(i=0,o=p.length;i<o;i++)r=this._getItem(n=p[i],h),s&&!s(r)||l.push(t(r,n));return e&&e.order&&this._sort(l,e.order),l},n.prototype._filterFields=function(t,e){if(!t)return t;var i,o,n={},r=(0,a.default)(t),s=r.length;if(Array.isArray(e))for(i=0;i<s;i++)-1!=e.indexOf(o=r[i])&&(n[o]=t[o]);else for(i=0;i<s;i++)e.hasOwnProperty(o=r[i])&&(n[e[o]]=t[o]);return n},n.prototype._sort=function(t,e){if(h.isString(e)){var i=e;t.sort(function(t,e){var o=t[i],n=e[i];return o>n?1:o<n?-1:0})}else{if("function"!=typeof e)throw new TypeError("Order must be a function or a string");t.sort(e)}},n.prototype.remove=function(t,e){var i,o,n,r,s,a=[],h=[];for(i=0,o=(s=Array.isArray(t)?t:[t]).length;i<o;i++)(r=this._remove(s[i]))&&void 0!=(n=r[this._fieldId])&&(a.push(n),h.push(r));return a.length&&this._trigger("remove",{items:a,oldData:h},e),a},n.prototype._remove=function(t){var e,i;return h.isNumber(t)||h.isString(t)?i=t:t&&"object"===(void 0===t?"undefined":(0,s.default)(t))&&(i=t[this._fieldId]),void 0!==i&&this._data[i]?(e=this._data[i],delete this._data[i],this.length--,e):null},n.prototype.clear=function(t){var e,i,o=(0,a.default)(this._data),n=[];for(e=0,i=o.length;e<i;e++)n.push(this._data[o[e]]);return this._data={},this.length=0,this._trigger("remove",{items:o,oldData:n},t),o},n.prototype.max=function(t){var e,i,o=this._data,n=(0,a.default)(o),r=null,s=null;for(e=0,i=n.length;e<i;e++){var h=o[n[e]],l=h[t];null!=l&&(!r||l>s)&&(r=h,s=l)}return r},n.prototype.min=function(t){var e,i,o=this._data,n=(0,a.default)(o),r=null,s=null;for(e=0,i=n.length;e<i;e++){var h=o[n[e]],l=h[t];null!=l&&(!r||l<s)&&(r=h,s=l)}return r},n.prototype.distinct=function(t){var e,i,o,n=this._data,r=(0,a.default)(n),s=[],l=this._options.type&&this._options.type[t]||null,p=0;for(e=0,o=r.length;e<o;e++){var u=n[r[e]][t],d=!1;for(i=0;i<p;i++)if(s[i]==u){d=!0;break}d||void 0===u||(s[p]=u,p++)}if(l)for(e=0,o=s.length;e<o;e++)s[e]=h.convert(s[e],l);return s},n.prototype._addItem=function(t){var e=t[this._fieldId];if(void 0!=e){if(this._data[e])throw new Error("Cannot add item: item with id "+e+" already exists")}else e=h.randomUUID(),t[this._fieldId]=e;var i,o,n={},r=(0,a.default)(t);for(i=0,o=r.length;i<o;i++){var s=r[i];n[s]=h.convert(t[s],this._type[s])}return this._data[e]=n,this.length++,e},n.prototype._getItem=function(t,e){var i,o,n,r=this._data[t];if(!r)return null;var s={},l=(0,a.default)(r);if(e)for(o=0,n=l.length;o<n;o++)s[i=l[o]]=h.convert(r[i],e[i]);else for(o=0,n=l.length;o<n;o++)s[i=l[o]]=r[i];return s[this._fieldId]||(s[this._fieldId]=r.id),s},n.prototype._updateItem=function(t){var e=t[this._fieldId];if(void 0==e)throw new Error("Cannot update item: item has no id (item: "+(0,r.default)(t)+")");var i=this._data[e];if(!i)throw new Error("Cannot update item: no item with id "+e+" found");for(var o=(0,a.default)(t),n=0,s=o.length;n<s;n++){var l=o[n];i[l]=h.convert(t[l],this._type[l])}return e},t.exports=n},function(t,e,i){function o(t,e){this._data=null,this._ids={},this.length=0,this._options=e||{},this._fieldId="id",this._subscribers={};var i=this;this.listener=function(){i._onEvent.apply(i,arguments)},this.setData(t)}var n=i(8),r=n&&n.__esModule?n:{default:n},s=i(2),a=i(11);o.prototype.setData=function(t){var e,i,o,n;if(this._data){for(this._data.off&&this._data.off("*",this.listener),n=[],i=0,o=(e=this._data.getIds({filter:this._options&&this._options.filter})).length;i<o;i++)n.push(this._data._data[e[i]]);this._ids={},this.length=0,this._trigger("remove",{items:e,oldData:n})}if(this._data=t,this._data){for(this._fieldId=this._options.fieldId||this._data&&this._data.options&&this._data.options.fieldId||"id",i=0,o=(e=this._data.getIds({filter:this._options&&this._options.filter})).length;i<o;i++)this._ids[e[i]]=!0;this.length=e.length,this._trigger("add",{items:e}),this._data.on&&this._data.on("*",this.listener)}},o.prototype.refresh=function(){var t,e,i,o=this._data.getIds({filter:this._options&&this._options.filter}),n=(0,r.default)(this._ids),s={},a=[],h=[],l=[];for(e=0,i=o.length;e<i;e++)s[t=o[e]]=!0,this._ids[t]||(a.push(t),this._ids[t]=!0);for(e=0,i=n.length;e<i;e++)s[t=n[e]]||(h.push(t),l.push(this._data._data[t]),delete this._ids[t]);this.length+=a.length-h.length,a.length&&this._trigger("add",{items:a}),h.length&&this._trigger("remove",{items:h,oldData:l})},o.prototype.get=function(t){var e,i,o,n=this,r=s.getType(arguments[0]);"String"==r||"Number"==r||"Array"==r?(e=arguments[0],i=arguments[1],o=arguments[2]):(i=arguments[0],o=arguments[1]);var a=s.extend({},this._options,i);this._options.filter&&i&&i.filter&&(a.filter=function(t){return n._options.filter(t)&&i.filter(t)});var h=[];return void 0!=e&&h.push(e),h.push(a),h.push(o),this._data&&this._data.get.apply(this._data,h)},o.prototype.getIds=function(t){var e;if(this._data){var i=this._options.filter;e=this._data.getIds({filter:t&&t.filter?i?function(e){return i(e)&&t.filter(e)}:t.filter:i,order:t&&t.order})}else e=[];return e},o.prototype.map=function(t,e){var i=[];if(this._data){var o=this._options.filter;i=this._data.map(t,{filter:e&&e.filter?o?function(t){return o(t)&&e.filter(t)}:e.filter:o,order:e&&e.order})}else i=[];return i},o.prototype.getDataSet=function(){for(var t=this;t instanceof o;)t=t._data;return t||null},o.prototype._onEvent=function(t,e,i){var o,n,r,s=e&&e.items,a=[],h=[],l=[],p=[],u=[],d=[];if(s&&this._data){switch(t){case"add":for(o=0,n=s.length;o<n;o++)this.get(r=s[o])&&(this._ids[r]=!0,a.push(r));break;case"update":for(o=0,n=s.length;o<n;o++)this.get(r=s[o])?this._ids[r]?(h.push(r),u.push(e.data[o]),p.push(e.oldData[o])):(this._ids[r]=!0,a.push(r)):this._ids[r]&&(delete this._ids[r],l.push(r),d.push(e.oldData[o]));break;case"remove":for(o=0,n=s.length;o<n;o++)this._ids[r=s[o]]&&(delete this._ids[r],l.push(r),d.push(e.oldData[o]))}this.length+=a.length-l.length,a.length&&this._trigger("add",{items:a},i),h.length&&this._trigger("update",{items:h,oldData:p,data:u},i),l.length&&this._trigger("remove",{items:l,oldData:d},i)}},o.prototype.on=a.prototype.on,o.prototype.off=a.prototype.off,o.prototype._trigger=a.prototype._trigger,o.prototype.subscribe=o.prototype.on,o.prototype.unsubscribe=o.prototype.off,t.exports=o},function(t,e,i){var o=i(57)("wks"),n=i(40),r=i(18).Symbol,s="function"==typeof r;(t.exports=function(t){return o[t]||(o[t]=s&&r[t]||(s?r:n)("Symbol."+t))}).store=o},function(t,e,i){e.prepareElements=function(t){for(var e in t)t.hasOwnProperty(e)&&(t[e].redundant=t[e].used,t[e].used=[])},e.cleanupElements=function(t){for(var e in t)if(t.hasOwnProperty(e)&&t[e].redundant){for(var i=0;i<t[e].redundant.length;i++)t[e].redundant[i].parentNode.removeChild(t[e].redundant[i]);t[e].redundant=[]}},e.resetElements=function(t){e.prepareElements(t),e.cleanupElements(t),e.prepareElements(t)},e.getSVGElement=function(t,e,i){var o;return e.hasOwnProperty(t)?e[t].redundant.length>0?(o=e[t].redundant[0],e[t].redundant.shift()):(o=document.createElementNS("http://www.w3.org/2000/svg",t),i.appendChild(o)):(o=document.createElementNS("http://www.w3.org/2000/svg",t),e[t]={used:[],redundant:[]},i.appendChild(o)),e[t].used.push(o),o},e.getDOMElement=function(t,e,i,o){var n;return e.hasOwnProperty(t)?e[t].redundant.length>0?(n=e[t].redundant[0],e[t].redundant.shift()):(n=document.createElement(t),void 0!==o?i.insertBefore(n,o):i.appendChild(n)):(n=document.createElement(t),e[t]={used:[],redundant:[]},void 0!==o?i.insertBefore(n,o):i.appendChild(n)),e[t].used.push(n),n},e.drawPoint=function(t,i,o,n,r,s){var a;if("circle"==o.style?((a=e.getSVGElement("circle",n,r)).setAttributeNS(null,"cx",t),a.setAttributeNS(null,"cy",i),a.setAttributeNS(null,"r",.5*o.size)):((a=e.getSVGElement("rect",n,r)).setAttributeNS(null,"x",t-.5*o.size),a.setAttributeNS(null,"y",i-.5*o.size),a.setAttributeNS(null,"width",o.size),a.setAttributeNS(null,"height",o.size)),void 0!==o.styles&&a.setAttributeNS(null,"style",o.styles),a.setAttributeNS(null,"class",o.className+" vis-point"),s){var h=e.getSVGElement("text",n,r);s.xOffset&&(t+=s.xOffset),s.yOffset&&(i+=s.yOffset),s.content&&(h.textContent=s.content),s.className&&h.setAttributeNS(null,"class",s.className+" vis-label"),h.setAttributeNS(null,"x",t),h.setAttributeNS(null,"y",i)}return a},e.drawBar=function(t,i,o,n,r,s,a,h){if(0!=n){n<0&&(i-=n*=-1);var l=e.getSVGElement("rect",s,a);l.setAttributeNS(null,"x",t-.5*o),l.setAttributeNS(null,"y",i),l.setAttributeNS(null,"width",o),l.setAttributeNS(null,"height",n),l.setAttributeNS(null,"class",r),h&&l.setAttributeNS(null,"style",h)}}},function(t,e,i){function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.printStyle=void 0;var n=o(i(19)),r=o(i(6)),s=o(i(8)),a=o(i(0)),h=o(i(1)),l=i(2),p=!1,u=void 0,d="background: #FFeeee; color: #dd0000",c=function(){function t(){(0,a.default)(this,t)}return(0,h.default)(t,null,[{key:"validate",value:function(e,i,o){p=!1,u=i;var n=i;return void 0!==o&&(n=i[o]),t.parse(e,n,[]),p}},{key:"parse",value:function(e,i,o){for(var n in e)e.hasOwnProperty(n)&&t.check(n,e,i,o)}},{key:"check",value:function(e,i,o,n){if(void 0!==o[e]||void 0!==o.__any__){var r=e,s=!0;void 0===o[e]&&void 0!==o.__any__&&(r="__any__",s="object"===t.getType(i[e]));var a=o[r];s&&void 0!==a.__type__&&(a=a.__type__),t.checkFields(e,i,o,r,a,n)}else t.getSuggestion(e,o,n)}},{key:"checkFields",value:function(e,i,o,n,r,a){var h=function(i){console.log("%c"+i+t.printLocation(a,e),d)},u=t.getType(i[e]),c=r[u];void 0!==c?"array"===t.getType(c)&&-1===c.indexOf(i[e])?(h('Invalid option detected in "'+e+'". Allowed values are:'+t.print(c)+' not "'+i[e]+'". '),p=!0):"object"===u&&"__any__"!==n&&(a=l.copyAndExtendArray(a,e),t.parse(i[e],o[n],a)):void 0===r.any&&(h('Invalid type received for "'+e+'". Expected: '+t.print((0,s.default)(r))+". Received ["+u+'] "'+i[e]+'"'),p=!0)}},{key:"getType",value:function(t){var e=void 0===t?"undefined":(0,r.default)(t);return"object"===e?null===t?"null":t instanceof Boolean?"boolean":t instanceof Number?"number":t instanceof String?"string":Array.isArray(t)?"array":t instanceof Date?"date":void 0!==t.nodeType?"dom":!0===t._isAMomentObject?"moment":"object":"number"===e?"number":"boolean"===e?"boolean":"string"===e?"string":void 0===e?"undefined":e}},{key:"getSuggestion",value:function(e,i,o){var n,r=t.findInOptions(e,i,o,!1),a=t.findInOptions(e,u,[],!0);n=void 0!==r.indexMatch?" in "+t.printLocation(r.path,e,"")+'Perhaps it was incomplete? Did you mean: "'+r.indexMatch+'"?\n\n':a.distance<=4&&r.distance>a.distance?" in "+t.printLocation(r.path,e,"")+"Perhaps it was misplaced? Matching option found at: "+t.printLocation(a.path,a.closestMatch,""):r.distance<=8?'. Did you mean "'+r.closestMatch+'"?'+t.printLocation(r.path,e):". Did you mean one of these: "+t.print((0,s.default)(i))+t.printLocation(o,e),console.log('%cUnknown option detected: "'+e+'"'+n,d),p=!0}},{key:"findInOptions",value:function(e,i,o){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=1e9,s="",a=[],h=e.toLowerCase(),p=void 0;for(var u in i){var d=void 0;if(void 0!==i[u].__type__&&!0===n){var c=t.findInOptions(e,i[u],l.copyAndExtendArray(o,u));r>c.distance&&(s=c.closestMatch,a=c.path,r=c.distance,p=c.indexMatch)}else-1!==u.toLowerCase().indexOf(h)&&(p=u),r>(d=t.levenshteinDistance(e,u))&&(s=u,a=l.copyArray(o),r=d)}return{closestMatch:s,path:a,distance:r,indexMatch:p}}},{key:"printLocation",value:function(t,e){for(var i="\n\n"+(arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Problem value found at: \n")+"options = {\n",o=0;o<t.length;o++){for(var n=0;n<o+1;n++)i+="  ";i+=t[o]+": {\n"}for(var r=0;r<t.length+1;r++)i+="  ";i+=e+"\n";for(var s=0;s<t.length+1;s++){for(var a=0;a<t.length-s;a++)i+="  ";i+="}\n"}return i+"\n\n"}},{key:"print",value:function(t){return(0,n.default)(t).replace(/(\")|(\[)|(\])|(,"__type__")/g,"").replace(/(\,)/g,", ")}},{key:"levenshteinDistance",value:function(t,e){if(0===t.length)return e.length;if(0===e.length)return t.length;var i,o,n=[];for(i=0;i<=e.length;i++)n[i]=[i];for(o=0;o<=t.length;o++)n[0][o]=o;for(i=1;i<=e.length;i++)for(o=1;o<=t.length;o++)n[i][o]=e.charAt(i-1)==t.charAt(o-1)?n[i-1][o-1]:Math.min(n[i-1][o-1]+1,Math.min(n[i][o-1]+1,n[i-1][o]+1));return n[e.length][t.length]}}]),t}();e.default=c,e.printStyle=d},function(t,e,i){function o(t,e){this.options=null,this.props=null}var n=i(2);o.prototype.setOptions=function(t){t&&n.extend(this.options,t)},o.prototype.redraw=function(){return!1},o.prototype.destroy=function(){},o.prototype._isResized=function(){var t=this.props._previousWidth!==this.props.width||this.props._previousHeight!==this.props.height;return this.props._previousWidth=this.props.width,this.props._previousHeight=this.props.height,t},t.exports=o},function(t,e,i){var o=i(18),n=i(7),r=i(80),s=i(26),a=function(t,e,i){var h,l,p,u=t&a.F,d=t&a.G,c=t&a.S,f=t&a.P,y=t&a.B,g=t&a.W,m=d?n:n[e]||(n[e]={}),v=m.prototype,b=d?o:c?o[e]:(o[e]||{}).prototype;for(h in d&&(i=e),i)(l=!u&&b&&void 0!==b[h])&&h in m||(p=l?b[h]:i[h],m[h]=d&&"function"!=typeof b[h]?i[h]:y&&l?r(p,o):g&&b[h]==p?function(t){var e=function(e,i,o){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,i)}return new t(e,i,o)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(p):f&&"function"==typeof p?r(Function.call,p):p,f&&((m.virtual||(m.virtual={}))[h]=p,t&a.R&&v&&!v[h]&&s(v,h,p)))};a.F=1,a.G=2,a.S=4,a.P=8,a.B=16,a.W=32,a.U=64,a.R=128,t.exports=a},function(t,e){var i=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=i)},function(t,e,i){t.exports={default:i(160),__esModule:!0}},function(t,e,i){var o=i(27),n=i(81),r=i(53),s=Object.defineProperty;e.f=i(21)?Object.defineProperty:function(t,e,i){if(o(t),e=r(e,!0),o(i),n)try{return s(t,e,i)}catch(t){}if("get"in i||"set"in i)throw TypeError("Accessors not supported!");return"value"in i&&(t[e]=i.value),t}},function(t,e,i){t.exports=!i(28)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e){var i={}.hasOwnProperty;t.exports=function(t,e){return i.call(t,e)}},function(t,e,i){function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=o(i(6)),r=o(i(0)),s=o(i(1)),a=function(){function t(e,i,o){(0,r.default)(this,t),this.body=i,this.labelModule=o,this.setOptions(e),this.top=void 0,this.left=void 0,this.height=void 0,this.width=void 0,this.radius=void 0,this.margin=void 0,this.refreshNeeded=!0,this.boundingBox={top:0,left:0,right:0,bottom:0}}return(0,s.default)(t,[{key:"setOptions",value:function(t){this.options=t}},{key:"_setMargins",value:function(t){this.margin={},this.options.margin&&("object"==(0,n.default)(this.options.margin)?(this.margin.top=this.options.margin.top,this.margin.right=this.options.margin.right,this.margin.bottom=this.options.margin.bottom,this.margin.left=this.options.margin.left):(this.margin.top=this.options.margin,this.margin.right=this.options.margin,this.margin.bottom=this.options.margin,this.margin.left=this.options.margin)),t.adjustSizes(this.margin)}},{key:"_distanceToBorder",value:function(t,e){var i=this.options.borderWidth;return this.resize(t),Math.min(Math.abs(this.width/2/Math.cos(e)),Math.abs(this.height/2/Math.sin(e)))+i}},{key:"enableShadow",value:function(t,e){e.shadow&&(t.shadowColor=e.shadowColor,t.shadowBlur=e.shadowSize,t.shadowOffsetX=e.shadowX,t.shadowOffsetY=e.shadowY)}},{key:"disableShadow",value:function(t,e){e.shadow&&(t.shadowColor="rgba(0,0,0,0)",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0)}},{key:"enableBorderDashes",value:function(t,e){if(!1!==e.borderDashes)if(void 0!==t.setLineDash){var i=e.borderDashes;!0===i&&(i=[5,15]),t.setLineDash(i)}else console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,e.borderDashes=!1}},{key:"disableBorderDashes",value:function(t,e){!1!==e.borderDashes&&(void 0!==t.setLineDash?t.setLineDash([0]):(console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,e.borderDashes=!1))}},{key:"needsRefresh",value:function(t,e){return!0===this.refreshNeeded?(this.refreshNeeded=!1,!0):void 0===this.width||this.labelModule.differentState(t,e)}},{key:"initContextForDraw",value:function(t,e){t.lineWidth=Math.min(this.width,e.borderWidth/this.body.view.scale),t.strokeStyle=e.borderColor,t.fillStyle=e.color}},{key:"performStroke",value:function(t,e){var i=e.borderWidth/this.body.view.scale;t.save(),i>0&&(this.enableBorderDashes(t,e),t.stroke(),this.disableBorderDashes(t,e)),t.restore()}},{key:"performFill",value:function(t,e){this.enableShadow(t,e),t.fill(),this.disableShadow(t,e),this.performStroke(t,e)}},{key:"_addBoundingBoxMargin",value:function(t){this.boundingBox.left-=t,this.boundingBox.top-=t,this.boundingBox.bottom+=t,this.boundingBox.right+=t}},{key:"_updateBoundingBox",value:function(t,e,i,o,n){void 0!==i&&this.resize(i,o,n),this.left=t-this.width/2,this.top=e-this.height/2,this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width}},{key:"updateBoundingBox",value:function(t,e,i,o,n){this._updateBoundingBox(t,e,i,o,n)}},{key:"getDimensionsFromLabel",value:function(t,e,i){this.textSize=this.labelModule.getTextSize(t,e,i);var o=this.textSize.width,n=this.textSize.height;return 0===o&&(o=14,n=14),{width:o,height:n}}}]),t}();e.default=a},function(t,e,i){function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=o(i(3)),r=o(i(0)),s=o(i(1)),a=o(i(4)),h=o(i(5)),l=o(i(23)),p=function(t){function e(t,i,o){return(0,r.default)(this,e),(0,a.default)(this,(e.__proto__||(0,n.default)(e)).call(this,t,i,o))}return(0,h.default)(e,l.default),(0,s.default)(e,[{key:"resize",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{size:this.options.size};if(this.needsRefresh(e,i)){this.labelModule.getTextSize(t,e,i);var n=2*o.size;this.width=n,this.height=n,this.radius=.5*this.width}}},{key:"_drawShape",value:function(t,e,i,o,n,r,s,a){this.resize(t,r,s,a),this.left=o-this.width/2,this.top=n-this.height/2,this.initContextForDraw(t,a),t[e](o,n,a.size),this.performFill(t,a),void 0!==this.options.label&&(this.labelModule.calculateLabelSize(t,r,s,o,n,"hanging"),this.labelModule.draw(t,o,n+.5*this.height+.5*this.labelModule.size.height,r,s,"hanging")),this.updateBoundingBox(o,n)}},{key:"updateBoundingBox",value:function(t,e){this.boundingBox.top=e-this.options.size,this.boundingBox.left=t-this.options.size,this.boundingBox.right=t+this.options.size,this.boundingBox.bottom=e+this.options.size,void 0!==this.options.label&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height))}}]),e}();e.default=p},function(t,e,i){var o=i(78),n=i(51);t.exports=function(t){return o(n(t))}},function(t,e,i){var o=i(20),n=i(39);t.exports=i(21)?function(t,e,i){return o.f(t,e,n(1,i))}:function(t,e,i){return t[e]=i,t}},function(t,e,i){var o=i(32);t.exports=function(t){if(!o(t))throw TypeError(t+" is not an object!");return t}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,i){t.exports={default:i(138),__esModule:!0}},function(t,e,i){function o(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var n=o(i(188)),r=o(i(77));e.default=function(t,e){if(Array.isArray(t))return t;if((0,n.default)(Object(t)))return function(t,e){var i=[],o=!0,n=!1,s=void 0;try{for(var a,h=(0,r.default)(t);!(o=(a=h.next()).done)&&(i.push(a.value),!e||i.length!==e);o=!0);}catch(t){n=!0,s=t}finally{try{!o&&h.return&&h.return()}finally{if(n)throw s}}return i}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(t,e){t.exports={}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,i){var o=i(84),n=i(58);t.exports=Object.keys||function(t){return o(t,n)}},function(t,e,i){function o(t,e,i){this.x=void 0!==t?t:0,this.y=void 0!==e?e:0,this.z=void 0!==i?i:0}o.subtract=function(t,e){var i=new o;return i.x=t.x-e.x,i.y=t.y-e.y,i.z=t.z-e.z,i},o.add=function(t,e){var i=new o;return i.x=t.x+e.x,i.y=t.y+e.y,i.z=t.z+e.z,i},o.avg=function(t,e){return new o((t.x+e.x)/2,(t.y+e.y)/2,(t.z+e.z)/2)},o.crossProduct=function(t,e){var i=new o;return i.x=t.y*e.z-t.z*e.y,i.y=t.z*e.x-t.x*e.z,i.z=t.x*e.y-t.y*e.x,i},o.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},t.exports=o},function(t,e,i){var o,n;o=function(){return function(t){var e,i=t&&t.preventDefault||!1,o=t&&t.container||window,n={},r={keydown:{},keyup:{}},s={};for(e=97;e<=122;e++)s[String.fromCharCode(e)]={code:e-97+65,shift:!1};for(e=65;e<=90;e++)s[String.fromCharCode(e)]={code:e,shift:!0};for(e=0;e<=9;e++)s[""+e]={code:48+e,shift:!1};for(e=1;e<=12;e++)s["F"+e]={code:111+e,shift:!1};for(e=0;e<=9;e++)s["num"+e]={code:96+e,shift:!1};s["num*"]={code:106,shift:!1},s["num+"]={code:107,shift:!1},s["num-"]={code:109,shift:!1},s["num/"]={code:111,shift:!1},s["num."]={code:110,shift:!1},s.left={code:37,shift:!1},s.up={code:38,shift:!1},s.right={code:39,shift:!1},s.down={code:40,shift:!1},s.space={code:32,shift:!1},s.enter={code:13,shift:!1},s.shift={code:16,shift:void 0},s.esc={code:27,shift:!1},s.backspace={code:8,shift:!1},s.tab={code:9,shift:!1},s.ctrl={code:17,shift:!1},s.alt={code:18,shift:!1},s.delete={code:46,shift:!1},s.pageup={code:33,shift:!1},s.pagedown={code:34,shift:!1},s["="]={code:187,shift:!1},s["-"]={code:189,shift:!1},s["]"]={code:221,shift:!1},s["["]={code:219,shift:!1};var a=function(t){l(t,"keydown")},h=function(t){l(t,"keyup")},l=function(t,e){if(void 0!==r[e][t.keyCode]){for(var o=r[e][t.keyCode],n=0;n<o.length;n++)void 0===o[n].shift?o[n].fn(t):1==o[n].shift&&1==t.shiftKey?o[n].fn(t):0==o[n].shift&&0==t.shiftKey&&o[n].fn(t);1==i&&t.preventDefault()}};return n.bind=function(t,e,i){if(void 0===i&&(i="keydown"),void 0===s[t])throw new Error("unsupported key: "+t);void 0===r[i][s[t].code]&&(r[i][s[t].code]=[]),r[i][s[t].code].push({fn:e,shift:s[t].shift})},n.bindAll=function(t,e){for(var i in void 0===e&&(e="keydown"),s)s.hasOwnProperty(i)&&n.bind(i,t,e)},n.getKey=function(t){for(var e in s)if(s.hasOwnProperty(e)){if(1==t.shiftKey&&1==s[e].shift&&t.keyCode==s[e].code)return e;if(0==t.shiftKey&&0==s[e].shift&&t.keyCode==s[e].code)return e;if(t.keyCode==s[e].code&&"shift"==e)return e}return"unknown key, currently not supported"},n.unbind=function(t,e,i){if(void 0===i&&(i="keydown"),void 0===s[t])throw new Error("unsupported key: "+t);if(void 0!==e){var o=[],n=r[i][s[t].code];if(void 0!==n)for(var a=0;a<n.length;a++)n[a].fn==e&&n[a].shift==s[t].shift||o.push(r[i][s[t].code][a]);r[i][s[t].code]=o}else r[i][s[t].code]=[]},n.reset=function(){r={keydown:{},keyup:{}}},n.destroy=function(){r={keydown:{},keyup:{}},o.removeEventListener("keydown",a,!0),o.removeEventListener("keyup",h,!0)},o.addEventListener("keydown",a,!0),o.addEventListener("keyup",h,!0),n}},void 0!==(n=o.apply(e,[]))&&(t.exports=n)},function(t,e,i){e.convertHiddenOptions=function(t,i,o){if(o&&!Array.isArray(o))return e.convertHiddenOptions(t,i,[o]);if(i.hiddenDates=[],o&&1==Array.isArray(o)){for(var n=0;n<o.length;n++)if(void 0===o[n].repeat){var r={};r.start=t(o[n].start).toDate().valueOf(),r.end=t(o[n].end).toDate().valueOf(),i.hiddenDates.push(r)}i.hiddenDates.sort(function(t,e){return t.start-e.start})}},e.updateHiddenDates=function(t,i,o){if(o&&!Array.isArray(o))return e.updateHiddenDates(t,i,[o]);if(o&&void 0!==i.domProps.centerContainer.width){e.convertHiddenOptions(t,i,o);for(var n=t(i.range.start),r=t(i.range.end),s=(i.range.end-i.range.start)/i.domProps.centerContainer.width,a=0;a<o.length;a++)if(void 0!==o[a].repeat){var h=t(o[a].start),l=t(o[a].end);if("Invalid Date"==h._d)throw new Error("Supplied start date is not valid: "+o[a].start);if("Invalid Date"==l._d)throw new Error("Supplied end date is not valid: "+o[a].end);if(l-h>=4*s){var p=0,u=r.clone();switch(o[a].repeat){case"daily":h.day()!=l.day()&&(p=1),h.dayOfYear(n.dayOfYear()),h.year(n.year()),h.subtract(7,"days"),l.dayOfYear(n.dayOfYear()),l.year(n.year()),l.subtract(7-p,"days"),u.add(1,"weeks");break;case"weekly":var d=l.diff(h,"days"),c=h.day();h.date(n.date()),h.month(n.month()),h.year(n.year()),l=h.clone(),h.day(c),l.day(c),l.add(d,"days"),h.subtract(1,"weeks"),l.subtract(1,"weeks"),u.add(1,"weeks");break;case"monthly":h.month()!=l.month()&&(p=1),h.month(n.month()),h.year(n.year()),h.subtract(1,"months"),l.month(n.month()),l.year(n.year()),l.subtract(1,"months"),l.add(p,"months"),u.add(1,"months");break;case"yearly":h.year()!=l.year()&&(p=1),h.year(n.year()),h.subtract(1,"years"),l.year(n.year()),l.subtract(1,"years"),l.add(p,"years"),u.add(1,"years");break;default:return void console.log("Wrong repeat format, allowed are: daily, weekly, monthly, yearly. Given:",o[a].repeat)}for(;h<u;)switch(i.hiddenDates.push({start:h.valueOf(),end:l.valueOf()}),o[a].repeat){case"daily":h.add(1,"days"),l.add(1,"days");break;case"weekly":h.add(1,"weeks"),l.add(1,"weeks");break;case"monthly":h.add(1,"months"),l.add(1,"months");break;case"yearly":h.add(1,"y"),l.add(1,"y");break;default:return void console.log("Wrong repeat format, allowed are: daily, weekly, monthly, yearly. Given:",o[a].repeat)}i.hiddenDates.push({start:h.valueOf(),end:l.valueOf()})}}e.removeDuplicates(i);var f=e.isHidden(i.range.start,i.hiddenDates),y=e.isHidden(i.range.end,i.hiddenDates),g=i.range.start,m=i.range.end;1==f.hidden&&(g=1==i.range.startToFront?f.startDate-1:f.endDate+1),1==y.hidden&&(m=1==i.range.endToFront?y.startDate-1:y.endDate+1),1!=f.hidden&&1!=y.hidden||i.range._applyRange(g,m)}},e.removeDuplicates=function(t){for(var e=t.hiddenDates,i=[],o=0;o<e.length;o++)for(var n=0;n<e.length;n++)o!=n&&1!=e[n].remove&&1!=e[o].remove&&(e[n].start>=e[o].start&&e[n].end<=e[o].end?e[n].remove=!0:e[n].start>=e[o].start&&e[n].start<=e[o].end?(e[o].end=e[n].end,e[n].remove=!0):e[n].end>=e[o].start&&e[n].end<=e[o].end&&(e[o].start=e[n].start,e[n].remove=!0));for(o=0;o<e.length;o++)!0!==e[o].remove&&i.push(e[o]);t.hiddenDates=i,t.hiddenDates.sort(function(t,e){return t.start-e.start})},e.printDates=function(t){for(var e=0;e<t.length;e++)console.log(e,new Date(t[e].start),new Date(t[e].end),t[e].start,t[e].end,t[e].remove)},e.stepOverHiddenDates=function(t,e,i){for(var o=!1,n=e.current.valueOf(),r=0;r<e.hiddenDates.length;r++){var s=e.hiddenDates[r].end;if(n>=e.hiddenDates[r].start&&n<s){o=!0;break}}if(1==o&&n<e._end.valueOf()&&n!=i){var a=t(i),h=t(s);a.year()!=h.year()?e.switchedYear=!0:a.month()!=h.month()?e.switchedMonth=!0:a.dayOfYear()!=h.dayOfYear()&&(e.switchedDay=!0),e.current=h}},e.toScreen=function(t,i,o){var n;if(0==t.body.hiddenDates.length)return n=t.range.conversion(o),(i.valueOf()-n.offset)*n.scale;var r=e.isHidden(i,t.body.hiddenDates);1==r.hidden&&(i=r.startDate);var s=e.getHiddenDurationBetween(t.body.hiddenDates,t.range.start,t.range.end);if(i<t.range.start){n=t.range.conversion(o,s);var a=e.getHiddenDurationBeforeStart(t.body.hiddenDates,i,n.offset);return i=t.options.moment(i).toDate().valueOf(),-(n.offset-(i+=a).valueOf())*n.scale}return i>t.range.end?(i=e.correctTimeForHidden(t.options.moment,t.body.hiddenDates,{start:t.range.start,end:i},i),n=t.range.conversion(o,s),(i.valueOf()-n.offset)*n.scale):(i=e.correctTimeForHidden(t.options.moment,t.body.hiddenDates,t.range,i),n=t.range.conversion(o,s),(i.valueOf()-n.offset)*n.scale)},e.toTime=function(t,i,o){if(0==t.body.hiddenDates.length){var n=t.range.conversion(o);return new Date(i/n.scale+n.offset)}var r=e.getHiddenDurationBetween(t.body.hiddenDates,t.range.start,t.range.end),s=(t.range.end-t.range.start-r)*i/o,a=e.getAccumulatedHiddenDuration(t.body.hiddenDates,t.range,s);return new Date(a+s+t.range.start)},e.getHiddenDurationBetween=function(t,e,i){for(var o=0,n=0;n<t.length;n++){var r=t[n].start,s=t[n].end;r>=e&&s<i&&(o+=s-r)}return o},e.getHiddenDurationBeforeStart=function(t,e,i){for(var o=0,n=0;n<t.length;n++){var r=t[n].start,s=t[n].end;r>=e&&s<=i&&(o+=s-r)}return o},e.correctTimeForHidden=function(t,i,o,n){return(n=t(n).toDate().valueOf())-e.getHiddenDurationBefore(t,i,o,n)},e.getHiddenDurationBefore=function(t,e,i,o){var n=0;o=t(o).toDate().valueOf();for(var r=0;r<e.length;r++){var s=e[r].start,a=e[r].end;s>=i.start&&a<i.end&&o>=a&&(n+=a-s)}return n},e.getAccumulatedHiddenDuration=function(t,e,i){for(var o=0,n=0,r=e.start,s=0;s<t.length;s++){var a=t[s].start,h=t[s].end;if(a>=e.start&&h<e.end){if(n+=a-r,r=h,n>=i)break;o+=h-a}}return o},e.snapAwayFromHidden=function(t,i,o,n){var r=e.isHidden(i,t);return 1==r.hidden?o<0?1==n?r.startDate-(r.endDate-i)-1:r.startDate-1:1==n?r.endDate+(i-r.startDate)+1:r.endDate+1:i},e.isHidden=function(t,e){for(var i=0;i<e.length;i++){var o=e[i].start,n=e[i].end;if(t>=o&&t<n)return{hidden:!0,startDate:o,endDate:n}}return{hidden:!1,startDate:o,endDate:n}}},function(t,e,i){e.onTouch=function(t,e){e.inputHandler=function(t){t.isFirst&&e(t)},t.on("hammer.input",e.inputHandler)},e.onRelease=function(t,e){return e.inputHandler=function(t){t.isFinal&&e(t)},t.on("hammer.input",e.inputHandler)},e.offTouch=function(t,e){t.off("hammer.input",e.inputHandler)},e.offRelease=e.offTouch,e.disablePreventDefaultVertically=function(t){return t.getTouchAction=function(){return["pan-y"]},t}},function(t,e,i){function o(t){return t&&t.__esModule?t:{default:t}}function n(t,e,i){this.id=null,this.parent=null,this.data=t,this.dom=null,this.conversion=e||{},this.options=i||{},this.selected=!1,this.displayed=!1,this.groupShowing=!0,this.dirty=!0,this.top=null,this.right=null,this.left=null,this.width=null,this.height=null,this.editable=null,this._updateEditStatus()}var r=o(i(6)),s=o(i(8)),a=i(10),h=i(2),l=i(9);n.prototype.stack=!0,n.prototype.select=function(){this.selected=!0,this.dirty=!0,this.displayed&&this.redraw()},n.prototype.unselect=function(){this.selected=!1,this.dirty=!0,this.displayed&&this.redraw()},n.prototype.setData=function(t){void 0!=t.group&&this.data.group!=t.group&&null!=this.parent&&this.parent.itemSet._moveToGroup(this,t.group),this.parent&&(this.parent.stackDirty=!0),void 0!=t.subgroup&&this.data.subgroup!=t.subgroup&&null!=this.parent&&this.parent.changeSubgroup(this,this.data.subgroup,t.subgroup),this.data=t,this._updateEditStatus(),this.dirty=!0,this.displayed&&this.redraw()},n.prototype.setParent=function(t){this.displayed?(this.hide(),this.parent=t,this.parent&&this.show()):this.parent=t},n.prototype.isVisible=function(t){return!1},n.prototype.show=function(){return!1},n.prototype.hide=function(){return!1},n.prototype.redraw=function(){},n.prototype.repositionX=function(){},n.prototype.repositionY=function(){},n.prototype._repaintDragCenter=function(){if(this.selected&&this.options.editable.updateTime&&!this.dom.dragCenter){var t=this,e=document.createElement("div");e.className="vis-drag-center",e.dragCenterItem=this;var i=new a(e);i.on("tap",function(e){t.parent.itemSet.body.emitter.emit("click",{event:e,item:t.id})}),i.on("doubletap",function(e){e.stopPropagation(),t.parent.itemSet._onUpdateItem(t),t.parent.itemSet.body.emitter.emit("doubleClick",{event:e,item:t.id})}),this.dom.box?this.dom.dragLeft?this.dom.box.insertBefore(e,this.dom.dragLeft):this.dom.box.appendChild(e):this.dom.point&&this.dom.point.appendChild(e),this.dom.dragCenter=e}else!this.selected&&this.dom.dragCenter&&(this.dom.dragCenter.parentNode&&this.dom.dragCenter.parentNode.removeChild(this.dom.dragCenter),this.dom.dragCenter=null)},n.prototype._repaintDeleteButton=function(t){if(this.selected&&((this.options.editable.overrideItems||null==this.editable)&&this.options.editable.remove||!this.options.editable.overrideItems&&null!=this.editable&&this.editable.remove)&&!this.dom.deleteButton){var e=this,i=document.createElement("div");i.className=this.options.rtl?"vis-delete-rtl":"vis-delete",i.title="Delete this item",new a(i).on("tap",function(t){t.stopPropagation(),e.parent.removeFromDataSet(e)}),t.appendChild(i),this.dom.deleteButton=i}else!this.selected&&this.dom.deleteButton&&(this.dom.deleteButton.parentNode&&this.dom.deleteButton.parentNode.removeChild(this.dom.deleteButton),this.dom.deleteButton=null)},n.prototype._repaintOnItemUpdateTimeTooltip=function(t){if(this.options.tooltipOnItemUpdateTime){var e;if(!this.selected||!this.options.editable.updateTime&&!0!==this.data.editable||!1===this.data.editable||this.dom.onItemUpdateTimeTooltip)!this.selected&&this.dom.onItemUpdateTimeTooltip&&(this.dom.onItemUpdateTimeTooltip.parentNode&&this.dom.onItemUpdateTimeTooltip.parentNode.removeChild(this.dom.onItemUpdateTimeTooltip),this.dom.onItemUpdateTimeTooltip=null);else{var i=document.createElement("div");i.className="vis-onUpdateTime-tooltip",t.appendChild(i),this.dom.onItemUpdateTimeTooltip=i}this.dom.onItemUpdateTimeTooltip&&(this.dom.onItemUpdateTimeTooltip.style.visibility=this.parent.itemSet.touchParams.itemIsDragging?"visible":"hidden",this.options.rtl?this.dom.onItemUpdateTimeTooltip.style.right=this.dom.content.style.right:this.dom.onItemUpdateTimeTooltip.style.left=this.dom.content.style.left,("top"==this.options.orientation.item?this.top:this.parent.height-this.top-this.height)+this.parent.top-50<-this.parent.itemSet.body.domProps.scrollTop?(this.dom.onItemUpdateTimeTooltip.style.bottom="",this.dom.onItemUpdateTimeTooltip.style.top=this.height+2+"px"):(this.dom.onItemUpdateTimeTooltip.style.top="",this.dom.onItemUpdateTimeTooltip.style.bottom=this.height+2+"px"),this.options.tooltipOnItemUpdateTime&&this.options.tooltipOnItemUpdateTime.template?e=this.options.tooltipOnItemUpdateTime.template.bind(this)(this.data):(e="start: "+l(this.data.start).format("MM/DD/YYYY hh:mm"),this.data.end&&(e+="<br> end: "+l(this.data.end).format("MM/DD/YYYY hh:mm"))),this.dom.onItemUpdateTimeTooltip.innerHTML=e)}},n.prototype._updateContents=function(t){var e,i,o,n,r=this.parent.itemSet.itemsData.get(this.id),s=this.dom.box||this.dom.point,a=s.getElementsByClassName("vis-item-visible-frame")[0];if(o=this.options.visibleFrameTemplate?(n=this.options.visibleFrameTemplate.bind(this))(r,s):"",a)if(o instanceof Object&&!(o instanceof Element))n(r,a);else if(this._contentToString(this.itemVisibleFrameContent)!==this._contentToString(o)){if(o instanceof Element)a.innerHTML="",a.appendChild(o);else if(void 0!=o)a.innerHTML=o;else if("background"!=this.data.type||void 0!==this.data.content)throw new Error('Property "content" missing in item '+this.id);this.itemVisibleFrameContent=o}if((e=this.options.template?(i=this.options.template.bind(this))(r,t,this.data):this.data.content)instanceof Object&&!(e instanceof Element))i(r,t);else if(this._contentToString(this.content)!==this._contentToString(e)){if(e instanceof Element)t.innerHTML="",t.appendChild(e);else if(void 0!=e)t.innerHTML=e;else if("background"!=this.data.type||void 0!==this.data.content)throw new Error('Property "content" missing in item '+this.id);this.content=e}},n.prototype._updateDataAttributes=function(t){if(this.options.dataAttributes&&this.options.dataAttributes.length>0){var e=[];if(Array.isArray(this.options.dataAttributes))e=this.options.dataAttributes;else{if("all"!=this.options.dataAttributes)return;e=(0,s.default)(this.data)}for(var i=0;i<e.length;i++){var o=e[i],n=this.data[o];null!=n?t.setAttribute("data-"+o,n):t.removeAttribute("data-"+o)}}},n.prototype._updateStyle=function(t){this.style&&(h.removeCssText(t,this.style),this.style=null),this.data.style&&(h.addCssText(t,this.data.style),this.style=this.data.style)},n.prototype._contentToString=function(t){return"string"==typeof t?t:t&&"outerHTML"in t?t.outerHTML:t},n.prototype._updateEditStatus=function(){this.options&&("boolean"==typeof this.options.editable?this.editable={updateTime:this.options.editable,updateGroup:this.options.editable,remove:this.options.editable}:"object"===(0,r.default)(this.options.editable)&&(this.editable={},h.selectiveExtend(["updateTime","updateGroup","remove"],this.editable,this.options.editable))),this.options&&this.options.editable&&!0===this.options.editable.overrideItems||this.data&&("boolean"==typeof this.data.editable?this.editable={updateTime:this.data.editable,updateGroup:this.data.editable,remove:this.data.editable}:"object"===(0,r.default)(this.data.editable)&&(this.editable={},h.selectiveExtend(["updateTime","updateGroup","remove"],this.editable,this.data.editable)))},n.prototype.getWidthLeft=function(){return 0},n.prototype.getWidthRight=function(){return 0},n.prototype.getTitle=function(){return this.data.title},t.exports=n},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){var i=0,o=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++i+o).toString(36))}},function(t,e,i){var o=i(51);t.exports=function(t){return Object(o(t))}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,i){function o(t){this.delay=null,this.max=1/0,this._queue=[],this._timeout=null,this._extended=null,this.setOptions(t)}o.prototype.setOptions=function(t){t&&void 0!==t.delay&&(this.delay=t.delay),t&&void 0!==t.max&&(this.max=t.max),this._flushIfNeeded()},o.extend=function(t,e){var i=new o(e);if(void 0!==t.flush)throw new Error("Target object already has a property flush");t.flush=function(){i.flush()};var n=[{name:"flush",original:void 0}];if(e&&e.replace)for(var r=0;r<e.replace.length;r++){var s=e.replace[r];n.push({name:s,original:t[s]}),i.replace(t,s)}return i._extended={object:t,methods:n},i},o.prototype.destroy=function(){if(this.flush(),this._extended){for(var t=this._extended.object,e=this._extended.methods,i=0;i<e.length;i++){var o=e[i];o.original?t[o.name]=o.original:delete t[o.name]}this._extended=null}},o.prototype.replace=function(t,e){var i=this,o=t[e];if(!o)throw new Error("Method "+e+" undefined");t[e]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.queue({args:t,fn:o,context:this})}},o.prototype.queue=function(t){this._queue.push("function"==typeof t?{fn:t}:t),this._flushIfNeeded()},o.prototype._flushIfNeeded=function(){if(this._queue.length>this.max&&this.flush(),clearTimeout(this._timeout),this.queue.length>0&&"number"==typeof this.delay){var t=this;this._timeout=setTimeout(function(){t.flush()},this.delay)}},o.prototype.flush=function(){for(;this._queue.length>0;){var t=this._queue.shift();t.fn.apply(t.context||t.fn,t.args||[])}},t.exports=o},function(t,e){function i(t){if(t)return function(t){for(var e in i.prototype)t[e]=i.prototype[e];return t}(t)}t.exports=i,i.prototype.on=i.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks[t]=this._callbacks[t]||[]).push(e),this},i.prototype.once=function(t,e){function i(){o.off(t,i),e.apply(this,arguments)}var o=this;return this._callbacks=this._callbacks||{},i.fn=e,this.on(t,i),this},i.prototype.off=i.prototype.removeListener=i.prototype.removeAllListeners=i.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var i=this._callbacks[t];if(!i)return this;if(1==arguments.length)return delete this._callbacks[t],this;for(var o,n=0;n<i.length;n++)if((o=i[n])===e||o.fn===e){i.splice(n,1);break}return this},i.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),i=this._callbacks[t];if(i)for(var o=0,n=(i=i.slice(0)).length;o<n;++o)i[o].apply(this,e);return this},i.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks[t]||[]},i.prototype.hasListeners=function(t){return!!this.listeners(t).length}},function(t,e,i){function o(t,e){this.dom={foreground:null,lines:[],majorTexts:[],minorTexts:[],redundant:{lines:[],majorTexts:[],minorTexts:[]}},this.props={range:{start:0,end:0,minimumStep:0},lineTop:0},this.defaultOptions={orientation:{axis:"bottom"},showMinorLabels:!0,showMajorLabels:!0,maxMinorChars:7,format:h.FORMAT,moment:p,timeAxis:null},this.options=s.extend({},this.defaultOptions),this.body=t,this._create(),this.setOptions(e)}var n=i(6),r=n&&n.__esModule?n:{default:n},s=i(2),a=i(16),h=i(66),l=i(36),p=i(9);(o.prototype=new a).setOptions=function(t){t&&(s.selectiveExtend(["showMinorLabels","showMajorLabels","maxMinorChars","hiddenDates","timeAxis","moment","rtl"],this.options,t),s.selectiveDeepExtend(["format"],this.options,t),"orientation"in t&&("string"==typeof t.orientation?this.options.orientation.axis=t.orientation:"object"===(0,r.default)(t.orientation)&&"axis"in t.orientation&&(this.options.orientation.axis=t.orientation.axis)),"locale"in t&&("function"==typeof p.locale?p.locale(t.locale):p.lang(t.locale)))},o.prototype._create=function(){this.dom.foreground=document.createElement("div"),this.dom.background=document.createElement("div"),this.dom.foreground.className="vis-time-axis vis-foreground",this.dom.background.className="vis-time-axis vis-background"},o.prototype.destroy=function(){this.dom.foreground.parentNode&&this.dom.foreground.parentNode.removeChild(this.dom.foreground),this.dom.background.parentNode&&this.dom.background.parentNode.removeChild(this.dom.background),this.body=null},o.prototype.redraw=function(){var t=this.props,e=this.dom.foreground,i=this.dom.background,o="top"==this.options.orientation.axis?this.body.dom.top:this.body.dom.bottom,n=e.parentNode!==o;this._calculateCharSize();var r=this.options.showMajorLabels&&"none"!==this.options.orientation.axis;t.minorLabelHeight=this.options.showMinorLabels&&"none"!==this.options.orientation.axis?t.minorCharHeight:0,t.majorLabelHeight=r?t.majorCharHeight:0,t.height=t.minorLabelHeight+t.majorLabelHeight,t.width=e.offsetWidth,t.minorLineHeight=this.body.domProps.root.height-t.majorLabelHeight-("top"==this.options.orientation.axis?this.body.domProps.bottom.height:this.body.domProps.top.height),t.minorLineWidth=1,t.majorLineHeight=t.minorLineHeight+t.majorLabelHeight,t.majorLineWidth=1;var s=e.nextSibling,a=i.nextSibling;return e.parentNode&&e.parentNode.removeChild(e),i.parentNode&&i.parentNode.removeChild(i),e.style.height=this.props.height+"px",this._repaintLabels(),s?o.insertBefore(e,s):o.appendChild(e),a?this.body.dom.backgroundVertical.insertBefore(i,a):this.body.dom.backgroundVertical.appendChild(i),this._isResized()||n},o.prototype._repaintLabels=function(){var t=this.options.orientation.axis,e=s.convert(this.body.range.start,"Number"),i=s.convert(this.body.range.end,"Number"),o=this.body.util.toTime((this.props.minorCharWidth||10)*this.options.maxMinorChars).valueOf(),n=o-l.getHiddenDurationBefore(this.options.moment,this.body.hiddenDates,this.body.range,o);n-=this.body.util.toTime(0).valueOf();var r=new h(new Date(e),new Date(i),n,this.body.hiddenDates,this.options);r.setMoment(this.options.moment),this.options.format&&r.setFormat(this.options.format),this.options.timeAxis&&r.setScale(this.options.timeAxis),this.step=r;var a=this.dom;a.redundant.lines=a.lines,a.redundant.majorTexts=a.majorTexts,a.redundant.minorTexts=a.minorTexts,a.lines=[],a.majorTexts=[],a.minorTexts=[];var p,d,c,f,y,g,m,v,b,w=0,x=void 0,_=0;for(r.start(),p=r.getCurrent(),c=this.body.util.toScreen(p);r.hasNext()&&_<1e3;){switch(_++,f=r.isMajor(),b=r.getClassName(),v=r.getLabelMinor(),d=c,r.next(),p=r.getCurrent(),r.isMajor(),g=w,w=(c=this.body.util.toScreen(p))-d,r.scale){case"week":y=!0;break;default:y=w>=.4*g}if(this.options.showMinorLabels&&y){var M=this._repaintMinorText(d,v,t,b);M.style.width=w+"px"}f&&this.options.showMajorLabels?(d>0&&(void 0==x&&(x=d),M=this._repaintMajorText(d,r.getLabelMajor(),t,b)),m=this._repaintMajorLine(d,w,t,b)):y?m=this._repaintMinorLine(d,w,t,b):m&&(m.style.width=parseInt(m.style.width)+w+"px")}if(1e3!==_||u||(console.warn("Something is wrong with the Timeline scale. Limited drawing of grid lines to 1000 lines."),u=!0),this.options.showMajorLabels){var k=this.body.util.toTime(0),S=r.getLabelMajor(k);(void 0==x||S.length*(this.props.majorCharWidth||10)+10<x)&&this._repaintMajorText(0,S,t,b)}s.forEach(this.dom.redundant,function(t){for(;t.length;){var e=t.pop();e&&e.parentNode&&e.parentNode.removeChild(e)}})},o.prototype._repaintMinorText=function(t,e,i,o){var n=this.dom.redundant.minorTexts.shift();if(!n){var r=document.createTextNode("");(n=document.createElement("div")).appendChild(r),this.dom.foreground.appendChild(n)}return this.dom.minorTexts.push(n),n.innerHTML=e,n.style.top="top"==i?this.props.majorLabelHeight+"px":"0",this.options.rtl?(n.style.left="",n.style.right=t+"px"):n.style.left=t+"px",n.className="vis-text vis-minor "+o,n},o.prototype._repaintMajorText=function(t,e,i,o){var n=this.dom.redundant.majorTexts.shift();if(!n){var r=document.createElement("div");(n=document.createElement("div")).appendChild(r),this.dom.foreground.appendChild(n)}return n.childNodes[0].innerHTML=e,n.className="vis-text vis-major "+o,n.style.top="top"==i?"0":this.props.minorLabelHeight+"px",this.options.rtl?(n.style.left="",n.style.right=t+"px"):n.style.left=t+"px",this.dom.majorTexts.push(n),n},o.prototype._repaintMinorLine=function(t,e,i,o){var n=this.dom.redundant.lines.shift();n||(n=document.createElement("div"),this.dom.background.appendChild(n)),this.dom.lines.push(n);var r=this.props;return n.style.top="top"==i?r.majorLabelHeight+"px":this.body.domProps.top.height+"px",n.style.height=r.minorLineHeight+"px",this.options.rtl?(n.style.left="",n.style.right=t-r.minorLineWidth/2+"px",n.className="vis-grid vis-vertical-rtl vis-minor "+o):(n.style.left=t-r.minorLineWidth/2+"px",n.className="vis-grid vis-vertical vis-minor "+o),n.style.width=e+"px",n},o.prototype._repaintMajorLine=function(t,e,i,o){var n=this.dom.redundant.lines.shift();n||(n=document.createElement("div"),this.dom.background.appendChild(n)),this.dom.lines.push(n);var r=this.props;return n.style.top="top"==i?"0":this.body.domProps.top.height+"px",this.options.rtl?(n.style.left="",n.style.right=t-r.majorLineWidth/2+"px",n.className="vis-grid vis-vertical-rtl vis-major "+o):(n.style.left=t-r.majorLineWidth/2+"px",n.className="vis-grid vis-vertical vis-major "+o),n.style.height=r.majorLineHeight+"px",n.style.width=e+"px",n},o.prototype._calculateCharSize=function(){this.dom.measureCharMinor||(this.dom.measureCharMinor=document.createElement("DIV"),this.dom.measureCharMinor.className="vis-text vis-minor vis-measure",this.dom.measureCharMinor.style.position="absolute",this.dom.measureCharMinor.appendChild(document.createTextNode("0")),this.dom.foreground.appendChild(this.dom.measureCharMinor)),this.props.minorCharHeight=this.dom.measureCharMinor.clientHeight,this.props.minorCharWidth=this.dom.measureCharMinor.clientWidth,this.dom.measureCharMajor||(this.dom.measureCharMajor=document.createElement("DIV"),this.dom.measureCharMajor.className="vis-text vis-major vis-measure",this.dom.measureCharMajor.style.position="absolute",this.dom.measureCharMajor.appendChild(document.createTextNode("0")),this.dom.foreground.appendChild(this.dom.measureCharMajor)),this.props.majorCharHeight=this.dom.measureCharMajor.clientHeight,this.props.majorCharWidth=this.dom.measureCharMajor.clientWidth};var u=!1;t.exports=o},function(t,e,i){function o(t,e){this.body=t,this.defaultOptions={moment:a,locales:h,locale:"en",id:void 0,title:void 0},this.options=r.extend({},this.defaultOptions),this.customTime=e&&e.time?e.time:new Date,this.eventParams={},this.setOptions(e),this._create()}var n=i(10),r=i(2),s=i(16),a=i(9),h=i(98);(o.prototype=new s).setOptions=function(t){t&&r.selectiveExtend(["moment","locale","locales","id"],this.options,t)},o.prototype._create=function(){function t(t){this.body.range._onMouseWheel(t)}var e=document.createElement("div");e["custom-time"]=this,e.className="vis-custom-time "+(this.options.id||""),e.style.position="absolute",e.style.top="0px",e.style.height="100%",this.bar=e;var i=document.createElement("div");i.style.position="relative",i.style.top="0px",i.style.left="-10px",i.style.height="100%",i.style.width="20px",i.addEventListener?(i.addEventListener("mousewheel",t.bind(this),!1),i.addEventListener("DOMMouseScroll",t.bind(this),!1)):i.attachEvent("onmousewheel",t.bind(this)),e.appendChild(i),this.hammer=new n(i),this.hammer.on("panstart",this._onDragStart.bind(this)),this.hammer.on("panmove",this._onDrag.bind(this)),this.hammer.on("panend",this._onDragEnd.bind(this)),this.hammer.get("pan").set({threshold:5,direction:n.DIRECTION_HORIZONTAL})},o.prototype.destroy=function(){this.hide(),this.hammer.destroy(),this.hammer=null,this.body=null},o.prototype.redraw=function(){var t=this.body.dom.backgroundVertical;this.bar.parentNode!=t&&(this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),t.appendChild(this.bar));var e=this.body.util.toScreen(this.customTime),i=this.options.locales[this.options.locale];i||(this.warned||(console.log("WARNING: options.locales['"+this.options.locale+"'] not found. See http://visjs.org/docs/timeline/#Localization"),this.warned=!0),i=this.options.locales.en);var o=this.options.title;return void 0===o?o=(o=i.time+": "+this.options.moment(this.customTime).format("dddd, MMMM Do YYYY, H:mm:ss")).charAt(0).toUpperCase()+o.substring(1):"function"==typeof o&&(o=o.call(this.customTime)),this.bar.style.left=e+"px",this.bar.title=o,!1},o.prototype.hide=function(){this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar)},o.prototype.setCustomTime=function(t){this.customTime=r.convert(t,"Date"),this.redraw()},o.prototype.getCustomTime=function(){return new Date(this.customTime.valueOf())},o.prototype.setCustomTitle=function(t){this.options.title=t},o.prototype._onDragStart=function(t){this.eventParams.dragging=!0,this.eventParams.customTime=this.customTime,t.stopPropagation()},o.prototype._onDrag=function(t){if(this.eventParams.dragging){var e=this.body.util.toScreen(this.eventParams.customTime)+t.deltaX,i=this.body.util.toTime(e);this.setCustomTime(i),this.body.emitter.emit("timechange",{id:this.options.id,time:new Date(this.customTime.valueOf()),event:t}),t.stopPropagation()}},o.prototype._onDragEnd=function(t){this.eventParams.dragging&&(this.body.emitter.emit("timechanged",{id:this.options.id,time:new Date(this.customTime.valueOf()),event:t}),t.stopPropagation())},o.customTimeFromTarget=function(t){for(var e=t.target;e;){if(e.hasOwnProperty("custom-time"))return e["custom-time"];e=e.parentNode}return null},t.exports=o},function(t,e,i){function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=o(i(0)),r=o(i(1)),s=i(2),a=i(117).default,h=i(48).default,l=i(193).default,p=i(200).default,u=i(201).default,d=i(202).default,c=i(203).default,f=i(204).default,y=i(205).default,g=i(206).default,m=i(207).default,v=i(208).default,b=i(209).default,w=i(210).default,x=i(211).default,_=i(212).default,M=i(213).default,k=i(15).printStyle,S=function(){function t(e,i,o,r,h,l){(0,n.default)(this,t),this.options=s.bridgeObject(h),this.globalOptions=h,this.defaultOptions=l,this.body=i,this.edges=[],this.id=void 0,this.imagelist=o,this.grouplist=r,this.x=void 0,this.y=void 0,this.baseSize=this.options.size,this.baseFontSize=this.options.font.size,this.predefinedPosition=!1,this.selected=!1,this.hover=!1,this.labelModule=new a(this.body,this.options,!1),this.setOptions(e)}return(0,r.default)(t,[{key:"attachEdge",value:function(t){-1===this.edges.indexOf(t)&&this.edges.push(t)}},{key:"detachEdge",value:function(t){var e=this.edges.indexOf(t);-1!=e&&this.edges.splice(e,1)}},{key:"setOptions",value:function(e){var i=this.options.shape;if(e){if(void 0!==e.id&&(this.id=e.id),void 0===this.id)throw new Error("Node must have an id");return t.checkMass(e,this.id),void 0!==e.x&&(null===e.x?(this.x=void 0,this.predefinedPosition=!1):(this.x=parseInt(e.x),this.predefinedPosition=!0)),void 0!==e.y&&(null===e.y?(this.y=void 0,this.predefinedPosition=!1):(this.y=parseInt(e.y),this.predefinedPosition=!0)),void 0!==e.size&&(this.baseSize=e.size),void 0!==e.value&&(e.value=parseFloat(e.value)),t.parseOptions(this.options,e,!0,this.globalOptions,this.grouplist),this.chooser=h.choosify("node",[e,this.options,this.defaultOptions]),this._load_images(),this.updateLabelModule(e),this.updateShape(i),void 0!==e.hidden||void 0!==e.physics}}},{key:"_load_images",value:function(){if("circularImage"===this.options.shape||"image"===this.options.shape){if(void 0===this.options.image)throw new Error("Option image must be defined for node type '"+this.options.shape+"'");if(void 0===this.imagelist)throw new Error("Internal Error: No images provided");if("string"==typeof this.options.image)this.imageObj=this.imagelist.load(this.options.image,this.options.brokenImage,this.id);else{if(void 0===this.options.image.unselected)throw new Error("No unselected image provided");this.imageObj=this.imagelist.load(this.options.image.unselected,this.options.brokenImage,this.id),this.imageObjAlt=void 0!==this.options.image.selected?this.imagelist.load(this.options.image.selected,this.options.brokenImage,this.id):void 0}}}},{key:"getFormattingValues",value:function(){var t={color:this.options.color.background,borderWidth:this.options.borderWidth,borderColor:this.options.color.border,size:this.options.size,borderDashes:this.options.shapeProperties.borderDashes,borderRadius:this.options.shapeProperties.borderRadius,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y};return this.selected||this.hover?!0===this.chooser?this.selected?(t.borderWidth*=2,t.color=this.options.color.highlight.background,t.borderColor=this.options.color.highlight.border,t.shadow=this.options.shadow.enabled):this.hover&&(t.color=this.options.color.hover.background,t.borderColor=this.options.color.hover.border,t.shadow=this.options.shadow.enabled):"function"==typeof this.chooser&&(this.chooser(t,this.options.id,this.selected,this.hover),!1===t.shadow&&(t.shadowColor===this.options.shadow.color&&t.shadowSize===this.options.shadow.size&&t.shadowX===this.options.shadow.x&&t.shadowY===this.options.shadow.y||(t.shadow=!0))):t.shadow=this.options.shadow.enabled,t}},{key:"updateLabelModule",value:function(e){void 0!==this.options.label&&null!==this.options.label||(this.options.label=""),t.updateGroupOptions(this.options,e,this.grouplist);var i=this.grouplist.get(this.options.group,!1);this.labelModule.update(this.options,[e,this.options,i,this.globalOptions,this.defaultOptions]),void 0!==this.labelModule.baseSize&&(this.baseFontSize=this.labelModule.baseSize)}},{key:"updateShape",value:function(t){if(t===this.options.shape&&this.shape)this.shape.setOptions(this.options,this.imageObj,this.imageObjAlt);else switch(this.options.shape){case"box":this.shape=new l(this.options,this.body,this.labelModule);break;case"circle":this.shape=new p(this.options,this.body,this.labelModule);break;case"circularImage":this.shape=new u(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"database":this.shape=new d(this.options,this.body,this.labelModule);break;case"diamond":this.shape=new c(this.options,this.body,this.labelModule);break;case"dot":this.shape=new f(this.options,this.body,this.labelModule);break;case"ellipse":this.shape=new y(this.options,this.body,this.labelModule);break;case"icon":this.shape=new g(this.options,this.body,this.labelModule);break;case"image":this.shape=new m(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"square":this.shape=new v(this.options,this.body,this.labelModule);break;case"hexagon":this.shape=new b(this.options,this.body,this.labelModule);break;case"star":this.shape=new w(this.options,this.body,this.labelModule);break;case"text":this.shape=new x(this.options,this.body,this.labelModule);break;case"triangle":this.shape=new _(this.options,this.body,this.labelModule);break;case"triangleDown":this.shape=new M(this.options,this.body,this.labelModule);break;default:this.shape=new y(this.options,this.body,this.labelModule)}this.needsRefresh()}},{key:"select",value:function(){this.selected=!0,this.needsRefresh()}},{key:"unselect",value:function(){this.selected=!1,this.needsRefresh()}},{key:"needsRefresh",value:function(){this.shape.refreshNeeded=!0}},{key:"getTitle",value:function(){return this.options.title}},{key:"distanceToBorder",value:function(t,e){return this.shape.distanceToBorder(t,e)}},{key:"isFixed",value:function(){return this.options.fixed.x&&this.options.fixed.y}},{key:"isSelected",value:function(){return this.selected}},{key:"getValue",value:function(){return this.options.value}},{key:"getLabelSize",value:function(){return this.labelModule.size()}},{key:"setValueRange",value:function(t,e,i){if(void 0!==this.options.value){var o=this.options.scaling.customScalingFunction(t,e,i,this.options.value),n=this.options.scaling.max-this.options.scaling.min;!0===this.options.scaling.label.enabled&&(this.options.font.size=this.options.scaling.label.min+o*(this.options.scaling.label.max-this.options.scaling.label.min)),this.options.size=this.options.scaling.min+o*n}else this.options.size=this.baseSize,this.options.font.size=this.baseFontSize;this.updateLabelModule()}},{key:"draw",value:function(t){var e=this.getFormattingValues();this.shape.draw(t,this.x,this.y,this.selected,this.hover,e)}},{key:"updateBoundingBox",value:function(t){this.shape.updateBoundingBox(this.x,this.y,t)}},{key:"resize",value:function(t){var e=this.getFormattingValues();this.shape.resize(t,this.selected,this.hover,e)}},{key:"getItemsOnPoint",value:function(t){var e=[];return this.labelModule.visible()&&h.pointInRect(this.labelModule.getSize(),t)&&e.push({nodeId:this.id,labelId:0}),h.pointInRect(this.shape.boundingBox,t)&&e.push({nodeId:this.id}),e}},{key:"isOverlappingWith",value:function(t){return this.shape.left<t.right&&this.shape.left+this.shape.width>t.left&&this.shape.top<t.bottom&&this.shape.top+this.shape.height>t.top}},{key:"isBoundingBoxOverlappingWith",value:function(t){return this.shape.boundingBox.left<t.right&&this.shape.boundingBox.right>t.left&&this.shape.boundingBox.top<t.bottom&&this.shape.boundingBox.bottom>t.top}}],[{key:"updateGroupOptions",value:function(t,e,i){if(void 0!==i){var o=t.group;if(void 0!==e&&void 0!==e.group&&o!==e.group)throw new Error("updateGroupOptions: group values in options don't match.");if("number"==typeof o||"string"==typeof o&&""!=o){var n=i.get(o);s.selectiveNotDeepExtend(["font"],t,n),t.color=s.parseColor(t.color)}}}},{key:"parseOptions",value:function(e,i){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=arguments[4];if(s.selectiveNotDeepExtend(["color","fixed","shadow"],e,i,o),t.checkMass(i),s.mergeOptions(e,i,"shadow",n),void 0!==i.color&&null!==i.color){var a=s.parseColor(i.color);s.fillIfDefined(e.color,a)}else!0===o&&null===i.color&&(e.color=s.bridgeObject(n.color));void 0!==i.fixed&&null!==i.fixed&&("boolean"==typeof i.fixed?(e.fixed.x=i.fixed,e.fixed.y=i.fixed):(void 0!==i.fixed.x&&"boolean"==typeof i.fixed.x&&(e.fixed.x=i.fixed.x),void 0!==i.fixed.y&&"boolean"==typeof i.fixed.y&&(e.fixed.y=i.fixed.y))),!0===o&&null===i.font&&(e.font=s.bridgeObject(n.font)),t.updateGroupOptions(e,i,r),void 0!==i.scaling&&s.mergeOptions(e.scaling,i.scaling,"label",n.scaling)}},{key:"checkMass",value:function(t,e){if(void 0!==t.mass&&t.mass<=0){var i="";void 0!==e&&(i=" in node id: "+e),console.log("%cNegative or zero mass disallowed"+i+", setting mass to 1.",k),t.mass=1}}}]),t}();e.default=S},function(t,e,i){function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=o(i(6)),r=o(i(0)),s=o(i(1)),a=i(2),h=function(){function t(){(0,r.default)(this,t)}return(0,s.default)(t,null,[{key:"choosify",value:function(t,e){var i=["node","edge","label"],o=!0,r=a.topMost(e,"chosen");if("boolean"==typeof r)o=r;else if("object"===(void 0===r?"undefined":(0,n.default)(r))){if(-1===i.indexOf(t))throw new Error("choosify: subOption '"+t+"' should be one of '"+i.join("', '")+"'");var s=a.topMost(e,["chosen",t]);"boolean"!=typeof s&&"function"!=typeof s||(o=s)}return o}},{key:"pointInRect",value:function(t,e,i){if(t.width<=0||t.height<=0)return!1;if(void 0!==i){var o={x:e.x-i.x,y:e.y-i.y};if(0!==i.angle){var n=-i.angle;e={x:Math.cos(n)*o.x-Math.sin(n)*o.y,y:Math.sin(n)*o.x+Math.cos(n)*o.y}}else e=o}return t.left<e.x&&t.x+t.width>e.x&&t.top<e.y&&t.y+t.width>e.y}},{key:"isValidLabel",value:function(t){return"string"==typeof t&&""!==t}}]),t}();e.default=h},function(t,e,i){i(125);for(var o=i(18),n=i(26),r=i(31),s=i(13)("toStringTag"),a="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),h=0;h<a.length;h++){var l=a[h],p=o[l],u=p&&p.prototype;u&&!u[s]&&n(u,s,l),r[l]=r.Array}},function(t,e){var i={}.toString;t.exports=function(t){return i.call(t).slice(8,-1)}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e){t.exports=!0},function(t,e,i){var o=i(32);t.exports=function(t,e){if(!o(t))return t;var i,n;if(e&&"function"==typeof(i=t.toString)&&!o(n=i.call(t)))return n;if("function"==typeof(i=t.valueOf)&&!o(n=i.call(t)))return n;if(!e&&"function"==typeof(i=t.toString)&&!o(n=i.call(t)))return n;throw TypeError("Can't convert object to primitive value")}},function(t,e,i){var o=i(27),n=i(130),r=i(58),s=i(56)("IE_PROTO"),a=function(){},h=function(){var t,e=i(82)("iframe"),o=r.length;for(e.style.display="none",i(134).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),h=t.F;o--;)delete h.prototype[r[o]];return h()};t.exports=Object.create||function(t,e){var i;return null!==t?(a.prototype=o(t),i=new a,a.prototype=null,i[s]=t):i=h(),void 0===e?i:n(i,e)}},function(t,e){var i=Math.ceil,o=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?o:i)(t)}},function(t,e,i){var o=i(57)("keys"),n=i(40);t.exports=function(t){return o[t]||(o[t]=n(t))}},function(t,e,i){var o=i(18),n=o["__core-js_shared__"]||(o["__core-js_shared__"]={});t.exports=function(t){return n[t]||(n[t]={})}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,i){var o=i(20).f,n=i(22),r=i(13)("toStringTag");t.exports=function(t,e,i){t&&!n(t=i?t:t.prototype,r)&&o(t,r,{configurable:!0,value:e})}},function(t,e,i){var o=i(135)(!0);i(79)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,i=this._i;return i>=e.length?{value:void 0,done:!0}:(t=o(e,i),this._i+=t.length,{value:t,done:!1})})},function(t,e,i){e.f=i(13)},function(t,e,i){var o=i(18),n=i(7),r=i(52),s=i(61),a=i(20).f;t.exports=function(t){var e=n.Symbol||(n.Symbol=r?{}:o.Symbol||{});"_"==t.charAt(0)||t in e||a(e,t,{value:s.f(t)})}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,i){function o(t){return t&&t.__esModule?t:{default:t}}function n(t,e){var i=p().hours(0).minutes(0).seconds(0).milliseconds(0),o=i.clone().add(-3,"days").valueOf(),n=i.clone().add(3,"days").valueOf();this.millisecondsPerPixelCache=void 0,void 0===e?(this.start=o,this.end=n):(this.start=e.start||o,this.end=e.end||n),this.rolling=!1,this.body=t,this.deltaDifference=0,this.scaleOffset=0,this.startToFront=!1,this.endToFront=!0,this.defaultOptions={rtl:!1,start:null,end:null,moment:p,direction:"horizontal",moveable:!0,zoomable:!0,min:null,max:null,zoomMin:10,zoomMax:31536e10,rollingMode:{follow:!1,offset:.5}},this.options=l.extend({},this.defaultOptions),this.props={touch:{}},this.animationTimer=null,this.body.emitter.on("panstart",this._onDragStart.bind(this)),this.body.emitter.on("panmove",this._onDrag.bind(this)),this.body.emitter.on("panend",this._onDragEnd.bind(this)),this.body.emitter.on("mousewheel",this._onMouseWheel.bind(this)),this.body.emitter.on("touch",this._onTouch.bind(this)),this.body.emitter.on("pinch",this._onPinch.bind(this)),this.body.dom.rollingModeBtn.addEventListener("click",this.startRolling.bind(this)),this.setOptions(e)}function r(t){if("horizontal"!=t&&"vertical"!=t)throw new TypeError('Unknown direction "'+t+'". Choose "horizontal" or "vertical".')}var s=o(i(8)),a=o(i(19)),h=o(i(6)),l=i(2),p=i(9),u=i(16),d=i(36);(n.prototype=new u).setOptions=function(t){t&&(l.selectiveExtend(["animation","direction","min","max","zoomMin","zoomMax","moveable","zoomable","moment","activate","hiddenDates","zoomKey","rtl","showCurrentTime","rollingMode","horizontalScroll"],this.options,t),t.rollingMode&&t.rollingMode.follow&&this.startRolling(),("start"in t||"end"in t)&&this.setRange(t.start,t.end))},n.prototype.startRolling=function(){var t=this;!function e(){t.stopRolling(),t.rolling=!0;var i=t.end-t.start,o=l.convert(new Date,"Date").valueOf();t.setRange(o-i*t.options.rollingMode.offset,o+i*(1-t.options.rollingMode.offset),{animation:!1}),(i=1/t.conversion(t.body.domProps.center.width).scale/10)<30&&(i=30),i>1e3&&(i=1e3),t.body.dom.rollingModeBtn.style.visibility="hidden",t.currentTimeTimer=setTimeout(e,i)}()},n.prototype.stopRolling=function(){void 0!==this.currentTimeTimer&&(clearTimeout(this.currentTimeTimer),this.rolling=!1,this.body.dom.rollingModeBtn.style.visibility="visible")},n.prototype.setRange=function(t,e,i,o,n){i||(i={}),!0!==i.byUser&&(i.byUser=!1);var r=this,p=void 0!=t?l.convert(t,"Date").valueOf():null,u=void 0!=e?l.convert(e,"Date").valueOf():null;if(this._cancelAnimation(),this.millisecondsPerPixelCache=void 0,i.animation){var c=this.start,f=this.end,y="object"===(0,h.default)(i.animation)&&"duration"in i.animation?i.animation.duration:500,g="object"===(0,h.default)(i.animation)&&"easingFunction"in i.animation?i.animation.easingFunction:"easeInOutQuad",m=l.easingFunctions[g];if(!m)throw new Error("Unknown easing function "+(0,a.default)(g)+". Choose from: "+(0,s.default)(l.easingFunctions).join(", "));var v=(new Date).valueOf(),b=!1;return function t(){if(!r.props.touch.dragging){var e=(new Date).valueOf()-v,s=m(e/y),a=e>y;w=r._applyRange(a||null===p?p:c+(p-c)*s,a||null===u?u:f+(u-f)*s),d.updateHiddenDates(r.options.moment,r.body,r.options.hiddenDates),b=b||w;var h={start:new Date(r.start),end:new Date(r.end),byUser:i.byUser,event:i.event};if(n&&n(s,w,a),w&&r.body.emitter.emit("rangechange",h),a){if(b&&(r.body.emitter.emit("rangechanged",h),o))return o()}else r.animationTimer=setTimeout(t,20)}}()}var w=this._applyRange(p,u);if(d.updateHiddenDates(this.options.moment,this.body,this.options.hiddenDates),w){var x={start:new Date(this.start),end:new Date(this.end),byUser:i.byUser,event:i.event};if(this.body.emitter.emit("rangechange",x),clearTimeout(r.timeoutID),r.timeoutID=setTimeout(function(){r.body.emitter.emit("rangechanged",x)},200),o)return o()}},n.prototype.getMillisecondsPerPixel=function(){return void 0===this.millisecondsPerPixelCache&&(this.millisecondsPerPixelCache=(this.end-this.start)/this.body.dom.center.clientWidth),this.millisecondsPerPixelCache},n.prototype._cancelAnimation=function(){this.animationTimer&&(clearTimeout(this.animationTimer),this.animationTimer=null)},n.prototype._applyRange=function(t,e){var i,o=null!=t?l.convert(t,"Date").valueOf():this.start,n=null!=e?l.convert(e,"Date").valueOf():this.end,r=null!=this.options.max?l.convert(this.options.max,"Date").valueOf():null,s=null!=this.options.min?l.convert(this.options.min,"Date").valueOf():null;if(isNaN(o)||null===o)throw new Error('Invalid start "'+t+'"');if(isNaN(n)||null===n)throw new Error('Invalid end "'+e+'"');if(n<o&&(n=o),null!==s&&o<s&&(o+=i=s-o,n+=i,null!=r&&n>r&&(n=r)),null!==r&&n>r&&(o-=i=n-r,n-=i,null!=s&&o<s&&(o=s)),null!==this.options.zoomMin){var a=parseFloat(this.options.zoomMin);a<0&&(a=0),n-o<a&&(this.end-this.start===a&&o>=this.start-.5&&n<=this.end?(o=this.start,n=this.end):(o-=(i=a-(n-o))/2,n+=i/2))}if(null!==this.options.zoomMax){var h=parseFloat(this.options.zoomMax);h<0&&(h=0),n-o>h&&(this.end-this.start===h&&o<this.start&&n>this.end?(o=this.start,n=this.end):(o+=(i=n-o-h)/2,n-=i/2))}var p=this.start!=o||this.end!=n;return o>=this.start&&o<=this.end||n>=this.start&&n<=this.end||this.start>=o&&this.start<=n||this.end>=o&&this.end<=n||this.body.emitter.emit("checkRangedItems"),this.start=o,this.end=n,p},n.prototype.getRange=function(){return{start:this.start,end:this.end}},n.prototype.conversion=function(t,e){return n.conversion(this.start,this.end,t,e)},n.conversion=function(t,e,i,o){return void 0===o&&(o=0),0!=i&&e-t!=0?{offset:t,scale:i/(e-t-o)}:{offset:0,scale:1}},n.prototype._onDragStart=function(t){this.deltaDifference=0,this.previousDelta=0,this.options.moveable&&this._isInsideRange(t)&&this.props.touch.allowDragging&&(this.stopRolling(),this.props.touch.start=this.start,this.props.touch.end=this.end,this.props.touch.dragging=!0,this.body.dom.root&&(this.body.dom.root.style.cursor="move"))},n.prototype._onDrag=function(t){if(t&&this.props.touch.dragging&&this.options.moveable&&this.props.touch.allowDragging){var e=this.options.direction;r(e);var i="horizontal"==e?t.deltaX:t.deltaY;i-=this.deltaDifference;var o=this.props.touch.end-this.props.touch.start;o-=d.getHiddenDurationBetween(this.body.hiddenDates,this.start,this.end);var n,s="horizontal"==e?this.body.domProps.center.width:this.body.domProps.center.height,a=this.props.touch.start+(n=this.options.rtl?i/s*o:-i/s*o),h=this.props.touch.end+n,l=d.snapAwayFromHidden(this.body.hiddenDates,a,this.previousDelta-i,!0),p=d.snapAwayFromHidden(this.body.hiddenDates,h,this.previousDelta-i,!0);if(l!=a||p!=h)return this.deltaDifference+=i,this.props.touch.start=l,this.props.touch.end=p,void this._onDrag(t);this.previousDelta=i,this._applyRange(a,h);var u=new Date(this.start),c=new Date(this.end);this.body.emitter.emit("rangechange",{start:u,end:c,byUser:!0,event:t}),this.body.emitter.emit("panmove")}},n.prototype._onDragEnd=function(t){this.props.touch.dragging&&this.options.moveable&&this.props.touch.allowDragging&&(this.props.touch.dragging=!1,this.body.dom.root&&(this.body.dom.root.style.cursor="auto"),this.body.emitter.emit("rangechanged",{start:new Date(this.start),end:new Date(this.end),byUser:!0,event:t}))},n.prototype._onMouseWheel=function(t){var e=0;if(t.wheelDelta?e=t.wheelDelta/120:t.detail&&(e=-t.detail/3),!(this.options.zoomKey&&!t[this.options.zoomKey]&&this.options.zoomable||!this.options.zoomable&&this.options.moveable)&&this.options.zoomable&&this.options.moveable&&this._isInsideRange(t)&&e){var i,o;if(i=e<0?1-e/5:1/(1+e/5),this.rolling)o=this.start+(this.end-this.start)*this.options.rollingMode.offset;else{var n=this.getPointer({x:t.clientX,y:t.clientY},this.body.dom.center);o=this._pointerToDate(n)}this.zoom(i,o,e,t),t.preventDefault()}},n.prototype._onTouch=function(t){this.props.touch.start=this.start,this.props.touch.end=this.end,this.props.touch.allowDragging=!0,this.props.touch.center=null,this.scaleOffset=0,this.deltaDifference=0,l.preventDefault(t)},n.prototype._onPinch=function(t){if(this.options.zoomable&&this.options.moveable){l.preventDefault(t),this.props.touch.allowDragging=!1,this.props.touch.center||(this.props.touch.center=this.getPointer(t.center,this.body.dom.center)),this.stopRolling();var e=1/(t.scale+this.scaleOffset),i=this._pointerToDate(this.props.touch.center),o=d.getHiddenDurationBetween(this.body.hiddenDates,this.start,this.end),n=d.getHiddenDurationBefore(this.options.moment,this.body.hiddenDates,this,i),r=o-n,s=i-n+(this.props.touch.start-(i-n))*e,a=i+r+(this.props.touch.end-(i+r))*e;this.startToFront=1-e<=0,this.endToFront=e-1<=0;var h=d.snapAwayFromHidden(this.body.hiddenDates,s,1-e,!0),p=d.snapAwayFromHidden(this.body.hiddenDates,a,e-1,!0);h==s&&p==a||(this.props.touch.start=h,this.props.touch.end=p,this.scaleOffset=1-t.scale,s=h,a=p),this.setRange(s,a,{animation:!1,byUser:!0,event:t}),this.startToFront=!1,this.endToFront=!0}},n.prototype._isInsideRange=function(t){var e,i=t.center?t.center.x:t.clientX;e=this.options.rtl?i-l.getAbsoluteLeft(this.body.dom.centerContainer):l.getAbsoluteRight(this.body.dom.centerContainer)-i;var o=this.body.util.toTime(e);return o>=this.start&&o<=this.end},n.prototype._pointerToDate=function(t){var e,i=this.options.direction;return r(i),"horizontal"==i?this.body.util.toTime(t.x).valueOf():(e=this.conversion(this.body.domProps.center.height),t.y/e.scale+e.offset)},n.prototype.getPointer=function(t,e){return this.options.rtl?{x:l.getAbsoluteRight(e)-t.x,y:t.y-l.getAbsoluteTop(e)}:{x:t.x-l.getAbsoluteLeft(e),y:t.y-l.getAbsoluteTop(e)}},n.prototype.zoom=function(t,e,i,o){null==e&&(e=(this.start+this.end)/2);var n=d.getHiddenDurationBetween(this.body.hiddenDates,this.start,this.end),r=d.getHiddenDurationBefore(this.options.moment,this.body.hiddenDates,this,e),s=n-r,a=e-r+(this.start-(e-r))*t,h=e+s+(this.end-(e+s))*t;this.startToFront=!(i>0),this.endToFront=!(-i>0);var l=d.snapAwayFromHidden(this.body.hiddenDates,a,i,!0),p=d.snapAwayFromHidden(this.body.hiddenDates,h,-i,!0);l==a&&p==h||(a=l,h=p),this.setRange(a,h,{animation:!1,byUser:!0,event:o}),this.startToFront=!1,this.endToFront=!0},n.prototype.move=function(t){var e=this.end-this.start,i=this.end+e*t;this.start=this.start+e*t,this.end=i},n.prototype.moveTo=function(t){var e=(this.start+this.end)/2-t;this.setRange(this.start-e,this.end-e,{animation:!1,byUser:!0,event:null})},t.exports=n},function(t,e,i){function o(t){return t&&t.__esModule?t:{default:t}}function n(){}var r=o(i(19)),s=o(i(6)),a=i(44),h=i(10),l=i(37),p=i(2),u=i(45),d=i(97),c=i(36),f=i(46);a(n.prototype),n.prototype._create=function(t){function e(t){this.isActive()&&this.emit("mousewheel",t);var e=0,i=0;if("detail"in t&&(i=-1*t.detail),"wheelDelta"in t&&(i=t.wheelDelta),"wheelDeltaY"in t&&(i=t.wheelDeltaY),"wheelDeltaX"in t&&(e=-1*t.wheelDeltaX),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(e=-1*i,i=0),"deltaY"in t&&(i=-1*t.deltaY),"deltaX"in t&&(e=t.deltaX),this.options.zoomKey&&!t[this.options.zoomKey])if(t.preventDefault(),this.options.verticalScroll&&Math.abs(i)>=Math.abs(e)){var o=this.props.scrollTop+i;this.isActive()&&(this._setScrollTop(o),this._redraw(),this.emit("scroll",t))}else if(this.options.horizontalScroll){var n=(Math.abs(e)>=Math.abs(i)?e:i)/120*(this.range.end-this.range.start)/20;this.range.setRange(this.range.start+n,this.range.end+n,{animation:!1,byUser:!0,event:t})}}function i(t){o.options.verticalScroll&&(t.preventDefault(),o.isActive())&&(o._setScrollTop(-t.target.scrollTop),o._redraw(),o.emit("scrollSide",t))}this.dom={},this.dom.container=t,this.dom.root=document.createElement("div"),this.dom.background=document.createElement("div"),this.dom.backgroundVertical=document.createElement("div"),this.dom.backgroundHorizontal=document.createElement("div"),this.dom.centerContainer=document.createElement("div"),this.dom.leftContainer=document.createElement("div"),this.dom.rightContainer=document.createElement("div"),this.dom.center=document.createElement("div"),this.dom.left=document.createElement("div"),this.dom.right=document.createElement("div"),this.dom.top=document.createElement("div"),this.dom.bottom=document.createElement("div"),this.dom.shadowTop=document.createElement("div"),this.dom.shadowBottom=document.createElement("div"),this.dom.shadowTopLeft=document.createElement("div"),this.dom.shadowBottomLeft=document.createElement("div"),this.dom.shadowTopRight=document.createElement("div"),this.dom.shadowBottomRight=document.createElement("div"),this.dom.rollingModeBtn=document.createElement("div"),this.dom.root.className="vis-timeline",this.dom.background.className="vis-panel vis-background",this.dom.backgroundVertical.className="vis-panel vis-background vis-vertical",this.dom.backgroundHorizontal.className="vis-panel vis-background vis-horizontal",this.dom.centerContainer.className="vis-panel vis-center",this.dom.leftContainer.className="vis-panel vis-left",this.dom.rightContainer.className="vis-panel vis-right",this.dom.top.className="vis-panel vis-top",this.dom.bottom.className="vis-panel vis-bottom",this.dom.left.className="vis-content",this.dom.center.className="vis-content",this.dom.right.className="vis-content",this.dom.shadowTop.className="vis-shadow vis-top",this.dom.shadowBottom.className="vis-shadow vis-bottom",this.dom.shadowTopLeft.className="vis-shadow vis-top",this.dom.shadowBottomLeft.className="vis-shadow vis-bottom",this.dom.shadowTopRight.className="vis-shadow vis-top",this.dom.shadowBottomRight.className="vis-shadow vis-bottom",this.dom.rollingModeBtn.className="vis-rolling-mode-btn",this.dom.root.appendChild(this.dom.background),this.dom.root.appendChild(this.dom.backgroundVertical),this.dom.root.appendChild(this.dom.backgroundHorizontal),this.dom.root.appendChild(this.dom.centerContainer),this.dom.root.appendChild(this.dom.leftContainer),this.dom.root.appendChild(this.dom.rightContainer),this.dom.root.appendChild(this.dom.top),this.dom.root.appendChild(this.dom.bottom),this.dom.root.appendChild(this.dom.bottom),this.dom.root.appendChild(this.dom.rollingModeBtn),this.dom.centerContainer.appendChild(this.dom.center),this.dom.leftContainer.appendChild(this.dom.left),this.dom.rightContainer.appendChild(this.dom.right),this.dom.centerContainer.appendChild(this.dom.shadowTop),this.dom.centerContainer.appendChild(this.dom.shadowBottom),this.dom.leftContainer.appendChild(this.dom.shadowTopLeft),this.dom.leftContainer.appendChild(this.dom.shadowBottomLeft),this.dom.rightContainer.appendChild(this.dom.shadowTopRight),this.dom.rightContainer.appendChild(this.dom.shadowBottomRight),this.props={root:{},background:{},centerContainer:{},leftContainer:{},rightContainer:{},center:{},left:{},right:{},top:{},bottom:{},border:{},scrollTop:0,scrollTopMin:0},this.on("rangechange",(function(){!0===this.initialDrawDone&&this._redraw()}).bind(this)),this.on("rangechanged",(function(){this.initialRangeChangeDone||(this.initialRangeChangeDone=!0)}).bind(this)),this.on("touch",this._onTouch.bind(this)),this.on("panmove",this._onDrag.bind(this));var o=this;this._origRedraw=this._redraw.bind(this),this._redraw=p.throttle(this._origRedraw),this.on("_change",function(t){o.itemSet&&o.itemSet.initialItemSetDrawn&&t&&1==t.queue?o._redraw():o._origRedraw()}),this.hammer=new h(this.dom.root);var n=this.hammer.get("pinch").set({enable:!0});l.disablePreventDefaultVertically(n),this.hammer.get("pan").set({threshold:5,direction:h.DIRECTION_HORIZONTAL}),this.listeners={},["tap","doubletap","press","pinch","pan","panstart","panmove","panend"].forEach(function(t){var e=function(e){o.isActive()&&o.emit(t,e)};o.hammer.on(t,e),o.listeners[t]=e}),l.onTouch(this.hammer,(function(t){o.emit("touch",t)}).bind(this)),l.onRelease(this.hammer,(function(t){o.emit("release",t)}).bind(this)),this.dom.centerContainer.addEventListener?(this.dom.centerContainer.addEventListener("mousewheel",e.bind(this),!1),this.dom.centerContainer.addEventListener("DOMMouseScroll",e.bind(this),!1)):this.dom.centerContainer.attachEvent("onmousewheel",e.bind(this)),this.dom.left.parentNode.addEventListener("scroll",i.bind(this)),this.dom.right.parentNode.addEventListener("scroll",i.bind(this));var r=!1;if(this.dom.center.addEventListener("dragover",(function(t){if(t.preventDefault&&t.preventDefault(),!(!t.target.className.indexOf("vis")>-1||r))return t.dataTransfer.dropEffect="move",r=!0,!1}).bind(this),!1),this.dom.center.addEventListener("drop",(function(t){t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation();try{var e=JSON.parse(t.dataTransfer.getData("text"));if(!e||!e.content)return}catch(t){return!1}return r=!1,t.center={x:t.clientX,y:t.clientY},"item"!==e.target?o.itemSet._onAddItem(t):o.itemSet._onDropObjectOnItem(t),o.emit("drop",o.getEventProperties(t)),!1}).bind(this),!1),this.customTimes=[],this.touch={},this.redrawCount=0,this.initialDrawDone=!1,this.initialRangeChangeDone=!1,!t)throw new Error("No container provided");t.appendChild(this.dom.root)},n.prototype.setOptions=function(t){if(t){if(p.selectiveExtend(["width","height","minHeight","maxHeight","autoResize","start","end","clickToUse","dataAttributes","hiddenDates","locale","locales","moment","rtl","zoomKey","horizontalScroll","verticalScroll"],this.options,t),this.dom.rollingModeBtn.style.visibility="hidden",this.options.rtl&&(this.dom.container.style.direction="rtl",this.dom.backgroundVertical.className="vis-panel vis-background vis-vertical-rtl"),this.options.verticalScroll&&(this.options.rtl?this.dom.rightContainer.className="vis-panel vis-right vis-vertical-scroll":this.dom.leftContainer.className="vis-panel vis-left vis-vertical-scroll"),"object"!==(0,s.default)(this.options.orientation)&&(this.options.orientation={item:void 0,axis:void 0}),"orientation"in t&&("string"==typeof t.orientation?this.options.orientation={item:t.orientation,axis:t.orientation}:"object"===(0,s.default)(t.orientation)&&("item"in t.orientation&&(this.options.orientation.item=t.orientation.item),"axis"in t.orientation&&(this.options.orientation.axis=t.orientation.axis))),"both"===this.options.orientation.axis){if(!this.timeAxis2){var e=this.timeAxis2=new u(this.body);e.setOptions=function(t){var i=t?p.extend({},t):{};i.orientation="top",u.prototype.setOptions.call(e,i)},this.components.push(e)}}else if(this.timeAxis2){var i=this.components.indexOf(this.timeAxis2);-1!==i&&this.components.splice(i,1),this.timeAxis2.destroy(),this.timeAxis2=null}if("function"==typeof t.drawPoints&&(t.drawPoints={onRender:t.drawPoints}),"hiddenDates"in this.options&&c.convertHiddenOptions(this.options.moment,this.body,this.options.hiddenDates),"clickToUse"in t&&(t.clickToUse?this.activator||(this.activator=new d(this.dom.root)):this.activator&&(this.activator.destroy(),delete this.activator)),"showCustomTime"in t)throw new Error("Option `showCustomTime` is deprecated. Create a custom time bar via timeline.addCustomTime(time [, id])");this._initAutoResize()}if(this.components.forEach(function(e){return e.setOptions(t)}),"configure"in t){this.configurator||(this.configurator=this._createConfigurator()),this.configurator.setOptions(t.configure);var o=p.deepExtend({},this.options);this.components.forEach(function(t){p.deepExtend(o,t.options)}),this.configurator.setModuleOptions({global:o})}this._redraw()},n.prototype.isActive=function(){return!this.activator||this.activator.active},n.prototype.destroy=function(){for(var t in this.setItems(null),this.setGroups(null),this.off(),this._stopAutoResize(),this.dom.root.parentNode&&this.dom.root.parentNode.removeChild(this.dom.root),this.dom=null,this.activator&&(this.activator.destroy(),delete this.activator),this.listeners)this.listeners.hasOwnProperty(t)&&delete this.listeners[t];this.listeners=null,this.hammer=null,this.components.forEach(function(t){return t.destroy()}),this.body=null},n.prototype.setCustomTime=function(t,e){var i=this.customTimes.filter(function(t){return e===t.options.id});if(0===i.length)throw new Error("No custom time bar found with id "+(0,r.default)(e));i.length>0&&i[0].setCustomTime(t)},n.prototype.getCustomTime=function(t){var e=this.customTimes.filter(function(e){return e.options.id===t});if(0===e.length)throw new Error("No custom time bar found with id "+(0,r.default)(t));return e[0].getCustomTime()},n.prototype.setCustomTimeTitle=function(t,e){var i=this.customTimes.filter(function(t){return t.options.id===e});if(0===i.length)throw new Error("No custom time bar found with id "+(0,r.default)(e));if(i.length>0)return i[0].setCustomTitle(t)},n.prototype.getEventProperties=function(t){return{event:t}},n.prototype.addCustomTime=function(t,e){var i=void 0!==t?p.convert(t,"Date").valueOf():new Date;if(this.customTimes.some(function(t){return t.options.id===e}))throw new Error("A custom time with id "+(0,r.default)(e)+" already exists");var o=new f(this.body,p.extend({},this.options,{time:i,id:e}));return this.customTimes.push(o),this.components.push(o),this._redraw(),e},n.prototype.removeCustomTime=function(t){var e=this.customTimes.filter(function(e){return e.options.id===t});if(0===e.length)throw new Error("No custom time bar found with id "+(0,r.default)(t));e.forEach((function(t){this.customTimes.splice(this.customTimes.indexOf(t),1),this.components.splice(this.components.indexOf(t),1),t.destroy()}).bind(this))},n.prototype.getVisibleItems=function(){return this.itemSet&&this.itemSet.getVisibleItems()||[]},n.prototype.fit=function(t,e){var i=this.getDataRange();if(null!==i.min||null!==i.max){var o=i.max-i.min,n=new Date(i.min.valueOf()-.01*o),r=new Date(i.max.valueOf()+.01*o);this.range.setRange(n,r,{animation:!t||void 0===t.animation||t.animation},e)}},n.prototype.getDataRange=function(){throw new Error("Cannot invoke abstract method getDataRange")},n.prototype.setWindow=function(t,e,i,o){var n;"function"==typeof arguments[2]&&(o=arguments[2],i={}),1==arguments.length?this.range.setRange((n=arguments[0]).start,n.end,{animation:void 0===n.animation||n.animation}):2==arguments.length&&"function"==typeof arguments[1]?(o=arguments[1],this.range.setRange((n=arguments[0]).start,n.end,{animation:void 0===n.animation||n.animation},o)):this.range.setRange(t,e,{animation:!i||void 0===i.animation||i.animation},o)},n.prototype.moveTo=function(t,e,i){"function"==typeof arguments[1]&&(i=arguments[1],e={});var o=this.range.end-this.range.start,n=p.convert(t,"Date").valueOf();this.range.setRange(n-o/2,n+o/2,{animation:!e||void 0===e.animation||e.animation},i)},n.prototype.getWindow=function(){var t=this.range.getRange();return{start:new Date(t.start),end:new Date(t.end)}},n.prototype.zoomIn=function(t,e,i){if(!(!t||t<0||t>1)){"function"==typeof arguments[1]&&(i=arguments[1],e={});var o=this.getWindow(),n=o.start.valueOf(),r=o.end.valueOf(),s=r-n,a=(s-s/(1+t))/2;this.setWindow(n+a,r-a,e,i)}},n.prototype.zoomOut=function(t,e,i){if(!(!t||t<0||t>1)){"function"==typeof arguments[1]&&(i=arguments[1],e={});var o=this.getWindow(),n=o.start.valueOf(),r=o.end.valueOf(),s=r-n;this.setWindow(n-s*t/2,r+s*t/2,e,i)}},n.prototype.redraw=function(){this._redraw()},n.prototype._redraw=function(){this.redrawCount++;var t=!1,e=this.options,i=this.props,o=this.dom;if(o&&o.container&&0!=o.root.offsetWidth){c.updateHiddenDates(this.options.moment,this.body,this.options.hiddenDates),"top"==e.orientation?(p.addClassName(o.root,"vis-top"),p.removeClassName(o.root,"vis-bottom")):(p.removeClassName(o.root,"vis-top"),p.addClassName(o.root,"vis-bottom")),o.root.style.maxHeight=p.option.asSize(e.maxHeight,""),o.root.style.minHeight=p.option.asSize(e.minHeight,""),o.root.style.width=p.option.asSize(e.width,""),i.border.left=(o.centerContainer.offsetWidth-o.centerContainer.clientWidth)/2,i.border.right=i.border.left,i.border.top=(o.centerContainer.offsetHeight-o.centerContainer.clientHeight)/2,i.border.bottom=i.border.top,i.borderRootHeight=o.root.offsetHeight-o.root.clientHeight,i.borderRootWidth=o.root.offsetWidth-o.root.clientWidth,0===o.centerContainer.clientHeight&&(i.border.left=i.border.top,i.border.right=i.border.left),0===o.root.clientHeight&&(i.borderRootWidth=i.borderRootHeight),i.center.height=o.center.offsetHeight,i.left.height=o.left.offsetHeight,i.right.height=o.right.offsetHeight,i.top.height=o.top.clientHeight||-i.border.top,i.bottom.height=o.bottom.clientHeight||-i.border.bottom;var n=Math.max(i.left.height,i.center.height,i.right.height);o.root.style.height=p.option.asSize(e.height,i.top.height+n+i.bottom.height+i.borderRootHeight+i.border.top+i.border.bottom+"px"),i.root.height=o.root.offsetHeight,i.background.height=i.root.height-i.borderRootHeight;var r=i.root.height-i.top.height-i.bottom.height-i.borderRootHeight;i.centerContainer.height=r,i.leftContainer.height=r,i.rightContainer.height=i.leftContainer.height,i.root.width=o.root.offsetWidth,i.background.width=i.root.width-i.borderRootWidth,this.initialDrawDone||(i.scrollbarWidth=p.getScrollBarWidth()),e.verticalScroll?e.rtl?(i.left.width=o.leftContainer.clientWidth||-i.border.left,i.right.width=o.rightContainer.clientWidth+i.scrollbarWidth||-i.border.right):(i.left.width=o.leftContainer.clientWidth+i.scrollbarWidth||-i.border.left,i.right.width=o.rightContainer.clientWidth||-i.border.right):(i.left.width=o.leftContainer.clientWidth||-i.border.left,i.right.width=o.rightContainer.clientWidth||-i.border.right),this._setDOM();var s=this._updateScrollTop();"top"!=e.orientation.item&&(s+=Math.max(i.centerContainer.height-i.center.height-i.border.top-i.border.bottom,0)),o.center.style.top=s+"px";var a=0==i.scrollTop?"hidden":"",l=i.scrollTop==i.scrollTopMin?"hidden":"";o.shadowTop.style.visibility=a,o.shadowBottom.style.visibility=l,o.shadowTopLeft.style.visibility=a,o.shadowBottomLeft.style.visibility=l,o.shadowTopRight.style.visibility=a,o.shadowBottomRight.style.visibility=l,e.verticalScroll&&(o.rightContainer.className="vis-panel vis-right vis-vertical-scroll",o.leftContainer.className="vis-panel vis-left vis-vertical-scroll",o.shadowTopRight.style.visibility="hidden",o.shadowBottomRight.style.visibility="hidden",o.shadowTopLeft.style.visibility="hidden",o.shadowBottomLeft.style.visibility="hidden",o.left.style.top="0px",o.right.style.top="0px"),(!e.verticalScroll||i.center.height<i.centerContainer.height)&&(o.left.style.top=s+"px",o.right.style.top=s+"px",o.rightContainer.className=o.rightContainer.className.replace(new RegExp("(?:^|\\s)vis-vertical-scroll(?:\\s|$)")," "),o.leftContainer.className=o.leftContainer.className.replace(new RegExp("(?:^|\\s)vis-vertical-scroll(?:\\s|$)")," "),i.left.width=o.leftContainer.clientWidth||-i.border.left,i.right.width=o.rightContainer.clientWidth||-i.border.right,this._setDOM());var u=i.center.height>i.centerContainer.height;if(this.hammer.get("pan").set({direction:u?h.DIRECTION_ALL:h.DIRECTION_HORIZONTAL}),this.components.forEach(function(e){t=e.redraw()||t}),t){if(this.redrawCount<5)return void this.body.emitter.emit("_change");console.log("WARNING: infinite loop in redraw?")}else this.redrawCount=0;this.body.emitter.emit("changed")}},n.prototype._setDOM=function(){var t=this.props,e=this.dom;t.leftContainer.width=t.left.width,t.rightContainer.width=t.right.width;var i=t.root.width-t.left.width-t.right.width-t.borderRootWidth;t.center.width=i,t.centerContainer.width=i,t.top.width=i,t.bottom.width=i,e.background.style.height=t.background.height+"px",e.backgroundVertical.style.height=t.background.height+"px",e.backgroundHorizontal.style.height=t.centerContainer.height+"px",e.centerContainer.style.height=t.centerContainer.height+"px",e.leftContainer.style.height=t.leftContainer.height+"px",e.rightContainer.style.height=t.rightContainer.height+"px",e.background.style.width=t.background.width+"px",e.backgroundVertical.style.width=t.centerContainer.width+"px",e.backgroundHorizontal.style.width=t.background.width+"px",e.centerContainer.style.width=t.center.width+"px",e.top.style.width=t.top.width+"px",e.bottom.style.width=t.bottom.width+"px",e.background.style.left="0",e.background.style.top="0",e.backgroundVertical.style.left=t.left.width+t.border.left+"px",e.backgroundVertical.style.top="0",e.backgroundHorizontal.style.left="0",e.backgroundHorizontal.style.top=t.top.height+"px",e.centerContainer.style.left=t.left.width+"px",e.centerContainer.style.top=t.top.height+"px",e.leftContainer.style.left="0",e.leftContainer.style.top=t.top.height+"px",e.rightContainer.style.left=t.left.width+t.center.width+"px",e.rightContainer.style.top=t.top.height+"px",e.top.style.left=t.left.width+"px",e.top.style.top="0",e.bottom.style.left=t.left.width+"px",e.bottom.style.top=t.top.height+t.centerContainer.height+"px",e.center.style.left="0",e.left.style.left="0",e.right.style.left="0"},n.prototype.repaint=function(){throw new Error("Function repaint is deprecated. Use redraw instead.")},n.prototype.setCurrentTime=function(t){if(!this.currentTime)throw new Error("Option showCurrentTime must be true");this.currentTime.setCurrentTime(t)},n.prototype.getCurrentTime=function(){if(!this.currentTime)throw new Error("Option showCurrentTime must be true");return this.currentTime.getCurrentTime()},n.prototype._toTime=function(t){return c.toTime(this,t,this.props.center.width)},n.prototype._toGlobalTime=function(t){return c.toTime(this,t,this.props.root.width)},n.prototype._toScreen=function(t){return c.toScreen(this,t,this.props.center.width)},n.prototype._toGlobalScreen=function(t){return c.toScreen(this,t,this.props.root.width)},n.prototype._initAutoResize=function(){1==this.options.autoResize?this._startAutoResize():this._stopAutoResize()},n.prototype._startAutoResize=function(){var t=this;this._stopAutoResize(),this._onResize=function(){1==t.options.autoResize?t.dom.root&&(t.dom.root.offsetWidth==t.props.lastWidth&&t.dom.root.offsetHeight==t.props.lastHeight||(t.props.lastWidth=t.dom.root.offsetWidth,t.props.lastHeight=t.dom.root.offsetHeight,t.props.scrollbarWidth=p.getScrollBarWidth(),t.body.emitter.emit("_change"))):t._stopAutoResize()},p.addEventListener(window,"resize",this._onResize),t.dom.root&&(t.props.lastWidth=t.dom.root.offsetWidth,t.props.lastHeight=t.dom.root.offsetHeight),this.watchTimer=setInterval(this._onResize,1e3)},n.prototype._stopAutoResize=function(){this.watchTimer&&(clearInterval(this.watchTimer),this.watchTimer=void 0),this._onResize&&(p.removeEventListener(window,"resize",this._onResize),this._onResize=null)},n.prototype._onTouch=function(t){this.touch.allowDragging=!0,this.touch.initialScrollTop=this.props.scrollTop},n.prototype._onPinch=function(t){this.touch.allowDragging=!1},n.prototype._onDrag=function(t){if(t&&this.touch.allowDragging){var e=t.deltaY,i=this._getScrollTop(),o=this._setScrollTop(this.touch.initialScrollTop+e);this.options.verticalScroll&&(this.dom.left.parentNode.scrollTop=-this.props.scrollTop,this.dom.right.parentNode.scrollTop=-this.props.scrollTop),o!=i&&this.emit("verticalDrag")}},n.prototype._setScrollTop=function(t){return this.props.scrollTop=t,this._updateScrollTop(),this.props.scrollTop},n.prototype._updateScrollTop=function(){var t=Math.min(this.props.centerContainer.height-this.props.center.height,0);return t!=this.props.scrollTopMin&&("top"!=this.options.orientation.item&&(this.props.scrollTop+=t-this.props.scrollTopMin),this.props.scrollTopMin=t),this.props.scrollTop>0&&(this.props.scrollTop=0),this.props.scrollTop<t&&(this.props.scrollTop=t),this.options.verticalScroll&&(this.dom.left.parentNode.scrollTop=-this.props.scrollTop,this.dom.right.parentNode.scrollTop=-this.props.scrollTop),this.props.scrollTop},n.prototype._getScrollTop=function(){return this.props.scrollTop},n.prototype._createConfigurator=function(){throw new Error("Cannot invoke abstract method _createConfigurator")},t.exports=n},function(t,e,i){function o(t,e,i,r,s){this.moment=n,this.current=this.moment(),this._start=this.moment(),this._end=this.moment(),this.autoScale=!0,this.scale="day",this.step=1,this.setRange(t,e,i),this.switchedDay=!1,this.switchedMonth=!1,this.switchedYear=!1,this.hiddenDates=Array.isArray(r)?r:void 0!=r?[r]:[],this.format=o.FORMAT,this.options=s||{}}var n=i(9),r=i(36),s=i(2);o.FORMAT={minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",week:"w",month:"MMM",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",week:"MMMM YYYY",month:"YYYY",year:""}},o.prototype.setMoment=function(t){this.moment=t,this.current=this.moment(this.current.valueOf()),this._start=this.moment(this._start.valueOf()),this._end=this.moment(this._end.valueOf())},o.prototype.setFormat=function(t){var e=s.deepExtend({},o.FORMAT);this.format=s.deepExtend(e,t)},o.prototype.setRange=function(t,e,i){if(!(t instanceof Date&&e instanceof Date))throw"No legal start or end date in method setRange";this._start=void 0!=t?this.moment(t.valueOf()):new Date,this._end=void 0!=e?this.moment(e.valueOf()):new Date,this.autoScale&&this.setMinimumStep(i)},o.prototype.start=function(){this.current=this._start.clone(),this.roundToMinor()},o.prototype.roundToMinor=function(){switch("week"==this.scale&&this.current.weekday(0),this.scale){case"year":this.current.year(this.step*Math.floor(this.current.year()/this.step)),this.current.month(0);case"month":this.current.date(1);case"week":case"day":case"weekday":this.current.hours(0);case"hour":this.current.minutes(0);case"minute":this.current.seconds(0);case"second":this.current.milliseconds(0)}if(1!=this.step)switch(this.scale){case"millisecond":this.current.subtract(this.current.milliseconds()%this.step,"milliseconds");break;case"second":this.current.subtract(this.current.seconds()%this.step,"seconds");break;case"minute":this.current.subtract(this.current.minutes()%this.step,"minutes");break;case"hour":this.current.subtract(this.current.hours()%this.step,"hours");break;case"weekday":case"day":this.current.subtract((this.current.date()-1)%this.step,"day");break;case"week":this.current.subtract(this.current.week()%this.step,"week");break;case"month":this.current.subtract(this.current.month()%this.step,"month");break;case"year":this.current.subtract(this.current.year()%this.step,"year")}},o.prototype.hasNext=function(){return this.current.valueOf()<=this._end.valueOf()},o.prototype.next=function(){var t=this.current.valueOf();switch(this.scale){case"millisecond":this.current.add(this.step,"millisecond");break;case"second":this.current.add(this.step,"second");break;case"minute":this.current.add(this.step,"minute");break;case"hour":this.current.add(this.step,"hour"),this.current.month()<6?this.current.subtract(this.current.hours()%this.step,"hour"):this.current.hours()%this.step!=0&&this.current.add(this.step-this.current.hours()%this.step,"hour");break;case"weekday":case"day":this.current.add(this.step,"day");break;case"week":if(0!==this.current.weekday())this.current.weekday(0),this.current.add(this.step,"week");else if(!1===this.options.showMajorLabels)this.current.add(this.step,"week");else{var e=this.current.clone();e.add(1,"week"),e.isSame(this.current,"month")?this.current.add(this.step,"week"):(this.current.add(this.step,"week"),this.current.date(1))}break;case"month":this.current.add(this.step,"month");break;case"year":this.current.add(this.step,"year")}if(1!=this.step)switch(this.scale){case"millisecond":this.current.milliseconds()>0&&this.current.milliseconds()<this.step&&this.current.milliseconds(0);break;case"second":this.current.seconds()>0&&this.current.seconds()<this.step&&this.current.seconds(0);break;case"minute":this.current.minutes()>0&&this.current.minutes()<this.step&&this.current.minutes(0);break;case"hour":this.current.hours()>0&&this.current.hours()<this.step&&this.current.hours(0);break;case"weekday":case"day":this.current.date()<this.step+1&&this.current.date(1);break;case"week":this.current.week()<this.step&&this.current.week(1);break;case"month":this.current.month()<this.step&&this.current.month(0)}this.current.valueOf()==t&&(this.current=this._end.clone()),this.switchedDay=!1,this.switchedMonth=!1,this.switchedYear=!1,r.stepOverHiddenDates(this.moment,this,t)},o.prototype.getCurrent=function(){return this.current},o.prototype.setScale=function(t){t&&"string"==typeof t.scale&&(this.scale=t.scale,this.step=t.step>0?t.step:1,this.autoScale=!1)},o.prototype.setAutoScale=function(t){this.autoScale=t},o.prototype.setMinimumStep=function(t){void 0!=t&&(31104e9>t&&(this.scale="year",this.step=1e3),15552e9>t&&(this.scale="year",this.step=500),31104e8>t&&(this.scale="year",this.step=100),15552e8>t&&(this.scale="year",this.step=50),31104e7>t&&(this.scale="year",this.step=10),15552e7>t&&(this.scale="year",this.step=5),31104e6>t&&(this.scale="year",this.step=1),7776e6>t&&(this.scale="month",this.step=3),2592e6>t&&(this.scale="month",this.step=1),432e6>t&&(this.scale="day",this.step=5),1728e5>t&&(this.scale="day",this.step=2),864e5>t&&(this.scale="day",this.step=1),432e5>t&&(this.scale="weekday",this.step=1),144e5>t&&(this.scale="hour",this.step=4),36e5>t&&(this.scale="hour",this.step=1),9e5>t&&(this.scale="minute",this.step=15),6e5>t&&(this.scale="minute",this.step=10),3e5>t&&(this.scale="minute",this.step=5),6e4>t&&(this.scale="minute",this.step=1),15e3>t&&(this.scale="second",this.step=15),1e4>t&&(this.scale="second",this.step=10),5e3>t&&(this.scale="second",this.step=5),1e3>t&&(this.scale="second",this.step=1),200>t&&(this.scale="millisecond",this.step=200),100>t&&(this.scale="millisecond",this.step=100),50>t&&(this.scale="millisecond",this.step=50),10>t&&(this.scale="millisecond",this.step=10),5>t&&(this.scale="millisecond",this.step=5),1>t&&(this.scale="millisecond",this.step=1))},o.snap=function(t,e,i){var o=n(t);if("year"==e){var r=o.year()+Math.round(o.month()/12);o.year(Math.round(r/i)*i),o.month(0),o.date(0),o.hours(0),o.minutes(0),o.seconds(0),o.milliseconds(0)}else if("month"==e)o.date()>15?(o.date(1),o.add(1,"month")):o.date(1),o.hours(0),o.minutes(0),o.seconds(0),o.milliseconds(0);else if("week"==e)o.weekday()>2?(o.weekday(0),o.add(1,"week")):o.weekday(0),o.hours(0),o.minutes(0),o.seconds(0),o.milliseconds(0);else if("day"==e){switch(i){case 5:case 2:o.hours(24*Math.round(o.hours()/24));break;default:o.hours(12*Math.round(o.hours()/12))}o.minutes(0),o.seconds(0),o.milliseconds(0)}else if("weekday"==e){switch(i){case 5:case 2:o.hours(12*Math.round(o.hours()/12));break;default:o.hours(6*Math.round(o.hours()/6))}o.minutes(0),o.seconds(0),o.milliseconds(0)}else if("hour"==e){switch(i){case 4:o.minutes(60*Math.round(o.minutes()/60));break;default:o.minutes(30*Math.round(o.minutes()/30))}o.seconds(0),o.milliseconds(0)}else if("minute"==e){switch(i){case 15:case 10:o.minutes(5*Math.round(o.minutes()/5)),o.seconds(0);break;case 5:o.seconds(60*Math.round(o.seconds()/60));break;default:o.seconds(30*Math.round(o.seconds()/30))}o.milliseconds(0)}else if("second"==e)switch(i){case 15:case 10:o.seconds(5*Math.round(o.seconds()/5)),o.milliseconds(0);break;case 5:o.milliseconds(1e3*Math.round(o.milliseconds()/1e3));break;default:o.milliseconds(500*Math.round(o.milliseconds()/500))}else if("millisecond"==e){var s=i>5?i/2:1;o.milliseconds(Math.round(o.milliseconds()/s)*s)}return o},o.prototype.isMajor=function(){if(1==this.switchedYear)switch(this.scale){case"year":case"month":case"week":case"weekday":case"day":case"hour":case"minute":case"second":case"millisecond":return!0;default:return!1}else if(1==this.switchedMonth)switch(this.scale){case"week":case"weekday":case"day":case"hour":case"minute":case"second":case"millisecond":return!0;default:return!1}else if(1==this.switchedDay)switch(this.scale){case"millisecond":case"second":case"minute":case"hour":return!0;default:return!1}var t=this.moment(this.current);switch(this.scale){case"millisecond":return 0==t.milliseconds();case"second":return 0==t.seconds();case"minute":return 0==t.hours()&&0==t.minutes();case"hour":return 0==t.hours();case"weekday":case"day":case"week":return 1==t.date();case"month":return 0==t.month();case"year":default:return!1}},o.prototype.getLabelMinor=function(t){if(void 0==t&&(t=this.current),t instanceof Date&&(t=this.moment(t)),"function"==typeof this.format.minorLabels)return this.format.minorLabels(t,this.scale,this.step);var e=this.format.minorLabels[this.scale];switch(this.scale){case"week":if(this.isMajor()&&0!==t.weekday())return"";default:return e&&e.length>0?this.moment(t).format(e):""}},o.prototype.getLabelMajor=function(t){if(void 0==t&&(t=this.current),t instanceof Date&&(t=this.moment(t)),"function"==typeof this.format.majorLabels)return this.format.majorLabels(t,this.scale,this.step);var e=this.format.majorLabels[this.scale];return e&&e.length>0?this.moment(t).format(e):""},o.prototype.getClassName=function(){function t(t){return t/a%2==0?" vis-even":" vis-odd"}function e(t){return t.isSame(new Date,"day")?" vis-today":t.isSame(n().add(1,"day"),"day")?" vis-tomorrow":t.isSame(n().add(-1,"day"),"day")?" vis-yesterday":""}function i(t){return t.isSame(new Date,"week")?" vis-current-week":""}function o(t){return t.isSame(new Date,"month")?" vis-current-month":""}var n=this.moment,r=this.moment(this.current),s=r.locale?r.locale("en"):r.lang("en"),a=this.step,h=[];switch(this.scale){case"millisecond":h.push(e(s)),h.push(t(s.milliseconds()));break;case"second":h.push(e(s)),h.push(t(s.seconds()));break;case"minute":h.push(e(s)),h.push(t(s.minutes()));break;case"hour":h.push("vis-h"+s.hours()+(4==this.step?"-h"+(s.hours()+4):"")),h.push(e(s)),h.push(t(s.hours()));break;case"weekday":h.push("vis-"+s.format("dddd").toLowerCase()),h.push(e(s)),h.push(i(s)),h.push(t(s.date()));break;case"day":h.push("vis-day"+s.date()),h.push("vis-"+s.format("MMMM").toLowerCase()),h.push(e(s)),h.push(o(s)),h.push(this.step<=2?e(s):""),h.push(this.step<=2?"vis-"+s.format("dddd").toLowerCase():""),h.push(t(s.date()-1));break;case"week":h.push("vis-week"+s.format("w")),h.push(i(s)),h.push(t(s.week()));break;case"month":h.push("vis-"+s.format("MMMM").toLowerCase()),h.push(o(s)),h.push(t(s.month()));break;case"year":h.push("vis-year"+s.year()),h.push(s.isSame(new Date,"year")?" vis-current-year":""),h.push(t(s.year()))}return h.filter(String).join(" ")},t.exports=o},function(t,e,i){function o(t,e){this.body=t,this.defaultOptions={rtl:!1,showCurrentTime:!0,moment:s,locales:a,locale:"en"},this.options=n.extend({},this.defaultOptions),this.offset=0,this._create(),this.setOptions(e)}var n=i(2),r=i(16),s=i(9),a=i(98);(o.prototype=new r)._create=function(){var t=document.createElement("div");t.className="vis-current-time",t.style.position="absolute",t.style.top="0px",t.style.height="100%",this.bar=t},o.prototype.destroy=function(){this.options.showCurrentTime=!1,this.redraw(),this.body=null},o.prototype.setOptions=function(t){t&&n.selectiveExtend(["rtl","showCurrentTime","moment","locale","locales"],this.options,t)},o.prototype.redraw=function(){if(this.options.showCurrentTime){var t=this.body.dom.backgroundVertical;this.bar.parentNode!=t&&(this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),t.appendChild(this.bar),this.start());var e=this.options.moment((new Date).valueOf()+this.offset),i=this.body.util.toScreen(e),o=this.options.locales[this.options.locale];o||(this.warned||(console.log("WARNING: options.locales['"+this.options.locale+"'] not found. See http://visjs.org/docs/timeline/#Localization"),this.warned=!0),o=this.options.locales.en);var n=o.current+" "+o.time+": "+e.format("dddd, MMMM Do YYYY, H:mm:ss");n=n.charAt(0).toUpperCase()+n.substring(1),this.options.rtl?this.bar.style.right=i+"px":this.bar.style.left=i+"px",this.bar.title=n}else this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),this.stop();return!1},o.prototype.start=function(){var t=this;!function e(){t.stop();var i=1/t.body.range.conversion(t.body.domProps.center.width).scale/10;i<30&&(i=30),i>1e3&&(i=1e3),t.redraw(),t.body.emitter.emit("currentTimeTick"),t.currentTimeTimer=setTimeout(e,i)}()},o.prototype.stop=function(){void 0!==this.currentTimeTimer&&(clearTimeout(this.currentTimeTimer),delete this.currentTimeTimer)},o.prototype.setCurrentTime=function(t){var e=n.convert(t,"Date").valueOf(),i=(new Date).valueOf();this.offset=e-i,this.redraw()},o.prototype.getCurrentTime=function(){return new Date((new Date).valueOf()+this.offset)},t.exports=o},function(t,e,i){function o(t,e,i){if(this.groupId=t,this.subgroups={},this.subgroupStack={},this.subgroupStackAll=!1,this.doInnerStack=!1,this.subgroupIndex=0,this.subgroupOrderer=e&&e.subgroupOrder,this.itemSet=i,this.isVisible=null,this.stackDirty=!0,e&&e.nestedGroups&&(this.nestedGroups=e.nestedGroups,this.showNested=0!=e.showNested),e&&e.subgroupStack)if("boolean"==typeof e.subgroupStack)this.doInnerStack=e.subgroupStack,this.subgroupStackAll=e.subgroupStack;else for(var o in e.subgroupStack)this.subgroupStack[o]=e.subgroupStack[o],this.doInnerStack=this.doInnerStack||e.subgroupStack[o];this.nestedInGroup=null,this.dom={},this.props={label:{width:0,height:0}},this.className=null,this.items={},this.visibleItems=[],this.itemsInRange=[],this.orderedItems={byStart:[],byEnd:[]},this.checkRangedItems=!1;var n=this;this.itemSet.body.emitter.on("checkRangedItems",function(){n.checkRangedItems=!0}),this._create(),this.setData(e)}var n=i(8),r=n&&n.__esModule?n:{default:n},s=i(2),a=i(100);o.prototype._create=function(){var t=document.createElement("div");t.className=this.itemSet.options.groupEditable.order?"vis-label draggable":"vis-label",this.dom.label=t;var e=document.createElement("div");e.className="vis-inner",t.appendChild(e),this.dom.inner=e;var i=document.createElement("div");i.className="vis-group",i["timeline-group"]=this,this.dom.foreground=i,this.dom.background=document.createElement("div"),this.dom.background.className="vis-group",this.dom.axis=document.createElement("div"),this.dom.axis.className="vis-group",this.dom.marker=document.createElement("div"),this.dom.marker.style.visibility="hidden",this.dom.marker.style.position="absolute",this.dom.marker.innerHTML="",this.dom.background.appendChild(this.dom.marker)},o.prototype.setData=function(t){var e,i;if((e=this.itemSet.options&&this.itemSet.options.groupTemplate?(i=this.itemSet.options.groupTemplate.bind(this))(t,this.dom.inner):t&&t.content)instanceof Element){for(this.dom.inner.appendChild(e);this.dom.inner.firstChild;)this.dom.inner.removeChild(this.dom.inner.firstChild);this.dom.inner.appendChild(e)}else e instanceof Object?i(t,this.dom.inner):this.dom.inner.innerHTML=void 0!==e&&null!==e?e:this.groupId||"";if(this.dom.label.title=t&&t.title||"",this.dom.inner.firstChild?s.removeClassName(this.dom.inner,"vis-hidden"):s.addClassName(this.dom.inner,"vis-hidden"),t&&t.nestedGroups){this.nestedGroups&&this.nestedGroups==t.nestedGroups||(this.nestedGroups=t.nestedGroups),void 0===t.showNested&&void 0!==this.showNested||(this.showNested=0!=t.showNested),s.addClassName(this.dom.label,"vis-nesting-group");var o=this.itemSet.options.rtl?"collapsed-rtl":"collapsed";this.showNested?(s.removeClassName(this.dom.label,o),s.addClassName(this.dom.label,"expanded")):(s.removeClassName(this.dom.label,"expanded"),s.addClassName(this.dom.label,o))}else this.nestedGroups&&(this.nestedGroups=null,s.removeClassName(this.dom.label,o=this.itemSet.options.rtl?"collapsed-rtl":"collapsed"),s.removeClassName(this.dom.label,"expanded"),s.removeClassName(this.dom.label,"vis-nesting-group"));t&&t.nestedInGroup&&(s.addClassName(this.dom.label,"vis-nested-group"),this.itemSet.options&&this.itemSet.options.rtl?this.dom.inner.style.paddingRight="30px":this.dom.inner.style.paddingLeft="30px");var n=t&&t.className||null;n!=this.className&&(this.className&&(s.removeClassName(this.dom.label,this.className),s.removeClassName(this.dom.foreground,this.className),s.removeClassName(this.dom.background,this.className),s.removeClassName(this.dom.axis,this.className)),s.addClassName(this.dom.label,n),s.addClassName(this.dom.foreground,n),s.addClassName(this.dom.background,n),s.addClassName(this.dom.axis,n),this.className=n),this.style&&(s.removeCssText(this.dom.label,this.style),this.style=null),t&&t.style&&(s.addCssText(this.dom.label,t.style),this.style=t.style)},o.prototype.getLabelWidth=function(){return this.props.label.width},o.prototype._didMarkerHeightChange=function(){var t=this.dom.marker.clientHeight;if(t!=this.lastMarkerHeight){this.lastMarkerHeight=t;var e={},i=0;if(s.forEach(this.items,function(t,o){t.dirty=!0,t.displayed&&(e[o]=t.redraw(!0),i=e[o].length)}),i>0)for(var o=0;o<i;o++)s.forEach(e,function(t){t[o]()});return!0}},o.prototype._calculateGroupSizeAndPosition=function(){var t=this.dom.foreground.offsetLeft,e=this.dom.foreground.offsetWidth;this.top=this.dom.foreground.offsetTop,this.right=t,this.width=e},o.prototype._redrawItems=function(t,e,i,o){if(t||this.stackDirty||this.isVisible&&!e){var n={},r=null;if("function"==typeof this.itemSet.options.order){var h=this,l={},p=0;if(s.forEach(this.items,function(t,e){t.displayed||(l[e]=t.redraw(!0),p=l[e].length,h.visibleItems.push(t))}),p>0)for(var u=0;u<p;u++)s.forEach(l,function(t){t[u]()});if(s.forEach(this.items,function(t){t.repositionX(!1)}),this.doInnerStack&&this.itemSet.options.stackSubgroups){for(r in this.subgroups)n[r]=this.subgroups[r].items.slice().sort(function(t,e){return h.itemSet.options.order(t.data,e.data)});a.stackSubgroupsWithInnerStack(n,i,this.subgroups)}else{var d=this.orderedItems.byStart.slice().sort(function(t,e){return h.itemSet.options.order(t.data,e.data)});a.stack(d,i,!0)}this.visibleItems=this._updateItemsInRange(this.orderedItems,this.visibleItems,o)}else if(this.visibleItems=this._updateItemsInRange(this.orderedItems,this.visibleItems,o),this.itemSet.options.stack)if(this.doInnerStack&&this.itemSet.options.stackSubgroups){for(r in this.subgroups)n[r]=this.subgroups[r].items;a.stackSubgroupsWithInnerStack(n,i,this.subgroups)}else a.stack(this.visibleItems,i,!0);else a.nostack(this.visibleItems,i,this.subgroups,this.itemSet.options.stackSubgroups);this.stackDirty=!1}},o.prototype._didResize=function(t,e){t=s.updateProperty(this,"height",e)||t;var i=this.dom.inner.clientHeight;return t=s.updateProperty(this.props.label,"width",this.dom.inner.clientWidth)||t,s.updateProperty(this.props.label,"height",i)||t},o.prototype._applyGroupHeight=function(t){this.dom.background.style.height=t+"px",this.dom.foreground.style.height=t+"px",this.dom.label.style.height=t+"px"},o.prototype._updateItemsVerticalPosition=function(t){for(var e=0,i=this.visibleItems.length;e<i;e++){var o=this.visibleItems[e];o.repositionY(t),this.isVisible||"__background__"==this.groupId||o.displayed&&o.hide()}},o.prototype.redraw=function(t,e,i,o){var n,r,s=!1,a=this.isVisible,h=[(function(){i=this._didMarkerHeightChange.bind(this)}).bind(this),this._updateSubGroupHeights.bind(this,e),this._calculateGroupSizeAndPosition.bind(this),(function(){this.isVisible=this._isGroupVisible.bind(this)(t,e)}).bind(this),(function(){this._redrawItems.bind(this)(i,a,e,t)}).bind(this),this._updateSubgroupsSizes.bind(this),(function(){n=this._calculateHeight.bind(this)(e)}).bind(this),this._calculateGroupSizeAndPosition.bind(this),(function(){s=this._didResize.bind(this)(s,n)}).bind(this),(function(){this._applyGroupHeight.bind(this)(n)}).bind(this),(function(){this._updateItemsVerticalPosition.bind(this)(e)}).bind(this),function(){return!this.isVisible&&this.height&&(s=!1),s}];return o?h:(h.forEach(function(t){r=t()}),r)},o.prototype._updateSubGroupHeights=function(t){if((0,r.default)(this.subgroups).length>0){var e=this;this.resetSubgroups(),s.forEach(this.visibleItems,function(i){void 0!==i.data.subgroup&&(e.subgroups[i.data.subgroup].height=Math.max(e.subgroups[i.data.subgroup].height,i.height+t.item.vertical),e.subgroups[i.data.subgroup].visible=!0)})}},o.prototype._isGroupVisible=function(t,e){return this.top<=t.body.domProps.centerContainer.height-t.body.domProps.scrollTop+e.axis&&this.top+this.height+e.axis>=-t.body.domProps.scrollTop},o.prototype._calculateHeight=function(t){var e,i=this.visibleItems;if(i.length>0){var o=i[0].top,n=i[0].top+i[0].height;if(s.forEach(i,function(t){o=Math.min(o,t.top),n=Math.max(n,t.top+t.height)}),o>t.axis){var r=o-t.axis;n-=r,s.forEach(i,function(t){t.top-=r})}e=n+t.item.vertical/2}else e=0;return Math.max(e,this.props.label.height)},o.prototype.show=function(){this.dom.label.parentNode||this.itemSet.dom.labelSet.appendChild(this.dom.label),this.dom.foreground.parentNode||this.itemSet.dom.foreground.appendChild(this.dom.foreground),this.dom.background.parentNode||this.itemSet.dom.background.appendChild(this.dom.background),this.dom.axis.parentNode||this.itemSet.dom.axis.appendChild(this.dom.axis)},o.prototype.hide=function(){var t=this.dom.label;t.parentNode&&t.parentNode.removeChild(t);var e=this.dom.foreground;e.parentNode&&e.parentNode.removeChild(e);var i=this.dom.background;i.parentNode&&i.parentNode.removeChild(i);var o=this.dom.axis;o.parentNode&&o.parentNode.removeChild(o)},o.prototype.add=function(t){this.items[t.id]=t,t.setParent(this),this.stackDirty=!0,void 0!==t.data.subgroup&&(this._addToSubgroup(t),this.orderSubgroups()),-1==this.visibleItems.indexOf(t)&&this._checkIfVisible(t,this.visibleItems,this.itemSet.body.range)},o.prototype._addToSubgroup=function(t,e){void 0!=(e=e||t.data.subgroup)&&void 0===this.subgroups[e]&&(this.subgroups[e]={height:0,top:0,start:t.data.start,end:t.data.end||t.data.start,visible:!1,index:this.subgroupIndex,items:[],stack:this.subgroupStackAll||this.subgroupStack[e]||!1},this.subgroupIndex++),new Date(t.data.start)<new Date(this.subgroups[e].start)&&(this.subgroups[e].start=t.data.start);var i=t.data.end||t.data.start;new Date(i)>new Date(this.subgroups[e].end)&&(this.subgroups[e].end=i),this.subgroups[e].items.push(t)},o.prototype._updateSubgroupsSizes=function(){var t=this;if(t.subgroups)for(var e in t.subgroups){var i=t.subgroups[e].items[0].data.start,o=(t.subgroups[e].items[0].data.end||t.subgroups[e].items[0].data.start)-1;t.subgroups[e].items.forEach(function(t){new Date(t.data.start)<new Date(i)&&(i=t.data.start);var e=t.data.end||t.data.start;new Date(e)>new Date(o)&&(o=e)}),t.subgroups[e].start=i,t.subgroups[e].end=new Date(o-1)}},o.prototype.orderSubgroups=function(){if(void 0!==this.subgroupOrderer){var t,e=[];if("string"==typeof this.subgroupOrderer){for(t in this.subgroups)e.push({subgroup:t,sortField:this.subgroups[t].items[0].data[this.subgroupOrderer]});e.sort(function(t,e){return t.sortField-e.sortField})}else if("function"==typeof this.subgroupOrderer){for(t in this.subgroups)e.push(this.subgroups[t].items[0].data);e.sort(this.subgroupOrderer)}if(e.length>0)for(var i=0;i<e.length;i++)this.subgroups[e[i].subgroup].index=i}},o.prototype.resetSubgroups=function(){for(var t in this.subgroups)this.subgroups.hasOwnProperty(t)&&(this.subgroups[t].visible=!1,this.subgroups[t].height=0)},o.prototype.remove=function(t){delete this.items[t.id],t.setParent(null),this.stackDirty=!0;var e=this.visibleItems.indexOf(t);-1!=e&&this.visibleItems.splice(e,1),void 0!==t.data.subgroup&&(this._removeFromSubgroup(t),this.orderSubgroups())},o.prototype._removeFromSubgroup=function(t,e){if(void 0!=(e=e||t.data.subgroup)){var i=this.subgroups[e];if(i){var o=i.items.indexOf(t);o>=0&&(i.items.splice(o,1),i.items.length?this._updateSubgroupsSizes():delete this.subgroups[e])}}},o.prototype.removeFromDataSet=function(t){this.itemSet.removeItem(t.id)},o.prototype.order=function(){for(var t=s.toArray(this.items),e=[],i=[],o=0;o<t.length;o++)void 0!==t[o].data.end&&i.push(t[o]),e.push(t[o]);this.orderedItems={byStart:e,byEnd:i},a.orderByStart(this.orderedItems.byStart),a.orderByEnd(this.orderedItems.byEnd)},o.prototype._updateItemsInRange=function(t,e,i){var o=[],n={},r=(i.end-i.start)/4,a=i.start-r,h=i.end+r,l=function(t){return t<a?-1:t<=h?0:1};if(e.length>0)for(var p=0;p<e.length;p++)this._checkIfVisibleWithReference(e[p],o,n,i);var u=s.binarySearchCustom(t.byStart,l,"data","start");if(this._traceVisible(u,t.byStart,o,n,function(t){return t.data.start<a||t.data.start>h}),1==this.checkRangedItems)for(this.checkRangedItems=!1,p=0;p<t.byEnd.length;p++)this._checkIfVisibleWithReference(t.byEnd[p],o,n,i);else{var d=s.binarySearchCustom(t.byEnd,l,"data","end");this._traceVisible(d,t.byEnd,o,n,function(t){return t.data.end<a||t.data.end>h})}var c={},f=0;for(p=0;p<o.length;p++){var y=o[p];y.displayed||(c[p]=y.redraw(!0),f=c[p].length)}if(f>0)for(var g=0;g<f;g++)s.forEach(c,function(t){t[g]()});for(p=0;p<o.length;p++)o[p].repositionX();return o},o.prototype._traceVisible=function(t,e,i,o,n){if(-1!=t){var r,s;for(r=t;r>=0&&!n(s=e[r]);r--)void 0===o[s.id]&&(o[s.id]=!0,i.push(s));for(r=t+1;r<e.length&&!n(s=e[r]);r++)void 0===o[s.id]&&(o[s.id]=!0,i.push(s))}},o.prototype._checkIfVisible=function(t,e,i){t.isVisible(i)?(t.displayed||t.show(),t.repositionX(),e.push(t)):t.displayed&&t.hide()},o.prototype._checkIfVisibleWithReference=function(t,e,i,o){t.isVisible(o)?void 0===i[t.id]&&(i[t.id]=!0,e.push(t)):t.displayed&&t.hide()},o.prototype.changeSubgroup=function(t,e,i){this._removeFromSubgroup(t,e),this._addToSubgroup(t,i),this.orderSubgroups()},t.exports=o},function(t,e,i){function o(t,e,i){s.call(this,t,e,i),this.width=0,this.height=0,this.top=0,this.left=0}var n=i(29),r=n&&n.__esModule?n:{default:n},s=i(68);(o.prototype=(0,r.default)(s.prototype)).redraw=function(t,e,i){this.visibleItems=this._updateItemsInRange(this.orderedItems,this.visibleItems,t),this.width=this.dom.background.offsetWidth,this.dom.background.style.height="0";for(var o=0,n=this.visibleItems.length;o<n;o++)this.visibleItems[o].repositionY(e);return!1},o.prototype.show=function(){this.dom.background.parentNode||this.itemSet.dom.background.appendChild(this.dom.background)},t.exports=o},function(t,e,i){function o(t,e,i){if(this.props={content:{width:0}},this.overflow=!1,this.options=i,t){if(void 0==t.start)throw new Error('Property "start" missing in item '+t.id);if(void 0==t.end)throw new Error('Property "end" missing in item '+t.id)}n.call(this,t,e,i)}var n=i(38);(o.prototype=new n(null,null,null)).baseClassName="vis-item vis-range",o.prototype.isVisible=function(t){return this.data.start<t.end&&this.data.end>t.start},o.prototype._createDomElement=function(){this.dom||(this.dom={},this.dom.box=document.createElement("div"),this.dom.frame=document.createElement("div"),this.dom.frame.className="vis-item-overflow",this.dom.box.appendChild(this.dom.frame),this.dom.visibleFrame=document.createElement("div"),this.dom.visibleFrame.className="vis-item-visible-frame",this.dom.box.appendChild(this.dom.visibleFrame),this.dom.content=document.createElement("div"),this.dom.content.className="vis-item-content",this.dom.frame.appendChild(this.dom.content),this.dom.box["timeline-item"]=this,this.dirty=!0)},o.prototype._appendDomElement=function(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.box.parentNode){var t=this.parent.dom.foreground;if(!t)throw new Error("Cannot redraw item: parent has no foreground container element");t.appendChild(this.dom.box)}this.displayed=!0},o.prototype._updateDirtyDomComponents=function(){this.dirty&&(this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.box),this._updateStyle(this.dom.box),this.dom.box.className=this.baseClassName+(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(this.editable.updateTime||this.editable.updateGroup?" vis-editable":" vis-readonly"),this.dom.content.style.maxWidth="none")},o.prototype._getDomComponentsSizes=function(){return this.overflow="hidden"!==window.getComputedStyle(this.dom.frame).overflow,{content:{width:this.dom.content.offsetWidth},box:{height:this.dom.box.offsetHeight}}},o.prototype._updateDomComponentsSizes=function(t){this.props.content.width=t.content.width,this.height=t.box.height,this.dom.content.style.maxWidth="",this.dirty=!1},o.prototype._repaintDomAdditionals=function(){this._repaintOnItemUpdateTimeTooltip(this.dom.box),this._repaintDeleteButton(this.dom.box),this._repaintDragCenter(),this._repaintDragLeft(),this._repaintDragRight()},o.prototype.redraw=function(t){var e,i,o=[this._createDomElement.bind(this),this._appendDomElement.bind(this),this._updateDirtyDomComponents.bind(this),(function(){this.dirty&&(e=this._getDomComponentsSizes.bind(this)())}).bind(this),(function(){this.dirty&&this._updateDomComponentsSizes.bind(this)(e)}).bind(this),this._repaintDomAdditionals.bind(this)];return t?o:(o.forEach(function(t){i=t()}),i)},o.prototype.show=function(){this.displayed||this.redraw()},o.prototype.hide=function(){if(this.displayed){var t=this.dom.box;t.parentNode&&t.parentNode.removeChild(t),this.displayed=!1}},o.prototype.repositionX=function(t){var e,i,o=this.parent.width,n=this.conversion.toScreen(this.data.start),r=this.conversion.toScreen(this.data.end),s=void 0===this.data.align?this.options.align:this.data.align;!1===this.data.limitSize||void 0!==t&&!0!==t||(n<-o&&(n=-o),r>2*o&&(r=2*o));var a=Math.max(r-n+.5,1);switch(this.overflow?(this.options.rtl?this.right=n:this.left=n,this.width=a+this.props.content.width,i=this.props.content.width):(this.options.rtl?this.right=n:this.left=n,this.width=a,i=Math.min(r-n,this.props.content.width)),this.options.rtl?this.dom.box.style.right=this.right+"px":this.dom.box.style.left=this.left+"px",this.dom.box.style.width=a+"px",s){case"left":this.options.rtl?this.dom.content.style.right="0":this.dom.content.style.left="0";break;case"right":this.options.rtl?this.dom.content.style.right=Math.max(a-i,0)+"px":this.dom.content.style.left=Math.max(a-i,0)+"px";break;case"center":this.options.rtl?this.dom.content.style.right=Math.max((a-i)/2,0)+"px":this.dom.content.style.left=Math.max((a-i)/2,0)+"px";break;default:e=this.overflow?r>0?Math.max(-n,0):-i:n<0?-n:0,this.options.rtl?this.dom.content.style.right=e+"px":(this.dom.content.style.left=e+"px",this.dom.content.style.width="calc(100% - "+e+"px)")}},o.prototype.repositionY=function(){this.dom.box.style.top="top"==this.options.orientation.item?this.top+"px":this.parent.height-this.top-this.height+"px"},o.prototype._repaintDragLeft=function(){if((this.selected||this.options.itemsAlwaysDraggable.range)&&this.options.editable.updateTime&&!this.dom.dragLeft){var t=document.createElement("div");t.className="vis-drag-left",t.dragLeftItem=this,this.dom.box.appendChild(t),this.dom.dragLeft=t}else this.selected||this.options.itemsAlwaysDraggable.range||!this.dom.dragLeft||(this.dom.dragLeft.parentNode&&this.dom.dragLeft.parentNode.removeChild(this.dom.dragLeft),this.dom.dragLeft=null)},o.prototype._repaintDragRight=function(){if((this.selected||this.options.itemsAlwaysDraggable.range)&&this.options.editable.updateTime&&!this.dom.dragRight){var t=document.createElement("div");t.className="vis-drag-right",t.dragRightItem=this,this.dom.box.appendChild(t),this.dom.dragRight=t}else this.selected||this.options.itemsAlwaysDraggable.range||!this.dom.dragRight||(this.dom.dragRight.parentNode&&this.dom.dragRight.parentNode.removeChild(this.dom.dragRight),this.dom.dragRight=null)},t.exports=o},function(t,e,i){function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=o(i(19)),r=o(i(6)),s=o(i(0)),a=o(i(1)),h=i(2),l=i(179).default,p=function(){function t(e,i,o){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;(0,s.default)(this,t),this.parent=e,this.changedOptions=[],this.container=i,this.allowCreation=!1,this.options={},this.initialized=!1,this.popupCounter=0,this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},h.extend(this.options,this.defaultOptions),this.configureOptions=o,this.moduleOptions={},this.domElements=[],this.popupDiv={},this.popupLimit=5,this.popupHistory={},this.colorPicker=new l(n),this.wrapper=void 0}return(0,a.default)(t,[{key:"setOptions",value:function(t){if(void 0!==t){this.popupHistory={},this._removePopup();var e=!0;"string"==typeof t?this.options.filter=t:t instanceof Array?this.options.filter=t.join():"object"===(void 0===t?"undefined":(0,r.default)(t))?(void 0!==t.container&&(this.options.container=t.container),void 0!==t.filter&&(this.options.filter=t.filter),void 0!==t.showButton&&(this.options.showButton=t.showButton),void 0!==t.enabled&&(e=t.enabled)):"boolean"==typeof t?(this.options.filter=!0,e=t):"function"==typeof t&&(this.options.filter=t,e=!0),!1===this.options.filter&&(e=!1),this.options.enabled=e}this._clean()}},{key:"setModuleOptions",value:function(t){this.moduleOptions=t,!0===this.options.enabled&&(this._clean(),void 0!==this.options.container&&(this.container=this.options.container),this._create())}},{key:"_create",value:function(){var t=this;this._clean(),this.changedOptions=[];var e=this.options.filter,i=0,o=!1;for(var n in this.configureOptions)this.configureOptions.hasOwnProperty(n)&&(this.allowCreation=!1,o=!1,"function"==typeof e?o=(o=e(n,[]))||this._handleObject(this.configureOptions[n],[n],!0):!0!==e&&-1===e.indexOf(n)||(o=!0),!1!==o&&(this.allowCreation=!0,i>0&&this._makeItem([]),this._makeHeader(n),this._handleObject(this.configureOptions[n],[n])),i++);if(!0===this.options.showButton){var r=document.createElement("div");r.className="vis-configuration vis-config-button",r.innerHTML="generate options",r.onclick=function(){t._printOptions()},r.onmouseover=function(){r.className="vis-configuration vis-config-button hover"},r.onmouseout=function(){r.className="vis-configuration vis-config-button"},this.optionsContainer=document.createElement("div"),this.optionsContainer.className="vis-configuration vis-config-option-container",this.domElements.push(this.optionsContainer),this.domElements.push(r)}this._push()}},{key:"_push",value:function(){this.wrapper=document.createElement("div"),this.wrapper.className="vis-configuration-wrapper",this.container.appendChild(this.wrapper);for(var t=0;t<this.domElements.length;t++)this.wrapper.appendChild(this.domElements[t]);this._showPopupIfNeeded()}},{key:"_clean",value:function(){for(var t=0;t<this.domElements.length;t++)this.wrapper.removeChild(this.domElements[t]);void 0!==this.wrapper&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[],this._removePopup()}},{key:"_getValue",value:function(t){for(var e=this.moduleOptions,i=0;i<t.length;i++){if(void 0===e[t[i]]){e=void 0;break}e=e[t[i]]}return e}},{key:"_makeItem",value:function(t){if(!0===this.allowCreation){var e=document.createElement("div");e.className="vis-configuration vis-config-item vis-config-s"+t.length;for(var i=arguments.length,o=Array(i>1?i-1:0),n=1;n<i;n++)o[n-1]=arguments[n];return o.forEach(function(t){e.appendChild(t)}),this.domElements.push(e),this.domElements.length}return 0}},{key:"_makeHeader",value:function(t){var e=document.createElement("div");e.className="vis-configuration vis-config-header",e.innerHTML=t,this._makeItem([],e)}},{key:"_makeLabel",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=document.createElement("div");return o.className="vis-configuration vis-config-label vis-config-s"+e.length,o.innerHTML=!0===i?"<i><b>"+t+":</b></i>":t+":",o}},{key:"_makeDropdown",value:function(t,e,i){var o=document.createElement("select");o.className="vis-configuration vis-config-select";var n=0;void 0!==e&&-1!==t.indexOf(e)&&(n=t.indexOf(e));for(var r=0;r<t.length;r++){var s=document.createElement("option");s.value=t[r],r===n&&(s.selected="selected"),s.innerHTML=t[r],o.appendChild(s)}var a=this;o.onchange=function(){a._update(this.value,i)};var h=this._makeLabel(i[i.length-1],i);this._makeItem(i,h,o)}},{key:"_makeRange",value:function(t,e,i){var o=t[0],n=t[1],r=t[2],s=t[3],a=document.createElement("input");a.className="vis-configuration vis-config-range";try{a.type="range",a.min=n,a.max=r}catch(t){}a.step=s;var h="",l=0;void 0!==e?(e<0&&1.2*e<n?(a.min=Math.ceil(1.2*e),l=a.min,h="range increased"):e/1.2<n&&(a.min=Math.ceil(e/1.2),l=a.min,h="range increased"),1.2*e>r&&1!==r&&(a.max=Math.ceil(1.2*e),l=a.max,h="range increased"),a.value=e):a.value=o;var p=document.createElement("input");p.className="vis-configuration vis-config-rangeinput",p.value=a.value;var u=this;a.onchange=function(){p.value=this.value,u._update(Number(this.value),i)},a.oninput=function(){p.value=this.value};var d=this._makeLabel(i[i.length-1],i),c=this._makeItem(i,d,a,p);""!==h&&this.popupHistory[c]!==l&&(this.popupHistory[c]=l,this._setupPopup(h,c))}},{key:"_setupPopup",value:function(t,e){var i=this;if(!0===this.initialized&&!0===this.allowCreation&&this.popupCounter<this.popupLimit){var o=document.createElement("div");o.id="vis-configuration-popup",o.className="vis-configuration-popup",o.innerHTML=t,o.onclick=function(){i._removePopup()},this.popupCounter+=1,this.popupDiv={html:o,index:e}}}},{key:"_removePopup",value:function(){void 0!==this.popupDiv.html&&(this.popupDiv.html.parentNode.removeChild(this.popupDiv.html),clearTimeout(this.popupDiv.hideTimeout),clearTimeout(this.popupDiv.deleteTimeout),this.popupDiv={})}},{key:"_showPopupIfNeeded",value:function(){var t=this;if(void 0!==this.popupDiv.html){var e=this.domElements[this.popupDiv.index].getBoundingClientRect();this.popupDiv.html.style.left=e.left+"px",this.popupDiv.html.style.top=e.top-30+"px",document.body.appendChild(this.popupDiv.html),this.popupDiv.hideTimeout=setTimeout(function(){t.popupDiv.html.style.opacity=0},1500),this.popupDiv.deleteTimeout=setTimeout(function(){t._removePopup()},1800)}}},{key:"_makeCheckbox",value:function(t,e,i){var o=document.createElement("input");o.type="checkbox",o.className="vis-configuration vis-config-checkbox",o.checked=t,void 0!==e&&(o.checked=e,e!==t&&("object"===(void 0===t?"undefined":(0,r.default)(t))?e!==t.enabled&&this.changedOptions.push({path:i,value:e}):this.changedOptions.push({path:i,value:e})));var n=this;o.onchange=function(){n._update(this.checked,i)};var s=this._makeLabel(i[i.length-1],i);this._makeItem(i,s,o)}},{key:"_makeTextInput",value:function(t,e,i){var o=document.createElement("input");o.type="text",o.className="vis-configuration vis-config-text",o.value=e,e!==t&&this.changedOptions.push({path:i,value:e});var n=this;o.onchange=function(){n._update(this.value,i)};var r=this._makeLabel(i[i.length-1],i);this._makeItem(i,r,o)}},{key:"_makeColorField",value:function(t,e,i){var o=this,n=t[1],r=document.createElement("div");"none"!==(e=void 0===e?n:e)?(r.className="vis-configuration vis-config-colorBlock",r.style.backgroundColor=e):r.className="vis-configuration vis-config-colorBlock none",e=void 0===e?n:e,r.onclick=function(){o._showColorPicker(e,r,i)};var s=this._makeLabel(i[i.length-1],i);this._makeItem(i,s,r)}},{key:"_showColorPicker",value:function(t,e,i){var o=this;e.onclick=function(){},this.colorPicker.insertTo(e),this.colorPicker.show(),this.colorPicker.setColor(t),this.colorPicker.setUpdateCallback(function(t){var n="rgba("+t.r+","+t.g+","+t.b+","+t.a+")";e.style.backgroundColor=n,o._update(n,i)}),this.colorPicker.setCloseCallback(function(){e.onclick=function(){o._showColorPicker(t,e,i)}})}},{key:"_handleObject",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=!1,n=this.options.filter,r=!1;for(var s in t)if(t.hasOwnProperty(s)){o=!0;var a=t[s],l=h.copyAndExtendArray(e,s);if("function"==typeof n&&!1===(o=n(s,e))&&!(a instanceof Array)&&"string"!=typeof a&&"boolean"!=typeof a&&a instanceof Object&&(this.allowCreation=!1,o=this._handleObject(a,l,!0),this.allowCreation=!1===i),!1!==o){r=!0;var p=this._getValue(l);if(a instanceof Array)this._handleArray(a,p,l);else if("string"==typeof a)this._makeTextInput(a,p,l);else if("boolean"==typeof a)this._makeCheckbox(a,p,l);else if(a instanceof Object){var u=!0;if(-1!==e.indexOf("physics")&&this.moduleOptions.physics.solver!==s&&(u=!1),!0===u)if(void 0!==a.enabled){var d=h.copyAndExtendArray(l,"enabled"),c=this._getValue(d);if(!0===c){var f=this._makeLabel(s,l,!0);this._makeItem(l,f),r=this._handleObject(a,l)||r}else this._makeCheckbox(a,c,l)}else{var y=this._makeLabel(s,l,!0);this._makeItem(l,y),r=this._handleObject(a,l)||r}}else console.error("dont know how to handle",a,s,l)}}return r}},{key:"_handleArray",value:function(t,e,i){"string"==typeof t[0]&&"color"===t[0]?(this._makeColorField(t,e,i),t[1]!==e&&this.changedOptions.push({path:i,value:e})):"string"==typeof t[0]?(this._makeDropdown(t,e,i),t[0]!==e&&this.changedOptions.push({path:i,value:e})):"number"==typeof t[0]&&(this._makeRange(t,e,i),t[0]!==e&&this.changedOptions.push({path:i,value:Number(e)}))}},{key:"_update",value:function(t,e){var i=this._constructOptions(t,e);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",i),this.initialized=!0,this.parent.setOptions(i)}},{key:"_constructOptions",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=i;t="false"!==(t="true"===t||t)&&t;for(var n=0;n<e.length;n++)"global"!==e[n]&&(void 0===o[e[n]]&&(o[e[n]]={}),n!==e.length-1?o=o[e[n]]:o[e[n]]=t);return i}},{key:"_printOptions",value:function(){var t=this.getOptions();this.optionsContainer.innerHTML="<pre>var options = "+(0,n.default)(t,null,2)+"</pre>"}},{key:"getOptions",value:function(){for(var t={},e=0;e<this.changedOptions.length;e++)this._constructOptions(this.changedOptions[e].value,this.changedOptions[e].path,t);return t}}]),t}();e.default=p},function(t,e,i){function o(t,e){}function n(t,e){return{style:(e=void 0===e?{}:e).style||t.options.drawPoints.style,styles:e.styles||t.options.drawPoints.styles,size:e.size||t.options.drawPoints.size,className:e.className||t.className}}var r=i(6),s=r&&r.__esModule?r:{default:r},a=i(14);o.draw=function(t,e,i,o){o=o||0;for(var r=function(t,e){var i=void 0;return t.options&&t.options.drawPoints&&t.options.drawPoints.onRender&&"function"==typeof t.options.drawPoints.onRender&&(i=t.options.drawPoints.onRender),e.group.options&&e.group.options.drawPoints&&e.group.options.drawPoints.onRender&&"function"==typeof e.group.options.drawPoints.onRender&&(i=e.group.options.drawPoints.onRender),i}(i,e),h=0;h<t.length;h++)if(r){var l=r(t[h],e);!0!==l&&"object"!==(void 0===l?"undefined":(0,s.default)(l))||a.drawPoint(t[h].screen_x+o,t[h].screen_y,n(e,l),i.svgElements,i.svg,t[h].label)}else a.drawPoint(t[h].screen_x+o,t[h].screen_y,n(e),i.svgElements,i.svg,t[h].label)},o.drawIcon=function(t,e,i,o,r,s){var h=.5*r,l=a.getSVGElement("rect",s.svgElements,s.svg);l.setAttributeNS(null,"x",e),l.setAttributeNS(null,"y",i-h),l.setAttributeNS(null,"width",o),l.setAttributeNS(null,"height",2*h),l.setAttributeNS(null,"class","vis-outline"),a.drawPoint(e+.5*o,i,n(t),s.svgElements,s.svg)},t.exports=o},function(t,e,i){function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=o(i(3)),r=o(i(0)),s=o(i(1)),a=o(i(4)),h=o(i(5)),l=o(i(23)),p=function(t){function e(t,i,o){(0,r.default)(this,e);var s=(0,a.default)(this,(e.__proto__||(0,n.default)(e)).call(this,t,i,o));return s.labelOffset=0,s.selected=!1,s}return(0,h.default)(e,l.default),(0,s.default)(e,[{key:"setOptions",value:function(t,e,i){this.options=t,void 0===e&&void 0===i||this.setImages(e,i)}},{key:"setImages",value:function(t,e){e&&this.selected?(this.imageObj=e,this.imageObjAlt=t):(this.imageObj=t,this.imageObjAlt=e)}},{key:"switchImages",value:function(t){var e=t&&!this.selected||!t&&this.selected;if(this.selected=t,void 0!==this.imageObjAlt&&e){var i=this.imageObj;this.imageObj=this.imageObjAlt,this.imageObjAlt=i}}},{key:"_resizeImage",value:function(){var t,e;if(!1===this.options.shapeProperties.useImageSize){var i=1,o=1;this.imageObj.width&&this.imageObj.height&&(this.imageObj.width>this.imageObj.height?i=this.imageObj.width/this.imageObj.height:o=this.imageObj.height/this.imageObj.width),t=2*this.options.size*i,e=2*this.options.size*o}else t=this.imageObj.width,e=this.imageObj.height;this.width=t,this.height=e,this.radius=.5*this.width}},{key:"_drawRawCircle",value:function(t,e,i,o){this.initContextForDraw(t,o),t.circle(e,i,o.size),this.performFill(t,o)}},{key:"_drawImageAtPosition",value:function(t,e){if(0!=this.imageObj.width){t.globalAlpha=1,this.enableShadow(t,e);var i=1;!0===this.options.shapeProperties.interpolation&&(i=this.imageObj.width/this.width/this.body.view.scale),this.imageObj.drawImageAtPosition(t,i,this.left,this.top,this.width,this.height),this.disableShadow(t,e)}}},{key:"_drawImageLabel",value:function(t,e,i,o,n){var r,s=0;if(void 0!==this.height){s=.5*this.height;var a=this.labelModule.getTextSize(t,o,n);a.lineCount>=1&&(s+=a.height/2)}r=i+s,this.options.label&&(this.labelOffset=s),this.labelModule.draw(t,e,r,o,n,"hanging")}}]),e}();e.default=p},function(t,e,i){function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=o(i(19)),r=o(i(6)),s=o(i(29)),a=o(i(0)),h=o(i(1)),l=i(2),p=i(117).default,u=i(48).default,d=i(215).default,c=i(217).default,f=i(218).default,y=i(219).default,g=function(){function t(e,i,o,n){if((0,a.default)(this,t),void 0===i)throw new Error("No body provided");this.options=l.bridgeObject(o),this.globalOptions=o,this.defaultOptions=n,this.body=i,this.id=void 0,this.fromId=void 0,this.toId=void 0,this.selected=!1,this.hover=!1,this.labelDirty=!0,this.baseWidth=this.options.width,this.baseFontSize=this.options.font.size,this.from=void 0,this.to=void 0,this.edgeType=void 0,this.connected=!1,this.labelModule=new p(this.body,this.options,!0),this.setOptions(e)}return(0,h.default)(t,[{key:"setOptions",value:function(e){if(e){t.parseOptions(this.options,e,!0,this.globalOptions),void 0!==e.id&&(this.id=e.id),void 0!==e.from&&(this.fromId=e.from),void 0!==e.to&&(this.toId=e.to),void 0!==e.title&&(this.title=e.title),void 0!==e.value&&(e.value=parseFloat(e.value)),this.chooser=u.choosify("edge",[e,this.options,this.defaultOptions]),this.updateLabelModule(e);var i=this.updateEdgeType();return this._setInteractionWidths(),this.connect(),void 0===e.hidden&&void 0===e.physics||(i=!0),i}}},{key:"getFormattingValues",value:function(){var t=this.options.color.inherit,e={toArrow:!0===this.options.arrows.to||!0===this.options.arrows.to.enabled,toArrowScale:this.options.arrows.to.scaleFactor,toArrowType:this.options.arrows.to.type,middleArrow:!0===this.options.arrows.middle||!0===this.options.arrows.middle.enabled,middleArrowScale:this.options.arrows.middle.scaleFactor,middleArrowType:this.options.arrows.middle.type,fromArrow:!0===this.options.arrows.from||!0===this.options.arrows.from.enabled,fromArrowScale:this.options.arrows.from.scaleFactor,fromArrowType:this.options.arrows.from.type,arrowStrikethrough:this.options.arrowStrikethrough,color:t?void 0:this.options.color.color,inheritsColor:t,opacity:this.options.color.opacity,hidden:this.options.hidden,length:this.options.length,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y,dashes:this.options.dashes,width:this.options.width};if(this.selected||this.hover)if(!0===this.chooser){if(this.selected){var i=this.options.selectionWidth;"function"==typeof i?e.width=i(e.width):"number"==typeof i&&(e.width+=i),e.width=Math.max(e.width,.3/this.body.view.scale),e.color=this.options.color.highlight,e.shadow=this.options.shadow.enabled}else if(this.hover){var o=this.options.hoverWidth;"function"==typeof o?e.width=o(e.width):"number"==typeof o&&(e.width+=o),e.width=Math.max(e.width,.3/this.body.view.scale),e.color=this.options.color.hover,e.shadow=this.options.shadow.enabled}}else"function"==typeof this.chooser&&(this.chooser(e,this.options.id,this.selected,this.hover),void 0!==e.color&&(e.inheritsColor=!1),!1===e.shadow&&(e.shadowColor===this.options.shadow.color&&e.shadowSize===this.options.shadow.size&&e.shadowX===this.options.shadow.x&&e.shadowY===this.options.shadow.y||(e.shadow=!0)));else e.shadow=this.options.shadow.enabled,e.width=Math.max(e.width,.3/this.body.view.scale);return e}},{key:"updateLabelModule",value:function(t){this.labelModule.update(this.options,[t,this.options,this.globalOptions,this.defaultOptions]),void 0!==this.labelModule.baseSize&&(this.baseFontSize=this.labelModule.baseSize)}},{key:"updateEdgeType",value:function(){var t=this.options.smooth,e=!1,i=!0;return void 0!==this.edgeType&&((this.edgeType instanceof c&&!0===t.enabled&&"dynamic"===t.type||this.edgeType instanceof d&&!0===t.enabled&&"cubicBezier"===t.type||this.edgeType instanceof f&&!0===t.enabled&&"dynamic"!==t.type&&"cubicBezier"!==t.type||this.edgeType instanceof y&&!1===t.type.enabled)&&(i=!1),!0===i&&(e=this.cleanup())),!0===i?!0===t.enabled?"dynamic"===t.type?(e=!0,this.edgeType=new c(this.options,this.body,this.labelModule)):this.edgeType="cubicBezier"===t.type?new d(this.options,this.body,this.labelModule):new f(this.options,this.body,this.labelModule):this.edgeType=new y(this.options,this.body,this.labelModule):this.edgeType.setOptions(this.options),e}},{key:"connect",value:function(){this.disconnect(),this.from=this.body.nodes[this.fromId]||void 0,this.to=this.body.nodes[this.toId]||void 0,this.connected=void 0!==this.from&&void 0!==this.to,!0===this.connected?(this.from.attachEdge(this),this.to.attachEdge(this)):(this.from&&this.from.detachEdge(this),this.to&&this.to.detachEdge(this)),this.edgeType.connect()}},{key:"disconnect",value:function(){this.from&&(this.from.detachEdge(this),this.from=void 0),this.to&&(this.to.detachEdge(this),this.to=void 0),this.connected=!1}},{key:"getTitle",value:function(){return this.title}},{key:"isSelected",value:function(){return this.selected}},{key:"getValue",value:function(){return this.options.value}},{key:"setValueRange",value:function(t,e,i){if(void 0!==this.options.value){var o=this.options.scaling.customScalingFunction(t,e,i,this.options.value),n=this.options.scaling.max-this.options.scaling.min;!0===this.options.scaling.label.enabled&&(this.options.font.size=this.options.scaling.label.min+o*(this.options.scaling.label.max-this.options.scaling.label.min)),this.options.width=this.options.scaling.min+o*n}else this.options.width=this.baseWidth,this.options.font.size=this.baseFontSize;this._setInteractionWidths(),this.updateLabelModule()}},{key:"_setInteractionWidths",value:function(){this.edgeType.hoverWidth="function"==typeof this.options.hoverWidth?this.options.hoverWidth(this.options.width):this.options.hoverWidth+this.options.width,this.edgeType.selectionWidth="function"==typeof this.options.selectionWidth?this.options.selectionWidth(this.options.width):this.options.selectionWidth+this.options.width}},{key:"draw",value:function(t){var e=this.getFormattingValues();if(!e.hidden){var i=this.edgeType.getViaNode(),o={};this.edgeType.fromPoint=this.edgeType.from,this.edgeType.toPoint=this.edgeType.to,e.fromArrow&&(o.from=this.edgeType.getArrowData(t,"from",i,this.selected,this.hover,e),!1===e.arrowStrikethrough&&(this.edgeType.fromPoint=o.from.core)),e.toArrow&&(o.to=this.edgeType.getArrowData(t,"to",i,this.selected,this.hover,e),!1===e.arrowStrikethrough&&(this.edgeType.toPoint=o.to.core)),e.middleArrow&&(o.middle=this.edgeType.getArrowData(t,"middle",i,this.selected,this.hover,e)),this.edgeType.drawLine(t,e,this.selected,this.hover,i),this.drawArrows(t,o,e),this.drawLabel(t,i)}}},{key:"drawArrows",value:function(t,e,i){i.fromArrow&&this.edgeType.drawArrowHead(t,i,this.selected,this.hover,e.from),i.middleArrow&&this.edgeType.drawArrowHead(t,i,this.selected,this.hover,e.middle),i.toArrow&&this.edgeType.drawArrowHead(t,i,this.selected,this.hover,e.to)}},{key:"drawLabel",value:function(t,e){if(void 0!==this.options.label){var i=this.from,o=this.to;if(this.labelModule.differentState(this.selected,this.hover)&&this.labelModule.getTextSize(t,this.selected,this.hover),i.id!=o.id){this.labelModule.pointToSelf=!1;var n=this.edgeType.getPoint(.5,e);t.save();var r=this._getRotation(t);0!=r.angle&&(t.translate(r.x,r.y),t.rotate(r.angle)),this.labelModule.draw(t,n.x,n.y,this.selected,this.hover),t.restore()}else{this.labelModule.pointToSelf=!0;var s,a,h=this.options.selfReferenceSize;i.shape.width>i.shape.height?(s=i.x+.5*i.shape.width,a=i.y-h):(s=i.x+h,a=i.y-.5*i.shape.height),n=this._pointOnCircle(s,a,h,.125),this.labelModule.draw(t,n.x,n.y,this.selected,this.hover)}}}},{key:"getItemsOnPoint",value:function(t){var e=[];if(this.labelModule.visible()){var i=this._getRotation();u.pointInRect(this.labelModule.getSize(),t,i)&&e.push({edgeId:this.id,labelId:0})}return this.isOverlappingWith({left:t.x,top:t.y})&&e.push({edgeId:this.id}),e}},{key:"isOverlappingWith",value:function(t){return!!this.connected&&this.edgeType.getDistanceToEdge(this.from.x,this.from.y,this.to.x,this.to.y,t.left,t.top)<10}},{key:"_getRotation",value:function(t){var e=this.edgeType.getViaNode(),i=this.edgeType.getPoint(.5,e);void 0!==t&&this.labelModule.calculateLabelSize(t,this.selected,this.hover,i.x,i.y);var o={x:i.x,y:this.labelModule.size.yLine,angle:0};if(!this.labelModule.visible())return o;if("horizontal"===this.options.font.align)return o;var n=this.from.x-this.to.x,r=Math.atan2(this.from.y-this.to.y,n);return(r<-1&&n<0||r>0&&n<0)&&(r+=Math.PI),o.angle=r,o}},{key:"_pointOnCircle",value:function(t,e,i,o){var n=2*o*Math.PI;return{x:t+i*Math.cos(n),y:e-i*Math.sin(n)}}},{key:"select",value:function(){this.selected=!0}},{key:"unselect",value:function(){this.selected=!1}},{key:"cleanup",value:function(){return this.edgeType.cleanup()}},{key:"remove",value:function(){this.cleanup(),this.disconnect(),delete this.body.edges[this.id]}},{key:"endPointsValid",value:function(){return void 0!==this.body.nodes[this.fromId]&&void 0!==this.body.nodes[this.toId]}}],[{key:"parseOptions",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(l.selectiveDeepExtend(["arrowStrikethrough","id","from","hidden","hoverWidth","labelHighlightBold","length","line","opacity","physics","scaling","selectionWidth","selfReferenceSize","to","title","value","width","font","chosen","widthConstraint"],t,e,i),t.label=u.isValidLabel(e.label)?e.label:void 0,l.mergeOptions(t,e,"smooth",o),l.mergeOptions(t,e,"shadow",o),void 0!==e.dashes&&null!==e.dashes?t.dashes=e.dashes:!0===i&&null===e.dashes&&(t.dashes=(0,s.default)(o.dashes)),void 0!==e.scaling&&null!==e.scaling?(void 0!==e.scaling.min&&(t.scaling.min=e.scaling.min),void 0!==e.scaling.max&&(t.scaling.max=e.scaling.max),l.mergeOptions(t.scaling,e.scaling,"label",o.scaling)):!0===i&&null===e.scaling&&(t.scaling=(0,s.default)(o.scaling)),void 0!==e.arrows&&null!==e.arrows)if("string"==typeof e.arrows){var h=e.arrows.toLowerCase();t.arrows.to.enabled=-1!=h.indexOf("to"),t.arrows.middle.enabled=-1!=h.indexOf("middle"),t.arrows.from.enabled=-1!=h.indexOf("from")}else{if("object"!==(0,r.default)(e.arrows))throw new Error("The arrow newOptions can only be an object or a string. Refer to the documentation. You used:"+(0,n.default)(e.arrows));l.mergeOptions(t.arrows,e.arrows,"to",o.arrows),l.mergeOptions(t.arrows,e.arrows,"middle",o.arrows),l.mergeOptions(t.arrows,e.arrows,"from",o.arrows)}else!0===i&&null===e.arrows&&(t.arrows=(0,s.default)(o.arrows));if(void 0!==e.color&&null!==e.color){var p=e.color,d=t.color;if(a)l.deepExtend(d,o.color,!1,i);else for(var c in d)d.hasOwnProperty(c)&&delete d[c];if(l.isString(d))d.color=d,d.highlight=d,d.hover=d,d.inherit=!1,void 0===p.opacity&&(d.opacity=1);else{var f=!1;void 0!==p.color&&(d.color=p.color,f=!0),void 0!==p.highlight&&(d.highlight=p.highlight,f=!0),void 0!==p.hover&&(d.hover=p.hover,f=!0),void 0!==p.inherit&&(d.inherit=p.inherit),void 0!==p.opacity&&(d.opacity=Math.min(1,Math.max(0,p.opacity))),!0===f?d.inherit=!1:void 0===d.inherit&&(d.inherit="from")}}else!0===i&&null===e.color&&(t.color=l.bridgeObject(o.color));!0===i&&null===e.font&&(t.font=l.bridgeObject(o.font))}}]),t}();e.default=g},function(t,e,i){function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=o(i(3)),r=o(i(0)),s=o(i(1)),a=o(i(4)),h=o(i(5)),l=o(i(118)),p=function(t){function e(t,i,o){return(0,r.default)(this,e),(0,a.default)(this,(e.__proto__||(0,n.default)(e)).call(this,t,i,o))}return(0,h.default)(e,l.default),(0,s.default)(e,[{key:"_findBorderPositionBezier",value:function(t,e){var i,o,n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this._getViaCoordinates(),s=0,a=0,h=1,l=this.to,p=!1;for(t.id===this.from.id&&(l=this.from,p=!0);a<=h&&s<10;){var u=.5*(a+h);if(i=this.getPoint(u,r),o=Math.atan2(l.y-i.y,l.x-i.x),n=l.distanceToBorder(e,o)-Math.sqrt(Math.pow(i.x-l.x,2)+Math.pow(i.y-l.y,2)),Math.abs(n)<.2)break;n<0?!1===p?a=u:h=u:!1===p?h=u:a=u,s++}return i.t=u,i}},{key:"_getDistanceToBezierEdge",value:function(t,e,i,o,n,r,s){var a=1e9,h=void 0,l=void 0,p=void 0,u=void 0,d=void 0,c=t,f=e;for(l=1;l<10;l++)p=.1*l,u=Math.pow(1-p,2)*t+2*p*(1-p)*s.x+Math.pow(p,2)*i,d=Math.pow(1-p,2)*e+2*p*(1-p)*s.y+Math.pow(p,2)*o,l>0&&(a=(h=this._getDistanceToLine(c,f,u,d,n,r))<a?h:a),c=u,f=d;return a}},{key:"_bezierCurve",value:function(t,e,i,o){var n=void 0!==i&&void 0!==i.x,r=void 0!==o&&void 0!==o.x;t.beginPath(),t.moveTo(this.fromPoint.x,this.fromPoint.y),n&&r?t.bezierCurveTo(i.x,i.y,o.x,o.y,this.toPoint.x,this.toPoint.y):n?t.quadraticCurveTo(i.x,i.y,this.toPoint.x,this.toPoint.y):t.lineTo(this.toPoint.x,this.toPoint.y),this.enableShadow(t,e),t.stroke(),this.disableShadow(t,e)}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}}]),e}();e.default=p},function(t,e,i){function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=o(i(0)),r=o(i(1)),s=i(2),a=function(){function t(){(0,n.default)(this,t)}return(0,r.default)(t,null,[{key:"getRange",value:function(t){var e,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],o=1e9,n=-1e9,r=1e9,s=-1e9;if(i.length>0)for(var a=0;a<i.length;a++)r>(e=t[i[a]]).shape.boundingBox.left&&(r=e.shape.boundingBox.left),s<e.shape.boundingBox.right&&(s=e.shape.boundingBox.right),o>e.shape.boundingBox.top&&(o=e.shape.boundingBox.top),n<e.shape.boundingBox.bottom&&(n=e.shape.boundingBox.bottom);return 1e9===r&&-1e9===s&&1e9===o&&-1e9===n&&(o=0,n=0,r=0,s=0),{minX:r,maxX:s,minY:o,maxY:n}}},{key:"getRangeCore",value:function(t){var e,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],o=1e9,n=-1e9,r=1e9,s=-1e9;if(i.length>0)for(var a=0;a<i.length;a++)r>(e=t[i[a]]).x&&(r=e.x),s<e.x&&(s=e.x),o>e.y&&(o=e.y),n<e.y&&(n=e.y);return 1e9===r&&-1e9===s&&1e9===o&&-1e9===n&&(o=0,n=0,r=0,s=0),{minX:r,maxX:s,minY:o,maxY:n}}},{key:"findCenter",value:function(t){return{x:.5*(t.maxX+t.minX),y:.5*(t.maxY+t.minY)}}},{key:"cloneOptions",value:function(t,e){var i={};return void 0===e||"node"===e?(s.deepExtend(i,t.options,!0),i.x=t.x,i.y=t.y,i.amountOfConnections=t.edges.length):s.deepExtend(i,t.options,!0),i}}]),t}();e.default=a},function(t,e,i){t.exports={default:i(124),__esModule:!0}},function(t,e,i){var o=i(50);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==o(t)?t.split(""):Object(t)}},function(t,e,i){var o=i(52),n=i(17),r=i(83),s=i(26),a=i(22),h=i(31),l=i(129),p=i(59),u=i(85),d=i(13)("iterator"),c=!([].keys&&"next"in[].keys()),f=function(){return this};t.exports=function(t,e,i,y,g,m,v){l(i,e,y);var b,w,x,_=function(t){if(!c&&t in C)return C[t];switch(t){case"keys":case"values":return function(){return new i(this,t)}}return function(){return new i(this,t)}},M=e+" Iterator",k="values"==g,S=!1,C=t.prototype,E=C[d]||C["@@iterator"]||g&&C[g],T=E||_(g),P=g?k?_("entries"):T:void 0,A="Array"==e&&C.entries||E;if(A&&(x=u(A.call(new t)))!==Object.prototype&&x.next&&(p(x,M,!0),o||a(x,d)||s(x,d,f)),k&&E&&"values"!==E.name&&(S=!0,T=function(){return E.call(this)}),o&&!v||!c&&!S&&C[d]||s(C,d,T),h[e]=T,h[M]=f,g)if(b={values:k?T:_("values"),keys:m?T:_("keys"),entries:P},v)for(w in b)w in C||r(C,w,b[w]);else n(n.P+n.F*(c||S),e,b);return b}},function(t,e,i){var o=i(128);t.exports=function(t,e,i){if(o(t),void 0===e)return t;switch(i){case 1:return function(i){return t.call(e,i)};case 2:return function(i,o){return t.call(e,i,o)};case 3:return function(i,o,n){return t.call(e,i,o,n)}}return function(){return t.apply(e,arguments)}}},function(t,e,i){t.exports=!i(21)&&!i(28)(function(){return 7!=Object.defineProperty(i(82)("div"),"a",{get:function(){return 7}}).a})},function(t,e,i){var o=i(32),n=i(18).document,r=o(n)&&o(n.createElement);t.exports=function(t){return r?n.createElement(t):{}}},function(t,e,i){t.exports=i(26)},function(t,e,i){var o=i(22),n=i(25),r=i(131)(!1),s=i(56)("IE_PROTO");t.exports=function(t,e){var i,a=n(t),h=0,l=[];for(i in a)i!=s&&o(a,i)&&l.push(i);for(;e.length>h;)o(a,i=e[h++])&&(~r(l,i)||l.push(i));return l}},function(t,e,i){var o=i(22),n=i(41),r=i(56)("IE_PROTO"),s=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=n(t),o(t,r)?t[r]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?s:null}},function(t,e,i){var o=i(50),n=i(13)("toStringTag"),r="Arguments"==o(function(){return arguments}());t.exports=function(t){var e,i,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(i=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),n))?i:r?o(e):"Object"==(s=o(e))&&"function"==typeof e.callee?"Arguments":s}},function(t,e,i){var o=i(17),n=i(7),r=i(28);t.exports=function(t,e){var i=(n.Object||{})[t]||Object[t],s={};s[t]=e(i),o(o.S+o.F*r(function(){i(1)}),"Object",s)}},function(t,e,i){var o=i(84),n=i(58).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return o(t,n)}},function(t,e,i){var o=i(42),n=i(39),r=i(25),s=i(53),a=i(22),h=i(81),l=Object.getOwnPropertyDescriptor;e.f=i(21)?l:function(t,e){if(t=r(t),e=s(e,!0),h)try{return l(t,e)}catch(t){}if(a(t,e))return n(!o.f.call(t,e),t[e])}},function(t,e,i){t.exports={default:i(162),__esModule:!0}},function(t,e,i){t.exports=function(t,e){this.x=void 0!==t?t:0,this.y=void 0!==e?e:0}},function(t,e,i){function o(t,e){if(void 0===t)throw new Error("No container element defined");if(this.container=t,this.visible=!e||void 0==e.visible||e.visible,this.visible){this.frame=document.createElement("DIV"),this.frame.style.width="100%",this.frame.style.position="relative",this.container.appendChild(this.frame),this.frame.prev=document.createElement("INPUT"),this.frame.prev.type="BUTTON",this.frame.prev.value="Prev",this.frame.appendChild(this.frame.prev),this.frame.play=document.createElement("INPUT"),this.frame.play.type="BUTTON",this.frame.play.value="Play",this.frame.appendChild(this.frame.play),this.frame.next=document.createElement("INPUT"),this.frame.next.type="BUTTON",this.frame.next.value="Next",this.frame.appendChild(this.frame.next),this.frame.bar=document.createElement("INPUT"),this.frame.bar.type="BUTTON",this.frame.bar.style.position="absolute",this.frame.bar.style.border="1px solid red",this.frame.bar.style.width="100px",this.frame.bar.style.height="6px",this.frame.bar.style.borderRadius="2px",this.frame.bar.style.MozBorderRadius="2px",this.frame.bar.style.border="1px solid #7F7F7F",this.frame.bar.style.backgroundColor="#E5E5E5",this.frame.appendChild(this.frame.bar),this.frame.slide=document.createElement("INPUT"),this.frame.slide.type="BUTTON",this.frame.slide.style.margin="0px",this.frame.slide.value=" ",this.frame.slide.style.position="relative",this.frame.slide.style.left="-100px",this.frame.appendChild(this.frame.slide);var i=this;this.frame.slide.onmousedown=function(t){i._onMouseDown(t)},this.frame.prev.onclick=function(t){i.prev(t)},this.frame.play.onclick=function(t){i.togglePlay(t)},this.frame.next.onclick=function(t){i.next(t)}}this.onChangeCallback=void 0,this.values=[],this.index=void 0,this.playTimeout=void 0,this.playInterval=1e3,this.playLoop=!0}var n=i(2);o.prototype.prev=function(){var t=this.getIndex();t>0&&this.setIndex(--t)},o.prototype.next=function(){var t=this.getIndex();t<this.values.length-1&&this.setIndex(++t)},o.prototype.playNext=function(){var t=new Date,e=this.getIndex();e<this.values.length-1?this.setIndex(++e):this.playLoop&&this.setIndex(e=0);var i=new Date,o=Math.max(this.playInterval-(i-t),0),n=this;this.playTimeout=setTimeout(function(){n.playNext()},o)},o.prototype.togglePlay=function(){void 0===this.playTimeout?this.play():this.stop()},o.prototype.play=function(){this.playTimeout||(this.playNext(),this.frame&&(this.frame.play.value="Stop"))},o.prototype.stop=function(){clearInterval(this.playTimeout),this.playTimeout=void 0,this.frame&&(this.frame.play.value="Play")},o.prototype.setOnChangeCallback=function(t){this.onChangeCallback=t},o.prototype.setPlayInterval=function(t){this.playInterval=t},o.prototype.getPlayInterval=function(){return this.playInterval},o.prototype.setPlayLoop=function(t){this.playLoop=t},o.prototype.onChange=function(){void 0!==this.onChangeCallback&&this.onChangeCallback()},o.prototype.redraw=function(){if(this.frame){this.frame.bar.style.top=this.frame.clientHeight/2-this.frame.bar.offsetHeight/2+"px",this.frame.bar.style.width=this.frame.clientWidth-this.frame.prev.clientWidth-this.frame.play.clientWidth-this.frame.next.clientWidth-30+"px";var t=this.indexToLeft(this.index);this.frame.slide.style.left=t+"px"}},o.prototype.setValues=function(t){this.values=t,this.values.length>0?this.setIndex(0):this.index=void 0},o.prototype.setIndex=function(t){if(!(t<this.values.length))throw new Error("Index out of range");this.index=t,this.redraw(),this.onChange()},o.prototype.getIndex=function(){return this.index},o.prototype.get=function(){return this.values[this.index]},o.prototype._onMouseDown=function(t){if(t.which?1===t.which:1===t.button){this.startClientX=t.clientX,this.startSlideX=parseFloat(this.frame.slide.style.left),this.frame.style.cursor="move";var e=this;this.onmousemove=function(t){e._onMouseMove(t)},this.onmouseup=function(t){e._onMouseUp(t)},n.addEventListener(document,"mousemove",this.onmousemove),n.addEventListener(document,"mouseup",this.onmouseup),n.preventDefault(t)}},o.prototype.leftToIndex=function(t){var e=parseFloat(this.frame.bar.style.width)-this.frame.slide.clientWidth-10,i=Math.round((t-3)/e*(this.values.length-1));return i<0&&(i=0),i>this.values.length-1&&(i=this.values.length-1),i},o.prototype.indexToLeft=function(t){var e=parseFloat(this.frame.bar.style.width)-this.frame.slide.clientWidth-10;return t/(this.values.length-1)*e+3},o.prototype._onMouseMove=function(t){var e=this.leftToIndex(this.startSlideX+(t.clientX-this.startClientX));this.setIndex(e),n.preventDefault()},o.prototype._onMouseUp=function(t){this.frame.style.cursor="auto",n.removeEventListener(document,"mousemove",this.onmousemove),n.removeEventListener(document,"mouseup",this.onmouseup),n.preventDefault()},t.exports=o},function(t,e,i){function o(t,e,i,o){this._start=0,this._end=0,this._step=1,this.prettyStep=!0,this.precision=5,this._current=0,this.setRange(t,e,i,o)}o.prototype.isNumeric=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},o.prototype.setRange=function(t,e,i,o){if(!this.isNumeric(t))throw new Error("Parameter 'start' is not numeric; value: "+t);if(!this.isNumeric(e))throw new Error("Parameter 'end' is not numeric; value: "+t);if(!this.isNumeric(i))throw new Error("Parameter 'step' is not numeric; value: "+t);this._start=t||0,this._end=e||0,this.setStep(i,o)},o.prototype.setStep=function(t,e){void 0===t||t<=0||(void 0!==e&&(this.prettyStep=e),this._step=!0===this.prettyStep?o.calculatePrettyStep(t):t)},o.calculatePrettyStep=function(t){var e=function(t){return Math.log(t)/Math.LN10},i=Math.pow(10,Math.round(e(t))),o=2*Math.pow(10,Math.round(e(t/2))),n=5*Math.pow(10,Math.round(e(t/5))),r=i;return Math.abs(o-t)<=Math.abs(r-t)&&(r=o),Math.abs(n-t)<=Math.abs(r-t)&&(r=n),r<=0&&(r=1),r},o.prototype.getCurrent=function(){return parseFloat(this._current.toPrecision(this.precision))},o.prototype.getStep=function(){return this._step},o.prototype.start=function(t){void 0===t&&(t=!1),this._current=this._start-this._start%this._step,t&&this.getCurrent()<this._start&&this.next()},o.prototype.next=function(){this._current+=this._step},o.prototype.end=function(){return this._current>this._end},t.exports=o},function(t,e,i){function o(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}function n(t,e){return void 0===t||""===t?e:t+function(t){return void 0===t||""===t||"string"!=typeof t?t:t.charAt(0).toUpperCase()+t.slice(1)}(e)}function r(t,e,i,o){for(var r,s=0;s<i.length;++s)e[n(o,r=i[s])]=t[r]}function s(t,e,i,o){for(var r,s=0;s<i.length;++s)void 0!==t[r=i[s]]&&(e[n(o,r)]=t[r])}function a(t,e){void 0!==t.backgroundColor&&function(t,e){var i="white",o="gray",n=1;if("string"==typeof t)i=t,o="none",n=0;else{if("object"!==(void 0===t?"undefined":(0,p.default)(t)))throw new Error("Unsupported type of backgroundColor");void 0!==t.fill&&(i=t.fill),void 0!==t.stroke&&(o=t.stroke),void 0!==t.strokeWidth&&(n=t.strokeWidth)}e.frame.style.backgroundColor=i,e.frame.style.borderColor=o,e.frame.style.borderWidth=n+"px",e.frame.style.borderStyle="solid"}(t.backgroundColor,e),function(t,e){void 0!==t&&(void 0===e.dataColor&&(e.dataColor={}),"string"==typeof t?(e.dataColor.fill=t,e.dataColor.stroke=t):(t.fill&&(e.dataColor.fill=t.fill),t.stroke&&(e.dataColor.stroke=t.stroke),void 0!==t.strokeWidth&&(e.dataColor.strokeWidth=t.strokeWidth)))}(t.dataColor,e),function(t,e){if(void 0!==t){var i;if("string"==typeof t){if(-1===(i=function(t){var e=y[t];return void 0===e?-1:e}(t)))throw new Error("Style '"+t+"' is invalid")}else{if(!function(t){var e=!1;for(var i in f)if(f[i]===t){e=!0;break}return e}(t))throw new Error("Style '"+t+"' is invalid");i=t}e.style=i}}(t.style,e),function(t,e){void 0===t?void 0===v.showLegend&&(e.showLegend=e.style===f.DOTCOLOR||e.style===f.DOTSIZE):e.showLegend=t}(t.showLegend,e),h(t.cameraPosition,e),void 0!==t.tooltip&&(e.showTooltip=t.tooltip),void 0!=t.onclick&&(e.onclick_callback=t.onclick),void 0!==t.tooltipStyle&&u.selectiveDeepExtend(["tooltipStyle"],e,t)}function h(t,e){var i=t;void 0!==i&&(void 0===e.camera&&(e.camera=new d),e.camera.setArmRotation(i.horizontal,i.vertical),e.camera.setArmLength(i.distance))}var l=i(6),p=l&&l.__esModule?l:{default:l},u=i(2),d=i(95),c=i(34),f={BAR:0,BARCOLOR:1,BARSIZE:2,DOT:3,DOTLINE:4,DOTCOLOR:5,DOTSIZE:6,GRID:7,LINE:8,SURFACE:9},y={dot:f.DOT,"dot-line":f.DOTLINE,"dot-color":f.DOTCOLOR,"dot-size":f.DOTSIZE,line:f.LINE,grid:f.GRID,surface:f.SURFACE,bar:f.BAR,"bar-color":f.BARCOLOR,"bar-size":f.BARSIZE},g=["width","height","filterLabel","legendLabel","xLabel","yLabel","zLabel","xValueLabel","yValueLabel","zValueLabel","showXAxis","showYAxis","showZAxis","showGrid","showPerspective","showShadow","keepAspectRatio","verticalRatio","dotSizeRatio","dotSizeMinFraction","dotSizeMaxFraction","showAnimationControls","animationInterval","animationPreload","animationAutoStart","axisColor","gridColor","xCenter","yCenter"],m=["xBarWidth","yBarWidth","valueMin","valueMax","xMin","xMax","xStep","yMin","yMax","yStep","zMin","zMax","zStep"],v=void 0;t.exports.STYLE=f,t.exports.setDefaults=function(t,e){if(void 0===t||o(t))throw new Error("No DEFAULTS passed");if(void 0===e)throw new Error("No dst passed");v=t,r(t,e,g),r(t,e,m,"default"),a(t,e),e.margin=10,e.showGrayBottom=!1,e.showTooltip=!1,e.onclick_callback=null,e.eye=new c(0,0,-1)},t.exports.setOptions=function(t,e){if(void 0!==t){if(void 0===e)throw new Error("No dst passed");if(void 0===v||o(v))throw new Error("DEFAULTS not set for module Settings");s(t,e,g),s(t,e,m,"default"),a(t,e)}},t.exports.setCameraPosition=h},function(t,e,i){function o(){this.armLocation=new s,this.armRotation={},this.armRotation.horizontal=0,this.armRotation.vertical=0,this.armLength=1.7,this.cameraOffset=new s,this.offsetMultiplier=.6,this.cameraLocation=new s,this.cameraRotation=new s(.5*Math.PI,0,0),this.calculateCameraOrientation()}var n=i(165),r=n&&n.__esModule?n:{default:n},s=i(34);o.prototype.setOffset=function(t,e){var i=Math.abs,o=r.default,n=this.armLength*this.offsetMultiplier;i(t)>n&&(t=o(t)*n),i(e)>n&&(e=o(e)*n),this.cameraOffset.x=t,this.cameraOffset.y=e,this.calculateCameraOrientation()},o.prototype.getOffset=function(){return this.cameraOffset},o.prototype.setArmLocation=function(t,e,i){this.armLocation.x=t,this.armLocation.y=e,this.armLocation.z=i,this.calculateCameraOrientation()},o.prototype.setArmRotation=function(t,e){void 0!==t&&(this.armRotation.horizontal=t),void 0!==e&&(this.armRotation.vertical=e,this.armRotation.vertical<0&&(this.armRotation.vertical=0),this.armRotation.vertical>.5*Math.PI&&(this.armRotation.vertical=.5*Math.PI)),void 0===t&&void 0===e||this.calculateCameraOrientation()},o.prototype.getArmRotation=function(){var t={};return t.horizontal=this.armRotation.horizontal,t.vertical=this.armRotation.vertical,t},o.prototype.setArmLength=function(t){void 0!==t&&(this.armLength=t,this.armLength<.71&&(this.armLength=.71),this.armLength>5&&(this.armLength=5),this.setOffset(this.cameraOffset.x,this.cameraOffset.y),this.calculateCameraOrientation())},o.prototype.getArmLength=function(){return this.armLength},o.prototype.getCameraLocation=function(){return this.cameraLocation},o.prototype.getCameraRotation=function(){return this.cameraRotation},o.prototype.calculateCameraOrientation=function(){this.cameraLocation.x=this.armLocation.x-this.armLength*Math.sin(this.armRotation.horizontal)*Math.cos(this.armRotation.vertical),this.cameraLocation.y=this.armLocation.y-this.armLength*Math.cos(this.armRotation.horizontal)*Math.cos(this.armRotation.vertical),this.cameraLocation.z=this.armLocation.z+this.armLength*Math.sin(this.armRotation.vertical),this.cameraRotation.x=Math.PI/2-this.armRotation.vertical,this.cameraRotation.y=0,this.cameraRotation.z=-this.armRotation.horizontal;var t=this.cameraRotation.x,e=this.cameraRotation.z,i=this.cameraOffset.x,o=this.cameraOffset.y,n=Math.sin,r=Math.cos;this.cameraLocation.x=this.cameraLocation.x+i*r(e)+o*-n(e)*r(t),this.cameraLocation.y=this.cameraLocation.y+i*n(e)+o*r(e)*r(t),this.cameraLocation.z=this.cameraLocation.z+o*n(t)},t.exports=o},function(t,e,i){function o(t,e,i){this.dataGroup=t,this.column=e,this.graph=i,this.index=void 0,this.value=void 0,this.values=t.getDistinctValues(this.column),this.values.length>0&&this.selectValue(0),this.dataPoints=[],this.loaded=!1,this.onLoadCallback=void 0,i.animationPreload?(this.loaded=!1,this.loadInBackground()):this.loaded=!0}var n=i(12);o.prototype.isLoaded=function(){return this.loaded},o.prototype.getLoadedProgress=function(){for(var t=this.values.length,e=0;this.dataPoints[e];)e++;return Math.round(e/t*100)},o.prototype.getLabel=function(){return this.graph.filterLabel},o.prototype.getColumn=function(){return this.column},o.prototype.getSelectedValue=function(){if(void 0!==this.index)return this.values[this.index]},o.prototype.getValues=function(){return this.values},o.prototype.getValue=function(t){if(t>=this.values.length)throw new Error("Index out of range");return this.values[t]},o.prototype._getDataPoints=function(t){if(void 0===t&&(t=this.index),void 0===t)return[];var e;if(this.dataPoints[t])e=this.dataPoints[t];else{var i={};i.column=this.column,i.value=this.values[t];var o=new n(this.dataGroup.getDataSet(),{filter:function(t){return t[i.column]==i.value}}).get();e=this.dataGroup._getDataPoints(o),this.dataPoints[t]=e}return e},o.prototype.setOnLoadCallback=function(t){this.onLoadCallback=t},o.prototype.selectValue=function(t){if(t>=this.values.length)throw new Error("Index out of range");this.index=t,this.value=this.values[t]},o.prototype.loadInBackground=function(t){void 0===t&&(t=0);var e=this.graph.frame;if(t<this.values.length){void 0===e.progress&&(e.progress=document.createElement("DIV"),e.progress.style.position="absolute",e.progress.style.color="gray",e.appendChild(e.progress));var i=this.getLoadedProgress();e.progress.innerHTML="Loading animation... "+i+"%",e.progress.style.bottom="60px",e.progress.style.left="10px";var o=this;setTimeout(function(){o.loadInBackground(t+1)},10),this.loaded=!1}else this.loaded=!0,void 0!==e.progress&&(e.removeChild(e.progress),e.progress=void 0),this.onLoadCallback&&this.onLoadCallback()},t.exports=o},function(t,e,i){function o(t){this.active=!1,this.dom={container:t},this.dom.overlay=document.createElement("div"),this.dom.overlay.className="vis-overlay",this.dom.container.appendChild(this.dom.overlay),this.hammer=s(this.dom.overlay),this.hammer.on("tap",this._onTapOverlay.bind(this));var e=this;["tap","doubletap","press","pinch","pan","panstart","panmove","panend"].forEach(function(t){e.hammer.on(t,function(t){t.stopPropagation()})}),document&&document.body&&(this.onClick=function(i){(function(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1})(i.target,t)||e.deactivate()},document.body.addEventListener("click",this.onClick)),void 0!==this.keycharm&&this.keycharm.destroy(),this.keycharm=n(),this.escListener=this.deactivate.bind(this)}var n=i(35),r=i(44),s=i(10),a=i(2);r(o.prototype),o.current=null,o.prototype.destroy=function(){this.deactivate(),this.dom.overlay.parentNode.removeChild(this.dom.overlay),this.onClick&&document.body.removeEventListener("click",this.onClick),this.hammer.destroy(),this.hammer=null},o.prototype.activate=function(){o.current&&o.current.deactivate(),o.current=this,this.active=!0,this.dom.overlay.style.display="none",a.addClassName(this.dom.container,"vis-active"),this.emit("change"),this.emit("activate"),this.keycharm.bind("esc",this.escListener)},o.prototype.deactivate=function(){this.active=!1,this.dom.overlay.style.display="",a.removeClassName(this.dom.container,"vis-active"),this.keycharm.unbind("esc",this.escListener),this.emit("change"),this.emit("deactivate")},o.prototype._onTapOverlay=function(t){this.activate(),t.stopPropagation()},t.exports=o},function(t,e,i){e.en={current:"current",time:"time"},e.en_EN=e.en,e.en_US=e.en,e.it={current:"attuale",time:"tempo"},e.it_IT=e.it,e.it_CH=e.it,e.nl={current:"huidige",time:"tijd"},e.nl_NL=e.nl,e.nl_BE=e.nl,e.de={current:"Aktuelle",time:"Zeit"},e.de_DE=e.de,e.fr={current:"actuel",time:"heure"},e.fr_FR=e.fr,e.fr_CA=e.fr,e.fr_BE=e.fr,e.es={current:"corriente",time:"hora"},e.es_ES=e.es},function(t,e,i){function o(t){return t&&t.__esModule?t:{default:t}}function n(t,e){this.body=t,this.defaultOptions={type:null,orientation:{item:"bottom"},align:"auto",stack:!0,stackSubgroups:!0,groupOrderSwap:function(t,e,i){var o=e.order;e.order=t.order,t.order=o},groupOrder:"order",selectable:!0,multiselect:!1,itemsAlwaysDraggable:{item:!1,range:!1},editable:{updateTime:!1,updateGroup:!1,add:!1,remove:!1,overrideItems:!1},groupEditable:{order:!1,add:!1,remove:!1},snap:u.snap,onDropObjectOnItem:function(t,e,i){i(e)},onAdd:function(t,e){e(t)},onUpdate:function(t,e){e(t)},onMove:function(t,e){e(t)},onRemove:function(t,e){e(t)},onMoving:function(t,e){e(t)},onAddGroup:function(t,e){e(t)},onMoveGroup:function(t,e){e(t)},onRemoveGroup:function(t,e){e(t)},margin:{item:{horizontal:10,vertical:10},axis:20},showTooltips:!0,tooltip:{followMouse:!1,overflowMethod:"flip"},tooltipOnItemUpdateTime:!1},this.options=h.extend({},this.defaultOptions),this.options.rtl=e.rtl,this.itemOptions={type:{start:"Date",end:"Date"}},this.conversion={toScreen:t.util.toScreen,toTime:t.util.toTime},this.dom={},this.props={},this.hammer=null;var i=this;this.itemsData=null,this.groupsData=null,this.itemListeners={add:function(t,e,o){i._onAdd(e.items)},update:function(t,e,o){i._onUpdate(e.items)},remove:function(t,e,o){i._onRemove(e.items)}},this.groupListeners={add:function(t,e,o){if(i._onAddGroups(e.items),i.groupsData&&i.groupsData.length>0){var n=i.groupsData.getDataSet();n.get().forEach(function(t){if(t.nestedGroups){0!=t.showNested&&(t.showNested=!0);var e=[];t.nestedGroups.forEach(function(i){var o=n.get(i);o&&(o.nestedInGroup=t.id,0==t.showNested&&(o.visible=!1),e=e.concat(o))}),n.update(e,o)}})}},update:function(t,e,o){i._onUpdateGroups(e.items)},remove:function(t,e,o){i._onRemoveGroups(e.items)}},this.items={},this.groups={},this.groupIds=[],this.selection=[],this.popup=null,this.touchParams={},this.groupTouchParams={},this._create(),this.setOptions(e)}var r=o(i(29)),s=o(i(6)),a=i(10),h=i(2),l=i(11),p=i(12),u=i(66),d=i(16),c=i(68),f=i(69),y=i(101),g=i(102),m=i(70),v=i(103),b=i(104).default,w="__ungrouped__",x="__background__";n.prototype=new d,n.types={background:v,box:y,range:m,point:g},n.prototype._create=function(){var t=document.createElement("div");t.className="vis-itemset",t["timeline-itemset"]=this,this.dom.frame=t;var e=document.createElement("div");e.className="vis-background",t.appendChild(e),this.dom.background=e;var i=document.createElement("div");i.className="vis-foreground",t.appendChild(i),this.dom.foreground=i;var o=document.createElement("div");o.className="vis-axis",this.dom.axis=o;var n=document.createElement("div");n.className="vis-labelset",this.dom.labelSet=n,this._updateUngrouped();var r=new f(x,null,this);r.show(),this.groups[x]=r,this.hammer=new a(this.body.dom.centerContainer),this.hammer.on("hammer.input",(function(t){t.isFirst&&this._onTouch(t)}).bind(this)),this.hammer.on("panstart",this._onDragStart.bind(this)),this.hammer.on("panmove",this._onDrag.bind(this)),this.hammer.on("panend",this._onDragEnd.bind(this)),this.hammer.get("pan").set({threshold:5,direction:a.DIRECTION_HORIZONTAL}),this.hammer.on("tap",this._onSelectItem.bind(this)),this.hammer.on("press",this._onMultiSelectItem.bind(this)),this.hammer.on("doubletap",this._onAddItem.bind(this)),this.groupHammer=new a(this.options.rtl?this.body.dom.rightContainer:this.body.dom.leftContainer),this.groupHammer.on("tap",this._onGroupClick.bind(this)),this.groupHammer.on("panstart",this._onGroupDragStart.bind(this)),this.groupHammer.on("panmove",this._onGroupDrag.bind(this)),this.groupHammer.on("panend",this._onGroupDragEnd.bind(this)),this.groupHammer.get("pan").set({threshold:5,direction:a.DIRECTION_VERTICAL}),this.body.dom.centerContainer.addEventListener("mouseover",this._onMouseOver.bind(this)),this.body.dom.centerContainer.addEventListener("mouseout",this._onMouseOut.bind(this)),this.body.dom.centerContainer.addEventListener("mousemove",this._onMouseMove.bind(this)),this.body.dom.centerContainer.addEventListener("contextmenu",this._onDragEnd.bind(this)),this.body.dom.centerContainer.addEventListener("mousewheel",this._onMouseWheel.bind(this)),this.show()},n.prototype.setOptions=function(t){t&&(h.selectiveExtend(["type","rtl","align","order","stack","stackSubgroups","selectable","multiselect","multiselectPerGroup","groupOrder","dataAttributes","template","groupTemplate","visibleFrameTemplate","hide","snap","groupOrderSwap","showTooltips","tooltip","tooltipOnItemUpdateTime"],this.options,t),"itemsAlwaysDraggable"in t&&("boolean"==typeof t.itemsAlwaysDraggable?(this.options.itemsAlwaysDraggable.item=t.itemsAlwaysDraggable,this.options.itemsAlwaysDraggable.range=!1):"object"===(0,s.default)(t.itemsAlwaysDraggable)&&(h.selectiveExtend(["item","range"],this.options.itemsAlwaysDraggable,t.itemsAlwaysDraggable),this.options.itemsAlwaysDraggable.item||(this.options.itemsAlwaysDraggable.range=!1))),"orientation"in t&&("string"==typeof t.orientation?this.options.orientation.item="top"===t.orientation?"top":"bottom":"object"===(0,s.default)(t.orientation)&&"item"in t.orientation&&(this.options.orientation.item=t.orientation.item)),"margin"in t&&("number"==typeof t.margin?(this.options.margin.axis=t.margin,this.options.margin.item.horizontal=t.margin,this.options.margin.item.vertical=t.margin):"object"===(0,s.default)(t.margin)&&(h.selectiveExtend(["axis"],this.options.margin,t.margin),"item"in t.margin&&("number"==typeof t.margin.item?(this.options.margin.item.horizontal=t.margin.item,this.options.margin.item.vertical=t.margin.item):"object"===(0,s.default)(t.margin.item)&&h.selectiveExtend(["horizontal","vertical"],this.options.margin.item,t.margin.item)))),"editable"in t&&("boolean"==typeof t.editable?(this.options.editable.updateTime=t.editable,this.options.editable.updateGroup=t.editable,this.options.editable.add=t.editable,this.options.editable.remove=t.editable,this.options.editable.overrideItems=!1):"object"===(0,s.default)(t.editable)&&h.selectiveExtend(["updateTime","updateGroup","add","remove","overrideItems"],this.options.editable,t.editable)),"groupEditable"in t&&("boolean"==typeof t.groupEditable?(this.options.groupEditable.order=t.groupEditable,this.options.groupEditable.add=t.groupEditable,this.options.groupEditable.remove=t.groupEditable):"object"===(0,s.default)(t.groupEditable)&&h.selectiveExtend(["order","add","remove"],this.options.groupEditable,t.groupEditable)),["onDropObjectOnItem","onAdd","onUpdate","onRemove","onMove","onMoving","onAddGroup","onMoveGroup","onRemoveGroup"].forEach((function(e){var i=t[e];if(i){if(!(i instanceof Function))throw new Error("option "+e+" must be a function "+e+"(item, callback)");this.options[e]=i}}).bind(this)),this.markDirty())},n.prototype.markDirty=function(t){this.groupIds=[],t&&t.refreshItems&&h.forEach(this.items,function(t){t.dirty=!0,t.displayed&&t.redraw()})},n.prototype.destroy=function(){this.hide(),this.setItems(null),this.setGroups(null),this.hammer=null,this.body=null,this.conversion=null},n.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame),this.dom.axis.parentNode&&this.dom.axis.parentNode.removeChild(this.dom.axis),this.dom.labelSet.parentNode&&this.dom.labelSet.parentNode.removeChild(this.dom.labelSet)},n.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame),this.dom.axis.parentNode||this.body.dom.backgroundVertical.appendChild(this.dom.axis),this.dom.labelSet.parentNode||(this.options.rtl?this.body.dom.right.appendChild(this.dom.labelSet):this.body.dom.left.appendChild(this.dom.labelSet))},n.prototype.setSelection=function(t){var e,i,o,n;for(void 0==t&&(t=[]),Array.isArray(t)||(t=[t]),e=0,i=this.selection.length;e<i;e++)(n=this.items[o=this.selection[e]])&&n.unselect();for(this.selection=[],e=0,i=t.length;e<i;e++)(n=this.items[o=t[e]])&&(this.selection.push(o),n.select())},n.prototype.getSelection=function(){return this.selection.concat([])},n.prototype.getVisibleItems=function(){var t,e,i=this.body.range.getRange();this.options.rtl?(t=this.body.util.toScreen(i.start),e=this.body.util.toScreen(i.end)):(e=this.body.util.toScreen(i.start),t=this.body.util.toScreen(i.end));var o=[];for(var n in this.groups)if(this.groups.hasOwnProperty(n))for(var r=this.groups[n],s=r.isVisible?r.visibleItems:[],a=0;a<s.length;a++){var h=s[a];this.options.rtl?h.right<e&&h.right+h.width>t&&o.push(h.id):h.left<t&&h.left+h.width>e&&o.push(h.id)}return o},n.prototype._deselect=function(t){for(var e=this.selection,i=0,o=e.length;i<o;i++)if(e[i]==t){e.splice(i,1);break}},n.prototype.redraw=function(){var t=this.options.margin,e=this.body.range,i=h.option.asSize,o=this.options,n=o.orientation.item,r=!1,s=this.dom.frame;this.props.top=this.body.domProps.top.height+this.body.domProps.border.top,this.options.rtl?this.props.right=this.body.domProps.right.width+this.body.domProps.border.right:this.props.left=this.body.domProps.left.width+this.body.domProps.border.left,s.className="vis-itemset",r=this._orderGroups()||r;var a=e.end-e.start,l=a!=this.lastVisibleInterval||this.props.width!=this.props.lastWidth||e.start!=this.lastRangeStart||o.stack!=this.lastStack||o.stackSubgroups!=this.lastStackSubgroups;this.lastVisibleInterval=a,this.lastRangeStart=e.start,this.lastStack=o.stack,this.lastStackSubgroups=o.stackSubgroups,this.props.lastWidth=this.props.width;var p=this._firstGroup(),u={item:t.item,axis:t.axis},d={item:t.item,axis:t.item.vertical/2},c=0,f=t.axis+t.item.vertical;this.groups[x].redraw(e,d,l);var y={},g=0;if(h.forEach(this.groups,function(t,i){i!==x&&(y[i]=t.redraw(e,t==p?u:d,l,!0),g=y[i].length)}),g>0){for(var m={},v=0;v<g;v++)h.forEach(y,function(t,e){m[e]=t[v]()});h.forEach(this.groups,function(t,e){e!==x&&(r=m[e]||r,c+=t.height)}),c=Math.max(c,f)}return c=Math.max(c,f),s.style.height=i(c),this.props.width=s.offsetWidth,this.props.height=c,this.dom.axis.style.top=i("top"==n?this.body.domProps.top.height+this.body.domProps.border.top:this.body.domProps.top.height+this.body.domProps.centerContainer.height),this.options.rtl?this.dom.axis.style.right="0":this.dom.axis.style.left="0",this.initialItemSetDrawn=!0,r=this._isResized()||r},n.prototype._firstGroup=function(){return this.groups[this.groupIds["top"==this.options.orientation.item?0:this.groupIds.length-1]]||this.groups[w]||null},n.prototype._updateUngrouped=function(){var t,e,i=this.groups[w];if(this.groupsData){if(i)for(e in i.hide(),delete this.groups[w],this.items)if(this.items.hasOwnProperty(e)){(t=this.items[e]).parent&&t.parent.remove(t);var o=this._getGroupId(t.data),n=this.groups[o];n&&n.add(t)||t.hide()}}else if(!i){for(e in i=new c(null,null,this),this.groups[w]=i,this.items)this.items.hasOwnProperty(e)&&i.add(t=this.items[e]);i.show()}},n.prototype.getLabelSet=function(){return this.dom.labelSet},n.prototype.setItems=function(t){var e,i=this,o=this.itemsData;if(t){if(!(t instanceof l||t instanceof p))throw new TypeError("Data must be an instance of DataSet or DataView");this.itemsData=t}else this.itemsData=null;if(o&&(h.forEach(this.itemListeners,function(t,e){o.off(e,t)}),e=o.getIds(),this._onRemove(e)),this.itemsData){var n=this.id;h.forEach(this.itemListeners,function(t,e){i.itemsData.on(e,t,n)}),e=this.itemsData.getIds(),this._onAdd(e),this._updateUngrouped()}this.body.emitter.emit("_change",{queue:!0})},n.prototype.getItems=function(){return this.itemsData},n.prototype.setGroups=function(t){var e,i=this;if(this.groupsData&&(h.forEach(this.groupListeners,function(t,e){i.groupsData.off(e,t)}),e=this.groupsData.getIds(),this.groupsData=null,this._onRemoveGroups(e)),t){if(!(t instanceof l||t instanceof p))throw new TypeError("Data must be an instance of DataSet or DataView");this.groupsData=t}else this.groupsData=null;if(this.groupsData){var o=this.groupsData;this.groupsData instanceof p&&(o=this.groupsData.getDataSet()),o.get().forEach(function(t){t.nestedGroups&&t.nestedGroups.forEach(function(e){var i=o.get(e);i.nestedInGroup=t.id,0==t.showNested&&(i.visible=!1),o.update(i)})});var n=this.id;h.forEach(this.groupListeners,function(t,e){i.groupsData.on(e,t,n)}),e=this.groupsData.getIds(),this._onAddGroups(e)}this._updateUngrouped(),this._order(),this.body.emitter.emit("_change",{queue:!0})},n.prototype.getGroups=function(){return this.groupsData},n.prototype.removeItem=function(t){var e=this.itemsData.get(t),i=this.itemsData.getDataSet();e&&this.options.onRemove(e,function(e){e&&i.remove(t)})},n.prototype._getType=function(t){return t.type||this.options.type||(t.end?"range":"box")},n.prototype._getGroupId=function(t){return"background"==this._getType(t)&&void 0==t.group?x:this.groupsData?t.group:w},n.prototype._onAdd=n.prototype._onUpdate=function(t){var e=this;t.forEach((function(t){var i,o=e.itemsData.get(t,e.itemOptions),r=e.items[t],s=o?e._getType(o):null,a=n.types[s];if(r&&(a&&r instanceof a?e._updateItem(r,o):(i=r.selected,e._removeItem(r),r=null)),!r&&o){if(!a)throw"rangeoverflow"==s?new TypeError('Item type "rangeoverflow" is deprecated. Use css styling instead: .vis-item.vis-range .vis-item-content {overflow: visible;}'):new TypeError('Unknown item type "'+s+'"');(r=new a(o,e.conversion,e.options)).id=t,e._addItem(r),i&&(this.selection.push(t),r.select())}}).bind(this)),this._order(),this.body.emitter.emit("_change",{queue:!0})},n.prototype._onRemove=function(t){var e=0,i=this;t.forEach(function(t){var o=i.items[t];o&&(e++,i._removeItem(o))}),e&&(this._order(),this.body.emitter.emit("_change",{queue:!0}))},n.prototype._order=function(){h.forEach(this.groups,function(t){t.order()})},n.prototype._onUpdateGroups=function(t){this._onAddGroups(t)},n.prototype._onAddGroups=function(t){var e=this;t.forEach(function(t){var i=e.groupsData.get(t),o=e.groups[t];if(o)o.setData(i);else{if(t==w||t==x)throw new Error("Illegal group id. "+t+" is a reserved id.");var n=(0,r.default)(e.options);for(var s in h.extend(n,{height:null}),o=new c(t,i,e),e.groups[t]=o,e.items)if(e.items.hasOwnProperty(s)){var a=e.items[s];a.data.group==t&&o.add(a)}o.order(),o.show()}}),this.body.emitter.emit("_change",{queue:!0})},n.prototype._onRemoveGroups=function(t){var e=this.groups;t.forEach(function(t){var i=e[t];i&&(i.hide(),delete e[t])}),this.markDirty(),this.body.emitter.emit("_change",{queue:!0})},n.prototype._orderGroups=function(){if(this.groupsData){var t=this.groupsData.getIds({order:this.options.groupOrder});t=this._orderNestedGroups(t);var e=!h.equalArray(t,this.groupIds);if(e){var i=this.groups;t.forEach(function(t){i[t].hide()}),t.forEach(function(t){i[t].show()}),this.groupIds=t}return e}return!1},n.prototype._orderNestedGroups=function(t){var e=[];return t.forEach(function(t){var i=this.groupsData.get(t);if(i.nestedInGroup||e.push(t),i.nestedGroups){var o=this.groupsData.get({filter:function(e){return e.nestedInGroup==t},order:this.options.groupOrder}).map(function(t){return t.id});e=e.concat(o)}},this),e},n.prototype._addItem=function(t){this.items[t.id]=t;var e=this._getGroupId(t.data),i=this.groups[e];i?i&&i.data&&i.data.showNested&&(t.groupShowing=!0):t.groupShowing=!1,i&&i.add(t)},n.prototype._updateItem=function(t,e){t.setData(e);var i=this._getGroupId(t.data),o=this.groups[i];o?o&&o.data&&o.data.showNested&&(t.groupShowing=!0):t.groupShowing=!1},n.prototype._removeItem=function(t){t.hide(),delete this.items[t.id];var e=this.selection.indexOf(t.id);-1!=e&&this.selection.splice(e,1),t.parent&&t.parent.remove(t)},n.prototype._constructByEndArray=function(t){for(var e=[],i=0;i<t.length;i++)t[i]instanceof m&&e.push(t[i]);return e},n.prototype._onTouch=function(t){this.touchParams.item=this.itemFromTarget(t),this.touchParams.dragLeftItem=t.target.dragLeftItem||!1,this.touchParams.dragRightItem=t.target.dragRightItem||!1,this.touchParams.itemProps=null},n.prototype._getGroupIndex=function(t){for(var e=0;e<this.groupIds.length;e++)if(t==this.groupIds[e])return e},n.prototype._onDragStart=function(t){if(!this.touchParams.itemIsDragging){var e,i=this.touchParams.item||null,o=this;if(i&&(i.selected||this.options.itemsAlwaysDraggable.item)){if(this.options.editable.overrideItems&&!this.options.editable.updateTime&&!this.options.editable.updateGroup)return;if(null!=i.editable&&!i.editable.updateTime&&!i.editable.updateGroup&&!this.options.editable.overrideItems)return;var n=this.touchParams.dragLeftItem,r=this.touchParams.dragRightItem;if(this.touchParams.itemIsDragging=!0,this.touchParams.selectedItem=i,n)e={item:n,initialX:t.center.x,dragLeft:!0,data:this._cloneItemData(i.data)},this.touchParams.itemProps=[e];else if(r)e={item:r,initialX:t.center.x,dragRight:!0,data:this._cloneItemData(i.data)},this.touchParams.itemProps=[e];else if(this.options.editable.add&&(t.srcEvent.ctrlKey||t.srcEvent.metaKey))this._onDragStartAddItem(t);else{this.groupIds.length<1&&this.redraw();var s=this._getGroupIndex(i.data.group),a=this.options.itemsAlwaysDraggable.item&&!i.selected?[i.id]:this.getSelection();this.touchParams.itemProps=a.map((function(e){var i=o.items[e],n=o._getGroupIndex(i.data.group);return{item:i,initialX:t.center.x,groupOffset:s-n,data:this._cloneItemData(i.data)}}).bind(this))}t.stopPropagation()}else this.options.editable.add&&(t.srcEvent.ctrlKey||t.srcEvent.metaKey)&&this._onDragStartAddItem(t)}},n.prototype._onDragStartAddItem=function(t){var e,i,o=this.options.snap||null;this.options.rtl?i=(e=h.getAbsoluteRight(this.dom.frame))-t.center.x+10:(e=h.getAbsoluteLeft(this.dom.frame),i=t.center.x-e-10);var n=this.body.util.toTime(i),r=this.body.util.getScale(),s=this.body.util.getStep(),a=o?o(n,r,s):n,l={type:"range",start:a,end:a,content:"new item"},p=h.randomUUID();l[this.itemsData._fieldId]=p;var u=this.groupFromTarget(t);u&&(l.group=u.groupId);var d=new m(l,this.conversion,this.options);d.id=p,d.data=this._cloneItemData(l),this._addItem(d),this.touchParams.selectedItem=d;var c={item:d,initialX:t.center.x,data:d.data};this.options.rtl?c.dragLeft=!0:c.dragRight=!0,this.touchParams.itemProps=[c],t.stopPropagation()},n.prototype._onDrag=function(t){if(this.touchParams.itemProps){t.stopPropagation();var e,i=this,o=this.options.snap||null;e=this.options.rtl?this.body.dom.root.offsetLeft+this.body.domProps.right.width:this.body.dom.root.offsetLeft+this.body.domProps.left.width;var n=this.body.util.getScale(),r=this.body.util.getStep(),s=this.touchParams.selectedItem,a=(this.options.editable.overrideItems||null==s.editable)&&this.options.editable.updateGroup||!this.options.editable.overrideItems&&null!=s.editable&&s.editable.updateGroup,l=null;if(a&&s&&void 0!=s.data.group){var p=i.groupFromTarget(t);p&&(l=this._getGroupIndex(p.groupId))}this.touchParams.itemProps.forEach((function(p){var u,d,c,f,y,g=i.body.util.toTime(t.center.x-e),m=i.body.util.toTime(p.initialX-e);u=this.options.rtl?-(g-m):g-m;var v=this._cloneItemData(p.item.data);if(null==p.item.editable||p.item.editable.updateTime||p.item.editable.updateGroup||i.options.editable.overrideItems){if((this.options.editable.overrideItems||null==s.editable)&&this.options.editable.updateTime||!this.options.editable.overrideItems&&null!=s.editable&&s.editable.updateTime)if(p.dragLeft)this.options.rtl?void 0!=v.end&&(c=h.convert(p.data.end,"Date"),y=new Date(c.valueOf()+u),v.end=o?o(y,n,r):y):void 0!=v.start&&(d=h.convert(p.data.start,"Date"),f=new Date(d.valueOf()+u),v.start=o?o(f,n,r):f);else if(p.dragRight)this.options.rtl?void 0!=v.start&&(d=h.convert(p.data.start,"Date"),f=new Date(d.valueOf()+u),v.start=o?o(f,n,r):f):void 0!=v.end&&(c=h.convert(p.data.end,"Date"),y=new Date(c.valueOf()+u),v.end=o?o(y,n,r):y);else if(void 0!=v.start)if(d=h.convert(p.data.start,"Date").valueOf(),f=new Date(d+u),void 0!=v.end){var b=(c=h.convert(p.data.end,"Date")).valueOf()-d.valueOf();v.start=o?o(f,n,r):f,v.end=new Date(v.start.valueOf()+b)}else v.start=o?o(f,n,r):f;if(a&&!p.dragLeft&&!p.dragRight&&null!=l&&void 0!=v.group){var w=l-p.groupOffset;w=Math.max(0,w),w=Math.min(i.groupIds.length-1,w),v.group=i.groupIds[w]}v=this._cloneItemData(v),i.options.onMoving(v,(function(t){t&&p.item.setData(this._cloneItemData(t,"Date"))}).bind(this))}}).bind(this)),this.body.emitter.emit("_change")}},n.prototype._moveToGroup=function(t,e){var i=this.groups[e];if(i&&i.groupId!=t.data.group){var o=t.parent;o.remove(t),o.order(),t.data.group=i.groupId,i.add(t),i.order()}},n.prototype._onDragEnd=function(t){if(this.touchParams.itemIsDragging=!1,this.touchParams.itemProps){t.stopPropagation();var e=this,i=this.itemsData.getDataSet(),o=this.touchParams.itemProps;this.touchParams.itemProps=null,o.forEach((function(t){var o=t.item.id;if(null!=e.itemsData.get(o,e.itemOptions)){var n=this._cloneItemData(t.item.data);e.options.onMove(n,function(n){n?(n[i._fieldId]=o,i.update(n)):(t.item.setData(t.data),e.body.emitter.emit("_change"))})}else e.options.onAdd(t.item.data,function(i){e._removeItem(t.item),i&&e.itemsData.getDataSet().add(i),e.body.emitter.emit("_change")})}).bind(this))}},n.prototype._onGroupClick=function(t){var e=this.groupFromTarget(t);if(e&&e.nestedGroups){var i=this.groupsData.getDataSet(),o=i.get(e.groupId);void 0==o.showNested&&(o.showNested=!0),o.showNested=!o.showNested;var n=i.get(e.nestedGroups).map(function(t){return t.visible=o.showNested,t});i.update(n.concat(o)),o.showNested?(h.removeClassName(e.dom.label,"collapsed"),h.addClassName(e.dom.label,"expanded")):(h.removeClassName(e.dom.label,"expanded"),h.addClassName(e.dom.label,this.options.rtl?"collapsed-rtl":"collapsed"))}},n.prototype._onGroupDragStart=function(t){this.options.groupEditable.order&&(this.groupTouchParams.group=this.groupFromTarget(t),this.groupTouchParams.group&&(t.stopPropagation(),this.groupTouchParams.originalOrder=this.groupsData.getIds({order:this.options.groupOrder})))},n.prototype._onGroupDrag=function(t){if(this.options.groupEditable.order&&this.groupTouchParams.group){t.stopPropagation();var e=this.groupsData;this.groupsData instanceof p&&(e=this.groupsData.getDataSet());var i=this.groupFromTarget(t);if(i&&i.height!=this.groupTouchParams.group.height){var o=i.top<this.groupTouchParams.group.top,n=t.center?t.center.y:t.clientY,r=h.getAbsoluteTop(i.dom.foreground),s=this.groupTouchParams.group.height;if(o){if(r+s<n)return}else if(r+i.height-s>n)return}if(i&&i!=this.groupTouchParams.group){var a=e.get(i.groupId),l=e.get(this.groupTouchParams.group.groupId);l&&a&&(this.options.groupOrderSwap(l,a,e),e.update(l),e.update(a));var u=e.getIds({order:this.options.groupOrder});if(!h.equalArray(u,this.groupTouchParams.originalOrder))for(var d=this.groupTouchParams.originalOrder,c=this.groupTouchParams.group.groupId,f=Math.min(d.length,u.length),y=0,g=0,m=0;y<f;){for(;y+g<f&&y+m<f&&u[y+g]==d[y+m];)y++;if(y+g>=f)break;if(u[y+g]==c)g=1;else if(d[y+m]==c)m=1;else{var v=u.indexOf(d[y+m]),b=e.get(u[y+g]),w=e.get(d[y+m]);this.options.groupOrderSwap(b,w,e),e.update(b),e.update(w);var x=u[y+g];u[y+g]=d[y+m],u[v]=x,y++}}}}},n.prototype._onGroupDragEnd=function(t){if(this.options.groupEditable.order&&this.groupTouchParams.group){t.stopPropagation();var e=this,i=e.groupTouchParams.group.groupId,o=e.groupsData.getDataSet(),n=h.extend({},o.get(i));e.options.onMoveGroup(n,function(t){if(t)t[o._fieldId]=i,o.update(t);else{var n=o.getIds({order:e.options.groupOrder});if(!h.equalArray(n,e.groupTouchParams.originalOrder))for(var r=e.groupTouchParams.originalOrder,s=Math.min(r.length,n.length),a=0;a<s;){for(;a<s&&n[a]==r[a];)a++;if(a>=s)break;var l=n.indexOf(r[a]),p=o.get(n[a]),u=o.get(r[a]);e.options.groupOrderSwap(p,u,o),o.update(p),o.update(u);var d=n[a];n[a]=r[a],n[l]=d,a++}}}),e.body.emitter.emit("groupDragged",{groupId:i})}},n.prototype._onSelectItem=function(t){if(this.options.selectable){if(t.srcEvent&&(t.srcEvent.ctrlKey||t.srcEvent.metaKey)||t.srcEvent&&t.srcEvent.shiftKey)return void this._onMultiSelectItem(t);var e=this.getSelection(),i=this.itemFromTarget(t);this.setSelection(i?[i.id]:[]);var o=this.getSelection();(o.length>0||e.length>0)&&this.body.emitter.emit("select",{items:o,event:t})}},n.prototype._onMouseOver=function(t){var e=this.itemFromTarget(t);if(e&&e!==this.itemFromRelatedTarget(t)){var i=e.getTitle();if(this.options.showTooltips&&i){null==this.popup&&(this.popup=new b(this.body.dom.root,this.options.tooltip.overflowMethod||"flip")),this.popup.setText(i);var o=this.body.dom.centerContainer;this.popup.setPosition(t.clientX-h.getAbsoluteLeft(o)+o.offsetLeft,t.clientY-h.getAbsoluteTop(o)+o.offsetTop),this.popup.show()}else null!=this.popup&&this.popup.hide();this.body.emitter.emit("itemover",{item:e.id,event:t})}},n.prototype._onMouseOut=function(t){var e=this.itemFromTarget(t);e&&e!==this.itemFromRelatedTarget(t)&&(null!=this.popup&&this.popup.hide(),this.body.emitter.emit("itemout",{item:e.id,event:t}))},n.prototype._onMouseMove=function(t){if(this.itemFromTarget(t)&&this.options.showTooltips&&this.options.tooltip.followMouse&&this.popup&&!this.popup.hidden){var e=this.body.dom.centerContainer;this.popup.setPosition(t.clientX-h.getAbsoluteLeft(e)+e.offsetLeft,t.clientY-h.getAbsoluteTop(e)+e.offsetTop),this.popup.show()}},n.prototype._onMouseWheel=function(t){this.touchParams.itemIsDragging&&this._onDragEnd(t)},n.prototype._onUpdateItem=function(t){if(this.options.selectable&&this.options.editable.add){var e=this;if(t){var i=e.itemsData.get(t.id);this.options.onUpdate(i,function(t){t&&e.itemsData.getDataSet().update(t)})}}},n.prototype._onDropObjectOnItem=function(t){var e=this.itemFromTarget(t),i=JSON.parse(t.dataTransfer.getData("text"));this.options.onDropObjectOnItem(i,e)},n.prototype._onAddItem=function(t){if(this.options.selectable&&this.options.editable.add){var e,i,o=this,n=this.options.snap||null;this.options.rtl?i=(e=h.getAbsoluteRight(this.dom.frame))-t.center.x:(e=h.getAbsoluteLeft(this.dom.frame),i=t.center.x-e);var r,s,a=this.body.util.toTime(i),l=this.body.util.getScale(),p=this.body.util.getStep();"drop"==t.type?((s=JSON.parse(t.dataTransfer.getData("text"))).content=s.content?s.content:"new item",s.start=s.start?s.start:n?n(a,l,p):a,s.type=s.type||"box",s[this.itemsData._fieldId]=s.id||h.randomUUID(),"range"!=s.type||s.end||(r=this.body.util.toTime(i+this.props.width/5),s.end=n?n(r,l,p):r)):((s={start:n?n(a,l,p):a,content:"new item"})[this.itemsData._fieldId]=h.randomUUID(),"range"===this.options.type&&(r=this.body.util.toTime(i+this.props.width/5),s.end=n?n(r,l,p):r));var u=this.groupFromTarget(t);u&&(s.group=u.groupId),s=this._cloneItemData(s),this.options.onAdd(s,function(e){e&&(o.itemsData.getDataSet().add(e),"drop"==t.type&&o.setSelection([e.id]))})}},n.prototype._onMultiSelectItem=function(t){if(this.options.selectable){var e=this.itemFromTarget(t);if(e){var i=this.options.multiselect?this.getSelection():[];if(t.srcEvent&&t.srcEvent.shiftKey&&this.options.multiselect){var o=this.itemsData.get(e.id).group,r=void 0;this.options.multiselectPerGroup&&i.length>0&&(r=this.itemsData.get(i[0]).group),this.options.multiselectPerGroup&&void 0!=r&&r!=o||i.push(e.id);var s=n._getItemRange(this.itemsData.get(i,this.itemOptions));if(!this.options.multiselectPerGroup||r==o)for(var a in i=[],this.items)if(this.items.hasOwnProperty(a)){var h=this.items[a],l=h.data.start;!(l>=s.min&&(void 0!==h.data.end?h.data.end:l)<=s.max)||this.options.multiselectPerGroup&&r!=this.itemsData.get(h.id).group||h instanceof v||i.push(h.id)}}else{var p=i.indexOf(e.id);-1==p?i.push(e.id):i.splice(p,1)}this.setSelection(i),this.body.emitter.emit("select",{items:this.getSelection(),event:t})}}},n._getItemRange=function(t){var e=null,i=null;return t.forEach(function(t){(null==i||t.start<i)&&(i=t.start),void 0!=t.end?(null==e||t.end>e)&&(e=t.end):(null==e||t.start>e)&&(e=t.start)}),{min:i,max:e}},n.prototype.itemFromElement=function(t){for(var e=t;e;){if(e.hasOwnProperty("timeline-item"))return e["timeline-item"];e=e.parentNode}return null},n.prototype.itemFromTarget=function(t){return this.itemFromElement(t.target)},n.prototype.itemFromRelatedTarget=function(t){return this.itemFromElement(t.relatedTarget)},n.prototype.groupFromTarget=function(t){var e=t.center?t.center.y:t.clientY,i=this.groupIds;i.length<=0&&this.groupsData&&(i=this.groupsData.getIds({order:this.options.groupOrder}));for(var o=0;o<i.length;o++){var n=this.groups[i[o]],r=n.dom.foreground,s=h.getAbsoluteTop(r);if(e>s&&e<s+r.offsetHeight)return n;if("top"===this.options.orientation.item){if(o===this.groupIds.length-1&&e>s)return n}else if(0===o&&e<s+r.offset)return n}return null},n.itemSetFromTarget=function(t){for(var e=t.target;e;){if(e.hasOwnProperty("timeline-itemset"))return e["timeline-itemset"];e=e.parentNode}return null},n.prototype._cloneItemData=function(t,e){var i=h.extend({},t);return e||(e=this.itemsData.getDataSet()._options.type),void 0!=i.start&&(i.start=h.convert(i.start,e&&e.start||"Date")),void 0!=i.end&&(i.end=h.convert(i.end,e&&e.end||"Date")),i},t.exports=n},function(t,e,i){e.orderByStart=function(t){t.sort(function(t,e){return t.data.start-e.data.start})},e.orderByEnd=function(t){t.sort(function(t,e){return("end"in t.data?t.data.end:t.data.start)-("end"in e.data?e.data.end:e.data.start)})},e.stack=function(t,i,o){if(o)for(var n=0;n<t.length;n++)t[n].top=null;for(n=0;n<t.length;n++){var r=t[n];if(r.stack&&null===r.top){r.top=i.axis;do{for(var s=null,a=0,h=t.length;a<h;a++){var l=t[a];if(null!==l.top&&l!==r&&l.stack&&e.collision(r,l,i.item,l.options.rtl)){s=l;break}}null!=s&&(r.top=s.top+s.height+i.item.vertical)}while(s)}}},e.substack=function(t,i,o){for(var n=0;n<t.length;n++)t[n].top=null;var r=o.height;for(n=0;n<t.length;n++){var s=t[n];if(s.stack&&null===s.top){s.top=s.baseTop;do{for(var a=null,h=0,l=t.length;h<l;h++){var p=t[h];if(null!==p.top&&p!==s&&e.collision(s,p,i.item,p.options.rtl)){a=p;break}}null!=a&&(s.top=a.top+a.height+i.item.vertical),s.top+s.height>r&&(r=s.top+s.height)}while(a)}}o.height=r-o.top+.5*i.item.vertical},e.nostack=function(t,i,o,n){for(var r=0;r<t.length;r++)if(void 0==t[r].data.subgroup)t[r].top=i.item.vertical;else if(void 0!==t[r].data.subgroup&&n){var s=0;for(var a in o)o.hasOwnProperty(a)&&1==o[a].visible&&o[a].index<o[t[r].data.subgroup].index&&(o[t[r].data.subgroup].top=s+=o[a].height);t[r].top=s+.5*i.item.vertical}n||e.stackSubgroups(t,i,o)},e.stackSubgroups=function(t,i,o){for(var n in o)if(o.hasOwnProperty(n)){o[n].top=0;do{var r=null;for(var s in o)if(null!==o[s].top&&s!==n&&o[n].index>o[s].index&&e.collisionByTimes(o[n],o[s])){r=o[s];break}null!=r&&(o[n].top=r.top+r.height)}while(r)}for(var a=0;a<t.length;a++)void 0!==t[a].data.subgroup&&(t[a].top=o[t[a].data.subgroup].top+.5*i.item.vertical)},e.stackSubgroupsWithInnerStack=function(t,i,o){var n=!1,r=[];for(var s in o)o[s].hasOwnProperty("index")?r[o[s].index]=s:r.push(s);for(var a=0;a<r.length;a++)if(o.hasOwnProperty(s=r[a])){for(var h in n=n||o[s].stack,o[s].top=0,o)o[h].visible&&o[s].index>o[h].index&&(o[s].top+=o[h].height);for(var l=t[s],p=0;p<l.length;p++)void 0!==l[p].data.subgroup&&(l[p].top=o[l[p].data.subgroup].top+.5*i.item.vertical,o[s].stack&&(l[p].baseTop=l[p].top));n&&o[s].stack&&e.substack(t[s],i,o[s])}},e.collision=function(t,e,i,o){return o?t.right-i.horizontal+.001<e.right+e.width&&t.right+t.width+i.horizontal-.001>e.right&&t.top-i.vertical+.001<e.top+e.height&&t.top+t.height+i.vertical-.001>e.top:t.left-i.horizontal+.001<e.left+e.width&&t.left+t.width+i.horizontal-.001>e.left&&t.top-i.vertical+.001<e.top+e.height&&t.top+t.height+i.vertical-.001>e.top},e.collisionByTimes=function(t,e){return t.start<=e.start&&t.end>=e.start&&t.top<e.top+e.height&&t.top+t.height>e.top||e.start<=t.start&&e.end>=t.start&&e.top<t.top+t.height&&e.top+e.height>t.top}},function(t,e,i){function o(t,e,i){if(this.props={dot:{width:0,height:0},line:{width:0,height:0}},this.options=i,t&&void 0==t.start)throw new Error('Property "start" missing in item '+t);n.call(this,t,e,i)}var n=i(38);(o.prototype=new n(null,null,null)).isVisible=function(t){var e=this.options.align,i=this.width*t.getMillisecondsPerPixel();return"right"==e?this.data.start.getTime()>t.start&&this.data.start.getTime()-i<t.end:"left"==e?this.data.start.getTime()+i>t.start&&this.data.start.getTime()<t.end:this.data.start.getTime()+i/2>t.start&&this.data.start.getTime()-i/2<t.end},o.prototype._createDomElement=function(){this.dom||(this.dom={},this.dom.box=document.createElement("DIV"),this.dom.content=document.createElement("DIV"),this.dom.content.className="vis-item-content",this.dom.box.appendChild(this.dom.content),this.dom.line=document.createElement("DIV"),this.dom.line.className="vis-line",this.dom.dot=document.createElement("DIV"),this.dom.dot.className="vis-dot",this.dom.box["timeline-item"]=this,this.dirty=!0)},o.prototype._appendDomElement=function(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.box.parentNode){var t=this.parent.dom.foreground;if(!t)throw new Error("Cannot redraw item: parent has no foreground container element");t.appendChild(this.dom.box)}if(!this.dom.line.parentNode){var e=this.parent.dom.background;if(!e)throw new Error("Cannot redraw item: parent has no background container element");e.appendChild(this.dom.line)}if(!this.dom.dot.parentNode){var i=this.parent.dom.axis;if(!e)throw new Error("Cannot redraw item: parent has no axis container element");i.appendChild(this.dom.dot)}this.displayed=!0},o.prototype._updateDirtyDomComponents=function(){if(this.dirty){this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.box),this._updateStyle(this.dom.box);var t=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(this.editable.updateTime||this.editable.updateGroup?" vis-editable":" vis-readonly");this.dom.box.className="vis-item vis-box"+t,this.dom.line.className="vis-item vis-line"+t,this.dom.dot.className="vis-item vis-dot"+t}},o.prototype._getDomComponentsSizes=function(){return{previous:{right:this.dom.box.style.right,left:this.dom.box.style.left},dot:{height:this.dom.dot.offsetHeight,width:this.dom.dot.offsetWidth},line:{width:this.dom.line.offsetWidth},box:{width:this.dom.box.offsetWidth,height:this.dom.box.offsetHeight}}},o.prototype._updateDomComponentsSizes=function(t){this.options.rtl?this.dom.box.style.right="0px":this.dom.box.style.left="0px",this.props.dot.height=t.dot.height,this.props.dot.width=t.dot.width,this.props.line.width=t.line.width,this.width=t.box.width,this.height=t.box.height,this.options.rtl?this.dom.box.style.right=t.previous.right:this.dom.box.style.left=t.previous.left,this.dirty=!1},o.prototype._repaintDomAdditionals=function(){this._repaintOnItemUpdateTimeTooltip(this.dom.box),this._repaintDragCenter(),this._repaintDeleteButton(this.dom.box)},o.prototype.redraw=function(t){var e,i,o=[this._createDomElement.bind(this),this._appendDomElement.bind(this),this._updateDirtyDomComponents.bind(this),(function(){this.dirty&&(e=this._getDomComponentsSizes())}).bind(this),(function(){this.dirty&&this._updateDomComponentsSizes.bind(this)(e)}).bind(this),this._repaintDomAdditionals.bind(this)];return t?o:(o.forEach(function(t){i=t()}),i)},o.prototype.show=function(){this.displayed||this.redraw()},o.prototype.hide=function(){if(this.displayed){var t=this.dom;t.box.parentNode&&t.box.parentNode.removeChild(t.box),t.line.parentNode&&t.line.parentNode.removeChild(t.line),t.dot.parentNode&&t.dot.parentNode.removeChild(t.dot),this.displayed=!1}},o.prototype.repositionX=function(){var t=this.conversion.toScreen(this.data.start),e=this.options.align;"right"==e?this.options.rtl?(this.right=t-this.width,this.dom.box.style.right=this.right+"px",this.dom.line.style.right=t-this.props.line.width+"px",this.dom.dot.style.right=t-this.props.line.width/2-this.props.dot.width/2+"px"):(this.left=t-this.width,this.dom.box.style.left=this.left+"px",this.dom.line.style.left=t-this.props.line.width+"px",this.dom.dot.style.left=t-this.props.line.width/2-this.props.dot.width/2+"px"):"left"==e?this.options.rtl?(this.right=t,this.dom.box.style.right=this.right+"px",this.dom.line.style.right=t+"px",this.dom.dot.style.right=t+this.props.line.width/2-this.props.dot.width/2+"px"):(this.left=t,this.dom.box.style.left=this.left+"px",this.dom.line.style.left=t+"px",this.dom.dot.style.left=t+this.props.line.width/2-this.props.dot.width/2+"px"):this.options.rtl?(this.right=t-this.width/2,this.dom.box.style.right=this.right+"px",this.dom.line.style.right=t-this.props.line.width+"px",this.dom.dot.style.right=t-this.props.dot.width/2+"px"):(this.left=t-this.width/2,this.dom.box.style.left=this.left+"px",this.dom.line.style.left=t-this.props.line.width/2+"px",this.dom.dot.style.left=t-this.props.dot.width/2+"px")},o.prototype.repositionY=function(){var t=this.dom.box,e=this.dom.line,i=this.dom.dot;if("top"==this.options.orientation.item)t.style.top=(this.top||0)+"px",e.style.top="0",e.style.height=this.parent.top+this.top+1+"px",e.style.bottom="";else{var o=this.parent.itemSet.props.height,n=o-this.parent.top-this.parent.height+this.top;t.style.top=(this.parent.height-this.top-this.height||0)+"px",e.style.top=o-n+"px",e.style.bottom="0"}i.style.top=-this.props.dot.height/2+"px"},o.prototype.getWidthLeft=function(){return this.width/2},o.prototype.getWidthRight=function(){return this.width/2},t.exports=o},function(t,e,i){function o(t,e,i){if(this.props={dot:{top:0,width:0,height:0},content:{height:0,marginLeft:0,marginRight:0}},this.options=i,t&&void 0==t.start)throw new Error('Property "start" missing in item '+t);n.call(this,t,e,i)}var n=i(38);(o.prototype=new n(null,null,null)).isVisible=function(t){var e=this.width*t.getMillisecondsPerPixel();return this.data.start.getTime()+e>t.start&&this.data.start<t.end},o.prototype._createDomElement=function(){this.dom||(this.dom={},this.dom.point=document.createElement("div"),this.dom.content=document.createElement("div"),this.dom.content.className="vis-item-content",this.dom.point.appendChild(this.dom.content),this.dom.dot=document.createElement("div"),this.dom.point.appendChild(this.dom.dot),this.dom.point["timeline-item"]=this,this.dirty=!0)},o.prototype._appendDomElement=function(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.point.parentNode){var t=this.parent.dom.foreground;if(!t)throw new Error("Cannot redraw item: parent has no foreground container element");t.appendChild(this.dom.point)}this.displayed=!0},o.prototype._updateDirtyDomComponents=function(){if(this.dirty){this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.point),this._updateStyle(this.dom.point);var t=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(this.editable.updateTime||this.editable.updateGroup?" vis-editable":" vis-readonly");this.dom.point.className="vis-item vis-point"+t,this.dom.dot.className="vis-item vis-dot"+t}},o.prototype._getDomComponentsSizes=function(){return{dot:{width:this.dom.dot.offsetWidth,height:this.dom.dot.offsetHeight},content:{width:this.dom.content.offsetWidth,height:this.dom.content.offsetHeight},point:{width:this.dom.point.offsetWidth,height:this.dom.point.offsetHeight}}},o.prototype._updateDomComponentsSizes=function(t){this.props.dot.width=t.dot.width,this.props.dot.height=t.dot.height,this.props.content.height=t.content.height,this.options.rtl?this.dom.content.style.marginRight=2*this.props.dot.width+"px":this.dom.content.style.marginLeft=2*this.props.dot.width+"px",this.width=t.point.width,this.height=t.point.height,this.dom.dot.style.top=(this.height-this.props.dot.height)/2+"px",this.options.rtl?this.dom.dot.style.right=this.props.dot.width/2+"px":this.dom.dot.style.left=this.props.dot.width/2+"px",this.dirty=!1},o.prototype._repaintDomAdditionals=function(){this._repaintOnItemUpdateTimeTooltip(this.dom.point),this._repaintDragCenter(),this._repaintDeleteButton(this.dom.point)},o.prototype.redraw=function(t){var e,i,o=[this._createDomElement.bind(this),this._appendDomElement.bind(this),this._updateDirtyDomComponents.bind(this),(function(){this.dirty&&(e=this._getDomComponentsSizes())}).bind(this),(function(){this.dirty&&this._updateDomComponentsSizes.bind(this)(e)}).bind(this),this._repaintDomAdditionals.bind(this)];return t?o:(o.forEach(function(t){i=t()}),i)},o.prototype.show=function(){this.displayed||this.redraw()},o.prototype.hide=function(){this.displayed&&(this.dom.point.parentNode&&this.dom.point.parentNode.removeChild(this.dom.point),this.displayed=!1)},o.prototype.repositionX=function(){var t=this.conversion.toScreen(this.data.start);this.options.rtl?(this.right=t-this.props.dot.width,this.dom.point.style.right=this.right+"px"):(this.left=t-this.props.dot.width,this.dom.point.style.left=this.left+"px")},o.prototype.repositionY=function(){this.dom.point.style.top="top"==this.options.orientation.item?this.top+"px":this.parent.height-this.top-this.height+"px"},o.prototype.getWidthLeft=function(){return this.props.dot.width},o.prototype.getWidthRight=function(){return this.props.dot.width},t.exports=o},function(t,e,i){function o(t,e,i){if(this.props={content:{width:0}},this.overflow=!1,t){if(void 0==t.start)throw new Error('Property "start" missing in item '+t.id);if(void 0==t.end)throw new Error('Property "end" missing in item '+t.id)}n.call(this,t,e,i)}var n=i(38),r=i(69),s=i(70);(o.prototype=new n(null,null,null)).baseClassName="vis-item vis-background",o.prototype.stack=!1,o.prototype.isVisible=function(t){return this.data.start<t.end&&this.data.end>t.start},o.prototype._createDomElement=function(){this.dom||(this.dom={},this.dom.box=document.createElement("div"),this.dom.frame=document.createElement("div"),this.dom.frame.className="vis-item-overflow",this.dom.box.appendChild(this.dom.frame),this.dom.content=document.createElement("div"),this.dom.content.className="vis-item-content",this.dom.frame.appendChild(this.dom.content),this.dirty=!0)},o.prototype._appendDomElement=function(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.box.parentNode){var t=this.parent.dom.background;if(!t)throw new Error("Cannot redraw item: parent has no background container element");t.appendChild(this.dom.box)}this.displayed=!0},o.prototype._updateDirtyDomComponents=function(){this.dirty&&(this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.content),this._updateStyle(this.dom.box),this.dom.box.className=this.baseClassName+(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":""))},o.prototype._getDomComponentsSizes=function(){return this.overflow="hidden"!==window.getComputedStyle(this.dom.content).overflow,{content:{width:this.dom.content.offsetWidth}}},o.prototype._updateDomComponentsSizes=function(t){this.props.content.width=t.content.width,this.height=0,this.dirty=!1},o.prototype._repaintDomAdditionals=function(){},o.prototype.redraw=function(t){var e,i,o=[this._createDomElement.bind(this),this._appendDomElement.bind(this),this._updateDirtyDomComponents.bind(this),(function(){this.dirty&&(e=this._getDomComponentsSizes.bind(this)())}).bind(this),(function(){this.dirty&&this._updateDomComponentsSizes.bind(this)(e)}).bind(this),this._repaintDomAdditionals.bind(this)];return t?o:(o.forEach(function(t){i=t()}),i)},o.prototype.show=s.prototype.show,o.prototype.hide=s.prototype.hide,o.prototype.repositionX=s.prototype.repositionX,o.prototype.repositionY=function(t){var e,i=this.options.orientation.item;if(void 0!==this.data.subgroup){var o=this.data.subgroup;this.dom.box.style.height=this.parent.subgroups[o].height+"px",this.dom.box.style.top="top"==i?this.parent.top+this.parent.subgroups[o].top+"px":this.parent.top+this.parent.height-this.parent.subgroups[o].top-this.parent.subgroups[o].height+"px",this.dom.box.style.bottom=""}else this.parent instanceof r?(e=Math.max(this.parent.height,this.parent.itemSet.body.domProps.center.height,this.parent.itemSet.body.domProps.centerContainer.height),this.dom.box.style.bottom="bottom"==i?"0":"",this.dom.box.style.top="top"==i?"0":""):(e=this.parent.height,this.dom.box.style.top=this.parent.top+"px",this.dom.box.style.bottom="");this.dom.box.style.height=e+"px"},t.exports=o},function(t,e,i){function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=o(i(0)),r=o(i(1)),s=function(){function t(e,i){(0,n.default)(this,t),this.container=e,this.overflowMethod=i||"cap",this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement("div"),this.frame.className="vis-tooltip",this.container.appendChild(this.frame)}return(0,r.default)(t,[{key:"setPosition",value:function(t,e){this.x=parseInt(t),this.y=parseInt(e)}},{key:"setText",value:function(t){t instanceof Element?(this.frame.innerHTML="",this.frame.appendChild(t)):this.frame.innerHTML=t}},{key:"show",value:function(t){if(void 0===t&&(t=!0),!0===t){var e=this.frame.clientHeight,i=this.frame.clientWidth,o=this.frame.parentNode.clientHeight,n=this.frame.parentNode.clientWidth,r=0,s=0;if("flip"==this.overflowMethod){var a=!1,h=!0;this.y-e<this.padding&&(h=!1),this.x+i>n-this.padding&&(a=!0),r=a?this.x-i:this.x,s=h?this.y-e:this.y}else(s=this.y-e)+e+this.padding>o&&(s=o-e-this.padding),s<this.padding&&(s=this.padding),(r=this.x)+i+this.padding>n&&(r=n-i-this.padding),r<this.padding&&(r=this.padding);this.frame.style.left=r+"px",this.frame.style.top=s+"px",this.frame.style.visibility="visible",this.hidden=!1}else this.hide()}},{key:"hide",value:function(){this.hidden=!0,this.frame.style.left="0",this.frame.style.top="0",this.frame.style.visibility="hidden"}},{key:"destroy",value:function(){this.frame.parentNode.removeChild(this.frame)}}]),t}();e.default=s},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var o="string",n="boolean",r="number",s="object";e.allOptions={configure:{enabled:{boolean:n},filter:{boolean:n,function:"function"},container:{dom:"dom"},__type__:{object:s,boolean:n,function:"function"}},align:{string:o},rtl:{boolean:n,undefined:"undefined"},rollingMode:{follow:{boolean:n},offset:{number:r,undefined:"undefined"},__type__:{object:s}},verticalScroll:{boolean:n,undefined:"undefined"},horizontalScroll:{boolean:n,undefined:"undefined"},autoResize:{boolean:n},throttleRedraw:{number:r},clickToUse:{boolean:n},dataAttributes:{string:o,array:"array"},editable:{add:{boolean:n,undefined:"undefined"},remove:{boolean:n,undefined:"undefined"},updateGroup:{boolean:n,undefined:"undefined"},updateTime:{boolean:n,undefined:"undefined"},overrideItems:{boolean:n,undefined:"undefined"},__type__:{boolean:n,object:s}},end:{number:r,date:"date",string:o,moment:"moment"},format:{minorLabels:{millisecond:{string:o,undefined:"undefined"},second:{string:o,undefined:"undefined"},minute:{string:o,undefined:"undefined"},hour:{string:o,undefined:"undefined"},weekday:{string:o,undefined:"undefined"},day:{string:o,undefined:"undefined"},week:{string:o,undefined:"undefined"},month:{string:o,undefined:"undefined"},year:{string:o,undefined:"undefined"},__type__:{object:s,function:"function"}},majorLabels:{millisecond:{string:o,undefined:"undefined"},second:{string:o,undefined:"undefined"},minute:{string:o,undefined:"undefined"},hour:{string:o,undefined:"undefined"},weekday:{string:o,undefined:"undefined"},day:{string:o,undefined:"undefined"},week:{string:o,undefined:"undefined"},month:{string:o,undefined:"undefined"},year:{string:o,undefined:"undefined"},__type__:{object:s,function:"function"}},__type__:{object:s}},moment:{function:"function"},groupOrder:{string:o,function:"function"},groupEditable:{add:{boolean:n,undefined:"undefined"},remove:{boolean:n,undefined:"undefined"},order:{boolean:n,undefined:"undefined"},__type__:{boolean:n,object:s}},groupOrderSwap:{function:"function"},height:{string:o,number:r},hiddenDates:{start:{date:"date",number:r,string:o,moment:"moment"},end:{date:"date",number:r,string:o,moment:"moment"},repeat:{string:o},__type__:{object:s,array:"array"}},itemsAlwaysDraggable:{item:{boolean:n,undefined:"undefined"},range:{boolean:n,undefined:"undefined"},__type__:{boolean:n,object:s}},limitSize:{boolean:n},locale:{string:o},locales:{__any__:{any:"any"},__type__:{object:s}},margin:{axis:{number:r},item:{horizontal:{number:r,undefined:"undefined"},vertical:{number:r,undefined:"undefined"},__type__:{object:s,number:r}},__type__:{object:s,number:r}},max:{date:"date",number:r,string:o,moment:"moment"},maxHeight:{number:r,string:o},maxMinorChars:{number:r},min:{date:"date",number:r,string:o,moment:"moment"},minHeight:{number:r,string:o},moveable:{boolean:n},multiselect:{boolean:n},multiselectPerGroup:{boolean:n},onAdd:{function:"function"},onDropObjectOnItem:{function:"function"},onUpdate:{function:"function"},onMove:{function:"function"},onMoving:{function:"function"},onRemove:{function:"function"},onAddGroup:{function:"function"},onMoveGroup:{function:"function"},onRemoveGroup:{function:"function"},onInitialDrawComplete:{function:"function"},order:{function:"function"},orientation:{axis:{string:o,undefined:"undefined"},item:{string:o,undefined:"undefined"},__type__:{string:o,object:s}},selectable:{boolean:n},showCurrentTime:{boolean:n},showMajorLabels:{boolean:n},showMinorLabels:{boolean:n},stack:{boolean:n},stackSubgroups:{boolean:n},snap:{function:"function",null:"null"},start:{date:"date",number:r,string:o,moment:"moment"},template:{function:"function"},groupTemplate:{function:"function"},visibleFrameTemplate:{string:o,function:"function"},showTooltips:{boolean:n},tooltip:{followMouse:{boolean:n},overflowMethod:{string:["cap","flip"]},__type__:{object:s}},tooltipOnItemUpdateTime:{template:{function:"function"},__type__:{boolean:n,object:s}},timeAxis:{scale:{string:o,undefined:"undefined"},step:{number:r,undefined:"undefined"},__type__:{object:s}},type:{string:o},width:{string:o,number:r},zoomable:{boolean:n},zoomKey:{string:["ctrlKey","altKey","metaKey",""]},zoomMax:{number:r},zoomMin:{number:r},__type__:{object:s}},e.configureOptions={global:{align:["center","left","right"],direction:!1,autoResize:!0,clickToUse:!1,editable:{add:!1,remove:!1,updateGroup:!1,updateTime:!1},end:"",format:{minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",week:"w",month:"MMM",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",week:"MMMM YYYY",month:"YYYY",year:""}},groupsDraggable:!1,height:"",locale:"",margin:{axis:[20,0,100,1],item:{horizontal:[10,0,100,1],vertical:[10,0,100,1]}},max:"",maxHeight:"",maxMinorChars:[7,0,20,1],min:"",minHeight:"",moveable:!1,multiselect:!1,multiselectPerGroup:!1,orientation:{axis:["both","bottom","top"],item:["bottom","top"]},selectable:!0,showCurrentTime:!1,showMajorLabels:!0,showMinorLabels:!0,stack:!0,stackSubgroups:!0,start:"",showTooltips:!0,tooltip:{followMouse:!1,overflowMethod:"flip"},tooltipOnItemUpdateTime:!1,type:["box","point","range","background"],width:"100%",zoomable:!0,zoomKey:["ctrlKey","altKey","metaKey",""],zoomMax:[31536e10,10,31536e10,1],zoomMin:[10,10,31536e10,1]}}},function(t,e,i){function o(t,e){this.id=s.randomUUID(),this.body=t,this.defaultOptions={yAxisOrientation:"left",defaultGroup:"default",sort:!0,sampling:!0,stack:!1,graphHeight:"400px",shaded:{enabled:!1,orientation:"bottom"},style:"line",barChart:{width:50,sideBySide:!1,align:"center"},interpolation:{enabled:!0,parametrization:"centripetal",alpha:.5},drawPoints:{enabled:!0,size:6,style:"square"},dataAxis:{},legend:{},groups:{visibility:{}}},this.options=s.extend({},this.defaultOptions),this.dom={},this.props={},this.hammer=null,this.groups={},this.abortedGraphUpdate=!1,this.updateSVGheight=!1,this.updateSVGheightOnResize=!1,this.forceGraphUpdate=!0;var i=this;this.itemsData=null,this.groupsData=null,this.itemListeners={add:function(t,e,o){i._onAdd(e.items)},update:function(t,e,o){i._onUpdate(e.items)},remove:function(t,e,o){i._onRemove(e.items)}},this.groupListeners={add:function(t,e,o){i._onAddGroups(e.items)},update:function(t,e,o){i._onUpdateGroups(e.items)},remove:function(t,e,o){i._onRemoveGroups(e.items)}},this.items={},this.selection=[],this.lastStart=this.body.range.start,this.touchParams={},this.svgElements={},this.setOptions(e),this.groupsUsingDefaultStyles=[0],this.body.emitter.on("rangechanged",function(){i.lastStart=i.body.range.start,i.svg.style.left=s.option.asSize(-i.props.width),i.forceGraphUpdate=!0,i.redraw.call(i)}),this._create(),this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups}}var n=i(6),r=n&&n.__esModule?n:{default:n},s=i(2),a=i(14),h=i(11),l=i(12),p=i(16),u=i(107),d=i(109),c=i(112),f=i(110),y=i(111),g=i(72);(o.prototype=new p)._create=function(){var t=document.createElement("div");t.className="vis-line-graph",this.dom.frame=t,this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="relative",this.svg.style.height=(""+this.options.graphHeight).replace("px","")+"px",this.svg.style.display="block",t.appendChild(this.svg),this.options.dataAxis.orientation="left",this.yAxisLeft=new u(this.body,this.options.dataAxis,this.svg,this.options.groups),this.options.dataAxis.orientation="right",this.yAxisRight=new u(this.body,this.options.dataAxis,this.svg,this.options.groups),delete this.options.dataAxis.orientation,this.legendLeft=new c(this.body,this.options.legend,"left",this.options.groups),this.legendRight=new c(this.body,this.options.legend,"right",this.options.groups),this.show()},o.prototype.setOptions=function(t){t&&(void 0===t.graphHeight&&void 0!==t.height?(this.updateSVGheight=!0,this.updateSVGheightOnResize=!0):void 0!==this.body.domProps.centerContainer.height&&void 0!==t.graphHeight&&parseInt((t.graphHeight+"").replace("px",""))<this.body.domProps.centerContainer.height&&(this.updateSVGheight=!0),s.selectiveDeepExtend(["sampling","defaultGroup","stack","height","graphHeight","yAxisOrientation","style","barChart","dataAxis","sort","groups"],this.options,t),s.mergeOptions(this.options,t,"interpolation"),s.mergeOptions(this.options,t,"drawPoints"),s.mergeOptions(this.options,t,"shaded"),s.mergeOptions(this.options,t,"legend"),t.interpolation&&"object"==(0,r.default)(t.interpolation)&&t.interpolation.parametrization&&("uniform"==t.interpolation.parametrization?this.options.interpolation.alpha=0:"chordal"==t.interpolation.parametrization?this.options.interpolation.alpha=1:(this.options.interpolation.parametrization="centripetal",this.options.interpolation.alpha=.5)),this.yAxisLeft&&void 0!==t.dataAxis&&(this.yAxisLeft.setOptions(this.options.dataAxis),this.yAxisRight.setOptions(this.options.dataAxis)),this.legendLeft&&void 0!==t.legend&&(this.legendLeft.setOptions(this.options.legend),this.legendRight.setOptions(this.options.legend)),this.groups.hasOwnProperty("__ungrouped__")&&this.groups.__ungrouped__.setOptions(t)),this.dom.frame&&(this.forceGraphUpdate=!0,this.body.emitter.emit("_change",{queue:!0}))},o.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame)},o.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame)},o.prototype.setItems=function(t){var e,i=this,o=this.itemsData;if(t){if(!(t instanceof h||t instanceof l))throw new TypeError("Data must be an instance of DataSet or DataView");this.itemsData=t}else this.itemsData=null;if(o&&(s.forEach(this.itemListeners,function(t,e){o.off(e,t)}),e=o.getIds(),this._onRemove(e)),this.itemsData){var n=this.id;s.forEach(this.itemListeners,function(t,e){i.itemsData.on(e,t,n)}),e=this.itemsData.getIds(),this._onAdd(e)}},o.prototype.setGroups=function(t){var e,i=this;if(this.groupsData){s.forEach(this.groupListeners,function(t,e){i.groupsData.off(e,t)}),e=this.groupsData.getIds(),this.groupsData=null;for(var o=0;o<e.length;o++)this._removeGroup(e[o])}if(t){if(!(t instanceof h||t instanceof l))throw new TypeError("Data must be an instance of DataSet or DataView");this.groupsData=t}else this.groupsData=null;if(this.groupsData){var n=this.id;s.forEach(this.groupListeners,function(t,e){i.groupsData.on(e,t,n)}),e=this.groupsData.getIds(),this._onAddGroups(e)}},o.prototype._onUpdate=function(t){this._updateAllGroupData(t)},o.prototype._onAdd=function(t){this._onUpdate(t)},o.prototype._onRemove=function(t){this._onUpdate(t)},o.prototype._onUpdateGroups=function(t){this._updateAllGroupData(null,t)},o.prototype._onAddGroups=function(t){this._onUpdateGroups(t)},o.prototype._onRemoveGroups=function(t){for(var e=0;e<t.length;e++)this._removeGroup(t[e]);this.forceGraphUpdate=!0,this.body.emitter.emit("_change",{queue:!0})},o.prototype._removeGroup=function(t){this.groups.hasOwnProperty(t)&&("right"==this.groups[t].options.yAxisOrientation?(this.yAxisRight.removeGroup(t),this.legendRight.removeGroup(t),this.legendRight.redraw()):(this.yAxisLeft.removeGroup(t),this.legendLeft.removeGroup(t),this.legendLeft.redraw()),delete this.groups[t])},o.prototype._updateGroup=function(t,e){this.groups.hasOwnProperty(e)?(this.groups[e].update(t),"right"==this.groups[e].options.yAxisOrientation?(this.yAxisRight.updateGroup(e,this.groups[e]),this.legendRight.updateGroup(e,this.groups[e]),this.yAxisLeft.removeGroup(e),this.legendLeft.removeGroup(e)):(this.yAxisLeft.updateGroup(e,this.groups[e]),this.legendLeft.updateGroup(e,this.groups[e]),this.yAxisRight.removeGroup(e),this.legendRight.removeGroup(e))):(this.groups[e]=new d(t,e,this.options,this.groupsUsingDefaultStyles),"right"==this.groups[e].options.yAxisOrientation?(this.yAxisRight.addGroup(e,this.groups[e]),this.legendRight.addGroup(e,this.groups[e])):(this.yAxisLeft.addGroup(e,this.groups[e]),this.legendLeft.addGroup(e,this.groups[e]))),this.legendLeft.redraw(),this.legendRight.redraw()},o.prototype._updateAllGroupData=function(t,e){if(null!=this.itemsData){var i={},o=this.itemsData.get(),n=this.itemsData._fieldId,r={};t&&t.map(function(t){r[t]=t});for(var a={},h=0;h<o.length;h++){var l=o[h],p=l.group;null!==p&&void 0!==p||(p="__ungrouped__"),a.hasOwnProperty(p)?a[p]++:a[p]=1}var u={};if(!e&&t)for(p in this.groups)if(this.groups.hasOwnProperty(p)){var d=(g=this.groups[p]).getItems();i[p]=d.filter(function(t){return u[t[n]]=t[n],t[n]!==r[t[n]]});var c=a[p];a[p]-=i[p].length,i[p].length<c&&(i[p][c-1]={})}for(h=0;h<o.length;h++)if(null!==(p=(l=o[h]).group)&&void 0!==p||(p="__ungrouped__"),e||!t||l[n]===r[l[n]]||!u.hasOwnProperty(l[n])){i.hasOwnProperty(p)||(i[p]=new Array(a[p]));var f=s.bridgeObject(l);f.x=s.convert(l.x,"Date"),f.end=s.convert(l.end,"Date"),f.orginalY=l.y,f.y=Number(l.y),f[n]=l[n];var y=i[p].length-a[p]--;i[p][y]=f}for(p in this.groups)this.groups.hasOwnProperty(p)&&(i.hasOwnProperty(p)||(i[p]=new Array(0)));for(p in i)if(i.hasOwnProperty(p))if(0==i[p].length)this.groups.hasOwnProperty(p)&&this._removeGroup(p);else{var g=void 0;void 0!=this.groupsData&&(g=this.groupsData.get(p)),void 0==g&&(g={id:p,content:this.options.defaultGroup+p}),this._updateGroup(g,p),this.groups[p].setItems(i[p])}this.forceGraphUpdate=!0,this.body.emitter.emit("_change",{queue:!0})}},o.prototype.redraw=function(){var t=!1;this.props.width=this.dom.frame.offsetWidth,this.props.height=this.body.domProps.centerContainer.height-this.body.domProps.border.top-this.body.domProps.border.bottom,t=this._isResized()||t;var e=this.body.range.end-this.body.range.start,i=e!=this.lastVisibleInterval;return this.lastVisibleInterval=e,1==t&&(this.svg.style.width=s.option.asSize(3*this.props.width),this.svg.style.left=s.option.asSize(-this.props.width),-1==(this.options.height+"").indexOf("%")&&1!=this.updateSVGheightOnResize||(this.updateSVGheight=!0)),1==this.updateSVGheight?(this.options.graphHeight!=this.props.height+"px"&&(this.options.graphHeight=this.props.height+"px",this.svg.style.height=this.props.height+"px"),this.updateSVGheight=!1):this.svg.style.height=(""+this.options.graphHeight).replace("px","")+"px",1==t||1==i||1==this.abortedGraphUpdate||1==this.forceGraphUpdate?(t=this._updateGraph()||t,this.forceGraphUpdate=!1):0!=this.lastStart&&0!=this.props.width&&(this.svg.style.left=-this.props.width-this.props.width/(this.body.range.end-this.body.range.start)*(this.body.range.start-this.lastStart)+"px"),this.legendLeft.redraw(),this.legendRight.redraw(),t},o.prototype._getSortedGroupIds=function(){var t=[];for(var e in this.groups)if(this.groups.hasOwnProperty(e)){var i=this.groups[e];1!=i.visible||void 0!==this.options.groups.visibility[e]&&1!=this.options.groups.visibility[e]||t.push({id:e,zIndex:i.options.zIndex})}s.insertSort(t,function(t,e){var i=t.zIndex,o=e.zIndex;return void 0===i&&(i=0),void 0===o&&(o=0),i==o?0:i<o?-1:1});for(var o=new Array(t.length),n=0;n<t.length;n++)o[n]=t[n].id;return o},o.prototype._updateGraph=function(){if(a.prepareElements(this.svgElements),0!=this.props.width&&null!=this.itemsData){var t,e,i={},o=this.body.util.toGlobalTime(-this.body.domProps.root.width),n=this.body.util.toGlobalTime(2*this.body.domProps.root.width),r=this._getSortedGroupIds();if(r.length>0){var s={};for(this._getRelevantData(r,s,o,n),this._applySampling(r,s),e=0;e<r.length;e++)this._convertXcoordinates(s[r[e]]);if(this._getYRanges(r,s,i),1==this._updateYAxis(r,i))return a.cleanupElements(this.svgElements),this.abortedGraphUpdate=!0,!0;this.abortedGraphUpdate=!1;var h=void 0;for(e=0;e<r.length;e++)t=this.groups[r[e]],!0===this.options.stack&&"line"===this.options.style&&(void 0!=t.options.excludeFromStacking&&t.options.excludeFromStacking||(void 0!=h&&(this._stack(s[t.id],s[h.id]),1==t.options.shaded.enabled&&"group"!==t.options.shaded.orientation&&("top"==t.options.shaded.orientation&&"group"!==h.options.shaded.orientation?(h.options.shaded.orientation="group",h.options.shaded.groupId=t.id):(t.options.shaded.orientation="group",t.options.shaded.groupId=h.id))),h=t)),this._convertYcoordinates(s[r[e]],t);var l={};for(e=0;e<r.length;e++)if("line"===(t=this.groups[r[e]]).options.style&&1==t.options.shaded.enabled){var p=s[r[e]];if(null==p||0==p.length)continue;if(l.hasOwnProperty(r[e])||(l[r[e]]=y.calcPath(p,t)),"group"===t.options.shaded.orientation){var u=t.options.shaded.groupId;if(-1===r.indexOf(u)){console.log(t.id+": Unknown shading group target given:"+u);continue}l.hasOwnProperty(u)||(l[u]=y.calcPath(s[u],this.groups[u])),y.drawShading(l[r[e]],t,l[u],this.framework)}else y.drawShading(l[r[e]],t,void 0,this.framework)}for(f.draw(r,s,this.framework),e=0;e<r.length;e++)if(t=this.groups[r[e]],s[r[e]].length>0)switch(t.options.style){case"line":l.hasOwnProperty(r[e])||(l[r[e]]=y.calcPath(s[r[e]],t)),y.draw(l[r[e]],t,this.framework);case"point":case"points":"point"!=t.options.style&&"points"!=t.options.style&&1!=t.options.drawPoints.enabled||g.draw(s[r[e]],t,this.framework)}}}return a.cleanupElements(this.svgElements),!1},o.prototype._stack=function(t,e){var i,o,n,r;i=0;for(var s=0;s<t.length;s++){n=void 0,r=void 0;for(var a=i;a<e.length;a++){if(e[a].x===t[s].x){n=e[a],r=e[a],i=a;break}if(e[a].x>t[s].x){r=e[a],n=0==a?r:e[a-1],i=a;break}}void 0===r&&(n=e[e.length-1],r=e[e.length-1]),t[s].y=0==(o=r.x-n.x)?t[s].orginalY+r.y:t[s].orginalY+(r.y-n.y)/o*(t[s].x-n.x)+n.y}},o.prototype._getRelevantData=function(t,e,i,o){var n,r,a;if(t.length>0)for(r=0;r<t.length;r++){var h=(n=this.groups[t[r]]).getItems();if(1==n.options.sort){var l=function(t,e){return t.getTime()==e.getTime()?0:t<e?-1:1},p=Math.max(0,s.binarySearchValue(h,i,"x","before",l)),u=Math.min(h.length,s.binarySearchValue(h,o,"x","after",l)+1);u<=0&&(u=h.length);var d=new Array(u-p);for(a=p;a<u;a++)d[a-p]=n.itemsData[a];e[t[r]]=d}else e[t[r]]=n.itemsData}},o.prototype._applySampling=function(t,e){if(t.length>0)for(var i=0;i<t.length;i++)if(1==this.groups[t[i]].options.sampling){var o=e[t[i]];if(o.length>0){var n,r=o.length,s=r/(this.body.util.toGlobalScreen(o[o.length-1].x)-this.body.util.toGlobalScreen(o[0].x));n=Math.min(Math.ceil(.2*r),Math.max(1,Math.round(s)));for(var a=new Array(r),h=0;h<r;h+=n)a[Math.round(h/n)]=o[h];e[t[i]]=a.splice(0,Math.round(r/n))}}},o.prototype._getYRanges=function(t,e,i){var o,n,r,s,a=[],h=[];if(t.length>0){for(r=0;r<t.length;r++)s=this.groups[t[r]].options,(o=e[t[r]]).length>0&&(n=this.groups[t[r]],!0===s.stack&&"bar"===s.style?"left"===s.yAxisOrientation?a=a.concat(o):h=h.concat(o):i[t[r]]=n.getYRange(o,t[r]));f.getStackedYRange(a,i,t,"__barStackLeft","left"),f.getStackedYRange(h,i,t,"__barStackRight","right")}},o.prototype._updateYAxis=function(t,e){var i,o,n=!1,r=!1,s=!1,a=1e9,h=1e9,l=-1e9,p=-1e9;if(t.length>0){for(var u=0;u<t.length;u++){var d=this.groups[t[u]];d&&"right"!=d.options.yAxisOrientation?(r=!0,a=1e9,l=-1e9):d&&d.options.yAxisOrientation&&(s=!0,h=1e9,p=-1e9)}for(u=0;u<t.length;u++)e.hasOwnProperty(t[u])&&!0!==e[t[u]].ignore&&(i=e[t[u]].min,o=e[t[u]].max,"right"!=e[t[u]].yAxisOrientation?(r=!0,a=a>i?i:a,l=l<o?o:l):(s=!0,h=h>i?i:h,p=p<o?o:p));1==r&&this.yAxisLeft.setRange(a,l),1==s&&this.yAxisRight.setRange(h,p)}n=this._toggleAxisVisiblity(r,this.yAxisLeft)||n,n=this._toggleAxisVisiblity(s,this.yAxisRight)||n,1==s&&1==r?(this.yAxisLeft.drawIcons=!0,this.yAxisRight.drawIcons=!0):(this.yAxisLeft.drawIcons=!1,this.yAxisRight.drawIcons=!1),this.yAxisRight.master=!r,this.yAxisRight.masterAxis=this.yAxisLeft,0==this.yAxisRight.master?(this.yAxisLeft.lineOffset=1==s?this.yAxisRight.width:0,n=this.yAxisLeft.redraw()||n,n=this.yAxisRight.redraw()||n):n=this.yAxisRight.redraw()||n;var c=["__barStackLeft","__barStackRight","__lineStackLeft","__lineStackRight"];for(u=0;u<c.length;u++)-1!=t.indexOf(c[u])&&t.splice(t.indexOf(c[u]),1);return n},o.prototype._toggleAxisVisiblity=function(t,e){var i=!1;return 0==t?e.dom.frame.parentNode&&0==e.hidden&&(e.hide(),i=!0):e.dom.frame.parentNode||1!=e.hidden||(e.show(),i=!0),i},o.prototype._convertXcoordinates=function(t){for(var e=this.body.util.toScreen,i=0;i<t.length;i++)t[i].screen_x=e(t[i].x)+this.props.width,t[i].screen_y=t[i].y,t[i].screen_end=void 0!=t[i].end?e(t[i].end)+this.props.width:void 0},o.prototype._convertYcoordinates=function(t,e){var i=this.yAxisLeft,o=Number(this.svg.style.height.replace("px",""));"right"==e.options.yAxisOrientation&&(i=this.yAxisRight);for(var n=0;n<t.length;n++)t[n].screen_y=Math.round(i.convertValue(t[n].y));e.setZeroPosition(Math.min(o,i.convertValue(0)))},t.exports=o},function(t,e,i){function o(t,e,i,o){this.id=s.randomUUID(),this.body=t,this.defaultOptions={orientation:"left",showMinorLabels:!0,showMajorLabels:!0,icons:!1,majorLinesOffset:7,minorLinesOffset:4,labelOffsetX:10,labelOffsetY:2,iconWidth:20,width:"40px",visible:!0,alignZeros:!0,left:{range:{min:void 0,max:void 0},format:function(t){return""+parseFloat(t.toPrecision(3))},title:{text:void 0,style:void 0}},right:{range:{min:void 0,max:void 0},format:function(t){return""+parseFloat(t.toPrecision(3))},title:{text:void 0,style:void 0}}},this.linegraphOptions=o,this.linegraphSVG=i,this.props={},this.DOMelements={lines:{},labels:{},title:{}},this.dom={},this.scale=void 0,this.range={start:0,end:0},this.options=s.extend({},this.defaultOptions),this.conversionFactor=1,this.setOptions(e),this.width=Number((""+this.options.width).replace("px","")),this.minWidth=this.width,this.height=this.linegraphSVG.getBoundingClientRect().height,this.hidden=!1,this.stepPixels=25,this.zeroCrossing=-1,this.amountOfSteps=-1,this.lineOffset=0,this.master=!0,this.masterAxis=null,this.svgElements={},this.iconsRemoved=!1,this.groups={},this.amountOfGroups=0,this._create(),this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups};var n=this;this.body.emitter.on("verticalDrag",function(){n.dom.lineContainer.style.top=n.body.domProps.scrollTop+"px"})}var n=i(8),r=n&&n.__esModule?n:{default:n},s=i(2),a=i(14),h=i(16),l=i(108);(o.prototype=new h).addGroup=function(t,e){this.groups.hasOwnProperty(t)||(this.groups[t]=e),this.amountOfGroups+=1},o.prototype.updateGroup=function(t,e){this.groups.hasOwnProperty(t)||(this.amountOfGroups+=1),this.groups[t]=e},o.prototype.removeGroup=function(t){this.groups.hasOwnProperty(t)&&(delete this.groups[t],this.amountOfGroups-=1)},o.prototype.setOptions=function(t){if(t){var e=!1;this.options.orientation!=t.orientation&&void 0!==t.orientation&&(e=!0),s.selectiveDeepExtend(["orientation","showMinorLabels","showMajorLabels","icons","majorLinesOffset","minorLinesOffset","labelOffsetX","labelOffsetY","iconWidth","width","visible","left","right","alignZeros"],this.options,t),this.minWidth=Number((""+this.options.width).replace("px","")),!0===e&&this.dom.frame&&(this.hide(),this.show())}},o.prototype._create=function(){this.dom.frame=document.createElement("div"),this.dom.frame.style.width=this.options.width,this.dom.frame.style.height=this.height,this.dom.lineContainer=document.createElement("div"),this.dom.lineContainer.style.width="100%",this.dom.lineContainer.style.height=this.height,this.dom.lineContainer.style.position="relative",this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="absolute",this.svg.style.top="0px",this.svg.style.height="100%",this.svg.style.width="100%",this.svg.style.display="block",this.dom.frame.appendChild(this.svg)},o.prototype._redrawGroupIcons=function(){a.prepareElements(this.svgElements);var t,e=this.options.iconWidth,i=11.5;t="left"===this.options.orientation?4:this.width-e-4;var o=(0,r.default)(this.groups);o.sort(function(t,e){return t<e?-1:1});for(var n=0;n<o.length;n++){var s=o[n];!0!==this.groups[s].visible||void 0!==this.linegraphOptions.visibility[s]&&!0!==this.linegraphOptions.visibility[s]||(this.groups[s].getLegend(e,15,this.framework,t,i),i+=19)}a.cleanupElements(this.svgElements),this.iconsRemoved=!1},o.prototype._cleanupIcons=function(){!1===this.iconsRemoved&&(a.prepareElements(this.svgElements),a.cleanupElements(this.svgElements),this.iconsRemoved=!0)},o.prototype.show=function(){this.hidden=!1,this.dom.frame.parentNode||("left"===this.options.orientation?this.body.dom.left.appendChild(this.dom.frame):this.body.dom.right.appendChild(this.dom.frame)),this.dom.lineContainer.parentNode||this.body.dom.backgroundHorizontal.appendChild(this.dom.lineContainer)},o.prototype.hide=function(){this.hidden=!0,this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame),this.dom.lineContainer.parentNode&&this.dom.lineContainer.parentNode.removeChild(this.dom.lineContainer)},o.prototype.setRange=function(t,e){this.range.start=t,this.range.end=e},o.prototype.redraw=function(){var t=!1,e=0;for(var i in this.dom.lineContainer.style.top=this.body.domProps.scrollTop+"px",this.groups)this.groups.hasOwnProperty(i)&&(!0!==this.groups[i].visible||void 0!==this.linegraphOptions.visibility[i]&&!0!==this.linegraphOptions.visibility[i]||e++);if(0===this.amountOfGroups||0===e)this.hide();else{this.show(),this.height=Number(this.linegraphSVG.style.height.replace("px","")),this.dom.lineContainer.style.height=this.height+"px",this.width=!0===this.options.visible?Number((""+this.options.width).replace("px","")):0;var o=this.props,n=this.dom.frame;n.className="vis-data-axis",this._calculateCharSize();var r=this.options.orientation,s=this.options.showMajorLabels;o.minorLabelHeight=this.options.showMinorLabels?o.minorCharHeight:0,o.majorLabelHeight=s?o.majorCharHeight:0,o.minorLineWidth=this.body.dom.backgroundHorizontal.offsetWidth-this.lineOffset-this.width+2*this.options.minorLinesOffset,o.minorLineHeight=1,o.majorLineWidth=this.body.dom.backgroundHorizontal.offsetWidth-this.lineOffset-this.width+2*this.options.majorLinesOffset,o.majorLineHeight=1,"left"===r?(n.style.top="0",n.style.left="0",n.style.bottom="",n.style.width=this.width+"px",n.style.height=this.height+"px",this.props.width=this.body.domProps.left.width,this.props.height=this.body.domProps.left.height):(n.style.top="",n.style.bottom="0",n.style.left="0",n.style.width=this.width+"px",n.style.height=this.height+"px",this.props.width=this.body.domProps.right.width,this.props.height=this.body.domProps.right.height),t=this._redrawLabels(),t=this._isResized()||t,!0===this.options.icons?this._redrawGroupIcons():this._cleanupIcons(),this._redrawTitle(r)}return t},o.prototype._redrawLabels=function(){var t=this,e=!1;a.prepareElements(this.DOMelements.lines),a.prepareElements(this.DOMelements.labels);var i=this.options.orientation,o=void 0!=this.options[i].range?this.options[i].range:{},n=!0;void 0!=o.max&&(this.range.end=o.max,n=!1);var r=!0;void 0!=o.min&&(this.range.start=o.min,r=!1),this.scale=new l(this.range.start,this.range.end,r,n,this.dom.frame.offsetHeight,this.props.majorCharHeight,this.options.alignZeros,this.options[i].format),!1===this.master&&void 0!=this.masterAxis&&this.scale.followScale(this.masterAxis.scale),this.maxLabelSize=0,this.scale.getLines().forEach(function(e){var o=e.y,n=e.major;t.options.showMinorLabels&&!1===n&&t._redrawLabel(o-2,e.val,i,"vis-y-axis vis-minor",t.props.minorCharHeight),n&&o>=0&&t._redrawLabel(o-2,e.val,i,"vis-y-axis vis-major",t.props.majorCharHeight),!0===t.master&&(n?t._redrawLine(o,i,"vis-grid vis-horizontal vis-major",t.options.majorLinesOffset,t.props.majorLineWidth):t._redrawLine(o,i,"vis-grid vis-horizontal vis-minor",t.options.minorLinesOffset,t.props.minorLineWidth))});var s=0;void 0!==this.options[i].title&&void 0!==this.options[i].title.text&&(s=this.props.titleCharHeight);var h=!0===this.options.icons?Math.max(this.options.iconWidth,s)+this.options.labelOffsetX+15:s+this.options.labelOffsetX+15;return this.maxLabelSize>this.width-h&&!0===this.options.visible?(this.width=this.maxLabelSize+h,this.options.width=this.width+"px",a.cleanupElements(this.DOMelements.lines),a.cleanupElements(this.DOMelements.labels),this.redraw(),e=!0):this.maxLabelSize<this.width-h&&!0===this.options.visible&&this.width>this.minWidth?(this.width=Math.max(this.minWidth,this.maxLabelSize+h),this.options.width=this.width+"px",a.cleanupElements(this.DOMelements.lines),a.cleanupElements(this.DOMelements.labels),this.redraw(),e=!0):(a.cleanupElements(this.DOMelements.lines),a.cleanupElements(this.DOMelements.labels),e=!1),e},o.prototype.convertValue=function(t){return this.scale.convertValue(t)},o.prototype.screenToValue=function(t){return this.scale.screenToValue(t)},o.prototype._redrawLabel=function(t,e,i,o,n){var r=a.getDOMElement("div",this.DOMelements.labels,this.dom.frame);r.className=o,r.innerHTML=e,"left"===i?(r.style.left="-"+this.options.labelOffsetX+"px",r.style.textAlign="right"):(r.style.right="-"+this.options.labelOffsetX+"px",r.style.textAlign="left"),r.style.top=t-.5*n+this.options.labelOffsetY+"px",e+="";var s=Math.max(this.props.majorCharWidth,this.props.minorCharWidth);this.maxLabelSize<e.length*s&&(this.maxLabelSize=e.length*s)},o.prototype._redrawLine=function(t,e,i,o,n){if(!0===this.master){var r=a.getDOMElement("div",this.DOMelements.lines,this.dom.lineContainer);r.className=i,r.innerHTML="","left"===e?r.style.left=this.width-o+"px":r.style.right=this.width-o+"px",r.style.width=n+"px",r.style.top=t+"px"}},o.prototype._redrawTitle=function(t){if(a.prepareElements(this.DOMelements.title),void 0!==this.options[t].title&&void 0!==this.options[t].title.text){var e=a.getDOMElement("div",this.DOMelements.title,this.dom.frame);e.className="vis-y-axis vis-title vis-"+t,e.innerHTML=this.options[t].title.text,void 0!==this.options[t].title.style&&s.addCssText(e,this.options[t].title.style),"left"===t?e.style.left=this.props.titleCharHeight+"px":e.style.right=this.props.titleCharHeight+"px",e.style.width=this.height+"px"}a.cleanupElements(this.DOMelements.title)},o.prototype._calculateCharSize=function(){if(!("minorCharHeight"in this.props)){var t=document.createTextNode("0"),e=document.createElement("div");e.className="vis-y-axis vis-minor vis-measure",e.appendChild(t),this.dom.frame.appendChild(e),this.props.minorCharHeight=e.clientHeight,this.props.minorCharWidth=e.clientWidth,this.dom.frame.removeChild(e)}if(!("majorCharHeight"in this.props)){var i=document.createTextNode("0"),o=document.createElement("div");o.className="vis-y-axis vis-major vis-measure",o.appendChild(i),this.dom.frame.appendChild(o),this.props.majorCharHeight=o.clientHeight,this.props.majorCharWidth=o.clientWidth,this.dom.frame.removeChild(o)}if(!("titleCharHeight"in this.props)){var n=document.createTextNode("0"),r=document.createElement("div");r.className="vis-y-axis vis-title vis-measure",r.appendChild(n),this.dom.frame.appendChild(r),this.props.titleCharHeight=r.clientHeight,this.props.titleCharWidth=r.clientWidth,this.dom.frame.removeChild(r)}},t.exports=o},function(t,e,i){function o(t,e,i,o,n,r){var s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],a=arguments.length>7&&void 0!==arguments[7]&&arguments[7];if(this.majorSteps=[1,2,5,10],this.minorSteps=[.25,.5,1,2],this.customLines=null,this.containerHeight=n,this.majorCharHeight=r,this._start=t,this._end=e,this.scale=1,this.minorStepIdx=-1,this.magnitudefactor=1,this.determineScale(),this.zeroAlign=s,this.autoScaleStart=i,this.autoScaleEnd=o,this.formattingFunction=a,i||o){var h=this,l=function(t){var e=t-t%(h.magnitudefactor*h.minorSteps[h.minorStepIdx]);return t%(h.magnitudefactor*h.minorSteps[h.minorStepIdx])>h.magnitudefactor*h.minorSteps[h.minorStepIdx]*.5?e+h.magnitudefactor*h.minorSteps[h.minorStepIdx]:e};i&&(this._start-=2*this.magnitudefactor*this.minorSteps[this.minorStepIdx],this._start=l(this._start)),o&&(this._end+=this.magnitudefactor*this.minorSteps[this.minorStepIdx],this._end=l(this._end)),this.determineScale()}}o.prototype.setCharHeight=function(t){this.majorCharHeight=t},o.prototype.setHeight=function(t){this.containerHeight=t},o.prototype.determineScale=function(){var t=this._end-this._start;this.scale=this.containerHeight/t;var e=this.majorCharHeight/this.scale,i=t>0?Math.round(Math.log(t)/Math.LN10):0;this.minorStepIdx=-1,this.magnitudefactor=Math.pow(10,i);var o=0;i<0&&(o=i);for(var n=!1,r=o;Math.abs(r)<=Math.abs(i);r++){this.magnitudefactor=Math.pow(10,r);for(var s=0;s<this.minorSteps.length;s++)if(this.magnitudefactor*this.minorSteps[s]>=e){n=!0,this.minorStepIdx=s;break}if(!0===n)break}},o.prototype.is_major=function(t){return t%(this.magnitudefactor*this.majorSteps[this.minorStepIdx])==0},o.prototype.getStep=function(){return this.magnitudefactor*this.minorSteps[this.minorStepIdx]},o.prototype.getFirstMajor=function(){var t=this.magnitudefactor*this.majorSteps[this.minorStepIdx];return this.convertValue(this._start+(t-this._start%t)%t)},o.prototype.formatValue=function(t){var e=t.toPrecision(5);return"function"==typeof this.formattingFunction&&(e=this.formattingFunction(t)),"number"==typeof e?""+e:"string"==typeof e?e:t.toPrecision(5)},o.prototype.getLines=function(){for(var t=[],e=this.getStep(),i=this._start+(e-this._start%e)%e;this._end-i>1e-5;i+=e)i!=this._start&&t.push({major:this.is_major(i),y:this.convertValue(i),val:this.formatValue(i)});return t},o.prototype.followScale=function(t){var e=this.minorStepIdx,i=this._start,o=this._end,n=this,r=function(){n.magnitudefactor*=2},s=function(){n.magnitudefactor/=2};t.minorStepIdx<=1&&this.minorStepIdx<=1||t.minorStepIdx>1&&this.minorStepIdx>1||(t.minorStepIdx<this.minorStepIdx?(this.minorStepIdx=1,2==e?r():(r(),r())):(this.minorStepIdx=2,1==e?s():(s(),s())));for(var a=t.convertValue(0),h=t.getStep()*t.scale,l=!1,p=0;!l&&p++<5;){this.scale=h/(this.minorSteps[this.minorStepIdx]*this.magnitudefactor);var u=this.containerHeight/this.scale;this._start=i,this._end=this._start+u;var d=this._end*this.scale,c=this.magnitudefactor*this.majorSteps[this.minorStepIdx],f=this.getFirstMajor()-t.getFirstMajor();if(this.zeroAlign?(this._end+=(a-d)/this.scale,this._start=this._end-u):this.autoScaleStart?(this._start-=f/this.scale,this._end=this._start+u):(this._start+=c-f/this.scale,this._end=this._start+u),!this.autoScaleEnd&&this._end>o+1e-5)s(),l=!1;else{if(!this.autoScaleStart&&this._start<i-1e-5){if(!(this.zeroAlign&&i>=0)){s(),l=!1;continue}console.warn("Can't adhere to given 'min' range, due to zeroalign")}this.autoScaleStart&&this.autoScaleEnd&&u<o-i?(r(),l=!1):l=!0}}},o.prototype.convertValue=function(t){return this.containerHeight-(t-this._start)*this.scale},o.prototype.screenToValue=function(t){return(this.containerHeight-t)/this.scale+this._start},t.exports=o},function(t,e,i){function o(t,e,i,o){this.id=e,this.options=s.selectiveBridgeObject(["sampling","style","sort","yAxisOrientation","barChart","drawPoints","shaded","interpolation","zIndex","excludeFromStacking","excludeFromLegend"],i),this.usingDefaultStyle=void 0===t.className,this.groupsUsingDefaultStyles=o,this.zeroPosition=0,this.update(t),1==this.usingDefaultStyle&&(this.groupsUsingDefaultStyles[0]+=1),this.itemsData=[],this.visible=void 0===t.visible||t.visible}var n=i(6),r=n&&n.__esModule?n:{default:n},s=i(2),a=i(110),h=i(111),l=i(72);o.prototype.setItems=function(t){null!=t?(this.itemsData=t,1==this.options.sort&&s.insertSort(this.itemsData,function(t,e){return t.x>e.x?1:-1})):this.itemsData=[]},o.prototype.getItems=function(){return this.itemsData},o.prototype.setZeroPosition=function(t){this.zeroPosition=t},o.prototype.setOptions=function(t){void 0!==t&&(s.selectiveDeepExtend(["sampling","style","sort","yAxisOrientation","barChart","zIndex","excludeFromStacking","excludeFromLegend"],this.options,t),"function"==typeof t.drawPoints&&(t.drawPoints={onRender:t.drawPoints}),s.mergeOptions(this.options,t,"interpolation"),s.mergeOptions(this.options,t,"drawPoints"),s.mergeOptions(this.options,t,"shaded"),t.interpolation&&"object"==(0,r.default)(t.interpolation)&&t.interpolation.parametrization&&("uniform"==t.interpolation.parametrization?this.options.interpolation.alpha=0:"chordal"==t.interpolation.parametrization?this.options.interpolation.alpha=1:(this.options.interpolation.parametrization="centripetal",this.options.interpolation.alpha=.5)))},o.prototype.update=function(t){this.group=t,this.content=t.content||"graph",this.className=t.className||this.className||"vis-graph-group"+this.groupsUsingDefaultStyles[0]%10,this.visible=void 0===t.visible||t.visible,this.style=t.style,this.setOptions(t.options)},o.prototype.getLegend=function(t,e,i,o,n){switch(void 0!=i&&null!=i||(i={svg:document.createElementNS("http://www.w3.org/2000/svg","svg"),svgElements:{},options:this.options,groups:[this]}),void 0!=o&&null!=o||(o=0),void 0!=n&&null!=n||(n=.5*e),this.options.style){case"line":h.drawIcon(this,o,n,t,e,i);break;case"points":case"point":l.drawIcon(this,o,n,t,e,i);break;case"bar":a.drawIcon(this,o,n,t,e,i)}return{icon:i.svg,label:this.content,orientation:this.options.yAxisOrientation}},o.prototype.getYRange=function(t){for(var e=t[0].y,i=t[0].y,o=0;o<t.length;o++)e=e>t[o].y?t[o].y:e,i=i<t[o].y?t[o].y:i;return{min:e,max:i,yAxisOrientation:this.options.yAxisOrientation}},t.exports=o},function(t,e,i){function o(t,e){}var n=i(14),r=i(72);o.drawIcon=function(t,e,i,o,r,s){var a=.5*r,h=n.getSVGElement("rect",s.svgElements,s.svg);h.setAttributeNS(null,"x",e),h.setAttributeNS(null,"y",i-a),h.setAttributeNS(null,"width",o),h.setAttributeNS(null,"height",2*a),h.setAttributeNS(null,"class","vis-outline");var l=Math.round(.3*o),p=t.options.barChart.width/l,u=Math.round(.4*r),d=Math.round(.75*r),c=Math.round((o-2*l)/3);if(n.drawBar(e+.5*l+c,i+a-u-1,l,u,t.className+" vis-bar",s.svgElements,s.svg,t.style),n.drawBar(e+1.5*l+c+2,i+a-d-1,l,d,t.className+" vis-bar",s.svgElements,s.svg,t.style),1==t.options.drawPoints.enabled){var f={style:t.options.drawPoints.style,styles:t.options.drawPoints.styles,size:t.options.drawPoints.size/p,className:t.className};n.drawPoint(e+.5*l+c,i+a-u-1,f,s.svgElements,s.svg),n.drawPoint(e+1.5*l+c+2,i+a-d-1,f,s.svgElements,s.svg)}},o.draw=function(t,e,i){var s,a,h,l,p,u,d=[],c={},f=0;for(p=0;p<t.length;p++)if("bar"===(l=i.groups[t[p]]).options.style&&!0===l.visible&&(void 0===i.options.groups.visibility[t[p]]||!0===i.options.groups.visibility[t[p]]))for(u=0;u<e[t[p]].length;u++)d.push({screen_x:e[t[p]][u].screen_x,screen_end:e[t[p]][u].screen_end,screen_y:e[t[p]][u].screen_y,x:e[t[p]][u].x,end:e[t[p]][u].end,y:e[t[p]][u].y,groupId:t[p],label:e[t[p]][u].label}),f+=1;if(0!==f)for(d.sort(function(t,e){return t.screen_x===e.screen_x?t.groupId<e.groupId?-1:1:t.screen_x-e.screen_x}),o._getDataIntersections(c,d),p=0;p<d.length;p++){var y=void 0!=(l=i.groups[d[p].groupId]).options.barChart.minWidth?l.options.barChart.minWidth:.1*l.options.barChart.width,g=0;if(void 0===c[a=d[p].screen_x])p+1<d.length&&(s=Math.abs(d[p+1].screen_x-a)),h=o._getSafeDrawData(s,l,y);else{var m=p+(c[a].amount-c[a].resolved);m<d.length&&(s=Math.abs(d[m].screen_x-a)),h=o._getSafeDrawData(s,l,y),c[a].resolved+=1,!0===l.options.stack&&!0!==l.options.excludeFromStacking?d[p].screen_y<l.zeroPosition?(g=c[a].accumulatedNegative,c[a].accumulatedNegative+=l.zeroPosition-d[p].screen_y):(g=c[a].accumulatedPositive,c[a].accumulatedPositive+=l.zeroPosition-d[p].screen_y):!0===l.options.barChart.sideBySide&&(h.width=h.width/c[a].amount,h.offset+=c[a].resolved*h.width-.5*h.width*(c[a].amount+1))}var v=h.width,b=d[p].screen_x;b+=void 0!=d[p].screen_end?.5*(v=d[p].screen_end-d[p].screen_x):h.offset,n.drawBar(b,d[p].screen_y-g,v,l.zeroPosition-d[p].screen_y,l.className+" vis-bar",i.svgElements,i.svg,l.style),!0===l.options.drawPoints.enabled&&r.draw([{screen_x:d[p].screen_x,screen_y:d[p].screen_y-g,x:d[p].x,y:d[p].y,groupId:d[p].groupId,label:d[p].label}],l,i,h.offset)}},o._getDataIntersections=function(t,e){for(var i,o=0;o<e.length;o++)o+1<e.length&&(i=Math.abs(e[o+1].screen_x-e[o].screen_x)),o>0&&(i=Math.min(i,Math.abs(e[o-1].screen_x-e[o].screen_x))),0===i&&(void 0===t[e[o].screen_x]&&(t[e[o].screen_x]={amount:0,resolved:0,accumulatedPositive:0,accumulatedNegative:0}),t[e[o].screen_x].amount+=1)},o._getSafeDrawData=function(t,e,i){var o,n;return t<e.options.barChart.width&&t>0?(o=t<i?i:t,n=0,"left"===e.options.barChart.align?n-=.5*t:"right"===e.options.barChart.align&&(n+=.5*t)):(o=e.options.barChart.width,n=0,"left"===e.options.barChart.align?n-=.5*e.options.barChart.width:"right"===e.options.barChart.align&&(n+=.5*e.options.barChart.width)),{width:o,offset:n}},o.getStackedYRange=function(t,e,i,n,r){if(t.length>0){t.sort(function(t,e){return t.screen_x===e.screen_x?t.groupId<e.groupId?-1:1:t.screen_x-e.screen_x});var s={};o._getDataIntersections(s,t),e[n]=o._getStackedYRange(s,t),e[n].yAxisOrientation=r,i.push(n)}},o._getStackedYRange=function(t,e){for(var i,o=e[0].screen_y,n=e[0].screen_y,r=0;r<e.length;r++)void 0===t[i=e[r].screen_x]?(o=o>e[r].screen_y?e[r].screen_y:o,n=n<e[r].screen_y?e[r].screen_y:n):e[r].screen_y<0?t[i].accumulatedNegative+=e[r].screen_y:t[i].accumulatedPositive+=e[r].screen_y;for(var s in t)t.hasOwnProperty(s)&&(o=(o=o>t[s].accumulatedNegative?t[s].accumulatedNegative:o)>t[s].accumulatedPositive?t[s].accumulatedPositive:o,n=(n=n<t[s].accumulatedNegative?t[s].accumulatedNegative:n)<t[s].accumulatedPositive?t[s].accumulatedPositive:n);return{min:o,max:n}},t.exports=o},function(t,e,i){function o(t,e){}var n=i(14);o.calcPath=function(t,e){if(null!=t&&t.length>0)return 1==e.options.interpolation.enabled?o._catmullRom(t,e):o._linear(t)},o.drawIcon=function(t,e,i,o,r,s){var a,h,l=.5*r,p=n.getSVGElement("rect",s.svgElements,s.svg);p.setAttributeNS(null,"x",e),p.setAttributeNS(null,"y",i-l),p.setAttributeNS(null,"width",o),p.setAttributeNS(null,"height",2*l),p.setAttributeNS(null,"class","vis-outline"),(a=n.getSVGElement("path",s.svgElements,s.svg)).setAttributeNS(null,"class",t.className),void 0!==t.style&&a.setAttributeNS(null,"style",t.style),a.setAttributeNS(null,"d","M"+e+","+i+" L"+(e+o)+","+i),1==t.options.shaded.enabled&&((h=n.getSVGElement("path",s.svgElements,s.svg)).setAttributeNS(null,"d","top"==t.options.shaded.orientation?"M"+e+", "+(i-l)+"L"+e+","+i+" L"+(e+o)+","+i+" L"+(e+o)+","+(i-l):"M"+e+","+i+" L"+e+","+(i+l)+" L"+(e+o)+","+(i+l)+"L"+(e+o)+","+i),h.setAttributeNS(null,"class",t.className+" vis-icon-fill"),void 0!==t.options.shaded.style&&""!==t.options.shaded.style&&h.setAttributeNS(null,"style",t.options.shaded.style)),1==t.options.drawPoints.enabled&&n.drawPoint(e+.5*o,i,{style:t.options.drawPoints.style,styles:t.options.drawPoints.styles,size:t.options.drawPoints.size,className:t.className},s.svgElements,s.svg)},o.drawShading=function(t,e,i,o){if(1==e.options.shaded.enabled){var r,s,a=Number(o.svg.style.height.replace("px","")),h=n.getSVGElement("path",o.svgElements,o.svg),l="L";1==e.options.interpolation.enabled&&(l="C"),s="top"==e.options.shaded.orientation?0:"bottom"==e.options.shaded.orientation?a:Math.min(Math.max(0,e.zeroPosition),a),r="group"==e.options.shaded.orientation&&null!=i&&void 0!=i?"M"+t[0][0]+","+t[0][1]+" "+this.serializePath(t,l,!1)+" L"+i[i.length-1][0]+","+i[i.length-1][1]+" "+this.serializePath(i,l,!0)+i[0][0]+","+i[0][1]+" Z":"M"+t[0][0]+","+t[0][1]+" "+this.serializePath(t,l,!1)+" V"+s+" H"+t[0][0]+" Z",h.setAttributeNS(null,"class",e.className+" vis-fill"),void 0!==e.options.shaded.style&&h.setAttributeNS(null,"style",e.options.shaded.style),h.setAttributeNS(null,"d",r)}},o.draw=function(t,e,i){if(null!=t&&void 0!=t){var o=n.getSVGElement("path",i.svgElements,i.svg);o.setAttributeNS(null,"class",e.className),void 0!==e.style&&o.setAttributeNS(null,"style",e.style);var r="L";1==e.options.interpolation.enabled&&(r="C"),o.setAttributeNS(null,"d","M"+t[0][0]+","+t[0][1]+" "+this.serializePath(t,r,!1))}},o.serializePath=function(t,e,i){if(t.length<2)return"";var o,n=e;if(i)for(o=t.length-2;o>0;o--)n+=t[o][0]+","+t[o][1]+" ";else for(o=1;o<t.length;o++)n+=t[o][0]+","+t[o][1]+" ";return n},o._catmullRomUniform=function(t){var e,i,o,n,r,s,a=[];a.push([Math.round(t[0].screen_x),Math.round(t[0].screen_y)]);for(var h=t.length,l=0;l<h-1;l++)e=0==l?t[0]:t[l-1],s={screen_x:1/6*((i=t[l]).screen_x+6*(o=t[l+1]).screen_x-(n=l+2<h?t[l+2]:o).screen_x),screen_y:1/6*(i.screen_y+6*o.screen_y-n.screen_y)},a.push([(r={screen_x:(6*i.screen_x-e.screen_x+o.screen_x)*(1/6),screen_y:(6*i.screen_y-e.screen_y+o.screen_y)*(1/6)}).screen_x,r.screen_y]),a.push([s.screen_x,s.screen_y]),a.push([o.screen_x,o.screen_y]);return a},o._catmullRom=function(t,e){var i=e.options.interpolation.alpha;if(0==i||void 0===i)return this._catmullRomUniform(t);var o,n,r,s,a,h,l,p,u,d,c,f,y,g,m,v,b,w,x,_=[];_.push([Math.round(t[0].screen_x),Math.round(t[0].screen_y)]);for(var M=t.length,k=0;k<M-1;k++)o=0==k?t[0]:t[k-1],n=t[k],r=t[k+1],s=k+2<M?t[k+2]:r,l=Math.sqrt(Math.pow(o.screen_x-n.screen_x,2)+Math.pow(o.screen_y-n.screen_y,2)),p=Math.sqrt(Math.pow(n.screen_x-r.screen_x,2)+Math.pow(n.screen_y-r.screen_y,2)),u=Math.sqrt(Math.pow(r.screen_x-s.screen_x,2)+Math.pow(r.screen_y-s.screen_y,2)),g=Math.pow(u,i),v=Math.pow(u,2*i),m=Math.pow(p,i),b=Math.pow(p,2*i),x=Math.pow(l,i),d=2*(w=Math.pow(l,2*i))+3*x*m+b,c=2*v+3*g*m+b,(f=3*x*(x+m))>0&&(f=1/f),(y=3*g*(g+m))>0&&(y=1/y),h={screen_x:(v*n.screen_x+c*r.screen_x-b*s.screen_x)*y,screen_y:(v*n.screen_y+c*r.screen_y-b*s.screen_y)*y},0==(a={screen_x:(-b*o.screen_x+d*n.screen_x+w*r.screen_x)*f,screen_y:(-b*o.screen_y+d*n.screen_y+w*r.screen_y)*f}).screen_x&&0==a.screen_y&&(a=n),0==h.screen_x&&0==h.screen_y&&(h=r),_.push([a.screen_x,a.screen_y]),_.push([h.screen_x,h.screen_y]),_.push([r.screen_x,r.screen_y]);return _},o._linear=function(t){for(var e=[],i=0;i<t.length;i++)e.push([t[i].screen_x,t[i].screen_y]);return e},t.exports=o},function(t,e,i){function o(t,e,i,o){this.body=t,this.defaultOptions={enabled:!1,icons:!0,iconSize:20,iconSpacing:6,left:{visible:!0,position:"top-left"},right:{visible:!0,position:"top-right"}},this.side=i,this.options=s.extend({},this.defaultOptions),this.linegraphOptions=o,this.svgElements={},this.dom={},this.groups={},this.amountOfGroups=0,this._create(),this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups},this.setOptions(e)}var n=i(8),r=n&&n.__esModule?n:{default:n},s=i(2),a=i(14),h=i(16);(o.prototype=new h).clear=function(){this.groups={},this.amountOfGroups=0},o.prototype.addGroup=function(t,e){1!=e.options.excludeFromLegend&&(this.groups.hasOwnProperty(t)||(this.groups[t]=e),this.amountOfGroups+=1)},o.prototype.updateGroup=function(t,e){this.groups[t]=e},o.prototype.removeGroup=function(t){this.groups.hasOwnProperty(t)&&(delete this.groups[t],this.amountOfGroups-=1)},o.prototype._create=function(){this.dom.frame=document.createElement("div"),this.dom.frame.className="vis-legend",this.dom.frame.style.position="absolute",this.dom.frame.style.top="10px",this.dom.frame.style.display="block",this.dom.textArea=document.createElement("div"),this.dom.textArea.className="vis-legend-text",this.dom.textArea.style.position="relative",this.dom.textArea.style.top="0px",this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="absolute",this.svg.style.top="0px",this.svg.style.width=this.options.iconSize+5+"px",this.svg.style.height="100%",this.dom.frame.appendChild(this.svg),this.dom.frame.appendChild(this.dom.textArea)},o.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame)},o.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame)},o.prototype.setOptions=function(t){s.selectiveDeepExtend(["enabled","orientation","icons","left","right"],this.options,t)},o.prototype.redraw=function(){var t=0,e=(0,r.default)(this.groups);e.sort(function(t,e){return t<e?-1:1});for(var i=0;i<e.length;i++){var o=e[i];1!=this.groups[o].visible||void 0!==this.linegraphOptions.visibility[o]&&1!=this.linegraphOptions.visibility[o]||t++}if(0==this.options[this.side].visible||0==this.amountOfGroups||0==this.options.enabled||0==t)this.hide();else{this.show(),"top-left"==this.options[this.side].position||"bottom-left"==this.options[this.side].position?(this.dom.frame.style.left="4px",this.dom.frame.style.textAlign="left",this.dom.textArea.style.textAlign="left",this.dom.textArea.style.left=this.options.iconSize+15+"px",this.dom.textArea.style.right="",this.svg.style.left="0px",this.svg.style.right=""):(this.dom.frame.style.right="4px",this.dom.frame.style.textAlign="right",this.dom.textArea.style.textAlign="right",this.dom.textArea.style.right=this.options.iconSize+15+"px",this.dom.textArea.style.left="",this.svg.style.right="0px",this.svg.style.left=""),"top-left"==this.options[this.side].position||"top-right"==this.options[this.side].position?(this.dom.frame.style.top=4-Number(this.body.dom.center.style.top.replace("px",""))+"px",this.dom.frame.style.bottom=""):(this.dom.frame.style.bottom=this.body.domProps.center.height-this.body.domProps.centerContainer.height+4+Number(this.body.dom.center.style.top.replace("px",""))+"px",this.dom.frame.style.top=""),0==this.options.icons?(this.dom.frame.style.width=this.dom.textArea.offsetWidth+10+"px",this.dom.textArea.style.right="",this.dom.textArea.style.left="",this.svg.style.width="0px"):(this.dom.frame.style.width=this.options.iconSize+15+this.dom.textArea.offsetWidth+10+"px",this.drawLegendIcons());var n="";for(i=0;i<e.length;i++)1!=this.groups[o=e[i]].visible||void 0!==this.linegraphOptions.visibility[o]&&1!=this.linegraphOptions.visibility[o]||(n+=this.groups[o].content+"<br />");this.dom.textArea.innerHTML=n,this.dom.textArea.style.lineHeight=.75*this.options.iconSize+this.options.iconSpacing+"px"}},o.prototype.drawLegendIcons=function(){if(this.dom.frame.parentNode){var t=(0,r.default)(this.groups);t.sort(function(t,e){return t<e?-1:1}),a.resetElements(this.svgElements);var e=window.getComputedStyle(this.dom.frame).paddingTop,i=Number(e.replace("px","")),o=i,n=this.options.iconSize,s=.75*this.options.iconSize,h=i+.5*s+3;this.svg.style.width=n+5+i+"px";for(var l=0;l<t.length;l++){var p=t[l];1!=this.groups[p].visible||void 0!==this.linegraphOptions.visibility[p]&&1!=this.linegraphOptions.visibility[p]||(this.groups[p].getLegend(n,s,this.framework,o,h),h+=s+this.options.iconSpacing)}}},t.exports=o},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var o="string",n="boolean",r="number",s="object";e.allOptions={configure:{enabled:{boolean:n},filter:{boolean:n,function:"function"},container:{dom:"dom"},__type__:{object:s,boolean:n,function:"function"}},yAxisOrientation:{string:["left","right"]},defaultGroup:{string:o},sort:{boolean:n},sampling:{boolean:n},stack:{boolean:n},graphHeight:{string:o,number:r},shaded:{enabled:{boolean:n},orientation:{string:["bottom","top","zero","group"]},groupId:{object:s},__type__:{boolean:n,object:s}},style:{string:["line","bar","points"]},barChart:{width:{number:r},minWidth:{number:r},sideBySide:{boolean:n},align:{string:["left","center","right"]},__type__:{object:s}},interpolation:{enabled:{boolean:n},parametrization:{string:["centripetal","chordal","uniform"]},alpha:{number:r},__type__:{object:s,boolean:n}},drawPoints:{enabled:{boolean:n},onRender:{function:"function"},size:{number:r},style:{string:["square","circle"]},__type__:{object:s,boolean:n,function:"function"}},dataAxis:{showMinorLabels:{boolean:n},showMajorLabels:{boolean:n},icons:{boolean:n},width:{string:o,number:r},visible:{boolean:n},alignZeros:{boolean:n},left:{range:{min:{number:r,undefined:"undefined"},max:{number:r,undefined:"undefined"},__type__:{object:s}},format:{function:"function"},title:{text:{string:o,number:r,undefined:"undefined"},style:{string:o,undefined:"undefined"},__type__:{object:s}},__type__:{object:s}},right:{range:{min:{number:r,undefined:"undefined"},max:{number:r,undefined:"undefined"},__type__:{object:s}},format:{function:"function"},title:{text:{string:o,number:r,undefined:"undefined"},style:{string:o,undefined:"undefined"},__type__:{object:s}},__type__:{object:s}},__type__:{object:s}},legend:{enabled:{boolean:n},icons:{boolean:n},left:{visible:{boolean:n},position:{string:["top-right","bottom-right","top-left","bottom-left"]},__type__:{object:s}},right:{visible:{boolean:n},position:{string:["top-right","bottom-right","top-left","bottom-left"]},__type__:{object:s}},__type__:{object:s,boolean:n}},groups:{visibility:{any:"any"},__type__:{object:s}},autoResize:{boolean:n},throttleRedraw:{number:r},clickToUse:{boolean:n},end:{number:r,date:"date",string:o,moment:"moment"},format:{minorLabels:{millisecond:{string:o,undefined:"undefined"},second:{string:o,undefined:"undefined"},minute:{string:o,undefined:"undefined"},hour:{string:o,undefined:"undefined"},weekday:{string:o,undefined:"undefined"},day:{string:o,undefined:"undefined"},month:{string:o,undefined:"undefined"},year:{string:o,undefined:"undefined"},__type__:{object:s}},majorLabels:{millisecond:{string:o,undefined:"undefined"},second:{string:o,undefined:"undefined"},minute:{string:o,undefined:"undefined"},hour:{string:o,undefined:"undefined"},weekday:{string:o,undefined:"undefined"},day:{string:o,undefined:"undefined"},month:{string:o,undefined:"undefined"},year:{string:o,undefined:"undefined"},__type__:{object:s}},__type__:{object:s}},moment:{function:"function"},height:{string:o,number:r},hiddenDates:{start:{date:"date",number:r,string:o,moment:"moment"},end:{date:"date",number:r,string:o,moment:"moment"},repeat:{string:o},__type__:{object:s,array:"array"}},locale:{string:o},locales:{__any__:{any:"any"},__type__:{object:s}},max:{date:"date",number:r,string:o,moment:"moment"},maxHeight:{number:r,string:o},maxMinorChars:{number:r},min:{date:"date",number:r,string:o,moment:"moment"},minHeight:{number:r,string:o},moveable:{boolean:n},multiselect:{boolean:n},orientation:{string:o},showCurrentTime:{boolean:n},showMajorLabels:{boolean:n},showMinorLabels:{boolean:n},start:{date:"date",number:r,string:o,moment:"moment"},timeAxis:{scale:{string:o,undefined:"undefined"},step:{number:r,undefined:"undefined"},__type__:{object:s}},width:{string:o,number:r},zoomable:{boolean:n},zoomKey:{string:["ctrlKey","altKey","metaKey",""]},zoomMax:{number:r},zoomMin:{number:r},zIndex:{number:r},__type__:{object:s}},e.configureOptions={global:{sort:!0,sampling:!0,stack:!1,shaded:{enabled:!1,orientation:["zero","top","bottom","group"]},style:["line","bar","points"],barChart:{width:[50,5,100,5],minWidth:[50,5,100,5],sideBySide:!1,align:["left","center","right"]},interpolation:{enabled:!0,parametrization:["centripetal","chordal","uniform"]},drawPoints:{enabled:!0,size:[6,2,30,1],style:["square","circle"]},dataAxis:{showMinorLabels:!0,showMajorLabels:!0,icons:!1,width:[40,0,200,1],visible:!0,alignZeros:!0,left:{title:{text:"",style:""}},right:{title:{text:"",style:""}}},legend:{enabled:!1,icons:!0,left:{visible:!0,position:["top-right","bottom-right","top-left","bottom-left"]},right:{visible:!0,position:["top-right","bottom-right","top-left","bottom-left"]}},autoResize:!0,clickToUse:!1,end:"",format:{minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",month:"MMM",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",month:"YYYY",year:""}},height:"",locale:"",max:"",maxHeight:"",maxMinorChars:[7,0,20,1],min:"",minHeight:"",moveable:!0,orientation:["both","bottom","top"],showCurrentTime:!1,showMajorLabels:!0,showMinorLabels:!0,start:"",width:"100%",zoomable:!0,zoomKey:["ctrlKey","altKey","metaKey",""],zoomMax:[31536e10,10,31536e10,1],zoomMin:[10,10,31536e10,1],zIndex:0}}},function(t,e,i){function o(t){return E=t,function(){var t={};if(T=0,P=E.charAt(0),d(),"strict"===A&&(t.strict=!0,d()),"graph"!==A&&"digraph"!==A||(t.type=A,d()),O===S.IDENTIFIER&&(t.id=A,d()),"{"!=A)throw v("Angle bracket { expected");if(d(),c(t),"}"!=A)throw v("Angle bracket } expected");if(d(),""!==A)throw v("End of file expected");return d(),delete t.node,delete t.edge,delete t.graph,t}()}function n(){P=E.charAt(++T)}function r(){return E.charAt(T+1)}function s(t){return D.test(t)}function a(t,e){if(t||(t={}),e)for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}function h(t,e,i){for(var o=e.split("."),n=t;o.length;){var r=o.shift();o.length?(n[r]||(n[r]={}),n=n[r]):n[r]=i}}function l(t,e){for(var i,o,n=null,r=[t],s=t;s.parent;)r.push(s.parent),s=s.parent;if(s.nodes)for(i=0,o=s.nodes.length;i<o;i++)if(e.id===s.nodes[i].id){n=s.nodes[i];break}for(n||(n={id:e.id},t.node&&(n.attr=a(n.attr,t.node))),i=r.length-1;i>=0;i--){var h=r[i];h.nodes||(h.nodes=[]),-1===h.nodes.indexOf(n)&&h.nodes.push(n)}e.attr&&(n.attr=a(n.attr,e.attr))}function p(t,e){if(t.edges||(t.edges=[]),t.edges.push(e),t.edge){var i=a({},t.edge);e.attr=a(i,e.attr)}}function u(t,e,i,o,n){var r={from:e,to:i,type:o};return t.edge&&(r.attr=a({},t.edge)),r.attr=a(r.attr||{},n),r}function d(){for(O=S.NULL,A="";" "===P||"\t"===P||"\n"===P||"\r"===P;)n();do{var t=!1;if("#"===P){for(var e=T-1;" "===E.charAt(e)||"\t"===E.charAt(e);)e--;if("\n"===E.charAt(e)||""===E.charAt(e)){for(;""!=P&&"\n"!=P;)n();t=!0}}if("/"===P&&"/"===r()){for(;""!=P&&"\n"!=P;)n();t=!0}if("/"===P&&"*"===r()){for(;""!=P;){if("*"===P&&"/"===r()){n(),n();break}n()}t=!0}for(;" "===P||"\t"===P||"\n"===P||"\r"===P;)n()}while(t);if(""!==P){var i=P+r();if(C[i])return O=S.DELIMITER,A=i,n(),void n();if(C[P])return O=S.DELIMITER,A=P,void n();if(s(P)||"-"===P){for(A+=P,n();s(P);)A+=P,n();return"false"===A?A=!1:"true"===A?A=!0:isNaN(Number(A))||(A=Number(A)),void(O=S.IDENTIFIER)}if('"'===P){for(n();""!=P&&('"'!=P||'"'===P&&'"'===r());)'"'===P?(A+=P,n()):"\\"===P&&"n"===r()?(A+="\n",n()):A+=P,n();if('"'!=P)throw v('End of string " expected');return n(),void(O=S.IDENTIFIER)}for(O=S.UNKNOWN;""!=P;)A+=P,n();throw new SyntaxError('Syntax error in part "'+b(A,30)+'"')}O=S.DELIMITER}function c(t){for(;""!==A&&"}"!=A;)f(t),";"===A&&d()}function f(t){var e=y(t);if(e)g(t,e);else if(!function(t){return"node"===A?(d(),t.node=m(),"node"):"edge"===A?(d(),t.edge=m(),"edge"):"graph"===A?(d(),t.graph=m(),"graph"):null}(t)){if(O!=S.IDENTIFIER)throw v("Identifier expected");var i=A;if(d(),"="===A){if(d(),O!=S.IDENTIFIER)throw v("Identifier expected");t[i]=A,d()}else!function(t,e){var i={id:e},o=m();o&&(i.attr=o),l(t,i),g(t,e)}(t,i)}}function y(t){var e=null;if("subgraph"===A&&((e={}).type="subgraph",d(),O===S.IDENTIFIER&&(e.id=A,d())),"{"===A){if(d(),e||(e={}),e.parent=t,e.node=t.node,e.edge=t.edge,e.graph=t.graph,c(e),"}"!=A)throw v("Angle bracket } expected");d(),delete e.node,delete e.edge,delete e.graph,delete e.parent,t.subgraphs||(t.subgraphs=[]),t.subgraphs.push(e)}return e}function g(t,e){for(;"->"===A||"--"===A;){var i,o=A;d();var n=y(t);if(n)i=n;else{if(O!=S.IDENTIFIER)throw v("Identifier or subgraph expected");l(t,{id:i=A}),d()}p(t,u(t,e,i,o,m())),e=i}}function m(){for(var t=null,e={dashed:!0,solid:!1,dotted:[1,5]};"["===A;){for(d(),t={};""!==A&&"]"!=A;){if(O!=S.IDENTIFIER)throw v("Attribute name expected");var i=A;if(d(),"="!=A)throw v("Equal sign = expected");if(d(),O!=S.IDENTIFIER)throw v("Attribute value expected");var o=A;"style"===i&&(o=e[o]),h(t,i,o),d(),","==A&&d()}if("]"!=A)throw v("Bracket ] expected");d()}return t}function v(t){return new SyntaxError(t+', got "'+b(A,30)+'" (char '+T+")")}function b(t,e){return t.length<=e?t:t.substr(0,27)+"..."}function w(t,e,i){for(var o=e.split("."),n=o.pop(),r=t,s=0;s<o.length;s++){var a=o[s];a in r||(r[a]={}),r=r[a]}return r[n]=i,t}function x(t,e){var i={};for(var o in t)if(t.hasOwnProperty(o)){var n=e[o];Array.isArray(n)?n.forEach(function(e){w(i,e,t[o])}):w(i,"string"==typeof n?n:o,t[o])}return i}var _=i(29),M={fontsize:"font.size",fontcolor:"font.color",labelfontcolor:"font.color",fontname:"font.face",color:["color.border","color.background"],fillcolor:"color.background",tooltip:"title",labeltooltip:"title"},k=(0,(_&&_.__esModule?_:{default:_}).default)(M);k.color="color.color",k.style="dashes";var S={NULL:0,DELIMITER:1,IDENTIFIER:2,UNKNOWN:3},C={"{":!0,"}":!0,"[":!0,"]":!0,";":!0,"=":!0,",":!0,"->":!0,"--":!0},E="",T=0,P="",A="",O=S.NULL,D=/[a-zA-Z_0-9.:#]/;e.parseDOT=o,e.DOTToGraph=function(t){var e=o(t),i={nodes:[],edges:[],options:{}};if(e.nodes&&e.nodes.forEach(function(t){var e={id:t.id,label:String(t.label||t.id)};a(e,x(t.attr,M)),e.image&&(e.shape="image"),i.nodes.push(e)}),e.edges){var n=function(t){var e={from:t.from,to:t.to};return a(e,x(t.attr,k)),e.arrows="->"===t.type?"to":void 0,e};e.edges.forEach(function(t){var e,o;e=t.from instanceof Object?t.from.nodes:{id:t.from},o=t.to instanceof Object?t.to.nodes:{id:t.to},t.from instanceof Object&&t.from.edges&&t.from.edges.forEach(function(t){var e=n(t);i.edges.push(e)}),function(t,e,i){Array.isArray(t)?t.forEach(function(t){Array.isArray(e)?e.forEach(function(e){i(t,e)}):i(t,e)}):Array.isArray(e)?e.forEach(function(e){i(t,e)}):i(t,e)}(e,o,function(e,o){var r=u(i,e.id,o.id,t.type,t.attr),s=n(r);i.edges.push(s)}),t.to instanceof Object&&t.to.edges&&t.to.edges.forEach(function(t){var e=n(t);i.edges.push(e)})})}return e.attr&&(i.options=e.attr),i}},function(t,e,i){e.parseGephi=function(t,e){var i=[],o=[],n={edges:{inheritColor:!1},nodes:{fixed:!1,parseColor:!1}};void 0!==e&&(void 0!==e.fixed&&(n.nodes.fixed=e.fixed),void 0!==e.parseColor&&(n.nodes.parseColor=e.parseColor),void 0!==e.inheritColor&&(n.edges.inheritColor=e.inheritColor));for(var r=t.edges,s=t.nodes,a=0;a<r.length;a++){var h={},l=r[a];h.id=l.id,h.from=l.source,h.to=l.target,h.attributes=l.attributes,h.label=l.label,h.title=void 0!==l.attributes?l.attributes.title:void 0,"Directed"===l.type&&(h.arrows="to"),l.color&&!1===n.inheritColor&&(h.color=l.color),i.push(h)}for(var p=0;p<s.length;p++){var u={},d=s[p];u.id=d.id,u.attributes=d.attributes,u.x=d.x,u.y=d.y,u.label=d.label,u.title=void 0!==d.attributes?d.attributes.title:d.title,u.color=!0===n.nodes.parseColor?d.color:void 0!==d.color?{background:d.color,border:d.color,highlight:{background:d.color,border:d.color},hover:{background:d.color,border:d.color}}:void 0,u.size=d.size,u.fixed=n.nodes.fixed&&void 0!==d.x&&void 0!==d.y,o.push(u)}return{nodes:o,edges:i}}},function(t,e,i){function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=o(i(0)),r=o(i(1)),s=o(i(185)),a=function(){function t(e){(0,n.default)(this,t),this.images={},this.imageBroken={},this.callback=e}return(0,r.default)(t,[{key:"_tryloadBrokenUrl",value:function(t,e,i){if(void 0!==t&&void 0!==i){if(void 0===e)return void console.warn("No broken url image defined");i.onerror=function(){console.error("Could not load brokenImage:",e)},i.image.src=e}}},{key:"_redrawWithImage",value:function(t){this.callback&&this.callback(t)}},{key:"load",value:function(t,e){var i=this,o=this.images[t];if(o)return o;var n=new s.default;return this.images[t]=n,n.image.onload=function(){i._fixImageCoordinates(n.image),n.init(),i._redrawWithImage(n)},n.image.onerror=function(){console.error("Could not load image:",t),i._tryloadBrokenUrl(t,e,n)},n.image.src=t,n}},{key:"_fixImageCoordinates",value:function(t){0===t.width&&(document.body.appendChild(t),t.width=t.offsetWidth,t.height=t.offsetHeight,document.body.removeChild(t))}}]),t}();e.default=a},function(t,e,i){function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=o(i(30)),r=o(i(6)),s=o(i(0)),a=o(i(1)),h=i(2),l=i(48).default,p=i(191).default,u=["bold","ital","boldital","mono"],d=function(){function t(e,i){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];(0,s.default)(this,t),this.body=e,this.pointToSelf=!1,this.baseSize=void 0,this.fontOptions={},this.setOptions(i),this.size={top:0,left:0,width:0,height:0,yLine:0},this.isEdgeLabel=o}return(0,a.default)(t,[{key:"setOptions",value:function(t){if(this.elementOptions=t,this.initFontOptions(t.font),l.isValidLabel(t.label)?this.labelDirty=!0:t.label="",void 0!==t.font&&null!==t.font)if("string"==typeof t.font)this.baseSize=this.fontOptions.size;else if("object"===(0,r.default)(t.font)){var e=t.font.size;void 0!==e&&(this.baseSize=e)}}},{key:"initFontOptions",value:function(e){var i=this;h.forEach(u,function(t){i.fontOptions[t]={}}),t.parseFontString(this.fontOptions,e)?this.fontOptions.vadjust=0:h.forEach(e,function(t,e){void 0!==t&&null!==t&&"object"!==(void 0===t?"undefined":(0,r.default)(t))&&(i.fontOptions[e]=t)})}},{key:"constrain",value:function(t){var e={constrainWidth:!1,maxWdt:-1,minWdt:-1,constrainHeight:!1,minHgt:-1,valign:"middle"},i=h.topMost(t,"widthConstraint");if("number"==typeof i)e.maxWdt=Number(i),e.minWdt=Number(i);else if("object"===(void 0===i?"undefined":(0,r.default)(i))){var o=h.topMost(t,["widthConstraint","maximum"]);"number"==typeof o&&(e.maxWdt=Number(o));var n=h.topMost(t,["widthConstraint","minimum"]);"number"==typeof n&&(e.minWdt=Number(n))}var s=h.topMost(t,"heightConstraint");if("number"==typeof s)e.minHgt=Number(s);else if("object"===(void 0===s?"undefined":(0,r.default)(s))){var a=h.topMost(t,["heightConstraint","minimum"]);"number"==typeof a&&(e.minHgt=Number(a));var l=h.topMost(t,["heightConstraint","valign"]);"string"==typeof l&&("top"!==l&&"bottom"!==l||(e.valign=l))}return e}},{key:"update",value:function(t,e){this.setOptions(t,!0),this.propagateFonts(e),h.deepExtend(this.fontOptions,this.constrain(e)),this.fontOptions.chooser=l.choosify("label",e)}},{key:"adjustSizes",value:function(t){var e=t?t.right+t.left:0;this.fontOptions.constrainWidth&&(this.fontOptions.maxWdt-=e,this.fontOptions.minWdt-=e),this.fontOptions.constrainHeight&&(this.fontOptions.minHgt-=t?t.top+t.bottom:0)}},{key:"addFontOptionsToPile",value:function(t,e){for(var i=0;i<e.length;++i)this.addFontToPile(t,e[i])}},{key:"addFontToPile",value:function(t,e){void 0!==e&&void 0!==e.font&&null!==e.font&&t.push(e.font)}},{key:"getBasicOptions",value:function(e){for(var i={},o=0;o<e.length;++o){var n=e[o],r={};t.parseFontString(r,n)&&(n=r),h.forEach(n,function(t,e){void 0!==t&&(i.hasOwnProperty(e)||(i[e]=-1!==u.indexOf(e)?{}:t))})}return i}},{key:"getFontOption",value:function(e,i,o){for(var n=void 0,r=0;r<e.length;++r){var s=e[r];if(s.hasOwnProperty(i)){if(void 0===(n=s[i])||null===n)continue;var a={};if(t.parseFontString(a,n)&&(n=a),n.hasOwnProperty(o))return n[o]}}if(this.fontOptions.hasOwnProperty(o))return this.fontOptions[o];throw new Error("Did not find value for multi-font for property: '"+o+"'")}},{key:"getFontOptions",value:function(t,e){for(var i={},o=["color","size","face","mod","vadjust"],n=0;n<o.length;++n){var r=o[n];i[r]=this.getFontOption(t,e,r)}return i}},{key:"propagateFonts",value:function(t){var e=this,i=[];this.addFontOptionsToPile(i,t),this.fontOptions=this.getBasicOptions(i);for(var o=0;o<u.length;++o)!function(t){var o=u[t],n=e.fontOptions[o],r=e.getFontOptions(i,o);h.forEach(r,function(t,e){n[e]=t}),n.size=Number(n.size),n.vadjust=Number(n.vadjust)}(o)}},{key:"draw",value:function(t,e,i,o,n){var r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"middle";if(void 0!==this.elementOptions.label){var s=this.fontOptions.size*this.body.view.scale;this.elementOptions.label&&s<this.elementOptions.scaling.label.drawThreshold-1||(s>=this.elementOptions.scaling.label.maxVisible&&(s=Number(this.elementOptions.scaling.label.maxVisible)/this.body.view.scale),this.calculateLabelSize(t,o,n,e,i,r),this._drawBackground(t),this._drawText(t,e,this.size.yLine,r,s))}}},{key:"_drawBackground",value:function(t){if(void 0!==this.fontOptions.background&&"none"!==this.fontOptions.background){t.fillStyle=this.fontOptions.background;var e=this.getSize();t.fillRect(e.left,e.top,e.width,e.height)}}},{key:"_drawText",value:function(t,e,i){var o=arguments[4],r=this._setAlignment(t,e,i,arguments.length>3&&void 0!==arguments[3]?arguments[3]:"middle"),s=(0,n.default)(r,2);e=s[0],i=s[1],t.textAlign="left",e-=this.size.width/2,this.fontOptions.valign&&this.size.height>this.size.labelHeight&&("top"===this.fontOptions.valign&&(i-=(this.size.height-this.size.labelHeight)/2),"bottom"===this.fontOptions.valign&&(i+=(this.size.height-this.size.labelHeight)/2));for(var a=0;a<this.lineCount;a++){var h=this.lines[a];if(h&&h.blocks){var l=0;this.isEdgeLabel||"center"===this.fontOptions.align?l+=(this.size.width-h.width)/2:"right"===this.fontOptions.align&&(l+=this.size.width-h.width);for(var p=0;p<h.blocks.length;p++){var u=h.blocks[p];t.font=u.font;var d=this._getColor(u.color,o,u.strokeColor),c=(0,n.default)(d,2),f=c[0],y=c[1];u.strokeWidth>0&&(t.lineWidth=u.strokeWidth,t.strokeStyle=y,t.lineJoin="round"),t.fillStyle=f,u.strokeWidth>0&&t.strokeText(u.text,e+l,i+u.vadjust),t.fillText(u.text,e+l,i+u.vadjust),l+=u.width}i+=h.height}}}},{key:"_setAlignment",value:function(t,e,i,o){return this.isEdgeLabel&&"horizontal"!==this.fontOptions.align&&!1===this.pointToSelf?(e=0,i=0,"top"===this.fontOptions.align?(t.textBaseline="alphabetic",i-=4):"bottom"===this.fontOptions.align?(t.textBaseline="hanging",i+=4):t.textBaseline="middle"):t.textBaseline=o,[e,i]}},{key:"_getColor",value:function(t,e,i){var o=t||"#000000",n=i||"#ffffff";if(e<=this.elementOptions.scaling.label.drawThreshold){var r=Math.max(0,Math.min(1,1-(this.elementOptions.scaling.label.drawThreshold-e)));o=h.overrideOpacity(o,r),n=h.overrideOpacity(n,r)}return[o,n]}},{key:"getTextSize",value:function(t){return this._processLabel(t,arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2]),{width:this.size.width,height:this.size.height,lineCount:this.lineCount}}},{key:"getSize",value:function(){var t=this.size.left,e=this.size.top-1;if(this.isEdgeLabel){var i=.5*-this.size.width;switch(this.fontOptions.align){case"middle":t=i,e=.5*-this.size.height;break;case"top":t=i,e=-(this.size.height+2);break;case"bottom":t=i,e=2}}return{left:t,top:e,width:this.size.width,height:this.size.height}}},{key:"calculateLabelSize",value:function(t,e,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"middle";this._processLabel(t,e,i),this.size.left=o-.5*this.size.width,this.size.top=n-.5*this.size.height,this.size.yLine=n+.5*(1-this.lineCount)*this.fontOptions.size,"hanging"===r&&(this.size.top+=.5*this.fontOptions.size,this.size.top+=4,this.size.yLine+=4)}},{key:"getFormattingValues",value:function(t,e,i,o){var n=function(t,e,i){return"normal"===e?"mod"===i?"":t[i]:void 0!==t[e][i]?t[e][i]:t[i]},r={color:n(this.fontOptions,o,"color"),size:n(this.fontOptions,o,"size"),face:n(this.fontOptions,o,"face"),mod:n(this.fontOptions,o,"mod"),vadjust:n(this.fontOptions,o,"vadjust"),strokeWidth:this.fontOptions.strokeWidth,strokeColor:this.fontOptions.strokeColor};(e||i)&&("normal"===o&&!0===this.fontOptions.chooser&&this.elementOptions.labelHighlightBold?r.mod="bold":"function"==typeof this.fontOptions.chooser&&this.fontOptions.chooser(r,this.elementOptions.id,e,i));var s="";return void 0!==r.mod&&""!==r.mod&&(s+=r.mod+" "),t.font=(s+=r.size+"px "+r.face).replace(/"/g,""),r.font=t.font,r.height=r.size,r}},{key:"differentState",value:function(t,e){return t!==this.selectedState||e!==this.hoverState}},{key:"_processLabelText",value:function(t,e,i,o){return new p(t,this,e,i).process(o)}},{key:"_processLabel",value:function(t,e,i){if(!1!==this.labelDirty||this.differentState(e,i)){var o=this._processLabelText(t,e,i,this.elementOptions.label);this.fontOptions.minWdt>0&&o.width<this.fontOptions.minWdt&&(o.width=this.fontOptions.minWdt),this.size.labelHeight=o.height,this.fontOptions.minHgt>0&&o.height<this.fontOptions.minHgt&&(o.height=this.fontOptions.minHgt),this.lines=o.lines,this.lineCount=o.lines.length,this.size.width=o.width,this.size.height=o.height,this.selectedState=e,this.hoverState=i,this.labelDirty=!1}}},{key:"visible",value:function(){return 0!==this.size.width&&0!==this.size.height&&void 0!==this.elementOptions.label&&!(this.fontOptions.size*this.body.view.scale<this.elementOptions.scaling.label.drawThreshold-1)}}],[{key:"parseFontString",value:function(t,e){if(!e||"string"!=typeof e)return!1;var i=e.split(" ");return t.size=i[0].replace("px",""),t.face=i[1],t.color=i[2],!0}}]),t}();e.default=d},function(t,e,i){function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=o(i(30)),r=o(i(0)),s=o(i(1)),a=i(2),h=i(119).default,l=function(){function t(e,i,o){(0,r.default)(this,t),this.body=i,this.labelModule=o,this.options={},this.setOptions(e),this.colorDirty=!0,this.color={},this.selectionWidth=2,this.hoverWidth=1.5,this.fromPoint=this.from,this.toPoint=this.to}return(0,s.default)(t,[{key:"connect",value:function(){this.from=this.body.nodes[this.options.from],this.to=this.body.nodes[this.options.to]}},{key:"cleanup",value:function(){return!1}},{key:"setOptions",value:function(t){this.options=t,this.from=this.body.nodes[this.options.from],this.to=this.body.nodes[this.options.to],this.id=this.options.id}},{key:"drawLine",value:function(t,e,i,o,n){t.strokeStyle=this.getColor(t,e,i,o),t.lineWidth=e.width,!1!==e.dashes?this._drawDashedLine(t,e,n):this._drawLine(t,e,n)}},{key:"_drawLine",value:function(t,e,i,o,r){if(this.from!=this.to)this._line(t,e,i,o,r);else{var s=this._getCircleData(t),a=(0,n.default)(s,3);this._circle(t,e,a[0],a[1],a[2])}}},{key:"_drawDashedLine",value:function(t,e,i,o,r){t.lineCap="round";var s=[5,5];if(!0===Array.isArray(e.dashes)&&(s=e.dashes),void 0!==t.setLineDash){if(t.save(),t.setLineDash(s),t.lineDashOffset=0,this.from!=this.to)this._line(t,e,i);else{var a=this._getCircleData(t),h=(0,n.default)(a,3);this._circle(t,e,h[0],h[1],h[2])}t.setLineDash([0]),t.lineDashOffset=0,t.restore()}else{if(this.from!=this.to)t.dashedLine(this.from.x,this.from.y,this.to.x,this.to.y,s);else{var l=this._getCircleData(t),p=(0,n.default)(l,3);this._circle(t,e,p[0],p[1],p[2])}this.enableShadow(t,e),t.stroke(),this.disableShadow(t,e)}}},{key:"findBorderPosition",value:function(t,e,i){return this.from!=this.to?this._findBorderPosition(t,e,i):this._findBorderPositionCircle(t,e,i)}},{key:"findBorderPositions",value:function(t){var e={},i={};if(this.from!=this.to)e=this._findBorderPosition(this.from,t),i=this._findBorderPosition(this.to,t);else{var o=this._getCircleData(t).slice(0,2),r=(0,n.default)(o,2),s=r[0],a=r[1];e=this._findBorderPositionCircle(this.from,t,{x:s,y:a,low:.25,high:.6,direction:-1}),i=this._findBorderPositionCircle(this.from,t,{x:s,y:a,low:.6,high:.8,direction:1})}return{from:e,to:i}}},{key:"_getCircleData",value:function(t){var e=void 0,i=void 0,o=this.from,n=this.options.selfReferenceSize;return void 0!==t&&void 0===o.shape.width&&o.shape.resize(t),o.shape.width>o.shape.height?(e=o.x+.5*o.shape.width,i=o.y-n):(e=o.x+n,i=o.y-.5*o.shape.height),[e,i,n]}},{key:"_pointOnCircle",value:function(t,e,i,o){var n=2*o*Math.PI;return{x:t+i*Math.cos(n),y:e-i*Math.sin(n)}}},{key:"_findBorderPositionCircle",value:function(t,e,i){for(var o=i.x,n=i.y,r=i.low,s=i.high,a=i.direction,h=0,l=this.options.selfReferenceSize,p=void 0,u=void 0,d=void 0,c=.5*(r+s);r<=s&&h<10&&(p=this._pointOnCircle(o,n,l,c=.5*(r+s)),u=Math.atan2(t.y-p.y,t.x-p.x),d=t.distanceToBorder(e,u)-Math.sqrt(Math.pow(p.x-t.x,2)+Math.pow(p.y-t.y,2)),!(Math.abs(d)<.05));)d>0?a>0?r=c:s=c:a>0?s=c:r=c,h++;return p.t=c,p}},{key:"getLineWidth",value:function(t,e){return!0===t?Math.max(this.selectionWidth,.3/this.body.view.scale):!0===e?Math.max(this.hoverWidth,.3/this.body.view.scale):Math.max(this.options.width,.3/this.body.view.scale)}},{key:"getColor",value:function(t,e,i,o){if(!1!==e.inheritsColor){if("both"===e.inheritsColor&&this.from.id!==this.to.id){var n=t.createLinearGradient(this.from.x,this.from.y,this.to.x,this.to.y),r=void 0,s=void 0;return r=this.from.options.color.highlight.border,s=this.to.options.color.highlight.border,!1===this.from.selected&&!1===this.to.selected?(r=a.overrideOpacity(this.from.options.color.border,e.opacity),s=a.overrideOpacity(this.to.options.color.border,e.opacity)):!0===this.from.selected&&!1===this.to.selected?s=this.to.options.color.border:!1===this.from.selected&&!0===this.to.selected&&(r=this.from.options.color.border),n.addColorStop(0,r),n.addColorStop(1,s),n}return a.overrideOpacity("to"===e.inheritsColor?this.to.options.color.border:this.from.options.color.border,e.opacity)}return a.overrideOpacity(e.color,e.opacity)}},{key:"_circle",value:function(t,e,i,o,n){this.enableShadow(t,e),t.beginPath(),t.arc(i,o,n,0,2*Math.PI,!1),t.stroke(),this.disableShadow(t,e)}},{key:"getDistanceToEdge",value:function(t,e,i,o,r,s,a,h){var l=0;if(this.from!=this.to)l=this._getDistanceToEdge(t,e,i,o,r,s,a);else{var p=this._getCircleData(void 0),u=(0,n.default)(p,3),d=u[2],c=u[0]-r,f=u[1]-s;l=Math.abs(Math.sqrt(c*c+f*f)-d)}return l}},{key:"_getDistanceToLine",value:function(t,e,i,o,n,r){var s=i-t,a=o-e,h=((n-t)*s+(r-e)*a)/(s*s+a*a);h>1?h=1:h<0&&(h=0);var l=t+h*s-n,p=e+h*a-r;return Math.sqrt(l*l+p*p)}},{key:"getArrowData",value:function(t,e,i,o,r,s){var a=void 0,h=void 0,l=void 0,p=void 0,u=void 0,d=void 0,c=void 0,f=s.width;if("from"===e?(l=this.from,p=this.to,u=.1,d=s.fromArrowScale,c=s.fromArrowType):"to"===e?(l=this.to,p=this.from,u=-.1,d=s.toArrowScale,c=s.toArrowType):(l=this.to,p=this.from,d=s.middleArrowScale,c=s.middleArrowType),l!=p)if("middle"!==e)if(!0===this.options.smooth.enabled){h=this.findBorderPosition(l,t,{via:i});var y=this.getPoint(Math.max(0,Math.min(1,h.t+u)),i);a=Math.atan2(h.y-y.y,h.x-y.x)}else a=Math.atan2(l.y-p.y,l.x-p.x),h=this.findBorderPosition(l,t);else a=Math.atan2(l.y-p.y,l.x-p.x),h=this.getPoint(.5,i);else{var g=this._getCircleData(t),m=(0,n.default)(g,3),v=m[0],b=m[1],w=m[2];"from"===e?a=-2*(h=this.findBorderPosition(this.from,t,{x:v,y:b,low:.25,high:.6,direction:-1})).t*Math.PI+1.5*Math.PI+.1*Math.PI:"to"===e?a=-2*(h=this.findBorderPosition(this.from,t,{x:v,y:b,low:.6,high:1,direction:1})).t*Math.PI+1.5*Math.PI-1.1*Math.PI:(h=this._pointOnCircle(v,b,w,.175),a=3.9269908169872414)}"middle"===e&&d<0&&(f*=-1);var x=15*d+3*f;return{point:h,core:{x:h.x-.9*x*Math.cos(a),y:h.y-.9*x*Math.sin(a)},angle:a,length:x,type:c}}},{key:"drawArrowHead",value:function(t,e,i,o,n){t.strokeStyle=this.getColor(t,e,i,o),t.fillStyle=t.strokeStyle,t.lineWidth=e.width,h.draw(t,n),this.enableShadow(t,e),t.fill(),this.disableShadow(t,e)}},{key:"enableShadow",value:function(t,e){!0===e.shadow&&(t.shadowColor=e.shadowColor,t.shadowBlur=e.shadowSize,t.shadowOffsetX=e.shadowX,t.shadowOffsetY=e.shadowY)}},{key:"disableShadow",value:function(t,e){!0===e.shadow&&(t.shadowColor="rgba(0,0,0,0)",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0)}}]),t}();e.default=l},function(t,e,i){function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=o(i(3)),r=o(i(4)),s=o(i(5)),a=o(i(0)),h=o(i(1)),l=function(){function t(){(0,a.default)(this,t)}return(0,h.default)(t,null,[{key:"transform",value:function(t,e){t instanceof Array||(t=[t]);for(var i=e.point.x,o=e.point.y,n=e.angle,r=e.length,s=0;s<t.length;++s){var a=t[s],h=a.x*Math.cos(n)-a.y*Math.sin(n),l=a.x*Math.sin(n)+a.y*Math.cos(n);a.x=i+r*h,a.y=o+r*l}}},{key:"drawPath",value:function(t,e){t.beginPath(),t.moveTo(e[0].x,e[0].y);for(var i=1;i<e.length;++i)t.lineTo(e[i].x,e[i].y);t.closePath()}}]),t}(),p=function(t){function e(){return(0,a.default)(this,e),(0,r.default)(this,(e.__proto__||(0,n.default)(e)).apply(this,arguments))}return(0,s.default)(e,l),(0,h.default)(e,null,[{key:"draw",value:function(t,e){var i=[{x:0,y:0},{x:-1,y:.3},{x:-.9,y:0},{x:-1,y:-.3}];l.transform(i,e),l.drawPath(t,i)}}]),e}(),u=function(){function t(){(0,a.default)(this,t)}return(0,h.default)(t,null,[{key:"draw",value:function(t,e){var i={x:-.4,y:0};l.transform(i,e),t.circle(i.x,i.y,.4*e.length)}}]),t}(),d=function(){function t(){(0,a.default)(this,t)}return(0,h.default)(t,null,[{key:"draw",value:function(t,e){var i=[{x:0,y:.5},{x:0,y:-.5},{x:-.15,y:-.5},{x:-.15,y:.5}];l.transform(i,e),l.drawPath(t,i)}}]),t}(),c=function(){function t(){(0,a.default)(this,t)}return(0,h.default)(t,null,[{key:"draw",value:function(t,e){var i;switch(e.type&&(i=e.type.toLowerCase()),i){case"circle":u.draw(t,e);break;case"bar":d.draw(t,e);break;case"arrow":default:p.draw(t,e)}}}]),t}();e.default=c},function(t,e,i){function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=o(i(0)),r=o(i(1)),s=function(){function t(e,i,o){(0,n.default)(this,t),this.body=e,this.physicsBody=i,this.setOptions(o),this.randomSeed=5}return(0,r.default)(t,[{key:"setOptions",value:function(t){this.options=t,this.thetaInversed=1/this.options.theta,this.overlapAvoidanceFactor=1-Math.max(0,Math.min(1,this.options.avoidOverlap))}},{key:"seededRandom",value:function(){var t=1e4*Math.sin(this.randomSeed++);return t-Math.floor(t)}},{key:"solve",value:function(){if(0!==this.options.gravitationalConstant&&this.physicsBody.physicsNodeIndices.length>0){var t=void 0,e=this.body.nodes,i=this.physicsBody.physicsNodeIndices,o=i.length,n=this._formBarnesHutTree(e,i);this.barnesHutTree=n;for(var r=0;r<o;r++)(t=e[i[r]]).options.mass>0&&this._getForceContributions(n.root,t)}}},{key:"_getForceContributions",value:function(t,e){this._getForceContribution(t.children.NW,e),this._getForceContribution(t.children.NE,e),this._getForceContribution(t.children.SW,e),this._getForceContribution(t.children.SE,e)}},{key:"_getForceContribution",value:function(t,e){var i,o,n;t.childrenCount>0&&(i=t.centerOfMass.x-e.x,o=t.centerOfMass.y-e.y,(n=Math.sqrt(i*i+o*o))*t.calcSize>this.thetaInversed?this._calculateForces(n,i,o,e,t):4===t.childrenCount?this._getForceContributions(t,e):t.children.data.id!=e.id&&this._calculateForces(n,i,o,e,t))}},{key:"_calculateForces",value:function(t,e,i,o,n){0===t&&(e=t=.1),this.overlapAvoidanceFactor<1&&o.shape.radius&&(t=Math.max(.1+this.overlapAvoidanceFactor*o.shape.radius,t-o.shape.radius));var r=this.options.gravitationalConstant*n.mass*o.options.mass/Math.pow(t,3),s=i*r;this.physicsBody.forces[o.id].x+=e*r,this.physicsBody.forces[o.id].y+=s}},{key:"_formBarnesHutTree",value:function(t,e){for(var i=void 0,o=e.length,n=t[e[0]].x,r=t[e[0]].y,s=t[e[0]].x,a=t[e[0]].y,h=1;h<o;h++){var l=t[e[h]],p=l.x,u=l.y;l.options.mass>0&&(p<n&&(n=p),p>s&&(s=p),u<r&&(r=u),u>a&&(a=u))}var d=Math.abs(s-n)-Math.abs(a-r);d>0?(r-=.5*d,a+=.5*d):(n+=.5*d,s-=.5*d);var c=Math.max(1e-5,Math.abs(s-n)),f=.5*c,y=.5*(n+s),g=.5*(r+a),m={root:{centerOfMass:{x:0,y:0},mass:0,range:{minX:y-f,maxX:y+f,minY:g-f,maxY:g+f},size:c,calcSize:1/c,children:{data:null},maxWidth:0,level:0,childrenCount:4}};this._splitBranch(m.root);for(var v=0;v<o;v++)(i=t[e[v]]).options.mass>0&&this._placeInTree(m.root,i);return m}},{key:"_updateBranchMass",value:function(t,e){var i=t.centerOfMass,o=t.mass+e.options.mass,n=1/o;i.x=i.x*t.mass+e.x*e.options.mass,i.x*=n,i.y=i.y*t.mass+e.y*e.options.mass,i.y*=n,t.mass=o;var r=Math.max(Math.max(e.height,e.radius),e.width);t.maxWidth=t.maxWidth<r?r:t.maxWidth}},{key:"_placeInTree",value:function(t,e,i){1==i&&void 0!==i||this._updateBranchMass(t,e);var o=t.children.NW.range;this._placeInRegion(t,e,o.maxX>e.x?o.maxY>e.y?"NW":"SW":o.maxY>e.y?"NE":"SE")}},{key:"_placeInRegion",value:function(t,e,i){var o=t.children[i];switch(o.childrenCount){case 0:o.children.data=e,o.childrenCount=1,this._updateBranchMass(o,e);break;case 1:o.children.data.x===e.x&&o.children.data.y===e.y?(e.x+=this.seededRandom(),e.y+=this.seededRandom()):(this._splitBranch(o),this._placeInTree(o,e));break;case 4:this._placeInTree(o,e)}}},{key:"_splitBranch",value:function(t){var e=null;1===t.childrenCount&&(e=t.children.data,t.mass=0,t.centerOfMass.x=0,t.centerOfMass.y=0),t.childrenCount=4,t.children.data=null,this._insertRegion(t,"NW"),this._insertRegion(t,"NE"),this._insertRegion(t,"SW"),this._insertRegion(t,"SE"),null!=e&&this._placeInTree(t,e)}},{key:"_insertRegion",value:function(t,e){var i=void 0,o=void 0,n=void 0,r=void 0,s=.5*t.size;switch(e){case"NW":i=t.range.minX,o=t.range.minX+s,n=t.range.minY,r=t.range.minY+s;break;case"NE":i=t.range.minX+s,o=t.range.maxX,n=t.range.minY,r=t.range.minY+s;break;case"SW":i=t.range.minX,o=t.range.minX+s,n=t.range.minY+s,r=t.range.maxY;break;case"SE":i=t.range.minX+s,o=t.range.maxX,n=t.range.minY+s,r=t.range.maxY}t.children[e]={centerOfMass:{x:0,y:0},mass:0,range:{minX:i,maxX:o,minY:n,maxY:r},size:.5*t.size,calcSize:2*t.calcSize,children:{data:null},maxWidth:0,level:t.level+1,childrenCount:0}}},{key:"_debug",value:function(t,e){void 0!==this.barnesHutTree&&(t.lineWidth=1,this._drawBranch(this.barnesHutTree.root,t,e))}},{key:"_drawBranch",value:function(t,e,i){void 0===i&&(i="#FF0000"),4===t.childrenCount&&(this._drawBranch(t.children.NW,e),this._drawBranch(t.children.NE,e),this._drawBranch(t.children.SE,e),this._drawBranch(t.children.SW,e)),e.strokeStyle=i,e.beginPath(),e.moveTo(t.range.minX,t.range.minY),e.lineTo(t.range.maxX,t.range.minY),e.stroke(),e.beginPath(),e.moveTo(t.range.maxX,t.range.minY),e.lineTo(t.range.maxX,t.range.maxY),e.stroke(),e.beginPath(),e.moveTo(t.range.maxX,t.range.maxY),e.lineTo(t.range.minX,t.range.maxY),e.stroke(),e.beginPath(),e.moveTo(t.range.minX,t.range.maxY),e.lineTo(t.range.minX,t.range.minY),e.stroke()}}]),t}();e.default=s},function(t,e,i){function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=o(i(0)),r=o(i(1)),s=function(){function t(e,i,o){(0,n.default)(this,t),this.body=e,this.physicsBody=i,this.setOptions(o)}return(0,r.default)(t,[{key:"setOptions",value:function(t){this.options=t}},{key:"solve",value:function(){for(var t=void 0,e=void 0,i=void 0,o=void 0,n=this.body.nodes,r=this.physicsBody.physicsNodeIndices,s=this.physicsBody.forces,a=0;a<r.length;a++)t=-(o=n[r[a]]).x,e=-o.y,i=Math.sqrt(t*t+e*e),this._calculateForces(i,t,e,s,o)}},{key:"_calculateForces",value:function(t,e,i,o,n){var r=0===t?0:this.options.centralGravity/t;o[n.id].x=e*r,o[n.id].y=i*r}}]),t}();e.default=s},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var o="string",n="boolean",r="number",s="object",a=["arrow","circle","bar"],h={configure:{enabled:{boolean:n},filter:{boolean:n,string:o,array:"array",function:"function"},container:{dom:"dom"},showButton:{boolean:n},__type__:{object:s,boolean:n,string:o,array:"array",function:"function"}},edges:{arrows:{to:{enabled:{boolean:n},scaleFactor:{number:r},type:{string:a},__type__:{object:s,boolean:n}},middle:{enabled:{boolean:n},scaleFactor:{number:r},type:{string:a},__type__:{object:s,boolean:n}},from:{enabled:{boolean:n},scaleFactor:{number:r},type:{string:a},__type__:{object:s,boolean:n}},__type__:{string:["from","to","middle"],object:s}},arrowStrikethrough:{boolean:n},chosen:{label:{boolean:n,function:"function"},edge:{boolean:n,function:"function"},__type__:{object:s,boolean:n}},color:{color:{string:o},highlight:{string:o},hover:{string:o},inherit:{string:["from","to","both"],boolean:n},opacity:{number:r},__type__:{object:s,string:o}},dashes:{boolean:n,array:"array"},font:{color:{string:o},size:{number:r},face:{string:o},background:{string:o},strokeWidth:{number:r},strokeColor:{string:o},align:{string:["horizontal","top","middle","bottom"]},vadjust:{number:r},multi:{boolean:n,string:o},bold:{color:{string:o},size:{number:r},face:{string:o},mod:{string:o},vadjust:{number:r},__type__:{object:s,string:o}},boldital:{color:{string:o},size:{number:r},face:{string:o},mod:{string:o},vadjust:{number:r},__type__:{object:s,string:o}},ital:{color:{string:o},size:{number:r},face:{string:o},mod:{string:o},vadjust:{number:r},__type__:{object:s,string:o}},mono:{color:{string:o},size:{number:r},face:{string:o},mod:{string:o},vadjust:{number:r},__type__:{object:s,string:o}},__type__:{object:s,string:o}},hidden:{boolean:n},hoverWidth:{function:"function",number:r},label:{string:o,undefined:"undefined"},labelHighlightBold:{boolean:n},length:{number:r,undefined:"undefined"},physics:{boolean:n},scaling:{min:{number:r},max:{number:r},label:{enabled:{boolean:n},min:{number:r},max:{number:r},maxVisible:{number:r},drawThreshold:{number:r},__type__:{object:s,boolean:n}},customScalingFunction:{function:"function"},__type__:{object:s}},selectionWidth:{function:"function",number:r},selfReferenceSize:{number:r},shadow:{enabled:{boolean:n},color:{string:o},size:{number:r},x:{number:r},y:{number:r},__type__:{object:s,boolean:n}},smooth:{enabled:{boolean:n},type:{string:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"]},roundness:{number:r},forceDirection:{string:["horizontal","vertical","none"],boolean:n},__type__:{object:s,boolean:n}},title:{string:o,undefined:"undefined"},width:{number:r},widthConstraint:{maximum:{number:r},__type__:{object:s,boolean:n,number:r}},value:{number:r,undefined:"undefined"},__type__:{object:s}},groups:{useDefaultGroups:{boolean:n},__any__:"get from nodes, will be overwritten below",__type__:{object:s}},interaction:{dragNodes:{boolean:n},dragView:{boolean:n},hideEdgesOnDrag:{boolean:n},hideNodesOnDrag:{boolean:n},hover:{boolean:n},keyboard:{enabled:{boolean:n},speed:{x:{number:r},y:{number:r},zoom:{number:r},__type__:{object:s}},bindToWindow:{boolean:n},__type__:{object:s,boolean:n}},multiselect:{boolean:n},navigationButtons:{boolean:n},selectable:{boolean:n},selectConnectedEdges:{boolean:n},hoverConnectedEdges:{boolean:n},tooltipDelay:{number:r},zoomView:{boolean:n},__type__:{object:s}},layout:{randomSeed:{undefined:"undefined",number:r},improvedLayout:{boolean:n},hierarchical:{enabled:{boolean:n},levelSeparation:{number:r},nodeSpacing:{number:r},treeSpacing:{number:r},blockShifting:{boolean:n},edgeMinimization:{boolean:n},parentCentralization:{boolean:n},direction:{string:["UD","DU","LR","RL"]},sortMethod:{string:["hubsize","directed"]},__type__:{object:s,boolean:n}},__type__:{object:s}},manipulation:{enabled:{boolean:n},initiallyActive:{boolean:n},addNode:{boolean:n,function:"function"},addEdge:{boolean:n,function:"function"},editNode:{function:"function"},editEdge:{editWithoutDrag:{function:"function"},__type__:{object:s,boolean:n,function:"function"}},deleteNode:{boolean:n,function:"function"},deleteEdge:{boolean:n,function:"function"},controlNodeStyle:"get from nodes, will be overwritten below",__type__:{object:s,boolean:n}},nodes:{borderWidth:{number:r},borderWidthSelected:{number:r,undefined:"undefined"},brokenImage:{string:o,undefined:"undefined"},chosen:{label:{boolean:n,function:"function"},node:{boolean:n,function:"function"},__type__:{object:s,boolean:n}},color:{border:{string:o},background:{string:o},highlight:{border:{string:o},background:{string:o},__type__:{object:s,string:o}},hover:{border:{string:o},background:{string:o},__type__:{object:s,string:o}},__type__:{object:s,string:o}},fixed:{x:{boolean:n},y:{boolean:n},__type__:{object:s,boolean:n}},font:{align:{string:o},color:{string:o},size:{number:r},face:{string:o},background:{string:o},strokeWidth:{number:r},strokeColor:{string:o},vadjust:{number:r},multi:{boolean:n,string:o},bold:{color:{string:o},size:{number:r},face:{string:o},mod:{string:o},vadjust:{number:r},__type__:{object:s,string:o}},boldital:{color:{string:o},size:{number:r},face:{string:o},mod:{string:o},vadjust:{number:r},__type__:{object:s,string:o}},ital:{color:{string:o},size:{number:r},face:{string:o},mod:{string:o},vadjust:{number:r},__type__:{object:s,string:o}},mono:{color:{string:o},size:{number:r},face:{string:o},mod:{string:o},vadjust:{number:r},__type__:{object:s,string:o}},__type__:{object:s,string:o}},group:{string:o,number:r,undefined:"undefined"},heightConstraint:{minimum:{number:r},valign:{string:o},__type__:{object:s,boolean:n,number:r}},hidden:{boolean:n},icon:{face:{string:o},code:{string:o},size:{number:r},color:{string:o},__type__:{object:s}},id:{string:o,number:r},image:{selected:{string:o,undefined:"undefined"},unselected:{string:o,undefined:"undefined"},__type__:{object:s,string:o}},label:{string:o,undefined:"undefined"},labelHighlightBold:{boolean:n},level:{number:r,undefined:"undefined"},margin:{top:{number:r},right:{number:r},bottom:{number:r},left:{number:r},__type__:{object:s,number:r}},mass:{number:r},physics:{boolean:n},scaling:{min:{number:r},max:{number:r},label:{enabled:{boolean:n},min:{number:r},max:{number:r},maxVisible:{number:r},drawThreshold:{number:r},__type__:{object:s,boolean:n}},customScalingFunction:{function:"function"},__type__:{object:s}},shadow:{enabled:{boolean:n},color:{string:o},size:{number:r},x:{number:r},y:{number:r},__type__:{object:s,boolean:n}},shape:{string:["ellipse","circle","database","box","text","image","circularImage","diamond","dot","star","triangle","triangleDown","square","icon","hexagon"]},shapeProperties:{borderDashes:{boolean:n,array:"array"},borderRadius:{number:r},interpolation:{boolean:n},useImageSize:{boolean:n},useBorderWithImage:{boolean:n},__type__:{object:s}},size:{number:r},title:{string:o,dom:"dom",undefined:"undefined"},value:{number:r,undefined:"undefined"},widthConstraint:{minimum:{number:r},maximum:{number:r},__type__:{object:s,boolean:n,number:r}},x:{number:r},y:{number:r},__type__:{object:s}},physics:{enabled:{boolean:n},barnesHut:{gravitationalConstant:{number:r},centralGravity:{number:r},springLength:{number:r},springConstant:{number:r},damping:{number:r},avoidOverlap:{number:r},__type__:{object:s}},forceAtlas2Based:{gravitationalConstant:{number:r},centralGravity:{number:r},springLength:{number:r},springConstant:{number:r},damping:{number:r},avoidOverlap:{number:r},__type__:{object:s}},repulsion:{centralGravity:{number:r},springLength:{number:r},springConstant:{number:r},nodeDistance:{number:r},damping:{number:r},__type__:{object:s}},hierarchicalRepulsion:{centralGravity:{number:r},springLength:{number:r},springConstant:{number:r},nodeDistance:{number:r},damping:{number:r},__type__:{object:s}},maxVelocity:{number:r},minVelocity:{number:r},solver:{string:["barnesHut","repulsion","hierarchicalRepulsion","forceAtlas2Based"]},stabilization:{enabled:{boolean:n},iterations:{number:r},updateInterval:{number:r},onlyDynamicEdges:{boolean:n},fit:{boolean:n},__type__:{object:s,boolean:n}},timestep:{number:r},adaptiveTimestep:{boolean:n},__type__:{object:s,boolean:n}},autoResize:{boolean:n},clickToUse:{boolean:n},locale:{string:o},locales:{__any__:{any:"any"},__type__:{object:s}},height:{string:o},width:{string:o},__type__:{object:s}};h.groups.__any__=h.nodes,h.manipulation.controlNodeStyle=h.nodes,e.allOptions=h,e.configureOptions={nodes:{borderWidth:[1,0,10,1],borderWidthSelected:[2,0,10,1],color:{border:["color","#2B7CE9"],background:["color","#97C2FC"],highlight:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]},hover:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]}},fixed:{x:!1,y:!1},font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[0,0,50,1],strokeColor:["color","#ffffff"]},hidden:!1,labelHighlightBold:!0,physics:!0,scaling:{min:[10,0,200,1],max:[30,0,200,1],label:{enabled:!1,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},shape:["ellipse","box","circle","database","diamond","dot","square","star","text","triangle","triangleDown","hexagon"],shapeProperties:{borderDashes:!1,borderRadius:[6,0,20,1],interpolation:!0,useImageSize:!1},size:[25,0,200,1]},edges:{arrows:{to:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},middle:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},from:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"}},arrowStrikethrough:!0,color:{color:["color","#848484"],highlight:["color","#848484"],hover:["color","#848484"],inherit:["from","to","both",!0,!1],opacity:[1,0,1,.05]},dashes:!1,font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[2,0,50,1],strokeColor:["color","#ffffff"],align:["horizontal","top","middle","bottom"]},hidden:!1,hoverWidth:[1.5,0,5,.1],labelHighlightBold:!0,physics:!0,scaling:{min:[1,0,100,1],max:[15,0,100,1],label:{enabled:!0,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},selectionWidth:[1.5,0,5,.1],selfReferenceSize:[20,0,200,1],shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},smooth:{enabled:!0,type:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"],forceDirection:["horizontal","vertical","none"],roundness:[.5,0,1,.05]},width:[1,0,30,1]},layout:{hierarchical:{enabled:!1,levelSeparation:[150,20,500,5],nodeSpacing:[100,20,500,5],treeSpacing:[200,20,500,5],blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:["UD","DU","LR","RL"],sortMethod:["hubsize","directed"]}},interaction:{dragNodes:!0,dragView:!0,hideEdgesOnDrag:!1,hideNodesOnDrag:!1,hover:!1,keyboard:{enabled:!1,speed:{x:[10,0,40,1],y:[10,0,40,1],zoom:[.02,0,.1,.005]},bindToWindow:!0},multiselect:!1,navigationButtons:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0,tooltipDelay:[300,0,1e3,25],zoomView:!0},manipulation:{enabled:!1,initiallyActive:!1},physics:{enabled:!0,barnesHut:{gravitationalConstant:[-2e3,-3e4,0,50],centralGravity:[.3,0,10,.05],springLength:[95,0,500,5],springConstant:[.04,0,1.2,.005],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},forceAtlas2Based:{gravitationalConstant:[-50,-500,0,1],centralGravity:[.01,0,1,.005],springLength:[95,0,500,5],springConstant:[.08,0,1.2,.005],damping:[.4,0,1,.01],avoidOverlap:[0,0,1,.01]},repulsion:{centralGravity:[.2,0,10,.05],springLength:[200,0,500,5],springConstant:[.05,0,1.2,.005],nodeDistance:[100,0,500,5],damping:[.09,0,1,.01]},hierarchicalRepulsion:{centralGravity:[.2,0,10,.05],springLength:[100,0,500,5],springConstant:[.01,0,1.2,.005],nodeDistance:[120,0,500,5],damping:[.09,0,1,.01]},maxVelocity:[50,0,150,1],minVelocity:[.1,.01,.5,.01],solver:["barnesHut","forceAtlas2Based","repulsion","hierarchicalRepulsion"],timestep:[.5,.01,1,.01]}}},function(t,e,i){var o=i(2);o.extend(e,i(159)),o.extend(e,i(177)),o.extend(e,i(181))},function(t,e,i){i(49),i(60),t.exports=i(136)},function(t,e,i){var o=i(126),n=i(127),r=i(31),s=i(25);t.exports=i(79)(Array,"Array",function(t,e){this._t=s(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,i=this._i++;return!t||i>=t.length?(this._t=void 0,n(1)):n(0,"keys"==e?i:"values"==e?t[i]:[i,t[i]])},"values"),r.Arguments=r.Array,o("keys"),o("values"),o("entries")},function(t,e){t.exports=function(){}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,i){var o=i(54),n=i(39),r=i(59),s={};i(26)(s,i(13)("iterator"),function(){return this}),t.exports=function(t,e,i){t.prototype=o(s,{next:n(1,i)}),r(t,e+" Iterator")}},function(t,e,i){var o=i(20),n=i(27),r=i(33);t.exports=i(21)?Object.defineProperties:function(t,e){n(t);for(var i,s=r(e),a=s.length,h=0;a>h;)o.f(t,i=s[h++],e[i]);return t}},function(t,e,i){var o=i(25),n=i(132),r=i(133);t.exports=function(t){return function(e,i,s){var a,h=o(e),l=n(h.length),p=r(s,l);if(t&&i!=i){for(;l>p;)if((a=h[p++])!=a)return!0}else for(;l>p;p++)if((t||p in h)&&h[p]===i)return t||p||0;return!t&&-1}}},function(t,e,i){var o=i(55),n=Math.min;t.exports=function(t){return t>0?n(o(t),9007199254740991):0}},function(t,e,i){var o=i(55),n=Math.max,r=Math.min;t.exports=function(t,e){return(t=o(t))<0?n(t+e,0):r(t,e)}},function(t,e,i){var o=i(18).document;t.exports=o&&o.documentElement},function(t,e,i){var o=i(55),n=i(51);t.exports=function(t){return function(e,i){var r,s,a=String(n(e)),h=o(i),l=a.length;return h<0||h>=l?t?"":void 0:(r=a.charCodeAt(h))<55296||r>56319||h+1===l||(s=a.charCodeAt(h+1))<56320||s>57343?t?a.charAt(h):r:t?a.slice(h,h+2):s-56320+(r-55296<<10)+65536}}},function(t,e,i){var o=i(27),n=i(137);t.exports=i(7).getIterator=function(t){var e=n(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return o(e.call(t))}},function(t,e,i){var o=i(86),n=i(13)("iterator"),r=i(31);t.exports=i(7).getIteratorMethod=function(t){if(void 0!=t)return t[n]||t["@@iterator"]||r[o(t)]}},function(t,e,i){i(139);var o=i(7).Object;t.exports=function(t,e){return o.create(t,e)}},function(t,e,i){var o=i(17);o(o.S,"Object",{create:i(54)})},function(t,e,i){i(141),t.exports=i(7).Object.keys},function(t,e,i){var o=i(41),n=i(33);i(87)("keys",function(){return function(t){return n(o(t))}})},function(t,e,i){t.exports={default:i(143),__esModule:!0}},function(t,e,i){i(60),i(49),t.exports=i(61).f("iterator")},function(t,e,i){t.exports={default:i(145),__esModule:!0}},function(t,e,i){i(146),i(151),i(152),i(153),t.exports=i(7).Symbol},function(t,e,i){var o=i(18),n=i(22),r=i(21),s=i(17),a=i(83),h=i(147).KEY,l=i(28),p=i(57),u=i(59),d=i(40),c=i(13),f=i(61),y=i(62),g=i(148),m=i(149),v=i(27),b=i(25),w=i(53),x=i(39),_=i(54),M=i(150),k=i(89),S=i(20),C=i(33),E=k.f,T=S.f,P=M.f,A=o.Symbol,O=o.JSON,D=O&&O.stringify,I=c("_hidden"),R=c("toPrimitive"),N={}.propertyIsEnumerable,L=p("symbol-registry"),j=p("symbols"),F=p("op-symbols"),z=Object.prototype,B="function"==typeof A,q=o.QObject,H=!q||!q.prototype||!q.prototype.findChild,U=r&&l(function(){return 7!=_(T({},"a",{get:function(){return T(this,"a",{value:7}).a}})).a})?function(t,e,i){var o=E(z,e);o&&delete z[e],T(t,e,i),o&&t!==z&&T(z,e,o)}:T,W=function(t){var e=j[t]=_(A.prototype);return e._k=t,e},G=B&&"symbol"==typeof A.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof A},Y=function(t,e,i){return t===z&&Y(F,e,i),v(t),e=w(e,!0),v(i),n(j,e)?(i.enumerable?(n(t,I)&&t[I][e]&&(t[I][e]=!1),i=_(i,{enumerable:x(0,!1)})):(n(t,I)||T(t,I,x(1,{})),t[I][e]=!0),U(t,e,i)):T(t,e,i)},V=function(t,e){v(t);for(var i,o=g(e=b(e)),n=0,r=o.length;r>n;)Y(t,i=o[n++],e[i]);return t},X=function(t){var e=N.call(this,t=w(t,!0));return!(this===z&&n(j,t)&&!n(F,t))&&(!(e||!n(this,t)||!n(j,t)||n(this,I)&&this[I][t])||e)},Z=function(t,e){if(t=b(t),e=w(e,!0),t!==z||!n(j,e)||n(F,e)){var i=E(t,e);return!i||!n(j,e)||n(t,I)&&t[I][e]||(i.enumerable=!0),i}},K=function(t){for(var e,i=P(b(t)),o=[],r=0;i.length>r;)n(j,e=i[r++])||e==I||e==h||o.push(e);return o},J=function(t){for(var e,i=t===z,o=P(i?F:b(t)),r=[],s=0;o.length>s;)!n(j,e=o[s++])||i&&!n(z,e)||r.push(j[e]);return r};B||(a((A=function(){if(this instanceof A)throw TypeError("Symbol is not a constructor!");var t=d(arguments.length>0?arguments[0]:void 0),e=function(i){this===z&&e.call(F,i),n(this,I)&&n(this[I],t)&&(this[I][t]=!1),U(this,t,x(1,i))};return r&&H&&U(z,t,{configurable:!0,set:e}),W(t)}).prototype,"toString",function(){return this._k}),k.f=Z,S.f=Y,i(88).f=M.f=K,i(42).f=X,i(63).f=J,r&&!i(52)&&a(z,"propertyIsEnumerable",X,!0),f.f=function(t){return W(c(t))}),s(s.G+s.W+s.F*!B,{Symbol:A});for(var $="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),Q=0;$.length>Q;)c($[Q++]);for(var tt=C(c.store),et=0;tt.length>et;)y(tt[et++]);s(s.S+s.F*!B,"Symbol",{for:function(t){return n(L,t+="")?L[t]:L[t]=A(t)},keyFor:function(t){if(!G(t))throw TypeError(t+" is not a symbol!");for(var e in L)if(L[e]===t)return e},useSetter:function(){H=!0},useSimple:function(){H=!1}}),s(s.S+s.F*!B,"Object",{create:function(t,e){return void 0===e?_(t):V(_(t),e)},defineProperty:Y,defineProperties:V,getOwnPropertyDescriptor:Z,getOwnPropertyNames:K,getOwnPropertySymbols:J}),O&&s(s.S+s.F*(!B||l(function(){var t=A();return"[null]"!=D([t])||"{}"!=D({a:t})||"{}"!=D(Object(t))})),"JSON",{stringify:function(t){if(void 0!==t&&!G(t)){for(var e,i,o=[t],n=1;arguments.length>n;)o.push(arguments[n++]);return"function"==typeof(e=o[1])&&(i=e),!i&&m(e)||(e=function(t,e){if(i&&(e=i.call(this,t,e)),!G(e))return e}),o[1]=e,D.apply(O,o)}}}),A.prototype[R]||i(26)(A.prototype,R,A.prototype.valueOf),u(A,"Symbol"),u(Math,"Math",!0),u(o.JSON,"JSON",!0)},function(t,e,i){var o=i(40)("meta"),n=i(32),r=i(22),s=i(20).f,a=0,h=Object.isExtensible||function(){return!0},l=!i(28)(function(){return h(Object.preventExtensions({}))}),p=function(t){s(t,o,{value:{i:"O"+ ++a,w:{}}})},u=t.exports={KEY:o,NEED:!1,fastKey:function(t,e){if(!n(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!r(t,o)){if(!h(t))return"F";if(!e)return"E";p(t)}return t[o].i},getWeak:function(t,e){if(!r(t,o)){if(!h(t))return!0;if(!e)return!1;p(t)}return t[o].w},onFreeze:function(t){return l&&u.NEED&&h(t)&&!r(t,o)&&p(t),t}}},function(t,e,i){var o=i(33),n=i(63),r=i(42);t.exports=function(t){var e=o(t),i=n.f;if(i)for(var s,a=i(t),h=r.f,l=0;a.length>l;)h.call(t,s=a[l++])&&e.push(s);return e}},function(t,e,i){var o=i(50);t.exports=Array.isArray||function(t){return"Array"==o(t)}},function(t,e,i){var o=i(25),n=i(88).f,r={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return s&&"[object Window]"==r.call(t)?function(t){try{return n(t)}catch(t){return s.slice()}}(t):n(o(t))}},function(t,e){},function(t,e,i){i(62)("asyncIterator")},function(t,e,i){i(62)("observable")},function(t,e,i){(function(t){t.exports=function(){function e(){return Qt.apply(null,arguments)}function i(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function o(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function n(t){return void 0===t}function r(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)}function s(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function a(t,e){var i,o=[];for(i=0;i<t.length;++i)o.push(e(t[i],i));return o}function h(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function l(t,e){for(var i in e)h(e,i)&&(t[i]=e[i]);return h(e,"toString")&&(t.toString=e.toString),h(e,"valueOf")&&(t.valueOf=e.valueOf),t}function p(t,e,i,o){return bt(t,e,i,o,!0).utc()}function u(t){return null==t._pf&&(t._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),t._pf}function d(t){if(null==t._isValid){var e=u(t),i=te.call(e.parsedDateParts,function(t){return null!=t}),o=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&i);if(t._strict&&(o=o&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour),null!=Object.isFrozen&&Object.isFrozen(t))return o;t._isValid=o}return t._isValid}function c(t){var e=p(NaN);return null!=t?l(u(e),t):u(e).userInvalidated=!0,e}function f(t,e){var i,o,r;if(n(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),n(e._i)||(t._i=e._i),n(e._f)||(t._f=e._f),n(e._l)||(t._l=e._l),n(e._strict)||(t._strict=e._strict),n(e._tzm)||(t._tzm=e._tzm),n(e._isUTC)||(t._isUTC=e._isUTC),n(e._offset)||(t._offset=e._offset),n(e._pf)||(t._pf=u(e)),n(e._locale)||(t._locale=e._locale),ie.length>0)for(i=0;i<ie.length;i++)n(r=e[o=ie[i]])||(t[o]=r);return t}function y(t){f(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===oe&&(oe=!0,e.updateOffset(this),oe=!1)}function g(t){return t instanceof y||null!=t&&null!=t._isAMomentObject}function m(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function v(t){var e=+t,i=0;return 0!==e&&isFinite(e)&&(i=m(e)),i}function b(t,e,i){var o,n=Math.min(t.length,e.length),r=Math.abs(t.length-e.length),s=0;for(o=0;o<n;o++)(i&&t[o]!==e[o]||!i&&v(t[o])!==v(e[o]))&&s++;return s+r}function w(t){!1===e.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function x(t,i){var o=!0;return l(function(){if(null!=e.deprecationHandler&&e.deprecationHandler(null,t),o){for(var n,r=[],s=0;s<arguments.length;s++){if(n="","object"==typeof arguments[s]){for(var a in n+="\n["+s+"] ",arguments[0])n+=a+": "+arguments[0][a]+", ";n=n.slice(0,-2)}else n=arguments[s];r.push(n)}w(t+"\nArguments: "+Array.prototype.slice.call(r).join("")+"\n"+(new Error).stack),o=!1}return i.apply(this,arguments)},i)}function _(t,i){null!=e.deprecationHandler&&e.deprecationHandler(t,i),ne[t]||(w(i),ne[t]=!0)}function M(t){return t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function k(t,e){var i,n=l({},t);for(i in e)h(e,i)&&(o(t[i])&&o(e[i])?(n[i]={},l(n[i],t[i]),l(n[i],e[i])):null!=e[i]?n[i]=e[i]:delete n[i]);for(i in t)h(t,i)&&!h(e,i)&&o(t[i])&&(n[i]=l({},n[i]));return n}function S(t){null!=t&&this.set(t)}function C(t,e){var i=t.toLowerCase();re[i]=re[i+"s"]=re[e]=t}function E(t){return"string"==typeof t?re[t]||re[t.toLowerCase()]:void 0}function T(t){var e,i,o={};for(i in t)h(t,i)&&(e=E(i))&&(o[e]=t[i]);return o}function P(t,e){se[t]=e}function A(t,e,i){var o=""+Math.abs(t);return(t>=0?i?"+":"":"-")+Math.pow(10,Math.max(0,e-o.length)).toString().substr(1)+o}function O(t,e,i,o){var n=o;"string"==typeof o&&(n=function(){return this[o]()}),t&&(pe[t]=n),e&&(pe[e[0]]=function(){return A(n.apply(this,arguments),e[1],e[2])}),i&&(pe[i]=function(){return this.localeData().ordinal(n.apply(this,arguments),t)})}function D(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function I(t,e){return t.isValid()?(e=R(e,t.localeData()),le[e]=le[e]||function(t){var e,i,o=t.match(ae);for(e=0,i=o.length;e<i;e++)o[e]=pe[o[e]]?pe[o[e]]:D(o[e]);return function(e){var n,r="";for(n=0;n<i;n++)r+=M(o[n])?o[n].call(e,t):o[n];return r}}(e),le[e](t)):t.localeData().invalidDate()}function R(t,e){function i(t){return e.longDateFormat(t)||t}var o=5;for(he.lastIndex=0;o>=0&&he.test(t);)t=t.replace(he,i),he.lastIndex=0,o-=1;return t}function N(t,e,i){Ee[t]=M(e)?e:function(t,o){return t&&i?i:e}}function L(t,e){return h(Ee,t)?Ee[t](e._strict,e._locale):new RegExp(function(t){return j(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,i,o,n){return e||i||o||n}))}(t))}function j(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function F(t,e){var i,o=e;for("string"==typeof t&&(t=[t]),r(e)&&(o=function(t,i){i[e]=v(t)}),i=0;i<t.length;i++)Te[t[i]]=o}function z(t,e){F(t,function(t,i,o,n){o._w=o._w||{},e(t,o._w,o,n)})}function B(t,e,i){null!=e&&h(Te,t)&&Te[t](e,i._a,i,t)}function q(t){return H(t)?366:365}function H(t){return t%4==0&&t%100!=0||t%400==0}function U(t,i){return function(o){return null!=o?(G(this,t,o),e.updateOffset(this,i),this):W(this,t)}}function W(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function G(t,e,i){t.isValid()&&!isNaN(i)&&("FullYear"===e&&H(t.year())?t._d["set"+(t._isUTC?"UTC":"")+e](i,t.month(),Y(i,t.month())):t._d["set"+(t._isUTC?"UTC":"")+e](i))}function Y(t,e){if(isNaN(t)||isNaN(e))return NaN;var i=function(t,e){return(t%12+12)%12}(e);return t+=(e-i)/12,1===i?H(t)?29:28:31-i%7%2}function V(t,e){var i;if(!t.isValid())return t;if("string"==typeof e)if(/^\d+$/.test(e))e=v(e);else if(!r(e=t.localeData().monthsParse(e)))return t;return i=Math.min(t.date(),Y(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,i),t}function X(t){return null!=t?(V(this,t),e.updateOffset(this,!0),this):W(this,"Month")}function Z(){function t(t,e){return e.length-t.length}var e,i,o=[],n=[],r=[];for(e=0;e<12;e++)i=p([2e3,e]),o.push(this.monthsShort(i,"")),n.push(this.months(i,"")),r.push(this.months(i,"")),r.push(this.monthsShort(i,""));for(o.sort(t),n.sort(t),r.sort(t),e=0;e<12;e++)o[e]=j(o[e]),n[e]=j(n[e]);for(e=0;e<24;e++)r[e]=j(r[e]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+o.join("|")+")","i")}function K(t){var e=new Date(Date.UTC.apply(null,arguments));return t<100&&t>=0&&isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t),e}function J(t,e,i){var o=7+e-i;return-(7+K(t,0,o).getUTCDay()-e)%7+o-1}function $(t,e,i,o,n){var r,s,a=1+7*(e-1)+(7+i-o)%7+J(t,o,n);return a<=0?s=q(r=t-1)+a:a>q(t)?(r=t+1,s=a-q(t)):(r=t,s=a),{year:r,dayOfYear:s}}function Q(t,e,i){var o,n,r=J(t.year(),e,i),s=Math.floor((t.dayOfYear()-r-1)/7)+1;return s<1?o=s+tt(n=t.year()-1,e,i):s>tt(t.year(),e,i)?(o=s-tt(t.year(),e,i),n=t.year()+1):(n=t.year(),o=s),{week:o,year:n}}function tt(t,e,i){var o=J(t,e,i),n=J(t+1,e,i);return(q(t)-o+n)/7}function et(){function t(t,e){return e.length-t.length}var e,i,o,n,r,s=[],a=[],h=[],l=[];for(e=0;e<7;e++)i=p([2e3,1]).day(e),o=this.weekdaysMin(i,""),n=this.weekdaysShort(i,""),r=this.weekdays(i,""),s.push(o),a.push(n),h.push(r),l.push(o),l.push(n),l.push(r);for(s.sort(t),a.sort(t),h.sort(t),l.sort(t),e=0;e<7;e++)a[e]=j(a[e]),h[e]=j(h[e]),l[e]=j(l[e]);this._weekdaysRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+h.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+s.join("|")+")","i")}function it(){return this.hours()%12||12}function ot(t,e){O(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function nt(t,e){return e._meridiemParse}function rt(t){return t?t.toLowerCase().replace("_","-"):t}function st(e){var i=null;if(!ti[e]&&void 0!==t&&t&&t.exports)try{i=Je._abbr,function(){var t=new Error('Cannot find module "./locale"');throw t.code="MODULE_NOT_FOUND",t}(),at(i)}catch(t){}return ti[e]}function at(t,e){var i;return t&&(i=n(e)?lt(t):ht(t,e))&&(Je=i),Je._abbr}function ht(t,e){if(null!==e){var i=Qe;if(e.abbr=t,null!=ti[t])_("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),i=ti[t]._config;else if(null!=e.parentLocale){if(null==ti[e.parentLocale])return ei[e.parentLocale]||(ei[e.parentLocale]=[]),ei[e.parentLocale].push({name:t,config:e}),null;i=ti[e.parentLocale]._config}return ti[t]=new S(k(i,e)),ei[t]&&ei[t].forEach(function(t){ht(t.name,t.config)}),at(t),ti[t]}return delete ti[t],null}function lt(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return Je;if(!i(t)){if(e=st(t))return e;t=[t]}return function(t){for(var e,i,o,n,r=0;r<t.length;){for(e=(n=rt(t[r]).split("-")).length,i=(i=rt(t[r+1]))?i.split("-"):null;e>0;){if(o=st(n.slice(0,e).join("-")))return o;if(i&&i.length>=e&&b(n,i,!0)>=e-1)break;e--}r++}return null}(t)}function pt(t){var e,i=t._a;return i&&-2===u(t).overflow&&(e=i[Ae]<0||i[Ae]>11?Ae:i[Oe]<1||i[Oe]>Y(i[Pe],i[Ae])?Oe:i[De]<0||i[De]>24||24===i[De]&&(0!==i[Ie]||0!==i[Re]||0!==i[Ne])?De:i[Ie]<0||i[Ie]>59?Ie:i[Re]<0||i[Re]>59?Re:i[Ne]<0||i[Ne]>999?Ne:-1,u(t)._overflowDayOfYear&&(e<Pe||e>Oe)&&(e=Oe),u(t)._overflowWeeks&&-1===e&&(e=Le),u(t)._overflowWeekday&&-1===e&&(e=je),u(t).overflow=e),t}function ut(t,e,i){return null!=t?t:null!=e?e:i}function dt(t){var i=new Date(e.now());return t._useUTC?[i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()]:[i.getFullYear(),i.getMonth(),i.getDate()]}function ct(t){var e,i,o,n,r=[];if(!t._d){for(o=dt(t),t._w&&null==t._a[Oe]&&null==t._a[Ae]&&function(t){var e,i,o,n,r,s,a,h;if(null!=(e=t._w).GG||null!=e.W||null!=e.E)r=1,s=4,i=ut(e.GG,t._a[Pe],Q(wt(),1,4).year),o=ut(e.W,1),((n=ut(e.E,1))<1||n>7)&&(h=!0);else{r=t._locale._week.dow,s=t._locale._week.doy;var l=Q(wt(),r,s);i=ut(e.gg,t._a[Pe],l.year),o=ut(e.w,l.week),null!=e.d?((n=e.d)<0||n>6)&&(h=!0):null!=e.e?(n=e.e+r,(e.e<0||e.e>6)&&(h=!0)):n=r}o<1||o>tt(i,r,s)?u(t)._overflowWeeks=!0:null!=h?u(t)._overflowWeekday=!0:(a=$(i,o,n,r,s),t._a[Pe]=a.year,t._dayOfYear=a.dayOfYear)}(t),null!=t._dayOfYear&&(n=ut(t._a[Pe],o[Pe]),(t._dayOfYear>q(n)||0===t._dayOfYear)&&(u(t)._overflowDayOfYear=!0),i=K(n,0,t._dayOfYear),t._a[Ae]=i.getUTCMonth(),t._a[Oe]=i.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=r[e]=o[e];for(;e<7;e++)t._a[e]=r[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[De]&&0===t._a[Ie]&&0===t._a[Re]&&0===t._a[Ne]&&(t._nextDay=!0,t._a[De]=0),t._d=(t._useUTC?K:function(t,e,i,o,n,r,s){var a=new Date(t,e,i,o,n,r,s);return t<100&&t>=0&&isFinite(a.getFullYear())&&a.setFullYear(t),a}).apply(null,r),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[De]=24),t._w&&void 0!==t._w.d&&t._w.d!==t._d.getDay()&&(u(t).weekdayMismatch=!0)}}function ft(t){var e,i,o,n,r,s,a=t._i,h=ii.exec(a)||oi.exec(a);if(h){for(u(t).iso=!0,e=0,i=ri.length;e<i;e++)if(ri[e][1].exec(h[1])){n=ri[e][0],o=!1!==ri[e][2];break}if(null==n)return void(t._isValid=!1);if(h[3]){for(e=0,i=si.length;e<i;e++)if(si[e][1].exec(h[3])){r=(h[2]||" ")+si[e][0];break}if(null==r)return void(t._isValid=!1)}if(!o&&null!=r)return void(t._isValid=!1);if(h[4]){if(!ni.exec(h[4]))return void(t._isValid=!1);s="Z"}t._f=n+(r||"")+(s||""),gt(t)}else t._isValid=!1}function yt(t){var e=hi.exec(function(t){return t.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}(t._i));if(e){var i=function(t,e,i,o,n,r){var s=[function(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}(t),He.indexOf(e),parseInt(i,10),parseInt(o,10),parseInt(n,10)];return r&&s.push(parseInt(r,10)),s}(e[4],e[3],e[2],e[5],e[6],e[7]);if(!function(t,e,i){return!t||Ye.indexOf(t)===new Date(e[0],e[1],e[2]).getDay()||(u(i).weekdayMismatch=!0,i._isValid=!1,!1)}(e[1],i,t))return;t._a=i,t._tzm=function(t,e,i){if(t)return li[t];if(e)return 0;var o=parseInt(i,10),n=o%100;return(o-n)/100*60+n}(e[8],e[9],e[10]),t._d=K.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),u(t).rfc2822=!0}else t._isValid=!1}function gt(t){if(t._f!==e.ISO_8601)if(t._f!==e.RFC_2822){t._a=[],u(t).empty=!0;var i,o,n,r,s,a=""+t._i,h=a.length,l=0;for(n=R(t._f,t._locale).match(ae)||[],i=0;i<n.length;i++)(o=(a.match(L(r=n[i],t))||[])[0])&&((s=a.substr(0,a.indexOf(o))).length>0&&u(t).unusedInput.push(s),a=a.slice(a.indexOf(o)+o.length),l+=o.length),pe[r]?(o?u(t).empty=!1:u(t).unusedTokens.push(r),B(r,o,t)):t._strict&&!o&&u(t).unusedTokens.push(r);u(t).charsLeftOver=h-l,a.length>0&&u(t).unusedInput.push(a),t._a[De]<=12&&!0===u(t).bigHour&&t._a[De]>0&&(u(t).bigHour=void 0),u(t).parsedDateParts=t._a.slice(0),u(t).meridiem=t._meridiem,t._a[De]=function(t,e,i){var o;return null==i?e:null!=t.meridiemHour?t.meridiemHour(e,i):null!=t.isPM?((o=t.isPM(i))&&e<12&&(e+=12),o||12!==e||(e=0),e):e}(t._locale,t._a[De],t._meridiem),ct(t),pt(t)}else yt(t);else ft(t)}function mt(t){var e=t._i,o=t._f;return t._locale=t._locale||lt(t._l),null===e||void 0===o&&""===e?c({nullInput:!0}):("string"==typeof e&&(t._i=e=t._locale.preparse(e)),g(e)?new y(pt(e)):(s(e)?t._d=e:i(o)?function(t){var e,i,o,n,r;if(0===t._f.length)return u(t).invalidFormat=!0,void(t._d=new Date(NaN));for(n=0;n<t._f.length;n++)r=0,e=f({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[n],gt(e),d(e)&&(r+=u(e).charsLeftOver,r+=10*u(e).unusedTokens.length,u(e).score=r,(null==o||r<o)&&(o=r,i=e));l(t,i||e)}(t):o?gt(t):vt(t),d(t)||(t._d=null),t))}function vt(t){var h=t._i;n(h)?t._d=new Date(e.now()):s(h)?t._d=new Date(h.valueOf()):"string"==typeof h?function(t){var i=ai.exec(t._i);null===i?(ft(t),!1===t._isValid&&(delete t._isValid,yt(t),!1===t._isValid&&(delete t._isValid,e.createFromInputFallback(t)))):t._d=new Date(+i[1])}(t):i(h)?(t._a=a(h.slice(0),function(t){return parseInt(t,10)}),ct(t)):o(h)?function(t){if(!t._d){var e=T(t._i);t._a=a([e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],function(t){return t&&parseInt(t,10)}),ct(t)}}(t):r(h)?t._d=new Date(h):e.createFromInputFallback(t)}function bt(t,e,n,r,s){var a={};return!0!==n&&!1!==n||(r=n,n=void 0),(o(t)&&function(t){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(t).length;var e;for(e in t)if(t.hasOwnProperty(e))return!1;return!0}(t)||i(t)&&0===t.length)&&(t=void 0),a._isAMomentObject=!0,a._useUTC=a._isUTC=s,a._l=n,a._i=t,a._f=e,a._strict=r,function(t){var e=new y(pt(mt(a)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}()}function wt(t,e,i,o){return bt(t,e,i,o,!1)}function xt(t,e){var o,n;if(1===e.length&&i(e[0])&&(e=e[0]),!e.length)return wt();for(o=e[0],n=1;n<e.length;++n)e[n].isValid()&&!e[n][t](o)||(o=e[n]);return o}function _t(t){var e=T(t),i=e.year||0,o=e.quarter||0,n=e.month||0,r=e.week||0,s=e.day||0,a=e.hour||0,h=e.minute||0,l=e.second||0,p=e.millisecond||0;this._isValid=function(t){for(var e in t)if(-1===Fe.call(di,e)||null!=t[e]&&isNaN(t[e]))return!1;for(var i=!1,o=0;o<di.length;++o)if(t[di[o]]){if(i)return!1;parseFloat(t[di[o]])!==v(t[di[o]])&&(i=!0)}return!0}(e),this._milliseconds=+p+1e3*l+6e4*h+1e3*a*60*60,this._days=+s+7*r,this._months=+n+3*o+12*i,this._data={},this._locale=lt(),this._bubble()}function Mt(t){return t instanceof _t}function kt(t){return t<0?-1*Math.round(-1*t):Math.round(t)}function St(t,e){O(t,0,0,function(){var t=this.utcOffset(),i="+";return t<0&&(t=-t,i="-"),i+A(~~(t/60),2)+e+A(~~t%60,2)})}function Ct(t,e){var i=(e||"").match(t);if(null===i)return null;var o=((i[i.length-1]||[])+"").match(ci)||["-",0,0],n=60*o[1]+v(o[2]);return 0===n?0:"+"===o[0]?n:-n}function Et(t,i){var o,n;return i._isUTC?(o=i.clone(),n=(g(t)||s(t)?t.valueOf():wt(t).valueOf())-o.valueOf(),o._d.setTime(o._d.valueOf()+n),e.updateOffset(o,!1),o):wt(t).local()}function Tt(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function Pt(){return!!this.isValid()&&this._isUTC&&0===this._offset}function At(t,e){var i,o,n,s=t,a=null;return Mt(t)?s={ms:t._milliseconds,d:t._days,M:t._months}:r(t)?(s={},e?s[e]=t:s.milliseconds=t):(a=fi.exec(t))?(i="-"===a[1]?-1:1,s={y:0,d:v(a[Oe])*i,h:v(a[De])*i,m:v(a[Ie])*i,s:v(a[Re])*i,ms:v(kt(1e3*a[Ne]))*i}):(a=yi.exec(t))?s={y:Ot(a[2],i="-"===a[1]?-1:1),M:Ot(a[3],i),w:Ot(a[4],i),d:Ot(a[5],i),h:Ot(a[6],i),m:Ot(a[7],i),s:Ot(a[8],i)}:null==s?s={}:"object"==typeof s&&("from"in s||"to"in s)&&(n=function(t,e){var i;return t.isValid()&&e.isValid()?(e=Et(e,t),t.isBefore(e)?i=Dt(t,e):((i=Dt(e,t)).milliseconds=-i.milliseconds,i.months=-i.months),i):{milliseconds:0,months:0}}(wt(s.from),wt(s.to)),(s={}).ms=n.milliseconds,s.M=n.months),o=new _t(s),Mt(t)&&h(t,"_locale")&&(o._locale=t._locale),o}function Ot(t,e){var i=t&&parseFloat(t.replace(",","."));return(isNaN(i)?0:i)*e}function Dt(t,e){var i={milliseconds:0,months:0};return i.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(i.months,"M").isAfter(e)&&--i.months,i.milliseconds=+e-+t.clone().add(i.months,"M"),i}function It(t,e){return function(i,o){var n;return null===o||isNaN(+o)||(_(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),n=i,i=o,o=n),Rt(this,At(i="string"==typeof i?+i:i,o),t),this}}function Rt(t,i,o,n){var r=i._milliseconds,s=kt(i._days),a=kt(i._months);t.isValid()&&(n=null==n||n,a&&V(t,W(t,"Month")+a*o),s&&G(t,"Date",W(t,"Date")+s*o),r&&t._d.setTime(t._d.valueOf()+r*o),n&&e.updateOffset(t,s||a))}function Nt(t,e){var i=12*(e.year()-t.year())+(e.month()-t.month()),o=t.clone().add(i,"months");return-(i+(e-o<0?(e-o)/(o-t.clone().add(i-1,"months")):(e-o)/(t.clone().add(i+1,"months")-o)))||0}function Lt(t){var e;return void 0===t?this._locale._abbr:(null!=(e=lt(t))&&(this._locale=e),this)}function jt(){return this._locale}function Ft(t,e){O(0,[t,t.length],0,e)}function zt(t,e,i,o,n){var r;return null==t?Q(this,o,n).year:(e>(r=tt(t,o,n))&&(e=r),(function(t,e,i,o,n){var r=$(t,e,i,o,n),s=K(r.year,0,r.dayOfYear);return this.year(s.getUTCFullYear()),this.month(s.getUTCMonth()),this.date(s.getUTCDate()),this}).call(this,t,e,i,o,n))}function Bt(t,e){e[Ne]=v(1e3*("0."+t))}function qt(t){return t}function Ht(t,e,i,o){var n=lt(),r=p().set(o,e);return n[i](r,t)}function Ut(t,e,i){if(r(t)&&(e=t,t=void 0),t=t||"",null!=e)return Ht(t,e,i,"month");var o,n=[];for(o=0;o<12;o++)n[o]=Ht(t,o,i,"month");return n}function Wt(t,e,i,o){"boolean"==typeof t?(r(e)&&(i=e,e=void 0),e=e||""):(i=e=t,t=!1,r(e)&&(i=e,e=void 0),e=e||"");var n=lt(),s=t?n._week.dow:0;if(null!=i)return Ht(e,(i+s)%7,o,"day");var a,h=[];for(a=0;a<7;a++)h[a]=Ht(e,(a+s)%7,o,"day");return h}function Gt(t,e,i,o){var n=At(e,i);return t._milliseconds+=o*n._milliseconds,t._days+=o*n._days,t._months+=o*n._months,t._bubble()}function Yt(t){return t<0?Math.floor(t):Math.ceil(t)}function Vt(t){return 4800*t/146097}function Xt(t){return 146097*t/4800}function Zt(t){return function(){return this.as(t)}}function Kt(t){return function(){return this.isValid()?this._data[t]:NaN}}function Jt(t){return(t>0)-(t<0)||+t}function $t(){if(!this.isValid())return this.localeData().invalidDate();var t,e,i=Wi(this._milliseconds)/1e3,o=Wi(this._days),n=Wi(this._months);e=m((t=m(i/60))/60),i%=60,t%=60;var r=m(n/12),s=n%=12,a=o,h=e,l=t,p=i?i.toFixed(3).replace(/\.?0+$/,""):"",u=this.asSeconds();if(!u)return"P0D";var d=u<0?"-":"",c=Jt(this._months)!==Jt(u)?"-":"",f=Jt(this._days)!==Jt(u)?"-":"",y=Jt(this._milliseconds)!==Jt(u)?"-":"";return d+"P"+(r?c+r+"Y":"")+(s?c+s+"M":"")+(a?f+a+"D":"")+(h||l||p?"T":"")+(h?y+h+"H":"")+(l?y+l+"M":"")+(p?y+p+"S":"")}var Qt,te;te=Array.prototype.some?Array.prototype.some:function(t){for(var e=Object(this),i=e.length>>>0,o=0;o<i;o++)if(o in e&&t.call(this,e[o],o,e))return!0;return!1};var ee,ie=e.momentProperties=[],oe=!1,ne={};e.suppressDeprecationWarnings=!1,e.deprecationHandler=null,ee=Object.keys?Object.keys:function(t){var e,i=[];for(e in t)h(t,e)&&i.push(e);return i};var re={},se={},ae=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,he=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,le={},pe={},ue=/\d/,de=/\d\d/,ce=/\d{3}/,fe=/\d{4}/,ye=/[+-]?\d{6}/,ge=/\d\d?/,me=/\d\d\d\d?/,ve=/\d\d\d\d\d\d?/,be=/\d{1,3}/,we=/\d{1,4}/,xe=/[+-]?\d{1,6}/,_e=/\d+/,Me=/[+-]?\d+/,ke=/Z|[+-]\d\d:?\d\d/gi,Se=/Z|[+-]\d\d(?::?\d\d)?/gi,Ce=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Ee={},Te={},Pe=0,Ae=1,Oe=2,De=3,Ie=4,Re=5,Ne=6,Le=7,je=8;O("Y",0,0,function(){var t=this.year();return t<=9999?""+t:"+"+t}),O(0,["YY",2],0,function(){return this.year()%100}),O(0,["YYYY",4],0,"year"),O(0,["YYYYY",5],0,"year"),O(0,["YYYYYY",6,!0],0,"year"),C("year","y"),P("year",1),N("Y",Me),N("YY",ge,de),N("YYYY",we,fe),N("YYYYY",xe,ye),N("YYYYYY",xe,ye),F(["YYYYY","YYYYYY"],Pe),F("YYYY",function(t,i){i[Pe]=2===t.length?e.parseTwoDigitYear(t):v(t)}),F("YY",function(t,i){i[Pe]=e.parseTwoDigitYear(t)}),F("Y",function(t,e){e[Pe]=parseInt(t,10)}),e.parseTwoDigitYear=function(t){return v(t)+(v(t)>68?1900:2e3)};var Fe,ze=U("FullYear",!0);Fe=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1},O("M",["MM",2],"Mo",function(){return this.month()+1}),O("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),O("MMMM",0,0,function(t){return this.localeData().months(this,t)}),C("month","M"),P("month",8),N("M",ge),N("MM",ge,de),N("MMM",function(t,e){return e.monthsShortRegex(t)}),N("MMMM",function(t,e){return e.monthsRegex(t)}),F(["M","MM"],function(t,e){e[Ae]=v(t)-1}),F(["MMM","MMMM"],function(t,e,i,o){var n=i._locale.monthsParse(t,o,i._strict);null!=n?e[Ae]=n:u(i).invalidMonth=t});var Be=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,qe="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),He="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Ue=Ce,We=Ce;O("w",["ww",2],"wo","week"),O("W",["WW",2],"Wo","isoWeek"),C("week","w"),C("isoWeek","W"),P("week",5),P("isoWeek",5),N("w",ge),N("ww",ge,de),N("W",ge),N("WW",ge,de),z(["w","ww","W","WW"],function(t,e,i,o){e[o.substr(0,1)]=v(t)}),O("d",0,"do","day"),O("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),O("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),O("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),O("e",0,0,"weekday"),O("E",0,0,"isoWeekday"),C("day","d"),C("weekday","e"),C("isoWeekday","E"),P("day",11),P("weekday",11),P("isoWeekday",11),N("d",ge),N("e",ge),N("E",ge),N("dd",function(t,e){return e.weekdaysMinRegex(t)}),N("ddd",function(t,e){return e.weekdaysShortRegex(t)}),N("dddd",function(t,e){return e.weekdaysRegex(t)}),z(["dd","ddd","dddd"],function(t,e,i,o){var n=i._locale.weekdaysParse(t,o,i._strict);null!=n?e.d=n:u(i).invalidWeekday=t}),z(["d","e","E"],function(t,e,i,o){e[o]=v(t)});var Ge="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Ye="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Ve="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Xe=Ce,Ze=Ce,Ke=Ce;O("H",["HH",2],0,"hour"),O("h",["hh",2],0,it),O("k",["kk",2],0,function(){return this.hours()||24}),O("hmm",0,0,function(){return""+it.apply(this)+A(this.minutes(),2)}),O("hmmss",0,0,function(){return""+it.apply(this)+A(this.minutes(),2)+A(this.seconds(),2)}),O("Hmm",0,0,function(){return""+this.hours()+A(this.minutes(),2)}),O("Hmmss",0,0,function(){return""+this.hours()+A(this.minutes(),2)+A(this.seconds(),2)}),ot("a",!0),ot("A",!1),C("hour","h"),P("hour",13),N("a",nt),N("A",nt),N("H",ge),N("h",ge),N("k",ge),N("HH",ge,de),N("hh",ge,de),N("kk",ge,de),N("hmm",me),N("hmmss",ve),N("Hmm",me),N("Hmmss",ve),F(["H","HH"],De),F(["k","kk"],function(t,e,i){var o=v(t);e[De]=24===o?0:o}),F(["a","A"],function(t,e,i){i._isPm=i._locale.isPM(t),i._meridiem=t}),F(["h","hh"],function(t,e,i){e[De]=v(t),u(i).bigHour=!0}),F("hmm",function(t,e,i){var o=t.length-2;e[De]=v(t.substr(0,o)),e[Ie]=v(t.substr(o)),u(i).bigHour=!0}),F("hmmss",function(t,e,i){var o=t.length-4,n=t.length-2;e[De]=v(t.substr(0,o)),e[Ie]=v(t.substr(o,2)),e[Re]=v(t.substr(n)),u(i).bigHour=!0}),F("Hmm",function(t,e,i){var o=t.length-2;e[De]=v(t.substr(0,o)),e[Ie]=v(t.substr(o))}),F("Hmmss",function(t,e,i){var o=t.length-4,n=t.length-2;e[De]=v(t.substr(0,o)),e[Ie]=v(t.substr(o,2)),e[Re]=v(t.substr(n))});var Je,$e=U("Hours",!0),Qe={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:qe,monthsShort:He,week:{dow:0,doy:6},weekdays:Ge,weekdaysMin:Ve,weekdaysShort:Ye,meridiemParse:/[ap]\.?m?\.?/i},ti={},ei={},ii=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,oi=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ni=/Z|[+-]\d\d(?::?\d\d)?/,ri=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],si=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],ai=/^\/?Date\((\-?\d+)/i,hi=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,li={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};e.createFromInputFallback=x("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),e.ISO_8601=function(){},e.RFC_2822=function(){};var pi=x("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=wt.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:c()}),ui=x("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=wt.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:c()}),di=["year","quarter","month","week","day","hour","minute","second","millisecond"];St("Z",":"),St("ZZ",""),N("Z",Se),N("ZZ",Se),F(["Z","ZZ"],function(t,e,i){i._useUTC=!0,i._tzm=Ct(Se,t)});var ci=/([\+\-]|\d\d)/gi;e.updateOffset=function(){};var fi=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,yi=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;At.fn=_t.prototype,At.invalid=function(){return At(NaN)};var gi=It(1,"add"),mi=It(-1,"subtract");e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",e.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var vi=x("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});O(0,["gg",2],0,function(){return this.weekYear()%100}),O(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Ft("gggg","weekYear"),Ft("ggggg","weekYear"),Ft("GGGG","isoWeekYear"),Ft("GGGGG","isoWeekYear"),C("weekYear","gg"),C("isoWeekYear","GG"),P("weekYear",1),P("isoWeekYear",1),N("G",Me),N("g",Me),N("GG",ge,de),N("gg",ge,de),N("GGGG",we,fe),N("gggg",we,fe),N("GGGGG",xe,ye),N("ggggg",xe,ye),z(["gggg","ggggg","GGGG","GGGGG"],function(t,e,i,o){e[o.substr(0,2)]=v(t)}),z(["gg","GG"],function(t,i,o,n){i[n]=e.parseTwoDigitYear(t)}),O("Q",0,"Qo","quarter"),C("quarter","Q"),P("quarter",7),N("Q",ue),F("Q",function(t,e){e[Ae]=3*(v(t)-1)}),O("D",["DD",2],"Do","date"),C("date","D"),P("date",9),N("D",ge),N("DD",ge,de),N("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient}),F(["D","DD"],Oe),F("Do",function(t,e){e[Oe]=v(t.match(ge)[0])});var bi=U("Date",!0);O("DDD",["DDDD",3],"DDDo","dayOfYear"),C("dayOfYear","DDD"),P("dayOfYear",4),N("DDD",be),N("DDDD",ce),F(["DDD","DDDD"],function(t,e,i){i._dayOfYear=v(t)}),O("m",["mm",2],0,"minute"),C("minute","m"),P("minute",14),N("m",ge),N("mm",ge,de),F(["m","mm"],Ie);var wi=U("Minutes",!1);O("s",["ss",2],0,"second"),C("second","s"),P("second",15),N("s",ge),N("ss",ge,de),F(["s","ss"],Re);var xi,_i=U("Seconds",!1);for(O("S",0,0,function(){return~~(this.millisecond()/100)}),O(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),O(0,["SSS",3],0,"millisecond"),O(0,["SSSS",4],0,function(){return 10*this.millisecond()}),O(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),O(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),O(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),O(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),O(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),C("millisecond","ms"),P("millisecond",16),N("S",be,ue),N("SS",be,de),N("SSS",be,ce),xi="SSSS";xi.length<=9;xi+="S")N(xi,_e);for(xi="S";xi.length<=9;xi+="S")F(xi,Bt);var Mi=U("Milliseconds",!1);O("z",0,0,"zoneAbbr"),O("zz",0,0,"zoneName");var ki=y.prototype;ki.add=gi,ki.calendar=function(t,i){var o=t||wt(),n=Et(o,this).startOf("day"),r=e.calendarFormat(this,n)||"sameElse",s=i&&(M(i[r])?i[r].call(this,o):i[r]);return this.format(s||this.localeData().calendar(r,this,wt(o)))},ki.clone=function(){return new y(this)},ki.diff=function(t,e,i){var o,n,r;if(!this.isValid())return NaN;if(!(o=Et(t,this)).isValid())return NaN;switch(n=6e4*(o.utcOffset()-this.utcOffset()),e=E(e)){case"year":r=Nt(this,o)/12;break;case"month":r=Nt(this,o);break;case"quarter":r=Nt(this,o)/3;break;case"second":r=(this-o)/1e3;break;case"minute":r=(this-o)/6e4;break;case"hour":r=(this-o)/36e5;break;case"day":r=(this-o-n)/864e5;break;case"week":r=(this-o-n)/6048e5;break;default:r=this-o}return i?r:m(r)},ki.endOf=function(t){return void 0===(t=E(t))||"millisecond"===t?this:("date"===t&&(t="day"),this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms"))},ki.format=function(t){t||(t=this.isUtc()?e.defaultFormatUtc:e.defaultFormat);var i=I(this,t);return this.localeData().postformat(i)},ki.from=function(t,e){return this.isValid()&&(g(t)&&t.isValid()||wt(t).isValid())?At({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},ki.fromNow=function(t){return this.from(wt(),t)},ki.to=function(t,e){return this.isValid()&&(g(t)&&t.isValid()||wt(t).isValid())?At({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},ki.toNow=function(t){return this.to(wt(),t)},ki.get=function(t){return M(this[t=E(t)])?this[t]():this},ki.invalidAt=function(){return u(this).overflow},ki.isAfter=function(t,e){var i=g(t)?t:wt(t);return!(!this.isValid()||!i.isValid())&&("millisecond"===(e=E(n(e)?"millisecond":e))?this.valueOf()>i.valueOf():i.valueOf()<this.clone().startOf(e).valueOf())},ki.isBefore=function(t,e){var i=g(t)?t:wt(t);return!(!this.isValid()||!i.isValid())&&("millisecond"===(e=E(n(e)?"millisecond":e))?this.valueOf()<i.valueOf():this.clone().endOf(e).valueOf()<i.valueOf())},ki.isBetween=function(t,e,i,o){return("("===(o=o||"()")[0]?this.isAfter(t,i):!this.isBefore(t,i))&&(")"===o[1]?this.isBefore(e,i):!this.isAfter(e,i))},ki.isSame=function(t,e){var i,o=g(t)?t:wt(t);return!(!this.isValid()||!o.isValid())&&("millisecond"===(e=E(e||"millisecond"))?this.valueOf()===o.valueOf():(i=o.valueOf(),this.clone().startOf(e).valueOf()<=i&&i<=this.clone().endOf(e).valueOf()))},ki.isSameOrAfter=function(t,e){return this.isSame(t,e)||this.isAfter(t,e)},ki.isSameOrBefore=function(t,e){return this.isSame(t,e)||this.isBefore(t,e)},ki.isValid=function(){return d(this)},ki.lang=vi,ki.locale=Lt,ki.localeData=jt,ki.max=ui,ki.min=pi,ki.parsingFlags=function(){return l({},u(this))},ki.set=function(t,e){if("object"==typeof t)for(var i=function(t){var e=[];for(var i in t)e.push({unit:i,priority:se[i]});return e.sort(function(t,e){return t.priority-e.priority}),e}(t=T(t)),o=0;o<i.length;o++)this[i[o].unit](t[i[o].unit]);else if(M(this[t=E(t)]))return this[t](e);return this},ki.startOf=function(t){switch(t=E(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this},ki.subtract=mi,ki.toArray=function(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]},ki.toObject=function(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}},ki.toDate=function(){return new Date(this.valueOf())},ki.toISOString=function(){if(!this.isValid())return null;var t=this.clone().utc();return t.year()<0||t.year()>9999?I(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):M(Date.prototype.toISOString)?this.toDate().toISOString():I(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},ki.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="";this.isLocal()||(t=0===this.utcOffset()?"moment.utc":"moment.parseZone",e="Z");var i="["+t+'("]',o=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY";return this.format(i+o+"-MM-DD[T]HH:mm:ss.SSS"+e+'[")]')},ki.toJSON=function(){return this.isValid()?this.toISOString():null},ki.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},ki.unix=function(){return Math.floor(this.valueOf()/1e3)},ki.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},ki.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},ki.year=ze,ki.isLeapYear=function(){return H(this.year())},ki.weekYear=function(t){return zt.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},ki.isoWeekYear=function(t){return zt.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)},ki.quarter=ki.quarters=function(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)},ki.month=X,ki.daysInMonth=function(){return Y(this.year(),this.month())},ki.week=ki.weeks=function(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")},ki.isoWeek=ki.isoWeeks=function(t){var e=Q(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")},ki.weeksInYear=function(){var t=this.localeData()._week;return tt(this.year(),t.dow,t.doy)},ki.isoWeeksInYear=function(){return tt(this.year(),1,4)},ki.date=bi,ki.day=ki.days=function(t){if(!this.isValid())return null!=t?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=function(t,e){return"string"!=typeof t?t:isNaN(t)?"number"==typeof(t=e.weekdaysParse(t))?t:null:parseInt(t,10)}(t,this.localeData()),this.add(t-e,"d")):e},ki.weekday=function(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")},ki.isoWeekday=function(t){if(!this.isValid())return null!=t?this:NaN;if(null!=t){var e=function(t,e){return"string"==typeof t?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}(t,this.localeData());return this.day(this.day()%7?e:e-7)}return this.day()||7},ki.dayOfYear=function(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")},ki.hour=ki.hours=$e,ki.minute=ki.minutes=wi,ki.second=ki.seconds=_i,ki.millisecond=ki.milliseconds=Mi,ki.utcOffset=function(t,i,o){var n,r=this._offset||0;if(!this.isValid())return null!=t?this:NaN;if(null!=t){if("string"==typeof t){if(null===(t=Ct(Se,t)))return this}else Math.abs(t)<16&&!o&&(t*=60);return!this._isUTC&&i&&(n=Tt(this)),this._offset=t,this._isUTC=!0,null!=n&&this.add(n,"m"),r!==t&&(!i||this._changeInProgress?Rt(this,At(t-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?r:Tt(this)},ki.utc=function(t){return this.utcOffset(0,t)},ki.local=function(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Tt(this),"m")),this},ki.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var t=Ct(ke,this._i);null!=t?this.utcOffset(t):this.utcOffset(0,!0)}return this},ki.hasAlignedHourOffset=function(t){return!!this.isValid()&&(t=t?wt(t).utcOffset():0,(this.utcOffset()-t)%60==0)},ki.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},ki.isLocal=function(){return!!this.isValid()&&!this._isUTC},ki.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},ki.isUtc=Pt,ki.isUTC=Pt,ki.zoneAbbr=function(){return this._isUTC?"UTC":""},ki.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},ki.dates=x("dates accessor is deprecated. Use date instead.",bi),ki.months=x("months accessor is deprecated. Use month instead",X),ki.years=x("years accessor is deprecated. Use year instead",ze),ki.zone=x("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}),ki.isDSTShifted=x("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!n(this._isDSTShifted))return this._isDSTShifted;var t={};if(f(t,this),(t=mt(t))._a){var e=t._isUTC?p(t._a):wt(t._a);this._isDSTShifted=this.isValid()&&b(t._a,e.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted});var Si=S.prototype;Si.calendar=function(t,e,i){var o=this._calendar[t]||this._calendar.sameElse;return M(o)?o.call(e,i):o},Si.longDateFormat=function(t){var e=this._longDateFormat[t],i=this._longDateFormat[t.toUpperCase()];return e||!i?e:(this._longDateFormat[t]=i.replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t])},Si.invalidDate=function(){return this._invalidDate},Si.ordinal=function(t){return this._ordinal.replace("%d",t)},Si.preparse=qt,Si.postformat=qt,Si.relativeTime=function(t,e,i,o){var n=this._relativeTime[i];return M(n)?n(t,e,i,o):n.replace(/%d/i,t)},Si.pastFuture=function(t,e){var i=this._relativeTime[t>0?"future":"past"];return M(i)?i(e):i.replace(/%s/i,e)},Si.set=function(t){var e,i;for(i in t)M(e=t[i])?this[i]=e:this["_"+i]=e;this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},Si.months=function(t,e){return t?i(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||Be).test(e)?"format":"standalone"][t.month()]:i(this._months)?this._months:this._months.standalone},Si.monthsShort=function(t,e){return t?i(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[Be.test(e)?"format":"standalone"][t.month()]:i(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},Si.monthsParse=function(t,e,i){var o,n,r;if(this._monthsParseExact)return(function(t,e,i){var o,n,r,s=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],o=0;o<12;++o)r=p([2e3,o]),this._shortMonthsParse[o]=this.monthsShort(r,"").toLocaleLowerCase(),this._longMonthsParse[o]=this.months(r,"").toLocaleLowerCase();return i?"MMM"===e?-1!==(n=Fe.call(this._shortMonthsParse,s))?n:null:-1!==(n=Fe.call(this._longMonthsParse,s))?n:null:"MMM"===e?-1!==(n=Fe.call(this._shortMonthsParse,s))?n:-1!==(n=Fe.call(this._longMonthsParse,s))?n:null:-1!==(n=Fe.call(this._longMonthsParse,s))?n:-1!==(n=Fe.call(this._shortMonthsParse,s))?n:null}).call(this,t,e,i);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),o=0;o<12;o++){if(n=p([2e3,o]),i&&!this._longMonthsParse[o]&&(this._longMonthsParse[o]=new RegExp("^"+this.months(n,"").replace(".","")+"$","i"),this._shortMonthsParse[o]=new RegExp("^"+this.monthsShort(n,"").replace(".","")+"$","i")),i||this._monthsParse[o]||(r="^"+this.months(n,"")+"|^"+this.monthsShort(n,""),this._monthsParse[o]=new RegExp(r.replace(".",""),"i")),i&&"MMMM"===e&&this._longMonthsParse[o].test(t))return o;if(i&&"MMM"===e&&this._shortMonthsParse[o].test(t))return o;if(!i&&this._monthsParse[o].test(t))return o}},Si.monthsRegex=function(t){return this._monthsParseExact?(h(this,"_monthsRegex")||Z.call(this),t?this._monthsStrictRegex:this._monthsRegex):(h(this,"_monthsRegex")||(this._monthsRegex=We),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)},Si.monthsShortRegex=function(t){return this._monthsParseExact?(h(this,"_monthsRegex")||Z.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(h(this,"_monthsShortRegex")||(this._monthsShortRegex=Ue),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)},Si.week=function(t){return Q(t,this._week.dow,this._week.doy).week},Si.firstDayOfYear=function(){return this._week.doy},Si.firstDayOfWeek=function(){return this._week.dow},Si.weekdays=function(t,e){return t?i(this._weekdays)?this._weekdays[t.day()]:this._weekdays[this._weekdays.isFormat.test(e)?"format":"standalone"][t.day()]:i(this._weekdays)?this._weekdays:this._weekdays.standalone},Si.weekdaysMin=function(t){return t?this._weekdaysMin[t.day()]:this._weekdaysMin},Si.weekdaysShort=function(t){return t?this._weekdaysShort[t.day()]:this._weekdaysShort},Si.weekdaysParse=function(t,e,i){var o,n,r;if(this._weekdaysParseExact)return(function(t,e,i){var o,n,r,s=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],o=0;o<7;++o)r=p([2e3,1]).day(o),this._minWeekdaysParse[o]=this.weekdaysMin(r,"").toLocaleLowerCase(),this._shortWeekdaysParse[o]=this.weekdaysShort(r,"").toLocaleLowerCase(),this._weekdaysParse[o]=this.weekdays(r,"").toLocaleLowerCase();return i?"dddd"===e?-1!==(n=Fe.call(this._weekdaysParse,s))?n:null:"ddd"===e?-1!==(n=Fe.call(this._shortWeekdaysParse,s))?n:null:-1!==(n=Fe.call(this._minWeekdaysParse,s))?n:null:"dddd"===e?-1!==(n=Fe.call(this._weekdaysParse,s))?n:-1!==(n=Fe.call(this._shortWeekdaysParse,s))?n:-1!==(n=Fe.call(this._minWeekdaysParse,s))?n:null:"ddd"===e?-1!==(n=Fe.call(this._shortWeekdaysParse,s))?n:-1!==(n=Fe.call(this._weekdaysParse,s))?n:-1!==(n=Fe.call(this._minWeekdaysParse,s))?n:null:-1!==(n=Fe.call(this._minWeekdaysParse,s))?n:-1!==(n=Fe.call(this._weekdaysParse,s))?n:-1!==(n=Fe.call(this._shortWeekdaysParse,s))?n:null}).call(this,t,e,i);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),o=0;o<7;o++){if(n=p([2e3,1]).day(o),i&&!this._fullWeekdaysParse[o]&&(this._fullWeekdaysParse[o]=new RegExp("^"+this.weekdays(n,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[o]=new RegExp("^"+this.weekdaysShort(n,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[o]=new RegExp("^"+this.weekdaysMin(n,"").replace(".",".?")+"$","i")),this._weekdaysParse[o]||(r="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[o]=new RegExp(r.replace(".",""),"i")),i&&"dddd"===e&&this._fullWeekdaysParse[o].test(t))return o;if(i&&"ddd"===e&&this._shortWeekdaysParse[o].test(t))return o;if(i&&"dd"===e&&this._minWeekdaysParse[o].test(t))return o;if(!i&&this._weekdaysParse[o].test(t))return o}},Si.weekdaysRegex=function(t){return this._weekdaysParseExact?(h(this,"_weekdaysRegex")||et.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(h(this,"_weekdaysRegex")||(this._weekdaysRegex=Xe),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)},Si.weekdaysShortRegex=function(t){return this._weekdaysParseExact?(h(this,"_weekdaysRegex")||et.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(h(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Ze),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},Si.weekdaysMinRegex=function(t){return this._weekdaysParseExact?(h(this,"_weekdaysRegex")||et.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(h(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Ke),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},Si.isPM=function(t){return"p"===(t+"").toLowerCase().charAt(0)},Si.meridiem=function(t,e,i){return t>11?i?"pm":"PM":i?"am":"AM"},at("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1===v(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}}),e.lang=x("moment.lang is deprecated. Use moment.locale instead.",at),e.langData=x("moment.langData is deprecated. Use moment.localeData instead.",lt);var Ci=Math.abs,Ei=Zt("ms"),Ti=Zt("s"),Pi=Zt("m"),Ai=Zt("h"),Oi=Zt("d"),Di=Zt("w"),Ii=Zt("M"),Ri=Zt("y"),Ni=Kt("milliseconds"),Li=Kt("seconds"),ji=Kt("minutes"),Fi=Kt("hours"),zi=Kt("days"),Bi=Kt("months"),qi=Kt("years"),Hi=Math.round,Ui={ss:44,s:45,m:45,h:22,d:26,M:11},Wi=Math.abs,Gi=_t.prototype;return Gi.isValid=function(){return this._isValid},Gi.abs=function(){var t=this._data;return this._milliseconds=Ci(this._milliseconds),this._days=Ci(this._days),this._months=Ci(this._months),t.milliseconds=Ci(t.milliseconds),t.seconds=Ci(t.seconds),t.minutes=Ci(t.minutes),t.hours=Ci(t.hours),t.months=Ci(t.months),t.years=Ci(t.years),this},Gi.add=function(t,e){return Gt(this,t,e,1)},Gi.subtract=function(t,e){return Gt(this,t,e,-1)},Gi.as=function(t){if(!this.isValid())return NaN;var e,i,o=this._milliseconds;if("month"===(t=E(t))||"year"===t)return i=this._months+Vt(e=this._days+o/864e5),"month"===t?i:i/12;switch(e=this._days+Math.round(Xt(this._months)),t){case"week":return e/7+o/6048e5;case"day":return e+o/864e5;case"hour":return 24*e+o/36e5;case"minute":return 1440*e+o/6e4;case"second":return 86400*e+o/1e3;case"millisecond":return Math.floor(864e5*e)+o;default:throw new Error("Unknown unit "+t)}},Gi.asMilliseconds=Ei,Gi.asSeconds=Ti,Gi.asMinutes=Pi,Gi.asHours=Ai,Gi.asDays=Oi,Gi.asWeeks=Di,Gi.asMonths=Ii,Gi.asYears=Ri,Gi.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*v(this._months/12):NaN},Gi._bubble=function(){var t,e,i,o,n,r=this._milliseconds,s=this._days,a=this._months,h=this._data;return r>=0&&s>=0&&a>=0||r<=0&&s<=0&&a<=0||(r+=864e5*Yt(Xt(a)+s),s=0,a=0),h.milliseconds=r%1e3,t=m(r/1e3),h.seconds=t%60,e=m(t/60),h.minutes=e%60,i=m(e/60),h.hours=i%24,a+=n=m(Vt(s+=m(i/24))),s-=Yt(Xt(n)),o=m(a/12),a%=12,h.days=s,h.months=a,h.years=o,this},Gi.clone=function(){return At(this)},Gi.get=function(t){return t=E(t),this.isValid()?this[t+"s"]():NaN},Gi.milliseconds=Ni,Gi.seconds=Li,Gi.minutes=ji,Gi.hours=Fi,Gi.days=zi,Gi.weeks=function(){return m(this.days()/7)},Gi.months=Bi,Gi.years=qi,Gi.humanize=function(t){if(!this.isValid())return this.localeData().invalidDate();var e=this.localeData(),i=function(t,e,i){var o=At(t).abs(),n=Hi(o.as("s")),r=Hi(o.as("m")),s=Hi(o.as("h")),a=Hi(o.as("d")),h=Hi(o.as("M")),l=Hi(o.as("y")),p=n<=Ui.ss&&["s",n]||n<Ui.s&&["ss",n]||r<=1&&["m"]||r<Ui.m&&["mm",r]||s<=1&&["h"]||s<Ui.h&&["hh",s]||a<=1&&["d"]||a<Ui.d&&["dd",a]||h<=1&&["M"]||h<Ui.M&&["MM",h]||l<=1&&["y"]||["yy",l];return p[2]=e,p[3]=+t>0,p[4]=i,(function(t,e,i,o,n){return n.relativeTime(e||1,!!i,t,o)}).apply(null,p)}(this,!t,e);return t&&(i=e.pastFuture(+this,i)),e.postformat(i)},Gi.toISOString=$t,Gi.toString=$t,Gi.toJSON=$t,Gi.locale=Lt,Gi.localeData=jt,Gi.toIsoString=x("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",$t),Gi.lang=vi,O("X",0,0,"unix"),O("x",0,0,"valueOf"),N("x",Me),N("X",/[+-]?\d+(\.\d{1,3})?/),F("X",function(t,e,i){i._d=new Date(1e3*parseFloat(t,10))}),F("x",function(t,e,i){i._d=new Date(v(t))}),e.version="2.19.1",Qt=wt,e.fn=ki,e.min=function(){return xt("isBefore",[].slice.call(arguments,0))},e.max=function(){return xt("isAfter",[].slice.call(arguments,0))},e.now=function(){return Date.now?Date.now():+new Date},e.utc=p,e.unix=function(t){return wt(1e3*t)},e.months=function(t,e){return Ut(t,e,"months")},e.isDate=s,e.locale=at,e.invalid=c,e.duration=At,e.isMoment=g,e.weekdays=function(t,e,i){return Wt(t,e,i,"weekdays")},e.parseZone=function(){return wt.apply(null,arguments).parseZone()},e.localeData=lt,e.isDuration=Mt,e.monthsShort=function(t,e){return Ut(t,e,"monthsShort")},e.weekdaysMin=function(t,e,i){return Wt(t,e,i,"weekdaysMin")},e.defineLocale=ht,e.updateLocale=function(t,e){if(null!=e){var i,o=Qe;null!=ti[t]&&(o=ti[t]._config),(i=new S(e=k(o,e))).parentLocale=ti[t],ti[t]=i,at(t)}else null!=ti[t]&&(null!=ti[t].parentLocale?ti[t]=ti[t].parentLocale:null!=ti[t]&&delete ti[t]);return ti[t]},e.locales=function(){return ee(ti)},e.weekdaysShort=function(t,e,i){return Wt(t,e,i,"weekdaysShort")},e.normalizeUnits=E,e.relativeTimeRounding=function(t){return void 0===t?Hi:"function"==typeof t&&(Hi=t,!0)},e.relativeTimeThreshold=function(t,e){return void 0!==Ui[t]&&(void 0===e?Ui[t]:(Ui[t]=e,"s"===t&&(Ui.ss=e-1),!0))},e.calendarFormat=function(t,e){var i=t.diff(e,"days",!0);return i<-6?"sameElse":i<-1?"lastWeek":i<0?"lastDay":i<1?"sameDay":i<2?"nextDay":i<7?"nextWeek":"sameElse"},e.prototype=ki,e}()}).call(e,i(155)(t))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e){function i(t){throw new Error("Cannot find module '"+t+"'.")}i.keys=function(){return[]},i.resolve=i,t.exports=i,i.id=156},function(t,e,i){(function(e){function i(t,e){var i=e||0;return h[t[i++]]+h[t[i++]]+h[t[i++]]+h[t[i++]]+"-"+h[t[i++]]+h[t[i++]]+"-"+h[t[i++]]+h[t[i++]]+"-"+h[t[i++]]+h[t[i++]]+"-"+h[t[i++]]+h[t[i++]]+h[t[i++]]+h[t[i++]]+h[t[i++]]+h[t[i++]]}function o(t,e,o){var r=e&&o||0;"string"==typeof t&&(e="binary"==t?new Array(16):null,t=null);var s=(t=t||{}).random||(t.rng||n)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,e)for(var a=0;a<16;a++)e[r+a]=s[a];return e||i(s)}var n,r="undefined"!=typeof window?window:void 0!==e?e:null;if(r&&r.crypto&&crypto.getRandomValues){var s=new Uint8Array(16);n=function(){return crypto.getRandomValues(s),s}}if(!n){var a=new Array(16);n=function(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),a[e]=t>>>((3&e)<<3)&255;return a}}for(var h=[],l={},p=0;p<256;p++)h[p]=(p+256).toString(16).substr(1),l[h[p]]=p;var u=n(),d=[1|u[0],u[1],u[2],u[3],u[4],u[5]],c=16383&(u[6]<<8|u[7]),f=0,y=0,g=o;g.v1=function(t,e,o){var n=e&&o||0,r=e||[],s=void 0!==(t=t||{}).clockseq?t.clockseq:c,a=void 0!==t.msecs?t.msecs:(new Date).getTime(),h=void 0!==t.nsecs?t.nsecs:y+1,l=a-f+(h-y)/1e4;if(l<0&&void 0===t.clockseq&&(s=s+1&16383),(l<0||a>f)&&void 0===t.nsecs&&(h=0),h>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");f=a,y=h,c=s;var p=(1e4*(268435455&(a+=122192928e5))+h)%4294967296;r[n++]=p>>>24&255,r[n++]=p>>>16&255,r[n++]=p>>>8&255,r[n++]=255&p;var u=a/4294967296*1e4&268435455;r[n++]=u>>>8&255,r[n++]=255&u,r[n++]=u>>>24&15|16,r[n++]=u>>>16&255,r[n++]=s>>>8|128,r[n++]=255&s;for(var g=t.node||d,m=0;m<6;m++)r[n+m]=g[m];return e||i(r)},g.v4=o,g.parse=function(t,e,i){var o=e&&i||0,n=0;for(e=e||[],t.toLowerCase().replace(/[0-9a-f]{2}/g,function(t){n<16&&(e[o+n++]=l[t])});n<16;)e[o+n++]=0;return e},g.unparse=i,t.exports=g}).call(e,i(158))},function(t,e){var i;i=function(){return this}();try{i=i||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(i=window)}t.exports=i},function(t,e,i){e.util=i(2),e.DOMutil=i(14),e.DataSet=i(11),e.DataView=i(12),e.Queue=i(43),e.Graph3d=i(161),e.graph3d={Camera:i(95),Filter:i(96),Point2d:i(91),Point3d:i(34),Slider:i(92),StepNumber:i(93)},e.moment=i(9),e.Hammer=i(10),e.keycharm=i(35)},function(t,e,i){var o=i(7),n=o.JSON||(o.JSON={stringify:JSON.stringify});t.exports=function(t){return n.stringify.apply(n,arguments)}},function(t,e,i){function o(t,e,i){if(!(this instanceof o))throw new SyntaxError("Constructor must be called with the new operator");this.containerElement=t,this.dataGroup=new v,this.dataPoints=null,this.create(),f.setDefaults(o.DEFAULTS,this),this.colX=void 0,this.colY=void 0,this.colZ=void 0,this.colValue=void 0,this.setOptions(i),this.setData(e)}function n(t){return"clientX"in t?t.clientX:t.targetTouches[0]&&t.targetTouches[0].clientX||0}function r(t){return"clientY"in t?t.clientY:t.targetTouches[0]&&t.targetTouches[0].clientY||0}var s=i(90),a=s&&s.__esModule?s:{default:s},h=i(44),l=i(2),p=i(34),u=i(91),d=i(92),c=i(93),f=i(94),y=i(15).default,g=i(15).printStyle,m=i(172).allOptions,v=i(173);o.DEFAULTS={width:"400px",height:"400px",filterLabel:"time",legendLabel:"value",xLabel:"x",yLabel:"y",zLabel:"z",xValueLabel:function(t){return t},yValueLabel:function(t){return t},zValueLabel:function(t){return t},showXAxis:!0,showYAxis:!0,showZAxis:!0,showGrid:!0,showPerspective:!0,showShadow:!1,keepAspectRatio:!0,verticalRatio:.5,dotSizeRatio:.02,dotSizeMinFraction:.5,dotSizeMaxFraction:2.5,showAnimationControls:void 0,animationInterval:1e3,animationPreload:!1,animationAutoStart:void 0,axisColor:"#4D4D4D",gridColor:"#D3D3D3",xCenter:"55%",yCenter:"50%",style:(o.STYLE=f.STYLE).DOT,tooltip:!1,tooltipStyle:{content:{padding:"10px",border:"1px solid #4d4d4d",color:"#1a1a1a",background:"rgba(255,255,255,0.7)",borderRadius:"2px",boxShadow:"5px 5px 10px rgba(128,128,128,0.5)"},line:{height:"40px",width:"0",borderLeft:"1px solid #4d4d4d"},dot:{height:"0",width:"0",border:"5px solid #4d4d4d",borderRadius:"5px"}},dataColor:{fill:"#7DC1FF",stroke:"#3267D2",strokeWidth:1},cameraPosition:{horizontal:1,vertical:.5,distance:1.7},showLegend:void 0,backgroundColor:void 0,xBarWidth:void 0,yBarWidth:void 0,valueMin:void 0,valueMax:void 0,xMin:void 0,xMax:void 0,xStep:void 0,yMin:void 0,yMax:void 0,yStep:void 0,zMin:void 0,zMax:void 0,zStep:void 0},h(o.prototype),o.prototype._setScale=function(){this.scale=new p(1/this.xRange.range(),1/this.yRange.range(),1/this.zRange.range()),this.keepAspectRatio&&(this.scale.x<this.scale.y?this.scale.y=this.scale.x:this.scale.x=this.scale.y),this.scale.z*=this.verticalRatio,void 0!==this.valueRange&&(this.scale.value=1/this.valueRange.range());var t=this.xRange.center()*this.scale.x,e=this.yRange.center()*this.scale.y,i=this.zRange.center()*this.scale.z;this.camera.setArmLocation(t,e,i)},o.prototype._convert3Dto2D=function(t){var e=this._convertPointToTranslation(t);return this._convertTranslationToScreen(e)},o.prototype._convertPointToTranslation=function(t){var e=this.camera.getCameraLocation(),i=this.camera.getCameraRotation(),o=t.x*this.scale.x,n=t.y*this.scale.y,r=t.z*this.scale.z,s=e.x,a=e.y,h=e.z,l=Math.sin(i.x),u=Math.cos(i.x),d=Math.sin(i.y),c=Math.cos(i.y),f=Math.sin(i.z),y=Math.cos(i.z);return new p(c*(f*(n-a)+y*(o-s))-d*(r-h),l*(c*(r-h)+d*(f*(n-a)+y*(o-s)))+u*(y*(n-a)-f*(o-s)),u*(c*(r-h)+d*(f*(n-a)+y*(o-s)))-l*(y*(n-a)-f*(o-s)))},o.prototype._convertTranslationToScreen=function(t){var e,i,o=this.eye.z,n=t.x,r=t.y,s=t.z;return this.showPerspective?(e=o/s*(n-this.eye.x),i=o/s*(r-this.eye.y)):(e=n*(-o/this.camera.getArmLength()),i=r*(-o/this.camera.getArmLength())),new u(this.currentXCenter+e*this.frame.canvas.clientWidth,this.currentYCenter-i*this.frame.canvas.clientWidth)},o.prototype._calcTranslations=function(t){for(var e=0;e<t.length;e++){var i=t[e];i.trans=this._convertPointToTranslation(i.point),i.screen=this._convertTranslationToScreen(i.trans);var o=this._convertPointToTranslation(i.bottom);i.dist=this.showPerspective?o.length():-o.z}t.sort(function(t,e){return e.dist-t.dist})},o.prototype._initializeRanges=function(){var t=this.dataGroup;this.xRange=t.xRange,this.yRange=t.yRange,this.zRange=t.zRange,this.valueRange=t.valueRange,this.xStep=t.xStep,this.yStep=t.yStep,this.zStep=t.zStep,this.xBarWidth=t.xBarWidth,this.yBarWidth=t.yBarWidth,this.colX=t.colX,this.colY=t.colY,this.colZ=t.colZ,this.colValue=t.colValue,this._setScale()},o.prototype.getDataPoints=function(t){for(var e=[],i=0;i<t.length;i++){var o=new p;o.x=t[i][this.colX]||0,o.y=t[i][this.colY]||0,o.z=t[i][this.colZ]||0,o.data=t[i],void 0!==this.colValue&&(o.value=t[i][this.colValue]||0);var n={};n.point=o,n.bottom=new p(o.x,o.y,this.zRange.min),n.trans=void 0,n.screen=void 0,e.push(n)}return e},o.prototype._getDataPoints=function(t){var e,i,n,r,s=[];if(this.style===o.STYLE.GRID||this.style===o.STYLE.SURFACE){var a=this.dataGroup.getDistinctValues(this.colX,t),h=this.dataGroup.getDistinctValues(this.colY,t);s=this.getDataPoints(t);var l=[];for(n=0;n<s.length;n++){var p=a.indexOf((r=s[n]).point.x),u=h.indexOf(r.point.y);void 0===l[p]&&(l[p]=[]),l[p][u]=r}for(e=0;e<l.length;e++)for(i=0;i<l[e].length;i++)l[e][i]&&(l[e][i].pointRight=e<l.length-1?l[e+1][i]:void 0,l[e][i].pointTop=i<l[e].length-1?l[e][i+1]:void 0,l[e][i].pointCross=e<l.length-1&&i<l[e].length-1?l[e+1][i+1]:void 0)}else if(this._checkValueField(t),s=this.getDataPoints(t),this.style===o.STYLE.LINE)for(n=0;n<s.length;n++)n>0&&(s[n-1].pointNext=s[n]);return s},o.prototype.create=function(){for(;this.containerElement.hasChildNodes();)this.containerElement.removeChild(this.containerElement.firstChild);this.frame=document.createElement("div"),this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas);var t=document.createElement("DIV");t.style.color="red",t.style.fontWeight="bold",t.style.padding="10px",t.innerHTML="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(t),this.frame.filter=document.createElement("div"),this.frame.filter.style.position="absolute",this.frame.filter.style.bottom="0px",this.frame.filter.style.left="0px",this.frame.filter.style.width="100%",this.frame.appendChild(this.frame.filter);var e=this;l.addEventListener(this.frame.canvas,"mousedown",function(t){e._onMouseDown(t)}),l.addEventListener(this.frame.canvas,"touchstart",function(t){e._onTouchStart(t)}),l.addEventListener(this.frame.canvas,"mousewheel",function(t){e._onWheel(t)}),l.addEventListener(this.frame.canvas,"mousemove",function(t){e._onTooltip(t)}),l.addEventListener(this.frame.canvas,"click",function(t){e._onClick(t)}),this.containerElement.appendChild(this.frame)},o.prototype._setSize=function(t,e){this.frame.style.width=t,this.frame.style.height=e,this._resizeCanvas()},o.prototype._resizeCanvas=function(){this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=this.frame.canvas.clientWidth,this.frame.canvas.height=this.frame.canvas.clientHeight,this.frame.filter.style.width=this.frame.canvas.clientWidth-20+"px"},o.prototype.animationStart=function(){if(this.animationAutoStart&&this.dataGroup.dataFilter){if(!this.frame.filter||!this.frame.filter.slider)throw new Error("No animation available");this.frame.filter.slider.play()}},o.prototype.animationStop=function(){this.frame.filter&&this.frame.filter.slider&&this.frame.filter.slider.stop()},o.prototype._resizeCenter=function(){this.currentXCenter="%"===this.xCenter.charAt(this.xCenter.length-1)?parseFloat(this.xCenter)/100*this.frame.canvas.clientWidth:parseFloat(this.xCenter),this.currentYCenter="%"===this.yCenter.charAt(this.yCenter.length-1)?parseFloat(this.yCenter)/100*(this.frame.canvas.clientHeight-this.frame.filter.clientHeight):parseFloat(this.yCenter)},o.prototype.getCameraPosition=function(){var t=this.camera.getArmRotation();return t.distance=this.camera.getArmLength(),t},o.prototype._readData=function(t){this.dataPoints=this.dataGroup.initializeData(this,t,this.style),this._initializeRanges(),this._redrawFilter()},o.prototype.setData=function(t){void 0!==t&&null!==t&&(this._readData(t),this.redraw(),this.animationStart())},o.prototype.setOptions=function(t){void 0!==t&&(!0===y.validate(t,m)&&console.log("%cErrors have been found in the supplied options object.",g),this.animationStop(),f.setOptions(t,this),this.setPointDrawingMethod(),this._setSize(this.width,this.height),this.setData(this.dataGroup.getDataTable()),this.animationStart())},o.prototype.setPointDrawingMethod=function(){var t=void 0;switch(this.style){case o.STYLE.BAR:t=o.prototype._redrawBarGraphPoint;break;case o.STYLE.BARCOLOR:t=o.prototype._redrawBarColorGraphPoint;break;case o.STYLE.BARSIZE:t=o.prototype._redrawBarSizeGraphPoint;break;case o.STYLE.DOT:t=o.prototype._redrawDotGraphPoint;break;case o.STYLE.DOTLINE:t=o.prototype._redrawDotLineGraphPoint;break;case o.STYLE.DOTCOLOR:t=o.prototype._redrawDotColorGraphPoint;break;case o.STYLE.DOTSIZE:t=o.prototype._redrawDotSizeGraphPoint;break;case o.STYLE.SURFACE:t=o.prototype._redrawSurfaceGraphPoint;break;case o.STYLE.GRID:t=o.prototype._redrawGridGraphPoint;break;case o.STYLE.LINE:t=o.prototype._redrawLineGraphPoint;break;default:throw new Error("Can not determine point drawing method for graph style '"+this.style+"'")}this._pointDrawingMethod=t},o.prototype.redraw=function(){if(void 0===this.dataPoints)throw new Error("Graph data not initialized");this._resizeCanvas(),this._resizeCenter(),this._redrawSlider(),this._redrawClear(),this._redrawAxis(),this._redrawDataGraph(),this._redrawInfo(),this._redrawLegend()},o.prototype._getContext=function(){var t=this.frame.canvas.getContext("2d");return t.lineJoin="round",t.lineCap="round",t},o.prototype._redrawClear=function(){var t=this.frame.canvas;t.getContext("2d").clearRect(0,0,t.width,t.height)},o.prototype._dotSize=function(){return this.frame.clientWidth*this.dotSizeRatio},o.prototype._getLegendWidth=function(){return this.style===o.STYLE.DOTSIZE?this._dotSize()*this.dotSizeMaxFraction:this.style===o.STYLE.BARSIZE?this.xBarWidth:20},o.prototype._redrawLegend=function(){if(!0===this.showLegend&&this.style!==o.STYLE.LINE&&this.style!==o.STYLE.BARSIZE){var t=this.style===o.STYLE.BARSIZE||this.style===o.STYLE.DOTSIZE,e=this.style===o.STYLE.DOTSIZE||this.style===o.STYLE.DOTCOLOR||this.style===o.STYLE.BARCOLOR,i=Math.max(.25*this.frame.clientHeight,100),n=this.margin,r=this._getLegendWidth(),s=this.frame.clientWidth-this.margin,a=s-r,h=n+i,l=this._getContext();if(l.lineWidth=1,l.font="14px arial",!1===t){var p,d=i;for(p=0;p<d;p++){var f=this._hsv2rgb((p-0)/(d-0)*240,1,1);l.strokeStyle=f,l.beginPath(),l.moveTo(a,n+p),l.lineTo(s,n+p),l.stroke()}l.strokeStyle=this.axisColor,l.strokeRect(a,n,r,i)}else{var y;this.style===o.STYLE.DOTSIZE&&(y=r*(this.dotSizeMinFraction/this.dotSizeMaxFraction)),l.strokeStyle=this.axisColor,l.fillStyle=this.dataColor.fill,l.beginPath(),l.moveTo(a,n),l.lineTo(s,n),l.lineTo(a+y,h),l.lineTo(a,h),l.closePath(),l.fill(),l.stroke()}var g,m,v=e?this.valueRange.min:this.zRange.min,b=e?this.valueRange.max:this.zRange.max,w=new c(v,b,(b-v)/5,!0);for(w.start(!0);!w.end();)p=h-(w.getCurrent()-v)/(b-v)*i,g=new u(a-5,p),m=new u(a,p),this._line(l,g,m),l.textAlign="right",l.textBaseline="middle",l.fillStyle=this.axisColor,l.fillText(w.getCurrent(),a-10,p),w.next();l.textAlign="right",l.textBaseline="top",l.fillText(this.legendLabel,s,h+this.margin)}},o.prototype._redrawFilter=function(){var t=this.dataGroup.dataFilter,e=this.frame.filter;if(e.innerHTML="",t){var i=new d(e,{visible:this.showAnimationControls});e.slider=i,e.style.padding="10px",i.setValues(t.values),i.setPlayInterval(this.animationInterval);var o=this;i.setOnChangeCallback(function(){var t=o.dataGroup.dataFilter,e=i.getIndex();t.selectValue(e),o.dataPoints=t._getDataPoints(),o.redraw()})}else e.slider=void 0},o.prototype._redrawSlider=function(){void 0!==this.frame.filter.slider&&this.frame.filter.slider.redraw()},o.prototype._redrawInfo=function(){var t=this.dataGroup.getInfo();if(void 0!==t){var e=this._getContext();e.font="14px arial",e.lineStyle="gray",e.fillStyle="gray",e.textAlign="left",e.textBaseline="top",e.fillText(t,this.margin,this.margin)}},o.prototype._line=function(t,e,i,o){void 0!==o&&(t.strokeStyle=o),t.beginPath(),t.moveTo(e.x,e.y),t.lineTo(i.x,i.y),t.stroke()},o.prototype.drawAxisLabelX=function(t,e,i,o,n){void 0===n&&(n=0);var r=this._convert3Dto2D(e);Math.cos(2*o)>0?(t.textAlign="center",t.textBaseline="top",r.y+=n):Math.sin(2*o)<0?(t.textAlign="right",t.textBaseline="middle"):(t.textAlign="left",t.textBaseline="middle"),t.fillStyle=this.axisColor,t.fillText(i,r.x,r.y)},o.prototype.drawAxisLabelY=function(t,e,i,o,n){void 0===n&&(n=0);var r=this._convert3Dto2D(e);Math.cos(2*o)<0?(t.textAlign="center",t.textBaseline="top",r.y+=n):Math.sin(2*o)>0?(t.textAlign="right",t.textBaseline="middle"):(t.textAlign="left",t.textBaseline="middle"),t.fillStyle=this.axisColor,t.fillText(i,r.x,r.y)},o.prototype.drawAxisLabelZ=function(t,e,i,o){void 0===o&&(o=0);var n=this._convert3Dto2D(e);t.textAlign="right",t.textBaseline="middle",t.fillStyle=this.axisColor,t.fillText(i,n.x-o,n.y)},o.prototype._line3d=function(t,e,i,o){var n=this._convert3Dto2D(e),r=this._convert3Dto2D(i);this._line(t,n,r,o)},o.prototype._redrawAxis=function(){var t,e,i,o,n,r,s,a,h,l=this._getContext();l.font=24/this.camera.getArmLength()+"px arial";var d,f,y,g=.025/this.scale.x,m=.025/this.scale.y,v=5/this.camera.getArmLength(),b=this.camera.getArmRotation().horizontal,w=new u(Math.cos(b),Math.sin(b)),x=this.xRange,_=this.yRange,M=this.zRange;for(l.lineWidth=1,(i=new c(x.min,x.max,this.xStep,void 0===this.defaultXStep)).start(!0);!i.end();){var k=i.getCurrent();if(this.showGrid?(t=new p(k,_.min,M.min),e=new p(k,_.max,M.min),this._line3d(l,t,e,this.gridColor)):this.showXAxis&&(t=new p(k,_.min,M.min),e=new p(k,_.min+g,M.min),this._line3d(l,t,e,this.axisColor),t=new p(k,_.max,M.min),e=new p(k,_.max-g,M.min),this._line3d(l,t,e,this.axisColor)),this.showXAxis){d=new p(k,r=w.x>0?_.min:_.max,M.min);var S="  "+this.xValueLabel(k)+"  ";this.drawAxisLabelX(l,d,S,b,v)}i.next()}for(l.lineWidth=1,(i=new c(_.min,_.max,this.yStep,void 0===this.defaultYStep)).start(!0);!i.end();){var C=i.getCurrent();if(this.showGrid?(t=new p(x.min,C,M.min),e=new p(x.max,C,M.min),this._line3d(l,t,e,this.gridColor)):this.showYAxis&&(t=new p(x.min,C,M.min),e=new p(x.min+m,C,M.min),this._line3d(l,t,e,this.axisColor),t=new p(x.max,C,M.min),e=new p(x.max-m,C,M.min),this._line3d(l,t,e,this.axisColor)),this.showYAxis){d=new p(n=w.y>0?x.min:x.max,C,M.min);var E="  "+this.yValueLabel(C)+"  ";this.drawAxisLabelY(l,d,E,b,v)}i.next()}if(this.showZAxis){for(l.lineWidth=1,(i=new c(M.min,M.max,this.zStep,void 0===this.defaultZStep)).start(!0),n=w.x>0?x.min:x.max,r=w.y<0?_.min:_.max;!i.end();){var T=i.getCurrent(),P=new p(n,r,T),A=this._convert3Dto2D(P);e=new u(A.x-v,A.y),this._line(l,A,e,this.axisColor);var O=this.zValueLabel(T)+" ";this.drawAxisLabelZ(l,P,O,5),i.next()}l.lineWidth=1,t=new p(n,r,M.min),e=new p(n,r,M.max),this._line3d(l,t,e,this.axisColor)}this.showXAxis&&(l.lineWidth=1,f=new p(x.min,_.min,M.min),y=new p(x.max,_.min,M.min),this._line3d(l,f,y,this.axisColor),f=new p(x.min,_.max,M.min),y=new p(x.max,_.max,M.min),this._line3d(l,f,y,this.axisColor)),this.showYAxis&&(l.lineWidth=1,t=new p(x.min,_.min,M.min),e=new p(x.min,_.max,M.min),this._line3d(l,t,e,this.axisColor),t=new p(x.max,_.min,M.min),e=new p(x.max,_.max,M.min),this._line3d(l,t,e,this.axisColor));var D=this.xLabel;D.length>0&&this.showXAxis&&(h=.1/this.scale.y,o=new p(n=(x.max+3*x.min)/4,r=w.x>0?_.min-h:_.max+h,M.min),this.drawAxisLabelX(l,o,D,b));var I=this.yLabel;I.length>0&&this.showYAxis&&(a=.1/this.scale.x,o=new p(n=w.y>0?x.min-a:x.max+a,r=(_.max+3*_.min)/4,M.min),this.drawAxisLabelY(l,o,I,b));var R=this.zLabel;R.length>0&&this.showZAxis&&(s=30,o=new p(n=w.x>0?x.min:x.max,r=w.y<0?_.min:_.max,(M.max+3*M.min)/4),this.drawAxisLabelZ(l,o,R,s))},o.prototype._hsv2rgb=function(t,e,i){var o,n,r,s,a,h;switch(s=i*e,a=Math.floor(t/60),h=s*(1-Math.abs(t/60%2-1)),a){case 0:o=s,n=h,r=0;break;case 1:o=h,n=s,r=0;break;case 2:o=0,n=s,r=h;break;case 3:o=0,n=h,r=s;break;case 4:o=h,n=0,r=s;break;case 5:o=s,n=0,r=h;break;default:o=0,n=0,r=0}return"RGB("+parseInt(255*o)+","+parseInt(255*n)+","+parseInt(255*r)+")"},o.prototype._getStrokeWidth=function(t){return void 0!==t?this.showPerspective?1/-t.trans.z*this.dataColor.strokeWidth:-this.eye.z/this.camera.getArmLength()*this.dataColor.strokeWidth:this.dataColor.strokeWidth},o.prototype._redrawBar=function(t,e,i,o,n,r){var s,a=this,h=e.point,l=this.zRange.min,u=[{point:new p(h.x-i,h.y-o,h.z)},{point:new p(h.x+i,h.y-o,h.z)},{point:new p(h.x+i,h.y+o,h.z)},{point:new p(h.x-i,h.y+o,h.z)}],d=[{point:new p(h.x-i,h.y-o,l)},{point:new p(h.x+i,h.y-o,l)},{point:new p(h.x+i,h.y+o,l)},{point:new p(h.x-i,h.y+o,l)}];u.forEach(function(t){t.screen=a._convert3Dto2D(t.point)}),d.forEach(function(t){t.screen=a._convert3Dto2D(t.point)});var c=[{corners:u,center:p.avg(d[0].point,d[2].point)},{corners:[u[0],u[1],d[1],d[0]],center:p.avg(d[1].point,d[0].point)},{corners:[u[1],u[2],d[2],d[1]],center:p.avg(d[2].point,d[1].point)},{corners:[u[2],u[3],d[3],d[2]],center:p.avg(d[3].point,d[2].point)},{corners:[u[3],u[0],d[0],d[3]],center:p.avg(d[0].point,d[3].point)}];e.surfaces=c;for(var f=0;f<c.length;f++){var y=this._convertPointToTranslation((s=c[f]).center);s.dist=this.showPerspective?y.length():-y.z}c.sort(function(t,e){return e.dist-t.dist||(t.corners===u?1:e.corners===u?-1:0)}),t.lineWidth=this._getStrokeWidth(e),t.strokeStyle=r,t.fillStyle=n;for(var g=2;g<c.length;g++)this._polygon(t,(s=c[g]).corners)},o.prototype._polygon=function(t,e,i,o){if(!(e.length<2)){void 0!==i&&(t.fillStyle=i),void 0!==o&&(t.strokeStyle=o),t.beginPath(),t.moveTo(e[0].screen.x,e[0].screen.y);for(var n=1;n<e.length;++n){var r=e[n];t.lineTo(r.screen.x,r.screen.y)}t.closePath(),t.fill(),t.stroke()}},o.prototype._drawCircle=function(t,e,i,o,n){var r=this._calcRadius(e,n);t.lineWidth=this._getStrokeWidth(e),t.strokeStyle=o,t.fillStyle=i,t.beginPath(),t.arc(e.screen.x,e.screen.y,r,0,2*Math.PI,!0),t.fill(),t.stroke()},o.prototype._getColorsRegular=function(t){var e=240*(1-(t.point.z-this.zRange.min)*this.scale.z/this.verticalRatio);return{fill:this._hsv2rgb(e,1,1),border:this._hsv2rgb(e,1,.8)}},o.prototype._getColorsColor=function(t){var e,i;if("string"==typeof t.point.value)e=t.point.value,i=t.point.value;else{var o=240*(1-(t.point.value-this.valueRange.min)*this.scale.value);e=this._hsv2rgb(o,1,1),i=this._hsv2rgb(o,1,.8)}return{fill:e,border:i}},o.prototype._getColorsSize=function(){return{fill:this.dataColor.fill,border:this.dataColor.stroke}},o.prototype._calcRadius=function(t,e){var i;return void 0===e&&(e=this._dotSize()),(i=this.showPerspective?e/-t.trans.z:e*(-this.eye.z/this.camera.getArmLength()))<0&&(i=0),i},o.prototype._redrawBarGraphPoint=function(t,e){var i=this.xBarWidth/2,o=this.yBarWidth/2,n=this._getColorsRegular(e);this._redrawBar(t,e,i,o,n.fill,n.border)},o.prototype._redrawBarColorGraphPoint=function(t,e){var i=this.xBarWidth/2,o=this.yBarWidth/2,n=this._getColorsColor(e);this._redrawBar(t,e,i,o,n.fill,n.border)},o.prototype._redrawBarSizeGraphPoint=function(t,e){var i=(e.point.value-this.valueRange.min)/this.valueRange.range(),o=this.xBarWidth/2*(.8*i+.2),n=this.yBarWidth/2*(.8*i+.2),r=this._getColorsSize();this._redrawBar(t,e,o,n,r.fill,r.border)},o.prototype._redrawDotGraphPoint=function(t,e){var i=this._getColorsRegular(e);this._drawCircle(t,e,i.fill,i.border)},o.prototype._redrawDotLineGraphPoint=function(t,e){var i=this._convert3Dto2D(e.bottom);t.lineWidth=1,this._line(t,i,e.screen,this.gridColor),this._redrawDotGraphPoint(t,e)},o.prototype._redrawDotColorGraphPoint=function(t,e){var i=this._getColorsColor(e);this._drawCircle(t,e,i.fill,i.border)},o.prototype._redrawDotSizeGraphPoint=function(t,e){var i=this._dotSize(),o=(e.point.value-this.valueRange.min)/this.valueRange.range(),n=i*this.dotSizeMinFraction,r=n+(i*this.dotSizeMaxFraction-n)*o,s=this._getColorsSize();this._drawCircle(t,e,s.fill,s.border,r)},o.prototype._redrawSurfaceGraphPoint=function(t,e){var i=e.pointRight,o=e.pointTop,n=e.pointCross;if(void 0!==e&&void 0!==i&&void 0!==o&&void 0!==n){var r,s,a=!0;if(this.showGrayBottom||this.showShadow){var h=p.subtract(n.trans,e.trans),l=p.subtract(o.trans,i.trans),u=p.crossProduct(h,l),d=u.length();a=u.z>0}if(a){var c,f=240*(1-((e.point.z+i.point.z+o.point.z+n.point.z)/4-this.zRange.min)*this.scale.z/this.verticalRatio);this.showShadow?(c=Math.min(1+u.x/d/2,1),s=r=this._hsv2rgb(f,1,c)):(r=this._hsv2rgb(f,1,c=1),s=this.axisColor)}else r="gray",s=this.axisColor;t.lineWidth=this._getStrokeWidth(e),this._polygon(t,[e,i,n,o],r,s)}},o.prototype._drawGridLine=function(t,e,i){if(void 0!==e&&void 0!==i){var o=240*(1-((e.point.z+i.point.z)/2-this.zRange.min)*this.scale.z/this.verticalRatio);t.lineWidth=2*this._getStrokeWidth(e),t.strokeStyle=this._hsv2rgb(o,1,1),this._line(t,e.screen,i.screen)}},o.prototype._redrawGridGraphPoint=function(t,e){this._drawGridLine(t,e,e.pointRight),this._drawGridLine(t,e,e.pointTop)},o.prototype._redrawLineGraphPoint=function(t,e){void 0!==e.pointNext&&(t.lineWidth=this._getStrokeWidth(e),t.strokeStyle=this.dataColor.stroke,this._line(t,e.screen,e.pointNext.screen))},o.prototype._redrawDataGraph=function(){var t,e=this._getContext();if(!(void 0===this.dataPoints||this.dataPoints.length<=0))for(this._calcTranslations(this.dataPoints),t=0;t<this.dataPoints.length;t++)this._pointDrawingMethod.call(this,e,this.dataPoints[t])},o.prototype._storeMousePosition=function(t){this.startMouseX=n(t),this.startMouseY=r(t),this._startCameraOffset=this.camera.getOffset()},o.prototype._onMouseDown=function(t){if(t=t||window.event,this.leftButtonDown&&this._onMouseUp(t),this.leftButtonDown=t.which?1===t.which:1===t.button,this.leftButtonDown||this.touchDown){this._storeMousePosition(t),this.startStart=new Date(this.start),this.startEnd=new Date(this.end),this.startArmRotation=this.camera.getArmRotation(),this.frame.style.cursor="move";var e=this;this.onmousemove=function(t){e._onMouseMove(t)},this.onmouseup=function(t){e._onMouseUp(t)},l.addEventListener(document,"mousemove",e.onmousemove),l.addEventListener(document,"mouseup",e.onmouseup),l.preventDefault(t)}},o.prototype._onMouseMove=function(t){this.moving=!0,t=t||window.event;var e=parseFloat(n(t))-this.startMouseX,i=parseFloat(r(t))-this.startMouseY;if(t&&!0===t.ctrlKey)this.camera.setOffset((this._startCameraOffset.x||0)-e/(.5*this.frame.clientWidth)*this.camera.armLength*.8,(this._startCameraOffset.y||0)+i/(.5*this.frame.clientHeight)*this.camera.armLength*.8),this._storeMousePosition(t);else{var o=this.startArmRotation.horizontal+e/200,s=this.startArmRotation.vertical+i/200,a=Math.sin(4/360*2*Math.PI);Math.abs(Math.sin(o))<a&&(o=Math.round(o/Math.PI)*Math.PI-.001),Math.abs(Math.cos(o))<a&&(o=(Math.round(o/Math.PI-.5)+.5)*Math.PI-.001),Math.abs(Math.sin(s))<a&&(s=Math.round(s/Math.PI)*Math.PI),Math.abs(Math.cos(s))<a&&(s=(Math.round(s/Math.PI-.5)+.5)*Math.PI),this.camera.setArmRotation(o,s)}this.redraw();var h=this.getCameraPosition();this.emit("cameraPositionChange",h),l.preventDefault(t)},o.prototype._onMouseUp=function(t){this.frame.style.cursor="auto",this.leftButtonDown=!1,l.removeEventListener(document,"mousemove",this.onmousemove),l.removeEventListener(document,"mouseup",this.onmouseup),l.preventDefault(t)},o.prototype._onClick=function(t){if(this.onclick_callback){if(this.moving)this.moving=!1;else{var e=this.frame.getBoundingClientRect(),i=n(t)-e.left,o=r(t)-e.top,s=this._dataPointFromXY(i,o);s&&this.onclick_callback(s.point.data)}l.preventDefault(t)}},o.prototype._onTooltip=function(t){var e=this.frame.getBoundingClientRect(),i=n(t)-e.left,o=r(t)-e.top;if(this.showTooltip){if(this.tooltipTimeout&&clearTimeout(this.tooltipTimeout),this.leftButtonDown)return void this._hideTooltip();if(this.tooltip&&this.tooltip.dataPoint){var s=this._dataPointFromXY(i,o);s!==this.tooltip.dataPoint&&(s?this._showTooltip(s):this._hideTooltip())}else{var a=this;this.tooltipTimeout=setTimeout(function(){a.tooltipTimeout=null;var t=a._dataPointFromXY(i,o);t&&a._showTooltip(t)},300)}}},o.prototype._onTouchStart=function(t){this.touchDown=!0;var e=this;this.ontouchmove=function(t){e._onTouchMove(t)},this.ontouchend=function(t){e._onTouchEnd(t)},l.addEventListener(document,"touchmove",e.ontouchmove),l.addEventListener(document,"touchend",e.ontouchend),this._onMouseDown(t)},o.prototype._onTouchMove=function(t){this._onMouseMove(t)},o.prototype._onTouchEnd=function(t){this.touchDown=!1,l.removeEventListener(document,"touchmove",this.ontouchmove),l.removeEventListener(document,"touchend",this.ontouchend),this._onMouseUp(t)},o.prototype._onWheel=function(t){t||(t=window.event);var e=0;if(t.wheelDelta?e=t.wheelDelta/120:t.detail&&(e=-t.detail/3),e){var i=this.camera.getArmLength();this.camera.setArmLength(i*(1-e/10)),this.redraw(),this._hideTooltip()}var o=this.getCameraPosition();this.emit("cameraPositionChange",o),l.preventDefault(t)},o.prototype._insideTriangle=function(t,e){function i(t){return t>0?1:t<0?-1:0}var o=e[0],n=e[1],r=e[2],s=i((n.x-o.x)*(t.y-o.y)-(n.y-o.y)*(t.x-o.x)),a=i((r.x-n.x)*(t.y-n.y)-(r.y-n.y)*(t.x-n.x)),h=i((o.x-r.x)*(t.y-r.y)-(o.y-r.y)*(t.x-r.x));return!(0!=s&&0!=a&&s!=a||0!=a&&0!=h&&a!=h||0!=s&&0!=h&&s!=h)},o.prototype._dataPointFromXY=function(t,e){var i,n=null,r=null,s=null,a=new u(t,e);if(this.style===o.STYLE.BAR||this.style===o.STYLE.BARCOLOR||this.style===o.STYLE.BARSIZE)for(i=this.dataPoints.length-1;i>=0;i--){var h=(n=this.dataPoints[i]).surfaces;if(h)for(var l=h.length-1;l>=0;l--){var p=h[l].corners,d=[p[2].screen,p[3].screen,p[0].screen];if(this._insideTriangle(a,[p[0].screen,p[1].screen,p[2].screen])||this._insideTriangle(a,d))return n}}else for(i=0;i<this.dataPoints.length;i++){var c=(n=this.dataPoints[i]).screen;if(c){var f=Math.abs(t-c.x),y=Math.abs(e-c.y),g=Math.sqrt(f*f+y*y);(null===s||g<s)&&g<100&&(s=g,r=n)}}return r},o.prototype.hasBars=function(t){return t==o.STYLE.BAR||t==o.STYLE.BARCOLOR||t==o.STYLE.BARSIZE},o.prototype._showTooltip=function(t){var e,i,o;this.tooltip?(e=this.tooltip.dom.content,i=this.tooltip.dom.line,o=this.tooltip.dom.dot):(e=document.createElement("div"),(0,a.default)(e.style,{},this.tooltipStyle.content),e.style.position="absolute",i=document.createElement("div"),(0,a.default)(i.style,{},this.tooltipStyle.line),i.style.position="absolute",o=document.createElement("div"),(0,a.default)(o.style,{},this.tooltipStyle.dot),o.style.position="absolute",this.tooltip={dataPoint:null,dom:{content:e,line:i,dot:o}}),this._hideTooltip(),this.tooltip.dataPoint=t,e.innerHTML="function"==typeof this.showTooltip?this.showTooltip(t.point):"<table><tr><td>"+this.xLabel+":</td><td>"+t.point.x+"</td></tr><tr><td>"+this.yLabel+":</td><td>"+t.point.y+"</td></tr><tr><td>"+this.zLabel+":</td><td>"+t.point.z+"</td></tr></table>",e.style.left="0",e.style.top="0",this.frame.appendChild(e),this.frame.appendChild(i),this.frame.appendChild(o);var n=e.offsetWidth,r=e.offsetHeight,s=i.offsetHeight,h=o.offsetWidth,l=o.offsetHeight,p=t.screen.x-n/2;p=Math.min(Math.max(p,10),this.frame.clientWidth-10-n),i.style.left=t.screen.x+"px",i.style.top=t.screen.y-s+"px",e.style.left=p+"px",e.style.top=t.screen.y-s-r+"px",o.style.left=t.screen.x-h/2+"px",o.style.top=t.screen.y-l/2+"px"},o.prototype._hideTooltip=function(){if(this.tooltip)for(var t in this.tooltip.dataPoint=null,this.tooltip.dom)if(this.tooltip.dom.hasOwnProperty(t)){var e=this.tooltip.dom[t];e&&e.parentNode&&e.parentNode.removeChild(e)}},o.prototype.setCameraPosition=function(t){f.setCameraPosition(t,this),this.redraw()},o.prototype.setSize=function(t,e){this._setSize(t,e),this.redraw()},t.exports=o},function(t,e,i){i(163),t.exports=i(7).Object.assign},function(t,e,i){var o=i(17);o(o.S+o.F,"Object",{assign:i(164)})},function(t,e,i){var o=i(33),n=i(63),r=i(42),s=i(41),a=i(78),h=Object.assign;t.exports=!h||i(28)(function(){var t={},e={},i=Symbol(),o="abcdefghijklmnopqrst";return t[i]=7,o.split("").forEach(function(t){e[t]=t}),7!=h({},t)[i]||Object.keys(h({},e)).join("")!=o})?function(t,e){for(var i=s(t),h=arguments.length,l=1,p=n.f,u=r.f;h>l;)for(var d,c=a(arguments[l++]),f=p?o(c).concat(p(c)):o(c),y=f.length,g=0;y>g;)u.call(c,d=f[g++])&&(i[d]=c[d]);return i}:h},function(t,e,i){t.exports={default:i(166),__esModule:!0}},function(t,e,i){i(167),t.exports=i(7).Math.sign},function(t,e,i){var o=i(17);o(o.S,"Math",{sign:i(168)})},function(t,e){t.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},function(t,e,i){t.exports={default:i(170),__esModule:!0}},function(t,e,i){i(171);var o=i(7).Object;t.exports=function(t,e,i){return o.defineProperty(t,e,i)}},function(t,e,i){var o=i(17);o(o.S+o.F*!i(21),"Object",{defineProperty:i(20).f})},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var o="string",n="boolean",r="number",s={fill:{string:o},stroke:{string:o},strokeWidth:{number:r},__type__:{string:o,object:"object",undefined:"undefined"}};e.allOptions={animationAutoStart:{boolean:n,undefined:"undefined"},animationInterval:{number:r},animationPreload:{boolean:n},axisColor:{string:o},backgroundColor:s,xBarWidth:{number:r,undefined:"undefined"},yBarWidth:{number:r,undefined:"undefined"},cameraPosition:{distance:{number:r},horizontal:{number:r},vertical:{number:r},__type__:{object:"object"}},xCenter:{string:o},yCenter:{string:o},dataColor:s,dotSizeMinFraction:{number:r},dotSizeMaxFraction:{number:r},dotSizeRatio:{number:r},filterLabel:{string:o},gridColor:{string:o},onclick:{function:"function"},keepAspectRatio:{boolean:n},xLabel:{string:o},yLabel:{string:o},zLabel:{string:o},legendLabel:{string:o},xMin:{number:r,undefined:"undefined"},yMin:{number:r,undefined:"undefined"},zMin:{number:r,undefined:"undefined"},xMax:{number:r,undefined:"undefined"},yMax:{number:r,undefined:"undefined"},zMax:{number:r,undefined:"undefined"},showAnimationControls:{boolean:n,undefined:"undefined"},showGrid:{boolean:n},showLegend:{boolean:n,undefined:"undefined"},showPerspective:{boolean:n},showShadow:{boolean:n},showXAxis:{boolean:n},showYAxis:{boolean:n},showZAxis:{boolean:n},xStep:{number:r,undefined:"undefined"},yStep:{number:r,undefined:"undefined"},zStep:{number:r,undefined:"undefined"},style:{number:r,string:["bar","bar-color","bar-size","dot","dot-line","dot-color","dot-size","line","grid","surface"]},tooltip:{boolean:n,function:"function"},tooltipStyle:{content:{color:{string:o},background:{string:o},border:{string:o},borderRadius:{string:o},boxShadow:{string:o},padding:{string:o},__type__:{object:"object"}},line:{borderLeft:{string:o},height:{string:o},width:{string:o},__type__:{object:"object"}},dot:{border:{string:o},borderRadius:{string:o},height:{string:o},width:{string:o},__type__:{object:"object"}},__type__:{object:"object"}},xValueLabel:{function:"function"},yValueLabel:{function:"function"},zValueLabel:{function:"function"},valueMax:{number:r,undefined:"undefined"},valueMin:{number:r,undefined:"undefined"},verticalRatio:{number:r},height:{string:o},width:{string:o},__type__:{object:"object"}}},function(t,e,i){function o(){this.dataTable=null}var n=i(11),r=i(12),s=i(174),a=i(96),h=i(94),l=i(34);o.prototype.initializeData=function(t,e,i){if(void 0!==e){var o;if(Array.isArray(e)&&(e=new n(e)),!(e instanceof n||e instanceof r))throw new Error("Array, DataSet, or DataView expected");if(0!=(o=e.get()).length){this.style=i,this.dataSet&&this.dataSet.off("*",this._onChange),this.dataSet=e,this.dataTable=o;var s=this;this._onChange=function(){t.setData(s.dataSet)},this.dataSet.on("*",this._onChange),this.colX="x",this.colY="y",this.colZ="z";var h=t.hasBars(i);if(h&&(this.xBarWidth=void 0!==t.defaultXBarWidth?t.defaultXBarWidth:this.getSmallestDifference(o,this.colX)||1,this.yBarWidth=void 0!==t.defaultYBarWidth?t.defaultYBarWidth:this.getSmallestDifference(o,this.colY)||1),this._initializeRange(o,this.colX,t,h),this._initializeRange(o,this.colY,t,h),this._initializeRange(o,this.colZ,t,!1),o[0].hasOwnProperty("style")){this.colValue="style";var l=this.getColumnRange(o,this.colValue);this._setRangeDefaults(l,t.defaultValueMin,t.defaultValueMax),this.valueRange=l}return this.getDataTable()[0].hasOwnProperty("filter")&&void 0===this.dataFilter&&(this.dataFilter=new a(this,"filter",t),this.dataFilter.setOnLoadCallback(function(){t.redraw()})),this.dataFilter?this.dataFilter._getDataPoints():this._getDataPoints(this.getDataTable())}}},o.prototype._collectRangeSettings=function(t,e){if(-1==["x","y","z"].indexOf(t))throw new Error("Column '"+t+"' invalid");var i=t.toUpperCase();return{barWidth:this[t+"BarWidth"],min:e["default"+i+"Min"],max:e["default"+i+"Max"],step:e["default"+i+"Step"],range_label:t+"Range",step_label:t+"Step"}},o.prototype._initializeRange=function(t,e,i,o){var n=this._collectRangeSettings(e,i),r=this.getColumnRange(t,e);o&&"z"!=e&&r.expand(n.barWidth/2),this._setRangeDefaults(r,n.min,n.max),this[n.range_label]=r,this[n.step_label]=void 0!==n.step?n.step:r.range()/5},o.prototype.getDistinctValues=function(t,e){void 0===e&&(e=this.dataTable);for(var i=[],o=0;o<e.length;o++){var n=e[o][t]||0;-1===i.indexOf(n)&&i.push(n)}return i.sort(function(t,e){return t-e})},o.prototype.getSmallestDifference=function(t,e){for(var i=this.getDistinctValues(t,e),o=null,n=1;n<i.length;n++){var r=i[n]-i[n-1];(null==o||o>r)&&(o=r)}return o},o.prototype.getColumnRange=function(t,e){for(var i=new s,o=0;o<t.length;o++)i.adjust(t[o][e]);return i},o.prototype.getNumberOfRows=function(){return this.dataTable.length},o.prototype._setRangeDefaults=function(t,e,i){void 0!==e&&(t.min=e),void 0!==i&&(t.max=i),t.max<=t.min&&(t.max=t.min+1)},o.prototype.getDataTable=function(){return this.dataTable},o.prototype.getDataSet=function(){return this.dataSet},o.prototype.getDataPoints=function(t){for(var e=[],i=0;i<t.length;i++){var o=new l;o.x=t[i][this.colX]||0,o.y=t[i][this.colY]||0,o.z=t[i][this.colZ]||0,o.data=t[i],void 0!==this.colValue&&(o.value=t[i][this.colValue]||0);var n={};n.point=o,n.bottom=new l(o.x,o.y,this.zRange.min),n.trans=void 0,n.screen=void 0,e.push(n)}return e},o.prototype.initDataAsMatrix=function(t){var e,i,o,n,r=this.getDistinctValues(this.colX,t),s=this.getDistinctValues(this.colY,t),a=this.getDataPoints(t),h=[];for(o=0;o<a.length;o++){var l=r.indexOf((n=a[o]).point.x),p=s.indexOf(n.point.y);void 0===h[l]&&(h[l]=[]),h[l][p]=n}for(e=0;e<h.length;e++)for(i=0;i<h[e].length;i++)h[e][i]&&(h[e][i].pointRight=e<h.length-1?h[e+1][i]:void 0,h[e][i].pointTop=i<h[e].length-1?h[e][i+1]:void 0,h[e][i].pointCross=e<h.length-1&&i<h[e].length-1?h[e+1][i+1]:void 0);return a},o.prototype.getInfo=function(){var t=this.dataFilter;if(t)return t.getLabel()+": "+t.getSelectedValue()},o.prototype.reload=function(){this.dataTable&&this.setData(this.dataTable)},o.prototype._getDataPoints=function(t){var e=[];if(this.style===h.STYLE.GRID||this.style===h.STYLE.SURFACE)e=this.initDataAsMatrix(t);else if(this._checkValueField(t),e=this.getDataPoints(t),this.style===h.STYLE.LINE)for(var i=0;i<e.length;i++)i>0&&(e[i-1].pointNext=e[i]);return e},o.prototype._checkValueField=function(t){if(this.style===h.STYLE.BARCOLOR||this.style===h.STYLE.BARSIZE||this.style===h.STYLE.DOTCOLOR||this.style===h.STYLE.DOTSIZE){if(void 0===this.colValue)throw new Error("Expected data to have  field 'style'  for graph style '"+this.style+"'");if(void 0===t[0][this.colValue])throw new Error("Expected data to have  field '"+this.colValue+"'  for graph style '"+this.style+"'")}},t.exports=o},function(t,e,i){function o(){this.min=void 0,this.max=void 0}o.prototype.adjust=function(t){void 0!==t&&((void 0===this.min||this.min>t)&&(this.min=t),(void 0===this.max||this.max<t)&&(this.max=t))},o.prototype.combine=function(t){this.add(t.min),this.add(t.max)},o.prototype.expand=function(t){if(void 0!==t){var e=this.min-t,i=this.max+t;if(e>i)throw new Error("Passed expansion value makes range invalid");this.min=e,this.max=i}},o.prototype.range=function(){return this.max-this.min},o.prototype.center=function(){return(this.min+this.max)/2},t.exports=o},function(t,e,i){var o,n;void 0!==(n="function"==typeof(o=function(){var t=null;return function e(i,o){function n(t){return t.match(/[^ ]+/g)}function r(e){if("hammer.input"!==e.type){if(e.srcEvent._handled||(e.srcEvent._handled={}),e.srcEvent._handled[e.type])return;e.srcEvent._handled[e.type]=!0}var i=!1;e.stopPropagation=function(){i=!0};var o=e.srcEvent.stopPropagation.bind(e.srcEvent);"function"==typeof o&&(e.srcEvent.stopPropagation=function(){o(),e.stopPropagation()}),e.firstTarget=t;for(var n=t;n&&!i;){var r=n.hammer;if(r)for(var s,a=0;a<r.length;a++)if(s=r[a]._handlers[e.type])for(var h=0;h<s.length&&!i;h++)s[h](e);n=n.parentNode}}var s=o||{preventDefault:!1};if(i.Manager){var a=i,h=function(t,i){var o=Object.create(s);return i&&a.assign(o,i),e(new a(t,o),o)};return a.assign(h,a),h.Manager=function(t,i){var o=Object.create(s);return i&&a.assign(o,i),e(new a.Manager(t,o),o)},h}var l=Object.create(i),p=i.element;return p.hammer||(p.hammer=[]),p.hammer.push(l),i.on("hammer.input",function(e){!0!==s.preventDefault&&s.preventDefault!==e.pointerType||e.preventDefault(),e.isFirst&&(t=e.target)}),l._handlers={},l.on=function(t,e){return n(t).forEach(function(t){var o=l._handlers[t];o||(l._handlers[t]=o=[],i.on(t,r)),o.push(e)}),l},l.off=function(t,e){return n(t).forEach(function(t){var o=l._handlers[t];o&&((o=e?o.filter(function(t){return t!==e}):[]).length>0?l._handlers[t]=o:(i.off(t,r),delete l._handlers[t]))}),l},l.emit=function(e,o){t=o.target,i.emit(e,o)},l.destroy=function(){var t=i.element.hammer,e=t.indexOf(l);-1!==e&&t.splice(e,1),t.length||delete i.element.hammer,l._handlers={},i.destroy()},l}})?o.apply(e,[]):o)&&(t.exports=n)},function(t,e,i){var o;!function(n,r,s,a){function h(t,e,i){return setTimeout(c(t,i),e)}function l(t,e,i){return!!Array.isArray(t)&&(p(t,i[e],i),!0)}function p(t,e,i){var o;if(t)if(t.forEach)t.forEach(e,i);else if(t.length!==a)for(o=0;o<t.length;)e.call(i,t[o],o,t),o++;else for(o in t)t.hasOwnProperty(o)&&e.call(i,t[o],o,t)}function u(t,e,i){var o="DEPRECATED METHOD: "+e+"\n"+i+" AT \n";return function(){var e=new Error("get-stack-trace"),i=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",r=n.console&&(n.console.warn||n.console.log);return r&&r.call(n.console,o,i),t.apply(this,arguments)}}function d(t,e,i){var o,n=e.prototype;(o=t.prototype=Object.create(n)).constructor=t,o._super=n,i&&it(o,i)}function c(t,e){return function(){return t.apply(e,arguments)}}function f(t,e){return typeof t==rt?t.apply(e&&e[0]||a,e):t}function y(t,e){return t===a?e:t}function g(t,e,i){p(w(e),function(e){t.addEventListener(e,i,!1)})}function m(t,e,i){p(w(e),function(e){t.removeEventListener(e,i,!1)})}function v(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function b(t,e){return t.indexOf(e)>-1}function w(t){return t.trim().split(/\s+/g)}function x(t,e,i){if(t.indexOf&&!i)return t.indexOf(e);for(var o=0;o<t.length;){if(i&&t[o][i]==e||!i&&t[o]===e)return o;o++}return-1}function _(t){return Array.prototype.slice.call(t,0)}function M(t,e,i){for(var o=[],n=[],r=0;r<t.length;){var s=e?t[r][e]:t[r];x(n,s)<0&&o.push(t[r]),n[r]=s,r++}return i&&(o=e?o.sort(function(t,i){return t[e]>i[e]}):o.sort()),o}function k(t,e){for(var i,o,n=e[0].toUpperCase()+e.slice(1),r=0;r<ot.length;){if((o=(i=ot[r])?i+n:e)in t)return o;r++}return a}function S(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||n}function C(t,e){var i=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){f(t.options.enable,[t])&&i.handler(e)},this.init()}function E(t,e,i){var o=i.pointers.length,n=i.changedPointers.length,r=e&gt&&o-n==0,s=e&(mt|vt)&&o-n==0;i.isFirst=!!r,i.isFinal=!!s,r&&(t.session={}),i.eventType=e,function(t,e){var i=t.session,o=e.pointers,n=o.length;i.firstInput||(i.firstInput=P(e)),n>1&&!i.firstMultiple?i.firstMultiple=P(e):1===n&&(i.firstMultiple=!1);var r=i.firstInput,s=i.firstMultiple,a=s?s.center:r.center,h=e.center=A(o);e.timeStamp=ht(),e.deltaTime=e.timeStamp-r.timeStamp,e.angle=R(a,h),e.distance=I(a,h),function(t,e){var i=e.center,o=t.offsetDelta||{},n=t.prevDelta||{},r=t.prevInput||{};e.eventType!==gt&&r.eventType!==mt||(n=t.prevDelta={x:r.deltaX||0,y:r.deltaY||0},o=t.offsetDelta={x:i.x,y:i.y}),e.deltaX=n.x+(i.x-o.x),e.deltaY=n.y+(i.y-o.y)}(i,e),e.offsetDirection=D(e.deltaX,e.deltaY);var l=O(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=l.x,e.overallVelocityY=l.y,e.overallVelocity=at(l.x)>at(l.y)?l.x:l.y,e.scale=s?function(t,e){return I(o[0],o[1],Tt)/I(t[0],t[1],Tt)}(s.pointers):1,e.rotation=s?function(t,e){return R(o[1],o[0],Tt)+R(t[1],t[0],Tt)}(s.pointers):0,e.maxPointers=i.prevInput?e.pointers.length>i.prevInput.maxPointers?e.pointers.length:i.prevInput.maxPointers:e.pointers.length,T(i,e);var p=t.element;v(e.srcEvent.target,p)&&(p=e.srcEvent.target),e.target=p}(t,i),t.emit("hammer.input",i),t.recognize(i),t.session.prevInput=i}function T(t,e){var i,o,n,r,s=t.lastInterval||e,h=e.timeStamp-s.timeStamp;if(e.eventType!=vt&&(h>yt||s.velocity===a)){var l=e.deltaX-s.deltaX,p=e.deltaY-s.deltaY,u=O(h,l,p);o=u.x,n=u.y,i=at(u.x)>at(u.y)?u.x:u.y,r=D(l,p),t.lastInterval=e}else i=s.velocity,o=s.velocityX,n=s.velocityY,r=s.direction;e.velocity=i,e.velocityX=o,e.velocityY=n,e.direction=r}function P(t){for(var e=[],i=0;i<t.pointers.length;)e[i]={clientX:st(t.pointers[i].clientX),clientY:st(t.pointers[i].clientY)},i++;return{timeStamp:ht(),pointers:e,center:A(e),deltaX:t.deltaX,deltaY:t.deltaY}}function A(t){var e=t.length;if(1===e)return{x:st(t[0].clientX),y:st(t[0].clientY)};for(var i=0,o=0,n=0;n<e;)i+=t[n].clientX,o+=t[n].clientY,n++;return{x:st(i/e),y:st(o/e)}}function O(t,e,i){return{x:e/t||0,y:i/t||0}}function D(t,e){return t===e?bt:at(t)>=at(e)?t<0?wt:xt:e<0?_t:Mt}function I(t,e,i){i||(i=Et);var o=e[i[0]]-t[i[0]],n=e[i[1]]-t[i[1]];return Math.sqrt(o*o+n*n)}function R(t,e,i){return i||(i=Et),180*Math.atan2(e[i[1]]-t[i[1]],e[i[0]]-t[i[0]])/Math.PI}function N(){this.evEl=At,this.evWin=Ot,this.pressed=!1,C.apply(this,arguments)}function L(){this.evEl=Rt,this.evWin=Nt,C.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function j(){this.evTarget=jt,this.evWin=Ft,this.started=!1,C.apply(this,arguments)}function F(){this.evTarget=Bt,this.targetIds={},C.apply(this,arguments)}function z(){C.apply(this,arguments);var t=c(this.handler,this);this.touch=new F(this.manager,t),this.mouse=new N(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function B(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var i={x:e.clientX,y:e.clientY};this.lastTouches.push(i);var o=this.lastTouches;setTimeout(function(){var t=o.indexOf(i);t>-1&&o.splice(t,1)},qt)}}function q(t,e){this.manager=t,this.set(e)}function H(t){this.options=it({},this.defaults,t||{}),this.id=ut++,this.manager=null,this.options.enable=y(this.options.enable,!0),this.state=Zt,this.simultaneous={},this.requireFail=[]}function U(t){return t&te?"cancel":t&$t?"end":t&Jt?"move":t&Kt?"start":""}function W(t){return t==Mt?"down":t==_t?"up":t==wt?"left":t==xt?"right":""}function G(t,e){var i=e.manager;return i?i.get(t):t}function Y(){H.apply(this,arguments)}function V(){Y.apply(this,arguments),this.pX=null,this.pY=null}function X(){Y.apply(this,arguments)}function Z(){H.apply(this,arguments),this._timer=null,this._input=null}function K(){Y.apply(this,arguments)}function J(){Y.apply(this,arguments)}function $(){H.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Q(t,e){return(e=e||{}).recognizers=y(e.recognizers,Q.defaults.preset),new tt(t,e)}function tt(t,e){this.options=it({},Q.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=function(t){return new(t.options.inputClass||(ct?L:ft?F:dt?z:N))(t,E)}(this),this.touchAction=new q(this,this.options.touchAction),et(this,!0),p(this.options.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}function et(t,e){var i,o=t.element;o.style&&(p(t.options.cssProps,function(n,r){i=k(o.style,r),e?(t.oldCssProps[i]=o.style[i],o.style[i]=n):o.style[i]=t.oldCssProps[i]||""}),e||(t.oldCssProps={}))}var it,ot=["","webkit","Moz","MS","ms","o"],nt=r.createElement("div"),rt="function",st=Math.round,at=Math.abs,ht=Date.now;it="function"!=typeof Object.assign?function(t){if(t===a||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),i=1;i<arguments.length;i++){var o=arguments[i];if(o!==a&&null!==o)for(var n in o)o.hasOwnProperty(n)&&(e[n]=o[n])}return e}:Object.assign;var lt=u(function(t,e,i){for(var o=Object.keys(e),n=0;n<o.length;)(!i||i&&t[o[n]]===a)&&(t[o[n]]=e[o[n]]),n++;return t},"extend","Use `assign`."),pt=u(function(t,e){return lt(t,e,!0)},"merge","Use `assign`."),ut=1,dt="ontouchstart"in n,ct=k(n,"PointerEvent")!==a,ft=dt&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),yt=25,gt=1,mt=4,vt=8,bt=1,wt=2,xt=4,_t=8,Mt=16,kt=wt|xt,St=_t|Mt,Ct=kt|St,Et=["x","y"],Tt=["clientX","clientY"];C.prototype={handler:function(){},init:function(){this.evEl&&g(this.element,this.evEl,this.domHandler),this.evTarget&&g(this.target,this.evTarget,this.domHandler),this.evWin&&g(S(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&m(this.element,this.evEl,this.domHandler),this.evTarget&&m(this.target,this.evTarget,this.domHandler),this.evWin&&m(S(this.element),this.evWin,this.domHandler)}};var Pt={mousedown:gt,mousemove:2,mouseup:mt},At="mousedown",Ot="mousemove mouseup";d(N,C,{handler:function(t){var e=Pt[t.type];e&gt&&0===t.button&&(this.pressed=!0),2&e&&1!==t.which&&(e=mt),this.pressed&&(e&mt&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:"mouse",srcEvent:t}))}});var Dt={pointerdown:gt,pointermove:2,pointerup:mt,pointercancel:vt,pointerout:vt},It={2:"touch",3:"pen",4:"mouse",5:"kinect"},Rt="pointerdown",Nt="pointermove pointerup pointercancel";n.MSPointerEvent&&!n.PointerEvent&&(Rt="MSPointerDown",Nt="MSPointerMove MSPointerUp MSPointerCancel"),d(L,C,{handler:function(t){var e=this.store,i=!1,o=t.type.toLowerCase().replace("ms",""),n=Dt[o],r=It[t.pointerType]||t.pointerType,s="touch"==r,a=x(e,t.pointerId,"pointerId");n&gt&&(0===t.button||s)?a<0&&(e.push(t),a=e.length-1):n&(mt|vt)&&(i=!0),a<0||(e[a]=t,this.callback(this.manager,n,{pointers:e,changedPointers:[t],pointerType:r,srcEvent:t}),i&&e.splice(a,1))}});var Lt={touchstart:gt,touchmove:2,touchend:mt,touchcancel:vt},jt="touchstart",Ft="touchstart touchmove touchend touchcancel";d(j,C,{handler:function(t){var e=Lt[t.type];if(e===gt&&(this.started=!0),this.started){var i=(function(t,e){var i=_(t.touches),o=_(t.changedTouches);return e&(mt|vt)&&(i=M(i.concat(o),"identifier",!0)),[i,o]}).call(this,t,e);e&(mt|vt)&&i[0].length-i[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:"touch",srcEvent:t})}}});var zt={touchstart:gt,touchmove:2,touchend:mt,touchcancel:vt},Bt="touchstart touchmove touchend touchcancel";d(F,C,{handler:function(t){var e=zt[t.type],i=(function(t,e){var i=_(t.touches),o=this.targetIds;if(e&(2|gt)&&1===i.length)return o[i[0].identifier]=!0,[i,i];var n,r,s=_(t.changedTouches),a=[],h=this.target;if(r=i.filter(function(t){return v(t.target,h)}),e===gt)for(n=0;n<r.length;)o[r[n].identifier]=!0,n++;for(n=0;n<s.length;)o[s[n].identifier]&&a.push(s[n]),e&(mt|vt)&&delete o[s[n].identifier],n++;return a.length?[M(r.concat(a),"identifier",!0),a]:void 0}).call(this,t,e);i&&this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:"touch",srcEvent:t})}});var qt=2500;d(z,C,{handler:function(t,e,i){var o="mouse"==i.pointerType;if(!(o&&i.sourceCapabilities&&i.sourceCapabilities.firesTouchEvents)){if("touch"==i.pointerType)(function(t,e){t&gt?(this.primaryTouch=e.changedPointers[0].identifier,B.call(this,e)):t&(mt|vt)&&B.call(this,e)}).call(this,e,i);else if(o&&(function(t){for(var e=t.srcEvent.clientX,i=t.srcEvent.clientY,o=0;o<this.lastTouches.length;o++){var n=this.lastTouches[o],r=Math.abs(e-n.x),s=Math.abs(i-n.y);if(r<=25&&s<=25)return!0}return!1}).call(this,i))return;this.callback(t,e,i)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Ht=k(nt.style,"touchAction"),Ut=Ht!==a,Wt="manipulation",Gt="none",Yt="pan-x",Vt="pan-y",Xt=function(){if(!Ut)return!1;var t={},e=n.CSS&&n.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(i){t[i]=!e||n.CSS.supports("touch-action",i)}),t}();q.prototype={set:function(t){"compute"==t&&(t=this.compute()),Ut&&this.manager.element.style&&Xt[t]&&(this.manager.element.style[Ht]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return p(this.manager.recognizers,function(e){f(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))}),function(t){if(b(t,Gt))return Gt;var e=b(t,Yt),i=b(t,Vt);return e&&i?Gt:e||i?e?Yt:Vt:b(t,Wt)?Wt:"auto"}(t.join(" "))},preventDefaults:function(t){var e=t.srcEvent,i=t.offsetDirection;if(!this.manager.session.prevented){var o=this.actions,n=b(o,Gt)&&!Xt[Gt],r=b(o,Vt)&&!Xt[Vt],s=b(o,Yt)&&!Xt[Yt];if(n&&1===t.pointers.length&&t.distance<2&&t.deltaTime<250)return;return s&&r?void 0:n||r&&i&kt||s&&i&St?this.preventSrc(e):void 0}e.preventDefault()},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var Zt=1,Kt=2,Jt=4,$t=8,Qt=$t,te=16;H.prototype={defaults:{},set:function(t){return it(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(l(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=G(t,this)).id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return l(t,"dropRecognizeWith",this)?this:(t=G(t,this),delete this.simultaneous[t.id],this)},requireFailure:function(t){if(l(t,"requireFailure",this))return this;var e=this.requireFail;return-1===x(e,t=G(t,this))&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(l(t,"dropRequireFailure",this))return this;t=G(t,this);var e=x(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){function e(e){i.manager.emit(e,t)}var i=this,o=this.state;o<$t&&e(i.options.event+U(o)),e(i.options.event),t.additionalEvent&&e(t.additionalEvent),o>=$t&&e(i.options.event+U(o))},tryEmit:function(t){if(this.canEmit())return this.emit(t);this.state=32},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(32|Zt)))return!1;t++}return!0},recognize:function(t){var e=it({},t);if(!f(this.options.enable,[this,e]))return this.reset(),void(this.state=32);this.state&(Qt|te|32)&&(this.state=Zt),this.state=this.process(e),this.state&(Kt|Jt|$t|te)&&this.tryEmit(e)},process:function(t){},getTouchAction:function(){},reset:function(){}},d(Y,H,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,i=t.eventType,o=e&(Kt|Jt),n=this.attrTest(t);return o&&(i&vt||!n)?e|te:o||n?i&mt?e|$t:e&Kt?e|Jt:Kt:32}}),d(V,Y,{defaults:{event:"pan",threshold:10,pointers:1,direction:Ct},getTouchAction:function(){var t=this.options.direction,e=[];return t&kt&&e.push(Vt),t&St&&e.push(Yt),e},directionTest:function(t){var e=this.options,i=!0,o=t.distance,n=t.direction,r=t.deltaX,s=t.deltaY;return n&e.direction||(e.direction&kt?(n=0===r?bt:r<0?wt:xt,i=r!=this.pX,o=Math.abs(t.deltaX)):(n=0===s?bt:s<0?_t:Mt,i=s!=this.pY,o=Math.abs(t.deltaY))),t.direction=n,i&&o>e.threshold&&n&e.direction},attrTest:function(t){return Y.prototype.attrTest.call(this,t)&&(this.state&Kt||!(this.state&Kt)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=W(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),d(X,Y,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Gt]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&Kt)},emit:function(t){1!==t.scale&&(t.additionalEvent=this.options.event+(t.scale<1?"in":"out")),this._super.emit.call(this,t)}}),d(Z,H,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(t){var e=this.options,i=t.pointers.length===e.pointers,o=t.distance<e.threshold,n=t.deltaTime>e.time;if(this._input=t,!o||!i||t.eventType&(mt|vt)&&!n)this.reset();else if(t.eventType&gt)this.reset(),this._timer=h(function(){this.state=Qt,this.tryEmit()},e.time,this);else if(t.eventType&mt)return Qt;return 32},reset:function(){clearTimeout(this._timer)},emit:function(t){this.state===Qt&&(t&&t.eventType&mt?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=ht(),this.manager.emit(this.options.event,this._input)))}}),d(K,Y,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Gt]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&Kt)}}),d(J,Y,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:kt|St,pointers:1},getTouchAction:function(){return V.prototype.getTouchAction.call(this)},attrTest:function(t){var e,i=this.options.direction;return i&(kt|St)?e=t.overallVelocity:i&kt?e=t.overallVelocityX:i&St&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&i&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&at(e)>this.options.velocity&&t.eventType&mt},emit:function(t){var e=W(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),d($,H,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Wt]},process:function(t){var e=this.options,i=t.pointers.length===e.pointers,o=t.distance<e.threshold,n=t.deltaTime<e.time;if(this.reset(),t.eventType&gt&&0===this.count)return this.failTimeout();if(o&&n&&i){if(t.eventType!=mt)return this.failTimeout();var r=!this.pTime||t.timeStamp-this.pTime<e.interval,s=!this.pCenter||I(this.pCenter,t.center)<e.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,s&&r?this.count+=1:this.count=1,this._input=t,0==this.count%e.taps)return this.hasRequireFailures()?(this._timer=h(function(){this.state=Qt,this.tryEmit()},e.interval,this),Kt):Qt}return 32},failTimeout:function(){return this._timer=h(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==Qt&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Q.VERSION="2.0.7",Q.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[K,{enable:!1}],[X,{enable:!1},["rotate"]],[J,{direction:kt}],[V,{direction:kt},["swipe"]],[$],[$,{event:"doubletap",taps:2},["tap"]],[Z]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},tt.prototype={set:function(t){return it(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var e=this.session;if(!e.stopped){this.touchAction.preventDefaults(t);var i,o=this.recognizers,n=e.curRecognizer;(!n||n&&n.state&Qt)&&(n=e.curRecognizer=null);for(var r=0;r<o.length;)i=o[r],2===e.stopped||n&&i!=n&&!i.canRecognizeWith(n)?i.reset():i.recognize(t),!n&&i.state&(Kt|Jt|$t)&&(n=e.curRecognizer=i),r++}},get:function(t){if(t instanceof H)return t;for(var e=this.recognizers,i=0;i<e.length;i++)if(e[i].options.event==t)return e[i];return null},add:function(t){if(l(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(l(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,i=x(e,t);-1!==i&&(e.splice(i,1),this.touchAction.update())}return this},on:function(t,e){if(t!==a&&e!==a){var i=this.handlers;return p(w(t),function(t){i[t]=i[t]||[],i[t].push(e)}),this}},off:function(t,e){if(t!==a){var i=this.handlers;return p(w(t),function(t){e?i[t]&&i[t].splice(x(i[t],e),1):delete i[t]}),this}},emit:function(t,e){this.options.domEvents&&function(t,e){var i=r.createEvent("Event");i.initEvent(t,!0,!0),i.gesture=e,e.target.dispatchEvent(i)}(t,e);var i=this.handlers[t]&&this.handlers[t].slice();if(i&&i.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var o=0;o<i.length;)i[o](e),o++}},destroy:function(){this.element&&et(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},it(Q,{INPUT_START:gt,INPUT_MOVE:2,INPUT_END:mt,INPUT_CANCEL:vt,STATE_POSSIBLE:Zt,STATE_BEGAN:Kt,STATE_CHANGED:Jt,STATE_ENDED:$t,STATE_RECOGNIZED:Qt,STATE_CANCELLED:te,STATE_FAILED:32,DIRECTION_NONE:bt,DIRECTION_LEFT:wt,DIRECTION_RIGHT:xt,DIRECTION_UP:_t,DIRECTION_DOWN:Mt,DIRECTION_HORIZONTAL:kt,DIRECTION_VERTICAL:St,DIRECTION_ALL:Ct,Manager:tt,Input:C,TouchAction:q,TouchInput:F,MouseInput:N,PointerEventInput:L,TouchMouseInput:z,SingleTouchInput:j,Recognizer:H,AttrRecognizer:Y,Tap:$,Pan:V,Swipe:J,Pinch:X,Rotate:K,Press:Z,on:g,off:m,each:p,merge:pt,extend:lt,assign:it,inherit:d,bindFn:c,prefixed:k}),(void 0!==n?n:"undefined"!=typeof self?self:{}).Hammer=Q,(o=(function(){return Q}).call(e,i,e,t))!==a&&(t.exports=o)}(window,document)},function(t,e,i){e.util=i(2),e.DOMutil=i(14),e.DataSet=i(11),e.DataView=i(12),e.Queue=i(43),e.Timeline=i(178),e.Graph2d=i(180),e.timeline={Core:i(65),DateUtil:i(36),Range:i(64),stack:i(100),TimeStep:i(66),components:{items:{Item:i(38),BackgroundItem:i(103),BoxItem:i(101),PointItem:i(102),RangeItem:i(70)},BackgroundGroup:i(69),Component:i(16),CurrentTime:i(67),CustomTime:i(46),DataAxis:i(107),DataScale:i(108),GraphGroup:i(109),Group:i(68),ItemSet:i(99),Legend:i(112),LineGraph:i(106),TimeAxis:i(45)}},e.moment=i(9),e.Hammer=i(10),e.keycharm=i(35)},function(t,e,i){function o(t,e,i,n){if(!(this instanceof o))throw new SyntaxError("Constructor must be called with the new operator");if(!(Array.isArray(i)||i instanceof l||i instanceof p)&&i instanceof Object){var r=n;n=i,i=r}n&&n.throttleRedraw&&console.warn('Timeline option "throttleRedraw" is DEPRICATED and no longer supported. It will be removed in the next MAJOR release.');var s=this;if(this.defaultOptions={start:null,end:null,autoResize:!0,orientation:{axis:"bottom",item:"bottom"},moment:a,width:null,height:null,maxHeight:null,minHeight:null},this.options=h.deepExtend({},this.defaultOptions),this._create(t),!n||n&&void 0===n.rtl){this.dom.root.style.visibility="hidden";for(var d,y=this.dom.root;!d&&y;)d=window.getComputedStyle(y,null).direction,y=y.parentElement;this.options.rtl=d&&"rtl"==d.toLowerCase()}else this.options.rtl=n.rtl;this.options.rollingMode=n&&n.rollingMode,this.options.onInitialDrawComplete=n&&n.onInitialDrawComplete,this.components=[],this.body={dom:this.dom,domProps:this.props,emitter:{on:this.on.bind(this),off:this.off.bind(this),emit:this.emit.bind(this)},hiddenDates:[],util:{getScale:function(){return s.timeAxis.step.scale},getStep:function(){return s.timeAxis.step.step},toScreen:s._toScreen.bind(s),toGlobalScreen:s._toGlobalScreen.bind(s),toTime:s._toTime.bind(s),toGlobalTime:s._toGlobalTime.bind(s)}},this.range=new u(this.body,this.options),this.components.push(this.range),this.body.range=this.range,this.timeAxis=new c(this.body,this.options),this.timeAxis2=null,this.components.push(this.timeAxis),this.currentTime=new f(this.body,this.options),this.components.push(this.currentTime),this.itemSet=new g(this.body,this.options),this.components.push(this.itemSet),this.itemsData=null,this.groupsData=null,this.dom.root.onclick=function(t){s.emit("click",s.getEventProperties(t))},this.dom.root.ondblclick=function(t){s.emit("doubleClick",s.getEventProperties(t))},this.dom.root.oncontextmenu=function(t){s.emit("contextmenu",s.getEventProperties(t))},this.dom.root.onmouseover=function(t){s.emit("mouseOver",s.getEventProperties(t))},window.PointerEvent?(this.dom.root.onpointerdown=function(t){s.emit("mouseDown",s.getEventProperties(t))},this.dom.root.onpointermove=function(t){s.emit("mouseMove",s.getEventProperties(t))},this.dom.root.onpointerup=function(t){s.emit("mouseUp",s.getEventProperties(t))}):(this.dom.root.onmousemove=function(t){s.emit("mouseMove",s.getEventProperties(t))},this.dom.root.onmousedown=function(t){s.emit("mouseDown",s.getEventProperties(t))},this.dom.root.onmouseup=function(t){s.emit("mouseUp",s.getEventProperties(t))}),this.initialFitDone=!1,this.on("changed",function(){if(null!=this.itemsData&&!this.options.rollingMode){if(!s.initialFitDone)if(s.initialFitDone=!0,void 0!=s.options.start||void 0!=s.options.end){if(void 0==s.options.start||void 0==s.options.end)var t=s.getItemRange();s.setWindow(void 0!=s.options.start?s.options.start:t.min,void 0!=s.options.end?s.options.end:t.max,{animation:!1})}else s.fit({animation:!1});!s.initialDrawDone&&s.initialRangeChangeDone&&(s.initialDrawDone=!0,s.dom.root.style.visibility="visible",s.options.onInitialDrawComplete&&setTimeout(function(){return s.options.onInitialDrawComplete()},0))}}),n&&this.setOptions(n),i&&this.setGroups(i),e&&this.setItems(e),this._redraw()}function n(t){return h.convert(t.data.start,"Date").valueOf()}function r(t){return h.convert(void 0!=t.data.end?t.data.end:t.data.start,"Date").valueOf()}function s(t,e){var i=t.props.leftContainer.height,o=t.props.left.height,n=e.parent,r=n.top,s=!0,a=t.timeAxis.options.orientation.axis,h=function(){return"bottom"==a?n.height-e.top-e.height:e.top},l=-1*t._getScrollTop(),p=r+h(),u=e.height;return p<l?r+i<=r+h()+u&&(r+=h()-t.itemSet.options.margin.item.vertical):p+u>l+i?r+=h()+u-i+t.itemSet.options.margin.item.vertical:s=!1,{shouldScroll:s,scrollOffset:r=Math.min(r,o-i),itemTop:p}}var a=i(9),h=i(2),l=i(11),p=i(12),u=i(64),d=i(65),c=i(45),f=i(67),y=i(46),g=i(99),m=i(15).printStyle,v=i(105).allOptions,b=i(105).configureOptions,w=i(71).default,x=i(15).default;(o.prototype=new d)._createConfigurator=function(){return new w(this,this.dom.container,b)},o.prototype.redraw=function(){this.itemSet&&this.itemSet.markDirty({refreshItems:!0}),this._redraw()},o.prototype.setOptions=function(t){if(!0===x.validate(t,v)&&console.log("%cErrors have been found in the supplied options object.",m),d.prototype.setOptions.call(this,t),"type"in t&&t.type!==this.options.type){this.options.type=t.type;var e=this.itemsData;if(e){var i=this.getSelection();this.setItems(null),this.setItems(e),this.setSelection(i)}}},o.prototype.setItems=function(t){var e;e=t?t instanceof l||t instanceof p?t:new l(t,{type:{start:"Date",end:"Date"}}):null,this.itemsData=e,this.itemSet&&this.itemSet.setItems(e)},o.prototype.setGroups=function(t){var e;if(t){var i=function(t){return!1!==t.visible};e=t instanceof l||t instanceof p?new p(t,{filter:i}):new l(t.filter(i))}else e=null;this.groupsData=e,this.itemSet.setGroups(e)},o.prototype.setData=function(t){t&&t.groups&&this.setGroups(t.groups),t&&t.items&&this.setItems(t.items)},o.prototype.setSelection=function(t,e){this.itemSet&&this.itemSet.setSelection(t),e&&e.focus&&this.focus(t,e)},o.prototype.getSelection=function(){return this.itemSet&&this.itemSet.getSelection()||[]},o.prototype.focus=function(t,e){if(this.itemsData&&void 0!=t){var i=Array.isArray(t)?t:[t],o=null,n=null;if(this.itemsData.getDataSet().get(i,{type:{start:"Date",end:"Date"}}).forEach(function(t){var e=t.start.valueOf(),i="end"in t?t.end.valueOf():t.start.valueOf();(null===o||e<o)&&(o=e),(null===n||i>n)&&(n=i)}),null!==o&&null!==n){var r=this,a=this.itemSet.items[i[0]],h=-1*this._getScrollTop(),l=null,p=function(){var t=s(r,a);t.shouldScroll&&t.itemTop!=l.itemTop&&(r._setScrollTop(-t.scrollOffset),r._redraw())},u=(o+n)/2,d=Math.max(this.range.end-this.range.start,1.1*(n-o)),c=!e||void 0===e.animation||e.animation;c||(l={shouldScroll:!1,scrollOffset:-1,itemTop:-1}),this.range.setRange(u-d/2,u+d/2,{animation:c},function(){p(),setTimeout(p,100)},function(t,e,i){var o=s(r,a);if(l||(l=o),l.itemTop!=o.itemTop||l.shouldScroll){l.itemTop!=o.itemTop&&o.shouldScroll&&(l=o,h=-1*r._getScrollTop());var n=l.scrollOffset;r._setScrollTop(-(i?n:h+(n-h)*t)),e||r._redraw()}})}}},o.prototype.fit=function(t,e){var i,o=!t||void 0===t.animation||t.animation,n=this.itemsData&&this.itemsData.getDataSet();1===n.length&&void 0===n.get()[0].end?(i=this.getDataRange(),this.moveTo(i.min.valueOf(),{animation:o},e)):(i=this.getItemRange(),this.range.setRange(i.min,i.max,{animation:o},e))},o.prototype.getItemRange=function(){var t=this.getDataRange(),e=null!==t.min?t.min.valueOf():null,i=null!==t.max?t.max.valueOf():null,o=null,s=null;if(null!=e&&null!=i){var a=i-e;a<=0&&(a=10);var l=a/this.props.center.width,p={},u=0;if(h.forEach(this.itemSet.items,function(t,e){t.groupShowing&&(p[e]=t.redraw(!0),u=p[e].length)}),u>0)for(var d=0;d<u;d++)h.forEach(p,function(t){t[d]()});if(h.forEach(this.itemSet.items,(function(t){var a,h,p=n(t),u=r(t);this.options.rtl?(a=p-(t.getWidthRight()+10)*l,h=u+(t.getWidthLeft()+10)*l):(a=p-(t.getWidthLeft()+10)*l,h=u+(t.getWidthRight()+10)*l),a<e&&(e=a,o=t),h>i&&(i=h,s=t)}).bind(this)),o&&s){var c=o.getWidthLeft()+10,f=s.getWidthRight()+10,y=this.props.center.width-c-f;y>0&&(this.options.rtl?(e=n(o)-f*a/y,i=r(s)+c*a/y):(e=n(o)-c*a/y,i=r(s)+f*a/y))}}return{min:null!=e?new Date(e):null,max:null!=i?new Date(i):null}},o.prototype.getDataRange=function(){var t=null,e=null,i=this.itemsData&&this.itemsData.getDataSet();return i&&i.forEach(function(i){var o=h.convert(i.start,"Date").valueOf(),n=h.convert(void 0!=i.end?i.end:i.start,"Date").valueOf();(null===t||o<t)&&(t=o),(null===e||n>e)&&(e=n)}),{min:null!=t?new Date(t):null,max:null!=e?new Date(e):null}},o.prototype.getEventProperties=function(t){var e,i=t.center?t.center.x:t.clientX,o=t.center?t.center.y:t.clientY;e=this.options.rtl?h.getAbsoluteRight(this.dom.centerContainer)-i:i-h.getAbsoluteLeft(this.dom.centerContainer);var n=o-h.getAbsoluteTop(this.dom.centerContainer),r=this.itemSet.itemFromTarget(t),s=this.itemSet.groupFromTarget(t),a=y.customTimeFromTarget(t),l=this.itemSet.options.snap||null,p=this.body.util.getScale(),u=this.body.util.getStep(),d=this._toTime(e),c=l?l(d,p,u):d,f=h.getTarget(t),g=null;return null!=r?g="item":null!=a?g="custom-time":h.hasParent(f,this.timeAxis.dom.foreground)?g="axis":this.timeAxis2&&h.hasParent(f,this.timeAxis2.dom.foreground)?g="axis":h.hasParent(f,this.itemSet.dom.labelSet)?g="group-label":h.hasParent(f,this.currentTime.bar)?g="current-time":h.hasParent(f,this.dom.center)&&(g="background"),{event:t,item:r?r.id:null,group:s?s.groupId:null,what:g,pageX:t.srcEvent?t.srcEvent.pageX:t.pageX,pageY:t.srcEvent?t.srcEvent.pageY:t.pageY,x:e,y:n,time:d,snappedTime:c}},o.prototype.toggleRollingMode=function(){this.range.rolling?this.range.stopRolling():(void 0==this.options.rollingMode&&this.setOptions(this.options),this.range.startRolling())},t.exports=o},function(t,e,i){function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=o(i(19)),r=o(i(0)),s=o(i(1)),a=i(10),h=i(37),l=i(2),p=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;(0,r.default)(this,t),this.pixelRatio=e,this.generated=!1,this.centerCoordinates={x:144.5,y:144.5},this.r=289*.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=function(){},this.closeCallback=function(){},this._create()}return(0,s.default)(t,[{key:"insertTo",value:function(t){void 0!==this.hammer&&(this.hammer.destroy(),this.hammer=void 0),this.container=t,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}},{key:"setUpdateCallback",value:function(t){if("function"!=typeof t)throw new Error("Function attempted to set as colorPicker update callback is not a function.");this.updateCallback=t}},{key:"setCloseCallback",value:function(t){if("function"!=typeof t)throw new Error("Function attempted to set as colorPicker closing callback is not a function.");this.closeCallback=t}},{key:"_isColorString",value:function(t){if("string"==typeof t)return{black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"}[t]}},{key:"setColor",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if("none"!==t){var i=void 0,o=this._isColorString(t);if(void 0!==o&&(t=o),!0===l.isString(t)){if(!0===l.isValidRGB(t)){var r=t.substr(4).substr(0,t.length-5).split(",");i={r:r[0],g:r[1],b:r[2],a:1}}else if(!0===l.isValidRGBA(t)){var s=t.substr(5).substr(0,t.length-6).split(",");i={r:s[0],g:s[1],b:s[2],a:s[3]}}else if(!0===l.isValidHex(t)){var a=l.hexToRGB(t);i={r:a.r,g:a.g,b:a.b,a:1}}}else t instanceof Object&&void 0!==t.r&&void 0!==t.g&&void 0!==t.b&&(i={r:t.r,g:t.g,b:t.b,a:void 0!==t.a?t.a:"1.0"});if(void 0===i)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+(0,n.default)(t));this._setColor(i,e)}}},{key:"show",value:function(){void 0!==this.closeCallback&&(this.closeCallback(),this.closeCallback=void 0),this.applied=!1,this.frame.style.display="block",this._generateHueCircle()}},{key:"_hide",value:function(){var t=this;!0===(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&(this.previousColor=l.extend({},this.color)),!0===this.applied&&this.updateCallback(this.initialColor),this.frame.style.display="none",setTimeout(function(){void 0!==t.closeCallback&&(t.closeCallback(),t.closeCallback=void 0)},0)}},{key:"_save",value:function(){this.updateCallback(this.color),this.applied=!1,this._hide()}},{key:"_apply",value:function(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}},{key:"_loadLast",value:function(){void 0!==this.previousColor?this.setColor(this.previousColor,!1):alert("There is no last color to load...")}},{key:"_setColor",value:function(t){!0===(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&(this.initialColor=l.extend({},t)),this.color=t;var e=l.RGBToHSV(t.r,t.g,t.b),i=2*Math.PI,o=this.r*e.s,n=this.centerCoordinates.x+o*Math.sin(i*e.h),r=this.centerCoordinates.y+o*Math.cos(i*e.h);this.colorPickerSelector.style.left=n-.5*this.colorPickerSelector.clientWidth+"px",this.colorPickerSelector.style.top=r-.5*this.colorPickerSelector.clientHeight+"px",this._updatePicker(t)}},{key:"_setOpacity",value:function(t){this.color.a=t/100,this._updatePicker(this.color)}},{key:"_setBrightness",value:function(t){var e=l.RGBToHSV(this.color.r,this.color.g,this.color.b);e.v=t/100;var i=l.HSVToRGB(e.h,e.s,e.v);i.a=this.color.a,this.color=i,this._updatePicker()}},{key:"_updatePicker",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.color,e=l.RGBToHSV(t.r,t.g,t.b),i=this.colorPickerCanvas.getContext("2d");void 0===this.pixelRation&&(this.pixelRatio=(window.devicePixelRatio||1)/(i.webkitBackingStorePixelRatio||i.mozBackingStorePixelRatio||i.msBackingStorePixelRatio||i.oBackingStorePixelRatio||i.backingStorePixelRatio||1)),i.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0),i.clearRect(0,0,this.colorPickerCanvas.clientWidth,this.colorPickerCanvas.clientHeight),i.putImageData(this.hueCircle,0,0),i.fillStyle="rgba(0,0,0,"+(1-e.v)+")",i.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),i.fill(),this.brightnessRange.value=100*e.v,this.opacityRange.value=100*t.a,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}},{key:"_setSize",value:function(){this.colorPickerCanvas.style.width="100%",this.colorPickerCanvas.style.height="100%",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}},{key:"_create",value:function(){if(this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext){var t=this.colorPickerCanvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{var e=document.createElement("DIV");e.style.color="red",e.style.fontWeight="bold",e.style.padding="10px",e.innerHTML="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(e)}this.colorPickerDiv.className="vis-color",this.opacityDiv=document.createElement("div"),this.opacityDiv.className="vis-opacity",this.brightnessDiv=document.createElement("div"),this.brightnessDiv.className="vis-brightness",this.arrowDiv=document.createElement("div"),this.arrowDiv.className="vis-arrow",this.opacityRange=document.createElement("input");try{this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100"}catch(t){}this.opacityRange.value="100",this.opacityRange.className="vis-range",this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100"}catch(t){}this.brightnessRange.value="100",this.brightnessRange.className="vis-range",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);var i=this;this.opacityRange.onchange=function(){i._setOpacity(this.value)},this.opacityRange.oninput=function(){i._setOpacity(this.value)},this.brightnessRange.onchange=function(){i._setBrightness(this.value)},this.brightnessRange.oninput=function(){i._setBrightness(this.value)},this.brightnessLabel=document.createElement("div"),this.brightnessLabel.className="vis-label vis-brightness",this.brightnessLabel.innerHTML="brightness:",this.opacityLabel=document.createElement("div"),this.opacityLabel.className="vis-label vis-opacity",this.opacityLabel.innerHTML="opacity:",this.newColorDiv=document.createElement("div"),this.newColorDiv.className="vis-new-color",this.newColorDiv.innerHTML="new",this.initialColorDiv=document.createElement("div"),this.initialColorDiv.className="vis-initial-color",this.initialColorDiv.innerHTML="initial",this.cancelButton=document.createElement("div"),this.cancelButton.className="vis-button vis-cancel",this.cancelButton.innerHTML="cancel",this.cancelButton.onclick=this._hide.bind(this,!1),this.applyButton=document.createElement("div"),this.applyButton.className="vis-button vis-apply",this.applyButton.innerHTML="apply",this.applyButton.onclick=this._apply.bind(this),this.saveButton=document.createElement("div"),this.saveButton.className="vis-button vis-save",this.saveButton.innerHTML="save",this.saveButton.onclick=this._save.bind(this),this.loadButton=document.createElement("div"),this.loadButton.className="vis-button vis-load",this.loadButton.innerHTML="load last",this.loadButton.onclick=this._loadLast.bind(this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}},{key:"_bindHammer",value:function(){var t=this;this.drag={},this.pinch={},this.hammer=new a(this.colorPickerCanvas),this.hammer.get("pinch").set({enable:!0}),h.onTouch(this.hammer,function(e){t._moveSelector(e)}),this.hammer.on("tap",function(e){t._moveSelector(e)}),this.hammer.on("panstart",function(e){t._moveSelector(e)}),this.hammer.on("panmove",function(e){t._moveSelector(e)}),this.hammer.on("panend",function(e){t._moveSelector(e)})}},{key:"_generateHueCircle",value:function(){if(!1===this.generated){var t=this.colorPickerCanvas.getContext("2d");void 0===this.pixelRation&&(this.pixelRatio=(window.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1)),t.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var e=this.colorPickerCanvas.clientWidth,i=this.colorPickerCanvas.clientHeight;t.clearRect(0,0,e,i);var o=void 0,n=void 0,r=void 0,s=void 0;this.centerCoordinates={x:.5*e,y:.5*i},this.r=.49*e;var a=2*Math.PI/360,h=1/this.r,p=void 0;for(r=0;r<360;r++)for(s=0;s<this.r;s++)o=this.centerCoordinates.x+s*Math.sin(a*r),n=this.centerCoordinates.y+s*Math.cos(a*r),p=l.HSVToRGB(r*(1/360),s*h,1),t.fillStyle="rgb("+p.r+","+p.g+","+p.b+")",t.fillRect(o-.5,n-.5,2,2);t.strokeStyle="rgba(0,0,0,1)",t.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),t.stroke(),this.hueCircle=t.getImageData(0,0,e,i)}this.generated=!0}},{key:"_moveSelector",value:function(t){var e=this.colorPickerDiv.getBoundingClientRect(),i=.5*this.colorPickerDiv.clientHeight,o=.5*this.colorPickerDiv.clientWidth,n=t.center.x-e.left-o,r=t.center.y-e.top-i,s=Math.atan2(n,r),a=.98*Math.min(Math.sqrt(n*n+r*r),o),h=Math.cos(s)*a+i,p=Math.sin(s)*a+o;this.colorPickerSelector.style.top=h-.5*this.colorPickerSelector.clientHeight+"px",this.colorPickerSelector.style.left=p-.5*this.colorPickerSelector.clientWidth+"px";var u=s/(2*Math.PI);u=u<0?u+1:u;var d=a/this.r,c=l.RGBToHSV(this.color.r,this.color.g,this.color.b);c.h=u,c.s=d;var f=l.HSVToRGB(c.h,c.s,c.v);f.a=this.color.a,this.color=f,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}}]),t}();e.default=p},function(t,e,i){function o(t,e,i,o){if(!(Array.isArray(i)||i instanceof s||i instanceof a)&&i instanceof Object){var l=o;o=i,i=l}o&&o.throttleRedraw&&console.warn('Graph2d option "throttleRedraw" is DEPRICATED and no longer supported. It will be removed in the next MAJOR release.');var d=this;this.defaultOptions={start:null,end:null,autoResize:!0,orientation:{axis:"bottom",item:"bottom"},moment:n,width:null,height:null,maxHeight:null,minHeight:null},this.options=r.deepExtend({},this.defaultOptions),this._create(t),this.components=[],this.body={dom:this.dom,domProps:this.props,emitter:{on:this.on.bind(this),off:this.off.bind(this),emit:this.emit.bind(this)},hiddenDates:[],util:{toScreen:d._toScreen.bind(d),toGlobalScreen:d._toGlobalScreen.bind(d),toTime:d._toTime.bind(d),toGlobalTime:d._toGlobalTime.bind(d)}},this.range=new h(this.body),this.components.push(this.range),this.body.range=this.range,this.timeAxis=new p(this.body),this.components.push(this.timeAxis),this.currentTime=new u(this.body),this.components.push(this.currentTime),this.linegraph=new c(this.body),this.components.push(this.linegraph),this.itemsData=null,this.groupsData=null,this.on("tap",function(t){d.emit("click",d.getEventProperties(t))}),this.on("doubletap",function(t){d.emit("doubleClick",d.getEventProperties(t))}),this.dom.root.oncontextmenu=function(t){d.emit("contextmenu",d.getEventProperties(t))},o&&this.setOptions(o),i&&this.setGroups(i),e&&this.setItems(e),this._redraw()}var n=i(9),r=i(2),s=i(11),a=i(12),h=i(64),l=i(65),p=i(45),u=i(67),d=i(46),c=i(106),f=i(15).printStyle,y=i(113).allOptions,g=i(113).configureOptions,m=i(71).default,v=i(15).default;(o.prototype=new l).setOptions=function(t){!0===v.validate(t,y)&&console.log("%cErrors have been found in the supplied options object.",f),l.prototype.setOptions.call(this,t)},o.prototype.setItems=function(t){var e,i=null==this.itemsData;e=t?t instanceof s||t instanceof a?t:new s(t,{type:{start:"Date",end:"Date"}}):null,this.itemsData=e,this.linegraph&&this.linegraph.setItems(e),i&&(void 0!=this.options.start||void 0!=this.options.end?this.setWindow(void 0!=this.options.start?this.options.start:null,void 0!=this.options.end?this.options.end:null,{animation:!1}):this.fit({animation:!1}))},o.prototype.setGroups=function(t){var e;e=t?t instanceof s||t instanceof a?t:new s(t):null,this.groupsData=e,this.linegraph.setGroups(e)},o.prototype.getLegend=function(t,e,i){return void 0===e&&(e=15),void 0===i&&(i=15),void 0!==this.linegraph.groups[t]?this.linegraph.groups[t].getLegend(e,i):"cannot find group:'"+t+"'"},o.prototype.isGroupVisible=function(t){return void 0!==this.linegraph.groups[t]&&this.linegraph.groups[t].visible&&(void 0===this.linegraph.options.groups.visibility[t]||1==this.linegraph.options.groups.visibility[t])},o.prototype.getDataRange=function(){var t=null,e=null;for(var i in this.linegraph.groups)if(this.linegraph.groups.hasOwnProperty(i)&&1==this.linegraph.groups[i].visible)for(var o=0;o<this.linegraph.groups[i].itemsData.length;o++){var n=r.convert(this.linegraph.groups[i].itemsData[o].x,"Date").valueOf();t=null==t?n:t>n?n:t,e=null==e?n:e<n?n:e}return{min:null!=t?new Date(t):null,max:null!=e?new Date(e):null}},o.prototype.getEventProperties=function(t){var e=t.center?t.center.y:t.clientY,i=(t.center?t.center.x:t.clientX)-r.getAbsoluteLeft(this.dom.centerContainer),o=e-r.getAbsoluteTop(this.dom.centerContainer),n=this._toTime(i),s=d.customTimeFromTarget(t),a=r.getTarget(t),h=null;r.hasParent(a,this.timeAxis.dom.foreground)?h="axis":this.timeAxis2&&r.hasParent(a,this.timeAxis2.dom.foreground)?h="axis":r.hasParent(a,this.linegraph.yAxisLeft.dom.frame)?h="data-axis":r.hasParent(a,this.linegraph.yAxisRight.dom.frame)?h="data-axis":r.hasParent(a,this.linegraph.legendLeft.dom.frame)?h="legend":r.hasParent(a,this.linegraph.legendRight.dom.frame)?h="legend":null!=s?h="custom-time":r.hasParent(a,this.currentTime.bar)?h="current-time":r.hasParent(a,this.dom.center)&&(h="background");var l=[],p=this.linegraph.yAxisLeft,u=this.linegraph.yAxisRight;return!p.hidden&&this.itemsData.length>0&&l.push(p.screenToValue(o)),!u.hidden&&this.itemsData.length>0&&l.push(u.screenToValue(o)),{event:t,what:h,pageX:t.srcEvent?t.srcEvent.pageX:t.pageX,pageY:t.srcEvent?t.srcEvent.pageY:t.pageY,x:i,y:o,time:n,value:l}},o.prototype._createConfigurator=function(){return new m(this,this.dom.container,g)},t.exports=o},function(t,e,i){e.util=i(2),e.DOMutil=i(14),e.DataSet=i(11),e.DataView=i(12),e.Queue=i(43),e.Network=i(182),e.network={Images:i(116),dotparser:i(114),gephiParser:i(115),allOptions:i(122)},e.network.convertDot=function(t){return e.network.dotparser.DOTToGraph(t)},e.network.convertGephi=function(t,i){return e.network.gephiParser.parseGephi(t,i)},e.moment=i(9),e.Hammer=i(10),e.keycharm=i(35)},function(t,e,i){function o(t,e,i){var n=this;if(!(this instanceof o))throw new SyntaxError("Constructor must be called with the new operator");this.options={},this.defaultOptions={locale:"en",locales:l,clickToUse:!1},r.extend(this.options,this.defaultOptions),this.body={container:t,nodes:{},nodeIndices:[],edges:{},edgeIndices:[],emitter:{on:this.on.bind(this),off:this.off.bind(this),emit:this.emit.bind(this),once:this.once.bind(this)},eventListeners:{onTap:function(){},onTouch:function(){},onDoubleTap:function(){},onHold:function(){},onDragStart:function(){},onDrag:function(){},onDragEnd:function(){},onMouseWheel:function(){},onPinch:function(){},onMouseMove:function(){},onRelease:function(){},onContext:function(){}},data:{nodes:null,edges:null},functions:{createNode:function(){},createEdge:function(){},getPointer:function(){}},modules:{},view:{scale:1,translation:{x:0,y:0}}},this.bindEventListeners(),this.images=new p(function(){return n.body.emitter.emit("_requestRedraw")}),this.groups=new u,this.canvas=new m(this.body),this.selectionHandler=new w(this.body,this.canvas),this.interactionHandler=new b(this.body,this.canvas,this.selectionHandler),this.view=new v(this.body,this.canvas),this.renderer=new g(this.body,this.canvas),this.physics=new f(this.body),this.layoutEngine=new x(this.body),this.clustering=new y(this.body),this.manipulation=new _(this.body,this.canvas,this.selectionHandler),this.nodesHandler=new d(this.body,this.images,this.groups,this.layoutEngine),this.edgesHandler=new c(this.body,this.images,this.groups),this.body.modules.kamadaKawai=new P(this.body,150,.05),this.body.modules.clustering=this.clustering,this.canvas._create(),this.setOptions(i),this.setData(e)}i(183);var n=i(44),r=i(2),s=i(114),a=i(115),h=i(97),l=i(184),p=i(116).default,u=i(186).default,d=i(187).default,c=i(214).default,f=i(220).default,y=i(227).default,g=i(229).default,m=i(230).default,v=i(231).default,b=i(232).default,w=i(234).default,x=i(235).default,_=i(237).default,M=i(71).default,k=i(15).default,S=i(15).printStyle,C=i(122),E=C.allOptions,T=C.configureOptions,P=i(238).default;n(o.prototype),o.prototype.setOptions=function(t){var e=this;if(void 0!==t){if(!0===k.validate(t,E)&&console.log("%cErrors have been found in the supplied options object.",S),r.selectiveDeepExtend(["locale","locales","clickToUse"],this.options,t),t=this.layoutEngine.setOptions(t.layout,t),this.canvas.setOptions(t),this.groups.setOptions(t.groups),this.nodesHandler.setOptions(t.nodes),this.edgesHandler.setOptions(t.edges),this.physics.setOptions(t.physics),this.manipulation.setOptions(t.manipulation,t,this.options),this.interactionHandler.setOptions(t.interaction),this.renderer.setOptions(t.interaction),this.selectionHandler.setOptions(t.interaction),void 0!==t.groups&&this.body.emitter.emit("refreshNodes"),"configure"in t&&(this.configurator||(this.configurator=new M(this,this.body.container,T,this.canvas.pixelRatio)),this.configurator.setOptions(t.configure)),this.configurator&&!0===this.configurator.options.enabled){var i={nodes:{},edges:{},layout:{},interaction:{},manipulation:{},physics:{},global:{}};r.deepExtend(i.nodes,this.nodesHandler.options),r.deepExtend(i.edges,this.edgesHandler.options),r.deepExtend(i.layout,this.layoutEngine.options),r.deepExtend(i.interaction,this.selectionHandler.options),r.deepExtend(i.interaction,this.renderer.options),r.deepExtend(i.interaction,this.interactionHandler.options),r.deepExtend(i.manipulation,this.manipulation.options),r.deepExtend(i.physics,this.physics.options),r.deepExtend(i.global,this.canvas.options),r.deepExtend(i.global,this.options),this.configurator.setModuleOptions(i)}void 0!==t.clickToUse?!0===t.clickToUse?void 0===this.activator&&(this.activator=new h(this.canvas.frame),this.activator.on("change",function(){e.body.emitter.emit("activate")})):(void 0!==this.activator&&(this.activator.destroy(),delete this.activator),this.body.emitter.emit("activate")):this.body.emitter.emit("activate"),this.canvas.setSize(),this.body.emitter.emit("startSimulation")}},o.prototype._updateVisibleIndices=function(){var t=this.body.nodes,e=this.body.edges;for(var i in this.body.nodeIndices=[],this.body.edgeIndices=[],t)t.hasOwnProperty(i)&&(this.clustering._isClusteredNode(i)||!1!==t[i].options.hidden||this.body.nodeIndices.push(t[i].id));for(var o in e)if(e.hasOwnProperty(o)){var n=e[o],r=t[n.fromId],s=t[n.toId],a=void 0!==r&&void 0!==s;!this.clustering._isClusteredEdge(o)&&!1===n.options.hidden&&a&&!1===r.options.hidden&&!1===s.options.hidden&&this.body.edgeIndices.push(n.id)}},o.prototype.bindEventListeners=function(){var t=this;this.body.emitter.on("_dataChanged",function(){t.edgesHandler._updateState(),t.body.emitter.emit("_dataUpdated")}),this.body.emitter.on("_dataUpdated",function(){t.clustering._updateState(),t._updateVisibleIndices(),t._updateValueRange(t.body.nodes),t._updateValueRange(t.body.edges),t.body.emitter.emit("startSimulation"),t.body.emitter.emit("_requestRedraw")})},o.prototype.setData=function(t){if(this.body.emitter.emit("resetPhysics"),this.body.emitter.emit("_resetData"),this.selectionHandler.unselectAll(),t&&t.dot&&(t.nodes||t.edges))throw new SyntaxError('Data must contain either parameter "dot" or  parameter pair "nodes" and "edges", but not both.');if(this.setOptions(t&&t.options),t&&t.dot){console.log("The dot property has been deprecated. Please use the static convertDot method to convert DOT into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertDot(dotString);");var e=s.DOTToGraph(t.dot);this.setData(e)}else if(t&&t.gephi){console.log("The gephi property has been deprecated. Please use the static convertGephi method to convert gephi into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertGephi(gephiJson);");var i=a.parseGephi(t.gephi);this.setData(i)}else this.nodesHandler.setData(t&&t.nodes,!0),this.edgesHandler.setData(t&&t.edges,!0),this.body.emitter.emit("_dataChanged"),this.body.emitter.emit("_dataLoaded"),this.body.emitter.emit("initPhysics")},o.prototype.destroy=function(){for(var t in this.body.emitter.emit("destroy"),this.body.emitter.off(),this.off(),delete this.groups,delete this.canvas,delete this.selectionHandler,delete this.interactionHandler,delete this.view,delete this.renderer,delete this.physics,delete this.layoutEngine,delete this.clustering,delete this.manipulation,delete this.nodesHandler,delete this.edgesHandler,delete this.configurator,delete this.images,this.body.nodes)this.body.nodes.hasOwnProperty(t)&&delete this.body.nodes[t];for(var e in this.body.edges)this.body.edges.hasOwnProperty(e)&&delete this.body.edges[e];r.recursiveDOMDelete(this.body.container)},o.prototype._updateValueRange=function(t){var e,i=void 0,o=void 0,n=0;for(e in t)if(t.hasOwnProperty(e)){var r=t[e].getValue();void 0!==r&&(i=void 0===i?r:Math.min(r,i),o=void 0===o?r:Math.max(r,o),n+=r)}if(void 0!==i&&void 0!==o)for(e in t)t.hasOwnProperty(e)&&t[e].setValueRange(i,o,n)},o.prototype.isActive=function(){return!this.activator||this.activator.active},o.prototype.setSize=function(){return this.canvas.setSize.apply(this.canvas,arguments)},o.prototype.canvasToDOM=function(){return this.canvas.canvasToDOM.apply(this.canvas,arguments)},o.prototype.DOMtoCanvas=function(){return this.canvas.DOMtoCanvas.apply(this.canvas,arguments)},o.prototype.findNode=function(){return this.clustering.findNode.apply(this.clustering,arguments)},o.prototype.isCluster=function(){return this.clustering.isCluster.apply(this.clustering,arguments)},o.prototype.openCluster=function(){return this.clustering.openCluster.apply(this.clustering,arguments)},o.prototype.cluster=function(){return this.clustering.cluster.apply(this.clustering,arguments)},o.prototype.getNodesInCluster=function(){return this.clustering.getNodesInCluster.apply(this.clustering,arguments)},o.prototype.clusterByConnection=function(){return this.clustering.clusterByConnection.apply(this.clustering,arguments)},o.prototype.clusterByHubsize=function(){return this.clustering.clusterByHubsize.apply(this.clustering,arguments)},o.prototype.clusterOutliers=function(){return this.clustering.clusterOutliers.apply(this.clustering,arguments)},o.prototype.getSeed=function(){return this.layoutEngine.getSeed.apply(this.layoutEngine,arguments)},o.prototype.enableEditMode=function(){return this.manipulation.enableEditMode.apply(this.manipulation,arguments)},o.prototype.disableEditMode=function(){return this.manipulation.disableEditMode.apply(this.manipulation,arguments)},o.prototype.addNodeMode=function(){return this.manipulation.addNodeMode.apply(this.manipulation,arguments)},o.prototype.editNode=function(){return this.manipulation.editNode.apply(this.manipulation,arguments)},o.prototype.editNodeMode=function(){return console.log("Deprecated: Please use editNode instead of editNodeMode."),this.manipulation.editNode.apply(this.manipulation,arguments)},o.prototype.addEdgeMode=function(){return this.manipulation.addEdgeMode.apply(this.manipulation,arguments)},o.prototype.editEdgeMode=function(){return this.manipulation.editEdgeMode.apply(this.manipulation,arguments)},o.prototype.deleteSelected=function(){return this.manipulation.deleteSelected.apply(this.manipulation,arguments)},o.prototype.getPositions=function(){return this.nodesHandler.getPositions.apply(this.nodesHandler,arguments)},o.prototype.storePositions=function(){return this.nodesHandler.storePositions.apply(this.nodesHandler,arguments)},o.prototype.moveNode=function(){return this.nodesHandler.moveNode.apply(this.nodesHandler,arguments)},o.prototype.getBoundingBox=function(){return this.nodesHandler.getBoundingBox.apply(this.nodesHandler,arguments)},o.prototype.getConnectedNodes=function(t){return void 0!==this.body.nodes[t]?this.nodesHandler.getConnectedNodes.apply(this.nodesHandler,arguments):this.edgesHandler.getConnectedNodes.apply(this.edgesHandler,arguments)},o.prototype.getConnectedEdges=function(){return this.nodesHandler.getConnectedEdges.apply(this.nodesHandler,arguments)},o.prototype.startSimulation=function(){return this.physics.startSimulation.apply(this.physics,arguments)},o.prototype.stopSimulation=function(){return this.physics.stopSimulation.apply(this.physics,arguments)},o.prototype.stabilize=function(){return this.physics.stabilize.apply(this.physics,arguments)},o.prototype.getSelection=function(){return this.selectionHandler.getSelection.apply(this.selectionHandler,arguments)},o.prototype.setSelection=function(){return this.selectionHandler.setSelection.apply(this.selectionHandler,arguments)},o.prototype.getSelectedNodes=function(){return this.selectionHandler.getSelectedNodes.apply(this.selectionHandler,arguments)},o.prototype.getSelectedEdges=function(){return this.selectionHandler.getSelectedEdges.apply(this.selectionHandler,arguments)},o.prototype.getNodeAt=function(){var t=this.selectionHandler.getNodeAt.apply(this.selectionHandler,arguments);return void 0!==t&&void 0!==t.id?t.id:t},o.prototype.getEdgeAt=function(){var t=this.selectionHandler.getEdgeAt.apply(this.selectionHandler,arguments);return void 0!==t&&void 0!==t.id?t.id:t},o.prototype.selectNodes=function(){return this.selectionHandler.selectNodes.apply(this.selectionHandler,arguments)},o.prototype.selectEdges=function(){return this.selectionHandler.selectEdges.apply(this.selectionHandler,arguments)},o.prototype.unselectAll=function(){this.selectionHandler.unselectAll.apply(this.selectionHandler,arguments),this.redraw()},o.prototype.redraw=function(){return this.renderer.redraw.apply(this.renderer,arguments)},o.prototype.getScale=function(){return this.view.getScale.apply(this.view,arguments)},o.prototype.getViewPosition=function(){return this.view.getViewPosition.apply(this.view,arguments)},o.prototype.fit=function(){return this.view.fit.apply(this.view,arguments)},o.prototype.moveTo=function(){return this.view.moveTo.apply(this.view,arguments)},o.prototype.focus=function(){return this.view.focus.apply(this.view,arguments)},o.prototype.releaseNode=function(){return this.view.releaseNode.apply(this.view,arguments)},o.prototype.getOptionsFromConfigurator=function(){var t={};return this.configurator&&(t=this.configurator.getOptions.apply(this.configurator)),t},t.exports=o},function(t,e,i){"undefined"!=typeof CanvasRenderingContext2D&&(CanvasRenderingContext2D.prototype.circle=function(t,e,i){this.beginPath(),this.arc(t,e,i,0,2*Math.PI,!1),this.closePath()},CanvasRenderingContext2D.prototype.square=function(t,e,i){this.beginPath(),this.rect(t-i,e-i,2*i,2*i),this.closePath()},CanvasRenderingContext2D.prototype.triangle=function(t,e,i){this.beginPath(),e+=.275*(i*=1.15);var o=2*i,n=o/2,r=Math.sqrt(3)/6*o,s=Math.sqrt(o*o-n*n);this.moveTo(t,e-(s-r)),this.lineTo(t+n,e+r),this.lineTo(t-n,e+r),this.lineTo(t,e-(s-r)),this.closePath()},CanvasRenderingContext2D.prototype.triangleDown=function(t,e,i){this.beginPath(),e-=.275*(i*=1.15);var o=2*i,n=o/2,r=Math.sqrt(3)/6*o,s=Math.sqrt(o*o-n*n);this.moveTo(t,e+(s-r)),this.lineTo(t+n,e-r),this.lineTo(t-n,e-r),this.lineTo(t,e+(s-r)),this.closePath()},CanvasRenderingContext2D.prototype.star=function(t,e,i){this.beginPath(),e+=.1*(i*=.82);for(var o=0;o<10;o++){var n=o%2==0?1.3*i:.5*i;this.lineTo(t+n*Math.sin(2*o*Math.PI/10),e-n*Math.cos(2*o*Math.PI/10))}this.closePath()},CanvasRenderingContext2D.prototype.diamond=function(t,e,i){this.beginPath(),this.lineTo(t,e+i),this.lineTo(t+i,e),this.lineTo(t,e-i),this.lineTo(t-i,e),this.closePath()},CanvasRenderingContext2D.prototype.roundRect=function(t,e,i,o,n){var r=Math.PI/180;i-2*n<0&&(n=i/2),o-2*n<0&&(n=o/2),this.beginPath(),this.moveTo(t+n,e),this.lineTo(t+i-n,e),this.arc(t+i-n,e+n,n,270*r,360*r,!1),this.lineTo(t+i,e+o-n),this.arc(t+i-n,e+o-n,n,0,90*r,!1),this.lineTo(t+n,e+o),this.arc(t+n,e+o-n,n,90*r,180*r,!1),this.lineTo(t,e+n),this.arc(t+n,e+n,n,180*r,270*r,!1),this.closePath()},CanvasRenderingContext2D.prototype.ellipse_vis=function(t,e,i,o){var n=i/2*.5522848,r=o/2*.5522848,s=t+i,a=e+o,h=t+i/2,l=e+o/2;this.beginPath(),this.moveTo(t,l),this.bezierCurveTo(t,l-r,h-n,e,h,e),this.bezierCurveTo(h+n,e,s,l-r,s,l),this.bezierCurveTo(s,l+r,h+n,a,h,a),this.bezierCurveTo(h-n,a,t,l+r,t,l),this.closePath()},CanvasRenderingContext2D.prototype.database=function(t,e,i,o){var n=o*(1/3),r=i/2*.5522848,s=n/2*.5522848,a=t+i,h=e+n,l=t+i/2,p=e+n/2,u=e+(o-n/2),d=e+o;this.beginPath(),this.moveTo(a,p),this.bezierCurveTo(a,p+s,l+r,h,l,h),this.bezierCurveTo(l-r,h,t,p+s,t,p),this.bezierCurveTo(t,p-s,l-r,e,l,e),this.bezierCurveTo(l+r,e,a,p-s,a,p),this.lineTo(a,u),this.bezierCurveTo(a,u+s,l+r,d,l,d),this.bezierCurveTo(l-r,d,t,u+s,t,u),this.lineTo(t,p)},CanvasRenderingContext2D.prototype.dashedLine=function(t,e,i,o,n){this.beginPath(),this.moveTo(t,e);for(var r=n.length,s=i-t,a=o-e,h=a/s,l=Math.sqrt(s*s+a*a),p=0,u=!0,d=0,c=n[0];l>=.1;)(c=n[p++%r])>l&&(c=l),d=Math.sqrt(c*c/(1+h*h)),t+=d=s<0?-d:d,e+=h*d,!0===u?this.lineTo(t,e):this.moveTo(t,e),l-=c,u=!u},CanvasRenderingContext2D.prototype.hexagon=function(t,e,i){this.beginPath();var o=2*Math.PI/6;this.moveTo(t+i,e);for(var n=1;n<6;n++)this.lineTo(t+i*Math.cos(o*n),e+i*Math.sin(o*n));this.closePath()})},function(t,e,i){e.en={edit:"Edit",del:"Delete selected",back:"Back",addNode:"Add Node",addEdge:"Add Edge",editNode:"Edit Node",editEdge:"Edit Edge",addDescription:"Click in an empty space to place a new node.",edgeDescription:"Click on a node and drag the edge to another node to connect them.",editEdgeDescription:"Click on the control points and drag them to a node to connect to it.",createEdgeError:"Cannot link edges to a cluster.",deleteClusterError:"Clusters cannot be deleted.",editClusterError:"Clusters cannot be edited."},e.en_EN=e.en,e.en_US=e.en,e.de={edit:"Editieren",del:"L\xf6sche Auswahl",back:"Zur\xfcck",addNode:"Knoten hinzuf\xfcgen",addEdge:"Kante hinzuf\xfcgen",editNode:"Knoten editieren",editEdge:"Kante editieren",addDescription:"Klicke auf eine freie Stelle, um einen neuen Knoten zu plazieren.",edgeDescription:"Klicke auf einen Knoten und ziehe die Kante zu einem anderen Knoten, um diese zu verbinden.",editEdgeDescription:"Klicke auf die Verbindungspunkte und ziehe diese auf einen Knoten, um sie zu verbinden.",createEdgeError:"Es ist nicht m\xf6glich, Kanten mit Clustern zu verbinden.",deleteClusterError:"Cluster k\xf6nnen nicht gel\xf6scht werden.",editClusterError:"Cluster k\xf6nnen nicht editiert werden."},e.de_DE=e.de,e.es={edit:"Editar",del:"Eliminar selecci\xf3n",back:"\xc1tras",addNode:"A\xf1adir nodo",addEdge:"A\xf1adir arista",editNode:"Editar nodo",editEdge:"Editar arista",addDescription:"Haga clic en un lugar vac\xedo para colocar un nuevo nodo.",edgeDescription:"Haga clic en un nodo y arrastre la arista hacia otro nodo para conectarlos.",editEdgeDescription:"Haga clic en un punto de control y arrastrelo a un nodo para conectarlo.",createEdgeError:"No se puede conectar una arista a un grupo.",deleteClusterError:"No es posible eliminar grupos.",editClusterError:"No es posible editar grupos."},e.es_ES=e.es,e.it={edit:"Modifica",del:"Cancella la selezione",back:"Indietro",addNode:"Aggiungi un nodo",addEdge:"Aggiungi un vertice",editNode:"Modifica il nodo",editEdge:"Modifica il vertice",addDescription:"Clicca per aggiungere un nuovo nodo",edgeDescription:"Clicca su un nodo e trascinalo ad un altro nodo per connetterli.",editEdgeDescription:"Clicca sui Punti di controllo e trascinali ad un nodo per connetterli.",createEdgeError:"Non si possono collegare vertici ad un cluster",deleteClusterError:"I cluster non possono essere cancellati",editClusterError:"I clusters non possono essere modificati."},e.it_IT=e.it,e.nl={edit:"Wijzigen",del:"Selectie verwijderen",back:"Terug",addNode:"Node toevoegen",addEdge:"Link toevoegen",editNode:"Node wijzigen",editEdge:"Link wijzigen",addDescription:"Klik op een leeg gebied om een nieuwe node te maken.",edgeDescription:"Klik op een node en sleep de link naar een andere node om ze te verbinden.",editEdgeDescription:"Klik op de verbindingspunten en sleep ze naar een node om daarmee te verbinden.",createEdgeError:"Kan geen link maken naar een cluster.",deleteClusterError:"Clusters kunnen niet worden verwijderd.",editClusterError:"Clusters kunnen niet worden aangepast."},e.nl_NL=e.nl,e.nl_BE=e.nl,e["pt-br"]={edit:"Editar",del:"Remover selecionado",back:"Voltar",addNode:"Adicionar n\xf3",addEdge:"Adicionar aresta",editNode:"Editar n\xf3",editEdge:"Editar aresta",addDescription:"Clique em um espa\xe7o em branco para adicionar um novo n\xf3",edgeDescription:"Clique em um n\xf3 e arraste a aresta at\xe9 outro n\xf3 para conect\xe1-los",editEdgeDescription:"Clique nos pontos de controle e os arraste para um n\xf3 para conect\xe1-los",createEdgeError:"N\xe3o foi poss\xedvel linkar arestas a um cluster.",deleteClusterError:"Clusters n\xe3o puderam ser removidos.",editClusterError:"Clusters n\xe3o puderam ser editados."},e["pt-BR"]=e["pt-br"],e.pt_BR=e["pt-br"],e.pt_br=e["pt-br"],e.ru={edit:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",del:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u043e\u0435",back:"\u041d\u0430\u0437\u0430\u0434",addNode:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0443\u0437\u0435\u043b",addEdge:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0440\u0435\u0431\u0440\u043e",editNode:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0443\u0437\u0435\u043b",editEdge:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0440\u0435\u0431\u0440\u043e",addDescription:"\u041a\u043b\u0438\u043a\u043d\u0438\u0442\u0435 \u0432 \u0441\u0432\u043e\u0431\u043e\u0434\u043d\u043e\u0435 \u043c\u0435\u0441\u0442\u043e, \u0447\u0442\u043e\u0431\u044b \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u044b\u0439 \u0443\u0437\u0435\u043b.",edgeDescription:"\u041a\u043b\u0438\u043a\u043d\u0438\u0442\u0435 \u043d\u0430 \u0443\u0437\u0435\u043b \u0438 \u043f\u0440\u043e\u0442\u044f\u043d\u0438\u0442\u0435 \u0440\u0435\u0431\u0440\u043e \u043a \u0434\u0440\u0443\u0433\u043e\u043c\u0443 \u0443\u0437\u043b\u0443, \u0447\u0442\u043e\u0431\u044b \u0441\u043e\u0435\u0434\u0438\u043d\u0438\u0442\u044c \u0438\u0445.",editEdgeDescription:"\u041a\u043b\u0438\u043a\u043d\u0438\u0442\u0435 \u043d\u0430 \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u044c\u043d\u044b\u0435 \u0442\u043e\u0447\u043a\u0438 \u0438 \u043f\u0435\u0440\u0435\u0442\u0430\u0449\u0438\u0442\u0435 \u0438\u0445 \u0432 \u0443\u0437\u0435\u043b, \u0447\u0442\u043e\u0431\u044b \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0438\u0442\u044c\u0441\u044f \u043a \u043d\u0435\u043c\u0443.",createEdgeError:"\u041d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0441\u043e\u0435\u0434\u0438\u043d\u0438\u0442\u044c \u0440\u0435\u0431\u0440\u0430 \u0432 \u043a\u043b\u0430\u0441\u0442\u0435\u0440.",deleteClusterError:"\u041a\u043b\u0430\u0441\u0442\u0435\u0440\u044b \u043d\u0435 \u043c\u043e\u0433\u0443\u0442 \u0431\u044b\u0442\u044c \u0443\u0434\u0430\u043b\u0435\u043d\u044b",editClusterError:"\u041a\u043b\u0430\u0441\u0442\u0435\u0440\u044b \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b \u0434\u043b\u044f \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f."},e.ru_RU=e.ru,e.cn={edit:"\u7f16\u8f91",del:"\u5220\u9664\u9009\u5b9a",back:"\u8fd4\u56de",addNode:"\u6dfb\u52a0\u8282\u70b9",addEdge:"\u6dfb\u52a0\u8fde\u63a5\u7ebf",editNode:"\u7f16\u8f91\u8282\u70b9",editEdge:"\u7f16\u8f91\u8fde\u63a5\u7ebf",addDescription:"\u5355\u51fb\u7a7a\u767d\u5904\u653e\u7f6e\u65b0\u8282\u70b9\u3002",edgeDescription:"\u5355\u51fb\u67d0\u4e2a\u8282\u70b9\u5e76\u5c06\u8be5\u8fde\u63a5\u7ebf\u62d6\u52a8\u5230\u53e6\u4e00\u4e2a\u8282\u70b9\u4ee5\u8fde\u63a5\u5b83\u4eec\u3002",editEdgeDescription:"\u5355\u51fb\u63a7\u5236\u8282\u70b9\u5e76\u5c06\u5b83\u4eec\u62d6\u5230\u8282\u70b9\u4e0a\u8fde\u63a5\u3002",createEdgeError:"\u65e0\u6cd5\u5c06\u8fde\u63a5\u7ebf\u8fde\u63a5\u5230\u7fa4\u96c6\u3002",deleteClusterError:"\u65e0\u6cd5\u5220\u9664\u7fa4\u96c6\u3002",editClusterError:"\u65e0\u6cd5\u7f16\u8f91\u7fa4\u96c6\u3002"},e.zh_CN=e.cn},function(t,e,i){function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=o(i(0)),r=o(i(1)),s=function(){function t(){(0,n.default)(this,t),this.NUM_ITERATIONS=4,this.image=new Image,this.canvas=document.createElement("canvas")}return(0,r.default)(t,[{key:"init",value:function(){if(!this.initialized()){this.src=this.image.src;var t=this.image.width,e=this.image.height;this.width=t,this.height=e;var i=Math.floor(e/2),o=Math.floor(e/4),n=Math.floor(e/8),r=Math.floor(e/16),s=Math.floor(t/2),a=Math.floor(t/4),h=Math.floor(t/8),l=Math.floor(t/16);this.canvas.width=3*a,this.canvas.height=i,this.coordinates=[[0,0,s,i],[s,0,a,o],[s,o,h,n],[5*h,o,l,r]],this._fillMipMap()}}},{key:"initialized",value:function(){return void 0!==this.coordinates}},{key:"_fillMipMap",value:function(){var t=this.canvas.getContext("2d"),e=this.coordinates[0];t.drawImage(this.image,e[0],e[1],e[2],e[3]);for(var i=1;i<this.NUM_ITERATIONS;i++){var o=this.coordinates[i-1],n=this.coordinates[i];t.drawImage(this.canvas,o[0],o[1],o[2],o[3],n[0],n[1],n[2],n[3])}}},{key:"drawImageAtPosition",value:function(t,e,i,o,n,r){if(this.initialized())if(e>2){e*=.5;for(var s=0;e>2&&s<this.NUM_ITERATIONS;)e*=.5,s+=1;s>=this.NUM_ITERATIONS&&(s=this.NUM_ITERATIONS-1);var a=this.coordinates[s];t.drawImage(this.canvas,a[0],a[1],a[2],a[3],i,o,n,r)}else t.drawImage(this.image,i,o,n,r)}}]),t}();e.default=s},function(t,e,i){function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=o(i(0)),r=o(i(1)),s=i(2),a=function(){function t(){(0,n.default)(this,t),this.clear(),this.defaultIndex=0,this.groupsArray=[],this.groupIndex=0,this.defaultGroups=[{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},{border:"#FFA500",background:"#FFFF00",highlight:{border:"#FFA500",background:"#FFFFA3"},hover:{border:"#FFA500",background:"#FFFFA3"}},{border:"#FA0A10",background:"#FB7E81",highlight:{border:"#FA0A10",background:"#FFAFB1"},hover:{border:"#FA0A10",background:"#FFAFB1"}},{border:"#41A906",background:"#7BE141",highlight:{border:"#41A906",background:"#A1EC76"},hover:{border:"#41A906",background:"#A1EC76"}},{border:"#E129F0",background:"#EB7DF4",highlight:{border:"#E129F0",background:"#F0B3F5"},hover:{border:"#E129F0",background:"#F0B3F5"}},{border:"#7C29F0",background:"#AD85E4",highlight:{border:"#7C29F0",background:"#D3BDF0"},hover:{border:"#7C29F0",background:"#D3BDF0"}},{border:"#C37F00",background:"#FFA807",highlight:{border:"#C37F00",background:"#FFCA66"},hover:{border:"#C37F00",background:"#FFCA66"}},{border:"#4220FB",background:"#6E6EFD",highlight:{border:"#4220FB",background:"#9B9BFD"},hover:{border:"#4220FB",background:"#9B9BFD"}},{border:"#FD5A77",background:"#FFC0CB",highlight:{border:"#FD5A77",background:"#FFD1D9"},hover:{border:"#FD5A77",background:"#FFD1D9"}},{border:"#4AD63A",background:"#C2FABC",highlight:{border:"#4AD63A",background:"#E6FFE3"},hover:{border:"#4AD63A",background:"#E6FFE3"}},{border:"#990000",background:"#EE0000",highlight:{border:"#BB0000",background:"#FF3333"},hover:{border:"#BB0000",background:"#FF3333"}},{border:"#FF6000",background:"#FF6000",highlight:{border:"#FF6000",background:"#FF6000"},hover:{border:"#FF6000",background:"#FF6000"}},{border:"#97C2FC",background:"#2B7CE9",highlight:{border:"#D2E5FF",background:"#2B7CE9"},hover:{border:"#D2E5FF",background:"#2B7CE9"}},{border:"#399605",background:"#255C03",highlight:{border:"#399605",background:"#255C03"},hover:{border:"#399605",background:"#255C03"}},{border:"#B70054",background:"#FF007E",highlight:{border:"#B70054",background:"#FF007E"},hover:{border:"#B70054",background:"#FF007E"}},{border:"#AD85E4",background:"#7C29F0",highlight:{border:"#D3BDF0",background:"#7C29F0"},hover:{border:"#D3BDF0",background:"#7C29F0"}},{border:"#4557FA",background:"#000EA1",highlight:{border:"#6E6EFD",background:"#000EA1"},hover:{border:"#6E6EFD",background:"#000EA1"}},{border:"#FFC0CB",background:"#FD5A77",highlight:{border:"#FFD1D9",background:"#FD5A77"},hover:{border:"#FFD1D9",background:"#FD5A77"}},{border:"#C2FABC",background:"#74D66A",highlight:{border:"#E6FFE3",background:"#74D66A"},hover:{border:"#E6FFE3",background:"#74D66A"}},{border:"#EE0000",background:"#990000",highlight:{border:"#FF3333",background:"#BB0000"},hover:{border:"#FF3333",background:"#BB0000"}}],this.options={},this.defaultOptions={useDefaultGroups:!0},s.extend(this.options,this.defaultOptions)}return(0,r.default)(t,[{key:"setOptions",value:function(t){var e=["useDefaultGroups"];if(void 0!==t)for(var i in t)t.hasOwnProperty(i)&&-1===e.indexOf(i)&&this.add(i,t[i])}},{key:"clear",value:function(){this.groups={},this.groupsArray=[]}},{key:"get",value:function(t){var e=this.groups[t];if(void 0===e&&(!(arguments.length>1&&void 0!==arguments[1])||arguments[1]))if(!1===this.options.useDefaultGroups&&this.groupsArray.length>0){var i=this.groupIndex%this.groupsArray.length;this.groupIndex++,(e={}).color=this.groups[this.groupsArray[i]],this.groups[t]=e}else{var o=this.defaultIndex%this.defaultGroups.length;this.defaultIndex++,(e={}).color=this.defaultGroups[o],this.groups[t]=e}return e}},{key:"add",value:function(t,e){return this.groups[t]=e,this.groupsArray.push(t),e}}]),t}();e.default=a},function(t,e,i){function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=o(i(0)),r=o(i(1)),s=i(2),a=i(11),h=i(12),l=i(47).default,p=function(){function t(e,i,o,r){var a=this;if((0,n.default)(this,t),this.body=e,this.images=i,this.groups=o,this.layoutEngine=r,this.body.functions.createNode=this.create.bind(this),this.nodesListeners={add:function(t,e){a.add(e.items)},update:function(t,e){a.update(e.items,e.data,e.oldData)},remove:function(t,e){a.remove(e.items)}},this.defaultOptions={borderWidth:1,borderWidthSelected:2,brokenImage:void 0,color:{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},fixed:{x:!1,y:!1},font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:0,strokeColor:"#ffffff",align:"center",vadjust:0,multi:!1,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"monospace",vadjust:2}},group:void 0,hidden:!1,icon:{face:"FontAwesome",code:void 0,size:50,color:"#2B7CE9"},image:void 0,label:void 0,labelHighlightBold:!0,level:void 0,margin:{top:5,right:5,bottom:5,left:5},mass:1,physics:!0,scaling:{min:10,max:30,label:{enabled:!1,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(t,e,i,o){return e===t?.5:Math.max(0,1/(e-t)*(o-t))}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},shape:"ellipse",shapeProperties:{borderDashes:!1,borderRadius:6,interpolation:!0,useImageSize:!1,useBorderWithImage:!1},size:25,title:void 0,value:void 0,x:void 0,y:void 0},this.defaultOptions.mass<=0)throw"Internal error: mass in defaultOptions of NodesHandler may not be zero or negative";this.options=s.bridgeObject(this.defaultOptions),this.bindEventListeners()}return(0,r.default)(t,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.on("refreshNodes",this.refresh.bind(this)),this.body.emitter.on("refresh",this.refresh.bind(this)),this.body.emitter.on("destroy",function(){s.forEach(t.nodesListeners,function(e,i){t.body.data.nodes&&t.body.data.nodes.off(i,e)}),delete t.body.functions.createNode,delete t.nodesListeners.add,delete t.nodesListeners.update,delete t.nodesListeners.remove,delete t.nodesListeners})}},{key:"setOptions",value:function(t){if(void 0!==t){if(l.parseOptions(this.options,t),void 0!==t.shape)for(var e in this.body.nodes)this.body.nodes.hasOwnProperty(e)&&this.body.nodes[e].updateShape();if(void 0!==t.font)for(var i in this.body.nodes)this.body.nodes.hasOwnProperty(i)&&(this.body.nodes[i].updateLabelModule(),this.body.nodes[i].needsRefresh());if(void 0!==t.size)for(var o in this.body.nodes)this.body.nodes.hasOwnProperty(o)&&this.body.nodes[o].needsRefresh();void 0===t.hidden&&void 0===t.physics||this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.body.data.nodes;if(t instanceof a||t instanceof h)this.body.data.nodes=t;else if(Array.isArray(t))this.body.data.nodes=new a,this.body.data.nodes.add(t);else{if(t)throw new TypeError("Array or DataSet expected");this.body.data.nodes=new a}if(i&&s.forEach(this.nodesListeners,function(t,e){i.off(e,t)}),this.body.nodes={},this.body.data.nodes){var o=this;s.forEach(this.nodesListeners,function(t,e){o.body.data.nodes.on(e,t)});var n=this.body.data.nodes.getIds();this.add(n,!0)}!1===e&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=void 0,o=[],n=0;n<t.length;n++){var r=this.body.data.nodes.get(i=t[n]),s=this.create(r);o.push(s),this.body.nodes[i]=s}this.layoutEngine.positionInitially(o),!1===e&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function(t,e,i){for(var o=this.body.nodes,n=!1,r=0;r<t.length;r++){var s=t[r],a=o[s],h=e[r];void 0!==a?a.setOptions(h)&&(n=!0):(n=!0,a=this.create(h),o[s]=a)}n||void 0===i||(n=e.some(function(t,e){var o=i[e];return o&&o.level!==t.level})),this.body.emitter.emit(!0===n?"_dataChanged":"_dataUpdated")}},{key:"remove",value:function(t){for(var e=this.body.nodes,i=0;i<t.length;i++)delete e[t[i]];this.body.emitter.emit("_dataChanged")}},{key:"create",value:function(t){return new(arguments.length>1&&void 0!==arguments[1]?arguments[1]:l)(t,this.body,this.images,this.groups,this.options,this.defaultOptions)}},{key:"refresh",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];s.forEach(this.body.nodes,function(i,o){var n=t.body.data.nodes.get(o);void 0!==n&&(!0===e&&i.setOptions({x:null,y:null}),i.setOptions({fixed:!1}),i.setOptions(n))})}},{key:"getPositions",value:function(t){var e={};if(void 0!==t){if(!0===Array.isArray(t)){for(var i=0;i<t.length;i++)if(void 0!==this.body.nodes[t[i]]){var o=this.body.nodes[t[i]];e[t[i]]={x:Math.round(o.x),y:Math.round(o.y)}}}else if(void 0!==this.body.nodes[t]){var n=this.body.nodes[t];e[t]={x:Math.round(n.x),y:Math.round(n.y)}}}else for(var r=0;r<this.body.nodeIndices.length;r++){var s=this.body.nodes[this.body.nodeIndices[r]];e[this.body.nodeIndices[r]]={x:Math.round(s.x),y:Math.round(s.y)}}return e}},{key:"storePositions",value:function(){var t=[],e=this.body.data.nodes.getDataSet();for(var i in e._data)if(e._data.hasOwnProperty(i)){var o=this.body.nodes[i];e._data[i].x==Math.round(o.x)&&e._data[i].y==Math.round(o.y)||t.push({id:o.id,x:Math.round(o.x),y:Math.round(o.y)})}e.update(t)}},{key:"getBoundingBox",value:function(t){if(void 0!==this.body.nodes[t])return this.body.nodes[t].shape.boundingBox}},{key:"getConnectedNodes",value:function(t,e){var i=[];if(void 0!==this.body.nodes[t])for(var o=this.body.nodes[t],n={},r=0;r<o.edges.length;r++){var s=o.edges[r];"to"!==e&&s.toId==o.id?void 0===n[s.fromId]&&(i.push(s.fromId),n[s.fromId]=!0):"from"!==e&&s.fromId==o.id&&void 0===n[s.toId]&&(i.push(s.toId),n[s.toId]=!0)}return i}},{key:"getConnectedEdges",value:function(t){var e=[];if(void 0!==this.body.nodes[t])for(var i=this.body.nodes[t],o=0;o<i.edges.length;o++)e.push(i.edges[o].id);else console.log("NodeId provided for getConnectedEdges does not exist. Provided: ",t);return e}},{key:"moveNode",value:function(t,e,i){var o=this;void 0!==this.body.nodes[t]?(this.body.nodes[t].x=Number(e),this.body.nodes[t].y=Number(i),setTimeout(function(){o.body.emitter.emit("startSimulation")},0)):console.log("Node id supplied to moveNode does not exist. Provided: ",t)}}]),t}();e.default=p},function(t,e,i){t.exports={default:i(189),__esModule:!0}},function(t,e,i){i(49),i(60),t.exports=i(190)},function(t,e,i){var o=i(86),n=i(13)("iterator"),r=i(31);t.exports=i(7).isIterable=function(t){var e=Object(t);return void 0!==e[n]||"@@iterator"in e||r.hasOwnProperty(o(e))}},function(t,e,i){function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=o(i(0)),r=o(i(1)),s=i(192).default,a=i(48).default,h=function(){function t(e,i,o,r){var a=this;(0,n.default)(this,t),this.ctx=e,this.parent=i,this.lines=new s(function(t,i){if(void 0===t)return 0;var n=a.parent.getFormattingValues(e,o,r,i),s=0;return""!==t&&(s=a.ctx.measureText(t).width),{width:s,values:n}})}return(0,r.default)(t,[{key:"process",value:function(t){if(!a.isValidLabel(t))return this.lines.finalize();var e=this.parent.fontOptions;t=(t=t.replace(/\r\n/g,"\n")).replace(/\r/g,"\n");var i=String(t).split("\n"),o=i.length;if(e.multi)for(var n=0;n<o;n++){var r=this.splitBlocks(i[n],e.multi);if(void 0!==r)if(0!==r.length){if(e.maxWdt>0)for(var s=0;s<r.length;s++)this.splitStringIntoLines(r[s].text,r[s].mod,!0);else for(var h=0;h<r.length;h++)this.lines.append(r[h].text,r[h].mod);this.lines.newLine()}else this.lines.newLine("")}else if(e.maxWdt>0)for(var l=0;l<o;l++)this.splitStringIntoLines(i[l]);else for(var p=0;p<o;p++)this.lines.newLine(i[p]);return this.lines.finalize()}},{key:"decodeMarkupSystem",value:function(t){var e="none";return"markdown"===t||"md"===t?e="markdown":!0!==t&&"html"!==t||(e="html"),e}},{key:"splitHtmlBlocks",value:function(t){for(var e=[],i={bold:!1,ital:!1,mono:!1,spacing:!1,position:0,buffer:"",modStack:[],mod:function(){return 0===this.modStack.length?"normal":this.modStack[0]},modName:function(){return 0===this.modStack.length?"normal":"mono"===this.modStack[0]?"mono":i.bold&&i.ital?"boldital":i.bold?"bold":i.ital?"ital":void 0},emitBlock:function(){this.spacing&&(this.add(" "),this.spacing=!1),this.buffer.length>0&&(e.push({text:this.buffer,mod:this.modName()}),this.buffer="")},add:function(t){" "===t&&(i.spacing=!0),i.spacing&&(this.buffer+=" ",this.spacing=!1)," "!=t&&(this.buffer+=t)}};i.position<t.length;){var o=t.charAt(i.position);/[ \t]/.test(o)?i.mono?i.add(o):i.spacing=!0:/</.test(o)?i.mono||i.bold||!/<b>/.test(t.substr(i.position,3))?i.mono||i.ital||!/<i>/.test(t.substr(i.position,3))?!i.mono&&/<code>/.test(t.substr(i.position,6))?(i.emitBlock(),i.mono=!0,i.modStack.unshift("mono"),i.position+=5):!i.mono&&"bold"===i.mod()&&/<\/b>/.test(t.substr(i.position,4))?(i.emitBlock(),i.bold=!1,i.modStack.shift(),i.position+=3):!i.mono&&"ital"===i.mod()&&/<\/i>/.test(t.substr(i.position,4))?(i.emitBlock(),i.ital=!1,i.modStack.shift(),i.position+=3):"mono"===i.mod()&&/<\/code>/.test(t.substr(i.position,7))?(i.emitBlock(),i.mono=!1,i.modStack.shift(),i.position+=6):i.add(o):(i.emitBlock(),i.ital=!0,i.modStack.unshift("ital"),i.position+=2):(i.emitBlock(),i.bold=!0,i.modStack.unshift("bold"),i.position+=2):/&/.test(o)?/&lt;/.test(t.substr(i.position,4))?(i.add("<"),i.position+=3):/&amp;/.test(t.substr(i.position,5))?(i.add("&"),i.position+=4):i.add("&"):i.add(o),i.position++}return i.emitBlock(),e}},{key:"splitMarkdownBlocks",value:function(t){for(var e=[],i={bold:!1,ital:!1,mono:!1,beginable:!0,spacing:!1,position:0,buffer:"",modStack:[],mod:function(){return 0===this.modStack.length?"normal":this.modStack[0]},modName:function(){return 0===this.modStack.length?"normal":"mono"===this.modStack[0]?"mono":i.bold&&i.ital?"boldital":i.bold?"bold":i.ital?"ital":void 0},emitBlock:function(){this.spacing&&(this.add(" "),this.spacing=!1),this.buffer.length>0&&(e.push({text:this.buffer,mod:this.modName()}),this.buffer="")},add:function(t){" "===t&&(i.spacing=!0),i.spacing&&(this.buffer+=" ",this.spacing=!1)," "!=t&&(this.buffer+=t)}};i.position<t.length;){var o=t.charAt(i.position);/[ \t]/.test(o)?(i.mono?i.add(o):i.spacing=!0,i.beginable=!0):/\\/.test(o)?i.position<t.length+1&&(i.position++,o=t.charAt(i.position),/ \t/.test(o)?i.spacing=!0:(i.add(o),i.beginable=!1)):i.mono||i.bold||!i.beginable&&!i.spacing||!/\*/.test(o)?i.mono||i.ital||!i.beginable&&!i.spacing||!/\_/.test(o)?!i.mono&&(i.beginable||i.spacing)&&/`/.test(o)?(i.emitBlock(),i.mono=!0,i.modStack.unshift("mono")):!i.mono&&"bold"===i.mod()&&/\*/.test(o)?i.position===t.length-1||/[.,_` \t\n]/.test(t.charAt(i.position+1))?(i.emitBlock(),i.bold=!1,i.modStack.shift()):i.add(o):!i.mono&&"ital"===i.mod()&&/\_/.test(o)?i.position===t.length-1||/[.,*` \t\n]/.test(t.charAt(i.position+1))?(i.emitBlock(),i.ital=!1,i.modStack.shift()):i.add(o):i.mono&&"mono"===i.mod()&&/`/.test(o)?i.position===t.length-1||/[.,*_ \t\n]/.test(t.charAt(i.position+1))?(i.emitBlock(),i.mono=!1,i.modStack.shift()):i.add(o):(i.add(o),i.beginable=!1):(i.emitBlock(),i.ital=!0,i.modStack.unshift("ital")):(i.emitBlock(),i.bold=!0,i.modStack.unshift("bold")),i.position++}return i.emitBlock(),e}},{key:"splitBlocks",value:function(t,e){var i=this.decodeMarkupSystem(e);return"none"===i?[{text:t,mod:"normal"}]:"markdown"===i?this.splitMarkdownBlocks(t):"html"===i?this.splitHtmlBlocks(t):void 0}},{key:"overMaxWidth",value:function(t){var e=this.ctx.measureText(t).width;return this.lines.curWidth()+e>this.parent.fontOptions.maxWdt}},{key:"getLongestFit",value:function(t){for(var e="",i=0;i<t.length;){var o=e+(""===e?"":" ")+t[i];if(this.overMaxWidth(o))break;e=o,i++}return i}},{key:"getLongestFitWord",value:function(t){for(var e=0;e<t.length&&!this.overMaxWidth(t.slice(0,e));)e++;return e}},{key:"splitStringIntoLines",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal",i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=(t=(t=t.replace(/^( +)/g,"$1\r")).replace(/([^\r][^ ]*)( +)/g,"$1\r$2\r")).split("\r");o.length>0;){var n=this.getLongestFit(o);if(0===n){var r=o[0],s=this.getLongestFitWord(r);this.lines.newLine(r.slice(0,s),e),o[0]=r.slice(s)}else{var a=n;" "===o[n-1]?n--:" "===o[a]&&a++;var h=o.slice(0,n).join("");n==o.length&&i?this.lines.append(h,e):this.lines.newLine(h,e),o=o.slice(a)}}}}]),t}();e.default=h},function(t,e,i){function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=o(i(90)),r=o(i(0)),s=o(i(1)),a=function(){function t(e){(0,r.default)(this,t),this.measureText=e,this.current=0,this.width=0,this.height=0,this.lines=[]}return(0,s.default)(t,[{key:"_add",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"normal";void 0===this.lines[t]&&(this.lines[t]={width:0,height:0,blocks:[]});var o=e;void 0!==e&&""!==e||(o=" ");var r=this.measureText(o,i),s=(0,n.default)({},r.values);s.text=e,s.width=r.width,s.mod=i,void 0!==e&&""!==e||(s.width=0),this.lines[t].blocks.push(s),this.lines[t].width+=s.width}},{key:"curWidth",value:function(){var t=this.lines[this.current];return void 0===t?0:t.width}},{key:"append",value:function(t){this._add(this.current,t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal")}},{key:"newLine",value:function(t){this._add(this.current,t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal"),this.current++}},{key:"determineLineHeights",value:function(){for(var t=0;t<this.lines.length;t++){var e=this.lines[t],i=0;if(void 0!==e.blocks)for(var o=0;o<e.blocks.length;o++){var n=e.blocks[o];i<n.height&&(i=n.height)}e.height=i}}},{key:"determineLabelSize",value:function(){for(var t=0,e=0,i=0;i<this.lines.length;i++){var o=this.lines[i];o.width>t&&(t=o.width),e+=o.height}this.width=t,this.height=e}},{key:"removeEmptyBlocks",value:function(){for(var t=[],e=0;e<this.lines.length;e++){var i=this.lines[e];if(0!==i.blocks.length&&(e!==this.lines.length-1||0!==i.width)){var o={};(0,n.default)(o,i),o.blocks=[];for(var r=void 0,s=[],a=0;a<i.blocks.length;a++){var h=i.blocks[a];0!==h.width?s.push(h):void 0===r&&(r=h)}0===s.length&&void 0!==r&&s.push(r),o.blocks=s,t.push(o)}}return t}},{key:"finalize",value:function(){this.determineLineHeights(),this.determineLabelSize();var t=this.removeEmptyBlocks();return{width:this.width,height:this.height,lines:t}}}]),t}();e.default=a},function(t,e,i){function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=o(i(3)),r=o(i(0)),s=o(i(1)),a=o(i(4)),h=o(i(5)),l=o(i(23)),p=function(t){function e(t,i,o){(0,r.default)(this,e);var s=(0,a.default)(this,(e.__proto__||(0,n.default)(e)).call(this,t,i,o));return s._setMargins(o),s}return(0,h.default)(e,l.default),(0,s.default)(e,[{key:"resize",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(this.needsRefresh(e,i)){var o=this.getDimensionsFromLabel(t,e,i);this.width=o.width+this.margin.right+this.margin.left,this.height=o.height+this.margin.top+this.margin.bottom,this.radius=this.width/2}}},{key:"draw",value:function(t,e,i,o,n,r){this.resize(t,o,n),this.left=e-this.width/2,this.top=i-this.height/2,this.initContextForDraw(t,r),t.roundRect(this.left,this.top,this.width,this.height,r.borderRadius),this.performFill(t,r),this.updateBoundingBox(e,i,t,o,n),this.labelModule.draw(t,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,o,n)}},{key:"updateBoundingBox",value:function(t,e,i,o,n){this._updateBoundingBox(t,e,i,o,n),this._addBoundingBoxMargin(this.options.shapeProperties.borderRadius)}},{key:"distanceToBorder",value:function(t,e){this.resize(t);var i=this.options.borderWidth;return Math.min(Math.abs(this.width/2/Math.cos(e)),Math.abs(this.height/2/Math.sin(e)))+i}}]),e}();e.default=p},function(t,e,i){i(195),t.exports=i(7).Object.getPrototypeOf},function(t,e,i){var o=i(41),n=i(85);i(87)("getPrototypeOf",function(){return function(t){return n(o(t))}})},function(t,e,i){t.exports={default:i(197),__esModule:!0}},function(t,e,i){i(198),t.exports=i(7).Object.setPrototypeOf},function(t,e,i){var o=i(17);o(o.S,"Object",{setPrototypeOf:i(199).set})},function(t,e,i){var o=i(32),n=i(27),r=function(t,e){if(n(t),!o(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,o){try{(o=i(80)(Function.call,i(89).f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,i){return r(t,i),e?t.__proto__=i:o(t,i),t}}({},!1):void 0),check:r}},function(t,e,i){function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=o(i(3)),r=o(i(0)),s=o(i(1)),a=o(i(4)),h=o(i(5)),l=o(i(73)),p=function(t){function e(t,i,o){(0,r.default)(this,e);var s=(0,a.default)(this,(e.__proto__||(0,n.default)(e)).call(this,t,i,o));return s._setMargins(o),s}return(0,h.default)(e,l.default),(0,s.default)(e,[{key:"resize",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(this.needsRefresh(e,i)){var o=this.getDimensionsFromLabel(t,e,i),n=Math.max(o.width+this.margin.right+this.margin.left,o.height+this.margin.top+this.margin.bottom);this.options.size=n/2,this.width=n,this.height=n,this.radius=this.width/2}}},{key:"draw",value:function(t,e,i,o,n,r){this.resize(t,o,n),this.left=e-this.width/2,this.top=i-this.height/2,this._drawRawCircle(t,e,i,r),this.updateBoundingBox(e,i),this.labelModule.draw(t,this.left+this.textSize.width/2+this.margin.left,i,o,n)}},{key:"updateBoundingBox",value:function(t,e){this.boundingBox.top=e-this.options.size,this.boundingBox.left=t-this.options.size,this.boundingBox.right=t+this.options.size,this.boundingBox.bottom=e+this.options.size}},{key:"distanceToBorder",value:function(t,e){return this.resize(t),.5*this.width}}]),e}();e.default=p},function(t,e,i){function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=o(i(3)),r=o(i(0)),s=o(i(1)),a=o(i(4)),h=o(i(5)),l=o(i(73)),p=function(t){function e(t,i,o,s,h){(0,r.default)(this,e);var l=(0,a.default)(this,(e.__proto__||(0,n.default)(e)).call(this,t,i,o));return l.setImages(s,h),l}return(0,h.default)(e,l.default),(0,s.default)(e,[{key:"resize",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(void 0===this.imageObj.src||void 0===this.imageObj.width||void 0===this.imageObj.height){var o=2*this.options.size;return this.width=o,this.height=o,void(this.radius=.5*this.width)}this.needsRefresh(e,i)&&this._resizeImage()}},{key:"draw",value:function(t,e,i,o,n,r){this.switchImages(o),this.resize(),this.left=e-this.width/2,this.top=i-this.height/2,this._drawRawCircle(t,e,i,r),t.save(),t.clip(),this._drawImageAtPosition(t,r),t.restore(),this._drawImageLabel(t,e,i,o,n),this.updateBoundingBox(e,i)}},{key:"updateBoundingBox",value:function(t,e){this.boundingBox.top=e-this.options.size,this.boundingBox.left=t-this.options.size,this.boundingBox.right=t+this.options.size,this.boundingBox.bottom=e+this.options.size,this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset)}},{key:"distanceToBorder",value:function(t,e){return this.resize(t),.5*this.width}}]),e}();e.default=p},function(t,e,i){function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=o(i(3)),r=o(i(0)),s=o(i(1)),a=o(i(4)),h=o(i(5)),l=o(i(23)),p=function(t){function e(t,i,o){(0,r.default)(this,e);var s=(0,a.default)(this,(e.__proto__||(0,n.default)(e)).call(this,t,i,o));return s._setMargins(o),s}return(0,h.default)(e,l.default),(0,s.default)(e,[{key:"resize",value:function(t,e,i){if(this.needsRefresh(e,i)){var o=this.getDimensionsFromLabel(t,e,i).width+this.margin.right+this.margin.left;this.width=o,this.height=o,this.radius=this.width/2}}},{key:"draw",value:function(t,e,i,o,n,r){this.resize(t,o,n),this.left=e-this.width/2,this.top=i-this.height/2,this.initContextForDraw(t,r),t.database(e-this.width/2,i-this.height/2,this.width,this.height),this.performFill(t,r),this.updateBoundingBox(e,i,t,o,n),this.labelModule.draw(t,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,o,n)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}();e.default=p},function(t,e,i){function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=o(i(3)),r=o(i(0)),s=o(i(1)),a=o(i(4)),h=o(i(5)),l=o(i(24)),p=function(t){function e(t,i,o){return(0,r.default)(this,e),(0,a.default)(this,(e.__proto__||(0,n.default)(e)).call(this,t,i,o))}return(0,h.default)(e,l.default),(0,s.default)(e,[{key:"draw",value:function(t,e,i,o,n,r){this._drawShape(t,"diamond",4,e,i,o,n,r)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}();e.default=p},function(t,e,i){function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=o(i(3)),r=o(i(0)),s=o(i(1)),a=o(i(4)),h=o(i(5)),l=o(i(24)),p=function(t){function e(t,i,o){return(0,r.default)(this,e),(0,a.default)(this,(e.__proto__||(0,n.default)(e)).call(this,t,i,o))}return(0,h.default)(e,l.default),(0,s.default)(e,[{key:"draw",value:function(t,e,i,o,n,r){this._drawShape(t,"circle",2,e,i,o,n,r)}},{key:"distanceToBorder",value:function(t,e){return this.resize(t),this.options.size}}]),e}();e.default=p},function(t,e,i){function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=o(i(3)),r=o(i(0)),s=o(i(1)),a=o(i(4)),h=o(i(5)),l=o(i(23)),p=function(t){function e(t,i,o){return(0,r.default)(this,e),(0,a.default)(this,(e.__proto__||(0,n.default)(e)).call(this,t,i,o))}return(0,h.default)(e,l.default),(0,s.default)(e,[{key:"resize",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(this.needsRefresh(e,i)){var o=this.getDimensionsFromLabel(t,e,i);this.height=2*o.height,this.width=o.width+o.height,this.radius=.5*this.width}}},{key:"draw",value:function(t,e,i,o,n,r){this.resize(t,o,n),this.left=e-.5*this.width,this.top=i-.5*this.height,this.initContextForDraw(t,r),t.ellipse_vis(this.left,this.top,this.width,this.height),this.performFill(t,r),this.updateBoundingBox(e,i,t,o,n),this.labelModule.draw(t,e,i,o,n)}},{key:"distanceToBorder",value:function(t,e){this.resize(t);var i=.5*this.width,o=.5*this.height,n=Math.sin(e)*i,r=Math.cos(e)*o;return i*o/Math.sqrt(n*n+r*r)}}]),e}();e.default=p},function(t,e,i){function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=o(i(3)),r=o(i(0)),s=o(i(1)),a=o(i(4)),h=o(i(5)),l=o(i(23)),p=function(t){function e(t,i,o){(0,r.default)(this,e);var s=(0,a.default)(this,(e.__proto__||(0,n.default)(e)).call(this,t,i,o));return s._setMargins(o),s}return(0,h.default)(e,l.default),(0,s.default)(e,[{key:"resize",value:function(t,e,i){this.needsRefresh(e,i)&&(this.iconSize={width:Number(this.options.icon.size),height:Number(this.options.icon.size)},this.width=this.iconSize.width+this.margin.right+this.margin.left,this.height=this.iconSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}},{key:"draw",value:function(t,e,i,o,n,r){this.resize(t,o,n),this.options.icon.size=this.options.icon.size||50,this.left=e-this.width/2,this.top=i-this.height/2,this._icon(t,e,i,o,n,r),void 0!==this.options.label&&this.labelModule.draw(t,this.left+this.iconSize.width/2+this.margin.left,i+this.height/2+5,o),this.updateBoundingBox(e,i)}},{key:"updateBoundingBox",value:function(t,e){this.boundingBox.top=e-.5*this.options.icon.size,this.boundingBox.left=t-.5*this.options.icon.size,this.boundingBox.right=t+.5*this.options.icon.size,this.boundingBox.bottom=e+.5*this.options.icon.size,void 0!==this.options.label&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height+5))}},{key:"_icon",value:function(t,e,i,o,n,r){var s=Number(this.options.icon.size);void 0!==this.options.icon.code?(t.font=(o?"bold ":"")+s+"px "+this.options.icon.face,t.fillStyle=this.options.icon.color||"black",t.textAlign="center",t.textBaseline="middle",this.enableShadow(t,r),t.fillText(this.options.icon.code,e,i),this.disableShadow(t,r)):console.error("When using the icon shape, you need to define the code in the icon options object. This can be done per node or globally.")}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}();e.default=p},function(t,e,i){function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=o(i(3)),r=o(i(0)),s=o(i(1)),a=o(i(4)),h=o(i(5)),l=o(i(73)),p=function(t){function e(t,i,o,s,h){(0,r.default)(this,e);var l=(0,a.default)(this,(e.__proto__||(0,n.default)(e)).call(this,t,i,o));return l.setImages(s,h),l}return(0,h.default)(e,l.default),(0,s.default)(e,[{key:"resize",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(void 0===this.imageObj.src||void 0===this.imageObj.width||void 0===this.imageObj.height){var o=2*this.options.size;return this.width=o,void(this.height=o)}this.needsRefresh(e,i)&&this._resizeImage()}},{key:"draw",value:function(t,e,i,o,n,r){this.switchImages(o),this.resize(),this.left=e-this.width/2,this.top=i-this.height/2,!0===this.options.shapeProperties.useBorderWithImage&&(t.lineWidth=Math.min(this.width,(o?this.options.borderWidthSelected||2*this.options.borderWidth:this.options.borderWidth)/this.body.view.scale),t.beginPath(),t.strokeStyle=o?this.options.color.highlight.border:n?this.options.color.hover.border:this.options.color.border,t.fillStyle=o?this.options.color.highlight.background:n?this.options.color.hover.background:this.options.color.background,t.rect(this.left-.5*t.lineWidth,this.top-.5*t.lineWidth,this.width+t.lineWidth,this.height+t.lineWidth),t.fill(),this.performStroke(t,r),t.closePath()),this._drawImageAtPosition(t,r),this._drawImageLabel(t,e,i,o,n),this.updateBoundingBox(e,i)}},{key:"updateBoundingBox",value:function(t,e){this.resize(),this._updateBoundingBox(t,e),void 0!==this.options.label&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset))}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}();e.default=p},function(t,e,i){function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=o(i(3)),r=o(i(0)),s=o(i(1)),a=o(i(4)),h=o(i(5)),l=o(i(24)),p=function(t){function e(t,i,o){return(0,r.default)(this,e),(0,a.default)(this,(e.__proto__||(0,n.default)(e)).call(this,t,i,o))}return(0,h.default)(e,l.default),(0,s.default)(e,[{key:"draw",value:function(t,e,i,o,n,r){this._drawShape(t,"square",2,e,i,o,n,r)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}();e.default=p},function(t,e,i){function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=o(i(3)),r=o(i(0)),s=o(i(1)),a=o(i(4)),h=o(i(5)),l=o(i(24)),p=function(t){function e(t,i,o){return(0,r.default)(this,e),(0,a.default)(this,(e.__proto__||(0,n.default)(e)).call(this,t,i,o))}return(0,h.default)(e,l.default),(0,s.default)(e,[{key:"draw",value:function(t,e,i,o,n,r){this._drawShape(t,"hexagon",4,e,i,o,n,r)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}();e.default=p},function(t,e,i){function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=o(i(3)),r=o(i(0)),s=o(i(1)),a=o(i(4)),h=o(i(5)),l=o(i(24)),p=function(t){function e(t,i,o){return(0,r.default)(this,e),(0,a.default)(this,(e.__proto__||(0,n.default)(e)).call(this,t,i,o))}return(0,h.default)(e,l.default),(0,s.default)(e,[{key:"draw",value:function(t,e,i,o,n,r){this._drawShape(t,"star",4,e,i,o,n,r)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}();e.default=p},function(t,e,i){function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=o(i(3)),r=o(i(0)),s=o(i(1)),a=o(i(4)),h=o(i(5)),l=o(i(23)),p=function(t){function e(t,i,o){(0,r.default)(this,e);var s=(0,a.default)(this,(e.__proto__||(0,n.default)(e)).call(this,t,i,o));return s._setMargins(o),s}return(0,h.default)(e,l.default),(0,s.default)(e,[{key:"resize",value:function(t,e,i){this.needsRefresh(e,i)&&(this.textSize=this.labelModule.getTextSize(t,e,i),this.width=this.textSize.width+this.margin.right+this.margin.left,this.height=this.textSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}},{key:"draw",value:function(t,e,i,o,n,r){this.resize(t,o,n),this.left=e-this.width/2,this.top=i-this.height/2,this.enableShadow(t,r),this.labelModule.draw(t,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,o,n),this.disableShadow(t,r),this.updateBoundingBox(e,i,t,o,n)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}();e.default=p},function(t,e,i){function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=o(i(3)),r=o(i(0)),s=o(i(1)),a=o(i(4)),h=o(i(5)),l=o(i(24)),p=function(t){function e(t,i,o){return(0,r.default)(this,e),(0,a.default)(this,(e.__proto__||(0,n.default)(e)).call(this,t,i,o))}return(0,h.default)(e,l.default),(0,s.default)(e,[{key:"draw",value:function(t,e,i,o,n,r){this._drawShape(t,"triangle",3,e,i,o,n,r)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}();e.default=p},function(t,e,i){function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=o(i(3)),r=o(i(0)),s=o(i(1)),a=o(i(4)),h=o(i(5)),l=o(i(24)),p=function(t){function e(t,i,o){return(0,r.default)(this,e),(0,a.default)(this,(e.__proto__||(0,n.default)(e)).call(this,t,i,o))}return(0,h.default)(e,l.default),(0,s.default)(e,[{key:"draw",value:function(t,e,i,o,n,r){this._drawShape(t,"triangleDown",3,e,i,o,n,r)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}();e.default=p},function(t,e,i){function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=o(i(0)),r=o(i(1)),s=i(2),a=i(11),h=i(12),l=i(74).default,p=function(){function t(e,i,o){var r=this;(0,n.default)(this,t),this.body=e,this.images=i,this.groups=o,this.body.functions.createEdge=this.create.bind(this),this.edgesListeners={add:function(t,e){r.add(e.items)},update:function(t,e){r.update(e.items)},remove:function(t,e){r.remove(e.items)}},this.options={},this.defaultOptions={arrows:{to:{enabled:!1,scaleFactor:1,type:"arrow"},middle:{enabled:!1,scaleFactor:1,type:"arrow"},from:{enabled:!1,scaleFactor:1,type:"arrow"}},arrowStrikethrough:!0,color:{color:"#848484",highlight:"#848484",hover:"#848484",inherit:"from",opacity:1},dashes:!1,font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:2,strokeColor:"#ffffff",align:"horizontal",multi:!1,vadjust:0,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"courier new",vadjust:2}},hidden:!1,hoverWidth:1.5,label:void 0,labelHighlightBold:!0,length:void 0,physics:!0,scaling:{min:1,max:15,label:{enabled:!0,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(t,e,i,o){return e===t?.5:Math.max(0,1/(e-t)*(o-t))}},selectionWidth:1.5,selfReferenceSize:20,shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},smooth:{enabled:!0,type:"dynamic",forceDirection:"none",roundness:.5},title:void 0,width:1,value:void 0},s.deepExtend(this.options,this.defaultOptions),this.bindEventListeners()}return(0,r.default)(t,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.on("_forceDisableDynamicCurves",function(e){var i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];"dynamic"===e&&(e="continuous");var o=!1;for(var n in t.body.edges)if(t.body.edges.hasOwnProperty(n)){var r=t.body.data.edges._data[n];if(void 0!==r){var s=r.smooth;void 0!==s&&!0===s.enabled&&"dynamic"===s.type&&(t.body.edges[n].setOptions(void 0===e?{smooth:!1}:{smooth:{type:e}}),o=!0)}}!0===i&&!0===o&&t.body.emitter.emit("_dataChanged")}),this.body.emitter.on("_dataUpdated",function(){t.reconnectEdges()}),this.body.emitter.on("refreshEdges",this.refresh.bind(this)),this.body.emitter.on("refresh",this.refresh.bind(this)),this.body.emitter.on("destroy",function(){s.forEach(t.edgesListeners,function(e,i){t.body.data.edges&&t.body.data.edges.off(i,e)}),delete t.body.functions.createEdge,delete t.edgesListeners.add,delete t.edgesListeners.update,delete t.edgesListeners.remove,delete t.edgesListeners})}},{key:"setOptions",value:function(t){if(void 0!==t){l.parseOptions(this.options,t,!0,this.defaultOptions,!0);var e=!1;if(void 0!==t.smooth)for(var i in this.body.edges)this.body.edges.hasOwnProperty(i)&&(e=this.body.edges[i].updateEdgeType()||e);if(void 0!==t.font)for(var o in this.body.edges)this.body.edges.hasOwnProperty(o)&&this.body.edges[o].updateLabelModule();void 0===t.hidden&&void 0===t.physics&&!0!==e||this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=this.body.data.edges;if(t instanceof a||t instanceof h)this.body.data.edges=t;else if(Array.isArray(t))this.body.data.edges=new a,this.body.data.edges.add(t);else{if(t)throw new TypeError("Array or DataSet expected");this.body.data.edges=new a}if(o&&s.forEach(this.edgesListeners,function(t,e){o.off(e,t)}),this.body.edges={},this.body.data.edges){s.forEach(this.edgesListeners,function(t,i){e.body.data.edges.on(i,t)});var n=this.body.data.edges.getIds();this.add(n,!0)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),!1===i&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.body.edges,o=this.body.data.edges,n=0;n<t.length;n++){var r=t[n],s=i[r];s&&s.disconnect();var a=o.get(r,{showInternalIds:!0});i[r]=this.create(a)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),!1===e&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function(t){for(var e=this.body.edges,i=this.body.data.edges,o=!1,n=0;n<t.length;n++){var r=t[n],s=i.get(r),a=e[r];void 0!==a?(a.disconnect(),o=a.setOptions(s)||o,a.connect()):(this.body.edges[r]=this.create(s),o=!0)}!0===o?(this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),this.body.emitter.emit("_dataChanged")):this.body.emitter.emit("_dataUpdated")}},{key:"remove",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(0!==t.length){var i=this.body.edges;s.forEach(t,function(t){var e=i[t];void 0!==e&&e.remove()}),e&&this.body.emitter.emit("_dataChanged")}}},{key:"refresh",value:function(){var t=this;s.forEach(this.body.edges,function(e,i){var o=t.body.data.edges._data[i];void 0!==o&&e.setOptions(o)})}},{key:"create",value:function(t){return new l(t,this.body,this.options,this.defaultOptions)}},{key:"reconnectEdges",value:function(){var t,e=this.body.nodes,i=this.body.edges;for(t in e)e.hasOwnProperty(t)&&(e[t].edges=[]);for(t in i)if(i.hasOwnProperty(t)){var o=i[t];o.from=null,o.to=null,o.connect()}}},{key:"getConnectedNodes",value:function(t){var e=[];if(void 0!==this.body.edges[t]){var i=this.body.edges[t];void 0!==i.fromId&&e.push(i.fromId),void 0!==i.toId&&e.push(i.toId)}return e}},{key:"_updateState",value:function(){this._addMissingEdges(),this._removeInvalidEdges()}},{key:"_removeInvalidEdges",value:function(){var t=this,e=[];s.forEach(this.body.edges,function(i,o){var n=t.body.nodes[i.toId],r=t.body.nodes[i.fromId];void 0!==n&&!0===n.isCluster||void 0!==r&&!0===r.isCluster||void 0!==n&&void 0!==r||e.push(o)}),this.remove(e,!1)}},{key:"_addMissingEdges",value:function(){var t=this.body.edges,e=[];this.body.data.edges.forEach(function(i,o){void 0===t[o]&&e.push(o)}),this.add(e,!0)}}]),t}();e.default=p},function(t,e,i){function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=o(i(30)),r=o(i(3)),s=o(i(0)),a=o(i(1)),h=o(i(4)),l=o(i(5)),p=o(i(216)),u=function(t){function e(t,i,o){return(0,s.default)(this,e),(0,h.default)(this,(e.__proto__||(0,r.default)(e)).call(this,t,i,o))}return(0,l.default)(e,p.default),(0,a.default)(e,[{key:"_line",value:function(t,e,i){this._bezierCurve(t,e,i[0],i[1])}},{key:"_getViaCoordinates",value:function(){var t=this.from.x-this.to.x,e=this.from.y-this.to.y,i=void 0,o=void 0,n=void 0,r=void 0,s=this.options.smooth.roundness;return(Math.abs(t)>Math.abs(e)||!0===this.options.smooth.forceDirection||"horizontal"===this.options.smooth.forceDirection)&&"vertical"!==this.options.smooth.forceDirection?(o=this.from.y,r=this.to.y,i=this.from.x-s*t,n=this.to.x+s*t):(o=this.from.y-s*e,r=this.to.y+s*e,i=this.from.x,n=this.to.x),[{x:i,y:o},{x:n,y:r}]}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}},{key:"_findBorderPosition",value:function(t,e){return this._findBorderPositionBezier(t,e)}},{key:"_getDistanceToEdge",value:function(t,e,i,o,r,s){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:this._getViaCoordinates(),h=(0,n.default)(a,2);return this._getDistanceToBezierEdge(t,e,i,o,r,s,h[0],h[1])}},{key:"getPoint",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._getViaCoordinates(),i=(0,n.default)(e,2),o=i[0],r=i[1],s=t,a=[];return a[0]=Math.pow(1-s,3),a[1]=3*s*Math.pow(1-s,2),a[2]=3*Math.pow(s,2)*(1-s),a[3]=Math.pow(s,3),{x:a[0]*this.fromPoint.x+a[1]*o.x+a[2]*r.x+a[3]*this.toPoint.x,y:a[0]*this.fromPoint.y+a[1]*o.y+a[2]*r.y+a[3]*this.toPoint.y}}}]),e}();e.default=u},function(t,e,i){function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=o(i(3)),r=o(i(0)),s=o(i(1)),a=o(i(4)),h=o(i(5)),l=o(i(75)),p=function(t){function e(t,i,o){return(0,r.default)(this,e),(0,a.default)(this,(e.__proto__||(0,n.default)(e)).call(this,t,i,o))}return(0,h.default)(e,l.default),(0,s.default)(e,[{key:"_getDistanceToBezierEdge",value:function(t,e,i,o,n,r,s,a){var h=1e9,l=void 0,p=void 0,u=void 0,d=void 0,c=void 0,f=t,y=e,g=[0,0,0,0];for(p=1;p<10;p++)u=.1*p,g[0]=Math.pow(1-u,3),g[1]=3*u*Math.pow(1-u,2),g[2]=3*Math.pow(u,2)*(1-u),g[3]=Math.pow(u,3),d=g[0]*t+g[1]*s.x+g[2]*a.x+g[3]*i,c=g[0]*e+g[1]*s.y+g[2]*a.y+g[3]*o,p>0&&(h=(l=this._getDistanceToLine(f,y,d,c,n,r))<h?l:h),f=d,y=c;return h}}]),e}();e.default=p},function(t,e,i){function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=o(i(30)),r=o(i(3)),s=o(i(0)),a=o(i(1)),h=o(i(4)),l=o(i(5)),p=o(i(75)),u=function(t){function e(t,i,o){(0,s.default)(this,e);var n=(0,h.default)(this,(e.__proto__||(0,r.default)(e)).call(this,t,i,o));return n._boundFunction=function(){n.positionBezierNode()},n.body.emitter.on("_repositionBezierNodes",n._boundFunction),n}return(0,l.default)(e,p.default),(0,a.default)(e,[{key:"setOptions",value:function(t){var e=!1;this.options.physics!==t.physics&&(e=!0),this.options=t,this.id=this.options.id,this.from=this.body.nodes[this.options.from],this.to=this.body.nodes[this.options.to],this.setupSupportNode(),this.connect(),!0===e&&(this.via.setOptions({physics:this.options.physics}),this.positionBezierNode())}},{key:"connect",value:function(){this.from=this.body.nodes[this.options.from],this.to=this.body.nodes[this.options.to],this.via.setOptions(void 0===this.from||void 0===this.to||!1===this.options.physics?{physics:!1}:this.from.id===this.to.id?{physics:!1}:{physics:!0})}},{key:"cleanup",value:function(){return this.body.emitter.off("_repositionBezierNodes",this._boundFunction),void 0!==this.via&&(delete this.body.nodes[this.via.id],this.via=void 0,!0)}},{key:"setupSupportNode",value:function(){if(void 0===this.via){var t="edgeId:"+this.id,e=this.body.functions.createNode({id:t,shape:"circle",physics:!0,hidden:!0});this.body.nodes[t]=e,this.via=e,this.via.parentEdgeId=this.id,this.positionBezierNode()}}},{key:"positionBezierNode",value:function(){void 0!==this.via&&void 0!==this.from&&void 0!==this.to?(this.via.x=.5*(this.from.x+this.to.x),this.via.y=.5*(this.from.y+this.to.y)):void 0!==this.via&&(this.via.x=0,this.via.y=0)}},{key:"_line",value:function(t,e,i){this._bezierCurve(t,e,i)}},{key:"getViaNode",value:function(){return this.via}},{key:"getPoint",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.via,i=t,o=void 0,r=void 0;if(this.from===this.to){var s=this._getCircleData(this.from),a=(0,n.default)(s,3),h=a[1],l=a[2],p=2*Math.PI*(1-i);o=a[0]+l*Math.sin(p),r=h+l-l*(1-Math.cos(p))}else o=Math.pow(1-i,2)*this.fromPoint.x+2*i*(1-i)*e.x+Math.pow(i,2)*this.toPoint.x,r=Math.pow(1-i,2)*this.fromPoint.y+2*i*(1-i)*e.y+Math.pow(i,2)*this.toPoint.y;return{x:o,y:r}}},{key:"_findBorderPosition",value:function(t,e){return this._findBorderPositionBezier(t,e,this.via)}},{key:"_getDistanceToEdge",value:function(t,e,i,o,n,r){return this._getDistanceToBezierEdge(t,e,i,o,n,r,this.via)}}]),e}();e.default=u},function(t,e,i){function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=o(i(3)),r=o(i(0)),s=o(i(1)),a=o(i(4)),h=o(i(5)),l=o(i(75)),p=function(t){function e(t,i,o){return(0,r.default)(this,e),(0,a.default)(this,(e.__proto__||(0,n.default)(e)).call(this,t,i,o))}return(0,h.default)(e,l.default),(0,s.default)(e,[{key:"_line",value:function(t,e,i){this._bezierCurve(t,e,i)}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}},{key:"_getViaCoordinates",value:function(){var t=void 0,e=void 0,i=this.options.smooth.roundness,o=this.options.smooth.type,n=Math.abs(this.from.x-this.to.x),r=Math.abs(this.from.y-this.to.y);if("discrete"===o||"diagonalCross"===o){var s=void 0,a=void 0;s=a=n<=r?i*r:i*n,this.from.x>this.to.x&&(s=-s),this.from.y>=this.to.y&&(a=-a),t=this.from.x+s,e=this.from.y+a,"discrete"===o&&(n<=r?t=n<i*r?this.from.x:t:e=r<i*n?this.from.y:e)}else if("straightCross"===o){var h=(1-i)*n,l=(1-i)*r;n<=r?(h=0,this.from.y<this.to.y&&(l=-l)):(this.from.x<this.to.x&&(h=-h),l=0),t=this.to.x+h,e=this.to.y+l}else if("horizontal"===o){var p=(1-i)*n;this.from.x<this.to.x&&(p=-p),t=this.to.x+p,e=this.from.y}else if("vertical"===o){var u=(1-i)*r;this.from.y<this.to.y&&(u=-u),t=this.from.x,e=this.to.y+u}else if("curvedCW"===o){n=this.to.x-this.from.x,r=this.from.y-this.to.y;var d=Math.sqrt(n*n+r*r),c=Math.PI,f=(Math.atan2(r,n)+(.5*i+.5)*c)%(2*c);t=this.from.x+(.5*i+.5)*d*Math.sin(f),e=this.from.y+(.5*i+.5)*d*Math.cos(f)}else if("curvedCCW"===o){n=this.to.x-this.from.x,r=this.from.y-this.to.y;var y=Math.sqrt(n*n+r*r),g=Math.PI,m=(Math.atan2(r,n)+(.5*-i+.5)*g)%(2*g);t=this.from.x+(.5*i+.5)*y*Math.sin(m),e=this.from.y+(.5*i+.5)*y*Math.cos(m)}else{var v=void 0,b=void 0;v=b=n<=r?i*r:i*n,this.from.x>this.to.x&&(v=-v),this.from.y>=this.to.y&&(b=-b),t=this.from.x+v,e=this.from.y+b,n<=r?t=this.from.x<=this.to.x?this.to.x<t?this.to.x:t:this.to.x>t?this.to.x:t:e=this.from.y>=this.to.y?this.to.y>e?this.to.y:e:this.to.y<e?this.to.y:e}return{x:t,y:e}}},{key:"_findBorderPosition",value:function(t,e){return this._findBorderPositionBezier(t,e,(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).via)}},{key:"_getDistanceToEdge",value:function(t,e,i,o,n,r){var s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge(t,e,i,o,n,r,s)}},{key:"getPoint",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._getViaCoordinates(),i=t;return{x:Math.pow(1-i,2)*this.fromPoint.x+2*i*(1-i)*e.x+Math.pow(i,2)*this.toPoint.x,y:Math.pow(1-i,2)*this.fromPoint.y+2*i*(1-i)*e.y+Math.pow(i,2)*this.toPoint.y}}}]),e}();e.default=p},function(t,e,i){function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=o(i(3)),r=o(i(0)),s=o(i(1)),a=o(i(4)),h=o(i(5)),l=o(i(118)),p=function(t){function e(t,i,o){return(0,r.default)(this,e),(0,a.default)(this,(e.__proto__||(0,n.default)(e)).call(this,t,i,o))}return(0,h.default)(e,l.default),(0,s.default)(e,[{key:"_line",value:function(t,e){t.beginPath(),t.moveTo(this.fromPoint.x,this.fromPoint.y),t.lineTo(this.toPoint.x,this.toPoint.y),this.enableShadow(t,e),t.stroke(),this.disableShadow(t,e)}},{key:"getViaNode",value:function(){}},{key:"getPoint",value:function(t){return{x:(1-t)*this.fromPoint.x+t*this.toPoint.x,y:(1-t)*this.fromPoint.y+t*this.toPoint.y}}},{key:"_findBorderPosition",value:function(t,e){var i=this.to,o=this.from;t.id===this.from.id&&(i=this.from,o=this.to);var n=Math.atan2(i.y-o.y,i.x-o.x),r=i.x-o.x,s=i.y-o.y,a=Math.sqrt(r*r+s*s),h=(a-t.distanceToBorder(e,n))/a,l={};return l.x=(1-h)*o.x+h*i.x,l.y=(1-h)*o.y+h*i.y,l}},{key:"_getDistanceToEdge",value:function(t,e,i,o,n,r){return this._getDistanceToLine(t,e,i,o,n,r)}}]),e}();e.default=p},function(t,e,i){function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=o(i(8)),r=o(i(0)),s=o(i(1)),a=i(120).default,h=i(221).default,l=i(222).default,p=i(223).default,u=i(224).default,d=i(121).default,c=i(225).default,f=i(226).default,y=i(2),g=i(119).default,m=function(){function t(e){(0,r.default)(this,t),this.body=e,this.physicsBody={physicsNodeIndices:[],physicsEdgeIndices:[],forces:{},velocities:{}},this.physicsEnabled=!0,this.simulationInterval=1e3/60,this.requiresTimeout=!0,this.previousStates={},this.referenceState={},this.freezeCache={},this.renderTimer=void 0,this.adaptiveTimestep=!1,this.adaptiveTimestepEnabled=!1,this.adaptiveCounter=0,this.adaptiveInterval=3,this.stabilized=!1,this.startedStabilization=!1,this.stabilizationIterations=0,this.ready=!1,this.options={},this.defaultOptions={enabled:!0,barnesHut:{theta:.5,gravitationalConstant:-2e3,centralGravity:.3,springLength:95,springConstant:.04,damping:.09,avoidOverlap:0},forceAtlas2Based:{theta:.5,gravitationalConstant:-50,centralGravity:.01,springConstant:.08,springLength:100,damping:.4,avoidOverlap:0},repulsion:{centralGravity:.2,springLength:200,springConstant:.05,nodeDistance:100,damping:.09,avoidOverlap:0},hierarchicalRepulsion:{centralGravity:0,springLength:100,springConstant:.01,nodeDistance:120,damping:.09},maxVelocity:50,minVelocity:.75,solver:"barnesHut",stabilization:{enabled:!0,iterations:1e3,updateInterval:50,onlyDynamicEdges:!1,fit:!0},timestep:.5,adaptiveTimestep:!0},y.extend(this.options,this.defaultOptions),this.timestep=.5,this.layoutFailed=!1,this.bindEventListeners()}return(0,s.default)(t,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.on("initPhysics",function(){t.initPhysics()}),this.body.emitter.on("_layoutFailed",function(){t.layoutFailed=!0}),this.body.emitter.on("resetPhysics",function(){t.stopSimulation(),t.ready=!1}),this.body.emitter.on("disablePhysics",function(){t.physicsEnabled=!1,t.stopSimulation()}),this.body.emitter.on("restorePhysics",function(){t.setOptions(t.options),!0===t.ready&&t.startSimulation()}),this.body.emitter.on("startSimulation",function(){!0===t.ready&&t.startSimulation()}),this.body.emitter.on("stopSimulation",function(){t.stopSimulation()}),this.body.emitter.on("destroy",function(){t.stopSimulation(!1),t.body.emitter.off()}),this.body.emitter.on("_dataChanged",function(){t.updatePhysicsData()})}},{key:"setOptions",value:function(t){void 0!==t&&(!1===t?(this.options.enabled=!1,this.physicsEnabled=!1,this.stopSimulation()):!0===t?(this.options.enabled=!0,this.physicsEnabled=!0,this.startSimulation()):(this.physicsEnabled=!0,y.selectiveNotDeepExtend(["stabilization"],this.options,t),y.mergeOptions(this.options,t,"stabilization"),void 0===t.enabled&&(this.options.enabled=!0),!1===this.options.enabled&&(this.physicsEnabled=!1,this.stopSimulation()),this.timestep=this.options.timestep)),this.init()}},{key:"init",value:function(){var t;"forceAtlas2Based"===this.options.solver?(this.nodesSolver=new c(this.body,this.physicsBody,t=this.options.forceAtlas2Based),this.edgesSolver=new p(this.body,this.physicsBody,t),this.gravitySolver=new f(this.body,this.physicsBody,t)):"repulsion"===this.options.solver?(this.nodesSolver=new h(this.body,this.physicsBody,t=this.options.repulsion),this.edgesSolver=new p(this.body,this.physicsBody,t),this.gravitySolver=new d(this.body,this.physicsBody,t)):"hierarchicalRepulsion"===this.options.solver?(this.nodesSolver=new l(this.body,this.physicsBody,t=this.options.hierarchicalRepulsion),this.edgesSolver=new u(this.body,this.physicsBody,t),this.gravitySolver=new d(this.body,this.physicsBody,t)):(this.nodesSolver=new a(this.body,this.physicsBody,t=this.options.barnesHut),this.edgesSolver=new p(this.body,this.physicsBody,t),this.gravitySolver=new d(this.body,this.physicsBody,t)),this.modelOptions=t}},{key:"initPhysics",value:function(){!0===this.physicsEnabled&&!0===this.options.enabled?!0===this.options.stabilization.enabled?this.stabilize():(this.stabilized=!1,this.ready=!0,this.body.emitter.emit("fit",{},this.layoutFailed),this.startSimulation()):(this.ready=!0,this.body.emitter.emit("fit"))}},{key:"startSimulation",value:function(){!0===this.physicsEnabled&&!0===this.options.enabled?(this.stabilized=!1,this.adaptiveTimestep=!1,this.body.emitter.emit("_resizeNodes"),void 0===this.viewFunction&&(this.viewFunction=this.simulationStep.bind(this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering"))):this.body.emitter.emit("_redraw")}},{key:"stopSimulation",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.stabilized=!0,!0===t&&this._emitStabilized(),void 0!==this.viewFunction&&(this.body.emitter.off("initRedraw",this.viewFunction),this.viewFunction=void 0,!0===t&&this.body.emitter.emit("_stopRendering"))}},{key:"simulationStep",value:function(){var t=Date.now();this.physicsTick(),(Date.now()-t<.4*this.simulationInterval||!0===this.runDoubleSpeed)&&!1===this.stabilized&&(this.physicsTick(),this.runDoubleSpeed=!0),!0===this.stabilized&&this.stopSimulation()}},{key:"_emitStabilized",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.stabilizationIterations;(this.stabilizationIterations>1||!0===this.startedStabilization)&&setTimeout(function(){t.body.emitter.emit("stabilized",{iterations:e}),t.startedStabilization=!1,t.stabilizationIterations=0},0)}},{key:"physicsStep",value:function(){this.gravitySolver.solve(),this.nodesSolver.solve(),this.edgesSolver.solve(),this.moveNodes()}},{key:"adjustTimeStep",value:function(){!0===this._evaluateStepQuality()?this.timestep=1.2*this.timestep:this.timestep/1.2<this.options.timestep?this.timestep=this.options.timestep:(this.adaptiveCounter=-1,this.timestep=Math.max(this.options.timestep,this.timestep/1.2))}},{key:"physicsTick",value:function(){this._startStabilizing(),!0!==this.stabilized&&(!0===this.adaptiveTimestep&&!0===this.adaptiveTimestepEnabled?(this.adaptiveCounter%this.adaptiveInterval==0?(this.timestep=2*this.timestep,this.physicsStep(),this.revert(),this.timestep=.5*this.timestep,this.physicsStep(),this.physicsStep(),this.adjustTimeStep()):this.physicsStep(),this.adaptiveCounter+=1):(this.timestep=this.options.timestep,this.physicsStep()),!0===this.stabilized&&this.revert(),this.stabilizationIterations++)}},{key:"updatePhysicsData",value:function(){this.physicsBody.forces={},this.physicsBody.physicsNodeIndices=[],this.physicsBody.physicsEdgeIndices=[];var t=this.body.nodes,e=this.body.edges;for(var i in t)t.hasOwnProperty(i)&&!0===t[i].options.physics&&this.physicsBody.physicsNodeIndices.push(t[i].id);for(var o in e)e.hasOwnProperty(o)&&!0===e[o].options.physics&&this.physicsBody.physicsEdgeIndices.push(e[o].id);for(var n=0;n<this.physicsBody.physicsNodeIndices.length;n++){var r=this.physicsBody.physicsNodeIndices[n];this.physicsBody.forces[r]={x:0,y:0},void 0===this.physicsBody.velocities[r]&&(this.physicsBody.velocities[r]={x:0,y:0})}for(var s in this.physicsBody.velocities)void 0===t[s]&&delete this.physicsBody.velocities[s]}},{key:"revert",value:function(){var t=(0,n.default)(this.previousStates),e=this.body.nodes,i=this.physicsBody.velocities;this.referenceState={};for(var o=0;o<t.length;o++){var r=t[o];void 0!==e[r]?!0===e[r].options.physics&&(this.referenceState[r]={positions:{x:e[r].x,y:e[r].y}},i[r].x=this.previousStates[r].vx,i[r].y=this.previousStates[r].vy,e[r].x=this.previousStates[r].x,e[r].y=this.previousStates[r].y):delete this.previousStates[r]}}},{key:"_evaluateStepQuality",value:function(){var t=void 0,e=this.body.nodes,i=this.referenceState;for(var o in this.referenceState)if(this.referenceState.hasOwnProperty(o)&&void 0!==e[o]&&(t=e[o].y-i[o].positions.y,Math.sqrt(Math.pow(e[o].x-i[o].positions.x,2)+Math.pow(t,2))>.3))return!1;return!0}},{key:"moveNodes",value:function(){for(var t=this.physicsBody.physicsNodeIndices,e=0,i=0,o=0;o<t.length;o++){var n=this._performStep(t[o]);e=Math.max(e,n),i+=n}this.adaptiveTimestepEnabled=i/t.length<5,this.stabilized=e<this.options.minVelocity}},{key:"calculateComponentVelocity",value:function(t,e,i){t+=(e-this.modelOptions.damping*t)/i*this.timestep;var o=this.options.maxVelocity||1e9;return Math.abs(t)>o&&(t=t>0?o:-o),t}},{key:"_performStep",value:function(t){var e=this.body.nodes[t],i=this.physicsBody.forces[t],o=this.physicsBody.velocities[t];return this.previousStates[t]={x:e.x,y:e.y,vx:o.x,vy:o.y},!1===e.options.fixed.x?(o.x=this.calculateComponentVelocity(o.x,i.x,e.options.mass),e.x+=o.x*this.timestep):(i.x=0,o.x=0),!1===e.options.fixed.y?(o.y=this.calculateComponentVelocity(o.y,i.y,e.options.mass),e.y+=o.y*this.timestep):(i.y=0,o.y=0),Math.sqrt(Math.pow(o.x,2)+Math.pow(o.y,2))}},{key:"_freezeNodes",value:function(){var t=this.body.nodes;for(var e in t)if(t.hasOwnProperty(e)&&t[e].x&&t[e].y){var i=t[e].options.fixed;this.freezeCache[e]={x:i.x,y:i.y},i.x=!0,i.y=!0}}},{key:"_restoreFrozenNodes",value:function(){var t=this.body.nodes;for(var e in t)t.hasOwnProperty(e)&&void 0!==this.freezeCache[e]&&(t[e].options.fixed.x=this.freezeCache[e].x,t[e].options.fixed.y=this.freezeCache[e].y);this.freezeCache={}}},{key:"stabilize",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.stabilization.iterations;"number"!=typeof e&&(e=this.options.stabilization.iterations,console.log("The stabilize method needs a numeric amount of iterations. Switching to default: ",e)),0!==this.physicsBody.physicsNodeIndices.length?(this.adaptiveTimestep=this.options.adaptiveTimestep,this.body.emitter.emit("_resizeNodes"),this.stopSimulation(),this.stabilized=!1,this.body.emitter.emit("_blockRedraw"),this.targetIterations=e,!0===this.options.stabilization.onlyDynamicEdges&&this._freezeNodes(),this.stabilizationIterations=0,setTimeout(function(){return t._stabilizationBatch()},0)):this.ready=!0}},{key:"_startStabilizing",value:function(){return!0!==this.startedStabilization&&(this.body.emitter.emit("startStabilizing"),this.startedStabilization=!0,!0)}},{key:"_stabilizationBatch",value:function(){var t=this,e=function(){return!1===t.stabilized&&t.stabilizationIterations<t.targetIterations},i=function(){t.body.emitter.emit("stabilizationProgress",{iterations:t.stabilizationIterations,total:t.targetIterations})};this._startStabilizing()&&i();for(var o=0;e()&&o<this.options.stabilization.updateInterval;)this.physicsTick(),o++;i(),e()?setTimeout(this._stabilizationBatch.bind(this),0):this._finalizeStabilization()}},{key:"_finalizeStabilization",value:function(){this.body.emitter.emit("_allowRedraw"),!0===this.options.stabilization.fit&&this.body.emitter.emit("fit"),!0===this.options.stabilization.onlyDynamicEdges&&this._restoreFrozenNodes(),this.body.emitter.emit("stabilizationIterationsDone"),this.body.emitter.emit("_requestRedraw"),!0===this.stabilized?this._emitStabilized():this.startSimulation(),this.ready=!0}},{key:"_drawForces",value:function(t){for(var e=0;e<this.physicsBody.physicsNodeIndices.length;e++){var i=this.physicsBody.physicsNodeIndices[e],o=this.body.nodes[i],n=this.physicsBody.forces[i],r=Math.sqrt(Math.pow(n.x,2)+Math.pow(n.x,2)),s=Math.min(Math.max(5,r),15),a=3*s,h=y.HSVToHex((180-180*Math.min(1,Math.max(0,.03*r)))/360,1,1),l={x:o.x+20*n.x,y:o.y+20*n.y};t.lineWidth=s,t.strokeStyle=h,t.beginPath(),t.moveTo(o.x,o.y),t.lineTo(l.x,l.y),t.stroke();var p=Math.atan2(n.y,n.x);t.fillStyle=h,g.draw(t,{type:"arrow",point:l,angle:p,length:a}),t.fill()}}}]),t}();e.default=m},function(t,e,i){function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=o(i(0)),r=o(i(1)),s=function(){function t(e,i,o){(0,n.default)(this,t),this.body=e,this.physicsBody=i,this.setOptions(o)}return(0,r.default)(t,[{key:"setOptions",value:function(t){this.options=t}},{key:"solve",value:function(){for(var t,e,i,o,n,r,s,a,h=this.body.nodes,l=this.physicsBody.physicsNodeIndices,p=this.physicsBody.forces,u=this.options.nodeDistance,d=-2/3/u,c=0;c<l.length-1;c++){s=h[l[c]];for(var f=c+1;f<l.length;f++)t=(a=h[l[f]]).x-s.x,e=a.y-s.y,0===(i=Math.sqrt(t*t+e*e))&&(t=i=.1*Math.random()),i<2*u&&(r=i<.5*u?1:d*i+4/3,n=e*(r/=i),p[s.id].x-=o=t*r,p[s.id].y-=n,p[a.id].x+=o,p[a.id].y+=n)}}}]),t}();e.default=s},function(t,e,i){function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=o(i(0)),r=o(i(1)),s=function(){function t(e,i,o){(0,n.default)(this,t),this.body=e,this.physicsBody=i,this.setOptions(o)}return(0,r.default)(t,[{key:"setOptions",value:function(t){this.options=t}},{key:"solve",value:function(){var t,e,i,o,n,r,s,a,h,l,p=this.body.nodes,u=this.physicsBody.physicsNodeIndices,d=this.physicsBody.forces,c=this.options.nodeDistance;for(h=0;h<u.length-1;h++)for(s=p[u[h]],l=h+1;l<u.length;l++)s.level===(a=p[u[l]]).level&&(t=a.x-s.x,e=a.y-s.y,r=(i=Math.sqrt(t*t+e*e))<c?-Math.pow(.05*i,2)+Math.pow(.05*c,2):0,0===i?i=.01:r/=i,n=e*r,d[s.id].x-=o=t*r,d[s.id].y-=n,d[a.id].x+=o,d[a.id].y+=n)}}]),t}();e.default=s},function(t,e,i){function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=o(i(0)),r=o(i(1)),s=function(){function t(e,i,o){(0,n.default)(this,t),this.body=e,this.physicsBody=i,this.setOptions(o)}return(0,r.default)(t,[{key:"setOptions",value:function(t){this.options=t}},{key:"solve",value:function(){for(var t=void 0,e=void 0,i=this.physicsBody.physicsEdgeIndices,o=this.body.edges,n=void 0,r=void 0,s=0;s<i.length;s++)!0===(e=o[i[s]]).connected&&e.toId!==e.fromId&&void 0!==this.body.nodes[e.toId]&&void 0!==this.body.nodes[e.fromId]&&(void 0!==e.edgeType.via?(r=e.from,this._calculateSpringForce(e.to,n=e.edgeType.via,.5*(t=void 0===e.options.length?this.options.springLength:e.options.length)),this._calculateSpringForce(n,r,.5*t)):this._calculateSpringForce(e.from,e.to,t=void 0===e.options.length?1.5*this.options.springLength:e.options.length))}},{key:"_calculateSpringForce",value:function(t,e,i){var o=t.x-e.x,n=t.y-e.y,r=Math.max(Math.sqrt(o*o+n*n),.01),s=this.options.springConstant*(i-r)/r,a=o*s,h=n*s;void 0!==this.physicsBody.forces[t.id]&&(this.physicsBody.forces[t.id].x+=a,this.physicsBody.forces[t.id].y+=h),void 0!==this.physicsBody.forces[e.id]&&(this.physicsBody.forces[e.id].x-=a,this.physicsBody.forces[e.id].y-=h)}}]),t}();e.default=s},function(t,e,i){function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=o(i(0)),r=o(i(1)),s=function(){function t(e,i,o){(0,n.default)(this,t),this.body=e,this.physicsBody=i,this.setOptions(o)}return(0,r.default)(t,[{key:"setOptions",value:function(t){this.options=t}},{key:"solve",value:function(){for(var t,e,i,o,n,r,s,a,h=this.body.edges,l=this.physicsBody.physicsEdgeIndices,p=this.physicsBody.physicsNodeIndices,u=this.physicsBody.forces,d=0;d<p.length;d++){var c=p[d];u[c].springFx=0,u[c].springFy=0}for(var f=0;f<l.length;f++)!0===(e=h[l[f]]).connected&&(t=void 0===e.options.length?this.options.springLength:e.options.length,i=e.from.x-e.to.x,o=e.from.y-e.to.y,a=Math.sqrt(i*i+o*o),n=i*(s=this.options.springConstant*(t-(a=0===a?.01:a))/a),r=o*s,e.to.level!=e.from.level?(void 0!==u[e.toId]&&(u[e.toId].springFx-=n,u[e.toId].springFy-=r),void 0!==u[e.fromId]&&(u[e.fromId].springFx+=n,u[e.fromId].springFy+=r)):(void 0!==u[e.toId]&&(u[e.toId].x-=.5*n,u[e.toId].y-=.5*r),void 0!==u[e.fromId]&&(u[e.fromId].x+=.5*n,u[e.fromId].y+=.5*r)));s=1;for(var y,g,m=0;m<p.length;m++){var v=p[m];y=Math.min(s,Math.max(-s,u[v].springFx)),g=Math.min(s,Math.max(-s,u[v].springFy)),u[v].x+=y,u[v].y+=g}for(var b=0,w=0,x=0;x<p.length;x++){var _=p[x];b+=u[_].x,w+=u[_].y}for(var M=b/p.length,k=w/p.length,S=0;S<p.length;S++){var C=p[S];u[C].x-=M,u[C].y-=k}}}]),t}();e.default=s},function(t,e,i){function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=o(i(3)),r=o(i(0)),s=o(i(1)),a=o(i(4)),h=o(i(5)),l=o(i(120)),p=function(t){function e(t,i,o){return(0,r.default)(this,e),(0,a.default)(this,(e.__proto__||(0,n.default)(e)).call(this,t,i,o))}return(0,h.default)(e,l.default),(0,s.default)(e,[{key:"_calculateForces",value:function(t,e,i,o,n){0===t&&(e=t=.1*Math.random()),this.overlapAvoidanceFactor<1&&o.shape.radius&&(t=Math.max(.1+this.overlapAvoidanceFactor*o.shape.radius,t-o.shape.radius));var r=this.options.gravitationalConstant*n.mass*o.options.mass*(o.edges.length+1)/Math.pow(t,2),s=i*r;this.physicsBody.forces[o.id].x+=e*r,this.physicsBody.forces[o.id].y+=s}}]),e}();e.default=p},function(t,e,i){function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=o(i(3)),r=o(i(0)),s=o(i(1)),a=o(i(4)),h=o(i(5)),l=o(i(121)),p=function(t){function e(t,i,o){return(0,r.default)(this,e),(0,a.default)(this,(e.__proto__||(0,n.default)(e)).call(this,t,i,o))}return(0,h.default)(e,l.default),(0,s.default)(e,[{key:"_calculateForces",value:function(t,e,i,o,n){if(t>0){var r=this.options.centralGravity*(n.edges.length+1)*n.options.mass;o[n.id].x=e*r,o[n.id].y=i*r}}}]),e}();e.default=p},function(t,e,i){function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=o(i(8)),r=o(i(6)),s=o(i(0)),a=o(i(1)),h=i(2),l=i(76).default,p=i(228).default,u=i(74).default,d=i(47).default,c=function(){function t(e){var i=this;(0,s.default)(this,t),this.body=e,this.clusteredNodes={},this.clusteredEdges={},this.options={},this.defaultOptions={},h.extend(this.options,this.defaultOptions),this.body.emitter.on("_resetData",function(){i.clusteredNodes={},i.clusteredEdges={}})}return(0,a.default)(t,[{key:"clusterByHubsize",value:function(t,e){void 0===t?t=this._getHubSize():"object"===(void 0===t?"undefined":(0,r.default)(t))&&(e=this._checkOptions(t),t=this._getHubSize());for(var i=[],o=0;o<this.body.nodeIndices.length;o++){var n=this.body.nodes[this.body.nodeIndices[o]];n.edges.length>=t&&i.push(n.id)}for(var s=0;s<i.length;s++)this.clusterByConnection(i[s],e,!0);this.body.emitter.emit("_dataChanged")}},{key:"cluster",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(void 0===e.joinCondition)throw new Error("Cannot call clusterByNodeData without a joinCondition function in the options.");e=this._checkOptions(e);var o={},n={};h.forEach(this.body.nodes,function(i,r){var s=l.cloneOptions(i);!0===e.joinCondition(s)&&(o[r]=i,h.forEach(i.edges,function(e){void 0===t.clusteredEdges[e.id]&&(n[e.id]=e)}))}),this._cluster(o,n,e,i)}},{key:"clusterByEdgeCount",value:function(t,e){var i=this,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];e=this._checkOptions(e);for(var r=[],s={},a=void 0,h=void 0,p=void 0,u=0;u<this.body.nodeIndices.length;u++){var d,c;!function(o){var u={},f={},y=i.body.nodeIndices[o],g=i.body.nodes[y];if(void 0===s[y]){p=0,h=[];for(var m=0;m<g.edges.length;m++)void 0===i.clusteredEdges[(a=g.edges[m]).id]&&(a.toId!==a.fromId&&p++,h.push(a));if(p===t){d=function(t){if(void 0===e.joinCondition||null===e.joinCondition)return!0;var i=l.cloneOptions(t);return e.joinCondition(i)};for(var v=!0,b=0;b<h.length;b++){var w=i._getConnectedId(a=h[b],y);if(!d(g)){v=!1;break}f[a.id]=a,u[y]=g,u[w]=i.body.nodes[w],s[y]=!0}if((0,n.default)(u).length>0&&(0,n.default)(f).length>0&&!0===v)if(void 0!==(c=function(){for(var t=0;t<r.length;++t)for(var e in u)if(void 0!==r[t].nodes[e])return r[t]}())){for(var x in u)void 0===c.nodes[x]&&(c.nodes[x]=u[x]);for(var _ in f)void 0===c.edges[_]&&(c.edges[_]=f[_])}else r.push({nodes:u,edges:f})}}}(u)}for(u=0;u<r.length;u++)this._cluster(r[u].nodes,r[u].edges,e,!1);!0===o&&this.body.emitter.emit("_dataChanged")}},{key:"clusterOutliers",value:function(t){this.clusterByEdgeCount(1,t,!(arguments.length>1&&void 0!==arguments[1])||arguments[1])}},{key:"clusterBridges",value:function(t){this.clusterByEdgeCount(2,t,!(arguments.length>1&&void 0!==arguments[1])||arguments[1])}},{key:"clusterByConnection",value:function(t,e){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0===t)throw new Error("No nodeId supplied to clusterByConnection!");if(void 0===this.body.nodes[t])throw new Error("The nodeId given to clusterByConnection does not exist!");var o=this.body.nodes[t];void 0===(e=this._checkOptions(e,o)).clusterNodeProperties.x&&(e.clusterNodeProperties.x=o.x),void 0===e.clusterNodeProperties.y&&(e.clusterNodeProperties.y=o.y),void 0===e.clusterNodeProperties.fixed&&(e.clusterNodeProperties.fixed={},e.clusterNodeProperties.fixed.x=o.options.fixed.x,e.clusterNodeProperties.fixed.y=o.options.fixed.y);var r={},s={},a=o.id,h=l.cloneOptions(o);r[a]=o;for(var p=0;p<o.edges.length;p++){var u=o.edges[p];if(void 0===this.clusteredEdges[u.id]){var d=this._getConnectedId(u,a);if(void 0===this.clusteredNodes[d])if(d!==a)if(void 0===e.joinCondition)s[u.id]=u,r[d]=this.body.nodes[d];else{var c=l.cloneOptions(this.body.nodes[d]);!0===e.joinCondition(h,c)&&(s[u.id]=u,r[d]=this.body.nodes[d])}else s[u.id]=u}}var f=(0,n.default)(r).map(function(t){return r[t].id});for(y in r)if(r.hasOwnProperty(y))for(var y=r[y],g=0;g<y.edges.length;g++){var m=y.edges[g];f.indexOf(this._getConnectedId(m,y.id))>-1&&(s[m.id]=m)}this._cluster(r,s,e,i)}},{key:"_createClusterEdges",value:function(t,e,i,o){for(var r=void 0,s=void 0,a=void 0,h=void 0,l=void 0,p=void 0,u=(0,n.default)(t),d=[],c=0;c<u.length;c++){a=t[s=u[c]];for(var f=0;f<a.edges.length;f++)void 0===this.clusteredEdges[(r=a.edges[f]).id]&&(r.toId==r.fromId?e[r.id]=r:r.toId==s?(h=i.id,p=l=r.fromId):(l=i.id,p=h=r.toId),void 0===t[p]&&d.push({edge:r,fromId:l,toId:h}))}for(var y=[],g=0;g<d.length;g++){var m=d[g],v=m.edge,b=function(t){for(var e=0;e<y.length;e++){var i=y[e];if(t.fromId===i.fromId&&t.toId===i.toId||t.fromId===i.toId&&t.toId===i.fromId)return i}return null}(m);null===b?(b=this._createClusteredEdge(m.fromId,m.toId,v,o),y.push(b)):b.clusteringEdgeReplacingIds.push(v.id),this.body.edges[v.id].edgeReplacedById=b.id,this._backupEdgeOptions(v),v.setOptions({physics:!1})}}},{key:"_checkOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return void 0===t.clusterEdgeProperties&&(t.clusterEdgeProperties={}),void 0===t.clusterNodeProperties&&(t.clusterNodeProperties={}),t}},{key:"_cluster",value:function(t,e,i){var o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=[];for(var s in t)t.hasOwnProperty(s)&&void 0!==this.clusteredNodes[s]&&r.push(s);for(var a=0;a<r.length;++a)delete t[r[a]];if(0!=(0,n.default)(t).length&&(1!=(0,n.default)(t).length||1==i.clusterNodeProperties.allowSingleNodeCluster)){var u=h.deepExtend({},i.clusterNodeProperties);if(void 0!==i.processProperties){var d=[];for(var c in t)if(t.hasOwnProperty(c)){var f=l.cloneOptions(t[c]);d.push(f)}var y=[];for(var g in e)if(e.hasOwnProperty(g)&&"clusterEdge:"!==g.substr(0,12)){var m=l.cloneOptions(e[g],"edge");y.push(m)}if(!(u=i.processProperties(u,d,y)))throw new Error("The processProperties function does not return properties!")}void 0===u.id&&(u.id="cluster:"+h.randomUUID());var v=u.id;void 0===u.label&&(u.label="cluster");var b=void 0;void 0===u.x&&(b=this._getClusterPosition(t),u.x=b.x),void 0===u.y&&(void 0===b&&(b=this._getClusterPosition(t)),u.y=b.y),u.id=v;var w=this.body.functions.createNode(u,p);w.containedNodes=t,w.containedEdges=e,w.clusterEdgeProperties=i.clusterEdgeProperties,this.body.nodes[u.id]=w,this._clusterEdges(t,e,u,i.clusterEdgeProperties),u.id=void 0,!0===o&&this.body.emitter.emit("_dataChanged")}}},{key:"_backupEdgeOptions",value:function(t){void 0===this.clusteredEdges[t.id]&&(this.clusteredEdges[t.id]={physics:t.options.physics})}},{key:"_restoreEdge",value:function(t){var e=this.clusteredEdges[t.id];void 0!==e&&(t.setOptions({physics:e.physics}),delete this.clusteredEdges[t.id])}},{key:"isCluster",value:function(t){return void 0!==this.body.nodes[t]?!0===this.body.nodes[t].isCluster:(console.log("Node does not exist."),!1)}},{key:"_getClusterPosition",value:function(t){for(var e=(0,n.default)(t),i=t[e[0]].x,o=t[e[0]].x,r=t[e[0]].y,s=t[e[0]].y,a=void 0,h=1;h<e.length;h++)i=(a=t[e[h]]).x<i?a.x:i,o=a.x>o?a.x:o,r=a.y<r?a.y:r,s=a.y>s?a.y:s;return{x:.5*(i+o),y:.5*(r+s)}}},{key:"openCluster",value:function(t,e){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0===t)throw new Error("No clusterNodeId supplied to openCluster.");var o=this.body.nodes[t];if(void 0===o)throw new Error("The clusterNodeId supplied to openCluster does not exist.");if(!0!==o.isCluster||void 0===o.containedNodes||void 0===o.containedEdges)throw new Error("The node:"+t+" is not a valid cluster.");var n=this.findNode(t),r=n.indexOf(t)-1;if(r>=0)return this.body.nodes[n[r]]._openChildCluster(t),delete this.body.nodes[t],void(!0===i&&this.body.emitter.emit("_dataChanged"));var s=o.containedNodes,a=o.containedEdges;if(void 0!==e&&void 0!==e.releaseFunction&&"function"==typeof e.releaseFunction){var l={},p={x:o.x,y:o.y};for(var u in s)if(s.hasOwnProperty(u)){var d=this.body.nodes[u];l[u]={x:d.x,y:d.y}}var c=e.releaseFunction(p,l);for(var f in s)if(s.hasOwnProperty(f)){var y=this.body.nodes[f];void 0!==c[f]&&(y.x=void 0===c[f].x?o.x:c[f].x,y.y=void 0===c[f].y?o.y:c[f].y)}}else h.forEach(s,function(t){!1===t.options.fixed.x&&(t.x=o.x),!1===t.options.fixed.y&&(t.y=o.y)});for(var g in s)if(s.hasOwnProperty(g)){var m=this.body.nodes[g];m.vx=o.vx,m.vy=o.vy,m.setOptions({physics:!0}),delete this.clusteredNodes[g]}for(var v=[],b=0;b<o.edges.length;b++)v.push(o.edges[b]);for(var w=0;w<v.length;w++){for(var x=v[w],_=this._getConnectedId(x,t),M=this.clusteredNodes[_],k=0;k<x.clusteringEdgeReplacingIds.length;k++){var S=this.body.edges[x.clusteringEdgeReplacingIds[k]];if(void 0!==S)if(void 0!==M){var C=this.body.nodes[M.clusterId];C.containedEdges[S.id]=S,delete a[S.id];var E=S.fromId,T=S.toId;S.toId==_?T=M.clusterId:E=M.clusterId,this._createClusteredEdge(E,T,S,C.clusterEdgeProperties,{hidden:!1,physics:!0})}else this._restoreEdge(S)}x.remove()}for(var P in a)a.hasOwnProperty(P)&&this._restoreEdge(a[P]);delete this.body.nodes[t],!0===i&&this.body.emitter.emit("_dataChanged")}},{key:"getNodesInCluster",value:function(t){var e=[];if(!0===this.isCluster(t)){var i=this.body.nodes[t].containedNodes;for(var o in i)i.hasOwnProperty(o)&&e.push(this.body.nodes[o].id)}return e}},{key:"findNode",value:function(t){for(var e=[],i=0,o=void 0;void 0!==this.clusteredNodes[t]&&i<100;){if(void 0===(o=this.body.nodes[t]))return[];e.push(o.id),t=this.clusteredNodes[t].clusterId,i++}return void 0===(o=this.body.nodes[t])?[]:(e.push(o.id),e.reverse(),e)}},{key:"updateClusteredNode",value:function(t,e){if(void 0===t)throw new Error("No clusteredNodeId supplied to updateClusteredNode.");if(void 0===e)throw new Error("No newOptions supplied to updateClusteredNode.");if(void 0===this.body.nodes[t])throw new Error("The clusteredNodeId supplied to updateClusteredNode does not exist.");this.body.nodes[t].setOptions(e),this.body.emitter.emit("_dataChanged")}},{key:"updateEdge",value:function(t,e){if(void 0===t)throw new Error("No startEdgeId supplied to updateEdge.");if(void 0===e)throw new Error("No newOptions supplied to updateEdge.");if(void 0===this.body.edges[t])throw new Error("The startEdgeId supplied to updateEdge does not exist.");for(var i=this.getClusteredEdges(t),o=0;o<i.length;o++)this.body.edges[i[o]].setOptions(e);this.body.emitter.emit("_dataChanged")}},{key:"getClusteredEdges",value:function(t){for(var e=[],i=0;void 0!==t&&void 0!==this.body.edges[t]&&i<100;)e.push(this.body.edges[t].id),t=this.body.edges[t].edgeReplacedById,i++;return e.reverse(),e}},{key:"getBaseEdge",value:function(t){return this.getBaseEdges(t)[0]}},{key:"getBaseEdges",value:function(t){for(var e=[t],i=[],o=[],n=0;e.length>0&&n<100;){var r=e.pop();if(void 0!==r){var s=this.body.edges[r];if(void 0!==s){n++;var a=s.clusteringEdgeReplacingIds;if(void 0===a)o.push(r);else for(var h=0;h<a.length;++h){var l=a[h];-1===e.indexOf(a)&&-1===i.indexOf(a)&&e.push(l)}i.push(r)}}}return o}},{key:"_getConnectedId",value:function(t,e){return t.toId!=e?t.toId:t.fromId}},{key:"_getHubSize",value:function(){for(var t=0,e=0,i=0,o=0,n=0;n<this.body.nodeIndices.length;n++){var r=this.body.nodes[this.body.nodeIndices[n]];r.edges.length>o&&(o=r.edges.length),t+=r.edges.length,e+=Math.pow(r.edges.length,2),i+=1}t/=i;var s=(e/=i)-Math.pow(t,2),a=Math.sqrt(s),h=Math.floor(t+2*a);return h>o&&(h=o),h}},{key:"_createClusteredEdge",value:function(t,e,i,o,n){var r=l.cloneOptions(i,"edge");h.deepExtend(r,o),r.from=t,r.to=e,r.id="clusterEdge:"+h.randomUUID(),void 0!==n&&h.deepExtend(r,n);var s=this.body.functions.createEdge(r);return s.clusteringEdgeReplacingIds=[i.id],s.connect(),this.body.edges[s.id]=s,s}},{key:"_clusterEdges",value:function(t,e,i,o){if(e instanceof u){var n={};n[e.id]=e,e=n}if(t instanceof d){var r={};r[t.id]=t,t=r}if(void 0===i||null===i)throw new Error("_clusterEdges: parameter clusterNode required");for(var s in void 0===o&&(o=i.clusterEdgeProperties),this._createClusterEdges(t,e,i,o),e)if(e.hasOwnProperty(s)&&void 0!==this.body.edges[s]){var a=this.body.edges[s];this._backupEdgeOptions(a),a.setOptions({physics:!1})}for(var h in t)t.hasOwnProperty(h)&&(this.clusteredNodes[h]={clusterId:i.id,node:this.body.nodes[h]},this.body.nodes[h].setOptions({physics:!1}))}},{key:"_getClusterNodeForNode",value:function(t){if(void 0!==t){var e=this.clusteredNodes[t];if(void 0!==e){var i=e.clusterId;if(void 0!==i)return this.body.nodes[i]}}}},{key:"_filter",value:function(t,e){var i=[];return h.forEach(t,function(t){e(t)&&i.push(t)}),i}},{key:"_updateState",value:function(){var t=this,e=void 0,i=[],o=[],r=function(e){h.forEach(t.body.nodes,function(t){!0===t.isCluster&&e(t)})};for(e in this.clusteredNodes)this.clusteredNodes.hasOwnProperty(e)&&void 0===this.body.nodes[e]&&i.push(e);r(function(t){for(var e=0;e<i.length;e++)delete t.containedNodes[i[e]]});for(var s=0;s<i.length;s++)delete this.clusteredNodes[i[s]];h.forEach(this.clusteredEdges,function(e){var i=t.body.edges[e];void 0!==i&&i.endPointsValid()||o.push(e)}),r(function(t){h.forEach(t.containedEdges,function(t,e){t.endPointsValid()||-1!==o.indexOf(e)||o.push(e)})}),h.forEach(this.body.edges,function(e,i){var n=!0,r=e.clusteringEdgeReplacingIds;if(void 0!==r){var s=0;h.forEach(r,function(e){var i=t.body.edges[e];void 0!==i&&i.endPointsValid()&&(s+=1)}),n=s>0}e.endPointsValid()&&n||o.push(i)}),r(function(e){h.forEach(o,function(i){delete e.containedEdges[i],h.forEach(e.edges,function(n,r){n.id!==i?n.clusteringEdgeReplacingIds=t._filter(n.clusteringEdgeReplacingIds,function(t){return-1===o.indexOf(t)}):e.edges[r]=null}),e.edges=t._filter(e.edges,function(t){return null!==t})})}),h.forEach(o,function(e){delete t.clusteredEdges[e]}),h.forEach(o,function(e){delete t.body.edges[e]});var a=(0,n.default)(this.body.edges);h.forEach(a,function(e){var i=t.body.edges[e],o=t._isClusteredNode(i.fromId)||t._isClusteredNode(i.toId);if(o!==t._isClusteredEdge(i.id)){if(!o)throw new Error("remove edge from clustering not implemented!");var n=t._getClusterNodeForNode(i.fromId);void 0!==n&&t._clusterEdges(t.body.nodes[i.fromId],i,n);var r=t._getClusterNodeForNode(i.toId);void 0!==r&&t._clusterEdges(t.body.nodes[i.toId],i,r)}});for(var l=!1,p=!0;p;)!function(){var e=[];r(function(t){var i=(0,n.default)(t.containedNodes).length,o=!0===t.options.allowSingleNodeCluster;(o&&i<1||!o&&i<2)&&e.push(t.id)});for(var i=0;i<e.length;++i)t.openCluster(e[i],{},!1);p=e.length>0,l=l||p}();l&&this._updateState()}},{key:"_isClusteredNode",value:function(t){return void 0!==this.clusteredNodes[t]}},{key:"_isClusteredEdge",value:function(t){return void 0!==this.clusteredEdges[t]}}]),t}();e.default=c},function(t,e,i){function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=o(i(3)),r=o(i(0)),s=o(i(1)),a=o(i(4)),h=o(i(5)),l=i(2),p=i(47).default,u=function(t){function e(t,i,o,s,h,l){(0,r.default)(this,e);var p=(0,a.default)(this,(e.__proto__||(0,n.default)(e)).call(this,t,i,o,s,h,l));return p.isCluster=!0,p.containedNodes={},p.containedEdges={},p}return(0,h.default)(e,p),(0,s.default)(e,[{key:"_openChildCluster",value:function(t){var e=this,i=this.body.nodes[t];if(void 0===this.containedNodes[t])throw new Error("node with id: "+t+" not in current cluster");if(!i.isCluster)throw new Error("node with id: "+t+" is not a cluster");delete this.containedNodes[t],l.forEach(i.edges,function(t){delete e.containedEdges[t.id]}),l.forEach(i.containedNodes,function(t,i){e.containedNodes[i]=t}),i.containedNodes={},l.forEach(i.containedEdges,function(t,i){e.containedEdges[i]=t}),i.containedEdges={},l.forEach(i.edges,function(t){l.forEach(e.edges,function(i){var o=i.clusteringEdgeReplacingIds.indexOf(t.id);-1!==o&&(l.forEach(t.clusteringEdgeReplacingIds,function(t){i.clusteringEdgeReplacingIds.push(t),e.body.edges[t].edgeReplacedById=i.id}),i.clusteringEdgeReplacingIds.splice(o,1))})}),i.edges=[]}}]),e}();e.default=u},function(t,e,i){function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=o(i(0)),r=o(i(1)),s=i(2),a=function(){function t(e,i){(0,n.default)(this,t),function(){var t;void 0!==window&&(t=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame),window.requestAnimationFrame=void 0===t?function(t){t()}:t}(),this.body=e,this.canvas=i,this.redrawRequested=!1,this.renderTimer=void 0,this.requiresTimeout=!0,this.renderingActive=!1,this.renderRequests=0,this.allowRedraw=!0,this.dragging=!1,this.options={},this.defaultOptions={hideEdgesOnDrag:!1,hideNodesOnDrag:!1},s.extend(this.options,this.defaultOptions),this._determineBrowserMethod(),this.bindEventListeners()}return(0,r.default)(t,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.on("dragStart",function(){t.dragging=!0}),this.body.emitter.on("dragEnd",function(){t.dragging=!1}),this.body.emitter.on("_resizeNodes",function(){t._resizeNodes()}),this.body.emitter.on("_redraw",function(){!1===t.renderingActive&&t._redraw()}),this.body.emitter.on("_blockRedraw",function(){t.allowRedraw=!1}),this.body.emitter.on("_allowRedraw",function(){t.allowRedraw=!0,t.redrawRequested=!1}),this.body.emitter.on("_requestRedraw",this._requestRedraw.bind(this)),this.body.emitter.on("_startRendering",function(){t.renderRequests+=1,t.renderingActive=!0,t._startRendering()}),this.body.emitter.on("_stopRendering",function(){t.renderRequests-=1,t.renderingActive=t.renderRequests>0,t.renderTimer=void 0}),this.body.emitter.on("destroy",function(){t.renderRequests=0,t.allowRedraw=!1,t.renderingActive=!1,!0===t.requiresTimeout?clearTimeout(t.renderTimer):window.cancelAnimationFrame(t.renderTimer),t.body.emitter.off()})}},{key:"setOptions",value:function(t){void 0!==t&&s.selectiveDeepExtend(["hideEdgesOnDrag","hideNodesOnDrag"],this.options,t)}},{key:"_requestNextFrame",value:function(t,e){if("undefined"!=typeof window){var i=void 0,o=window;return!0===this.requiresTimeout?i=o.setTimeout(t,e):o.requestAnimationFrame&&(i=o.requestAnimationFrame(t)),i}}},{key:"_startRendering",value:function(){!0===this.renderingActive&&void 0===this.renderTimer&&(this.renderTimer=this._requestNextFrame(this._renderStep.bind(this),this.simulationInterval))}},{key:"_renderStep",value:function(){!0===this.renderingActive&&(this.renderTimer=void 0,!0===this.requiresTimeout&&this._startRendering(),this._redraw(),!1===this.requiresTimeout&&this._startRendering())}},{key:"redraw",value:function(){this.body.emitter.emit("setSize"),this._redraw()}},{key:"_requestRedraw",value:function(){var t=this;!0!==this.redrawRequested&&!1===this.renderingActive&&!0===this.allowRedraw&&(this.redrawRequested=!0,this._requestNextFrame(function(){t._redraw(!1)},0))}},{key:"_redraw",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!0===this.allowRedraw){this.body.emitter.emit("initRedraw"),this.redrawRequested=!1,0!==this.canvas.frame.canvas.width&&0!==this.canvas.frame.canvas.height||this.canvas.setSize(),this.canvas.setTransform();var e=this.canvas.getContext(),i=this.canvas.frame.canvas.clientWidth,o=this.canvas.frame.canvas.clientHeight;if(e.clearRect(0,0,i,o),0===this.canvas.frame.clientWidth)return;e.save(),e.translate(this.body.view.translation.x,this.body.view.translation.y),e.scale(this.body.view.scale,this.body.view.scale),e.beginPath(),this.body.emitter.emit("beforeDrawing",e),e.closePath(),!1===t&&(!1===this.dragging||!0===this.dragging&&!1===this.options.hideEdgesOnDrag)&&this._drawEdges(e),(!1===this.dragging||!0===this.dragging&&!1===this.options.hideNodesOnDrag)&&this._drawNodes(e,t),e.beginPath(),this.body.emitter.emit("afterDrawing",e),e.closePath(),e.restore(),!0===t&&e.clearRect(0,0,i,o)}}},{key:"_resizeNodes",value:function(){this.canvas.setTransform();var t=this.canvas.getContext();t.save(),t.translate(this.body.view.translation.x,this.body.view.translation.y),t.scale(this.body.view.scale,this.body.view.scale);var e=this.body.nodes,i=void 0;for(var o in e)e.hasOwnProperty(o)&&((i=e[o]).resize(t),i.updateBoundingBox(t,i.selected));t.restore()}},{key:"_drawNodes",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.body.nodes,o=this.body.nodeIndices,n=void 0,r=[],s=this.canvas.DOMtoCanvas({x:-20,y:-20}),a=this.canvas.DOMtoCanvas({x:this.canvas.frame.canvas.clientWidth+20,y:this.canvas.frame.canvas.clientHeight+20}),h={top:s.y,left:s.x,bottom:a.y,right:a.x},l=0;l<o.length;l++)(n=i[o[l]]).isSelected()?r.push(o[l]):!0===e?n.draw(t):!0===n.isBoundingBoxOverlappingWith(h)?n.draw(t):n.updateBoundingBox(t,n.selected);for(var p=0;p<r.length;p++)(n=i[r[p]]).draw(t)}},{key:"_drawEdges",value:function(t){for(var e=this.body.edges,i=this.body.edgeIndices,o=void 0,n=0;n<i.length;n++)!0===(o=e[i[n]]).connected&&o.draw(t)}},{key:"_determineBrowserMethod",value:function(){if("undefined"!=typeof window){var t=navigator.userAgent.toLowerCase();this.requiresTimeout=!1,-1!=t.indexOf("msie 9.0")?this.requiresTimeout=!0:-1!=t.indexOf("safari")&&t.indexOf("chrome")<=-1&&(this.requiresTimeout=!0)}else this.requiresTimeout=!0}}]),t}();e.default=a},function(t,e,i){function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=o(i(0)),r=o(i(1)),s=i(10),a=i(37),h=i(2),l=function(){function t(e){(0,n.default)(this,t),this.body=e,this.pixelRatio=1,this.resizeTimer=void 0,this.resizeFunction=this._onResize.bind(this),this.cameraState={},this.initialized=!1,this.canvasViewCenter={},this.options={},this.defaultOptions={autoResize:!0,height:"100%",width:"100%"},h.extend(this.options,this.defaultOptions),this.bindEventListeners()}return(0,r.default)(t,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.once("resize",function(e){0!==e.width&&(t.body.view.translation.x=.5*e.width),0!==e.height&&(t.body.view.translation.y=.5*e.height)}),this.body.emitter.on("setSize",this.setSize.bind(this)),this.body.emitter.on("destroy",function(){t.hammerFrame.destroy(),t.hammer.destroy(),t._cleanUp()})}},{key:"setOptions",value:function(t){var e=this;void 0!==t&&h.selectiveDeepExtend(["width","height","autoResize"],this.options,t),!0===this.options.autoResize&&(this._cleanUp(),this.resizeTimer=setInterval(function(){!0===e.setSize()&&e.body.emitter.emit("_requestRedraw")},1e3),this.resizeFunction=this._onResize.bind(this),h.addEventListener(window,"resize",this.resizeFunction))}},{key:"_cleanUp",value:function(){void 0!==this.resizeTimer&&clearInterval(this.resizeTimer),h.removeEventListener(window,"resize",this.resizeFunction),this.resizeFunction=void 0}},{key:"_onResize",value:function(){this.setSize(),this.body.emitter.emit("_redraw")}},{key:"_getCameraState",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.pixelRatio;!0===this.initialized&&(this.cameraState.previousWidth=this.frame.canvas.width/t,this.cameraState.previousHeight=this.frame.canvas.height/t,this.cameraState.scale=this.body.view.scale,this.cameraState.position=this.DOMtoCanvas({x:.5*this.frame.canvas.width/t,y:.5*this.frame.canvas.height/t}))}},{key:"_setCameraState",value:function(){if(void 0!==this.cameraState.scale&&0!==this.frame.canvas.clientWidth&&0!==this.frame.canvas.clientHeight&&0!==this.pixelRatio&&this.cameraState.previousWidth>0){var t=this.frame.canvas.width/this.pixelRatio/this.cameraState.previousWidth,e=this.frame.canvas.height/this.pixelRatio/this.cameraState.previousHeight,i=this.cameraState.scale;1!=t&&1!=e?i=.5*this.cameraState.scale*(t+e):1!=t?i=this.cameraState.scale*t:1!=e&&(i=this.cameraState.scale*e),this.body.view.scale=i;var o=this.DOMtoCanvas({x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight}),n={x:o.x-this.cameraState.position.x,y:o.y-this.cameraState.position.y};this.body.view.translation.x+=n.x*this.body.view.scale,this.body.view.translation.y+=n.y*this.body.view.scale}}},{key:"_prepareValue",value:function(t){if("number"==typeof t)return t+"px";if("string"==typeof t){if(-1!==t.indexOf("%")||-1!==t.indexOf("px"))return t;if(-1===t.indexOf("%"))return t+"px"}throw new Error("Could not use the value supplied for width or height:"+t)}},{key:"_create",value:function(){for(;this.body.container.hasChildNodes();)this.body.container.removeChild(this.body.container.firstChild);if(this.frame=document.createElement("div"),this.frame.className="vis-network",this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.tabIndex=900,this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas),this.frame.canvas.getContext)this._setPixelRatio(),this.setTransform();else{var t=document.createElement("DIV");t.style.color="red",t.style.fontWeight="bold",t.style.padding="10px",t.innerHTML="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(t)}this.body.container.appendChild(this.frame),this.body.view.scale=1,this.body.view.translation={x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight},this._bindHammer()}},{key:"_bindHammer",value:function(){var t=this;void 0!==this.hammer&&this.hammer.destroy(),this.drag={},this.pinch={},this.hammer=new s(this.frame.canvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.get("pan").set({threshold:5,direction:s.DIRECTION_ALL}),a.onTouch(this.hammer,function(e){t.body.eventListeners.onTouch(e)}),this.hammer.on("tap",function(e){t.body.eventListeners.onTap(e)}),this.hammer.on("doubletap",function(e){t.body.eventListeners.onDoubleTap(e)}),this.hammer.on("press",function(e){t.body.eventListeners.onHold(e)}),this.hammer.on("panstart",function(e){t.body.eventListeners.onDragStart(e)}),this.hammer.on("panmove",function(e){t.body.eventListeners.onDrag(e)}),this.hammer.on("panend",function(e){t.body.eventListeners.onDragEnd(e)}),this.hammer.on("pinch",function(e){t.body.eventListeners.onPinch(e)}),this.frame.canvas.addEventListener("mousewheel",function(e){t.body.eventListeners.onMouseWheel(e)}),this.frame.canvas.addEventListener("DOMMouseScroll",function(e){t.body.eventListeners.onMouseWheel(e)}),this.frame.canvas.addEventListener("mousemove",function(e){t.body.eventListeners.onMouseMove(e)}),this.frame.canvas.addEventListener("contextmenu",function(e){t.body.eventListeners.onContext(e)}),this.hammerFrame=new s(this.frame),a.onRelease(this.hammerFrame,function(e){t.body.eventListeners.onRelease(e)})}},{key:"setSize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.width,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.height;t=this._prepareValue(t),e=this._prepareValue(e);var i=!1,o=this.frame.canvas.width,n=this.frame.canvas.height,r=this.pixelRatio;if(this._setPixelRatio(),t!=this.options.width||e!=this.options.height||this.frame.style.width!=t||this.frame.style.height!=e)this._getCameraState(r),this.frame.style.width=t,this.frame.style.height=e,this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),this.frame.canvas.height=Math.round(this.frame.canvas.clientHeight*this.pixelRatio),this.options.width=t,this.options.height=e,this.canvasViewCenter={x:.5*this.frame.clientWidth,y:.5*this.frame.clientHeight},i=!0;else{var s=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),a=Math.round(this.frame.canvas.clientHeight*this.pixelRatio);this.frame.canvas.width===s&&this.frame.canvas.height===a||this._getCameraState(r),this.frame.canvas.width!==s&&(this.frame.canvas.width=s,i=!0),this.frame.canvas.height!==a&&(this.frame.canvas.height=a,i=!0)}return!0===i&&(this.body.emitter.emit("resize",{width:Math.round(this.frame.canvas.width/this.pixelRatio),height:Math.round(this.frame.canvas.height/this.pixelRatio),oldWidth:Math.round(o/this.pixelRatio),oldHeight:Math.round(n/this.pixelRatio)}),this._setCameraState()),this.initialized=!0,i}},{key:"getContext",value:function(){return this.frame.canvas.getContext("2d")}},{key:"_determinePixelRatio",value:function(){var t=this.getContext();if(void 0===t)throw new Error("Could not get canvax context");var e=1;return"undefined"!=typeof window&&(e=window.devicePixelRatio||1),e/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1)}},{key:"_setPixelRatio",value:function(){this.pixelRatio=this._determinePixelRatio()}},{key:"setTransform",value:function(){var t=this.getContext();if(void 0===t)throw new Error("Could not get canvax context");t.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}},{key:"_XconvertDOMtoCanvas",value:function(t){return(t-this.body.view.translation.x)/this.body.view.scale}},{key:"_XconvertCanvasToDOM",value:function(t){return t*this.body.view.scale+this.body.view.translation.x}},{key:"_YconvertDOMtoCanvas",value:function(t){return(t-this.body.view.translation.y)/this.body.view.scale}},{key:"_YconvertCanvasToDOM",value:function(t){return t*this.body.view.scale+this.body.view.translation.y}},{key:"canvasToDOM",value:function(t){return{x:this._XconvertCanvasToDOM(t.x),y:this._YconvertCanvasToDOM(t.y)}}},{key:"DOMtoCanvas",value:function(t){return{x:this._XconvertDOMtoCanvas(t.x),y:this._YconvertDOMtoCanvas(t.y)}}}]),t}();e.default=l},function(t,e,i){function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=o(i(0)),r=o(i(1)),s=i(2),a=i(76).default,h=function(){function t(e,i){var o=this;(0,n.default)(this,t),this.body=e,this.canvas=i,this.animationSpeed=1/this.renderRefreshRate,this.animationEasingFunction="easeInOutQuint",this.easingTime=0,this.sourceScale=0,this.targetScale=0,this.sourceTranslation=0,this.targetTranslation=0,this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0,this.touchTime=0,this.viewFunction=void 0,this.body.emitter.on("fit",this.fit.bind(this)),this.body.emitter.on("animationFinished",function(){o.body.emitter.emit("_stopRendering")}),this.body.emitter.on("unlockNode",this.releaseNode.bind(this))}return(0,r.default)(t,[{key:"setOptions",value:function(){this.options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}}},{key:"fit",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{nodes:[]},e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=void 0,o=void 0;if(void 0!==t.nodes&&0!==t.nodes.length||(t.nodes=this.body.nodeIndices),!0===e){var n=0;for(var r in this.body.nodes)this.body.nodes.hasOwnProperty(r)&&!0===this.body.nodes[r].predefinedPosition&&(n+=1);if(n>.5*this.body.nodeIndices.length)return void this.fit(t,!1);i=a.getRange(this.body.nodes,t.nodes),o=12.662/(this.body.nodeIndices.length+7.4147)+.0964822,o*=Math.min(this.canvas.frame.canvas.clientWidth/600,this.canvas.frame.canvas.clientHeight/600)}else{this.body.emitter.emit("_resizeNodes"),i=a.getRange(this.body.nodes,t.nodes);var s=1.1*Math.abs(i.maxX-i.minX),h=1.1*Math.abs(i.maxY-i.minY),l=this.canvas.frame.canvas.clientWidth/s,p=this.canvas.frame.canvas.clientHeight/h;o=l<=p?l:p}o>1?o=1:0===o&&(o=1);var u=a.findCenter(i);this.moveTo({position:u,scale:o,animation:t.animation})}},{key:"focus",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};void 0!==this.body.nodes[t]?(e.position={x:this.body.nodes[t].x,y:this.body.nodes[t].y},e.lockedOnNode=t,this.moveTo(e)):console.log("Node: "+t+" cannot be found.")}},{key:"moveTo",value:function(t){void 0!==t?(void 0===t.offset&&(t.offset={x:0,y:0}),void 0===t.offset.x&&(t.offset.x=0),void 0===t.offset.y&&(t.offset.y=0),void 0===t.scale&&(t.scale=this.body.view.scale),void 0===t.position&&(t.position=this.getViewPosition()),void 0===t.animation&&(t.animation={duration:0}),!1===t.animation&&(t.animation={duration:0}),!0===t.animation&&(t.animation={}),void 0===t.animation.duration&&(t.animation.duration=1e3),void 0===t.animation.easingFunction&&(t.animation.easingFunction="easeInOutQuad"),this.animateView(t)):t={}}},{key:"animateView",value:function(t){if(void 0!==t){this.animationEasingFunction=t.animation.easingFunction,this.releaseNode(),!0===t.locked&&(this.lockedOnNodeId=t.lockedOnNode,this.lockedOnNodeOffset=t.offset),0!=this.easingTime&&this._transitionRedraw(!0),this.sourceScale=this.body.view.scale,this.sourceTranslation=this.body.view.translation,this.targetScale=t.scale,this.body.view.scale=this.targetScale;var e=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),i={x:e.x-t.position.x,y:e.y-t.position.y};this.targetTranslation={x:this.sourceTranslation.x+i.x*this.targetScale+t.offset.x,y:this.sourceTranslation.y+i.y*this.targetScale+t.offset.y},0===t.animation.duration?void 0!=this.lockedOnNodeId?(this.viewFunction=this._lockedRedraw.bind(this),this.body.emitter.on("initRedraw",this.viewFunction)):(this.body.view.scale=this.targetScale,this.body.view.translation=this.targetTranslation,this.body.emitter.emit("_requestRedraw")):(this.animationSpeed=1/(60*t.animation.duration*.001)||1/60,this.animationEasingFunction=t.animation.easingFunction,this.viewFunction=this._transitionRedraw.bind(this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering"))}}},{key:"_lockedRedraw",value:function(){var t=this.body.nodes[this.lockedOnNodeId].x,e=this.body.nodes[this.lockedOnNodeId].y,i=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),o=this.body.view.translation;this.body.view.translation={x:o.x+(i.x-t)*this.body.view.scale+this.lockedOnNodeOffset.x,y:o.y+(i.y-e)*this.body.view.scale+this.lockedOnNodeOffset.y}}},{key:"releaseNode",value:function(){void 0!==this.lockedOnNodeId&&void 0!==this.viewFunction&&(this.body.emitter.off("initRedraw",this.viewFunction),this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0)}},{key:"_transitionRedraw",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.easingTime+=this.animationSpeed,this.easingTime=!0===t?1:this.easingTime;var e=s.easingFunctions[this.animationEasingFunction](this.easingTime);this.body.view.scale=this.sourceScale+(this.targetScale-this.sourceScale)*e,this.body.view.translation={x:this.sourceTranslation.x+(this.targetTranslation.x-this.sourceTranslation.x)*e,y:this.sourceTranslation.y+(this.targetTranslation.y-this.sourceTranslation.y)*e},this.easingTime>=1&&(this.body.emitter.off("initRedraw",this.viewFunction),this.easingTime=0,void 0!=this.lockedOnNodeId&&(this.viewFunction=this._lockedRedraw.bind(this),this.body.emitter.on("initRedraw",this.viewFunction)),this.body.emitter.emit("animationFinished"))}},{key:"getScale",value:function(){return this.body.view.scale}},{key:"getViewPosition",value:function(){return this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight})}}]),t}();e.default=h},function(t,e,i){function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=o(i(0)),r=o(i(1)),s=i(2),a=i(233).default,h=i(104).default,l=function(){function t(e,i,o){(0,n.default)(this,t),this.body=e,this.canvas=i,this.selectionHandler=o,this.navigationHandler=new a(e,i),this.body.eventListeners.onTap=this.onTap.bind(this),this.body.eventListeners.onTouch=this.onTouch.bind(this),this.body.eventListeners.onDoubleTap=this.onDoubleTap.bind(this),this.body.eventListeners.onHold=this.onHold.bind(this),this.body.eventListeners.onDragStart=this.onDragStart.bind(this),this.body.eventListeners.onDrag=this.onDrag.bind(this),this.body.eventListeners.onDragEnd=this.onDragEnd.bind(this),this.body.eventListeners.onMouseWheel=this.onMouseWheel.bind(this),this.body.eventListeners.onPinch=this.onPinch.bind(this),this.body.eventListeners.onMouseMove=this.onMouseMove.bind(this),this.body.eventListeners.onRelease=this.onRelease.bind(this),this.body.eventListeners.onContext=this.onContext.bind(this),this.touchTime=0,this.drag={},this.pinch={},this.popup=void 0,this.popupObj=void 0,this.popupTimer=void 0,this.body.functions.getPointer=this.getPointer.bind(this),this.options={},this.defaultOptions={dragNodes:!0,dragView:!0,hover:!1,keyboard:{enabled:!1,speed:{x:10,y:10,zoom:.02},bindToWindow:!0},navigationButtons:!1,tooltipDelay:300,zoomView:!0},s.extend(this.options,this.defaultOptions),this.bindEventListeners()}return(0,r.default)(t,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.on("destroy",function(){clearTimeout(t.popupTimer),delete t.body.functions.getPointer})}},{key:"setOptions",value:function(t){void 0!==t&&(s.selectiveNotDeepExtend(["hideEdgesOnDrag","hideNodesOnDrag","keyboard","multiselect","selectable","selectConnectedEdges"],this.options,t),s.mergeOptions(this.options,t,"keyboard"),t.tooltip&&(s.extend(this.options.tooltip,t.tooltip),t.tooltip.color&&(this.options.tooltip.color=s.parseColor(t.tooltip.color)))),this.navigationHandler.setOptions(this.options)}},{key:"getPointer",value:function(t){return{x:t.x-s.getAbsoluteLeft(this.canvas.frame.canvas),y:t.y-s.getAbsoluteTop(this.canvas.frame.canvas)}}},{key:"onTouch",value:function(t){(new Date).valueOf()-this.touchTime>50&&(this.drag.pointer=this.getPointer(t.center),this.drag.pinched=!1,this.pinch.scale=this.body.view.scale,this.touchTime=(new Date).valueOf())}},{key:"onTap",value:function(t){var e=this.getPointer(t.center);this.checkSelectionChanges(e,t,this.selectionHandler.options.multiselect&&(t.changedPointers[0].ctrlKey||t.changedPointers[0].metaKey)),this.selectionHandler._generateClickEvent("click",t,e)}},{key:"onDoubleTap",value:function(t){var e=this.getPointer(t.center);this.selectionHandler._generateClickEvent("doubleClick",t,e)}},{key:"onHold",value:function(t){var e=this.getPointer(t.center);this.checkSelectionChanges(e,t,this.selectionHandler.options.multiselect),this.selectionHandler._generateClickEvent("click",t,e),this.selectionHandler._generateClickEvent("hold",t,e)}},{key:"onRelease",value:function(t){if((new Date).valueOf()-this.touchTime>10){var e=this.getPointer(t.center);this.selectionHandler._generateClickEvent("release",t,e),this.touchTime=(new Date).valueOf()}}},{key:"onContext",value:function(t){var e=this.getPointer({x:t.clientX,y:t.clientY});this.selectionHandler._generateClickEvent("oncontext",t,e)}},{key:"checkSelectionChanges",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=this.selectionHandler.getSelection(),n=!1;n=!0===i?this.selectionHandler.selectAdditionalOnPoint(t):this.selectionHandler.selectOnPoint(t);var r=this.selectionHandler.getSelection(),s=this._determineDifference(o,r),a=this._determineDifference(r,o);s.edges.length>0&&(this.selectionHandler._generateClickEvent("deselectEdge",e,t,o),n=!0),s.nodes.length>0&&(this.selectionHandler._generateClickEvent("deselectNode",e,t,o),n=!0),a.nodes.length>0&&(this.selectionHandler._generateClickEvent("selectNode",e,t),n=!0),a.edges.length>0&&(this.selectionHandler._generateClickEvent("selectEdge",e,t),n=!0),!0===n&&this.selectionHandler._generateClickEvent("select",e,t)}},{key:"_determineDifference",value:function(t,e){var i=function(t,e){for(var i=[],o=0;o<t.length;o++){var n=t[o];-1===e.indexOf(n)&&i.push(n)}return i};return{nodes:i(t.nodes,e.nodes),edges:i(t.edges,e.edges)}}},{key:"onDragStart",value:function(t){void 0===this.drag.pointer&&this.onTouch(t);var e=this.selectionHandler.getNodeAt(this.drag.pointer);if(this.drag.dragging=!0,this.drag.selection=[],this.drag.translation=s.extend({},this.body.view.translation),this.drag.nodeId=void 0,void 0!==e&&!0===this.options.dragNodes){this.drag.nodeId=e.id,!1===e.isSelected()&&(this.selectionHandler.unselectAll(),this.selectionHandler.selectObject(e)),this.selectionHandler._generateClickEvent("dragStart",t,this.drag.pointer);var i=this.selectionHandler.selectionObj.nodes;for(var o in i)if(i.hasOwnProperty(o)){var n=i[o],r={id:n.id,node:n,x:n.x,y:n.y,xFixed:n.options.fixed.x,yFixed:n.options.fixed.y};n.options.fixed.x=!0,n.options.fixed.y=!0,this.drag.selection.push(r)}}else this.selectionHandler._generateClickEvent("dragStart",t,this.drag.pointer,void 0,!0)}},{key:"onDrag",value:function(t){var e=this;if(!0!==this.drag.pinched){this.body.emitter.emit("unlockNode");var i=this.getPointer(t.center),o=this.drag.selection;if(o&&o.length&&!0===this.options.dragNodes){this.selectionHandler._generateClickEvent("dragging",t,i);var n=i.x-this.drag.pointer.x,r=i.y-this.drag.pointer.y;o.forEach(function(t){var i=t.node;!1===t.xFixed&&(i.x=e.canvas._XconvertDOMtoCanvas(e.canvas._XconvertCanvasToDOM(t.x)+n)),!1===t.yFixed&&(i.y=e.canvas._YconvertDOMtoCanvas(e.canvas._YconvertCanvasToDOM(t.y)+r))}),this.body.emitter.emit("startSimulation")}else if(!0===this.options.dragView){if(this.selectionHandler._generateClickEvent("dragging",t,i,void 0,!0),void 0===this.drag.pointer)return void this.onDragStart(t);this.body.view.translation={x:this.drag.translation.x+(i.x-this.drag.pointer.x),y:this.drag.translation.y+(i.y-this.drag.pointer.y)},this.body.emitter.emit("_requestRedraw")}}}},{key:"onDragEnd",value:function(t){this.drag.dragging=!1;var e=this.drag.selection;e&&e.length?(e.forEach(function(t){t.node.options.fixed.x=t.xFixed,t.node.options.fixed.y=t.yFixed}),this.selectionHandler._generateClickEvent("dragEnd",t,this.getPointer(t.center)),this.body.emitter.emit("startSimulation")):(this.selectionHandler._generateClickEvent("dragEnd",t,this.getPointer(t.center),void 0,!0),this.body.emitter.emit("_requestRedraw"))}},{key:"onPinch",value:function(t){var e=this.getPointer(t.center);this.drag.pinched=!0,void 0===this.pinch.scale&&(this.pinch.scale=1),this.zoom(this.pinch.scale*t.scale,e)}},{key:"zoom",value:function(t,e){if(!0===this.options.zoomView){var i=this.body.view.scale;t<1e-5&&(t=1e-5),t>10&&(t=10);var o=void 0;void 0!==this.drag&&!0===this.drag.dragging&&(o=this.canvas.DOMtoCanvas(this.drag.pointer));var n=this.body.view.translation,r=t/i,s=(1-r)*e.x+n.x*r,a=(1-r)*e.y+n.y*r;if(this.body.view.scale=t,this.body.view.translation={x:s,y:a},void 0!=o){var h=this.canvas.canvasToDOM(o);this.drag.pointer.x=h.x,this.drag.pointer.y=h.y}this.body.emitter.emit("_requestRedraw"),this.body.emitter.emit("zoom",i<t?{direction:"+",scale:this.body.view.scale,pointer:e}:{direction:"-",scale:this.body.view.scale,pointer:e})}}},{key:"onMouseWheel",value:function(t){if(!0===this.options.zoomView){var e=0;if(t.wheelDelta?e=t.wheelDelta/120:t.detail&&(e=-t.detail/3),0!==e){var i=this.body.view.scale,o=e/10;e<0&&(o/=1-o),i*=1+o;var n=this.getPointer({x:t.clientX,y:t.clientY});this.zoom(i,n)}t.preventDefault()}}},{key:"onMouseMove",value:function(t){var e=this,i=this.getPointer({x:t.clientX,y:t.clientY}),o=!1;void 0!==this.popup&&(!1===this.popup.hidden&&this._checkHidePopup(i),!1===this.popup.hidden&&(o=!0,this.popup.setPosition(i.x+3,i.y-5),this.popup.show())),!1===this.options.keyboard.bindToWindow&&!0===this.options.keyboard.enabled&&this.canvas.frame.focus(),!1===o&&(void 0!==this.popupTimer&&(clearInterval(this.popupTimer),this.popupTimer=void 0),this.drag.dragging||(this.popupTimer=setTimeout(function(){return e._checkShowPopup(i)},this.options.tooltipDelay))),!0===this.options.hover&&this.selectionHandler.hoverObject(t,i)}},{key:"_checkShowPopup",value:function(t){var e=this.canvas._XconvertDOMtoCanvas(t.x),i=this.canvas._YconvertDOMtoCanvas(t.y),o={left:e,top:i,right:e,bottom:i},n=void 0===this.popupObj?void 0:this.popupObj.id,r=!1,s="node";if(void 0===this.popupObj){for(var a=this.body.nodeIndices,l=this.body.nodes,p=void 0,u=[],d=0;d<a.length;d++)!0===(p=l[a[d]]).isOverlappingWith(o)&&void 0!==p.getTitle()&&u.push(a[d]);u.length>0&&(this.popupObj=l[u[u.length-1]],r=!0)}if(void 0===this.popupObj&&!1===r){for(var c=this.body.edgeIndices,f=this.body.edges,y=void 0,g=[],m=0;m<c.length;m++)!0===(y=f[c[m]]).isOverlappingWith(o)&&!0===y.connected&&void 0!==y.getTitle()&&g.push(c[m]);g.length>0&&(this.popupObj=f[g[g.length-1]],s="edge")}void 0!==this.popupObj?this.popupObj.id!==n&&(void 0===this.popup&&(this.popup=new h(this.canvas.frame)),this.popup.popupTargetType=s,this.popup.popupTargetId=this.popupObj.id,this.popup.setPosition(t.x+3,t.y-5),this.popup.setText(this.popupObj.getTitle()),this.popup.show(),this.body.emitter.emit("showPopup",this.popupObj.id)):void 0!==this.popup&&(this.popup.hide(),this.body.emitter.emit("hidePopup"))}},{key:"_checkHidePopup",value:function(t){var e=this.selectionHandler._pointerToPositionObject(t),i=!1;if("node"===this.popup.popupTargetType){if(void 0!==this.body.nodes[this.popup.popupTargetId]&&!0===(i=this.body.nodes[this.popup.popupTargetId].isOverlappingWith(e))){var o=this.selectionHandler.getNodeAt(t);i=void 0!==o&&o.id===this.popup.popupTargetId}}else void 0===this.selectionHandler.getNodeAt(t)&&void 0!==this.body.edges[this.popup.popupTargetId]&&(i=this.body.edges[this.popup.popupTargetId].isOverlappingWith(e));!1===i&&(this.popupObj=void 0,this.popup.hide(),this.body.emitter.emit("hidePopup"))}}]),t}();e.default=l},function(t,e,i){function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=o(i(0)),r=o(i(1)),s=i(10),a=i(37),h=i(35),l=function(){function t(e,i){var o=this;(0,n.default)(this,t),this.body=e,this.canvas=i,this.iconsCreated=!1,this.navigationHammers=[],this.boundFunctions={},this.touchTime=0,this.activated=!1,this.body.emitter.on("activate",function(){o.activated=!0,o.configureKeyboardBindings()}),this.body.emitter.on("deactivate",function(){o.activated=!1,o.configureKeyboardBindings()}),this.body.emitter.on("destroy",function(){void 0!==o.keycharm&&o.keycharm.destroy()}),this.options={}}return(0,r.default)(t,[{key:"setOptions",value:function(t){void 0!==t&&(this.options=t,this.create())}},{key:"create",value:function(){!0===this.options.navigationButtons?!1===this.iconsCreated&&this.loadNavigationElements():!0===this.iconsCreated&&this.cleanNavigation(),this.configureKeyboardBindings()}},{key:"cleanNavigation",value:function(){if(0!=this.navigationHammers.length){for(var t=0;t<this.navigationHammers.length;t++)this.navigationHammers[t].destroy();this.navigationHammers=[]}this.navigationDOM&&this.navigationDOM.wrapper&&this.navigationDOM.wrapper.parentNode&&this.navigationDOM.wrapper.parentNode.removeChild(this.navigationDOM.wrapper),this.iconsCreated=!1}},{key:"loadNavigationElements",value:function(){var t=this;this.cleanNavigation(),this.navigationDOM={};var e=["up","down","left","right","zoomIn","zoomOut","zoomExtends"],i=["_moveUp","_moveDown","_moveLeft","_moveRight","_zoomIn","_zoomOut","_fit"];this.navigationDOM.wrapper=document.createElement("div"),this.navigationDOM.wrapper.className="vis-navigation",this.canvas.frame.appendChild(this.navigationDOM.wrapper);for(var o=0;o<e.length;o++){this.navigationDOM[e[o]]=document.createElement("div"),this.navigationDOM[e[o]].className="vis-button vis-"+e[o],this.navigationDOM.wrapper.appendChild(this.navigationDOM[e[o]]);var n=new s(this.navigationDOM[e[o]]);a.onTouch(n,"_fit"===i[o]?this._fit.bind(this):this.bindToRedraw.bind(this,i[o])),this.navigationHammers.push(n)}var r=new s(this.canvas.frame);a.onRelease(r,function(){t._stopMovement()}),this.navigationHammers.push(r),this.iconsCreated=!0}},{key:"bindToRedraw",value:function(t){void 0===this.boundFunctions[t]&&(this.boundFunctions[t]=this[t].bind(this),this.body.emitter.on("initRedraw",this.boundFunctions[t]),this.body.emitter.emit("_startRendering"))}},{key:"unbindFromRedraw",value:function(t){void 0!==this.boundFunctions[t]&&(this.body.emitter.off("initRedraw",this.boundFunctions[t]),this.body.emitter.emit("_stopRendering"),delete this.boundFunctions[t])}},{key:"_fit",value:function(){(new Date).valueOf()-this.touchTime>700&&(this.body.emitter.emit("fit",{duration:700}),this.touchTime=(new Date).valueOf())}},{key:"_stopMovement",value:function(){for(var t in this.boundFunctions)this.boundFunctions.hasOwnProperty(t)&&(this.body.emitter.off("initRedraw",this.boundFunctions[t]),this.body.emitter.emit("_stopRendering"));this.boundFunctions={}}},{key:"_moveUp",value:function(){this.body.view.translation.y+=this.options.keyboard.speed.y}},{key:"_moveDown",value:function(){this.body.view.translation.y-=this.options.keyboard.speed.y}},{key:"_moveLeft",value:function(){this.body.view.translation.x+=this.options.keyboard.speed.x}},{key:"_moveRight",value:function(){this.body.view.translation.x-=this.options.keyboard.speed.x}},{key:"_zoomIn",value:function(){var t=this.body.view.scale*(1+this.options.keyboard.speed.zoom),e=this.body.view.translation,i=t/this.body.view.scale,o=(1-i)*this.canvas.canvasViewCenter.x+e.x*i,n=(1-i)*this.canvas.canvasViewCenter.y+e.y*i;this.body.view.scale=t,this.body.view.translation={x:o,y:n},this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:null})}},{key:"_zoomOut",value:function(){var t=this.body.view.scale/(1+this.options.keyboard.speed.zoom),e=this.body.view.translation,i=t/this.body.view.scale,o=(1-i)*this.canvas.canvasViewCenter.x+e.x*i,n=(1-i)*this.canvas.canvasViewCenter.y+e.y*i;this.body.view.scale=t,this.body.view.translation={x:o,y:n},this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:null})}},{key:"configureKeyboardBindings",value:function(){var t=this;void 0!==this.keycharm&&this.keycharm.destroy(),!0===this.options.keyboard.enabled&&(this.keycharm=h(!0===this.options.keyboard.bindToWindow?{container:window,preventDefault:!0}:{container:this.canvas.frame,preventDefault:!0}),this.keycharm.reset(),!0===this.activated&&(this.keycharm.bind("up",function(){t.bindToRedraw("_moveUp")},"keydown"),this.keycharm.bind("down",function(){t.bindToRedraw("_moveDown")},"keydown"),this.keycharm.bind("left",function(){t.bindToRedraw("_moveLeft")},"keydown"),this.keycharm.bind("right",function(){t.bindToRedraw("_moveRight")},"keydown"),this.keycharm.bind("=",function(){t.bindToRedraw("_zoomIn")},"keydown"),this.keycharm.bind("num+",function(){t.bindToRedraw("_zoomIn")},"keydown"),this.keycharm.bind("num-",function(){t.bindToRedraw("_zoomOut")},"keydown"),this.keycharm.bind("-",function(){t.bindToRedraw("_zoomOut")},"keydown"),this.keycharm.bind("[",function(){t.bindToRedraw("_zoomOut")},"keydown"),this.keycharm.bind("]",function(){t.bindToRedraw("_zoomIn")},"keydown"),this.keycharm.bind("pageup",function(){t.bindToRedraw("_zoomIn")},"keydown"),this.keycharm.bind("pagedown",function(){t.bindToRedraw("_zoomOut")},"keydown"),this.keycharm.bind("up",function(){t.unbindFromRedraw("_moveUp")},"keyup"),this.keycharm.bind("down",function(){t.unbindFromRedraw("_moveDown")},"keyup"),this.keycharm.bind("left",function(){t.unbindFromRedraw("_moveLeft")},"keyup"),this.keycharm.bind("right",function(){t.unbindFromRedraw("_moveRight")},"keyup"),this.keycharm.bind("=",function(){t.unbindFromRedraw("_zoomIn")},"keyup"),this.keycharm.bind("num+",function(){t.unbindFromRedraw("_zoomIn")},"keyup"),this.keycharm.bind("num-",function(){t.unbindFromRedraw("_zoomOut")},"keyup"),this.keycharm.bind("-",function(){t.unbindFromRedraw("_zoomOut")},"keyup"),this.keycharm.bind("[",function(){t.unbindFromRedraw("_zoomOut")},"keyup"),this.keycharm.bind("]",function(){t.unbindFromRedraw("_zoomIn")},"keyup"),this.keycharm.bind("pageup",function(){t.unbindFromRedraw("_zoomIn")},"keyup"),this.keycharm.bind("pagedown",function(){t.unbindFromRedraw("_zoomOut")},"keyup")))}}]),t}();e.default=l},function(t,e,i){function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=o(i(0)),r=o(i(1)),s=i(47).default,a=i(74).default,h=i(2),l=function(){function t(e,i){var o=this;(0,n.default)(this,t),this.body=e,this.canvas=i,this.selectionObj={nodes:[],edges:[]},this.hoverObj={nodes:{},edges:{}},this.options={},this.defaultOptions={multiselect:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0},h.extend(this.options,this.defaultOptions),this.body.emitter.on("_dataChanged",function(){o.updateSelection()})}return(0,r.default)(t,[{key:"setOptions",value:function(t){void 0!==t&&h.selectiveDeepExtend(["multiselect","hoverConnectedEdges","selectable","selectConnectedEdges"],this.options,t)}},{key:"selectOnPoint",value:function(t){var e=!1;if(!0===this.options.selectable){var i=this.getNodeAt(t)||this.getEdgeAt(t);this.unselectAll(),void 0!==i&&(e=this.selectObject(i)),this.body.emitter.emit("_requestRedraw")}return e}},{key:"selectAdditionalOnPoint",value:function(t){var e=!1;if(!0===this.options.selectable){var i=this.getNodeAt(t)||this.getEdgeAt(t);void 0!==i&&(e=!0,!0===i.isSelected()?this.deselectObject(i):this.selectObject(i),this.body.emitter.emit("_requestRedraw"))}return e}},{key:"_initBaseEvent",value:function(t,e){var i={};return i.pointer={DOM:{x:e.x,y:e.y},canvas:this.canvas.DOMtoCanvas(e)},i.event=t,i}},{key:"_generateClickEvent",value:function(t,e,i,o){var n=arguments.length>4&&void 0!==arguments[4]&&arguments[4],r=this._initBaseEvent(e,i);if(!0===n)r.nodes=[],r.edges=[];else{var s=this.getSelection();r.nodes=s.nodes,r.edges=s.edges}void 0!==o&&(r.previousSelection=o),"click"==t&&(r.items=this.getClickedItems(i)),this.body.emitter.emit(t,r)}},{key:"selectObject",value:function(t){return void 0!==t&&(t instanceof s&&!0===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.selectConnectedEdges)&&this._selectConnectedEdges(t),t.select(),this._addToSelection(t),!0)}},{key:"deselectObject",value:function(t){!0===t.isSelected()&&(t.selected=!1,this._removeFromSelection(t))}},{key:"_getAllNodesOverlappingWith",value:function(t){for(var e=[],i=this.body.nodes,o=0;o<this.body.nodeIndices.length;o++){var n=this.body.nodeIndices[o];i[n].isOverlappingWith(t)&&e.push(n)}return e}},{key:"_pointerToPositionObject",value:function(t){var e=this.canvas.DOMtoCanvas(t);return{left:e.x-1,top:e.y+1,right:e.x+1,bottom:e.y-1}}},{key:"getNodeAt",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this._pointerToPositionObject(t),o=this._getAllNodesOverlappingWith(i);return o.length>0?!0===e?this.body.nodes[o[o.length-1]]:o[o.length-1]:void 0}},{key:"_getEdgesOverlappingWith",value:function(t,e){for(var i=this.body.edges,o=0;o<this.body.edgeIndices.length;o++){var n=this.body.edgeIndices[o];i[n].isOverlappingWith(t)&&e.push(n)}}},{key:"_getAllEdgesOverlappingWith",value:function(t){var e=[];return this._getEdgesOverlappingWith(t,e),e}},{key:"getEdgeAt",value:function(t){for(var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this.canvas.DOMtoCanvas(t),o=10,n=null,r=this.body.edges,s=0;s<this.body.edgeIndices.length;s++){var a=this.body.edgeIndices[s],h=r[a];if(h.connected){var l=h.edgeType.getDistanceToEdge(h.from.x,h.from.y,h.to.x,h.to.y,i.x,i.y);l<o&&(n=a,o=l)}}return null!==n?!0===e?this.body.edges[n]:n:void 0}},{key:"_addToSelection",value:function(t){t instanceof s?this.selectionObj.nodes[t.id]=t:this.selectionObj.edges[t.id]=t}},{key:"_addToHover",value:function(t){t instanceof s?this.hoverObj.nodes[t.id]=t:this.hoverObj.edges[t.id]=t}},{key:"_removeFromSelection",value:function(t){t instanceof s?(delete this.selectionObj.nodes[t.id],this._unselectConnectedEdges(t)):delete this.selectionObj.edges[t.id]}},{key:"unselectAll",value:function(){for(var t in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(t)&&this.selectionObj.nodes[t].unselect();for(var e in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(e)&&this.selectionObj.edges[e].unselect();this.selectionObj={nodes:{},edges:{}}}},{key:"_getSelectedNodeCount",value:function(){var t=0;for(var e in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(e)&&(t+=1);return t}},{key:"_getSelectedNode",value:function(){for(var t in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(t))return this.selectionObj.nodes[t]}},{key:"_getSelectedEdge",value:function(){for(var t in this.selectionObj.edges)if(this.selectionObj.edges.hasOwnProperty(t))return this.selectionObj.edges[t]}},{key:"_getSelectedEdgeCount",value:function(){var t=0;for(var e in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(e)&&(t+=1);return t}},{key:"_getSelectedObjectCount",value:function(){var t=0;for(var e in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(e)&&(t+=1);for(var i in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(i)&&(t+=1);return t}},{key:"_selectionIsEmpty",value:function(){for(var t in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(t))return!1;for(var e in this.selectionObj.edges)if(this.selectionObj.edges.hasOwnProperty(e))return!1;return!0}},{key:"_clusterInSelection",value:function(){for(var t in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(t)&&this.selectionObj.nodes[t].clusterSize>1)return!0;return!1}},{key:"_selectConnectedEdges",value:function(t){for(var e=0;e<t.edges.length;e++){var i=t.edges[e];i.select(),this._addToSelection(i)}}},{key:"_hoverConnectedEdges",value:function(t){for(var e=0;e<t.edges.length;e++){var i=t.edges[e];i.hover=!0,this._addToHover(i)}}},{key:"_unselectConnectedEdges",value:function(t){for(var e=0;e<t.edges.length;e++){var i=t.edges[e];i.unselect(),this._removeFromSelection(i)}}},{key:"emitBlurEvent",value:function(t,e,i){var o=this._initBaseEvent(t,e);!0===i.hover&&(i.hover=!1,i instanceof s?(o.node=i.id,this.body.emitter.emit("blurNode",o)):(o.edge=i.id,this.body.emitter.emit("blurEdge",o)))}},{key:"emitHoverEvent",value:function(t,e,i){var o=this._initBaseEvent(t,e),n=!1;return!1===i.hover&&(i.hover=!0,this._addToHover(i),n=!0,i instanceof s?(o.node=i.id,this.body.emitter.emit("hoverNode",o)):(o.edge=i.id,this.body.emitter.emit("hoverEdge",o))),n}},{key:"hoverObject",value:function(t,e){var i=this.getNodeAt(e);void 0===i&&(i=this.getEdgeAt(e));var o=!1;for(var n in this.hoverObj.nodes)this.hoverObj.nodes.hasOwnProperty(n)&&(void 0===i||i instanceof s&&i.id!=n||i instanceof a)&&(this.emitBlurEvent(t,e,this.hoverObj.nodes[n]),delete this.hoverObj.nodes[n],o=!0);for(var r in this.hoverObj.edges)this.hoverObj.edges.hasOwnProperty(r)&&(!0===o?(this.hoverObj.edges[r].hover=!1,delete this.hoverObj.edges[r]):(void 0===i||i instanceof a&&i.id!=r||i instanceof s&&!i.hover)&&(this.emitBlurEvent(t,e,this.hoverObj.edges[r]),delete this.hoverObj.edges[r],o=!0));void 0!==i&&(o=o||this.emitHoverEvent(t,e,i),i instanceof s&&!0===this.options.hoverConnectedEdges&&this._hoverConnectedEdges(i)),!0===o&&this.body.emitter.emit("_requestRedraw")}},{key:"getSelection",value:function(){return{nodes:this.getSelectedNodes(),edges:this.getSelectedEdges()}}},{key:"getSelectedNodes",value:function(){var t=[];if(!0===this.options.selectable)for(var e in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(e)&&t.push(this.selectionObj.nodes[e].id);return t}},{key:"getSelectedEdges",value:function(){var t=[];if(!0===this.options.selectable)for(var e in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(e)&&t.push(this.selectionObj.edges[e].id);return t}},{key:"setSelection",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=void 0,o=void 0;if(!t||!t.nodes&&!t.edges)throw"Selection must be an object with nodes and/or edges properties";if((e.unselectAll||void 0===e.unselectAll)&&this.unselectAll(),t.nodes)for(i=0;i<t.nodes.length;i++){var n=this.body.nodes[o=t.nodes[i]];if(!n)throw new RangeError('Node with id "'+o+'" not found');this.selectObject(n,e.highlightEdges)}if(t.edges)for(i=0;i<t.edges.length;i++){var r=this.body.edges[o=t.edges[i]];if(!r)throw new RangeError('Edge with id "'+o+'" not found');this.selectObject(r)}this.body.emitter.emit("_requestRedraw")}},{key:"selectNodes",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!t||void 0===t.length)throw"Selection must be an array with ids";this.setSelection({nodes:t},{highlightEdges:e})}},{key:"selectEdges",value:function(t){if(!t||void 0===t.length)throw"Selection must be an array with ids";this.setSelection({edges:t})}},{key:"updateSelection",value:function(){for(var t in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(t)&&(this.body.nodes.hasOwnProperty(t)||delete this.selectionObj.nodes[t]);for(var e in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(e)&&(this.body.edges.hasOwnProperty(e)||delete this.selectionObj.edges[e])}},{key:"getClickedItems",value:function(t){for(var e=this.canvas.DOMtoCanvas(t),i=[],o=this.body.nodeIndices,n=this.body.nodes,r=o.length-1;r>=0;r--){var s=n[o[r]].getItemsOnPoint(e);i.push.apply(i,s)}for(var a=this.body.edgeIndices,h=this.body.edges,l=a.length-1;l>=0;l--){var p=h[a[l]].getItemsOnPoint(e);i.push.apply(i,p)}return i}}]),t}();e.default=l},function(t,e,i){function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=o(i(30)),r=o(i(6)),s=o(i(8)),a=o(i(0)),h=o(i(1)),l=i(2),p=i(76).default,u=i(236),d=u.HorizontalStrategy,c=u.VerticalStrategy,f=function(){function t(){(0,a.default)(this,t),this.childrenReference={},this.parentReference={},this.trees={},this.distributionOrdering={},this.levels={},this.distributionIndex={},this.isTree=!1,this.treeIndex=-1}return(0,h.default)(t,[{key:"addRelation",value:function(t,e){void 0===this.childrenReference[t]&&(this.childrenReference[t]=[]),this.childrenReference[t].push(e),void 0===this.parentReference[e]&&(this.parentReference[e]=[]),this.parentReference[e].push(t)}},{key:"checkIfTree",value:function(){for(var t in this.parentReference)if(this.parentReference[t].length>1)return void(this.isTree=!1);this.isTree=!0}},{key:"numTrees",value:function(){return this.treeIndex+1}},{key:"setTreeIndex",value:function(t,e){void 0!==e&&void 0===this.trees[t.id]&&(this.trees[t.id]=e,this.treeIndex=Math.max(e,this.treeIndex))}},{key:"ensureLevel",value:function(t){void 0===this.levels[t]&&(this.levels[t]=0)}},{key:"getMaxLevel",value:function(t){var e=this,i={};return function t(o){if(void 0!==i[o])return i[o];var n=e.levels[o];if(e.childrenReference[o]){var r=e.childrenReference[o];if(r.length>0)for(var s=0;s<r.length;s++)n=Math.max(n,t(r[s]))}return i[o]=n,n}(t)}},{key:"levelDownstream",value:function(t,e){void 0===this.levels[e.id]&&(void 0===this.levels[t.id]&&(this.levels[t.id]=0),this.levels[e.id]=this.levels[t.id]+1)}},{key:"setMinLevelToZero",value:function(t){var e=1e9;for(var i in t)t.hasOwnProperty(i)&&void 0!==this.levels[i]&&(e=Math.min(this.levels[i],e));for(var o in t)t.hasOwnProperty(o)&&void 0!==this.levels[o]&&(this.levels[o]-=e)}},{key:"getTreeSize",value:function(t,e){var i=1e9,o=-1e9,n=1e9,r=-1e9;for(var s in this.trees)if(this.trees.hasOwnProperty(s)&&this.trees[s]===e){var a=t[s];i=Math.min(a.x,i),o=Math.max(a.x,o),n=Math.min(a.y,n),r=Math.max(a.y,r)}return{min_x:i,max_x:o,min_y:n,max_y:r}}},{key:"hasSameParent",value:function(t,e){var i=this.parentReference[t.id],o=this.parentReference[e.id];if(void 0===i||void 0===o)return!1;for(var n=0;n<i.length;n++)for(var r=0;r<o.length;r++)if(i[n]==o[r])return!0;return!1}},{key:"inSameSubNetwork",value:function(t,e){return this.trees[t.id]===this.trees[e.id]}},{key:"getLevels",value:function(){return(0,s.default)(this.distributionOrdering)}},{key:"addToOrdering",value:function(t,e){void 0===this.distributionOrdering[e]&&(this.distributionOrdering[e]=[]);var i=!1,o=this.distributionOrdering[e];for(var n in o)if(o[n]===t){i=!0;break}i||(this.distributionOrdering[e].push(t),this.distributionIndex[t.id]=this.distributionOrdering[e].length-1)}}]),t}(),y=function(){function t(e){(0,a.default)(this,t),this.body=e,this.initialRandomSeed=Math.round(1e6*Math.random()),this.randomSeed=this.initialRandomSeed,this.setPhysics=!1,this.options={},this.optionsBackup={physics:{}},this.defaultOptions={randomSeed:void 0,improvedLayout:!0,hierarchical:{enabled:!1,levelSeparation:150,nodeSpacing:100,treeSpacing:200,blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:"UD",sortMethod:"hubsize"}},l.extend(this.options,this.defaultOptions),this.bindEventListeners()}return(0,h.default)(t,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.on("_dataChanged",function(){t.setupHierarchicalLayout()}),this.body.emitter.on("_dataLoaded",function(){t.layoutNetwork()}),this.body.emitter.on("_resetHierarchicalLayout",function(){t.setupHierarchicalLayout()}),this.body.emitter.on("_adjustEdgesForHierarchicalLayout",function(){if(!0===t.options.hierarchical.enabled){var e=t.direction.curveType();t.body.emitter.emit("_forceDisableDynamicCurves",e,!1)}})}},{key:"setOptions",value:function(t,e){if(void 0!==t){var i=this.options.hierarchical,o=i.enabled;if(l.selectiveDeepExtend(["randomSeed","improvedLayout"],this.options,t),l.mergeOptions(this.options,t,"hierarchical"),void 0!==t.randomSeed&&(this.initialRandomSeed=t.randomSeed),!0===i.enabled)return!0===o&&this.body.emitter.emit("refresh",!0),"RL"===i.direction||"DU"===i.direction?i.levelSeparation>0&&(i.levelSeparation*=-1):i.levelSeparation<0&&(i.levelSeparation*=-1),this.setDirectionStrategy(),this.body.emitter.emit("_resetHierarchicalLayout"),this.adaptAllOptionsForHierarchicalLayout(e);if(!0===o)return this.body.emitter.emit("refresh"),l.deepExtend(e,this.optionsBackup)}return e}},{key:"adaptAllOptionsForHierarchicalLayout",value:function(t){if(!0===this.options.hierarchical.enabled){var e=this.optionsBackup.physics;void 0===t.physics||!0===t.physics?(t.physics={enabled:void 0===e.enabled||e.enabled,solver:"hierarchicalRepulsion"},e.enabled=void 0===e.enabled||e.enabled,e.solver=e.solver||"barnesHut"):"object"===(0,r.default)(t.physics)?(e.enabled=void 0===t.physics.enabled||t.physics.enabled,e.solver=t.physics.solver||"barnesHut",t.physics.solver="hierarchicalRepulsion"):!1!==t.physics&&(e.solver="barnesHut",t.physics={solver:"hierarchicalRepulsion"});var i=this.direction.curveType();if(void 0===t.edges)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},t.edges={smooth:!1};else if(void 0===t.edges.smooth)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},t.edges.smooth=!1;else if("boolean"==typeof t.edges.smooth)this.optionsBackup.edges={smooth:t.edges.smooth},t.edges.smooth={enabled:t.edges.smooth,type:i};else{var o=t.edges.smooth;void 0!==o.type&&"dynamic"!==o.type&&(i=o.type),this.optionsBackup.edges={smooth:void 0===o.enabled||o.enabled,type:void 0===o.type?"dynamic":o.type,roundness:void 0===o.roundness?.5:o.roundness,forceDirection:void 0!==o.forceDirection&&o.forceDirection},t.edges.smooth={enabled:void 0===o.enabled||o.enabled,type:i,roundness:void 0===o.roundness?.5:o.roundness,forceDirection:void 0!==o.forceDirection&&o.forceDirection}}this.body.emitter.emit("_forceDisableDynamicCurves",i)}return t}},{key:"seededRandom",value:function(){var t=1e4*Math.sin(this.randomSeed++);return t-Math.floor(t)}},{key:"positionInitially",value:function(t){if(!0!==this.options.hierarchical.enabled){this.randomSeed=this.initialRandomSeed;for(var e=t.length+50,i=0;i<t.length;i++){var o=t[i],n=2*Math.PI*this.seededRandom();void 0===o.x&&(o.x=e*Math.cos(n)),void 0===o.y&&(o.y=e*Math.sin(n))}}}},{key:"layoutNetwork",value:function(){if(!0!==this.options.hierarchical.enabled&&!0===this.options.improvedLayout){for(var t=this.body.nodeIndices,e=0,i=0;i<t.length;i++)!0===this.body.nodes[t[i]].predefinedPosition&&(e+=1);if(e<.5*t.length){var o=0,n={clusterNodeProperties:{shape:"ellipse",label:"",group:"",font:{multi:!1}},clusterEdgeProperties:{label:"",font:{multi:!1},smooth:{enabled:!1}}};if(t.length>150){for(var r=t.length;t.length>150&&o<=10;){var s=t.length;if((o+=1)%3==0?this.body.modules.clustering.clusterBridges(n):this.body.modules.clustering.clusterOutliers(n),s==t.length&&o%3!=0)return this._declusterAll(),this.body.emitter.emit("_layoutFailed"),void console.info("This network could not be positioned by this version of the improved layout algorithm. Please disable improvedLayout for better performance.")}this.body.modules.kamadaKawai.setOptions({springLength:Math.max(150,2*r)})}o>10&&console.info("The clustering didn't succeed within the amount of interations allowed, progressing with partial result."),this.body.modules.kamadaKawai.solve(t,this.body.edgeIndices,!0),this._shiftToCenter();for(var a=0;a<t.length;a++){var h=this.body.nodes[t[a]];!1===h.predefinedPosition&&(h.x+=70*(.5-this.seededRandom()),h.y+=70*(.5-this.seededRandom()))}this._declusterAll(),this.body.emitter.emit("_repositionBezierNodes")}}}},{key:"_shiftToCenter",value:function(){for(var t=p.getRangeCore(this.body.nodes,this.body.nodeIndices),e=p.findCenter(t),i=0;i<this.body.nodeIndices.length;i++){var o=this.body.nodes[this.body.nodeIndices[i]];o.x-=e.x,o.y-=e.y}}},{key:"_declusterAll",value:function(){for(var t=!0;!0===t;){t=!1;for(var e=0;e<this.body.nodeIndices.length;e++)!0===this.body.nodes[this.body.nodeIndices[e]].isCluster&&(t=!0,this.body.modules.clustering.openCluster(this.body.nodeIndices[e],{},!1));!0===t&&this.body.emitter.emit("_dataChanged")}}},{key:"getSeed",value:function(){return this.initialRandomSeed}},{key:"setupHierarchicalLayout",value:function(){if(!0===this.options.hierarchical.enabled&&this.body.nodeIndices.length>0){var t=void 0,e=void 0,i=!1,o=!1;for(e in this.lastNodeOnLevel={},this.hierarchical=new f,this.body.nodes)this.body.nodes.hasOwnProperty(e)&&(void 0!==(t=this.body.nodes[e]).options.level?(i=!0,this.hierarchical.levels[e]=t.options.level):o=!0);if(!0===o&&!0===i)throw new Error("To use the hierarchical layout, nodes require either no predefined levels or levels have to be defined for all nodes.");if(!0===o){var n=this.options.hierarchical.sortMethod;"hubsize"===n?this._determineLevelsByHubsize():"directed"===n?this._determineLevelsDirected():"custom"===n&&this._determineLevelsCustomCallback()}for(var r in this.body.nodes)this.body.nodes.hasOwnProperty(r)&&this.hierarchical.ensureLevel(r);var s=this._getDistribution();this._generateMap(),this._placeNodesByHierarchy(s),this._condenseHierarchy(),this._shiftToCenter()}}},{key:"_condenseHierarchy",value:function(){var t=this,e=!1,i={},o=function(e,i){var o=t.hierarchical.trees;for(var n in o)o.hasOwnProperty(n)&&o[n]===e&&t.direction.shift(n,i)},r=function e(i,o){if(!o[i.id]&&(o[i.id]=!0,t.hierarchical.childrenReference[i.id])){var n=t.hierarchical.childrenReference[i.id];if(n.length>0)for(var r=0;r<n.length;r++)e(t.body.nodes[n[r]],o)}},s=function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e9,o=1e9,r=1e9,s=1e9,a=-1e9;for(var h in e)if(e.hasOwnProperty(h)){var l=t.body.nodes[h],p=t.hierarchical.levels[l.id],u=t.direction.getPosition(l),d=t._getSpaceAroundNode(l,e),c=(0,n.default)(d,2),f=c[1];o=Math.min(c[0],o),r=Math.min(f,r),p<=i&&(s=Math.min(u,s),a=Math.max(u,a))}return[s,a,o,r]},a=function(e,i,o){for(var n=t.hierarchical,r=0;r<i.length;r++){var s=n.distributionOrdering[i[r]];if(s.length>1)for(var a=0;a<s.length-1;a++){var h=s[a],l=s[a+1];n.hasSameParent(h,l)&&n.inSameSubNetwork(h,l)&&e(h,l,o)}}},h=function(i,o){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=t.direction.getPosition(i),h=t.direction.getPosition(o),l=Math.abs(h-a),p=t.options.hierarchical.nodeSpacing;if(l>p){var u={},d={};r(i,u),r(o,d);var c=function(e,i){var o=t.hierarchical.getMaxLevel(e.id),n=t.hierarchical.getMaxLevel(i.id);return Math.min(o,n)}(i,o),f=s(u,c),y=s(d,c),g=f[1],m=y[0],v=y[2];if(Math.abs(g-m)>p){var b=g-m+p;b<-v+p&&(b=-v+p),b<0&&(t._shiftBlock(o.id,b),e=!0,!0===n&&t._centerParent(o))}}},l=function(o,a){for(var h=a.id,l=a.edges,p=t.hierarchical.levels[a.id],u=t.options.hierarchical.levelSeparation*t.options.hierarchical.levelSeparation,d={},c=[],f=0;f<l.length;f++){var y=l[f];if(y.toId!=y.fromId){var g=y.toId==h?y.from:y.to;d[l[f].id]=g,t.hierarchical.levels[g.id]<p&&c.push(y)}}var m=function(e,i){for(var o=0,n=0;n<i.length;n++)if(void 0!==d[i[n].id]){var r=t.direction.getPosition(d[i[n].id])-e;o+=r/Math.sqrt(r*r+u)}return o},v=function(e,i){for(var o=0,n=0;n<i.length;n++)if(void 0!==d[i[n].id]){var r=t.direction.getPosition(d[i[n].id])-e;o-=u*Math.pow(r*r+u,-1.5)}return o},b=function(e,i){for(var o=t.direction.getPosition(a),n={},r=0;r<e;r++){var s=m(o,i),h=v(o,i);if(void 0!==n[o-=Math.max(-40,Math.min(40,Math.round(s/h)))])break;n[o]=r}return o},w=b(o,c);!function(o){var n=t.direction.getPosition(a);if(void 0===i[a.id]){var h={};r(a,h),i[a.id]=h}var l=s(i[a.id]),p=l[2],u=o-n,d=0;u>0?d=Math.min(u,l[3]-t.options.hierarchical.nodeSpacing):u<0&&(d=-Math.min(-u,p-t.options.hierarchical.nodeSpacing)),0!=d&&(t._shiftBlock(a.id,d),e=!0)}(w),function(i){var o=t.direction.getPosition(a),r=t._getSpaceAroundNode(a),s=(0,n.default)(r,2),h=s[0],l=i-o,p=o;l>0?p=Math.min(o+(s[1]-t.options.hierarchical.nodeSpacing),i):l<0&&(p=Math.max(o-(h-t.options.hierarchical.nodeSpacing),i)),p!==o&&(t.direction.setPosition(a,p),e=!0)}(w=b(o,l))};!0===this.options.hierarchical.blockShifting&&(function(i){var o=t.hierarchical.getLevels();o=o.reverse();for(var n=0;n<5&&(e=!1,a(h,o,!0),!0===e);n++);}(),function(){for(var e in t.body.nodes)t.body.nodes.hasOwnProperty(e)&&t._centerParent(t.body.nodes[e])}()),!0===this.options.hierarchical.edgeMinimization&&function(i){var o=t.hierarchical.getLevels();o=o.reverse();for(var n=0;n<20;n++){e=!1;for(var r=0;r<o.length;r++)for(var s=t.hierarchical.distributionOrdering[o[r]],a=0;a<s.length;a++)l(1e3,s[a]);if(!0!==e)break}}(),!0===this.options.hierarchical.parentCentralization&&function(){var e=t.hierarchical.getLevels();e=e.reverse();for(var i=0;i<e.length;i++)for(var o=t.hierarchical.distributionOrdering[e[i]],n=0;n<o.length;n++)t._centerParent(o[n])}(),function(){for(var e=function(){for(var e=[],i=0;i<t.hierarchical.numTrees();i++)e.push(t.direction.getTreeSize(i));return e}(),i=0,n=0;n<e.length-1;n++)o(n+1,i+=e[n].max-e[n+1].min+t.options.hierarchical.treeSpacing)}()}},{key:"_getSpaceAroundNode",value:function(t,e){var i=!0;void 0===e&&(i=!1);var o=this.hierarchical.levels[t.id];if(void 0!==o){var n=this.hierarchical.distributionIndex[t.id],r=this.direction.getPosition(t),s=this.hierarchical.distributionOrdering[o],a=1e9,h=1e9;if(0!==n){var l=s[n-1];(!0===i&&void 0===e[l.id]||!1===i)&&(a=r-this.direction.getPosition(l))}if(n!=s.length-1){var p=s[n+1];if(!0===i&&void 0===e[p.id]||!1===i){var u=this.direction.getPosition(p);h=Math.min(h,u-r)}}return[a,h]}return[0,0]}},{key:"_centerParent",value:function(t){if(this.hierarchical.parentReference[t.id])for(var e=this.hierarchical.parentReference[t.id],i=0;i<e.length;i++){var o=e[i],r=this.body.nodes[o],s=this.hierarchical.childrenReference[o];if(void 0!==s){var a=this._getCenterPosition(s),h=this.direction.getPosition(r),l=this._getSpaceAroundNode(r),p=(0,n.default)(l,2),u=p[0],d=p[1],c=h-a;(c<0&&Math.abs(c)<d-this.options.hierarchical.nodeSpacing||c>0&&Math.abs(c)<u-this.options.hierarchical.nodeSpacing)&&this.direction.setPosition(r,a)}}}},{key:"_placeNodesByHierarchy",value:function(t){for(var e in this.positionedNodes={},t)if(t.hasOwnProperty(e)){var i=(0,s.default)(t[e]);i=this._indexArrayToNodes(i),this.direction.sort(i);for(var o=0,n=0;n<i.length;n++){var r=i[n];if(void 0===this.positionedNodes[r.id]){var a=this.options.hierarchical.nodeSpacing,h=a*o;o>0&&(h=this.direction.getPosition(i[n-1])+a),this.direction.setPosition(r,h,e),this._validatePositionAndContinue(r,e,h),o++}}}}},{key:"_placeBranchNodes",value:function(t,e){var i=this.hierarchical.childrenReference[t];if(void 0!==i){for(var o=[],n=0;n<i.length;n++)o.push(this.body.nodes[i[n]]);this.direction.sort(o);for(var r=0;r<o.length;r++){var s=o[r],a=this.hierarchical.levels[s.id];if(!(a>e&&void 0===this.positionedNodes[s.id]))return;var h,l=this.options.hierarchical.nodeSpacing;h=0===r?this.direction.getPosition(this.body.nodes[t]):this.direction.getPosition(o[r-1])+l,this.direction.setPosition(s,h,a),this._validatePositionAndContinue(s,a,h)}var p=this._getCenterPosition(o);this.direction.setPosition(this.body.nodes[t],p,e)}}},{key:"_validatePositionAndContinue",value:function(t,e,i){if(this.hierarchical.isTree){if(void 0!==this.lastNodeOnLevel[e]){var o=this.direction.getPosition(this.body.nodes[this.lastNodeOnLevel[e]]);if(i-o<this.options.hierarchical.nodeSpacing){var n=o+this.options.hierarchical.nodeSpacing-i,r=this._findCommonParent(this.lastNodeOnLevel[e],t.id);this._shiftBlock(r.withChild,n)}}this.lastNodeOnLevel[e]=t.id,this.positionedNodes[t.id]=!0,this._placeBranchNodes(t.id,e)}}},{key:"_indexArrayToNodes",value:function(t){for(var e=[],i=0;i<t.length;i++)e.push(this.body.nodes[t[i]]);return e}},{key:"_getDistribution",value:function(){var t={},e=void 0,i=void 0;for(e in this.body.nodes)if(this.body.nodes.hasOwnProperty(e)){i=this.body.nodes[e];var o=void 0===this.hierarchical.levels[e]?0:this.hierarchical.levels[e];this.direction.fix(i,o),void 0===t[o]&&(t[o]={}),t[o][e]=i}return t}},{key:"_getActiveEdges",value:function(t){var e=this,i=[];return l.forEach(t.edges,function(t){-1!==e.body.edgeIndices.indexOf(t.id)&&i.push(t)}),i}},{key:"_getHubSizes",value:function(){var t=this,e={};l.forEach(this.body.nodeIndices,function(i){var o=t._getActiveEdges(t.body.nodes[i]).length;e[o]=!0});var i=[];return l.forEach(e,function(t){i.push(Number(t))}),i.sort(function(t,e){return e-t}),i}},{key:"_determineLevelsByHubsize",value:function(){for(var t=this,e=function(e,i){t.hierarchical.levelDownstream(e,i)},i=this._getHubSizes(),o=0;o<i.length&&"break"!==function(o){var n=i[o];if(0===n)return"break";l.forEach(t.body.nodeIndices,function(i){n===t._getActiveEdges(t.body.nodes[i]).length&&t._crawlNetwork(e,i)})}(o);++o);}},{key:"_determineLevelsCustomCallback",value:function(){var t=this;this._crawlNetwork(function(e,i,o){var n=t.hierarchical.levels[e.id];void 0===n&&(n=t.hierarchical.levels[e.id]=1e5);var r=(p.cloneOptions(e,"node"),p.cloneOptions(i,"node"),void p.cloneOptions(o,"edge"));t.hierarchical.levels[i.id]=n+r}),this.hierarchical.setMinLevelToZero(this.body.nodes)}},{key:"_determineLevelsDirected",value:function(){var t=this;this._crawlNetwork(function(e,i,o){var n=t.hierarchical.levels[e.id],r=t.hierarchical.levels[i.id];(function(e){return l.forEach(t.body.edges,function(t){if(t.toId===e.fromId&&t.fromId===e.toId)return!0}),!1})(o)&&void 0!==n&&void 0!==r||(void 0===n&&(n=t.hierarchical.levels[e.id]=1e4),t.hierarchical.levels[i.id]=o.toId==i.id?n+1:n-1)}),this.hierarchical.setMinLevelToZero(this.body.nodes)}},{key:"_generateMap",value:function(){var t=this;this._crawlNetwork(function(e,i){t.hierarchical.levels[i.id]>t.hierarchical.levels[e.id]&&t.hierarchical.addRelation(e.id,i.id)}),this.hierarchical.checkIfTree()}},{key:"_crawlNetwork",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},i=arguments[1],o={},n=function i(n,r){if(void 0===o[n.id]){t.hierarchical.setTreeIndex(n,r),o[n.id]=!0;for(var s=void 0,a=t._getActiveEdges(n),h=0;h<a.length;h++){var l=a[h];!0===l.connected&&n.id!=(s=l.toId==n.id?l.from:l.to).id&&(e(n,s,l),i(s,r))}}};if(void 0===i)for(var r=0,s=0;s<this.body.nodeIndices.length;s++){var a=this.body.nodeIndices[s];void 0===o[a]&&(n(this.body.nodes[a],r),r+=1)}else{var h=this.body.nodes[i];if(void 0===h)return void console.error("Node not found:",i);n(h)}}},{key:"_shiftBlock",value:function(t,e){var i=this,o={};!function t(n){if(!o[n]){o[n]=!0,i.direction.shift(n,e);var r=i.hierarchical.childrenReference[n];if(void 0!==r)for(var s=0;s<r.length;s++)t(r[s])}}(t)}},{key:"_findCommonParent",value:function(t,e){var i=this,o={};return function t(e,o){var n=i.hierarchical.parentReference[o];if(void 0!==n)for(var r=0;r<n.length;r++){var s=n[r];e[s]=!0,t(e,s)}}(o,t),function t(e,o){var n=i.hierarchical.parentReference[o];if(void 0!==n)for(var r=0;r<n.length;r++){var s=n[r];if(void 0!==e[s])return{foundParent:s,withChild:o};var a=t(e,s);if(null!==a.foundParent)return a}return{foundParent:null,withChild:o}}(o,e)}},{key:"setDirectionStrategy",value:function(){this.direction="UD"===this.options.hierarchical.direction||"DU"===this.options.hierarchical.direction?new c(this):new d(this)}},{key:"_getCenterPosition",value:function(t){for(var e=1e9,i=-1e9,o=0;o<t.length;o++){var n=this.direction.getPosition(void 0!==t[o].id?t[o]:this.body.nodes[t[o]]);e=Math.min(e,n),i=Math.max(i,n)}return.5*(e+i)}}]),t}();e.default=y},function(t,e,i){function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.VerticalStrategy=e.HorizontalStrategy=void 0;var n=o(i(3)),r=o(i(4)),s=o(i(5)),a=o(i(0)),h=o(i(1)),l=function(){function t(){(0,a.default)(this,t)}return(0,h.default)(t,[{key:"abstract",value:function(){throw new Error("Can't instantiate abstract class!")}},{key:"fake_use",value:function(){}},{key:"curveType",value:function(){return this.abstract()}},{key:"getPosition",value:function(t){return this.fake_use(t),this.abstract()}},{key:"setPosition",value:function(t,e){this.fake_use(t,e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0),this.abstract()}},{key:"getTreeSize",value:function(t){return this.fake_use(t),this.abstract()}},{key:"sort",value:function(t){this.fake_use(t),this.abstract()}},{key:"fix",value:function(t,e){this.fake_use(t,e),this.abstract()}},{key:"shift",value:function(t,e){this.fake_use(t,e),this.abstract()}}]),t}(),p=function(t){function e(t){(0,a.default)(this,e);var i=(0,r.default)(this,(e.__proto__||(0,n.default)(e)).call(this));return i.layout=t,i}return(0,s.default)(e,l),(0,h.default)(e,[{key:"curveType",value:function(){return"horizontal"}},{key:"getPosition",value:function(t){return t.x}},{key:"setPosition",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;void 0!==i&&this.layout.hierarchical.addToOrdering(t,i),t.x=e}},{key:"getTreeSize",value:function(t){var e=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,t);return{min:e.min_x,max:e.max_x}}},{key:"sort",value:function(t){t.sort(function(t,e){return void 0===t.x||void 0===e.x?0:t.x-e.x})}},{key:"fix",value:function(t,e){t.y=this.layout.options.hierarchical.levelSeparation*e,t.options.fixed.y=!0}},{key:"shift",value:function(t,e){this.layout.body.nodes[t].x+=e}}]),e}(),u=function(t){function e(t){(0,a.default)(this,e);var i=(0,r.default)(this,(e.__proto__||(0,n.default)(e)).call(this));return i.layout=t,i}return(0,s.default)(e,l),(0,h.default)(e,[{key:"curveType",value:function(){return"vertical"}},{key:"getPosition",value:function(t){return t.y}},{key:"setPosition",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;void 0!==i&&this.layout.hierarchical.addToOrdering(t,i),t.y=e}},{key:"getTreeSize",value:function(t){var e=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,t);return{min:e.min_y,max:e.max_y}}},{key:"sort",value:function(t){t.sort(function(t,e){return void 0===t.y||void 0===e.y?0:t.y-e.y})}},{key:"fix",value:function(t,e){t.x=this.layout.options.hierarchical.levelSeparation*e,t.options.fixed.x=!0}},{key:"shift",value:function(t,e){this.layout.body.nodes[t].y+=e}}]),e}();e.HorizontalStrategy=u,e.VerticalStrategy=p},function(t,e,i){function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=o(i(8)),r=o(i(19)),s=o(i(6)),a=o(i(0)),h=o(i(1)),l=i(2),p=i(10),u=i(37),d=function(){function t(e,i,o){var n=this;(0,a.default)(this,t),this.body=e,this.canvas=i,this.selectionHandler=o,this.editMode=!1,this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0,this.manipulationHammers=[],this.temporaryUIFunctions={},this.temporaryEventFunctions=[],this.touchTime=0,this.temporaryIds={nodes:[],edges:[]},this.guiEnabled=!1,this.inMode=!1,this.selectedControlNode=void 0,this.options={},this.defaultOptions={enabled:!1,initiallyActive:!1,addNode:!0,addEdge:!0,editNode:void 0,editEdge:!0,deleteNode:!0,deleteEdge:!0,controlNodeStyle:{shape:"dot",size:6,color:{background:"#ff0000",border:"#3c3c3c",highlight:{background:"#07f968",border:"#3c3c3c"}},borderWidth:2,borderWidthSelected:2}},l.extend(this.options,this.defaultOptions),this.body.emitter.on("destroy",function(){n._clean()}),this.body.emitter.on("_dataChanged",this._restore.bind(this)),this.body.emitter.on("_resetData",this._restore.bind(this))}return(0,h.default)(t,[{key:"_restore",value:function(){!1!==this.inMode&&(!0===this.options.initiallyActive?this.enableEditMode():this.disableEditMode())}},{key:"setOptions",value:function(t,e,i){void 0!==e&&(this.options.locale=void 0!==e.locale?e.locale:i.locale,this.options.locales=void 0!==e.locales?e.locales:i.locales),void 0!==t&&("boolean"==typeof t?this.options.enabled=t:(this.options.enabled=!0,l.deepExtend(this.options,t)),!0===this.options.initiallyActive&&(this.editMode=!0),this._setup())}},{key:"toggleEditMode",value:function(){!0===this.editMode?this.disableEditMode():this.enableEditMode()}},{key:"enableEditMode",value:function(){this.editMode=!0,this._clean(),!0===this.guiEnabled&&(this.manipulationDiv.style.display="block",this.closeDiv.style.display="block",this.editModeDiv.style.display="none",this.showManipulatorToolbar())}},{key:"disableEditMode",value:function(){this.editMode=!1,this._clean(),!0===this.guiEnabled&&(this.manipulationDiv.style.display="none",this.closeDiv.style.display="none",this.editModeDiv.style.display="block",this._createEditButton())}},{key:"showManipulatorToolbar",value:function(){if(this._clean(),this.manipulationDOM={},!0===this.guiEnabled){this.editMode=!0,this.manipulationDiv.style.display="block",this.closeDiv.style.display="block";var t=this.selectionHandler._getSelectedNodeCount(),e=this.selectionHandler._getSelectedEdgeCount(),i=t+e,o=this.options.locales[this.options.locale],n=!1;!1!==this.options.addNode&&(this._createAddNodeButton(o),n=!0),!1!==this.options.addEdge&&(!0===n?this._createSeperator(1):n=!0,this._createAddEdgeButton(o)),1===t&&"function"==typeof this.options.editNode?(!0===n?this._createSeperator(2):n=!0,this._createEditNodeButton(o)):1===e&&0===t&&!1!==this.options.editEdge&&(!0===n?this._createSeperator(3):n=!0,this._createEditEdgeButton(o)),0!==i&&(t>0&&!1!==this.options.deleteNode?(!0===n&&this._createSeperator(4),this._createDeleteButton(o)):0===t&&!1!==this.options.deleteEdge&&(!0===n&&this._createSeperator(4),this._createDeleteButton(o))),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this)),this._temporaryBindEvent("select",this.showManipulatorToolbar.bind(this))}this.body.emitter.emit("_redraw")}},{key:"addNodeMode",value:function(){if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="addNode",!0===this.guiEnabled){var t=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(t),this._createSeperator(),this._createDescription(t.addDescription||this.options.locales.en.addDescription),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this))}this._temporaryBindEvent("click",this._performAddNode.bind(this))}},{key:"editNode",value:function(){var t=this;!0!==this.editMode&&this.enableEditMode(),this._clean();var e=this.selectionHandler._getSelectedNode();if(void 0!==e){if(this.inMode="editNode","function"!=typeof this.options.editNode)throw new Error("No function has been configured to handle the editing of nodes.");if(!0!==e.isCluster){var i=l.deepExtend({},e.options,!1);if(i.x=e.x,i.y=e.y,2!==this.options.editNode.length)throw new Error("The function for edit does not support two arguments (data, callback)");this.options.editNode(i,function(e){null!==e&&void 0!==e&&"editNode"===t.inMode&&t.body.data.nodes.getDataSet().update(e),t.showManipulatorToolbar()})}else alert(this.options.locales[this.options.locale].editClusterError||this.options.locales.en.editClusterError)}else this.showManipulatorToolbar()}},{key:"addEdgeMode",value:function(){if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="addEdge",!0===this.guiEnabled){var t=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(t),this._createSeperator(),this._createDescription(t.edgeDescription||this.options.locales.en.edgeDescription),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this))}this._temporaryBindUI("onTouch",this._handleConnect.bind(this)),this._temporaryBindUI("onDragEnd",this._finishConnect.bind(this)),this._temporaryBindUI("onDrag",this._dragControlNode.bind(this)),this._temporaryBindUI("onRelease",this._finishConnect.bind(this)),this._temporaryBindUI("onDragStart",this._dragStartEdge.bind(this)),this._temporaryBindUI("onHold",function(){})}},{key:"editEdgeMode",value:function(){if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="editEdge","object"!==(0,s.default)(this.options.editEdge)||"function"!=typeof this.options.editEdge.editWithoutDrag||(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdges()[0],void 0===this.edgeBeingEditedId)){if(!0===this.guiEnabled){var t=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(t),this._createSeperator(),this._createDescription(t.editEdgeDescription||this.options.locales.en.editEdgeDescription),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this))}if(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdges()[0],void 0!==this.edgeBeingEditedId){var e=this.body.edges[this.edgeBeingEditedId],i=this._getNewTargetNode(e.from.x,e.from.y),o=this._getNewTargetNode(e.to.x,e.to.y);this.temporaryIds.nodes.push(i.id),this.temporaryIds.nodes.push(o.id),this.body.nodes[i.id]=i,this.body.nodeIndices.push(i.id),this.body.nodes[o.id]=o,this.body.nodeIndices.push(o.id),this._temporaryBindUI("onTouch",this._controlNodeTouch.bind(this)),this._temporaryBindUI("onTap",function(){}),this._temporaryBindUI("onHold",function(){}),this._temporaryBindUI("onDragStart",this._controlNodeDragStart.bind(this)),this._temporaryBindUI("onDrag",this._controlNodeDrag.bind(this)),this._temporaryBindUI("onDragEnd",this._controlNodeDragEnd.bind(this)),this._temporaryBindUI("onMouseMove",function(){}),this._temporaryBindEvent("beforeDrawing",function(t){var n=e.edgeType.findBorderPositions(t);!1===i.selected&&(i.x=n.from.x,i.y=n.from.y),!1===o.selected&&(o.x=n.to.x,o.y=n.to.y)}),this.body.emitter.emit("_redraw")}else this.showManipulatorToolbar()}else{var n=this.body.edges[this.edgeBeingEditedId];this._performEditEdge(n.from,n.to)}}},{key:"deleteSelected",value:function(){var t=this;!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="delete";var e=this.selectionHandler.getSelectedNodes(),i=this.selectionHandler.getSelectedEdges(),o=void 0;if(e.length>0){for(var n=0;n<e.length;n++)if(!0===this.body.nodes[e[n]].isCluster)return void alert(this.options.locales[this.options.locale].deleteClusterError||this.options.locales.en.deleteClusterError);"function"==typeof this.options.deleteNode&&(o=this.options.deleteNode)}else i.length>0&&"function"==typeof this.options.deleteEdge&&(o=this.options.deleteEdge);if("function"==typeof o){var r={nodes:e,edges:i};if(2!==o.length)throw new Error("The function for delete does not support two arguments (data, callback)");o(r,function(e){null!==e&&void 0!==e&&"delete"===t.inMode?(t.body.data.edges.getDataSet().remove(e.edges),t.body.data.nodes.getDataSet().remove(e.nodes),t.body.emitter.emit("startSimulation"),t.showManipulatorToolbar()):(t.body.emitter.emit("startSimulation"),t.showManipulatorToolbar())})}else this.body.data.edges.getDataSet().remove(i),this.body.data.nodes.getDataSet().remove(e),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()}},{key:"_setup",value:function(){!0===this.options.enabled?(this.guiEnabled=!0,this._createWrappers(),!1===this.editMode?this._createEditButton():this.showManipulatorToolbar()):(this._removeManipulationDOM(),this.guiEnabled=!1)}},{key:"_createWrappers",value:function(){void 0===this.manipulationDiv&&(this.manipulationDiv=document.createElement("div"),this.manipulationDiv.className="vis-manipulation",this.manipulationDiv.style.display=!0===this.editMode?"block":"none",this.canvas.frame.appendChild(this.manipulationDiv)),void 0===this.editModeDiv&&(this.editModeDiv=document.createElement("div"),this.editModeDiv.className="vis-edit-mode",this.editModeDiv.style.display=!0===this.editMode?"none":"block",this.canvas.frame.appendChild(this.editModeDiv)),void 0===this.closeDiv&&(this.closeDiv=document.createElement("div"),this.closeDiv.className="vis-close",this.closeDiv.style.display=this.manipulationDiv.style.display,this.canvas.frame.appendChild(this.closeDiv))}},{key:"_getNewTargetNode",value:function(t,e){var i=l.deepExtend({},this.options.controlNodeStyle);i.id="targetNode"+l.randomUUID(),i.hidden=!1,i.physics=!1,i.x=t,i.y=e;var o=this.body.functions.createNode(i);return o.shape.boundingBox={left:t,right:t,top:e,bottom:e},o}},{key:"_createEditButton",value:function(){this._clean(),this.manipulationDOM={},l.recursiveDOMDelete(this.editModeDiv);var t=this._createButton("editMode","vis-button vis-edit vis-edit-mode",this.options.locales[this.options.locale].edit||this.options.locales.en.edit);this.editModeDiv.appendChild(t),this._bindHammerToDiv(t,this.toggleEditMode.bind(this))}},{key:"_clean",value:function(){this.inMode=!1,!0===this.guiEnabled&&(l.recursiveDOMDelete(this.editModeDiv),l.recursiveDOMDelete(this.manipulationDiv),this._cleanManipulatorHammers()),this._cleanupTemporaryNodesAndEdges(),this._unbindTemporaryUIs(),this._unbindTemporaryEvents(),this.body.emitter.emit("restorePhysics")}},{key:"_cleanManipulatorHammers",value:function(){if(0!=this.manipulationHammers.length){for(var t=0;t<this.manipulationHammers.length;t++)this.manipulationHammers[t].destroy();this.manipulationHammers=[]}}},{key:"_removeManipulationDOM",value:function(){this._clean(),l.recursiveDOMDelete(this.manipulationDiv),l.recursiveDOMDelete(this.editModeDiv),l.recursiveDOMDelete(this.closeDiv),this.manipulationDiv&&this.canvas.frame.removeChild(this.manipulationDiv),this.editModeDiv&&this.canvas.frame.removeChild(this.editModeDiv),this.closeDiv&&this.canvas.frame.removeChild(this.closeDiv),this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0}},{key:"_createSeperator",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.manipulationDOM["seperatorLineDiv"+t]=document.createElement("div"),this.manipulationDOM["seperatorLineDiv"+t].className="vis-separator-line",this.manipulationDiv.appendChild(this.manipulationDOM["seperatorLineDiv"+t])}},{key:"_createAddNodeButton",value:function(t){var e=this._createButton("addNode","vis-button vis-add",t.addNode||this.options.locales.en.addNode);this.manipulationDiv.appendChild(e),this._bindHammerToDiv(e,this.addNodeMode.bind(this))}},{key:"_createAddEdgeButton",value:function(t){var e=this._createButton("addEdge","vis-button vis-connect",t.addEdge||this.options.locales.en.addEdge);this.manipulationDiv.appendChild(e),this._bindHammerToDiv(e,this.addEdgeMode.bind(this))}},{key:"_createEditNodeButton",value:function(t){var e=this._createButton("editNode","vis-button vis-edit",t.editNode||this.options.locales.en.editNode);this.manipulationDiv.appendChild(e),this._bindHammerToDiv(e,this.editNode.bind(this))}},{key:"_createEditEdgeButton",value:function(t){var e=this._createButton("editEdge","vis-button vis-edit",t.editEdge||this.options.locales.en.editEdge);this.manipulationDiv.appendChild(e),this._bindHammerToDiv(e,this.editEdgeMode.bind(this))}},{key:"_createDeleteButton",value:function(t){var e=this._createButton("delete",this.options.rtl?"vis-button vis-delete-rtl":"vis-button vis-delete",t.del||this.options.locales.en.del);this.manipulationDiv.appendChild(e),this._bindHammerToDiv(e,this.deleteSelected.bind(this))}},{key:"_createBackButton",value:function(t){var e=this._createButton("back","vis-button vis-back",t.back||this.options.locales.en.back);this.manipulationDiv.appendChild(e),this._bindHammerToDiv(e,this.showManipulatorToolbar.bind(this))}},{key:"_createButton",value:function(t,e,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"vis-label";return this.manipulationDOM[t+"Div"]=document.createElement("div"),this.manipulationDOM[t+"Div"].className=e,this.manipulationDOM[t+"Label"]=document.createElement("div"),this.manipulationDOM[t+"Label"].className=o,this.manipulationDOM[t+"Label"].innerHTML=i,this.manipulationDOM[t+"Div"].appendChild(this.manipulationDOM[t+"Label"]),this.manipulationDOM[t+"Div"]}},{key:"_createDescription",value:function(t){this.manipulationDiv.appendChild(this._createButton("description","vis-button vis-none",t))}},{key:"_temporaryBindEvent",value:function(t,e){this.temporaryEventFunctions.push({event:t,boundFunction:e}),this.body.emitter.on(t,e)}},{key:"_temporaryBindUI",value:function(t,e){if(void 0===this.body.eventListeners[t])throw new Error("This UI function does not exist. Typo? You tried: "+t+" possible are: "+(0,r.default)((0,n.default)(this.body.eventListeners)));this.temporaryUIFunctions[t]=this.body.eventListeners[t],this.body.eventListeners[t]=e}},{key:"_unbindTemporaryUIs",value:function(){for(var t in this.temporaryUIFunctions)this.temporaryUIFunctions.hasOwnProperty(t)&&(this.body.eventListeners[t]=this.temporaryUIFunctions[t],delete this.temporaryUIFunctions[t]);this.temporaryUIFunctions={}}},{key:"_unbindTemporaryEvents",value:function(){for(var t=0;t<this.temporaryEventFunctions.length;t++)this.body.emitter.off(this.temporaryEventFunctions[t].event,this.temporaryEventFunctions[t].boundFunction);this.temporaryEventFunctions=[]}},{key:"_bindHammerToDiv",value:function(t,e){var i=new p(t,{});u.onTouch(i,e),this.manipulationHammers.push(i)}},{key:"_cleanupTemporaryNodesAndEdges",value:function(){for(var t=0;t<this.temporaryIds.edges.length;t++){this.body.edges[this.temporaryIds.edges[t]].disconnect(),delete this.body.edges[this.temporaryIds.edges[t]];var e=this.body.edgeIndices.indexOf(this.temporaryIds.edges[t]);-1!==e&&this.body.edgeIndices.splice(e,1)}for(var i=0;i<this.temporaryIds.nodes.length;i++){delete this.body.nodes[this.temporaryIds.nodes[i]];var o=this.body.nodeIndices.indexOf(this.temporaryIds.nodes[i]);-1!==o&&this.body.nodeIndices.splice(o,1)}this.temporaryIds={nodes:[],edges:[]}}},{key:"_controlNodeTouch",value:function(t){this.selectionHandler.unselectAll(),this.lastTouch=this.body.functions.getPointer(t.center),this.lastTouch.translation=l.extend({},this.body.view.translation)}},{key:"_controlNodeDragStart",value:function(t){var e=this.selectionHandler._pointerToPositionObject(this.lastTouch),i=this.body.nodes[this.temporaryIds.nodes[0]],o=this.body.nodes[this.temporaryIds.nodes[1]],n=this.body.edges[this.edgeBeingEditedId];this.selectedControlNode=void 0;var r=i.isOverlappingWith(e),s=o.isOverlappingWith(e);!0===r?(this.selectedControlNode=i,n.edgeType.from=i):!0===s&&(this.selectedControlNode=o,n.edgeType.to=o),void 0!==this.selectedControlNode&&this.selectionHandler.selectObject(this.selectedControlNode),this.body.emitter.emit("_redraw")}},{key:"_controlNodeDrag",value:function(t){this.body.emitter.emit("disablePhysics");var e=this.body.functions.getPointer(t.center),i=this.canvas.DOMtoCanvas(e);void 0!==this.selectedControlNode?(this.selectedControlNode.x=i.x,this.selectedControlNode.y=i.y):this.body.view.translation={x:this.lastTouch.translation.x+(e.x-this.lastTouch.x),y:this.lastTouch.translation.y+(e.y-this.lastTouch.y)},this.body.emitter.emit("_redraw")}},{key:"_controlNodeDragEnd",value:function(t){var e=this.body.functions.getPointer(t.center),i=this.selectionHandler._pointerToPositionObject(e),o=this.body.edges[this.edgeBeingEditedId];if(void 0!==this.selectedControlNode){this.selectionHandler.unselectAll();for(var n=this.selectionHandler._getAllNodesOverlappingWith(i),r=void 0,s=n.length-1;s>=0;s--)if(n[s]!==this.selectedControlNode.id){r=this.body.nodes[n[s]];break}void 0!==r&&void 0!==this.selectedControlNode?!0===r.isCluster?alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError):this.selectedControlNode.id===this.body.nodes[this.temporaryIds.nodes[0]].id?this._performEditEdge(r.id,o.to.id):this._performEditEdge(o.from.id,r.id):(o.updateEdgeType(),this.body.emitter.emit("restorePhysics")),this.body.emitter.emit("_redraw")}}},{key:"_handleConnect",value:function(t){if((new Date).valueOf()-this.touchTime>100){this.lastTouch=this.body.functions.getPointer(t.center),this.lastTouch.translation=l.extend({},this.body.view.translation);var e=this.selectionHandler.getNodeAt(this.lastTouch);if(void 0!==e)if(!0===e.isCluster)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{var i=this._getNewTargetNode(e.x,e.y);this.body.nodes[i.id]=i,this.body.nodeIndices.push(i.id);var o=this.body.functions.createEdge({id:"connectionEdge"+l.randomUUID(),from:e.id,to:i.id,physics:!1,smooth:{enabled:!0,type:"continuous",roundness:.5}});this.body.edges[o.id]=o,this.body.edgeIndices.push(o.id),this.temporaryIds.nodes.push(i.id),this.temporaryIds.edges.push(o.id)}this.touchTime=(new Date).valueOf()}}},{key:"_dragControlNode",value:function(t){var e=this.body.functions.getPointer(t.center);if(void 0!==this.temporaryIds.nodes[0]){var i=this.body.nodes[this.temporaryIds.nodes[0]];i.x=this.canvas._XconvertDOMtoCanvas(e.x),i.y=this.canvas._YconvertDOMtoCanvas(e.y),this.body.emitter.emit("_redraw")}else this.body.view.translation={x:this.lastTouch.translation.x+(e.x-this.lastTouch.x),y:this.lastTouch.translation.y+(e.y-this.lastTouch.y)}}},{key:"_finishConnect",value:function(t){var e=this.body.functions.getPointer(t.center),i=this.selectionHandler._pointerToPositionObject(e),o=void 0;void 0!==this.temporaryIds.edges[0]&&(o=this.body.edges[this.temporaryIds.edges[0]].fromId);for(var n=this.selectionHandler._getAllNodesOverlappingWith(i),r=void 0,s=n.length-1;s>=0;s--)if(-1===this.temporaryIds.nodes.indexOf(n[s])){r=this.body.nodes[n[s]];break}this._cleanupTemporaryNodesAndEdges(),void 0!==r&&(!0===r.isCluster?alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError):void 0!==this.body.nodes[o]&&void 0!==this.body.nodes[r.id]&&this._performAddEdge(o,r.id)),this.body.emitter.emit("_redraw")}},{key:"_dragStartEdge",value:function(t){this.selectionHandler._generateClickEvent("dragStart",t,this.lastTouch,void 0,!0)}},{key:"_performAddNode",value:function(t){var e=this,i={id:l.randomUUID(),x:t.pointer.canvas.x,y:t.pointer.canvas.y,label:"new"};if("function"==typeof this.options.addNode){if(2!==this.options.addNode.length)throw this.showManipulatorToolbar(),new Error("The function for add does not support two arguments (data,callback)");this.options.addNode(i,function(t){null!==t&&void 0!==t&&"addNode"===e.inMode&&(e.body.data.nodes.getDataSet().add(t),e.showManipulatorToolbar())})}else this.body.data.nodes.getDataSet().add(i),this.showManipulatorToolbar()}},{key:"_performAddEdge",value:function(t,e){var i=this,o={from:t,to:e};if("function"==typeof this.options.addEdge){if(2!==this.options.addEdge.length)throw new Error("The function for connect does not support two arguments (data,callback)");this.options.addEdge(o,function(t){null!==t&&void 0!==t&&"addEdge"===i.inMode&&(i.body.data.edges.getDataSet().add(t),i.selectionHandler.unselectAll(),i.showManipulatorToolbar())})}else this.body.data.edges.getDataSet().add(o),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}},{key:"_performEditEdge",value:function(t,e){var i=this,o={id:this.edgeBeingEditedId,from:t,to:e,label:this.body.data.edges._data[this.edgeBeingEditedId].label},n=this.options.editEdge;if("object"===(void 0===n?"undefined":(0,s.default)(n))&&(n=n.editWithoutDrag),"function"==typeof n){if(2!==n.length)throw new Error("The function for edit does not support two arguments (data, callback)");n(o,function(t){null===t||void 0===t||"editEdge"!==i.inMode?(i.body.edges[o.id].updateEdgeType(),i.body.emitter.emit("_redraw"),i.showManipulatorToolbar()):(i.body.data.edges.getDataSet().update(t),i.selectionHandler.unselectAll(),i.showManipulatorToolbar())})}else this.body.data.edges.getDataSet().update(o),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}}]),t}();e.default=d},function(t,e,i){function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=o(i(30)),r=o(i(0)),s=o(i(1)),a=o(i(239)),h=function(){function t(e,i,o){(0,r.default)(this,t),this.body=e,this.springLength=i,this.springConstant=o,this.distanceSolver=new a.default}return(0,s.default)(t,[{key:"setOptions",value:function(t){t&&(t.springLength&&(this.springLength=t.springLength),t.springConstant&&(this.springConstant=t.springConstant))}},{key:"solve",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=this.distanceSolver.getDistances(this.body,t,e);this._createL_matrix(o),this._createK_matrix(o),this._createE_matrix();for(var r=0,s=Math.max(1e3,Math.min(10*this.body.nodeIndices.length,6e3)),a=1e9,h=0,l=0,p=0,u=0,d=0;a>.01&&r<s;){r+=1;var c=this._getHighestEnergyNode(i),f=(0,n.default)(c,4);for(h=f[0],l=f[2],p=f[3],u=a=f[1],d=0;u>1&&d<5;){d+=1,this._moveNode(h,l,p);var y=this._getEnergy(h),g=(0,n.default)(y,3);u=g[0],l=g[1],p=g[2]}}}},{key:"_getHighestEnergyNode",value:function(t){for(var e=this.body.nodeIndices,i=this.body.nodes,o=0,r=e[0],s=0,a=0,h=0;h<e.length;h++){var l=e[h];if(!1===i[l].predefinedPosition||!0===i[l].isCluster&&!0===t||!0===i[l].options.fixed.x||!0===i[l].options.fixed.y){var p=this._getEnergy(l),u=(0,n.default)(p,3),d=u[0];o<d&&(o=d,r=l,s=u[1],a=u[2])}}return[r,o,s,a]}},{key:"_getEnergy",value:function(t){var e=(0,n.default)(this.E_sums[t],2),i=e[0],o=e[1];return[Math.sqrt(Math.pow(i,2)+Math.pow(o,2)),i,o]}},{key:"_moveNode",value:function(t,e,i){for(var o=this.body.nodeIndices,n=this.body.nodes,r=0,s=0,a=0,h=n[t].x,l=n[t].y,p=this.K_matrix[t],u=this.L_matrix[t],d=0;d<o.length;d++){var c=o[d];if(c!==t){var f=n[c].x,y=n[c].y,g=p[c],m=u[c],v=1/Math.pow(Math.pow(h-f,2)+Math.pow(l-y,2),1.5);r+=g*(1-m*Math.pow(l-y,2)*v),s+=g*(m*(h-f)*(l-y)*v),a+=g*(1-m*Math.pow(h-f,2)*v)}}var b=(e/r+i/s)/(s/r-a/s);n[t].x+=-(s*b+e)/r,n[t].y+=b,this._updateE_matrix(t)}},{key:"_createL_matrix",value:function(t){var e=this.body.nodeIndices,i=this.springLength;this.L_matrix=[];for(var o=0;o<e.length;o++){this.L_matrix[e[o]]={};for(var n=0;n<e.length;n++)this.L_matrix[e[o]][e[n]]=i*t[e[o]][e[n]]}}},{key:"_createK_matrix",value:function(t){var e=this.body.nodeIndices,i=this.springConstant;this.K_matrix=[];for(var o=0;o<e.length;o++){this.K_matrix[e[o]]={};for(var n=0;n<e.length;n++)this.K_matrix[e[o]][e[n]]=i*Math.pow(t[e[o]][e[n]],-2)}}},{key:"_createE_matrix",value:function(){var t=this.body.nodeIndices,e=this.body.nodes;this.E_matrix={},this.E_sums={};for(var i=0;i<t.length;i++)this.E_matrix[t[i]]=[];for(var o=0;o<t.length;o++){for(var n=t[o],r=e[n].x,s=e[n].y,a=0,h=0,l=o;l<t.length;l++){var p=t[l];if(p!==n){var u=e[p].x,d=e[p].y,c=1/Math.sqrt(Math.pow(r-u,2)+Math.pow(s-d,2));this.E_matrix[n][l]=[this.K_matrix[n][p]*(r-u-this.L_matrix[n][p]*(r-u)*c),this.K_matrix[n][p]*(s-d-this.L_matrix[n][p]*(s-d)*c)],this.E_matrix[p][o]=this.E_matrix[n][l],a+=this.E_matrix[n][l][0],h+=this.E_matrix[n][l][1]}}this.E_sums[n]=[a,h]}}},{key:"_updateE_matrix",value:function(t){for(var e=this.body.nodeIndices,i=this.body.nodes,o=this.E_matrix[t],n=this.K_matrix[t],r=this.L_matrix[t],s=i[t].x,a=i[t].y,h=0,l=0,p=0;p<e.length;p++){var u=e[p];if(u!==t){var d=o[p],c=d[0],f=d[1],y=i[u].x,g=i[u].y,m=1/Math.sqrt(Math.pow(s-y,2)+Math.pow(a-g,2)),v=n[u]*(s-y-r[u]*(s-y)*m),b=n[u]*(a-g-r[u]*(a-g)*m);o[p]=[v,b],h+=v,l+=b;var w=this.E_sums[u];w[0]+=v-c,w[1]+=b-f}}this.E_sums[t]=[h,l]}}]),t}();e.default=h},function(t,e,i){function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=o(i(0)),r=o(i(1)),s=function(){function t(){(0,n.default)(this,t)}return(0,r.default)(t,[{key:"getDistances",value:function(t,e,i){for(var o={},n=t.edges,r=0;r<e.length;r++){var s={};o[e[r]]=s;for(var a=0;a<e.length;a++)s[e[a]]=r==a?0:1e9}for(var h=0;h<i.length;h++){var l=n[i[h]];!0===l.connected&&void 0!==o[l.fromId]&&void 0!==o[l.toId]&&(o[l.fromId][l.toId]=1,o[l.toId][l.fromId]=1)}for(var p=e.length,u=0;u<p;u++)for(var d=e[u],c=o[d],f=0;f<p-1;f++)for(var y=e[f],g=o[y],m=f+1;m<p;m++){var v=e[m],b=o[v],w=Math.min(g[v],g[d]+c[v]);g[v]=w,b[y]=w}return o}}]),t}();e.default=s}])}),function(t,e){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t,e){"use strict";var i=[],o=t.document,n=Object.getPrototypeOf,r=i.slice,s=i.concat,a=i.push,h=i.indexOf,l={},p=l.toString,u=l.hasOwnProperty,d=u.toString,c=d.call(Object),f={},y=function(t){return"function"==typeof t&&"number"!=typeof t.nodeType},g=function(t){return null!=t&&t===t.window},m={type:!0,src:!0,noModule:!0};function v(t,e,i){var n,r=(e=e||o).createElement("script");if(r.text=t,i)for(n in m)i[n]&&(r[n]=i[n]);e.head.appendChild(r).parentNode.removeChild(r)}function b(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?l[p.call(t)]||"object":typeof t}var w=function(t,e){return new w.fn.init(t,e)},x=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function _(t){var e=!!t&&"length"in t&&t.length,i=b(t);return!y(t)&&!g(t)&&("array"===i||0===e||"number"==typeof e&&e>0&&e-1 in t)}w.fn=w.prototype={jquery:"3.3.1",constructor:w,length:0,toArray:function(){return r.call(this)},get:function(t){return null==t?r.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=w.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return w.each(this,t)},map:function(t){return this.pushStack(w.map(this,function(e,i){return t.call(e,i,e)}))},slice:function(){return this.pushStack(r.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,i=+t+(t<0?e:0);return this.pushStack(i>=0&&i<e?[this[i]]:[])},end:function(){return this.prevObject||this.constructor()},push:a,sort:i.sort,splice:i.splice},w.extend=w.fn.extend=function(){var t,e,i,o,n,r,s=arguments[0]||{},a=1,h=arguments.length,l=!1;for("boolean"==typeof s&&(l=s,s=arguments[a]||{},a++),"object"==typeof s||y(s)||(s={}),a===h&&(s=this,a--);a<h;a++)if(null!=(t=arguments[a]))for(e in t)i=s[e],s!==(o=t[e])&&(l&&o&&(w.isPlainObject(o)||(n=Array.isArray(o)))?(n?(n=!1,r=i&&Array.isArray(i)?i:[]):r=i&&w.isPlainObject(i)?i:{},s[e]=w.extend(l,r,o)):void 0!==o&&(s[e]=o));return s},w.extend({expando:"jQuery"+("3.3.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,i;return!(!t||"[object Object]"!==p.call(t)||(e=n(t))&&("function"!=typeof(i=u.call(e,"constructor")&&e.constructor)||d.call(i)!==c))},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t){v(t)},each:function(t,e){var i,o=0;if(_(t))for(i=t.length;o<i&&!1!==e.call(t[o],o,t[o]);o++);else for(o in t)if(!1===e.call(t[o],o,t[o]))break;return t},trim:function(t){return null==t?"":(t+"").replace(x,"")},makeArray:function(t,e){var i=e||[];return null!=t&&(_(Object(t))?w.merge(i,"string"==typeof t?[t]:t):a.call(i,t)),i},inArray:function(t,e,i){return null==e?-1:h.call(e,t,i)},merge:function(t,e){for(var i=+e.length,o=0,n=t.length;o<i;o++)t[n++]=e[o];return t.length=n,t},grep:function(t,e,i){for(var o=[],n=0,r=t.length,s=!i;n<r;n++)!e(t[n],n)!==s&&o.push(t[n]);return o},map:function(t,e,i){var o,n,r=0,a=[];if(_(t))for(o=t.length;r<o;r++)null!=(n=e(t[r],r,i))&&a.push(n);else for(r in t)null!=(n=e(t[r],r,i))&&a.push(n);return s.apply([],a)},guid:1,support:f}),"function"==typeof Symbol&&(w.fn[Symbol.iterator]=i[Symbol.iterator]),w.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){l["[object "+e+"]"]=e.toLowerCase()});var M=function(t){var e,i,o,n,r,s,a,h,l,p,u,d,c,f,y,g,m,v,b,w="sizzle"+1*new Date,x=t.document,_=0,M=0,k=st(),S=st(),C=st(),E=function(t,e){return t===e&&(u=!0),0},T={}.hasOwnProperty,P=[],A=P.pop,O=P.push,D=P.push,I=P.slice,R=function(t,e){for(var i=0,o=t.length;i<o;i++)if(t[i]===e)return i;return-1},N="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",L="[\\x20\\t\\r\\n\\f]",j="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",F="\\["+L+"*("+j+")(?:"+L+"*([*^$|!~]?=)"+L+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+j+"))|)"+L+"*\\]",z=":("+j+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+F+")*)|.*)\\)|)",B=new RegExp(L+"+","g"),q=new RegExp("^"+L+"+|((?:^|[^\\\\])(?:\\\\.)*)"+L+"+$","g"),H=new RegExp("^"+L+"*,"+L+"*"),U=new RegExp("^"+L+"*([>+~]|"+L+")"+L+"*"),W=new RegExp("="+L+"*([^\\]'\"]*?)"+L+"*\\]","g"),G=new RegExp(z),Y=new RegExp("^"+j+"$"),V={ID:new RegExp("^#("+j+")"),CLASS:new RegExp("^\\.("+j+")"),TAG:new RegExp("^("+j+"|[*])"),ATTR:new RegExp("^"+F),PSEUDO:new RegExp("^"+z),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+L+"*(even|odd|(([+-]|)(\\d*)n|)"+L+"*(?:([+-]|)"+L+"*(\\d+)|))"+L+"*\\)|)","i"),bool:new RegExp("^(?:"+N+")$","i"),needsContext:new RegExp("^"+L+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+L+"*((?:-\\d)?\\d*)"+L+"*\\)|)(?=[^-]|$)","i")},X=/^(?:input|select|textarea|button)$/i,Z=/^h\d$/i,K=/^[^{]+\{\s*\[native \w/,J=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,$=/[+~]/,Q=new RegExp("\\\\([\\da-f]{1,6}"+L+"?|("+L+")|.)","ig"),tt=function(t,e,i){var o="0x"+e-65536;return o!=o||i?e:o<0?String.fromCharCode(o+65536):String.fromCharCode(o>>10|55296,1023&o|56320)},et=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,it=function(t,e){return e?"\0"===t?"\ufffd":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},ot=function(){d()},nt=vt(function(t){return!0===t.disabled&&("form"in t||"label"in t)},{dir:"parentNode",next:"legend"});try{D.apply(P=I.call(x.childNodes),x.childNodes)}catch(t){D={apply:P.length?function(t,e){O.apply(t,I.call(e))}:function(t,e){for(var i=t.length,o=0;t[i++]=e[o++];);t.length=i-1}}}function rt(t,e,o,n){var r,a,l,p,u,f,m,v=e&&e.ownerDocument,_=e?e.nodeType:9;if(o=o||[],"string"!=typeof t||!t||1!==_&&9!==_&&11!==_)return o;if(!n&&((e?e.ownerDocument||e:x)!==c&&d(e),e=e||c,y)){if(11!==_&&(u=J.exec(t)))if(r=u[1]){if(9===_){if(!(l=e.getElementById(r)))return o;if(l.id===r)return o.push(l),o}else if(v&&(l=v.getElementById(r))&&b(e,l)&&l.id===r)return o.push(l),o}else{if(u[2])return D.apply(o,e.getElementsByTagName(t)),o;if((r=u[3])&&i.getElementsByClassName&&e.getElementsByClassName)return D.apply(o,e.getElementsByClassName(r)),o}if(i.qsa&&!C[t+" "]&&(!g||!g.test(t))){if(1!==_)v=e,m=t;else if("object"!==e.nodeName.toLowerCase()){for((p=e.getAttribute("id"))?p=p.replace(et,it):e.setAttribute("id",p=w),a=(f=s(t)).length;a--;)f[a]="#"+p+" "+mt(f[a]);m=f.join(","),v=$.test(t)&&yt(e.parentNode)||e}if(m)try{return D.apply(o,v.querySelectorAll(m)),o}catch(t){}finally{p===w&&e.removeAttribute("id")}}}return h(t.replace(q,"$1"),e,o,n)}function st(){var t=[];return function e(i,n){return t.push(i+" ")>o.cacheLength&&delete e[t.shift()],e[i+" "]=n}}function at(t){return t[w]=!0,t}function ht(t){var e=c.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function lt(t,e){for(var i=t.split("|"),n=i.length;n--;)o.attrHandle[i[n]]=e}function pt(t,e){var i=e&&t,o=i&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(o)return o;if(i)for(;i=i.nextSibling;)if(i===e)return-1;return t?1:-1}function ut(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function dt(t){return function(e){var i=e.nodeName.toLowerCase();return("input"===i||"button"===i)&&e.type===t}}function ct(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&nt(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function ft(t){return at(function(e){return e=+e,at(function(i,o){for(var n,r=t([],i.length,e),s=r.length;s--;)i[n=r[s]]&&(i[n]=!(o[n]=i[n]))})})}function yt(t){return t&&void 0!==t.getElementsByTagName&&t}for(e in i=rt.support={},r=rt.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},d=rt.setDocument=function(t){var e,n,s=t?t.ownerDocument||t:x;return s!==c&&9===s.nodeType&&s.documentElement?(f=(c=s).documentElement,y=!r(c),x!==c&&(n=c.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",ot,!1):n.attachEvent&&n.attachEvent("onunload",ot)),i.attributes=ht(function(t){return t.className="i",!t.getAttribute("className")}),i.getElementsByTagName=ht(function(t){return t.appendChild(c.createComment("")),!t.getElementsByTagName("*").length}),i.getElementsByClassName=K.test(c.getElementsByClassName),i.getById=ht(function(t){return f.appendChild(t).id=w,!c.getElementsByName||!c.getElementsByName(w).length}),i.getById?(o.filter.ID=function(t){var e=t.replace(Q,tt);return function(t){return t.getAttribute("id")===e}},o.find.ID=function(t,e){if(void 0!==e.getElementById&&y){var i=e.getElementById(t);return i?[i]:[]}}):(o.filter.ID=function(t){var e=t.replace(Q,tt);return function(t){var i=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return i&&i.value===e}},o.find.ID=function(t,e){if(void 0!==e.getElementById&&y){var i,o,n,r=e.getElementById(t);if(r){if((i=r.getAttributeNode("id"))&&i.value===t)return[r];for(n=e.getElementsByName(t),o=0;r=n[o++];)if((i=r.getAttributeNode("id"))&&i.value===t)return[r]}return[]}}),o.find.TAG=i.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):i.qsa?e.querySelectorAll(t):void 0}:function(t,e){var i,o=[],n=0,r=e.getElementsByTagName(t);if("*"===t){for(;i=r[n++];)1===i.nodeType&&o.push(i);return o}return r},o.find.CLASS=i.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&y)return e.getElementsByClassName(t)},m=[],g=[],(i.qsa=K.test(c.querySelectorAll))&&(ht(function(t){f.appendChild(t).innerHTML="<a id='"+w+"'></a><select id='"+w+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&g.push("[*^$]="+L+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||g.push("\\["+L+"*(?:value|"+N+")"),t.querySelectorAll("[id~="+w+"-]").length||g.push("~="),t.querySelectorAll(":checked").length||g.push(":checked"),t.querySelectorAll("a#"+w+"+*").length||g.push(".#.+[+~]")}),ht(function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=c.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&g.push("name"+L+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&g.push(":enabled",":disabled"),f.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&g.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),g.push(",.*:")})),(i.matchesSelector=K.test(v=f.matches||f.webkitMatchesSelector||f.mozMatchesSelector||f.oMatchesSelector||f.msMatchesSelector))&&ht(function(t){i.disconnectedMatch=v.call(t,"*"),v.call(t,"[s!='']:x"),m.push("!=",z)}),g=g.length&&new RegExp(g.join("|")),m=m.length&&new RegExp(m.join("|")),e=K.test(f.compareDocumentPosition),b=e||K.test(f.contains)?function(t,e){var i=9===t.nodeType?t.documentElement:t,o=e&&e.parentNode;return t===o||!(!o||1!==o.nodeType||!(i.contains?i.contains(o):t.compareDocumentPosition&&16&t.compareDocumentPosition(o)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},E=e?function(t,e){if(t===e)return u=!0,0;var o=!t.compareDocumentPosition-!e.compareDocumentPosition;return o||(1&(o=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!i.sortDetached&&e.compareDocumentPosition(t)===o?t===c||t.ownerDocument===x&&b(x,t)?-1:e===c||e.ownerDocument===x&&b(x,e)?1:p?R(p,t)-R(p,e):0:4&o?-1:1)}:function(t,e){if(t===e)return u=!0,0;var i,o=0,n=t.parentNode,r=e.parentNode,s=[t],a=[e];if(!n||!r)return t===c?-1:e===c?1:n?-1:r?1:p?R(p,t)-R(p,e):0;if(n===r)return pt(t,e);for(i=t;i=i.parentNode;)s.unshift(i);for(i=e;i=i.parentNode;)a.unshift(i);for(;s[o]===a[o];)o++;return o?pt(s[o],a[o]):s[o]===x?-1:a[o]===x?1:0},c):c},rt.matches=function(t,e){return rt(t,null,null,e)},rt.matchesSelector=function(t,e){if((t.ownerDocument||t)!==c&&d(t),e=e.replace(W,"='$1']"),i.matchesSelector&&y&&!C[e+" "]&&(!m||!m.test(e))&&(!g||!g.test(e)))try{var o=v.call(t,e);if(o||i.disconnectedMatch||t.document&&11!==t.document.nodeType)return o}catch(t){}return rt(e,c,null,[t]).length>0},rt.contains=function(t,e){return(t.ownerDocument||t)!==c&&d(t),b(t,e)},rt.attr=function(t,e){(t.ownerDocument||t)!==c&&d(t);var n=o.attrHandle[e.toLowerCase()],r=n&&T.call(o.attrHandle,e.toLowerCase())?n(t,e,!y):void 0;return void 0!==r?r:i.attributes||!y?t.getAttribute(e):(r=t.getAttributeNode(e))&&r.specified?r.value:null},rt.escape=function(t){return(t+"").replace(et,it)},rt.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},rt.uniqueSort=function(t){var e,o=[],n=0,r=0;if(u=!i.detectDuplicates,p=!i.sortStable&&t.slice(0),t.sort(E),u){for(;e=t[r++];)e===t[r]&&(n=o.push(r));for(;n--;)t.splice(o[n],1)}return p=null,t},n=rt.getText=function(t){var e,i="",o=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)i+=n(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[o++];)i+=n(e);return i},(o=rt.selectors={cacheLength:50,createPseudo:at,match:V,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(Q,tt),t[3]=(t[3]||t[4]||t[5]||"").replace(Q,tt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||rt.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&rt.error(t[0]),t},PSEUDO:function(t){var e,i=!t[6]&&t[2];return V.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":i&&G.test(i)&&(e=s(i,!0))&&(e=i.indexOf(")",i.length-e)-i.length)&&(t[0]=t[0].slice(0,e),t[2]=i.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(Q,tt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=k[t+" "];return e||(e=new RegExp("(^|"+L+")"+t+"("+L+"|$)"))&&k(t,function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,e,i){return function(o){var n=rt.attr(o,t);return null==n?"!="===e:!e||(n+="","="===e?n===i:"!="===e?n!==i:"^="===e?i&&0===n.indexOf(i):"*="===e?i&&n.indexOf(i)>-1:"$="===e?i&&n.slice(-i.length)===i:"~="===e?(" "+n.replace(B," ")+" ").indexOf(i)>-1:"|="===e&&(n===i||n.slice(0,i.length+1)===i+"-"))}},CHILD:function(t,e,i,o,n){var r="nth"!==t.slice(0,3),s="last"!==t.slice(-4),a="of-type"===e;return 1===o&&0===n?function(t){return!!t.parentNode}:function(e,i,h){var l,p,u,d,c,f,y=r!==s?"nextSibling":"previousSibling",g=e.parentNode,m=a&&e.nodeName.toLowerCase(),v=!h&&!a,b=!1;if(g){if(r){for(;y;){for(d=e;d=d[y];)if(a?d.nodeName.toLowerCase()===m:1===d.nodeType)return!1;f=y="only"===t&&!f&&"nextSibling"}return!0}if(f=[s?g.firstChild:g.lastChild],s&&v){for(b=(c=(l=(p=(u=(d=g)[w]||(d[w]={}))[d.uniqueID]||(u[d.uniqueID]={}))[t]||[])[0]===_&&l[1])&&l[2],d=c&&g.childNodes[c];d=++c&&d&&d[y]||(b=c=0)||f.pop();)if(1===d.nodeType&&++b&&d===e){p[t]=[_,c,b];break}}else if(v&&(b=c=(l=(p=(u=(d=e)[w]||(d[w]={}))[d.uniqueID]||(u[d.uniqueID]={}))[t]||[])[0]===_&&l[1]),!1===b)for(;(d=++c&&d&&d[y]||(b=c=0)||f.pop())&&((a?d.nodeName.toLowerCase()!==m:1!==d.nodeType)||!++b||(v&&((p=(u=d[w]||(d[w]={}))[d.uniqueID]||(u[d.uniqueID]={}))[t]=[_,b]),d!==e)););return(b-=n)===o||b%o==0&&b/o>=0}}},PSEUDO:function(t,e){var i,n=o.pseudos[t]||o.setFilters[t.toLowerCase()]||rt.error("unsupported pseudo: "+t);return n[w]?n(e):n.length>1?(i=[t,t,"",e],o.setFilters.hasOwnProperty(t.toLowerCase())?at(function(t,i){for(var o,r=n(t,e),s=r.length;s--;)t[o=R(t,r[s])]=!(i[o]=r[s])}):function(t){return n(t,0,i)}):n}},pseudos:{not:at(function(t){var e=[],i=[],o=a(t.replace(q,"$1"));return o[w]?at(function(t,e,i,n){for(var r,s=o(t,null,n,[]),a=t.length;a--;)(r=s[a])&&(t[a]=!(e[a]=r))}):function(t,n,r){return e[0]=t,o(e,null,r,i),e[0]=null,!i.pop()}}),has:at(function(t){return function(e){return rt(t,e).length>0}}),contains:at(function(t){return t=t.replace(Q,tt),function(e){return(e.textContent||e.innerText||n(e)).indexOf(t)>-1}}),lang:at(function(t){return Y.test(t||"")||rt.error("unsupported lang: "+t),t=t.replace(Q,tt).toLowerCase(),function(e){var i;do{if(i=y?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(i=i.toLowerCase())===t||0===i.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var i=t.location&&t.location.hash;return i&&i.slice(1)===e.id},root:function(t){return t===f},focus:function(t){return t===c.activeElement&&(!c.hasFocus||c.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:ct(!1),disabled:ct(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!o.pseudos.empty(t)},header:function(t){return Z.test(t.nodeName)},input:function(t){return X.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:ft(function(){return[0]}),last:ft(function(t,e){return[e-1]}),eq:ft(function(t,e,i){return[i<0?i+e:i]}),even:ft(function(t,e){for(var i=0;i<e;i+=2)t.push(i);return t}),odd:ft(function(t,e){for(var i=1;i<e;i+=2)t.push(i);return t}),lt:ft(function(t,e,i){for(var o=i<0?i+e:i;--o>=0;)t.push(o);return t}),gt:ft(function(t,e,i){for(var o=i<0?i+e:i;++o<e;)t.push(o);return t})}}).pseudos.nth=o.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})o.pseudos[e]=ut(e);for(e in{submit:!0,reset:!0})o.pseudos[e]=dt(e);function gt(){}function mt(t){for(var e=0,i=t.length,o="";e<i;e++)o+=t[e].value;return o}function vt(t,e,i){var o=e.dir,n=e.next,r=n||o,s=i&&"parentNode"===r,a=M++;return e.first?function(e,i,n){for(;e=e[o];)if(1===e.nodeType||s)return t(e,i,n);return!1}:function(e,i,h){var l,p,u,d=[_,a];if(h){for(;e=e[o];)if((1===e.nodeType||s)&&t(e,i,h))return!0}else for(;e=e[o];)if(1===e.nodeType||s)if(p=(u=e[w]||(e[w]={}))[e.uniqueID]||(u[e.uniqueID]={}),n&&n===e.nodeName.toLowerCase())e=e[o]||e;else{if((l=p[r])&&l[0]===_&&l[1]===a)return d[2]=l[2];if(p[r]=d,d[2]=t(e,i,h))return!0}return!1}}function bt(t){return t.length>1?function(e,i,o){for(var n=t.length;n--;)if(!t[n](e,i,o))return!1;return!0}:t[0]}function wt(t,e,i,o,n){for(var r,s=[],a=0,h=t.length,l=null!=e;a<h;a++)(r=t[a])&&(i&&!i(r,o,n)||(s.push(r),l&&e.push(a)));return s}function xt(t,e,i,o,n,r){return o&&!o[w]&&(o=xt(o)),n&&!n[w]&&(n=xt(n,r)),at(function(r,s,a,h){var l,p,u,d=[],c=[],f=s.length,y=r||function(t,e,i){for(var o=0,n=e.length;o<n;o++)rt(t,e[o],i);return i}(e||"*",a.nodeType?[a]:a,[]),g=!t||!r&&e?y:wt(y,d,t,a,h),m=i?n||(r?t:f||o)?[]:s:g;if(i&&i(g,m,a,h),o)for(l=wt(m,c),o(l,[],a,h),p=l.length;p--;)(u=l[p])&&(m[c[p]]=!(g[c[p]]=u));if(r){if(n||t){if(n){for(l=[],p=m.length;p--;)(u=m[p])&&l.push(g[p]=u);n(null,m=[],l,h)}for(p=m.length;p--;)(u=m[p])&&(l=n?R(r,u):d[p])>-1&&(r[l]=!(s[l]=u))}}else m=wt(m===s?m.splice(f,m.length):m),n?n(null,s,m,h):D.apply(s,m)})}function _t(t){for(var e,i,n,r=t.length,s=o.relative[t[0].type],a=s||o.relative[" "],h=s?1:0,p=vt(function(t){return t===e},a,!0),u=vt(function(t){return R(e,t)>-1},a,!0),d=[function(t,i,o){var n=!s&&(o||i!==l)||((e=i).nodeType?p(t,i,o):u(t,i,o));return e=null,n}];h<r;h++)if(i=o.relative[t[h].type])d=[vt(bt(d),i)];else{if((i=o.filter[t[h].type].apply(null,t[h].matches))[w]){for(n=++h;n<r&&!o.relative[t[n].type];n++);return xt(h>1&&bt(d),h>1&&mt(t.slice(0,h-1).concat({value:" "===t[h-2].type?"*":""})).replace(q,"$1"),i,h<n&&_t(t.slice(h,n)),n<r&&_t(t=t.slice(n)),n<r&&mt(t))}d.push(i)}return bt(d)}function Mt(t,e){var i=e.length>0,n=t.length>0,r=function(r,s,a,h,p){var u,f,g,m=0,v="0",b=r&&[],w=[],x=l,M=r||n&&o.find.TAG("*",p),k=_+=null==x?1:Math.random()||.1,S=M.length;for(p&&(l=s===c||s||p);v!==S&&null!=(u=M[v]);v++){if(n&&u){for(f=0,s||u.ownerDocument===c||(d(u),a=!y);g=t[f++];)if(g(u,s||c,a)){h.push(u);break}p&&(_=k)}i&&((u=!g&&u)&&m--,r&&b.push(u))}if(m+=v,i&&v!==m){for(f=0;g=e[f++];)g(b,w,s,a);if(r){if(m>0)for(;v--;)b[v]||w[v]||(w[v]=A.call(h));w=wt(w)}D.apply(h,w),p&&!r&&w.length>0&&m+e.length>1&&rt.uniqueSort(h)}return p&&(_=k,l=x),b};return i?at(r):r}return gt.prototype=o.filters=o.pseudos,o.setFilters=new gt,s=rt.tokenize=function(t,e){var i,n,r,s,a,h,l,p=S[t+" "];if(p)return e?0:p.slice(0);for(a=t,h=[],l=o.preFilter;a;){for(s in i&&!(n=H.exec(a))||(n&&(a=a.slice(n[0].length)||a),h.push(r=[])),i=!1,(n=U.exec(a))&&(i=n.shift(),r.push({value:i,type:n[0].replace(q," ")}),a=a.slice(i.length)),o.filter)!(n=V[s].exec(a))||l[s]&&!(n=l[s](n))||(i=n.shift(),r.push({value:i,type:s,matches:n}),a=a.slice(i.length));if(!i)break}return e?a.length:a?rt.error(t):S(t,h).slice(0)},a=rt.compile=function(t,e){var i,o=[],n=[],r=C[t+" "];if(!r){for(e||(e=s(t)),i=e.length;i--;)(r=_t(e[i]))[w]?o.push(r):n.push(r);(r=C(t,Mt(n,o))).selector=t}return r},h=rt.select=function(t,e,i,n){var r,h,l,p,u,d="function"==typeof t&&t,c=!n&&s(t=d.selector||t);if(i=i||[],1===c.length){if((h=c[0]=c[0].slice(0)).length>2&&"ID"===(l=h[0]).type&&9===e.nodeType&&y&&o.relative[h[1].type]){if(!(e=(o.find.ID(l.matches[0].replace(Q,tt),e)||[])[0]))return i;d&&(e=e.parentNode),t=t.slice(h.shift().value.length)}for(r=V.needsContext.test(t)?0:h.length;r--&&!o.relative[p=(l=h[r]).type];)if((u=o.find[p])&&(n=u(l.matches[0].replace(Q,tt),$.test(h[0].type)&&yt(e.parentNode)||e))){if(h.splice(r,1),!(t=n.length&&mt(h)))return D.apply(i,n),i;break}}return(d||a(t,c))(n,e,!y,i,!e||$.test(t)&&yt(e.parentNode)||e),i},i.sortStable=w.split("").sort(E).join("")===w,i.detectDuplicates=!!u,d(),i.sortDetached=ht(function(t){return 1&t.compareDocumentPosition(c.createElement("fieldset"))}),ht(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||lt("type|href|height|width",function(t,e,i){if(!i)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),i.attributes&&ht(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||lt("value",function(t,e,i){if(!i&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),ht(function(t){return null==t.getAttribute("disabled")})||lt(N,function(t,e,i){var o;if(!i)return!0===t[e]?e.toLowerCase():(o=t.getAttributeNode(e))&&o.specified?o.value:null}),rt}(t);w.find=M,w.expr=M.selectors,w.expr[":"]=w.expr.pseudos,w.uniqueSort=w.unique=M.uniqueSort,w.text=M.getText,w.isXMLDoc=M.isXML,w.contains=M.contains,w.escapeSelector=M.escape;var k=function(t,e,i){for(var o=[],n=void 0!==i;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(n&&w(t).is(i))break;o.push(t)}return o},S=function(t,e){for(var i=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&i.push(t);return i},C=w.expr.match.needsContext;function E(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}var T=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function P(t,e,i){return y(e)?w.grep(t,function(t,o){return!!e.call(t,o,t)!==i}):e.nodeType?w.grep(t,function(t){return t===e!==i}):"string"!=typeof e?w.grep(t,function(t){return h.call(e,t)>-1!==i}):w.filter(e,t,i)}w.filter=function(t,e,i){var o=e[0];return i&&(t=":not("+t+")"),1===e.length&&1===o.nodeType?w.find.matchesSelector(o,t)?[o]:[]:w.find.matches(t,w.grep(e,function(t){return 1===t.nodeType}))},w.fn.extend({find:function(t){var e,i,o=this.length,n=this;if("string"!=typeof t)return this.pushStack(w(t).filter(function(){for(e=0;e<o;e++)if(w.contains(n[e],this))return!0}));for(i=this.pushStack([]),e=0;e<o;e++)w.find(t,n[e],i);return o>1?w.uniqueSort(i):i},filter:function(t){return this.pushStack(P(this,t||[],!1))},not:function(t){return this.pushStack(P(this,t||[],!0))},is:function(t){return!!P(this,"string"==typeof t&&C.test(t)?w(t):t||[],!1).length}});var A,O=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(w.fn.init=function(t,e,i){var n,r;if(!t)return this;if(i=i||A,"string"==typeof t){if(!(n="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:O.exec(t))||!n[1]&&e)return!e||e.jquery?(e||i).find(t):this.constructor(e).find(t);if(n[1]){if(w.merge(this,w.parseHTML(n[1],(e=e instanceof w?e[0]:e)&&e.nodeType?e.ownerDocument||e:o,!0)),T.test(n[1])&&w.isPlainObject(e))for(n in e)y(this[n])?this[n](e[n]):this.attr(n,e[n]);return this}return(r=o.getElementById(n[2]))&&(this[0]=r,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):y(t)?void 0!==i.ready?i.ready(t):t(w):w.makeArray(t,this)}).prototype=w.fn,A=w(o);var D=/^(?:parents|prev(?:Until|All))/,I={children:!0,contents:!0,next:!0,prev:!0};function R(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}w.fn.extend({has:function(t){var e=w(t,this),i=e.length;return this.filter(function(){for(var t=0;t<i;t++)if(w.contains(this,e[t]))return!0})},closest:function(t,e){var i,o=0,n=this.length,r=[],s="string"!=typeof t&&w(t);if(!C.test(t))for(;o<n;o++)for(i=this[o];i&&i!==e;i=i.parentNode)if(i.nodeType<11&&(s?s.index(i)>-1:1===i.nodeType&&w.find.matchesSelector(i,t))){r.push(i);break}return this.pushStack(r.length>1?w.uniqueSort(r):r)},index:function(t){return t?"string"==typeof t?h.call(w(t),this[0]):h.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(w.uniqueSort(w.merge(this.get(),w(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),w.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return k(t,"parentNode")},parentsUntil:function(t,e,i){return k(t,"parentNode",i)},next:function(t){return R(t,"nextSibling")},prev:function(t){return R(t,"previousSibling")},nextAll:function(t){return k(t,"nextSibling")},prevAll:function(t){return k(t,"previousSibling")},nextUntil:function(t,e,i){return k(t,"nextSibling",i)},prevUntil:function(t,e,i){return k(t,"previousSibling",i)},siblings:function(t){return S((t.parentNode||{}).firstChild,t)},children:function(t){return S(t.firstChild)},contents:function(t){return E(t,"iframe")?t.contentDocument:(E(t,"template")&&(t=t.content||t),w.merge([],t.childNodes))}},function(t,e){w.fn[t]=function(i,o){var n=w.map(this,e,i);return"Until"!==t.slice(-5)&&(o=i),o&&"string"==typeof o&&(n=w.filter(o,n)),this.length>1&&(I[t]||w.uniqueSort(n),D.test(t)&&n.reverse()),this.pushStack(n)}});var N=/[^\x20\t\r\n\f]+/g;function L(t){return t}function j(t){throw t}function F(t,e,i,o){var n;try{t&&y(n=t.promise)?n.call(t).done(e).fail(i):t&&y(n=t.then)?n.call(t,e,i):e.apply(void 0,[t].slice(o))}catch(t){i.apply(void 0,[t])}}w.Callbacks=function(t){t="string"==typeof t?function(t){var e={};return w.each(t.match(N)||[],function(t,i){e[i]=!0}),e}(t):w.extend({},t);var e,i,o,n,r=[],s=[],a=-1,h=function(){for(n=n||t.once,o=e=!0;s.length;a=-1)for(i=s.shift();++a<r.length;)!1===r[a].apply(i[0],i[1])&&t.stopOnFalse&&(a=r.length,i=!1);t.memory||(i=!1),e=!1,n&&(r=i?[]:"")},l={add:function(){return r&&(i&&!e&&(a=r.length-1,s.push(i)),function e(i){w.each(i,function(i,o){y(o)?t.unique&&l.has(o)||r.push(o):o&&o.length&&"string"!==b(o)&&e(o)})}(arguments),i&&!e&&h()),this},remove:function(){return w.each(arguments,function(t,e){for(var i;(i=w.inArray(e,r,i))>-1;)r.splice(i,1),i<=a&&a--}),this},has:function(t){return t?w.inArray(t,r)>-1:r.length>0},empty:function(){return r&&(r=[]),this},disable:function(){return n=s=[],r=i="",this},disabled:function(){return!r},lock:function(){return n=s=[],i||e||(r=i=""),this},locked:function(){return!!n},fireWith:function(t,i){return n||(i=[t,(i=i||[]).slice?i.slice():i],s.push(i),e||h()),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!o}};return l},w.extend({Deferred:function(e){var i=[["notify","progress",w.Callbacks("memory"),w.Callbacks("memory"),2],["resolve","done",w.Callbacks("once memory"),w.Callbacks("once memory"),0,"resolved"],["reject","fail",w.Callbacks("once memory"),w.Callbacks("once memory"),1,"rejected"]],o="pending",n={state:function(){return o},always:function(){return r.done(arguments).fail(arguments),this},catch:function(t){return n.then(null,t)},pipe:function(){var t=arguments;return w.Deferred(function(e){w.each(i,function(i,o){var n=y(t[o[4]])&&t[o[4]];r[o[1]](function(){var t=n&&n.apply(this,arguments);t&&y(t.promise)?t.promise().progress(e.notify).done(e.resolve).fail(e.reject):e[o[0]+"With"](this,n?[t]:arguments)})}),t=null}).promise()},then:function(e,o,n){var r=0;function s(e,i,o,n){return function(){var a=this,h=arguments,l=function(){var t,l;if(!(e<r)){if((t=o.apply(a,h))===i.promise())throw new TypeError("Thenable self-resolution");y(l=t&&("object"==typeof t||"function"==typeof t)&&t.then)?n?l.call(t,s(r,i,L,n),s(r,i,j,n)):l.call(t,s(++r,i,L,n),s(r,i,j,n),s(r,i,L,i.notifyWith)):(o!==L&&(a=void 0,h=[t]),(n||i.resolveWith)(a,h))}},p=n?l:function(){try{l()}catch(t){w.Deferred.exceptionHook&&w.Deferred.exceptionHook(t,p.stackTrace),e+1>=r&&(o!==j&&(a=void 0,h=[t]),i.rejectWith(a,h))}};e?p():(w.Deferred.getStackHook&&(p.stackTrace=w.Deferred.getStackHook()),t.setTimeout(p))}}return w.Deferred(function(t){i[0][3].add(s(0,t,y(n)?n:L,t.notifyWith)),i[1][3].add(s(0,t,y(e)?e:L)),i[2][3].add(s(0,t,y(o)?o:j))}).promise()},promise:function(t){return null!=t?w.extend(t,n):n}},r={};return w.each(i,function(t,e){var s=e[2],a=e[5];n[e[1]]=s.add,a&&s.add(function(){o=a},i[3-t][2].disable,i[3-t][3].disable,i[0][2].lock,i[0][3].lock),s.add(e[3].fire),r[e[0]]=function(){return r[e[0]+"With"](this===r?void 0:this,arguments),this},r[e[0]+"With"]=s.fireWith}),n.promise(r),e&&e.call(r,r),r},when:function(t){var e=arguments.length,i=e,o=Array(i),n=r.call(arguments),s=w.Deferred(),a=function(t){return function(i){o[t]=this,n[t]=arguments.length>1?r.call(arguments):i,--e||s.resolveWith(o,n)}};if(e<=1&&(F(t,s.done(a(i)).resolve,s.reject,!e),"pending"===s.state()||y(n[i]&&n[i].then)))return s.then();for(;i--;)F(n[i],a(i),s.reject);return s.promise()}});var z=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;w.Deferred.exceptionHook=function(e,i){t.console&&t.console.warn&&e&&z.test(e.name)&&t.console.warn("jQuery.Deferred exception: "+e.message,e.stack,i)},w.readyException=function(e){t.setTimeout(function(){throw e})};var B=w.Deferred();function q(){o.removeEventListener("DOMContentLoaded",q),t.removeEventListener("load",q),w.ready()}w.fn.ready=function(t){return B.then(t).catch(function(t){w.readyException(t)}),this},w.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--w.readyWait:w.isReady)||(w.isReady=!0,!0!==t&&--w.readyWait>0||B.resolveWith(o,[w]))}}),w.ready.then=B.then,"complete"===o.readyState||"loading"!==o.readyState&&!o.documentElement.doScroll?t.setTimeout(w.ready):(o.addEventListener("DOMContentLoaded",q),t.addEventListener("load",q));var H=function(t,e,i,o,n,r,s){var a=0,h=t.length,l=null==i;if("object"===b(i))for(a in n=!0,i)H(t,e,a,i[a],!0,r,s);else if(void 0!==o&&(n=!0,y(o)||(s=!0),l&&(s?(e.call(t,o),e=null):(l=e,e=function(t,e,i){return l.call(w(t),i)})),e))for(;a<h;a++)e(t[a],i,s?o:o.call(t[a],a,e(t[a],i)));return n?t:l?e.call(t):h?e(t[0],i):r},U=/^-ms-/,W=/-([a-z])/g;function G(t,e){return e.toUpperCase()}function Y(t){return t.replace(U,"ms-").replace(W,G)}var V=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};function X(){this.expando=w.expando+X.uid++}X.uid=1,X.prototype={cache:function(t){var e=t[this.expando];return e||(e={},V(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,i){var o,n=this.cache(t);if("string"==typeof e)n[Y(e)]=i;else for(o in e)n[Y(o)]=e[o];return n},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][Y(e)]},access:function(t,e,i){return void 0===e||e&&"string"==typeof e&&void 0===i?this.get(t,e):(this.set(t,e,i),void 0!==i?i:e)},remove:function(t,e){var i,o=t[this.expando];if(void 0!==o){if(void 0!==e){i=(e=Array.isArray(e)?e.map(Y):(e=Y(e))in o?[e]:e.match(N)||[]).length;for(;i--;)delete o[e[i]]}(void 0===e||w.isEmptyObject(o))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!w.isEmptyObject(e)}};var Z=new X,K=new X,J=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,$=/[A-Z]/g;function Q(t,e,i){var o;if(void 0===i&&1===t.nodeType)if(o="data-"+e.replace($,"-$&").toLowerCase(),"string"==typeof(i=t.getAttribute(o))){try{i=function(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:J.test(t)?JSON.parse(t):t)}(i)}catch(t){}K.set(t,e,i)}else i=void 0;return i}w.extend({hasData:function(t){return K.hasData(t)||Z.hasData(t)},data:function(t,e,i){return K.access(t,e,i)},removeData:function(t,e){K.remove(t,e)},_data:function(t,e,i){return Z.access(t,e,i)},_removeData:function(t,e){Z.remove(t,e)}}),w.fn.extend({data:function(t,e){var i,o,n,r=this[0],s=r&&r.attributes;if(void 0===t){if(this.length&&(n=K.get(r),1===r.nodeType&&!Z.get(r,"hasDataAttrs"))){for(i=s.length;i--;)s[i]&&0===(o=s[i].name).indexOf("data-")&&(o=Y(o.slice(5)),Q(r,o,n[o]));Z.set(r,"hasDataAttrs",!0)}return n}return"object"==typeof t?this.each(function(){K.set(this,t)}):H(this,function(e){var i;if(r&&void 0===e){if(void 0!==(i=K.get(r,t)))return i;if(void 0!==(i=Q(r,t)))return i}else this.each(function(){K.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){K.remove(this,t)})}}),w.extend({queue:function(t,e,i){var o;if(t)return o=Z.get(t,e=(e||"fx")+"queue"),i&&(!o||Array.isArray(i)?o=Z.access(t,e,w.makeArray(i)):o.push(i)),o||[]},dequeue:function(t,e){var i=w.queue(t,e=e||"fx"),o=i.length,n=i.shift(),r=w._queueHooks(t,e);"inprogress"===n&&(n=i.shift(),o--),n&&("fx"===e&&i.unshift("inprogress"),delete r.stop,n.call(t,function(){w.dequeue(t,e)},r)),!o&&r&&r.empty.fire()},_queueHooks:function(t,e){var i=e+"queueHooks";return Z.get(t,i)||Z.access(t,i,{empty:w.Callbacks("once memory").add(function(){Z.remove(t,[e+"queue",i])})})}}),w.fn.extend({queue:function(t,e){var i=2;return"string"!=typeof t&&(e=t,t="fx",i--),arguments.length<i?w.queue(this[0],t):void 0===e?this:this.each(function(){var i=w.queue(this,t,e);w._queueHooks(this,t),"fx"===t&&"inprogress"!==i[0]&&w.dequeue(this,t)})},dequeue:function(t){return this.each(function(){w.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var i,o=1,n=w.Deferred(),r=this,s=this.length,a=function(){--o||n.resolveWith(r,[r])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";s--;)(i=Z.get(r[s],t+"queueHooks"))&&i.empty&&(o++,i.empty.add(a));return a(),n.promise(e)}});var tt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,et=new RegExp("^(?:([+-])=|)("+tt+")([a-z%]*)$","i"),it=["Top","Right","Bottom","Left"],ot=function(t,e){return"none"===(t=e||t).style.display||""===t.style.display&&w.contains(t.ownerDocument,t)&&"none"===w.css(t,"display")},nt=function(t,e,i,o){var n,r,s={};for(r in e)s[r]=t.style[r],t.style[r]=e[r];for(r in n=i.apply(t,o||[]),e)t.style[r]=s[r];return n};function rt(t,e,i,o){var n,r,s=20,a=o?function(){return o.cur()}:function(){return w.css(t,e,"")},h=a(),l=i&&i[3]||(w.cssNumber[e]?"":"px"),p=(w.cssNumber[e]||"px"!==l&&+h)&&et.exec(w.css(t,e));if(p&&p[3]!==l){for(h/=2,l=l||p[3],p=+h||1;s--;)w.style(t,e,p+l),(1-r)*(1-(r=a()/h||.5))<=0&&(s=0),p/=r;w.style(t,e,(p*=2)+l),i=i||[]}return i&&(p=+p||+h||0,n=i[1]?p+(i[1]+1)*i[2]:+i[2],o&&(o.unit=l,o.start=p,o.end=n)),n}var st={};function at(t){var e,i=t.ownerDocument,o=t.nodeName,n=st[o];return n||(e=i.body.appendChild(i.createElement(o)),n=w.css(e,"display"),e.parentNode.removeChild(e),"none"===n&&(n="block"),st[o]=n,n)}function ht(t,e){for(var i,o,n=[],r=0,s=t.length;r<s;r++)(o=t[r]).style&&(i=o.style.display,e?("none"===i&&(n[r]=Z.get(o,"display")||null,n[r]||(o.style.display="")),""===o.style.display&&ot(o)&&(n[r]=at(o))):"none"!==i&&(n[r]="none",Z.set(o,"display",i)));for(r=0;r<s;r++)null!=n[r]&&(t[r].style.display=n[r]);return t}w.fn.extend({show:function(){return ht(this,!0)},hide:function(){return ht(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){ot(this)?w(this).show():w(this).hide()})}});var lt=/^(?:checkbox|radio)$/i,pt=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,ut=/^$|^module$|\/(?:java|ecma)script/i,dt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function ct(t,e){var i;return i=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&E(t,e)?w.merge([t],i):i}function ft(t,e){for(var i=0,o=t.length;i<o;i++)Z.set(t[i],"globalEval",!e||Z.get(e[i],"globalEval"))}dt.optgroup=dt.option,dt.tbody=dt.tfoot=dt.colgroup=dt.caption=dt.thead,dt.th=dt.td;var yt=/<|&#?\w+;/;function gt(t,e,i,o,n){for(var r,s,a,h,l,p,u=e.createDocumentFragment(),d=[],c=0,f=t.length;c<f;c++)if((r=t[c])||0===r)if("object"===b(r))w.merge(d,r.nodeType?[r]:r);else if(yt.test(r)){for(s=s||u.appendChild(e.createElement("div")),a=(pt.exec(r)||["",""])[1].toLowerCase(),s.innerHTML=(h=dt[a]||dt._default)[1]+w.htmlPrefilter(r)+h[2],p=h[0];p--;)s=s.lastChild;w.merge(d,s.childNodes),(s=u.firstChild).textContent=""}else d.push(e.createTextNode(r));for(u.textContent="",c=0;r=d[c++];)if(o&&w.inArray(r,o)>-1)n&&n.push(r);else if(l=w.contains(r.ownerDocument,r),s=ct(u.appendChild(r),"script"),l&&ft(s),i)for(p=0;r=s[p++];)ut.test(r.type||"")&&i.push(r);return u}!function(){var t=o.createDocumentFragment().appendChild(o.createElement("div")),e=o.createElement("input");e.setAttribute("type","radio"),e.setAttribute("checked","checked"),e.setAttribute("name","t"),t.appendChild(e),f.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",f.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var mt=o.documentElement,vt=/^key/,bt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,wt=/^([^.]*)(?:\.(.+)|)/;function xt(){return!0}function _t(){return!1}function Mt(){try{return o.activeElement}catch(t){}}function kt(t,e,i,o,n,r){var s,a;if("object"==typeof e){for(a in"string"!=typeof i&&(o=o||i,i=void 0),e)kt(t,a,i,o,e[a],r);return t}if(null==o&&null==n?(n=i,o=i=void 0):null==n&&("string"==typeof i?(n=o,o=void 0):(n=o,o=i,i=void 0)),!1===n)n=_t;else if(!n)return t;return 1===r&&(s=n,(n=function(t){return w().off(t),s.apply(this,arguments)}).guid=s.guid||(s.guid=w.guid++)),t.each(function(){w.event.add(this,e,n,o,i)})}w.event={global:{},add:function(t,e,i,o,n){var r,s,a,h,l,p,u,d,c,f,y,g=Z.get(t);if(g)for(i.handler&&(i=(r=i).handler,n=r.selector),n&&w.find.matchesSelector(mt,n),i.guid||(i.guid=w.guid++),(h=g.events)||(h=g.events={}),(s=g.handle)||(s=g.handle=function(e){return void 0!==w&&w.event.triggered!==e.type?w.event.dispatch.apply(t,arguments):void 0}),l=(e=(e||"").match(N)||[""]).length;l--;)c=y=(a=wt.exec(e[l])||[])[1],f=(a[2]||"").split(".").sort(),c&&(u=w.event.special[c]||{},u=w.event.special[c=(n?u.delegateType:u.bindType)||c]||{},p=w.extend({type:c,origType:y,data:o,handler:i,guid:i.guid,selector:n,needsContext:n&&w.expr.match.needsContext.test(n),namespace:f.join(".")},r),(d=h[c])||((d=h[c]=[]).delegateCount=0,u.setup&&!1!==u.setup.call(t,o,f,s)||t.addEventListener&&t.addEventListener(c,s)),u.add&&(u.add.call(t,p),p.handler.guid||(p.handler.guid=i.guid)),n?d.splice(d.delegateCount++,0,p):d.push(p),w.event.global[c]=!0)},remove:function(t,e,i,o,n){var r,s,a,h,l,p,u,d,c,f,y,g=Z.hasData(t)&&Z.get(t);if(g&&(h=g.events)){for(l=(e=(e||"").match(N)||[""]).length;l--;)if(c=y=(a=wt.exec(e[l])||[])[1],f=(a[2]||"").split(".").sort(),c){for(u=w.event.special[c]||{},d=h[c=(o?u.delegateType:u.bindType)||c]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=r=d.length;r--;)p=d[r],!n&&y!==p.origType||i&&i.guid!==p.guid||a&&!a.test(p.namespace)||o&&o!==p.selector&&("**"!==o||!p.selector)||(d.splice(r,1),p.selector&&d.delegateCount--,u.remove&&u.remove.call(t,p));s&&!d.length&&(u.teardown&&!1!==u.teardown.call(t,f,g.handle)||w.removeEvent(t,c,g.handle),delete h[c])}else for(c in h)w.event.remove(t,c+e[l],i,o,!0);w.isEmptyObject(h)&&Z.remove(t,"handle events")}},dispatch:function(t){var e,i,o,n,r,s,a=w.event.fix(t),h=new Array(arguments.length),l=(Z.get(this,"events")||{})[a.type]||[],p=w.event.special[a.type]||{};for(h[0]=a,e=1;e<arguments.length;e++)h[e]=arguments[e];if(a.delegateTarget=this,!p.preDispatch||!1!==p.preDispatch.call(this,a)){for(s=w.event.handlers.call(this,a,l),e=0;(n=s[e++])&&!a.isPropagationStopped();)for(a.currentTarget=n.elem,i=0;(r=n.handlers[i++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!a.rnamespace.test(r.namespace)||(a.handleObj=r,a.data=r.data,void 0!==(o=((w.event.special[r.origType]||{}).handle||r.handler).apply(n.elem,h))&&!1===(a.result=o)&&(a.preventDefault(),a.stopPropagation()));return p.postDispatch&&p.postDispatch.call(this,a),a.result}},handlers:function(t,e){var i,o,n,r,s,a=[],h=e.delegateCount,l=t.target;if(h&&l.nodeType&&!("click"===t.type&&t.button>=1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==t.type||!0!==l.disabled)){for(r=[],s={},i=0;i<h;i++)void 0===s[n=(o=e[i]).selector+" "]&&(s[n]=o.needsContext?w(n,this).index(l)>-1:w.find(n,this,null,[l]).length),s[n]&&r.push(o);r.length&&a.push({elem:l,handlers:r})}return l=this,h<e.length&&a.push({elem:l,handlers:e.slice(h)}),a},addProp:function(t,e){Object.defineProperty(w.Event.prototype,t,{enumerable:!0,configurable:!0,get:y(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[w.expando]?t:new w.Event(t)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==Mt()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===Mt()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&E(this,"input"))return this.click(),!1},_default:function(t){return E(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},w.removeEvent=function(t,e,i){t.removeEventListener&&t.removeEventListener(e,i)},w.Event=function(t,e){if(!(this instanceof w.Event))return new w.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?xt:_t,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&w.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[w.expando]=!0},w.Event.prototype={constructor:w.Event,isDefaultPrevented:_t,isPropagationStopped:_t,isImmediatePropagationStopped:_t,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=xt,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=xt,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=xt,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},w.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&vt.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&bt.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},w.event.addProp),w.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){w.event.special[t]={delegateType:e,bindType:e,handle:function(t){var i,o=t.relatedTarget,n=t.handleObj;return o&&(o===this||w.contains(this,o))||(t.type=n.origType,i=n.handler.apply(this,arguments),t.type=e),i}}}),w.fn.extend({on:function(t,e,i,o){return kt(this,t,e,i,o)},one:function(t,e,i,o){return kt(this,t,e,i,o,1)},off:function(t,e,i){var o,n;if(t&&t.preventDefault&&t.handleObj)return o=t.handleObj,w(t.delegateTarget).off(o.namespace?o.origType+"."+o.namespace:o.origType,o.selector,o.handler),this;if("object"==typeof t){for(n in t)this.off(n,e,t[n]);return this}return!1!==e&&"function"!=typeof e||(i=e,e=void 0),!1===i&&(i=_t),this.each(function(){w.event.remove(this,t,i,e)})}});var St=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Ct=/<script|<style|<link/i,Et=/checked\s*(?:[^=]|=\s*.checked.)/i,Tt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Pt(t,e){return E(t,"table")&&E(11!==e.nodeType?e:e.firstChild,"tr")&&w(t).children("tbody")[0]||t}function At(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function Ot(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function Dt(t,e){var i,o,n,r,s,a,h,l;if(1===e.nodeType){if(Z.hasData(t)&&(r=Z.access(t),s=Z.set(e,r),l=r.events))for(n in delete s.handle,s.events={},l)for(i=0,o=l[n].length;i<o;i++)w.event.add(e,n,l[n][i]);K.hasData(t)&&(a=K.access(t),h=w.extend({},a),K.set(e,h))}}function It(t,e){var i=e.nodeName.toLowerCase();"input"===i&&lt.test(t.type)?e.checked=t.checked:"input"!==i&&"textarea"!==i||(e.defaultValue=t.defaultValue)}function Rt(t,e,i,o){e=s.apply([],e);var n,r,a,h,l,p,u=0,d=t.length,c=d-1,g=e[0],m=y(g);if(m||d>1&&"string"==typeof g&&!f.checkClone&&Et.test(g))return t.each(function(n){var r=t.eq(n);m&&(e[0]=g.call(this,n,r.html())),Rt(r,e,i,o)});if(d&&(r=(n=gt(e,t[0].ownerDocument,!1,t,o)).firstChild,1===n.childNodes.length&&(n=r),r||o)){for(h=(a=w.map(ct(n,"script"),At)).length;u<d;u++)l=n,u!==c&&(l=w.clone(l,!0,!0),h&&w.merge(a,ct(l,"script"))),i.call(t[u],l,u);if(h)for(p=a[a.length-1].ownerDocument,w.map(a,Ot),u=0;u<h;u++)ut.test((l=a[u]).type||"")&&!Z.access(l,"globalEval")&&w.contains(p,l)&&(l.src&&"module"!==(l.type||"").toLowerCase()?w._evalUrl&&w._evalUrl(l.src):v(l.textContent.replace(Tt,""),p,l))}return t}function Nt(t,e,i){for(var o,n=e?w.filter(e,t):t,r=0;null!=(o=n[r]);r++)i||1!==o.nodeType||w.cleanData(ct(o)),o.parentNode&&(i&&w.contains(o.ownerDocument,o)&&ft(ct(o,"script")),o.parentNode.removeChild(o));return t}w.extend({htmlPrefilter:function(t){return t.replace(St,"<$1></$2>")},clone:function(t,e,i){var o,n,r,s,a=t.cloneNode(!0),h=w.contains(t.ownerDocument,t);if(!(f.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||w.isXMLDoc(t)))for(s=ct(a),o=0,n=(r=ct(t)).length;o<n;o++)It(r[o],s[o]);if(e)if(i)for(r=r||ct(t),s=s||ct(a),o=0,n=r.length;o<n;o++)Dt(r[o],s[o]);else Dt(t,a);return(s=ct(a,"script")).length>0&&ft(s,!h&&ct(t,"script")),a},cleanData:function(t){for(var e,i,o,n=w.event.special,r=0;void 0!==(i=t[r]);r++)if(V(i)){if(e=i[Z.expando]){if(e.events)for(o in e.events)n[o]?w.event.remove(i,o):w.removeEvent(i,o,e.handle);i[Z.expando]=void 0}i[K.expando]&&(i[K.expando]=void 0)}}}),w.fn.extend({detach:function(t){return Nt(this,t,!0)},remove:function(t){return Nt(this,t)},text:function(t){return H(this,function(t){return void 0===t?w.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return Rt(this,arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Pt(this,t).appendChild(t)})},prepend:function(){return Rt(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=Pt(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return Rt(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return Rt(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(w.cleanData(ct(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return w.clone(this,t,e)})},html:function(t){return H(this,function(t){var e=this[0]||{},i=0,o=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Ct.test(t)&&!dt[(pt.exec(t)||["",""])[1].toLowerCase()]){t=w.htmlPrefilter(t);try{for(;i<o;i++)1===(e=this[i]||{}).nodeType&&(w.cleanData(ct(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return Rt(this,arguments,function(e){var i=this.parentNode;w.inArray(this,t)<0&&(w.cleanData(ct(this)),i&&i.replaceChild(e,this))},t)}}),w.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){w.fn[t]=function(t){for(var i,o=[],n=w(t),r=n.length-1,s=0;s<=r;s++)i=s===r?this:this.clone(!0),w(n[s])[e](i),a.apply(o,i.get());return this.pushStack(o)}});var Lt=new RegExp("^("+tt+")(?!px)[a-z%]+$","i"),jt=function(e){var i=e.ownerDocument.defaultView;return i&&i.opener||(i=t),i.getComputedStyle(e)},Ft=new RegExp(it.join("|"),"i");function zt(t,e,i){var o,n,r,s,a=t.style;return(i=i||jt(t))&&(""!==(s=i.getPropertyValue(e)||i[e])||w.contains(t.ownerDocument,t)||(s=w.style(t,e)),!f.pixelBoxStyles()&&Lt.test(s)&&Ft.test(e)&&(o=a.width,n=a.minWidth,r=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=i.width,a.width=o,a.minWidth=n,a.maxWidth=r)),void 0!==s?s+"":s}function Bt(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}!function(){function e(){if(p){l.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",p.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",mt.appendChild(l).appendChild(p);var e=t.getComputedStyle(p);n="1%"!==e.top,h=12===i(e.marginLeft),p.style.right="60%",a=36===i(e.right),r=36===i(e.width),p.style.position="absolute",s=36===p.offsetWidth||"absolute",mt.removeChild(l),p=null}}function i(t){return Math.round(parseFloat(t))}var n,r,s,a,h,l=o.createElement("div"),p=o.createElement("div");p.style&&(p.style.backgroundClip="content-box",p.cloneNode(!0).style.backgroundClip="",f.clearCloneStyle="content-box"===p.style.backgroundClip,w.extend(f,{boxSizingReliable:function(){return e(),r},pixelBoxStyles:function(){return e(),a},pixelPosition:function(){return e(),n},reliableMarginLeft:function(){return e(),h},scrollboxSize:function(){return e(),s}}))}();var qt=/^(none|table(?!-c[ea]).+)/,Ht=/^--/,Ut={position:"absolute",visibility:"hidden",display:"block"},Wt={letterSpacing:"0",fontWeight:"400"},Gt=["Webkit","Moz","ms"],Yt=o.createElement("div").style;function Vt(t){var e=w.cssProps[t];return e||(e=w.cssProps[t]=function(t){if(t in Yt)return t;for(var e=t[0].toUpperCase()+t.slice(1),i=Gt.length;i--;)if((t=Gt[i]+e)in Yt)return t}(t)||t),e}function Xt(t,e,i){var o=et.exec(e);return o?Math.max(0,o[2]-(i||0))+(o[3]||"px"):e}function Zt(t,e,i,o,n,r){var s="width"===e?1:0,a=0,h=0;if(i===(o?"border":"content"))return 0;for(;s<4;s+=2)"margin"===i&&(h+=w.css(t,i+it[s],!0,n)),o?("content"===i&&(h-=w.css(t,"padding"+it[s],!0,n)),"margin"!==i&&(h-=w.css(t,"border"+it[s]+"Width",!0,n))):(h+=w.css(t,"padding"+it[s],!0,n),"padding"!==i?h+=w.css(t,"border"+it[s]+"Width",!0,n):a+=w.css(t,"border"+it[s]+"Width",!0,n));return!o&&r>=0&&(h+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-r-h-a-.5))),h}function Kt(t,e,i){var o=jt(t),n=zt(t,e,o),r="border-box"===w.css(t,"boxSizing",!1,o),s=r;if(Lt.test(n)){if(!i)return n;n="auto"}return s=s&&(f.boxSizingReliable()||n===t.style[e]),("auto"===n||!parseFloat(n)&&"inline"===w.css(t,"display",!1,o))&&(n=t["offset"+e[0].toUpperCase()+e.slice(1)],s=!0),(n=parseFloat(n)||0)+Zt(t,e,i||(r?"border":"content"),s,o,n)+"px"}function Jt(t,e,i,o,n){return new Jt.prototype.init(t,e,i,o,n)}w.extend({cssHooks:{opacity:{get:function(t,e){if(e){var i=zt(t,"opacity");return""===i?"1":i}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,e,i,o){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var n,r,s,a=Y(e),h=Ht.test(e),l=t.style;if(h||(e=Vt(a)),s=w.cssHooks[e]||w.cssHooks[a],void 0===i)return s&&"get"in s&&void 0!==(n=s.get(t,!1,o))?n:l[e];"string"==(r=typeof i)&&(n=et.exec(i))&&n[1]&&(i=rt(t,e,n),r="number"),null!=i&&i==i&&("number"===r&&(i+=n&&n[3]||(w.cssNumber[a]?"":"px")),f.clearCloneStyle||""!==i||0!==e.indexOf("background")||(l[e]="inherit"),s&&"set"in s&&void 0===(i=s.set(t,i,o))||(h?l.setProperty(e,i):l[e]=i))}},css:function(t,e,i,o){var n,r,s,a=Y(e);return Ht.test(e)||(e=Vt(a)),(s=w.cssHooks[e]||w.cssHooks[a])&&"get"in s&&(n=s.get(t,!0,i)),void 0===n&&(n=zt(t,e,o)),"normal"===n&&e in Wt&&(n=Wt[e]),""===i||i?(r=parseFloat(n),!0===i||isFinite(r)?r||0:n):n}}),w.each(["height","width"],function(t,e){w.cssHooks[e]={get:function(t,i,o){if(i)return!qt.test(w.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?Kt(t,e,o):nt(t,Ut,function(){return Kt(t,e,o)})},set:function(t,i,o){var n,r=jt(t),s="border-box"===w.css(t,"boxSizing",!1,r),a=o&&Zt(t,e,o,s,r);return s&&f.scrollboxSize()===r.position&&(a-=Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-parseFloat(r[e])-Zt(t,e,"border",!1,r)-.5)),a&&(n=et.exec(i))&&"px"!==(n[3]||"px")&&(t.style[e]=i,i=w.css(t,e)),Xt(0,i,a)}}}),w.cssHooks.marginLeft=Bt(f.reliableMarginLeft,function(t,e){if(e)return(parseFloat(zt(t,"marginLeft"))||t.getBoundingClientRect().left-nt(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),w.each({margin:"",padding:"",border:"Width"},function(t,e){w.cssHooks[t+e]={expand:function(i){for(var o=0,n={},r="string"==typeof i?i.split(" "):[i];o<4;o++)n[t+it[o]+e]=r[o]||r[o-2]||r[0];return n}},"margin"!==t&&(w.cssHooks[t+e].set=Xt)}),w.fn.extend({css:function(t,e){return H(this,function(t,e,i){var o,n,r={},s=0;if(Array.isArray(e)){for(o=jt(t),n=e.length;s<n;s++)r[e[s]]=w.css(t,e[s],!1,o);return r}return void 0!==i?w.style(t,e,i):w.css(t,e)},t,e,arguments.length>1)}}),w.Tween=Jt,(Jt.prototype={constructor:Jt,init:function(t,e,i,o,n,r){this.elem=t,this.prop=i,this.easing=n||w.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=o,this.unit=r||(w.cssNumber[i]?"":"px")},cur:function(){var t=Jt.propHooks[this.prop];return t&&t.get?t.get(this):Jt.propHooks._default.get(this)},run:function(t){var e,i=Jt.propHooks[this.prop];return this.pos=e=this.options.duration?w.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):Jt.propHooks._default.set(this),this}}).init.prototype=Jt.prototype,(Jt.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=w.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){w.fx.step[t.prop]?w.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[w.cssProps[t.prop]]&&!w.cssHooks[t.prop]?t.elem[t.prop]=t.now:w.style(t.elem,t.prop,t.now+t.unit)}}}).scrollTop=Jt.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},w.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},w.fx=Jt.prototype.init,w.fx.step={};var $t,Qt,te=/^(?:toggle|show|hide)$/,ee=/queueHooks$/;function ie(){Qt&&(!1===o.hidden&&t.requestAnimationFrame?t.requestAnimationFrame(ie):t.setTimeout(ie,w.fx.interval),w.fx.tick())}function oe(){return t.setTimeout(function(){$t=void 0}),$t=Date.now()}function ne(t,e){var i,o=0,n={height:t};for(e=e?1:0;o<4;o+=2-e)n["margin"+(i=it[o])]=n["padding"+i]=t;return e&&(n.opacity=n.width=t),n}function re(t,e,i){for(var o,n=(se.tweeners[e]||[]).concat(se.tweeners["*"]),r=0,s=n.length;r<s;r++)if(o=n[r].call(i,e,t))return o}function se(t,e,i){var o,n,r=0,s=se.prefilters.length,a=w.Deferred().always(function(){delete h.elem}),h=function(){if(n)return!1;for(var e=$t||oe(),i=Math.max(0,l.startTime+l.duration-e),o=1-(i/l.duration||0),r=0,s=l.tweens.length;r<s;r++)l.tweens[r].run(o);return a.notifyWith(t,[l,o,i]),o<1&&s?i:(s||a.notifyWith(t,[l,1,0]),a.resolveWith(t,[l]),!1)},l=a.promise({elem:t,props:w.extend({},e),opts:w.extend(!0,{specialEasing:{},easing:w.easing._default},i),originalProperties:e,originalOptions:i,startTime:$t||oe(),duration:i.duration,tweens:[],createTween:function(e,i){var o=w.Tween(t,l.opts,e,i,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(o),o},stop:function(e){var i=0,o=e?l.tweens.length:0;if(n)return this;for(n=!0;i<o;i++)l.tweens[i].run(1);return e?(a.notifyWith(t,[l,1,0]),a.resolveWith(t,[l,e])):a.rejectWith(t,[l,e]),this}}),p=l.props;for(function(t,e){var i,o,n,r,s;for(i in t)if(n=e[o=Y(i)],r=t[i],Array.isArray(r)&&(n=r[1],r=t[i]=r[0]),i!==o&&(t[o]=r,delete t[i]),(s=w.cssHooks[o])&&"expand"in s)for(i in r=s.expand(r),delete t[o],r)i in t||(t[i]=r[i],e[i]=n);else e[o]=n}(p,l.opts.specialEasing);r<s;r++)if(o=se.prefilters[r].call(l,t,p,l.opts))return y(o.stop)&&(w._queueHooks(l.elem,l.opts.queue).stop=o.stop.bind(o)),o;return w.map(p,re,l),y(l.opts.start)&&l.opts.start.call(t,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),w.fx.timer(w.extend(h,{elem:t,anim:l,queue:l.opts.queue})),l}w.Animation=w.extend(se,{tweeners:{"*":[function(t,e){var i=this.createTween(t,e);return rt(i.elem,t,et.exec(e),i),i}]},tweener:function(t,e){y(t)?(e=t,t=["*"]):t=t.match(N);for(var i,o=0,n=t.length;o<n;o++)(se.tweeners[i=t[o]]=se.tweeners[i]||[]).unshift(e)},prefilters:[function(t,e,i){var o,n,r,s,a,h,l,p,u="width"in e||"height"in e,d=this,c={},f=t.style,y=t.nodeType&&ot(t),g=Z.get(t,"fxshow");for(o in i.queue||(null==(s=w._queueHooks(t,"fx")).unqueued&&(s.unqueued=0,a=s.empty.fire,s.empty.fire=function(){s.unqueued||a()}),s.unqueued++,d.always(function(){d.always(function(){s.unqueued--,w.queue(t,"fx").length||s.empty.fire()})})),e)if(te.test(n=e[o])){if(delete e[o],r=r||"toggle"===n,n===(y?"hide":"show")){if("show"!==n||!g||void 0===g[o])continue;y=!0}c[o]=g&&g[o]||w.style(t,o)}if((h=!w.isEmptyObject(e))||!w.isEmptyObject(c))for(o in u&&1===t.nodeType&&(i.overflow=[f.overflow,f.overflowX,f.overflowY],null==(l=g&&g.display)&&(l=Z.get(t,"display")),"none"===(p=w.css(t,"display"))&&(l?p=l:(ht([t],!0),l=t.style.display||l,p=w.css(t,"display"),ht([t]))),("inline"===p||"inline-block"===p&&null!=l)&&"none"===w.css(t,"float")&&(h||(d.done(function(){f.display=l}),null==l&&(l="none"===(p=f.display)?"":p)),f.display="inline-block")),i.overflow&&(f.overflow="hidden",d.always(function(){f.overflow=i.overflow[0],f.overflowX=i.overflow[1],f.overflowY=i.overflow[2]})),h=!1,c)h||(g?"hidden"in g&&(y=g.hidden):g=Z.access(t,"fxshow",{display:l}),r&&(g.hidden=!y),y&&ht([t],!0),d.done(function(){for(o in y||ht([t]),Z.remove(t,"fxshow"),c)w.style(t,o,c[o])})),h=re(y?g[o]:0,o,d),o in g||(g[o]=h.start,y&&(h.end=h.start,h.start=0))}],prefilter:function(t,e){e?se.prefilters.unshift(t):se.prefilters.push(t)}}),w.speed=function(t,e,i){var o=t&&"object"==typeof t?w.extend({},t):{complete:i||!i&&e||y(t)&&t,duration:t,easing:i&&e||e&&!y(e)&&e};return w.fx.off?o.duration=0:"number"!=typeof o.duration&&(o.duration=o.duration in w.fx.speeds?w.fx.speeds[o.duration]:w.fx.speeds._default),null!=o.queue&&!0!==o.queue||(o.queue="fx"),o.old=o.complete,o.complete=function(){y(o.old)&&o.old.call(this),o.queue&&w.dequeue(this,o.queue)},o},w.fn.extend({fadeTo:function(t,e,i,o){return this.filter(ot).css("opacity",0).show().end().animate({opacity:e},t,i,o)},animate:function(t,e,i,o){var n=w.isEmptyObject(t),r=w.speed(e,i,o),s=function(){var e=se(this,w.extend({},t),r);(n||Z.get(this,"finish"))&&e.stop(!0)};return s.finish=s,n||!1===r.queue?this.each(s):this.queue(r.queue,s)},stop:function(t,e,i){var o=function(t){var e=t.stop;delete t.stop,e(i)};return"string"!=typeof t&&(i=e,e=t,t=void 0),e&&!1!==t&&this.queue(t||"fx",[]),this.each(function(){var e=!0,n=null!=t&&t+"queueHooks",r=w.timers,s=Z.get(this);if(n)s[n]&&s[n].stop&&o(s[n]);else for(n in s)s[n]&&s[n].stop&&ee.test(n)&&o(s[n]);for(n=r.length;n--;)r[n].elem!==this||null!=t&&r[n].queue!==t||(r[n].anim.stop(i),e=!1,r.splice(n,1));!e&&i||w.dequeue(this,t)})},finish:function(t){return!1!==t&&(t=t||"fx"),this.each(function(){var e,i=Z.get(this),o=i[t+"queue"],n=i[t+"queueHooks"],r=w.timers,s=o?o.length:0;for(i.finish=!0,w.queue(this,t,[]),n&&n.stop&&n.stop.call(this,!0),e=r.length;e--;)r[e].elem===this&&r[e].queue===t&&(r[e].anim.stop(!0),r.splice(e,1));for(e=0;e<s;e++)o[e]&&o[e].finish&&o[e].finish.call(this);delete i.finish})}}),w.each(["toggle","show","hide"],function(t,e){var i=w.fn[e];w.fn[e]=function(t,o,n){return null==t||"boolean"==typeof t?i.apply(this,arguments):this.animate(ne(e,!0),t,o,n)}}),w.each({slideDown:ne("show"),slideUp:ne("hide"),slideToggle:ne("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){w.fn[t]=function(t,i,o){return this.animate(e,t,i,o)}}),w.timers=[],w.fx.tick=function(){var t,e=0,i=w.timers;for($t=Date.now();e<i.length;e++)(t=i[e])()||i[e]!==t||i.splice(e--,1);i.length||w.fx.stop(),$t=void 0},w.fx.timer=function(t){w.timers.push(t),w.fx.start()},w.fx.interval=13,w.fx.start=function(){Qt||(Qt=!0,ie())},w.fx.stop=function(){Qt=null},w.fx.speeds={slow:600,fast:200,_default:400},w.fn.delay=function(e,i){return e=w.fx&&w.fx.speeds[e]||e,this.queue(i=i||"fx",function(i,o){var n=t.setTimeout(i,e);o.stop=function(){t.clearTimeout(n)}})},function(){var t=o.createElement("input"),e=o.createElement("select").appendChild(o.createElement("option"));t.type="checkbox",f.checkOn=""!==t.value,f.optSelected=e.selected,(t=o.createElement("input")).value="t",t.type="radio",f.radioValue="t"===t.value}();var ae,he=w.expr.attrHandle;w.fn.extend({attr:function(t,e){return H(this,w.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){w.removeAttr(this,t)})}}),w.extend({attr:function(t,e,i){var o,n,r=t.nodeType;if(3!==r&&8!==r&&2!==r)return void 0===t.getAttribute?w.prop(t,e,i):(1===r&&w.isXMLDoc(t)||(n=w.attrHooks[e.toLowerCase()]||(w.expr.match.bool.test(e)?ae:void 0)),void 0!==i?null===i?void w.removeAttr(t,e):n&&"set"in n&&void 0!==(o=n.set(t,i,e))?o:(t.setAttribute(e,i+""),i):n&&"get"in n&&null!==(o=n.get(t,e))?o:null==(o=w.find.attr(t,e))?void 0:o)},attrHooks:{type:{set:function(t,e){if(!f.radioValue&&"radio"===e&&E(t,"input")){var i=t.value;return t.setAttribute("type",e),i&&(t.value=i),e}}}},removeAttr:function(t,e){var i,o=0,n=e&&e.match(N);if(n&&1===t.nodeType)for(;i=n[o++];)t.removeAttribute(i)}}),ae={set:function(t,e,i){return!1===e?w.removeAttr(t,i):t.setAttribute(i,i),i}},w.each(w.expr.match.bool.source.match(/\w+/g),function(t,e){var i=he[e]||w.find.attr;he[e]=function(t,e,o){var n,r,s=e.toLowerCase();return o||(r=he[s],he[s]=n,n=null!=i(t,e,o)?s:null,he[s]=r),n}});var le=/^(?:input|select|textarea|button)$/i,pe=/^(?:a|area)$/i;function ue(t){return(t.match(N)||[]).join(" ")}function de(t){return t.getAttribute&&t.getAttribute("class")||""}function ce(t){return Array.isArray(t)?t:"string"==typeof t&&t.match(N)||[]}w.fn.extend({prop:function(t,e){return H(this,w.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[w.propFix[t]||t]})}}),w.extend({prop:function(t,e,i){var o,n,r=t.nodeType;if(3!==r&&8!==r&&2!==r)return 1===r&&w.isXMLDoc(t)||(n=w.propHooks[e=w.propFix[e]||e]),void 0!==i?n&&"set"in n&&void 0!==(o=n.set(t,i,e))?o:t[e]=i:n&&"get"in n&&null!==(o=n.get(t,e))?o:t[e]},propHooks:{tabIndex:{get:function(t){var e=w.find.attr(t,"tabindex");return e?parseInt(e,10):le.test(t.nodeName)||pe.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),f.optSelected||(w.propHooks.selected={get:function(t){return null},set:function(t){}}),w.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){w.propFix[this.toLowerCase()]=this}),w.fn.extend({addClass:function(t){var e,i,o,n,r,s,a,h=0;if(y(t))return this.each(function(e){w(this).addClass(t.call(this,e,de(this)))});if((e=ce(t)).length)for(;i=this[h++];)if(n=de(i),o=1===i.nodeType&&" "+ue(n)+" "){for(s=0;r=e[s++];)o.indexOf(" "+r+" ")<0&&(o+=r+" ");n!==(a=ue(o))&&i.setAttribute("class",a)}return this},removeClass:function(t){var e,i,o,n,r,s,a,h=0;if(y(t))return this.each(function(e){w(this).removeClass(t.call(this,e,de(this)))});if(!arguments.length)return this.attr("class","");if((e=ce(t)).length)for(;i=this[h++];)if(n=de(i),o=1===i.nodeType&&" "+ue(n)+" "){for(s=0;r=e[s++];)for(;o.indexOf(" "+r+" ")>-1;)o=o.replace(" "+r+" "," ");n!==(a=ue(o))&&i.setAttribute("class",a)}return this},toggleClass:function(t,e){var i=typeof t,o="string"===i||Array.isArray(t);return"boolean"==typeof e&&o?e?this.addClass(t):this.removeClass(t):y(t)?this.each(function(i){w(this).toggleClass(t.call(this,i,de(this),e),e)}):this.each(function(){var e,n,r,s;if(o)for(n=0,r=w(this),s=ce(t);e=s[n++];)r.hasClass(e)?r.removeClass(e):r.addClass(e);else void 0!==t&&"boolean"!==i||((e=de(this))&&Z.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===t?"":Z.get(this,"__className__")||""))})},hasClass:function(t){var e,i,o=0;for(e=" "+t+" ";i=this[o++];)if(1===i.nodeType&&(" "+ue(de(i))+" ").indexOf(e)>-1)return!0;return!1}});var fe=/\r/g;w.fn.extend({val:function(t){var e,i,o,n=this[0];return arguments.length?(o=y(t),this.each(function(i){var n;1===this.nodeType&&(null==(n=o?t.call(this,i,w(this).val()):t)?n="":"number"==typeof n?n+="":Array.isArray(n)&&(n=w.map(n,function(t){return null==t?"":t+""})),(e=w.valHooks[this.type]||w.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,n,"value")||(this.value=n))})):n?(e=w.valHooks[n.type]||w.valHooks[n.nodeName.toLowerCase()])&&"get"in e&&void 0!==(i=e.get(n,"value"))?i:"string"==typeof(i=n.value)?i.replace(fe,""):null==i?"":i:void 0}}),w.extend({valHooks:{option:{get:function(t){var e=w.find.attr(t,"value");return null!=e?e:ue(w.text(t))}},select:{get:function(t){var e,i,o,n=t.options,r=t.selectedIndex,s="select-one"===t.type,a=s?null:[],h=s?r+1:n.length;for(o=r<0?h:s?r:0;o<h;o++)if(((i=n[o]).selected||o===r)&&!i.disabled&&(!i.parentNode.disabled||!E(i.parentNode,"optgroup"))){if(e=w(i).val(),s)return e;a.push(e)}return a},set:function(t,e){for(var i,o,n=t.options,r=w.makeArray(e),s=n.length;s--;)((o=n[s]).selected=w.inArray(w.valHooks.option.get(o),r)>-1)&&(i=!0);return i||(t.selectedIndex=-1),r}}}}),w.each(["radio","checkbox"],function(){w.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=w.inArray(w(t).val(),e)>-1}},f.checkOn||(w.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}),f.focusin="onfocusin"in t;var ye=/^(?:focusinfocus|focusoutblur)$/,ge=function(t){t.stopPropagation()};w.extend(w.event,{trigger:function(e,i,n,r){var s,a,h,l,p,d,c,f,m=[n||o],v=u.call(e,"type")?e.type:e,b=u.call(e,"namespace")?e.namespace.split("."):[];if(a=f=h=n=n||o,3!==n.nodeType&&8!==n.nodeType&&!ye.test(v+w.event.triggered)&&(v.indexOf(".")>-1&&(v=(b=v.split(".")).shift(),b.sort()),p=v.indexOf(":")<0&&"on"+v,(e=e[w.expando]?e:new w.Event(v,"object"==typeof e&&e)).isTrigger=r?2:3,e.namespace=b.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+b.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),i=null==i?[e]:w.makeArray(i,[e]),c=w.event.special[v]||{},r||!c.trigger||!1!==c.trigger.apply(n,i))){if(!r&&!c.noBubble&&!g(n)){for(ye.test((l=c.delegateType||v)+v)||(a=a.parentNode);a;a=a.parentNode)m.push(a),h=a;h===(n.ownerDocument||o)&&m.push(h.defaultView||h.parentWindow||t)}for(s=0;(a=m[s++])&&!e.isPropagationStopped();)f=a,e.type=s>1?l:c.bindType||v,(d=(Z.get(a,"events")||{})[e.type]&&Z.get(a,"handle"))&&d.apply(a,i),(d=p&&a[p])&&d.apply&&V(a)&&(e.result=d.apply(a,i),!1===e.result&&e.preventDefault());return e.type=v,r||e.isDefaultPrevented()||c._default&&!1!==c._default.apply(m.pop(),i)||!V(n)||p&&y(n[v])&&!g(n)&&((h=n[p])&&(n[p]=null),w.event.triggered=v,e.isPropagationStopped()&&f.addEventListener(v,ge),n[v](),e.isPropagationStopped()&&f.removeEventListener(v,ge),w.event.triggered=void 0,h&&(n[p]=h)),e.result}},simulate:function(t,e,i){var o=w.extend(new w.Event,i,{type:t,isSimulated:!0});w.event.trigger(o,null,e)}}),w.fn.extend({trigger:function(t,e){return this.each(function(){w.event.trigger(t,e,this)})},triggerHandler:function(t,e){var i=this[0];if(i)return w.event.trigger(t,e,i,!0)}}),f.focusin||w.each({focus:"focusin",blur:"focusout"},function(t,e){var i=function(t){w.event.simulate(e,t.target,w.event.fix(t))};w.event.special[e]={setup:function(){var o=this.ownerDocument||this,n=Z.access(o,e);n||o.addEventListener(t,i,!0),Z.access(o,e,(n||0)+1)},teardown:function(){var o=this.ownerDocument||this,n=Z.access(o,e)-1;n?Z.access(o,e,n):(o.removeEventListener(t,i,!0),Z.remove(o,e))}}});var me=t.location,ve=Date.now(),be=/\?/;w.parseXML=function(e){var i;if(!e||"string"!=typeof e)return null;try{i=(new t.DOMParser).parseFromString(e,"text/xml")}catch(t){i=void 0}return i&&!i.getElementsByTagName("parsererror").length||w.error("Invalid XML: "+e),i};var we=/\[\]$/,xe=/\r?\n/g,_e=/^(?:submit|button|image|reset|file)$/i,Me=/^(?:input|select|textarea|keygen)/i;function ke(t,e,i,o){var n;if(Array.isArray(e))w.each(e,function(e,n){i||we.test(t)?o(t,n):ke(t+"["+("object"==typeof n&&null!=n?e:"")+"]",n,i,o)});else if(i||"object"!==b(e))o(t,e);else for(n in e)ke(t+"["+n+"]",e[n],i,o)}w.param=function(t,e){var i,o=[],n=function(t,e){var i=y(e)?e():e;o[o.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==i?"":i)};if(Array.isArray(t)||t.jquery&&!w.isPlainObject(t))w.each(t,function(){n(this.name,this.value)});else for(i in t)ke(i,t[i],e,n);return o.join("&")},w.fn.extend({serialize:function(){return w.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=w.prop(this,"elements");return t?w.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!w(this).is(":disabled")&&Me.test(this.nodeName)&&!_e.test(t)&&(this.checked||!lt.test(t))}).map(function(t,e){var i=w(this).val();return null==i?null:Array.isArray(i)?w.map(i,function(t){return{name:e.name,value:t.replace(xe,"\r\n")}}):{name:e.name,value:i.replace(xe,"\r\n")}}).get()}});var Se=/%20/g,Ce=/#.*$/,Ee=/([?&])_=[^&]*/,Te=/^(.*?):[ \t]*([^\r\n]*)$/gm,Pe=/^(?:GET|HEAD)$/,Ae=/^\/\//,Oe={},De={},Ie="*/".concat("*"),Re=o.createElement("a");function Ne(t){return function(e,i){"string"!=typeof e&&(i=e,e="*");var o,n=0,r=e.toLowerCase().match(N)||[];if(y(i))for(;o=r[n++];)"+"===o[0]?(o=o.slice(1)||"*",(t[o]=t[o]||[]).unshift(i)):(t[o]=t[o]||[]).push(i)}}function Le(t,e,i,o){var n={},r=t===De;function s(a){var h;return n[a]=!0,w.each(t[a]||[],function(t,a){var l=a(e,i,o);return"string"!=typeof l||r||n[l]?r?!(h=l):void 0:(e.dataTypes.unshift(l),s(l),!1)}),h}return s(e.dataTypes[0])||!n["*"]&&s("*")}function je(t,e){var i,o,n=w.ajaxSettings.flatOptions||{};for(i in e)void 0!==e[i]&&((n[i]?t:o||(o={}))[i]=e[i]);return o&&w.extend(!0,t,o),t}Re.href=me.href,w.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:me.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(me.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ie,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":w.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?je(je(t,w.ajaxSettings),e):je(w.ajaxSettings,t)},ajaxPrefilter:Ne(Oe),ajaxTransport:Ne(De),ajax:function(e,i){"object"==typeof e&&(i=e,e=void 0);var n,r,s,a,h,l,p,u,d,c,f=w.ajaxSetup({},i=i||{}),y=f.context||f,g=f.context&&(y.nodeType||y.jquery)?w(y):w.event,m=w.Deferred(),v=w.Callbacks("once memory"),b=f.statusCode||{},x={},_={},M="canceled",k={readyState:0,getResponseHeader:function(t){var e;if(p){if(!a)for(a={};e=Te.exec(s);)a[e[1].toLowerCase()]=e[2];e=a[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return p?s:null},setRequestHeader:function(t,e){return null==p&&(t=_[t.toLowerCase()]=_[t.toLowerCase()]||t,x[t]=e),this},overrideMimeType:function(t){return null==p&&(f.mimeType=t),this},statusCode:function(t){var e;if(t)if(p)k.always(t[k.status]);else for(e in t)b[e]=[b[e],t[e]];return this},abort:function(t){var e=t||M;return n&&n.abort(e),S(0,e),this}};if(m.promise(k),f.url=((e||f.url||me.href)+"").replace(Ae,me.protocol+"//"),f.type=i.method||i.type||f.method||f.type,f.dataTypes=(f.dataType||"*").toLowerCase().match(N)||[""],null==f.crossDomain){l=o.createElement("a");try{l.href=f.url,l.href=l.href,f.crossDomain=Re.protocol+"//"+Re.host!=l.protocol+"//"+l.host}catch(t){f.crossDomain=!0}}if(f.data&&f.processData&&"string"!=typeof f.data&&(f.data=w.param(f.data,f.traditional)),Le(Oe,f,i,k),p)return k;for(d in(u=w.event&&f.global)&&0==w.active++&&w.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!Pe.test(f.type),r=f.url.replace(Ce,""),f.hasContent?f.data&&f.processData&&0===(f.contentType||"").indexOf("application/x-www-form-urlencoded")&&(f.data=f.data.replace(Se,"+")):(c=f.url.slice(r.length),f.data&&(f.processData||"string"==typeof f.data)&&(r+=(be.test(r)?"&":"?")+f.data,delete f.data),!1===f.cache&&(r=r.replace(Ee,"$1"),c=(be.test(r)?"&":"?")+"_="+ve+++c),f.url=r+c),f.ifModified&&(w.lastModified[r]&&k.setRequestHeader("If-Modified-Since",w.lastModified[r]),w.etag[r]&&k.setRequestHeader("If-None-Match",w.etag[r])),(f.data&&f.hasContent&&!1!==f.contentType||i.contentType)&&k.setRequestHeader("Content-Type",f.contentType),k.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+Ie+"; q=0.01":""):f.accepts["*"]),f.headers)k.setRequestHeader(d,f.headers[d]);if(f.beforeSend&&(!1===f.beforeSend.call(y,k,f)||p))return k.abort();if(M="abort",v.add(f.complete),k.done(f.success),k.fail(f.error),n=Le(De,f,i,k)){if(k.readyState=1,u&&g.trigger("ajaxSend",[k,f]),p)return k;f.async&&f.timeout>0&&(h=t.setTimeout(function(){k.abort("timeout")},f.timeout));try{p=!1,n.send(x,S)}catch(t){if(p)throw t;S(-1,t)}}else S(-1,"No Transport");function S(e,i,o,a){var l,d,c,x,_,M=i;p||(p=!0,h&&t.clearTimeout(h),n=void 0,s=a||"",k.readyState=e>0?4:0,l=e>=200&&e<300||304===e,o&&(x=function(t,e,i){for(var o,n,r,s,a=t.contents,h=t.dataTypes;"*"===h[0];)h.shift(),void 0===o&&(o=t.mimeType||e.getResponseHeader("Content-Type"));if(o)for(n in a)if(a[n]&&a[n].test(o)){h.unshift(n);break}if(h[0]in i)r=h[0];else{for(n in i){if(!h[0]||t.converters[n+" "+h[0]]){r=n;break}s||(s=n)}r=r||s}if(r)return r!==h[0]&&h.unshift(r),i[r]}(f,k,o)),x=function(t,e,i,o){var n,r,s,a,h,l={},p=t.dataTypes.slice();if(p[1])for(s in t.converters)l[s.toLowerCase()]=t.converters[s];for(r=p.shift();r;)if(t.responseFields[r]&&(i[t.responseFields[r]]=e),!h&&o&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),h=r,r=p.shift())if("*"===r)r=h;else if("*"!==h&&h!==r){if(!(s=l[h+" "+r]||l["* "+r]))for(n in l)if((a=n.split(" "))[1]===r&&(s=l[h+" "+a[0]]||l["* "+a[0]])){!0===s?s=l[n]:!0!==l[n]&&(r=a[0],p.unshift(a[1]));break}if(!0!==s)if(s&&t.throws)e=s(e);else try{e=s(e)}catch(t){return{state:"parsererror",error:s?t:"No conversion from "+h+" to "+r}}}return{state:"success",data:e}}(f,x,k,l),l?(f.ifModified&&((_=k.getResponseHeader("Last-Modified"))&&(w.lastModified[r]=_),(_=k.getResponseHeader("etag"))&&(w.etag[r]=_)),204===e||"HEAD"===f.type?M="nocontent":304===e?M="notmodified":(M=x.state,d=x.data,l=!(c=x.error))):(c=M,!e&&M||(M="error",e<0&&(e=0))),k.status=e,k.statusText=(i||M)+"",l?m.resolveWith(y,[d,M,k]):m.rejectWith(y,[k,M,c]),k.statusCode(b),b=void 0,u&&g.trigger(l?"ajaxSuccess":"ajaxError",[k,f,l?d:c]),v.fireWith(y,[k,M]),u&&(g.trigger("ajaxComplete",[k,f]),--w.active||w.event.trigger("ajaxStop")))}return k},getJSON:function(t,e,i){return w.get(t,e,i,"json")},getScript:function(t,e){return w.get(t,void 0,e,"script")}}),w.each(["get","post"],function(t,e){w[e]=function(t,i,o,n){return y(i)&&(n=n||o,o=i,i=void 0),w.ajax(w.extend({url:t,type:e,dataType:n,data:i,success:o},w.isPlainObject(t)&&t))}}),w._evalUrl=function(t){return w.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},w.fn.extend({wrapAll:function(t){var e;return this[0]&&(y(t)&&(t=t.call(this[0])),e=w(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this},wrapInner:function(t){return y(t)?this.each(function(e){w(this).wrapInner(t.call(this,e))}):this.each(function(){var e=w(this),i=e.contents();i.length?i.wrapAll(t):e.append(t)})},wrap:function(t){var e=y(t);return this.each(function(i){w(this).wrapAll(e?t.call(this,i):t)})},unwrap:function(t){return this.parent(t).not("body").each(function(){w(this).replaceWith(this.childNodes)}),this}}),w.expr.pseudos.hidden=function(t){return!w.expr.pseudos.visible(t)},w.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},w.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch(t){}};var Fe={0:200,1223:204},ze=w.ajaxSettings.xhr();f.cors=!!ze&&"withCredentials"in ze,f.ajax=ze=!!ze,w.ajaxTransport(function(e){var i,o;if(f.cors||ze&&!e.crossDomain)return{send:function(n,r){var s,a=e.xhr();if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(s in e.xhrFields)a[s]=e.xhrFields[s];for(s in e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest"),n)a.setRequestHeader(s,n[s]);i=function(t){return function(){i&&(i=o=a.onload=a.onerror=a.onabort=a.ontimeout=a.onreadystatechange=null,"abort"===t?a.abort():"error"===t?"number"!=typeof a.status?r(0,"error"):r(a.status,a.statusText):r(Fe[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=i(),o=a.onerror=a.ontimeout=i("error"),void 0!==a.onabort?a.onabort=o:a.onreadystatechange=function(){4===a.readyState&&t.setTimeout(function(){i&&o()})},i=i("abort");try{a.send(e.hasContent&&e.data||null)}catch(t){if(i)throw t}},abort:function(){i&&i()}}}),w.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),w.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return w.globalEval(t),t}}}),w.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),w.ajaxTransport("script",function(t){var e,i;if(t.crossDomain)return{send:function(n,r){e=w("<script>").prop({charset:t.scriptCharset,src:t.url}).on("load error",i=function(t){e.remove(),i=null,t&&r("error"===t.type?404:200,t.type)}),o.head.appendChild(e[0])},abort:function(){i&&i()}}});var Be=[],qe=/(=)\?(?=&|$)|\?\?/;w.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Be.pop()||w.expando+"_"+ve++;return this[t]=!0,t}}),w.ajaxPrefilter("json jsonp",function(e,i,o){var n,r,s,a=!1!==e.jsonp&&(qe.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&qe.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return n=e.jsonpCallback=y(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(qe,"$1"+n):!1!==e.jsonp&&(e.url+=(be.test(e.url)?"&":"?")+e.jsonp+"="+n),e.converters["script json"]=function(){return s||w.error(n+" was not called"),s[0]},e.dataTypes[0]="json",r=t[n],t[n]=function(){s=arguments},o.always(function(){void 0===r?w(t).removeProp(n):t[n]=r,e[n]&&(e.jsonpCallback=i.jsonpCallback,Be.push(n)),s&&y(r)&&r(s[0]),s=r=void 0}),"script"}),f.createHTMLDocument=function(){var t=o.implementation.createHTMLDocument("").body;return t.innerHTML="<form></form><form></form>",2===t.childNodes.length}(),w.parseHTML=function(t,e,i){return"string"!=typeof t?[]:("boolean"==typeof e&&(i=e,e=!1),e||(f.createHTMLDocument?((n=(e=o.implementation.createHTMLDocument("")).createElement("base")).href=o.location.href,e.head.appendChild(n)):e=o),r=T.exec(t),s=!i&&[],r?[e.createElement(r[1])]:(r=gt([t],e,s),s&&s.length&&w(s).remove(),w.merge([],r.childNodes)));var n,r,s},w.fn.load=function(t,e,i){var o,n,r,s=this,a=t.indexOf(" ");return a>-1&&(o=ue(t.slice(a)),t=t.slice(0,a)),y(e)?(i=e,e=void 0):e&&"object"==typeof e&&(n="POST"),s.length>0&&w.ajax({url:t,type:n||"GET",dataType:"html",data:e}).done(function(t){r=arguments,s.html(o?w("<div>").append(w.parseHTML(t)).find(o):t)}).always(i&&function(t,e){s.each(function(){i.apply(this,r||[t.responseText,e,t])})}),this},w.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){w.fn[e]=function(t){return this.on(e,t)}}),w.expr.pseudos.animated=function(t){return w.grep(w.timers,function(e){return t===e.elem}).length},w.offset={setOffset:function(t,e,i){var o,n,r,s,a,h,l=w.css(t,"position"),p=w(t),u={};"static"===l&&(t.style.position="relative"),a=p.offset(),r=w.css(t,"top"),h=w.css(t,"left"),("absolute"===l||"fixed"===l)&&(r+h).indexOf("auto")>-1?(s=(o=p.position()).top,n=o.left):(s=parseFloat(r)||0,n=parseFloat(h)||0),y(e)&&(e=e.call(t,i,w.extend({},a))),null!=e.top&&(u.top=e.top-a.top+s),null!=e.left&&(u.left=e.left-a.left+n),"using"in e?e.using.call(t,u):p.css(u)}},w.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){w.offset.setOffset(this,t,e)});var e,i,o=this[0];return o?o.getClientRects().length?{top:(e=o.getBoundingClientRect()).top+(i=o.ownerDocument.defaultView).pageYOffset,left:e.left+i.pageXOffset}:{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,i,o=this[0],n={top:0,left:0};if("fixed"===w.css(o,"position"))e=o.getBoundingClientRect();else{for(e=this.offset(),i=o.ownerDocument,t=o.offsetParent||i.documentElement;t&&(t===i.body||t===i.documentElement)&&"static"===w.css(t,"position");)t=t.parentNode;t&&t!==o&&1===t.nodeType&&((n=w(t).offset()).top+=w.css(t,"borderTopWidth",!0),n.left+=w.css(t,"borderLeftWidth",!0))}return{top:e.top-n.top-w.css(o,"marginTop",!0),left:e.left-n.left-w.css(o,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===w.css(t,"position");)t=t.offsetParent;return t||mt})}}),w.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var i="pageYOffset"===e;w.fn[t]=function(o){return H(this,function(t,o,n){var r;if(g(t)?r=t:9===t.nodeType&&(r=t.defaultView),void 0===n)return r?r[e]:t[o];r?r.scrollTo(i?r.pageXOffset:n,i?n:r.pageYOffset):t[o]=n},t,o,arguments.length)}}),w.each(["top","left"],function(t,e){w.cssHooks[e]=Bt(f.pixelPosition,function(t,i){if(i)return i=zt(t,e),Lt.test(i)?w(t).position()[e]+"px":i})}),w.each({Height:"height",Width:"width"},function(t,e){w.each({padding:"inner"+t,content:e,"":"outer"+t},function(i,o){w.fn[o]=function(n,r){var s=arguments.length&&(i||"boolean"!=typeof n),a=i||(!0===n||!0===r?"margin":"border");return H(this,function(e,i,n){var r;return g(e)?0===o.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+t],r["scroll"+t],e.body["offset"+t],r["offset"+t],r["client"+t])):void 0===n?w.css(e,i,a):w.style(e,i,n,a)},e,s?n:void 0,s)}})}),w.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,e){w.fn[e]=function(t,i){return arguments.length>0?this.on(e,null,t,i):this.trigger(e)}}),w.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),w.fn.extend({bind:function(t,e,i){return this.on(t,null,e,i)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,i,o){return this.on(e,t,i,o)},undelegate:function(t,e,i){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",i)}}),w.proxy=function(t,e){var i,o,n;if("string"==typeof e&&(i=t[e],e=t,t=i),y(t))return o=r.call(arguments,2),(n=function(){return t.apply(e||this,o.concat(r.call(arguments)))}).guid=t.guid=t.guid||w.guid++,n},w.holdReady=function(t){t?w.readyWait++:w.ready(!0)},w.isArray=Array.isArray,w.parseJSON=JSON.parse,w.nodeName=E,w.isFunction=y,w.isWindow=g,w.camelCase=Y,w.type=b,w.now=Date.now,w.isNumeric=function(t){var e=w.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},"function"==typeof define&&define.amd&&define("jquery",[],function(){return w});var He=t.jQuery,Ue=t.$;return w.noConflict=function(e){return t.$===w&&(t.$=Ue),e&&t.jQuery===w&&(t.jQuery=He),w},e||(t.jQuery=t.$=w),w}),(function(){var t,e=[].indexOf||function(t){for(var e=0,i=this.length;e<i;e++)if(e in this&&this[e]===t)return e;return-1},i=[].slice,o=function(t,e){return function(){return t.apply(e,arguments)}},n={}.hasOwnProperty;t=function(t){var r,s,a,h,l,p,u,d,c,f,y,g,m,v,b,w,x,_,M,k,S,C;return s=function(t,e,i){var o,n,r,s;for(r=(n=(t+="").split("."))[0],s=n.length>1?i+n[1]:"",o=/(\d+)(\d{3})/;o.test(r);)r=r.replace(o,"$1"+e+"$2");return r+s},_=(y=function(e){return e=t.extend({},{digitsAfterDecimal:2,scaler:1,thousandsSep:",",decimalSep:".",prefix:"",suffix:""},e),function(t){var i;return isNaN(t)||!isFinite(t)?"":(i=s((e.scaler*t).toFixed(e.digitsAfterDecimal),e.thousandsSep,e.decimalSep),""+e.prefix+i+e.suffix)}})(),M=y({digitsAfterDecimal:0}),k=y({digitsAfterDecimal:1,scaler:100,suffix:"%"}),(a={count:function(t){return null==t&&(t=M),function(){return function(e,i,o){return{count:0,push:function(){return this.count++},value:function(){return this.count},format:t}}}},uniques:function(t,i){return null==i&&(i=M),function(o){var n;return n=o[0],function(o,r,s){return{uniq:[],push:function(t){if(e.call(this.uniq,t[n])<0)return this.uniq.push(t[n])},value:function(){return t(this.uniq)},format:i,numInputs:null!=n?0:1}}}},sum:function(t){return null==t&&(t=_),function(e){var i;return i=e[0],function(e,o,n){return{sum:0,push:function(t){if(!isNaN(parseFloat(t[i])))return this.sum+=parseFloat(t[i])},value:function(){return this.sum},format:t,numInputs:null!=i?0:1}}}},extremes:function(t,e){return null==e&&(e=_),function(i){var o;return o=i[0],function(i,n,r){return{val:null,sorter:u(null!=i?i.sorters:void 0,o),push:function(e){var i,n,r,s;if(s=e[o],"min"!==t&&"max"!==t||(s=parseFloat(s),isNaN(s)||(this.val=Math[t](s,null!=(i=this.val)?i:s))),"first"===t&&this.sorter(s,null!=(n=this.val)?n:s)<=0&&(this.val=s),"last"===t&&this.sorter(s,null!=(r=this.val)?r:s)>=0)return this.val=s},value:function(){return this.val},format:function(t){return isNaN(t)?t:e(t)},numInputs:null!=o?0:1}}}},quantile:function(t,e){return null==e&&(e=_),function(i){var o;return o=i[0],function(i,n,r){return{vals:[],push:function(t){var e;if(e=parseFloat(t[o]),!isNaN(e))return this.vals.push(e)},value:function(){var e;return 0===this.vals.length?null:(this.vals.sort(function(t,e){return t-e}),e=(this.vals.length-1)*t,(this.vals[Math.floor(e)]+this.vals[Math.ceil(e)])/2)},format:e,numInputs:null!=o?0:1}}}},runningStat:function(t,e,i){return null==t&&(t="mean"),null==e&&(e=1),null==i&&(i=_),function(o){var n;return n=o[0],function(o,r,s){return{n:0,m:0,s:0,push:function(t){var e,i;if(i=parseFloat(t[n]),!isNaN(i))return this.n+=1,1===this.n?this.m=i:(this.s=this.s+(i-this.m)*(i-(e=this.m+(i-this.m)/this.n)),this.m=e)},value:function(){if("mean"===t)return 0===this.n?NaN:this.m;if(this.n<=e)return 0;switch(t){case"var":return this.s/(this.n-e);case"stdev":return Math.sqrt(this.s/(this.n-e))}},format:i,numInputs:null!=n?0:1}}}},sumOverSum:function(t){return null==t&&(t=_),function(e){var i,o;return o=e[0],i=e[1],function(e,n,r){return{sumNum:0,sumDenom:0,push:function(t){if(isNaN(parseFloat(t[o]))||(this.sumNum+=parseFloat(t[o])),!isNaN(parseFloat(t[i])))return this.sumDenom+=parseFloat(t[i])},value:function(){return this.sumNum/this.sumDenom},format:t,numInputs:null!=o&&null!=i?0:2}}}},sumOverSumBound80:function(t,e){return null==t&&(t=!0),null==e&&(e=_),function(i){var o,n;return n=i[0],o=i[1],function(i,r,s){return{sumNum:0,sumDenom:0,push:function(t){if(isNaN(parseFloat(t[n]))||(this.sumNum+=parseFloat(t[n])),!isNaN(parseFloat(t[o])))return this.sumDenom+=parseFloat(t[o])},value:function(){return(.821187207574908/this.sumDenom+this.sumNum/this.sumDenom+1.2815515655446004*(t?1:-1)*Math.sqrt(.410593603787454/(this.sumDenom*this.sumDenom)+this.sumNum*(1-this.sumNum/this.sumDenom)/(this.sumDenom*this.sumDenom)))/(1+1.642374415149816/this.sumDenom)},format:e,numInputs:null!=n&&null!=o?0:2}}}},fractionOf:function(t,e,o){return null==e&&(e="total"),null==o&&(o=k),function(){var n;return n=1<=arguments.length?i.call(arguments,0):[],function(i,r,s){return{selector:{total:[[],[]],row:[r,[]],col:[[],s]}[e],inner:t.apply(null,n)(i,r,s),push:function(t){return this.inner.push(t)},format:o,value:function(){return this.inner.value()/i.getAggregator.apply(i,this.selector).inner.value()},numInputs:t.apply(null,n)().numInputs}}}}}).countUnique=function(t){return a.uniques(function(t){return t.length},t)},a.listUnique=function(t){return a.uniques(function(e){return e.sort(f).join(t)},function(t){return t})},a.max=function(t){return a.extremes("max",t)},a.min=function(t){return a.extremes("min",t)},a.first=function(t){return a.extremes("first",t)},a.last=function(t){return a.extremes("last",t)},a.median=function(t){return a.quantile(.5,t)},a.average=function(t){return a.runningStat("mean",1,t)},a.var=function(t,e){return a.runningStat("var",t,e)},a.stdev=function(t,e){return a.runningStat("stdev",t,e)},h={Count:(C=a).count(M),"Count Unique Values":C.countUnique(M),"List Unique Values":C.listUnique(", "),Sum:C.sum(_),"Integer Sum":C.sum(M),Average:C.average(_),Median:C.median(_),"Sample Variance":C.var(1,_),"Sample Standard Deviation":C.stdev(1,_),Minimum:C.min(_),Maximum:C.max(_),First:C.first(_),Last:C.last(_),"Sum over Sum":C.sumOverSum(_),"80% Upper Bound":C.sumOverSumBound80(!0,_),"80% Lower Bound":C.sumOverSumBound80(!1,_),"Sum as Fraction of Total":C.fractionOf(C.sum(),"total",k),"Sum as Fraction of Rows":C.fractionOf(C.sum(),"row",k),"Sum as Fraction of Columns":C.fractionOf(C.sum(),"col",k),"Count as Fraction of Total":C.fractionOf(C.count(),"total",k),"Count as Fraction of Rows":C.fractionOf(C.count(),"row",k),"Count as Fraction of Columns":C.fractionOf(C.count(),"col",k)},d={en:{aggregators:h,renderers:v={Table:function(t,e){return g(t,e)},"Table Barchart":function(e,i){return t(g(e,i)).barchart()},Heatmap:function(e,i){return t(g(e,i)).heatmap("heatmap",i)},"Row Heatmap":function(e,i){return t(g(e,i)).heatmap("rowheatmap",i)},"Col Heatmap":function(e,i){return t(g(e,i)).heatmap("colheatmap",i)}},localeStrings:{renderError:"An error occurred rendering the PivotTable results.",computeError:"An error occurred computing the PivotTable results.",uiRenderError:"An error occurred rendering the PivotTable UI.",selectAll:"Select All",selectNone:"Select None",tooMany:"(too many to list)",filterResults:"Filter values",apply:"Apply",cancel:"Cancel",totals:"Totals",vs:"vs",by:"by"}}},c=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],l=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],S=function(t){return("0"+t).substr(-2,2)},p={bin:function(t,e){return function(i){return i[t]-i[t]%e}},dateFormat:function(t,e,i,o,n){var r;return null==i&&(i=!1),null==o&&(o=c),null==n&&(n=l),r=i?"UTC":"",function(i){var s;return s=new Date(Date.parse(i[t])),isNaN(s)?"":e.replace(/%(.)/g,function(t,e){switch(e){case"y":return s["get"+r+"FullYear"]();case"m":return S(s["get"+r+"Month"]()+1);case"n":return o[s["get"+r+"Month"]()];case"d":return S(s["get"+r+"Date"]());case"w":return n[s["get"+r+"Day"]()];case"x":return s["get"+r+"Day"]();case"H":return S(s["get"+r+"Hours"]());case"M":return S(s["get"+r+"Minutes"]());case"S":return S(s["get"+r+"Seconds"]());default:return"%"+e}})}}},b=/(\d+)|(\D+)/g,m=/\d/,w=/^0/,f=function(t,e){var i,o,n,r,s,a;if(null!=e&&null==t)return-1;if(null!=t&&null==e)return 1;if("number"==typeof t&&isNaN(t))return-1;if("number"==typeof e&&isNaN(e))return 1;if((s=+t)<(a=+e))return-1;if(s>a)return 1;if("number"==typeof t&&"number"!=typeof e)return-1;if("number"==typeof e&&"number"!=typeof t)return 1;if("number"==typeof t&&"number"==typeof e)return 0;if(isNaN(a)&&!isNaN(s))return-1;if(isNaN(s)&&!isNaN(a))return 1;if((i=String(t))===(n=String(e)))return 0;if(!m.test(i)||!m.test(n))return i>n?1:-1;for(i=i.match(b),n=n.match(b);i.length&&n.length;)if((o=i.shift())!==(r=n.shift()))return m.test(o)&&m.test(r)?o.replace(w,".0")-r.replace(w,".0"):o>r?1:-1;return i.length-n.length},x=function(t){var e,i,o,n;for(e in o={},i={},t)o[n=t[e]]=e,"string"==typeof n&&(i[n.toLowerCase()]=e);return function(t,e){return null!=o[t]&&null!=o[e]?o[t]-o[e]:null!=o[t]?-1:null!=o[e]?1:null!=i[t]&&null!=i[e]?i[t]-i[e]:null!=i[t]?-1:null!=i[e]?1:f(t,e)}},u=function(e,i){var o;if(null!=e)if(t.isFunction(e)){if(o=e(i),t.isFunction(o))return o}else if(null!=e[i])return e[i];return f},r=function(){function e(t,i){var n,r,s,h,l,p,u,d,c,f,y;null==i&&(i={}),this.getAggregator=o(this.getAggregator,this),this.getRowKeys=o(this.getRowKeys,this),this.getColKeys=o(this.getColKeys,this),this.sortKeys=o(this.sortKeys,this),this.arrSort=o(this.arrSort,this),this.input=t,this.aggregator=null!=(n=i.aggregator)?n:a.count()(),this.aggregatorName=null!=(r=i.aggregatorName)?r:"Count",this.colAttrs=null!=(s=i.cols)?s:[],this.rowAttrs=null!=(h=i.rows)?h:[],this.valAttrs=null!=(l=i.vals)?l:[],this.sorters=null!=(p=i.sorters)?p:{},this.rowOrder=null!=(u=i.rowOrder)?u:"key_a_to_z",this.colOrder=null!=(d=i.colOrder)?d:"key_a_to_z",this.derivedAttributes=null!=(c=i.derivedAttributes)?c:{},this.filter=null!=(f=i.filter)?f:function(){return!0},this.tree={},this.rowKeys=[],this.colKeys=[],this.rowTotals={},this.colTotals={},this.allTotal=this.aggregator(this,[],[]),this.sorted=!1,e.forEachRecord(this.input,this.derivedAttributes,(y=this,function(t){if(y.filter(t))return y.processRecord(t)}))}return e.forEachRecord=function(e,i,o){var r,s,a,h,l,p,u,d,c,f,y;if(r=t.isEmptyObject(i)?o:function(t){var e,n;for(e in i)t[e]=null!=(n=(0,i[e])(t))?n:t[e];return o(t)},t.isFunction(e))return e(r);if(t.isArray(e)){if(t.isArray(e[0])){for(a in c=[],e)if(n.call(e,a)&&(s=e[a],a>0)){for(h in u={},d=e[0])n.call(d,h)&&(u[d[h]]=s[h]);c.push(r(u))}return c}for(f=[],l=0,p=e.length;l<p;l++)f.push(r(u=e[l]));return f}if(e instanceof t)return y=[],t("thead > tr > th",e).each(function(e){return y.push(t(this).text())}),t("tbody > tr",e).each(function(e){return u={},t("td",this).each(function(e){return u[y[e]]=t(this).text()}),r(u)});throw new Error("unknown input format")},e.prototype.forEachMatchingRecord=function(t,i){return e.forEachRecord(this.input,this.derivedAttributes,(o=this,function(e){var n,r;if(o.filter(e)){for(n in t)if(t[n]!==(null!=(r=e[n])?r:"null"))return;return i(e)}}));var o},e.prototype.arrSort=function(t){var e;return e=(function(){var e,i,o;for(o=[],e=0,i=t.length;e<i;e++)o.push(u(this.sorters,t[e]));return o}).call(this),function(t,i){var o,r;for(r in e)if(n.call(e,r)&&0!==(o=(0,e[r])(t[r],i[r])))return o;return 0}},e.prototype.sortKeys=function(){var t,e;if(!this.sorted){switch(this.sorted=!0,e=this,t=function(t,i){return e.getAggregator(t,i).value()},this.rowOrder){case"value_a_to_z":this.rowKeys.sort(function(e,i){return f(t(e,[]),t(i,[]))});break;case"value_z_to_a":this.rowKeys.sort(function(e,i){return-f(t(e,[]),t(i,[]))});break;default:this.rowKeys.sort(this.arrSort(this.rowAttrs))}switch(this.colOrder){case"value_a_to_z":return this.colKeys.sort(function(e,i){return f(t([],e),t([],i))});case"value_z_to_a":return this.colKeys.sort(function(e,i){return-f(t([],e),t([],i))});default:return this.colKeys.sort(this.arrSort(this.colAttrs))}}},e.prototype.getColKeys=function(){return this.sortKeys(),this.colKeys},e.prototype.getRowKeys=function(){return this.sortKeys(),this.rowKeys},e.prototype.processRecord=function(t){var e,i,o,n,r,s,a,h,l,p,u,d;for(e=[],d=[],n=0,r=(h=this.colAttrs).length;n<r;n++)e.push(null!=(l=t[h[n]])?l:"null");for(a=0,s=(p=this.rowAttrs).length;a<s;a++)d.push(null!=(u=t[p[a]])?u:"null");if(o=d.join(String.fromCharCode(0)),i=e.join(String.fromCharCode(0)),this.allTotal.push(t),0!==d.length&&(this.rowTotals[o]||(this.rowKeys.push(d),this.rowTotals[o]=this.aggregator(this,d,[])),this.rowTotals[o].push(t)),0!==e.length&&(this.colTotals[i]||(this.colKeys.push(e),this.colTotals[i]=this.aggregator(this,[],e)),this.colTotals[i].push(t)),0!==e.length&&0!==d.length)return this.tree[o]||(this.tree[o]={}),this.tree[o][i]||(this.tree[o][i]=this.aggregator(this,d,e)),this.tree[o][i].push(t)},e.prototype.getAggregator=function(t,e){var i,o,n;return n=t.join(String.fromCharCode(0)),o=e.join(String.fromCharCode(0)),null!=(i=0===t.length&&0===e.length?this.allTotal:0===t.length?this.colTotals[o]:0===e.length?this.rowTotals[n]:this.tree[n][o])?i:{value:function(){return null},format:function(){return""}}},e}(),t.pivotUtilities={aggregatorTemplates:a,aggregators:h,renderers:v,derivers:p,locales:d,naturalSort:f,numberFormat:y,sortAs:x,PivotData:r},g=function(e,i){var o,r,s,a,h,l,p,u,d,c,f,y,g,m,v,b,w,x,_,M,k,S,C;for(u in i=t.extend(!0,{},{table:{clickCallback:null},localeStrings:{totals:"Totals"}},i),s=e.colAttrs,f=e.rowAttrs,g=e.getRowKeys(),h=e.getColKeys(),i.table.clickCallback&&(l=function(t,o,r){var a,h,l;for(l in h={},s)n.call(s,l)&&(a=s[l],null!=r[l]&&(h[a]=r[l]));for(l in f)n.call(f,l)&&(a=f[l],null!=o[l]&&(h[a]=o[l]));return function(o){return i.table.clickCallback(o,t,h,e)}}),(c=document.createElement("table")).className="pvtTable",m=function(t,e,i){var o,n,r,s,a,h,l,p;if(0!==e){for(s=!0,p=o=0,a=i;0<=a?o<=a:o>=a;p=0<=a?++o:--o)t[e-1][p]!==t[e][p]&&(s=!1);if(s)return-1}for(n=0;e+n<t.length;){for(l=!1,p=r=0,h=i;0<=h?r<=h:r>=h;p=0<=h?++r:--r)t[e][p]!==t[e+n][p]&&(l=!0);if(l)break;n++}return n},x=document.createElement("thead"),s)if(n.call(s,u)){for(p in r=s[u],M=document.createElement("tr"),0===parseInt(u)&&0!==f.length&&((w=document.createElement("th")).setAttribute("colspan",f.length),w.setAttribute("rowspan",s.length),M.appendChild(w)),(w=document.createElement("th")).className="pvtAxisLabel",w.textContent=r,M.appendChild(w),h)n.call(h,p)&&(a=h[p],-1!==(C=m(h,parseInt(p),parseInt(u)))&&((w=document.createElement("th")).className="pvtColLabel",w.textContent=a[u],w.setAttribute("colspan",C),parseInt(u)===s.length-1&&0!==f.length&&w.setAttribute("rowspan",2),M.appendChild(w)));0===parseInt(u)&&((w=document.createElement("th")).className="pvtTotalLabel pvtRowTotalLabel",w.innerHTML=i.localeStrings.totals,w.setAttribute("rowspan",s.length+(0===f.length?0:1)),M.appendChild(w)),x.appendChild(M)}if(0!==f.length){for(p in M=document.createElement("tr"),f)n.call(f,p)&&(d=f[p],(w=document.createElement("th")).className="pvtAxisLabel",w.textContent=d,M.appendChild(w));w=document.createElement("th"),0===s.length&&(w.className="pvtTotalLabel pvtRowTotalLabel",w.innerHTML=i.localeStrings.totals),M.appendChild(w),x.appendChild(M)}for(p in c.appendChild(x),v=document.createElement("tbody"),g)if(n.call(g,p)){for(u in y=g[p],M=document.createElement("tr"),y)n.call(y,u)&&(k=y[u],-1!==(C=m(g,parseInt(p),parseInt(u)))&&((w=document.createElement("th")).className="pvtRowLabel",w.textContent=k,w.setAttribute("rowspan",C),parseInt(u)===f.length-1&&0!==s.length&&w.setAttribute("colspan",2),M.appendChild(w)));for(u in h)n.call(h,u)&&(S=(o=e.getAggregator(y,a=h[u])).value(),(b=document.createElement("td")).className="pvtVal row"+p+" col"+u,b.textContent=o.format(S),b.setAttribute("data-value",S),null!=l&&(b.onclick=l(S,y,a)),M.appendChild(b));S=(_=e.getAggregator(y,[])).value(),(b=document.createElement("td")).className="pvtTotal rowTotal",b.textContent=_.format(S),b.setAttribute("data-value",S),null!=l&&(b.onclick=l(S,y,[])),b.setAttribute("data-for","row"+p),M.appendChild(b),v.appendChild(M)}for(u in M=document.createElement("tr"),(w=document.createElement("th")).className="pvtTotalLabel pvtColTotalLabel",w.innerHTML=i.localeStrings.totals,w.setAttribute("colspan",f.length+(0===s.length?0:1)),M.appendChild(w),h)n.call(h,u)&&(S=(_=e.getAggregator([],a=h[u])).value(),(b=document.createElement("td")).className="pvtTotal colTotal",b.textContent=_.format(S),b.setAttribute("data-value",S),null!=l&&(b.onclick=l(S,[],a)),b.setAttribute("data-for","col"+u),M.appendChild(b));return S=(_=e.getAggregator([],[])).value(),(b=document.createElement("td")).className="pvtGrandTotal",b.textContent=_.format(S),b.setAttribute("data-value",S),null!=l&&(b.onclick=l(S,[],[])),M.appendChild(b),v.appendChild(M),c.appendChild(v),c.setAttribute("data-numrows",g.length),c.setAttribute("data-numcols",h.length),c},t.fn.pivot=function(e,i,o){var n,s,h,l,p,u,c;null==o&&(o="en"),null==d[o]&&(o="en"),n={cols:[],rows:[],vals:[],rowOrder:"key_a_to_z",colOrder:"key_a_to_z",dataClass:r,filter:function(){return!0},aggregator:a.count()(),aggregatorName:"Count",sorters:{},derivedAttributes:{},renderer:g},h=t.extend(!0,{},d.en.localeStrings,d[o].localeStrings),l=t.extend(!0,{},{rendererOptions:{localeStrings:h},localeStrings:h},t.extend({},n,i)),u=null;try{p=new l.dataClass(e,l);try{u=l.renderer(p,l.rendererOptions)}catch(e){s=e,"undefined"!=typeof console&&null!==console&&console.error(s.stack),u=t("<span>").html(l.localeStrings.renderError)}}catch(e){s=e,"undefined"!=typeof console&&null!==console&&console.error(s.stack),u=t("<span>").html(l.localeStrings.computeError)}for(c=this[0];c.hasChildNodes();)c.removeChild(c.lastChild);return this.append(u)},t.fn.pivotUI=function(i,o,s,a){var h,l,p,c,y,g,m,v,b,w,x,_,M,k,S,C,E,T,P,A,O,D,I,R,N,L,j,F,z,B,q,H,U,W,G,Y,V,X,Z,K,J,$,Q,tt,et;null==s&&(s=!1),null==a&&(a="en"),null==d[a]&&(a="en"),v={derivedAttributes:{},aggregators:d[a].aggregators,renderers:d[a].renderers,hiddenAttributes:[],hiddenFromAggregators:[],hiddenFromDragDrop:[],menuLimit:500,cols:[],rows:[],vals:[],rowOrder:"key_a_to_z",colOrder:"key_a_to_z",dataClass:r,exclusions:{},inclusions:{},unusedAttrsVertical:85,autoSortUnusedAttrs:!1,onRefresh:null,filter:function(){return!0},sorters:{}},E={rendererOptions:{localeStrings:T=t.extend(!0,{},d.en.localeStrings,d[a].localeStrings)},localeStrings:T},b=this.data("pivotUIOptions"),D=null==b||s?t.extend(!0,{},E,t.extend({},v,o)):b;try{for(tt in y={},P=[],N=0,r.forEachRecord(i,D.derivedAttributes,function(t){var e,i,o,r;if(D.filter(t)){for(e in P.push(t),t)n.call(t,e)&&null==y[e]&&(y[e]={},N>0&&(y[e].null=N));for(e in y)r=null!=(o=t[e])?o:"null",null==(i=y[e])[r]&&(i[r]=0),y[e][r]++;return N++}}),K=t("<table>",{class:"pvtUi"}).attr("cellpadding",5),U=t("<td>"),H=t("<select>").addClass("pvtRenderer").appendTo(U).bind("change",function(){return B()}),L=D.renderers)n.call(L,tt)&&t("<option>").val(tt).html(tt).appendTo(H);if(J=t("<td>").addClass("pvtAxisContainer pvtUnused"),G=function(){var t;for(h in t=[],y)e.call(D.hiddenAttributes,h)<0&&t.push(h);return t}(),Y=function(){var t,i,o;for(o=[],t=0,i=G.length;t<i;t++)e.call(D.hiddenFromAggregators,g=G[t])<0&&o.push(g);return o}(),V=function(){var t,i,o;for(o=[],t=0,i=G.length;t<i;t++)e.call(D.hiddenFromDragDrop,g=G[t])<0&&o.push(g);return o}(),Q=!1,$="auto"===D.unusedAttrsVertical?120:parseInt(D.unusedAttrsVertical),!isNaN($)){for(c=0,M=0,k=V.length;M<k;M++)c+=(h=V[M]).length;Q=c>$}for(x in J.addClass(!0===D.unusedAttrsVertical||Q?"pvtVertList":"pvtHorizList"),w=function(i){var o,n,r,s,a,h,l,p,d,c,f,g,m,v,b,w,_,M,k;if(k=function(){var t;for(b in t=[],y[i])t.push(b);return t}(),p=!1,(M=t("<div>").addClass("pvtFilterBox").hide()).append(t("<h4>").append(t("<span>").text(i),t("<span>").addClass("count").text("("+k.length+")"))),k.length>D.menuLimit)M.append(t("<p>").html(D.localeStrings.tooMany));else for(k.length>5&&(s=t("<p>").appendTo(M),m=u(D.sorters,i),f=D.localeStrings.filterResults,t("<input>",{type:"text"}).appendTo(s).attr({placeholder:f,class:"pvtSearch"}).bind("keyup",function(){var i,o,n;return n=t(this).val().toLowerCase().trim(),o=function(t,i){return function(o){var r,s;return 0===(r=n.substring(t.length).trim()).length||(s=Math.sign(m(o.toLowerCase(),r)),e.call(i,s)>=0)}},i=0===n.indexOf(">=")?o(">=",[1,0]):0===n.indexOf("<=")?o("<=",[-1,0]):0===n.indexOf(">")?o(">",[1]):0===n.indexOf("<")?o("<",[-1]):0===n.indexOf("~")?function(t){return 0===n.substring(1).trim().length||t.toLowerCase().match(n.substring(1))}:function(t){return-1!==t.toLowerCase().indexOf(n)},M.find(".pvtCheckContainer p label span.value").each(function(){return i(t(this).text())?t(this).parent().parent().show():t(this).parent().parent().hide()})}),s.append(t("<br>")),t("<button>",{type:"button"}).appendTo(s).html(D.localeStrings.selectAll).bind("click",function(){return M.find("input:visible:not(:checked)").prop("checked",!0).toggleClass("changed"),!1}),t("<button>",{type:"button"}).appendTo(s).html(D.localeStrings.selectNone).bind("click",function(){return M.find("input:visible:checked").prop("checked",!1).toggleClass("changed"),!1})),n=t("<div>").addClass("pvtCheckContainer").appendTo(M),c=0,d=(g=k.sort(u(D.sorters,i))).length;c<d;c++)_=y[i][w=g[c]],a=t("<label>"),h=!1,D.inclusions[i]?h=e.call(D.inclusions[i],w)<0:D.exclusions[i]&&(h=e.call(D.exclusions[i],w)>=0),p||(p=h),t("<input>").attr("type","checkbox").addClass("pvtFilter").attr("checked",!h).data("filter",[i,w]).appendTo(a).bind("change",function(){return t(this).toggleClass("changed")}),a.append(t("<span>").addClass("value").text(w)),a.append(t("<span>").addClass("count").text("("+_+")")),n.append(t("<p>").append(a));return r=function(){return M.find("[type='checkbox']").length>M.find("[type='checkbox']:checked").length?o.addClass("pvtFilteredAttribute"):o.removeClass("pvtFilteredAttribute"),M.find(".pvtSearch").val(""),M.find(".pvtCheckContainer p").show(),M.hide()},l=t("<p>").appendTo(M),k.length<=D.menuLimit&&t("<button>",{type:"button"}).text(D.localeStrings.apply).appendTo(l).bind("click",function(){return M.find(".changed").removeClass("changed").length&&B(),r()}),t("<button>",{type:"button"}).text(D.localeStrings.cancel).appendTo(l).bind("click",function(){return M.find(".changed:checked").removeClass("changed").prop("checked",!1),M.find(".changed:not(:checked)").removeClass("changed").prop("checked",!0),r()}),v=t("<span>").addClass("pvtTriangle").html(" &#x25BE;").bind("click",function(e){var i;return i=t(e.currentTarget).position(),M.css({left:i.left+10,top:i.top+10}).show()}),o=t("<li>").addClass("axis_"+x).append(t("<span>").addClass("pvtAttr").text(i).data("attrName",i).append(v)),p&&o.addClass("pvtFilteredAttribute"),J.append(o).append(M)},V)n.call(V,x)&&w(p=V[x]);for(tt in X=t("<tr>").appendTo(K),l=t("<select>").addClass("pvtAggregator").bind("change",function(){return B()}),j=D.aggregators)n.call(j,tt)&&l.append(t("<option>").val(tt).html(tt));for(I={key_a_to_z:{rowSymbol:"&varr;",colSymbol:"&harr;",next:"value_a_to_z"},value_a_to_z:{rowSymbol:"&darr;",colSymbol:"&rarr;",next:"value_z_to_a"},value_z_to_a:{rowSymbol:"&uarr;",colSymbol:"&larr;",next:"key_a_to_z"}},W=t("<a>",{role:"button"}).addClass("pvtRowOrder").data("order",D.rowOrder).html(I[D.rowOrder].rowSymbol).bind("click",function(){return t(this).data("order",I[t(this).data("order")].next),t(this).html(I[t(this).data("order")].rowSymbol),B()}),m=t("<a>",{role:"button"}).addClass("pvtColOrder").data("order",D.colOrder).html(I[D.colOrder].colSymbol).bind("click",function(){return t(this).data("order",I[t(this).data("order")].next),t(this).html(I[t(this).data("order")].colSymbol),B()}),t("<td>").addClass("pvtVals").appendTo(X).append(l).append(W).append(m).append(t("<br>")),t("<td>").addClass("pvtAxisContainer pvtHorizList pvtCols").appendTo(X),(Z=t("<tr>").appendTo(K)).append(t("<td>").addClass("pvtAxisContainer pvtRows").attr("valign","top")),R=t("<td>").attr("valign","top").addClass("pvtRendererArea").appendTo(Z),!0===D.unusedAttrsVertical||Q?(K.find("tr:nth-child(1)").prepend(U),K.find("tr:nth-child(2)").prepend(J)):K.prepend(t("<tr>").append(U).append(J)),this.html(K),A=0,S=(F=D.cols).length;A<S;A++)tt=F[A],this.find(".pvtCols").append(this.find(".axis_"+t.inArray(tt,V)));for(O=0,C=(z=D.rows).length;O<C;O++)tt=z[O],this.find(".pvtRows").append(this.find(".axis_"+t.inArray(tt,V)));null!=D.aggregatorName&&this.find(".pvtAggregator").val(D.aggregatorName),null!=D.rendererName&&this.find(".pvtRenderer").val(D.rendererName),_=!0,et=this,q=function(){var i,o,n,r,s,a,h,u,d,c,y,g,v,b;if(c={derivedAttributes:D.derivedAttributes,localeStrings:D.localeStrings,rendererOptions:D.rendererOptions,sorters:D.sorters,cols:[],rows:[],dataClass:D.dataClass},s=null!=(u=D.aggregators[l.val()]([])().numInputs)?u:0,b=[],et.find(".pvtRows li span.pvtAttr").each(function(){return c.rows.push(t(this).data("attrName"))}),et.find(".pvtCols li span.pvtAttr").each(function(){return c.cols.push(t(this).data("attrName"))}),et.find(".pvtVals select.pvtAttrDropdown").each(function(){return 0===s?t(this).remove():(s--,""!==t(this).val()?b.push(t(this).val()):void 0)}),0!==s)for(h=et.find(".pvtVals"),tt=y=0,d=s;0<=d?y<d:y>d;tt=0<=d?++y:--y){for(r=t("<select>").addClass("pvtAttrDropdown").append(t("<option>")).bind("change",function(){return B()}),g=0,n=Y.length;g<n;g++)p=Y[g],r.append(t("<option>").val(p).text(p));h.append(r)}if(_&&(b=D.vals,x=0,et.find(".pvtVals select.pvtAttrDropdown").each(function(){return t(this).val(b[x]),x++}),_=!1),c.aggregatorName=l.val(),c.vals=b,c.aggregator=D.aggregators[l.val()](b),c.renderer=D.renderers[H.val()],c.rowOrder=W.data("order"),c.colOrder=m.data("order"),i={},et.find("input.pvtFilter").not(":checked").each(function(){var e;return e=t(this).data("filter"),null!=i[e[0]]?i[e[0]].push(e[1]):i[e[0]]=[e[1]]}),o={},et.find("input.pvtFilter:checked").each(function(){var e;if(e=t(this).data("filter"),null!=i[e[0]])return null!=o[e[0]]?o[e[0]].push(e[1]):o[e[0]]=[e[1]]}),c.filter=function(t){var o,n,r;if(!D.filter(t))return!1;for(o in i)if(n=""+(null!=(r=t[o])?r:"null"),e.call(i[o],n)>=0)return!1;return!0},R.pivot(P,c),a=t.extend({},D,{cols:c.cols,rows:c.rows,colOrder:c.colOrder,rowOrder:c.rowOrder,vals:b,exclusions:i,inclusions:o,inclusionsInfo:o,aggregatorName:l.val(),rendererName:H.val()}),et.data("pivotUIOptions",a),D.autoSortUnusedAttrs&&(v=et.find("td.pvtUnused.pvtAxisContainer"),t(v).children("li").sort(function(e,i){return f(t(e).text(),t(i).text())}).appendTo(v)),R.css("opacity",1),null!=D.onRefresh)return D.onRefresh(a)},(B=function(){return R.css("opacity",.5),setTimeout(q,10)})(),this.find(".pvtAxisContainer").sortable({update:function(t,e){if(null==e.sender)return B()},connectWith:this.find(".pvtAxisContainer"),items:"li",placeholder:"pvtPlaceholder"})}catch(t){"undefined"!=typeof console&&null!==console&&console.error(t.stack),this.html(D.localeStrings.uiRenderError)}return this},t.fn.heatmap=function(e,i){var o,n,r,s,a,h,l,p,u,d,c,f;switch(null==e&&(e="heatmap"),p=this.data("numrows"),l=this.data("numcols"),null==(o=null!=i&&null!=(u=i.heatmap)?u.colorScaleGenerator:void 0)&&(o=function(t){var e,i;return i=Math.min.apply(Math,t),e=Math.max.apply(Math,t),function(t){var o;return"rgb(255,"+(o=255-Math.round(255*(t-i)/(e-i)))+","+o+")"}}),f=this,n=function(e){var i,n,r;return r=[],(n=function(i){return f.find(e).each(function(){var e;if(null!=(e=t(this).data("value"))&&isFinite(e))return i(e,t(this))})})(function(t){return r.push(t)}),i=o(r),n(function(t,e){return e.css("background-color",i(t))})},e){case"heatmap":n(".pvtVal");break;case"rowheatmap":for(r=a=0,d=p;0<=d?a<d:a>d;r=0<=d?++a:--a)n(".pvtVal.row"+r);break;case"colheatmap":for(s=h=0,c=l;0<=c?h<c:h>c;s=0<=c?++h:--h)n(".pvtVal.col"+s)}return n(".pvtTotal.rowTotal"),n(".pvtTotal.colTotal"),this},t.fn.barchart=function(e){var i,o,n,r,s,a;for(r=this.data("numrows"),this.data("numcols"),a=this,i=function(e){var i,o,n,r,s,h;return h=[],(i=function(i){return a.find(e).each(function(){var e;if(null!=(e=t(this).data("value"))&&isFinite(e))return i(e,t(this))})})(function(t){return h.push(t)}),(o=Math.max.apply(Math,h))<0&&(o=0),r=o,(n=Math.min.apply(Math,h))<0&&(r=o-n),s=function(t){return 100*t/(1.4*r)},i(function(e,i){var o,r,a,h;return a=i.text(),h=t("<div>").css({position:"relative",height:"55px"}),r="gray",o=0,n<0&&(o=s(-n)),e<0&&(o+=s(e),r="darkred",e=-e),h.append(t("<div>").css({position:"absolute",bottom:o+"%",left:0,right:0,height:s(e)+"%","background-color":r})),h.append(t("<div>").text(a).css({position:"relative","padding-left":"5px","padding-right":"5px"})),i.css({padding:0,"padding-top":"5px","text-align":"center"}).html(h)})},o=n=0,s=r;0<=s?n<s:n>s;o=0<=s?++n:--n)i(".pvtVal.row"+o);return i(".pvtTotal.colTotal"),this}},"object"==typeof exports&&"object"==typeof module?t(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}).call(this);